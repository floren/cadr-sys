29-Nov-82 19:53:37-EST,399;000000000000
Mail-From: ALR created at 29-Nov-82 19:51:27
Date: Monday, 29 November 1982  19:51-EST
Sender: ALR at MIT-OZ
From: ALR at MIT-MC
To:   bug-lispm at MIT-OZ


When you are using the two window mode in ZMACS,
if you execute Ctrl-1 Ctrl-X to go back to one window mode,
it should select the buffer which is currently selected.
Currently it just selects the buffer which is in the top window.
29-Nov-82 20:29:36-EST,569;000000000000
Date: Monday, 29 November 1982  20:10-EST
From: MOON at SCRC-TENEX
To:   Robert P. Krajewski <RPK at MIT-OZ>
Cc:   BUG-FILE at MIT-OZ, BUG-LISPM at MIT-OZ
Subject: Renaming files
In-reply-to: The message of 29 Nov 1982 18:14-EST from Robert P. Krajewski <RPK at MIT-OZ>

I couldn't reproduce the problem using system 222 and OZ:<RPK.MAIL>CC.XMAIL.
The rename went through and everything worked correctly.  So I guess it isn't
solely attributable to the file server.

It's conceivable that I clobbered your CC-MAIL.TXT, in which case I apologize
profusely.
29-Nov-82 20:35:49-EST,558;000000000000
Date: Monday, 29 November 1982, 20:28-EST
From: Pace Willisson <pace at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
ZMail 47.13, microcode 187, Hit me, on Arthur Dent:

When I say "(apropos 'blt ':package 'si)" the system gets a trap and says:

>>>>TRAP 16351 (TRANS-TRAP)
The word #<DTP-TRAP 1> was read from location 1763033 (in CONTROL-TABLES).
While in the function STRING  STRING-SEARCH  SI:APROPOS-1

Is this type of bug worth reporting.  What does it mean anyway?

Pace
29-Nov-82 20:49:09-EST,571;000000000000
Date: Monday, 29 November 1982, 20:42-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: converse problems
To: ZVONA at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 29 Nov 82 14:52-EST from ZVONA at MIT-MC

    Date: Monday, 29 November 1982  14:52-EST
    From: ZVONA at MIT-MC
    Well, she was running SEND, and it claimed it had successfully sent
    the message.  Should I bug Gren?
Yeah, I think so.  Perhaps it's not waiting for the packets to be
acked before it closes, or something.  I do suspect that it's the
fault of SEND.
29-Nov-82 21:19:08-EST,720;000000000000
Date: Monday, 29 November 1982, 21:18-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
ZMail 47.13, microcode 183, lsb, on Lisp Machine Nineteen:

Converse doesn't seem to be using the value of text-mode-hook or mail-mode-hook
in getting set up.  Both of these set auto fill mode for me, and when I go into
Converse, it's not set.  This may just be a badly-built or dumped Converse, but
I can't tell.  Someone with a fairly fresh 89 or 91 should find out if it does
this all the time.

And -- why does Converse have to beep at me 3 times when I am in Zwei?  I would
think that twice would be more than enough.
29-Nov-82 21:45:57-EST,629;000000000000
Date: Monday, 29 November 1982, 21:38-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Set Comment Column
To: PGS at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 29 Nov 82 14:55-EST from PGS at MIT-MC

    Date: Monday, 29 November 1982  14:55-EST
    From: PGS at MIT-MC
    going to window B and then back to window A to change Comment Column to
    something different than what it was originally, which is what happens to me.
OK, I guess all this means is that systems 89 and 222 behave differently
in this case.  In 222, it's just a global mode, and window switching has
no effect on it.
29-Nov-82 22:27:28-EST,613;000000000000
Date: Monday, 29 November 1982  22:09-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   BUG-LISPM at MIT-EECS
Subject: (BREAKON)
In-reply-to: The message of 28 Nov 1982 19:23-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 28 November 1982, 19:23-EST
    From: David Chapman <Zvona at MIT-OZ>

    It would be useful if (breakon) told you what functions were broken on,
    the way (trace) tells you what is traced.

Fixed in the source, since it was so easy, but in the meantime (possibly
a long time) you can try to remember the variable dbg:breakon-functions.
29-Nov-82 22:32:25-EST,695;000000000000
Date: Monday, 29 November 1982  22:13-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 28 Nov 1982 16:48-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 28 November 1982, 16:48-EST
    From: David Chapman <Zvona at MIT-OZ>

    (defflavor cm-cons (car cdr) nil
      :gettable-instance-variables)
     
    (defmethod (cm-cons :print-self) (stream ignore ignore)
      (format stream "{~s . ~s}" car cdr))

    (make-instance 'cm-cons)

    gets recursive instance variable unbound errors.

This was fixed a while back.  Your test case works correctly in 222, which
you will get this week.
30-Nov-82 02:41:52-EST,826;000000000000
Date: Tuesday, 30 November 1982, 02:35-EST
From:  <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.4,
Experimental ZMail 48.1, microcode 204, ., on Lisp Machine Thirty:

Say, if 91 has a nifty feature whereby error messages can be yanked into your
edit buffer, how does one invoke it?

When I try to M-. FS:LOGIN-HOST-UNIT to debug another bug, I get a message in
the echo area saying, "FS:LOGIN-HOST-UNIT also defined by ...", and then the
runstate becomes "Lock", and it never comes back.  C-M-Break shows that it is
in the middle of a VALIDATE-CONTROL-CONNECTION, but it never times out, even
though I tried going for a cup of coffee.

This is -- how you say in your country?  Discouraging.
30-Nov-82 02:43:13-EST,1310;000000000000
Date: Tuesday, 30 November 1982, 02:19-EST
From:  <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.4,
Experimental ZMail 48.1, microcode 204, ., on Lisp Machine Thirty:

Bootstrapping should be made easier.  I tried bringing up a 91 on this
machine, which is a new host, so the load didn't have it in the host tables
yet.  It broke in PRINT-HERALD, because it couldn't find an associated
machine for this one in the configuration info, which isn't surprising, since
this one isn't in the configuration info in that band.  It broke trying to
funcall NIL, because that is what SI:ASSOCIATED-MACHINE had been set to, and
it was trying to get its NAME-AS-FILE-COMPUTER.  There should be a default
associated machine in the MIT site files so PRINT-HERALD (and other things)
don't blow out so grotesquely on booting a new machine.  I had to hand-set
SI:ASSOCIATED-MACHINE to get the new site info.

The new debugger offered me a number of commands for debugging this error,
but none of them would just return me to toplevel.  I then tried ABORT and
C-ABORT, and ^Z and ^G and just about everything, and I couldn't get to
toplevel.  This didn't seem to happen in any other error.
30-Nov-82 02:44:11-EST,508;000000000000
Date: Tuesday, 30 November 1982, 02:22-EST
From:  <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.4,
Experimental ZMail 48.1, microcode 204, ., on Lisp Machine Thirty:

I can't really log in right now, because loggin in breaks in
FS:LOGIN-HOST-UNIT, with FS:FILE-PROCESS-ERROR-NEW being called with only one
argument.  I've tried giving it more args and I get the same error again.
30-Nov-82 03:55:14-EST,756;000000000000
Date: Tuesday, 30 November 1982, 03:49-EST
From: Vinayak Wallace <Gumby at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
ZMail 47.13, microcode 201,  , on Lisp Machine Nine:

(format t "~c" #\control-hand-right)  c-HAND-RIGHT
(format t "~c" #\hand-right)  

(format t "~:c" #\hand-right)  Hand-right
(format t "~:c" #\hand-right)  Control-Hand-right

What I want is:

(format t "~c" #\control-hand-right)  c-Hand-right
(format t "~c" #\hand-right)  Hand-right

Also, while sending this bug report. I generated the typeouts with
EXECUTE COMMAND INTO BUFFER. Each time it bombed out redisplaying with
the error "Recenter-type POINT left point outside window."

david
30-Nov-82 05:57:13-EST,1510;000000000000
Date: Tuesday, 30 November 1982, 05:51-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: OZ vs. users
To: Patrick Sobalvarro <PGS at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ, BUG-FILE-SERVER at MIT-OZ
In-reply-to: The message of 29 Nov 82 18:14-EST from Patrick Sobalvarro <PGS at MIT-OZ>
Subject: OZ vs. users

    Date: Monday, 29 November 1982, 18:14-EST
    From: Patrick Sobalvarro <PGS at MIT-OZ>
    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
    ZMail 47.13, microcode 183, lsb, on Lisp Machine Nineteen:

    I tried copying a file from Zwei by doing M-X Copy File.  The arguments I gave
    were PGS.BABYL and BREAK.ZMAIL .  I got an error that said something like
    I120 FNF No such generation number?
    I imagine it was doing something stupid because the file BREAK.ZMAIL didn't
    exist already.  The Lisp Machine and this file server seems to be conspiring to
    keep people from getting work done.

    I wanted to copy the file in the first place because my Babyl file seems to
    have confused Zmail.  It does not divide it into messages; instead, it shows me
    the whole thing.  If I move around, however, it redisplays and does the right
    thing (move around here means type 5 spaces and 5 M-Vs).  The file is
    OZ:PS:<PGS>BREAK.ZMAIL.
The file looks OK to me, and reads fine into Zmail in 222.
Perhaps the file server dropped the header of the file?
That should confuse Zmail sufficiently about what kind
of file it had.
30-Nov-82 06:07:14-EST,735;000000000000
Date: Tuesday, 30 November 1982, 06:01-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: c-X c-1
To: ALR at MIT-MC
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 29 Nov 82 19:51-EST from ALR at MIT-MC
Subject: c-X c-1

    Date: Monday, 29 November 1982  19:51-EST
    From: ALR at MIT-MC
    When you are using the two window mode in ZMACS,
    if you execute Ctrl-1 Ctrl-X to go back to one window mode,
    it should select the buffer which is currently selected.
    Currently it just selects the buffer which is in the top window.
Please use (BUG), m-X Bug, or (Mouse-M)[Mail] in Zmail to report bugs,
so that the system version is included.

In any event, this is fixed in all recent Brand S systems.
30-Nov-82 06:32:32-EST,970;000000000000
Date: Tuesday, 30 November 1982, 06:26-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Arthur Dent Don't
To: Pace Willisson <pace at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 29 Nov 82 20:28-EST from Pace Willisson <pace at MIT-OZ>
Subject: Arthur Dent Don't

    Date: Monday, 29 November 1982, 20:28-EST
    From: Pace Willisson <pace at MIT-OZ>
    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
    ZMail 47.13, microcode 187, Hit me, on Arthur Dent:

    When I say "(apropos 'blt ':package 'si)" the system gets a trap and says:

    >>>>TRAP 16351 (TRANS-TRAP)
    The word #<DTP-TRAP 1> was read from location 1763033 (in CONTROL-TABLES).
    While in the function STRING  STRING-SEARCH  SI:APROPOS-1

    Is this type of bug worth reporting.  What does it mean anyway?

    Pace
I believe it means you're using the broken machine at EE.
It's too bad nobody maintains the LM's at EE.
30-Nov-82 07:20:25-EST,936;000000000000
Date: Tuesday, 30 November 1982, 06:42-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Set Comment Column
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: PGS at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 29 Nov 82 21:38-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Set Comment Column

    Date: Monday, 29 November 1982, 21:38-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	Date: Monday, 29 November 1982  14:55-EST
	From: PGS at MIT-MC
	going to window B and then back to window A to change Comment Column to
	something different than what it was originally, which is what happens to me.
    OK, I guess all this means is that systems 89 and 222 behave differently
    in this case.  In 222, it's just a global mode, and window switching has
    no effect on it.
Right.  Our software USED to behave that way.  The current way
is a small improvement.  ** IT IS STILL VERY WRONG **.
30-Nov-82 12:33:55-EST,1804;000000000000
Date: Tuesday, 30 November 1982, 12:07-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: probing all the file servers?
To: BUG-LISPM at MIT-MC

In Experimental System 218.154, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

When in Zmail,  I hit right button on Select File.  The
following error state was reached because XX was not up.
Why did this occur since the mail file that I wanted
to select is on OZ?

>>Error: MIT-XX not responding to a FILE 1 request
While in the function CHAOS:CONNECT  (METHOD FS:HOST-UNIT VALIDATE-CONTROL-CONNECTION)  (METHOD FS:FILE-HOST-MIXIN GET-HOST-UNIT)



CHAOS:CONNECT: (P.C. = 265)
 Arg 0 (ADDRESS): #<TOPS20-CHAOS-HOST MIT-XX>
 Arg 1 (CONTACT-NAME): "FILE 1"
 Arg 2 (WINDOW-SIZE): 5.
   --Defaulted args:--
 Arg 3 (TIMEOUT): 600.
 Local 0 (CONN): #<CHAOS Connection for FILE 1 to XX 2214317>
 Local 1 (REAL-ADDRESS): 1296.
 Local 2 (TRY): 1.
 Local 3: ("Retry connection to ~A at ~S with longer timeout" #<TOPS20-CHAOS-HOST MIT-XX> "FILE 1")
 Local 4: (#<ERROR-RESTART-HANDLER 26516064> #<DTP-LOCATIVE 20235443> #<DTP-LOCATIVE 11003337>)
 Local 5 (.SELECTQ-ITEM.): CHAOS:RFC-SENT-STATE
 Local 6 (PKT): NIL
 Local 7 (STR): NIL


CHAOS:CONNECT:  (P.C. = 265)
   Arg 0 (ADDRESS): #<TOPS20-CHAOS-HOST MIT-XX>
   Arg 1 (CONTACT-NAME): "FILE 1"
   Arg 2 (WINDOW-SIZE): 5.
   --Defaulted args:--
   Arg 3 (TIMEOUT): 600.

(METHOD FS:HOST-UNIT VALIDATE-CONTROL-CONNECTION):  (P.C. = 171)
   (SELF = #<HOST-UNIT 26611606>)
   Arg 0 (OPERATION): VALIDATE-CONTROL-CONNECTION
   --Defaulted args:--
   Arg 1 (NO-ERROR-P): NIL

(METHOD FS:FILE-HOST-MIXIN GET-HOST-UNIT):  (P.C. = 55)
   (SELF = #<TOPS20-CHAOS-HOST MIT-XX>)
   Arg 0 (OPERATION): GET-HOST-UNIT
30-Nov-82 14:41:16-EST,1141;000000000000
Mail-From: ZVONA created at 30-Nov-82 14:35:47
Date: Tuesday, 30 November 1982  14:35-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-lispm at MIT-OZ
Subject: mapping functions
In-reply-to: The message of 29 Nov 1982 09:30-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 29 November 1982, 09:30-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    To:   Zvona, BUG-lispm
    Re:   mapping functions

        Date: Sunday, 28 November 1982, 17:13-EST
        From: David Chapman <Zvona at MIT-OZ>
        To: BUG-lispm at MIT-OZ

        In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
        LGP 20.4, microcode 963, site configuration 28, needs new site info, 
        on Lisp Machine Twenty-two:

        Mapping functions aren't open coded (when compiled from the editor, at
        least).
    Works for me.  Test case, please?

In the editor, 

(defun foo () (mapc #'car nil))

c-sh-C

(disassemble 'foo)

22 CALL D-RETURN FEF|6        ;#'MAPC
23 MOVE D-PDL FEF|7           ;#'CAR
24 MOVE D-LAST 'NIL
30-Nov-82 15:37:54-EST,1798;000000000000
Date: Tuesday, 30 November 1982, 15:34-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ, bug-file at MIT-OZ

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, FPS, on Lisp Machine Six:

Here is an excitingly new and different mode of file server lossage.

>>Error: Data packet being discarded because channel not active
For OZ:PS:<ZVONA.STUFF>GROUPS.PHOTO
While in the function (DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK)  (DEFUN-METHOD FS:FILE-PROCESS-OUTPUT-ASYNC-MARK)  (METHOD FS:FILE-OUTPUT-STREAM-MIXIN SEND-OUTPUT-BUFFER)



(DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK): (P.C. = 63)
 (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<ZVONA.STUFF>GROUPS.PHOTO" 27365133>)
 Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 14661325>
 Arg 1 (PKT): #<CHAOS Packet 23312002>
 Local 0 (STRING): "O1916 ERROR BUG F Data packet being discarded because channel not active"


(DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK):  (P.C. = 63)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<ZVONA.STUFF>GROUPS.PHOTO" 27365133>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 14661325>
   Arg 1 (PKT): #<CHAOS Packet 23312002>

(DEFUN-METHOD FS:FILE-PROCESS-OUTPUT-ASYNC-MARK):  (P.C. = 70)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<ZVONA.STUFF>GROUPS.PHOTO" 27365133>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-OUTPUT-STREAM-MIXIN -- 6. IV's, 1. FL's 14661303>

(METHOD FS:FILE-OUTPUT-STREAM-MIXIN SEND-OUTPUT-BUFFER):  (P.C. = 117)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<ZVONA.STUFF>GROUPS.PHOTO" 27365133>)
   Arg 0 (OPERATION): SEND-OUTPUT-BUFFER
   Rest arg (ARGS): ("" 750)
30-Nov-82 16:41:37-EST,1359;000000000000
Mail-From: HDT created at 30-Nov-82 16:39:27
Date: 30 November 1982  16:39-EST (Tuesday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   <PGS at MIT-OZ>
cc:   bug-lispm at MIT-OZ
In-reply-to: The message of 30 Nov 1982 02:35-EST from <PGS at MIT-OZ>

    Date: Tuesday, 30 November 1982, 02:35-EST
    From:  <PGS at MIT-OZ>
    To:   BUG-LISPM at MIT-OZ

    In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
    Experimental MIT-Specific 16.0, Experimental System 91.4,
    Experimental ZMail 48.1, microcode 204, ., on Lisp Machine Thirty:

    Say, if 91 has a nifty feature whereby error messages can be yanked into your
    edit buffer, how does one invoke it?

I'm pretty control-M in the debugger will work.

    When I try to M-. FS:LOGIN-HOST-UNIT to debug another bug, I get a message in
    the echo area saying, "FS:LOGIN-HOST-UNIT also defined by ...", and then the
    runstate becomes "Lock", and it never comes back.  C-M-Break shows that it is
    in the middle of a VALIDATE-CONTROL-CONNECTION, but it never times out, even
    though I tried going for a cup of coffee.

    This is -- how you say in your country?  Discouraging.

Try loading patches and dumping out a new 91.  In anycase the current fix for
trying to login is to hit resume and give nil a few times.  
30-Nov-82 17:15:46-EST,1347;000000000000
Date: Tuesday, 30 November 1982  15:55-EST
From: MOON at SCRC-TENEX
To:   Carl Hewitt <Hewitt at MIT-OZ>
Cc:   BUG-LISPM at MIT-MC
Subject: probing all the file servers?
In-reply-to: The message of 30 Nov 1982 12:07-EST from Carl Hewitt <Hewitt at MIT-OZ>

    Date: Tuesday, 30 November 1982, 12:07-EST
    From: Carl Hewitt <Hewitt at MIT-OZ>

    In Experimental System 218.154, Zmail 65.41, LMFS 28.38, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

    When in Zmail,  I hit right button on Select File.  The
    following error state was reached because XX was not up.
    Why did this occur since the mail file that I wanted
    to select is on OZ?

    >>Error: MIT-XX not responding to a FILE 1 request

The same thing exactly happened to me yesterday, except it was 222 instead
of 218 and MC instead of XX.  One of my mail files (known about in my
profile) is on MC.  Do you have a mail file on XX?

I was busy and didn't track it down, but it's rather likely that it was
trying to connect to those machines to find out what our home directory
on them was.  If it really does need to know the home directory there is
no way to find it without asking the machine, at least for some hosts.
Of course it shouldn't really have needed to know it in these circumstances.
30-Nov-82 17:16:57-EST,611;000000000000
Date: Tuesday, 30 November 1982, 13:33-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: probing all the file servers?
To: Hewitt at MIT-OZ, BUG-LISPM at MIT-MC
In-reply-to: The message of 30 Nov 82 12:07-EST from Carl Hewitt <Hewitt at MIT-OZ>

(Hey folks, we really have to make the backtrace in the c-M command
longer.  Maybe we should put in a c-B-style short backtrace of the whole
stack?)

Carl, it's hard to tell why it tried to connect to XX from the
information that c-M sent us.  Perhaps your Zmail init file is on XX, or
something like that?  Were you logged into XX at the time?
30-Nov-82 18:45:21-EST,1409;000000000000
Mail-From: PGS created at 30-Nov-82 18:36:53
Date: Tuesday, 30 November 1982  18:36-EST
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   hdt at MIT-OZ
cc:   bug-lispm at MIT-OZ
In-reply-to: The message of 30 Nov 1982  16:39-EST from Howard D. Trachtman <HDT at MIT-MC>

    Date: 30 November 1982  16:39-EST (Tuesday)
    From: Howard D. Trachtman <HDT at MIT-MC>

	Date: Tuesday, 30 November 1982, 02:35-EST
	From:  <PGS at MIT-OZ>

	In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
	Experimental MIT-Specific 16.0, Experimental System 91.4,
	Experimental ZMail 48.1, microcode 204, ., on Lisp Machine Thirty:

	When I try to M-. FS:LOGIN-HOST-UNIT to debug another bug, I get a message in
	the echo area saying, "FS:LOGIN-HOST-UNIT also defined by ...", and then the
	runstate becomes "Lock", and it never comes back.  C-M-Break shows that it is
	in the middle of a VALIDATE-CONTROL-CONNECTION, but it never times out, even
	though I tried going for a cup of coffee.

	This is -- how you say in your country?  Discouraging.

    Try loading patches and dumping out a new 91.

I had already loaded patches, of course.  My message says that this is a bug
in system 91.4.  There haven't been any patches since 91.4.  Maybe you should
check on these things before sending me silly messages that cause me to waste
time booting up a 91 and trying to load patches.
30-Nov-82 21:00:05-EST,413;000000000000
Date: Tuesday, 30 November 1982, 20:44-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: probing all the file servers?
To: Daniel L. Weinreb <dlw at SCRC-TENEX>, Hewitt at MIT-OZ,
    BUG-LISPM at MIT-MC
Cc: Hewitt at MIT-OZ
In-reply-to: The message of 30 Nov 82 13:33-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

I don't think I was logged into XX at the time.  My
Zmail init file is on OZ.

Carl
30-Nov-82 22:14:26-EST,298;000000000000
Date: Tuesday, 30 November 1982, 22:09-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Errors in receiving messages
To: bug-lispm at MIT-OZ, dph at MIT-OZ, zvona at MIT-OZ

In system 87/89, it manages to give you the message anyway (what there
is of it) if the connection is dropped.
 1-Dec-82 00:40:51-EST,11456;000000000000
Date: Tuesday, 30 November 1982, 23:47-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
Subject: Many things: see the first few lines of text (VERY long)
To: BUG-LISPM at MIT-OZ

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3, On
11/27/82, LGP 20.4, microcode 963, site configuration 27, JSMiller, on
Lisp Machine Two:

Some of these may not really be bugs, but just things that aren't 
documented.   Many of them are potential features. Some of these are
also NES bugs; should I have sent them to BUG-NES?

I've tried to put a * near those bugs which I'm pretty sure are 218 only.
I've also numbered my comments, to ease replies, and but the order
really doen't mean anything. 

Some of the "bugs" have been omitted, as there is reason to believe
that some of you wouldn't want hear about them.  There still may be
complaints that really shouldn't be here, please flame to me
personally if so;and I won't repeat the same sort of mistakes.

1)	Is there anyway to get control-M in the debugger to put more of
a backtrace into the Bug report?  I found that selecting my lisp
listener after doing a control-m caused some "wierd" things to happen.
[Also, unfortunately there's seems to be no easy way to do the
equivalent sort of thing with dribble-start, as it rebinds some streams,
and gets out of the debugger].  I seem to remember seeing something like
this in bug-lispm a while ago, but don't know of the resolution.

3)*	Terminal-Control-Help in the debugger claims that by
giving an argument to c-m-b that I can say how many
layers to backtrace.  Fine, but how do I give an
argument?  Its not in that documentation.  

4)	It might be nice if there was someway without going into peek or
clicking on select window, so that one could easily see how to get to
another window by typing terminal-foo-s.  Something like terminal-status
could do this (this is consistant with terminal keys only talking about
windows, and what just plain status does).

5)*	Control-shift-D in the alternate rubout handler.
	It would be nice if this would the show the documentation or a
	function.  (By the way, I couldn't find a documentation	function). 

6)	Something in the RH to get at the documentation of a variable
	would be useful.  Unfortunately, many of the times you would try
	to use this, you would have do something to signify the
	that the variable is complete, and will lose.  One gross kludge
	would be to also check to documention of the variable with
	and extra * at the end in the case where the variable couldn't
        be found.

7)*	Control-shift-A in the alternate RH (and in c-sh-D if its done)
	shouldn't lose if the function is in a package other	
	than global or user).


9)	Maybe typing a super key in the RH should say something
	like Attempt to use a debugger command while not in
	the debugger, would you like to enter the debugger?


11)*	It might be helpful if there was someway to call mail
	from a Lisp Listener and not have to enter ZWEI just
	to hit the #\end key.

12)	This brings up the point of whether or not there should
	be a way in the lambda list of a function to state that the 
	arguments of a function should be in a different order depending
	on the number of arguments.   This "feature" clearly can lead
	to potential lossage, but perhaps this won't be as bad as the
	lossage caused by many functions which already try to internally
	DWIM in trying to figure out which arguments are which.  This
	might even help some of the functions which try to be ZetaLisp
	and Mac/CommonLisp Compatable.

13)	Pipe dream:  An FTP type program so that one can read in files
	from ArpaNet (or other non-ChaosNet nets) in ZWEI and elsewhere.


15)	TIME:PRINT-BRIEF-UNIVERSAL-TIME (and maybe some related
	friends) should probably, if given no arguments should use 
	(TIME:GET-UNIVERSAL-TIME), (or at least provide the option
	to do so in the NES, but this would also allow system
	software can be lazy as well).

16)	Is there any way of viewing a directory from a Lisp Listener
	without going into ZWEI (or dired)?  

17)	It might be nice if some functions are both #+symbolics
	and #+mit systems with different names but very similar
	meanings were DEFF'd in the other for convenience to others.
	(Like dribble-foo).

18)	How about an extension similar to #+ that it can do more
	powerful things based on what the system number is.  (For
	example, assume that something is broken in system's 3004.23 thru 3009
	but not in systems 3005.32 thru 3005.56 or 3010.  Note the
	apparant contradiction.  A more simpler and more common case
	might be where a specific major version or a specific patch breaks a
	function)?

19)	How much overhead does the mouse "cursor" really take up?  I
	guess alot of the things are down by hardware, but I see my mouse frob
	an awful lot and don't usually care where my mouse position is unless
	there is something mouse sensible on the screen or I'm in the mood for
	using the mouse alot in the editor.  Perhaps it would be nice if there
	was a mechanism (probably most helpful if on a terminal key) from
	turning the mouse blinker on and off.  I think with-mouse-ursuped forms
	around things is probably wrong because this is certain to be
	something that people will strongly disagree on and because
	that would be additional overhead too.

20)	I tried saving this buffer in the middle and it lost becuase of
	what the default file name was:

>>Error: Invalid wildcard designator
For OZ:PS:<HDT>*MAIL-1*.LISP
While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:OPEN-CHAOS  (METHOD FS:CHAOS-PATHNAME OPEN)

21)	This in and of itself was a pain, but worse was after I typed
	c-m in the debugger and then decided to put that text into my 
	other buffer.  It wouldn't let me select that window, becuase
	it was locked!  I managed to get out of this by doing Retry
	calling .... without telling its callers.  I guess it would
	probably be hard, but that seems to imply that there is a choice
	to Retry calling .... WITH telling its callers.

22)	I know that Auto Save in Zwei is a bad thing, there but 
	there should really be some mechanism like a Journal file.  I've 
	already said something like this to bug-zwei, and have not recieved
	a reply.  I'm hoping that someone who is only on bug-lispm will
	want to do something like this.  


24)	Yet another rubout handler bug, when typing in an extremely long
	message to DCP and edited around it, typing meta-> went to the middle of
	the last line, typing control-E beeped , as did control-F and typing a
	space advanced the cursor one character at a time.  I've got the latest
	patches loaded;please don't tell me this is fixed in 218.  There seem
	to be some other wierd RH problems, but I can't put my finger on
	them.

25)	While typing to a lisp listener, I got a notification. The
	notification was typed completely on a line (it typed out on the lisp
	listener, not a window) other then the line I was typing on, yet
	that  line was munged.  Redisplay showed that the input buffer
	was intact.

25)	Notifications frequently happen when one is in the midst of
	typing something, and I can frequently detect when one is about to
	occure (like PROCESS ANNOY-ME-WITH-A-NOTIFICATION wants to typeout or
	You have mail when I know that I just recieved some).  Couldn't the
	first thing that TV:NOTIFY do be to beep and then check for any
	asynchronous characters and abort out of finishing the notification?
	This would save people from losing upto a dozen characters every time
	that they recieve a notification.  It seems to beep instead for every
	character typed.  For the people who redefine thier beepers, this must
	be pretty obnoxious!

26)*	An incoming message seems to print out a lot of text very
	quickly and then erasing it before actually printing its text.  The text
	looks like it could be from another window, and this might be a window
	system bug, but I've never noticed this in #+mit.  Also, one can longer
	click the mouse at an incoming message.  In addition, there is no
	convenient way to enter converse to edit one's reply.  Also in Converse,
	control-shift-[ goes to the next PART of a message, not what the
	documentation says.  In any case, there should be another two commands,
	one to go to the next whole conversation, and one to go to the previous
	converstation.  I nominiate control-[ and control-], which are undefined
	in Converse.  The bug mentioned about qsend-get-message losing
	the point in the reply window seems to to definately be beacause
	of the more breaks.
	
27)	Another pipe dream, but how about being able to hack the hosts
	table like hosts2.  There only seem to be "magic" arpanet hosts in
	si:host-alist.  It would be nice to be able to do things with other
	arpanet hosts.  I'd also like to know things about other networks like
	how to get to them so mail to someone at cornell will get its header
	generated for me.  [try typing cmu-10a/name (never mind that I'm
	supposed to given it an octal number (never mind THAT user interface).
	Have fun when we (almost) try to send cmu a chaos packet.  In any case,
	the lispmachines seem to be towards the end of this this alist.  Is this
	efficient?  With a large number of hosts, probably hashing them would be
	good.  (I don't know if this is already done).

28)	There's no real why to tell if someone is really "idle".  Idle
	traditionally means "time the user hasn't typed a key (but this has been
	hacked for teminal-*-f anyway).  Many times someone is still doing a
	compilation when their idle time is several hours long.
	Unfortuately, I can't think of any easy way for the lisp machine to tell
	if a user is really doing anything important, as a measure of 
	runtime loses, because of certain processes that may just
	happen to be running when you check for "idleness".

29)*	There is no way to tell to call a function and find out if a
	user is logged in to a lispmachine or not.  (LM protocol says to tell
	whois logged in no matter what you send it.  This should probably stay
	the same).  There should be a way to do this.  This seems to me to be a
	logical extension of the NAME protocol, but I can't impose decisions on
	the rest of the network community.	

30)	Anything that has the potential for causing a new band to be
	written should make the update the login historyn.  If someone remotely
	band transfers to you, you lose.  [Note: people who really want to screw
	you still can, but this would still be useful].

31)	The check-arg facility could be incorporated into (something
	like) the list of variables in a function definition.  Its use would
	probably increase if it knew a lot more abou the lisp world by being
	able to parse more things, and take arbitrary lisp expressions to be
	evaluated at execution time.

32)	The cc package could probably be made so as to give more
	informative messages when doing its various tests (the ones in
	check-machine).  For example, there are probably cases where it could
	say that is suspects chip foo of being a loser).  A background
	process	could do even cause a machine to ask another to do diagnostics
	on itself (a working machine, of course).  Just think about getting a
	#<BACKGROUND-PROCESS MACHINE-ABOUT-TO-CRASH> about to type out message.

 1-Dec-82 02:06:03-EST,896;000000000000
Mail-From: HDT created at  1-Dec-82 02:03:05
Date: 1 December 1982  02:03-EST (Wednesday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Patrick Sobalvarro <PGS at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 29 Nov 1982 21:18-EST from Patrick Sobalvarro <PGS at MIT-OZ>

    Date: Monday, 29 November 1982, 21:18-EST
    From: Patrick Sobalvarro <PGS at MIT-OZ>
    To:   BUG-LISPM at MIT-OZ

    And -- why does Converse have to beep at me 3 times when I am in Zwei?  I would
    think that twice would be more than enough.

One of the beeps is probably being caused by your typing ahead
when either zwei or the reply popup window or whatever wants you
to do.  You can control the number of beeps with the variable
  (yes, it really exists this time)
zwei:*converse-beep-count* to the number of beeps that you want.
  (Defualt is 2)
 1-Dec-82 02:20:46-EST,1304;000000000000
Date: Wednesday, 1 December 1982, 02:12-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: what would a wizard do?
To: BUG-LISPM at MIT-MC

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, on Lisp Machine Apiary-1:

Bugging save and quit in Zmail I got the following error:

>>Error: New mail file out of synch, get a wizard
While in the function (METHOD ZWEI:OLD-MAIL-FILE SAVING-DONE)  (METHOD ZWEI:BABYL-MAIL-FILE COMBINED SAVING-DONE)  ZWEI:SAVE-MAIL-FILE-INTERNAL



(METHOD ZWEI:OLD-MAIL-FILE SAVING-DONE): (P.C. = 102)
 (SELF = #<BABYL-MAIL-FILE "XX:PS:<HEWITT>HEWITT.BABYL" 26642104>)
 Arg 0 (OPERATION): SAVING-DONE
 Arg 1 (FORCING-OUT): NIL


(METHOD ZWEI:OLD-MAIL-FILE SAVING-DONE):  (P.C. = 102)
   (SELF = #<BABYL-MAIL-FILE "XX:PS:<HEWITT>HEWITT.BABYL" 26642104>)
   Arg 0 (OPERATION): SAVING-DONE
   Arg 1 (FORCING-OUT): NIL

(METHOD ZWEI:BABYL-MAIL-FILE COMBINED SAVING-DONE):  (P.C. = 63)
   (SELF = #<BABYL-MAIL-FILE "XX:PS:<HEWITT>HEWITT.BABYL" 26642104>)
   Rest arg (.DAEMON-CALLER-ARGS.): (SAVING-DONE NIL)

ZWEI:SAVE-MAIL-FILE-INTERNAL:  (P.C. = 105)
   Arg 0 (MAIL-FILE): #<BABYL-MAIL-FILE "XX:PS:<HEWITT>HEWITT.BABYL" 26642104>
   --Defaulted args:--
   Arg 1 (FOR-FINISH): NIL
 1-Dec-82 02:35:43-EST,470;000000000000
Date: Wednesday, 1 December 1982  01:39-EST
From: MOON at SCRC-TENEX
to:   BUG-LISPM at MIT-MC, Carl Hewitt <Hewitt at MIT-OZ>
Subject: probing all the file servers?
In-reply-to: The message of 30 Nov 1982  15:55-EST from MOON at SCRC-TENEX

He has files on XX in his *other-mail-files* (or whatever the name of that
variable is).  So that makes it clear enough why clicking right on Select
would have tried bogusly to connect to XX before displaying the menu.
 1-Dec-82 02:50:46-EST,1360;000000000000
Date: Wednesday, 1 December 1982  02:44-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   bug-file at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 30 Nov 1982 15:34-EST from David Chapman <Zvona at MIT-OZ>

    Date: Tuesday, 30 November 1982, 15:34-EST
    From: David Chapman <Zvona at MIT-OZ>

    Here is an excitingly new and different mode of file server lossage.

    >>Error: Data packet being discarded because channel not active
Congratulations.  You are the first to trip the new bug trap in the file
server, or at least the first to report it.  Among other things this means
that if the bug trap wasn't there you would have lost part of your file.
In system 222 it would have said explicitly in the error message that it
was telling you about a file system bug; that didn't make it into 218.

I will poke around and see if I can learn anything from this.  If it happens
again, please mail in a longer backtrace (c-1 c-0 c-0 c-M will include 100
frames in the backtrace).  I assume you weren't continuing from a disk full
or something of that nature, or would have said so.  Had you used c-Abort
(or c-m-Abort) recently?  Also if it happens again a DESCRIBE or DESCRIBE-PKT
or PRINT-PKT or whatever the hell it is of that chaos packet sitting there
in the stack might be quite informative.
 1-Dec-82 03:05:57-EST,604;000000000000
Date: Wednesday, 1 December 1982  03:02-EST
From: MOON at SCRC-TENEX
To:   ZVONA at MIT-MC
Cc:   BUG-lispm at MIT-OZ, Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: mapping functions aren't open coded
In-reply-to: The message of 30 Nov 1982  14:35-EST from ZVONA at MIT-MC

Only mapping of lambda-expressions is open-coded, the theory presumably
being that you need this to compensate for the lack of lexical scoping,
when using a lambda, but don't need it when calling a function since
the efficiency gain is negligible in that case.  I have no idea of
what the efficiency gain actually is.
 1-Dec-82 04:05:45-EST,4504;000000000000
Date: Wednesday, 1 December 1982  04:00-EST
From: MOON at SCRC-TENEX
To:   Howard D. Trachtman <Hdt at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ, Questions at SCRC-TENEX
Subject: Many things
In-reply-to: The message of 30 Nov 1982 23:47-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Tuesday, 30 November 1982, 23:47-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>

I'll try to answer some of your questions.

    1)	Is there anyway to get control-M in the debugger to put more of
    a backtrace into the Bug report?
Give it a numeric argument of the number of frames you want.  The default
is probably going to be made larger or infinite.

    I found that selecting my lisp
    listener after doing a control-m caused some "wierd" things to happen.
I don't know what this means.  Perhaps that while your Lisp was in the editor
window editing the bug report, which you hadn't sent yet, you could reselect
the Lisp window but nothing was talking to it?

You know that there's no number 2 in your message?

    3)*	Terminal-Control-Help in the debugger claims that by
    giving an argument to c-m-b that I can say how many
    layers to backtrace.  Fine, but how do I give an
    argument?  Its not in that documentation.  
It's in an example in the c-Help display.  Do it the same way as in the editor.

    13)	Pipe dream:  An FTP type program so that one can read in files
    	from ArpaNet (or other non-ChaosNet nets) in ZWEI and elsewhere.
SCRC:<MMcM>ACROCK and maybe even AI:MMCM;ACROCK.  Not supported but I
heard that it still works.

    17)	It might be nice if some functions are both #+symbolics
    	and #+mit systems with different names but very similar
    	meanings were DEFF'd in the other for convenience to others.
Could you make a list?

    18)	How about an extension similar to #+ that it can do more
    	powerful things based on what the system number is.  (For
    	example, assume that something is broken in system's 3004.23 thru 3009
    	but not in systems 3005.32 thru 3005.56 or 3010.  Note the
    	apparant contradiction.  A more simpler and more common case
    	might be where a specific major version or a specific patch breaks a
    	function)?
This would be better done with code than with read syntax.  You can
call get-system-version.

    19)	How much overhead does the mouse "cursor" really take up?
Probably very little, except for the overhead on your eyes of it blinking,
which will be fixed someday in the Future.  I move it to the lower right
corner when I want to forget about it.

    20)	I tried saving this buffer in the middle and it lost becuase of
    	what the default file name was:
That's been fixed in the latest system 

    21) that seems to imply that there is a choice
    	to Retry calling .... WITH telling its callers.
The description in the debugger's command list varies depending on whether
the caller of OPEN has said it is prepared to have the file name change.

    22)	I know that Auto Save in Zwei is a bad thing, there but 
    	there should really be some mechanism like a Journal file.
It's hard to do without losing many characters that haven't been sent
across the network and into the file and safely written out when your
machine crashes.
    	
    27)	Another pipe dream, but how about being able to hack the hosts
    	table like hosts2.  There only seem to be "magic" arpanet hosts in
    	si:host-alist.  It would be nice to be able to do things with other
    	arpanet hosts.  
There is a host table server and it is used by programs that enable use of
it when they call parse-host.  Try Telnet (system T) for example.

			I'd also like to know things about other networks like
    	how to get to them so mail to someone at cornell will get its header
    	generated for me.
Either this already exists or I don't understand the question.

    32)	The cc package could probably be made so as to give more
    	informative messages when doing its various tests (the ones in
    	check-machine).
It could be made to do a lot of things if it wasn't such a piece of junk.
It was written in a hurry long ago by several people, and dropped like
a hot potato as soon as it worked well enough to allow machines to be
debugged.  Part of its crockishness is understandable if you know that it
used to have to run in Maclisp (what happens if you only have one Lisp
machine, or you only have two and they both break at the same time?)
 1-Dec-82 08:34:51-EST,558;000000000000
Date: 1 December 1982 08:31-EST
From: George J. Carrette <GJC at MIT-ML>
Subject: (mapc #'foo l) not open coded.
To: MOON at MIT-ML
cc: BUG-LISPM at MIT-ML, ZVONA at MIT-ML

According to measurements I've done it is *faster* to FUNCALL a local
variable then it is to do a "regular function call." (This seems to hold
true both on lispmachines and vax's). The difference is
very small of course. So if ZVONA wanted this map open coded as
(DO ((Z L (CDR Z))) ((NULL Z) L) (F (CAR Z))) then it might run slower,
depending on the length of the list.
 1-Dec-82 10:22:09-EST,1039;000000000000
Mail-From: EB created at  1-Dec-82 10:20:10
Date:  1 Dec 1982 1020-EST
From: Ed Barton <EB at MIT-OZ>
Subject: Re: Errors in receiving messages
To: RMS at MIT-OZ
cc: bug-lispm at MIT-OZ, dph at MIT-OZ, zvona at MIT-OZ
In-Reply-To: Your message of 30-Nov-82 2214-EST

    Date: Tuesday, 30 November 1982, 22:09-EST
    From: Richard M. Stallman <RMS at MIT-OZ>
    Subject: Errors in receiving messages
    To: bug-lispm at MIT-OZ, dph at MIT-OZ, zvona at MIT-OZ
    In system 87/89, it manages to give you the message anyway (what there
    is of it) if the connection is dropped.

Sometimes.  I have gotten a notification that said "message received
from NIL ... chaosnet problems" or something like that, followed by
getting an array-leader of NIL error in CONVERSE-1.  I believe I
reported this to Bug-Converse, but I was having other problems with a
somewhat flaky machine and I may not have managed to get it sent.

I have also received messages in which the partially-received-message
feature worked.
-------
 1-Dec-82 10:26:59-EST,358;000000000000
Mail-From: ZVONA created at  1-Dec-82 10:21:26
Date: Wednesday, 1 December 1982  10:21-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   MOON at SCRC-TENEX
Cc:   bug-file at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 1 Dec 1982  02:44-EST from MOON at SCRC-TENEX

I wasn't continuing.  I don't remember if I'd c-ABORTed recently.
 1-Dec-82 11:45:51-EST,2485;000000000000
Date: Wednesday, 1 December 1982, 11:42-EST
From: Carl W. Hoffman <CWH at SCRC-TENEX>
Subject: Many things ...
To: Hdt at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 30 Nov 82 23:47-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Tuesday, 30 November 1982, 23:47-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3, On
    11/27/82, LGP 20.4, microcode 963, site configuration 27, JSMiller, on
    Lisp Machine Two:

    5)*	Control-shift-D in the alternate rubout handler.
	    It would be nice if this would the show the documentation or a
	    function.  (By the way, I couldn't find a documentation	function). 
This will probably be available in release 5.  Unfortunately, very few
functions have online documentation.  This won't really work until the
new documentation system is written.

    6)	Something in the RH to get at the documentation of a variable
	    would be useful.  
System 222 has c-sh-V, which may be what you want.

    7)*	Control-shift-A in the alternate RH (and in c-sh-D if its done)
	    shouldn't lose if the function is in a package other	
	    than global or user).
You have to type the package prefix if the symbol isn't in the current
package.  Zwei c-sh-A works this way.  If you're referring to some other
problem, please send a test case.

    9)	Maybe typing a super key in the RH should say something
	    like Attempt to use a debugger command while not in
	    the debugger, would you like to enter the debugger?
This whole arrangement is being rewritten.  It will someday be possible
to give debugger commands without leaving the RH.

    16)	Is there any way of viewing a directory from a Lisp Listener
	    without going into ZWEI (or dired)?  
LISTF.  You probably really want the command processor, though.

    24)	Yet another rubout handler bug, when typing in an extremely long
	    message to DCP and edited around it, typing meta-> went to the middle of
	    the last line, typing control-E beeped , as did control-F and typing a
	    space advanced the cursor one character at a time.  I've got the latest
	    patches loaded;please don't tell me this is fixed in 218.  There seem
	    to be some other wierd RH problems, but I can't put my finger on
	    them.
The rubout handler does not work with input that has more lines than
there are lines in the window.  Probably by the next release.

 1-Dec-82 12:20:37-EST,4295;000000000000
Date: Wednesday, 1 December 1982, 11:34-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Many other things.
To: Hdt at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 30 Nov 82 23:47-EST from Howard D. Trachtman <Hdt at MIT-OZ>

I think this answers almost everything that Moon didn't answer.

    Date: Tuesday, 30 November 1982, 23:47-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    5)*	Control-shift-D in the alternate rubout handler.
    6)	Something in the RH to get at the documentation of a variable
    7)*	Control-shift-A in the alternate RH (and in c-sh-D if its done)
In Release 5 (i.e., in some months), the RH will use Zwei and so it
will be able to do all this stuff.

    9)	Maybe typing a super key in the RH should say something
	    like Attempt to use a debugger command while not in
	    the debugger, would you like to enter the debugger?
In Release 5, the command set will be rearranged so that debugger
commands and editor commands don't conflict.  This is considered the
"final solution" to the whole set of issues of which your point
is one example.

    11)*	It might be helpful if there was someway to call mail
	    from a Lisp Listener and not have to enter ZWEI just
	    to hit the #\end key.
I'm not sure what this means.  However, yet another way to send mail
doesn't sound like something we need.  If there are deficiencies
in the existing ways, they should be addressed and fixed.

    12)	This brings up the point of whether or not there should
	    be a way in the lambda list of a function to state that the 
	    arguments of a function should be in a different order depending
	    on the number of arguments.
I'm sure this would be undesirable.  It would make code really hard to understand.

    16)	Is there any way of viewing a directory from a Lisp Listener
	    without going into ZWEI (or dired)?  
Yes; it's called LISTF.

    24)	Yet another rubout handler bug, when typing in an extremely long
I don't know about this one.  CWH?

    25)	While typing to a lisp listener, I got a notification. The
	    notification was typed completely on a line (it typed out on the lisp
	    listener, not a window) other then the line I was typing on, yet
	    that  line was munged.  Redisplay showed that the input buffer
	    was intact.
I'm not sure exactly what this is, but as part of the new RH changes in Release
5, this whole mechanism will be changed to work in a more robust way.

    25)	
								   Couldn't the
	    first thing that TV:NOTIFY do be to beep and then check for any
	    asynchronous characters and abort out of finishing the notification?
Then you might lost an important notification.

    26)*	An incoming message seems to print out a lot of text very
	    quickly and then erasing it before actually printing its text.  
Fixed in 222.
							       Also, one can longer
	    click the mouse at an incoming message.  
I don't remember any such feature.  What did this alleged feature do?
						     In addition, there is no
	    convenient way to enter converse to edit one's reply.  
Well, that's what the RH is supposed to be for.  In Rel 5 it will have
full editor capability.
								   Also in Converse,
	    control-shift-[ goes to the next PART of a message, not what the
	    documentation says.  
Control-Shift-[ is the same as Control-[, which is undefined.
				 In any case, there should be another two commands,
	    one to go to the next whole conversation, and one to go to the previous
	    converstation.  
They exist already, on C-M-[ and C-M-].  The documentation in 218 has this wrong,
I think; fixed in 222.

    28)	There's no real why to tell if someone is really "idle".
As you point out, it's unclear what "idle" means.  Do network servers count?
Do background compilations count?  Do long evaluations in Lisp Listener 1 count?

    29)*	There is no way to tell to call a function and find out if a
	    user is logged in to a lispmachine or not.
Well, you can just use the FINGER protocol the way Terminal-1-F does.

    31)	The check-arg facility could be incorporated into (something
	    like) the list of variables in a function definition.
Yes, this may get done as part of Common Lisp.
 1-Dec-82 18:13:30-EST,625;000000000000
Date: 1 December 1982 18:11-EST
From: Glenn S. Burke <GSB at MIT-ML>
Subject: [Re: mapping functions aren't open coded]
To: MOON at SCRC-TENEX
cc: BUG-lispm at MIT-OZ, dlw at SCRC-TENEX, ZVONA at MIT-MC

The "theory" should then also include things, like CAR, which are not
close-compiled by the compiler.  Probably err on the side of open-coding,
because you can't tell if a user's optimizers are really rewrites or
just optimizers for particular cases.  I suppose you could kludge
and generate the form (fn g0001 ...) and see if it gets rewritten somehow
and if not then close-compile the mapping.  (bleagh...)
 1-Dec-82 21:08:29-EST,499;000000000000
Date: Wednesday, 1 December 1982, 21:04-EST
From: David A. Moon <Moon at SCRC-POINTER>
Subject: File server discarding data packets
To: Zvona at MIT-OZ, JCMa at MIT-OZ
Cc: bug-lispm at MIT-OZ, bug-file at MIT-OZ

Thanks for your help.  I installed a new file server on OZ which fixes a
long-standing timing error which was likely the cause of this, and the cause
of the first packet in a file being dropped.  If no new problems show up
I will install it on all other pdp10s in a few days.
 1-Dec-82 21:53:26-EST,904;000000000000
Date: Wednesday, 1 December 1982, 21:49-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: MAKE-SYN-STREAM
To: KMP at MIT-MC
Cc: BUG-LISPM at MIT-OZ, DOC-CHANGES at SCRC-TENEX
In-reply-to: The message of 29 Nov 82 02:48-EST from KMP at MIT-MC

    Date: Monday, 29 November 1982  02:48-EST
    From: KMP at MIT-MC
    (MAKE-SYN-STREAM 'FOO) where FOO is an instance variable loses. Not that
    I didn't expect it to. MAKE-SYN-STREAM should be allowed to take a locative
    arg so that I can say (MAKE-SYN-STREAM (LOCF FOO)) and win. Allowing a 
    locative arg would have other good applications as well. --kmp

This seems harmless enough, fixed in the source and will appear in Rel
5.  When you give a locative argument, the pname of the returned symbol
is always SYN-STREAM.  No attempt is made to cache the fact that a
certain syn-stream is associated with a certain locative.
 2-Dec-82 03:38:30-EST,2102;000000000000
Date: Thursday, 2 December 1982, 03:33-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48, ZMail 47.13,
Experimental Remote-File 20.0, Experimental Local-File 41.2,
microcode 183, LMFS 41.0, on Lisp Machine Six:

1)  I can see why examples 1 and 3 might produce different code,
    but not why examples 2 and 3 should produce the same code.


(defvar a 4)
NIL
(defun foo-1 () (+ 1 a))
FOO-1
(defun foo-2 () (+ a 1))
FOO-2
(defun foo-3 () (1+ a))
FOO-3
(compile 'foo-1)
FOO-1
(compile 'foo-2)
FOO-2
(compile 'foo-3)
FOO-3
(disassemble 'foo-1)
20 MOVE D-PDL '1
21 + FEF|6                    ;A
22 MOVE D-RETURN PDL-POP

FOO-1
(disassemble 'foo-2)
20 MOVE D-PDL FEF|6           ;A
21 (MISC) 1+ D-RETURN

FOO-2
(disassemble 'foo-3)
20 MOVE D-PDL FEF|6           ;A
21 (MISC) 1+ D-RETURN

FOO-3


2)  In the manner of zwei:save-all-files, how about a
    supdup:logout-from-all-hosts ?  It would do the equivalent of
    typing network-L to all of your supdup windows.
    Similarily, there could be something that would finish
    up your DIREDs for you, if you have unquit out of
    dired buffers.

3)  If I'm getting lots of typeout in a supdup, and I'm about
    to get a notification, there seems to be an incredible 
    amount of thrashing occuring.

4)  To avoiding reading in a long patch directory for a System
    for which there have been no new patches, why not store
    associated with the patchable systems loaded list the
    time the patch directory was last written.  

5)  In the cases such as a Lisp Listener and Supdup where there
    are no special signifigance for the mouse keys, there
    could be a defualt mouse documentation such as 
    R2: System Menu  (R2 signifies two clicks on the rightmost button).

6)  I'm not convinced that the :string-for-wholine always shows
    be the part of a filename that I care about.  There are 
    sometimes when the .qfasl or version number are lost,
    because of a very long directory name.
 2-Dec-82 03:39:08-EST,929;000000000000
Date: Thursday, 2 December 1982, 03:33-EST
From: Margolin at Multics
Sender: S.BARMAR at MIT-EECS
Subject: Idle time heuristic
To: BUG-LISPM at EE

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 28, on Ford Prefect:

Here is a heuristic for determining idle time that I just thought up.
Take the minimum of the keyboard idle time and the idle time of the
process associated with the currently selected window.  My reasoning is
that if a compilation is being done in background, it is because the
user wants to do something in the foreground, i.e. a different window,
which he selects.  If he is doing a foreground computation, then he is
not idle.  The reason for min'ing the keyboard idle time is so that he
stops being idle if he just does a [Terminal] <char> or [System] <char>,
or something else that indicates the presence of a person at the
console.
 2-Dec-82 10:35:08-EST,316;000000000000
Date: Thursday, 2 December 1982, 10:30-EST
From: Kent M. Pitman <kmp at MIT-MC>
To: bug-lispm at MIT-MC

Shouldn't MACROEXPAND of (LET ...) turn into a LAMBDA combination even tho'
LET has an &QUOTE definition. There are many kinds of code analysis things
which could be made a lot simpler if this were true.
 2-Dec-82 13:05:35-EST,387;000000000000
Date: Thursday, 2 December 1982, 12:56-EST
From: Henry Minsky <HQM at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, JSMiller, on Lisp Machine Eight:

I wish to read in some hex numbers, and #X 
does not work with the not-digits A-F. 
How should I go about reading in hex?
 2-Dec-82 13:57:14-EST,777;000000000000
Date: Thursday, 2 December 1982, 13:46-EST
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: HQM at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 2 Dec 82 12:56-EST from Henry Minsky <HQM at MIT-OZ>

    Date: Thursday, 2 December 1982, 12:56-EST
    From: Henry Minsky <HQM at MIT-OZ>
    In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, JSMiller, on Lisp Machine Eight:

    I wish to read in some hex numbers, and #X 
    does not work with the not-digits A-F. 
    How should I go about reading in hex?

Prefix the first digit of the number with the character "+".  
#X +F will read in as 15 decimal.  #X +FF will read in as 255 decimal.

Curio: #X +Z reads in as 35 decimal.
 2-Dec-82 14:11:07-EST,228;000000000000
Mail-From: ZVONA created at  2-Dec-82 14:06:16
Date: Thursday, 2 December 1982  14:06-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   bug-lispm at MIT-OZ

(load-patches ':noselective) should hack more-processing.
 2-Dec-82 17:06:42-EST,622;000000000000
Date: Thursday, 2 December 1982  16:57-EST
From: Alan Bawden <ALAN at SCRC-TENEX>
Subject: #X +Z
To:   Carl W. Hoffman <CWH at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-EECS, HQM at MIT-OZ
In-reply-to: The message of 2 Dec 1982 13:46-EST from Carl W. Hoffman <CWH>

    Date: Thursday, 2 December 1982, 13:46-EST
    From: Carl W. Hoffman <CWH>

    Curio: #X +Z reads in as 35 decimal.

Curio: #O 9 reads in as 11 octal.  

I presume you are pointing out that the user might expect an error?  So am
I.  I didn't think it was worth changing one behavior without changing the
other (historical) behavior as well.
 2-Dec-82 17:44:26-EST,798;000000000000
Date: Thursday, 2 December 1982, 17:33-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Still more
To: Hdt at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 2 Dec 82 03:33-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Thursday, 2 December 1982, 03:33-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>

    1)  I can see why examples 1 and 3 might produce different code,
	but not why examples 2 and 3 should produce the same code.
They all produce the same code in 222.

    4)  To avoiding reading in a long patch directory for a System
	for which there have been no new patches, why not store
	associated with the patchable systems loaded list the
	time the patch directory was last written.  
Indeed.  This is planned along with some other changes.
 2-Dec-82 17:46:24-EST,665;000000000000
Date: Thursday, 2 December 1982, 17:40-EST
From: Jon Amsterdam <JBA at MIT-OZ>
Subject: gc problems
To: bug-lispm at MIT-OZ

I tried to do a disk save and found I had 27008 blocks.  So I did a gc-immediately
in the hope of obtaining some more space.  Well, for the next ten minutes or so
I kept getting messages of the form
	[You have X words of consing left before (gc-on) may fail...]
where X kept getting smaller and smaller, and finally I got the
	[You may have just missed your last chance...]
message.  A few minutes later, gc-immediately finished and I tried to disk-save again.
Now it told me I had 36288 blocks.

Is this a bug or a feature?
 2-Dec-82 19:29:01-EST,1434;000000000000
Mail-From: GUMBY created at  2-Dec-82 19:24:58
Date: 2 December 1982  19:24-EST (Thursday)
Sender: GUMBY at MIT-OZ
From: David Vinayak Wallace <GUMBY at MIT-MC>
To:   Jon Amsterdam <JBA at MIT-OZ>
Cc:   bug-lispm at MIT-OZ
Subject: gc problems
In-reply-to: The message of 2 Dec 1982 17:40-EST from Jon Amsterdam <JBA at MIT-OZ>

    Date: Thursday, 2 December 1982, 17:40-EST
    From: Jon Amsterdam <JBA at MIT-OZ>
    To:   bug-lispm at MIT-OZ
    Re:   gc problems

    I tried to do a disk save and found I had 27008 blocks.  So I did a gc-immediately
    in the hope of obtaining some more space.  Well, for the next ten minutes or so
    I kept getting messages of the form
    	[You have X words of consing left before (gc-on) may fail...]
    where X kept getting smaller and smaller, and finally I got the
    	[You may have just missed your last chance...]
    message.  A few minutes later, gc-immediately finished and I tried to disk-save again.
    Now it told me I had 36288 blocks.

    Is this a bug or a feature?

A feature. The 286 GC is a large program (bigger than the editor or
the compiler) which, of course, should not be run before disk-saving.
So, to prevent current users from getting in the habit of it, and
thereby losing upward-compatability, the current garbage collector
actually CREATES conses depending on the phase of the moon and the
state of the Yugoslavian economy.
 2-Dec-82 19:58:46-EST,1354;000000000000
Date: 2 December 1982 19:47-EST
From: Christopher C. Stacy <CStacy at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.154, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty-four:

It looks like the defaults are merged in when doing a M-X Create
Directory command.  I told it to create OZ:SS:<CSTACY.XYZ> and
my current file default was MC:CSTACY;ZAD >

>>Error: Invalid directory specification (at 10501 inside FILE server)
For OZ:SS:<CSTACY.XYZ>ZAD
While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:CREATE-DIRECTORY-CHAOS  (METHOD FS:CHAOS-PATHNAME CREATE-DIRECTORY)


(METHOD FS:HOST-UNIT COMMAND): (P.C. = 344)
 Arg 0 (OPERATION): COMMAND
 Arg 1 (MARK-P): NIL
 Arg 2 (STREAM-OR-HANDLE): NIL
 Arg 3 (SIMPLE-P): NIL
 Arg 4 (WHOSTATE): "Create Directory"
 Rest arg (COMMANDS): ("CREATE-DIRECTORY" 141. "SS:<CSTACY.XYZ>ZAD." 141.)

FS:CREATE-DIRECTORY-CHAOS:  (P.C. = 102)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (*COMMAND-PATHNAME*): #<TOPS20-PATHNAME "OZ:SS:<CSTACY.XYZ>ZAD">
   Arg 2 (OPTIONS): NIL

(METHOD FS:CHAOS-PATHNAME CREATE-DIRECTORY):  (P.C. = 30)
   (SELF = #<TOPS20-PATHNAME "OZ:SS:<CSTACY.XYZ>ZAD">)
   Arg 0 (OPERATION): CREATE-DIRECTORY
   --Defaulted args:--
   Arg 1 (IGNORED): NIL
   Rest arg (OPTIONS): NIL
 2-Dec-82 21:26:20-EST,985;000000000000
Date: 2 December 1982 21:24-EST
From: Gregor J. Kiczales <GREGOR at MIT-MC>
Subject:  gc problems
To: JBA at MIT-OZ
cc: bug-lispm at MIT-OZ

    Date: Thursday, 2 December 1982, 17:40-EST
    From: Jon Amsterdam <JBA at MIT-OZ>
    To:   bug-lispm at MIT-OZ
    Re:   gc problems

    I tried to do a disk save and found I had 27008 blocks.  So I did
    a gc-immediately in the hope of obtaining some more space.  

    Now it told me I had 36288 blocks.

    Is this a bug or a feature?

Neither, its a fact. Remember that there is a difference
between used conses, and the highest used memory address.
All disk save does is to save all virtual memory up to
that address. There is another function (COMPRESS-BAND)
which does what you want which to squeeze out the holes of
unused memory. That function and its use (which is fairly
invloved and takes ~2 hours including the time it takes to
first gc the band) is documented in the system 210 release
notes.
 2-Dec-82 21:33:08-EST,1500;000000000000
Mail-From: EB created at  2-Dec-82 21:29:27
Date:  2 Dec 1982 2129-EST
From: Ed Barton <EB at MIT-OZ>
Subject: Re: gc problems
To: GREGOR at MIT-MC
cc: JBA at MIT-OZ, bug-lispm at MIT-OZ
In-Reply-To: Your message of 2-Dec-82 2125-EST

    Date: 2 December 1982 21:24-EST
    From: Gregor J. Kiczales <GREGOR at MIT-MC>
    Subject:  gc problems
    To: JBA at MIT-OZ
    cc: bug-lispm at MIT-OZ
	Date: Thursday, 2 December 1982, 17:40-EST
	From: Jon Amsterdam <JBA at MIT-OZ>
	To:   bug-lispm at MIT-OZ
	Re:   gc problems
	I tried to do a disk save and found I had 27008 blocks.  So I did
	a gc-immediately in the hope of obtaining some more space.  
	Now it told me I had 36288 blocks.
	Is this a bug or a feature?
    Neither, its a fact. Remember that there is a difference
    between used conses, and the highest used memory address.
    All disk save does is to save all virtual memory up to
    that address. There is another function (COMPRESS-BAND)
    which does what you want which to squeeze out the holes of
    unused memory. That function and its use (which is fairly
    invloved and takes ~2 hours including the time it takes to
    first gc the band) is documented in the system 210 release
    notes.

I haven't ever done anything bletcherous like this with System 89 and
I have saved out some large bands after garbage collecting.  Perhaps
someone more knowledgeable than I can clarify what contortions are
necessary with what systems.
-------
 2-Dec-82 22:00:59-EST,347;000000000000
Date: Thursday, 2 December 1982, 21:48-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: ZVONA at MIT-MC
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 2 Dec 82 14:06-EST from ZVONA at MIT-MC

    Date: Thursday, 2 December 1982  14:06-EST
    From: ZVONA at MIT-MC
    (load-patches ':noselective) should hack more-processing.
Why?
 2-Dec-82 22:06:14-EST,882;000000000000
Mail-From: HANSON created at  2-Dec-82 22:04:08
Date: Thursday, 2 December 1982  22:04-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Ed Barton <EB at MIT-OZ>
Cc:   bug-lispm at MIT-OZ
Subject: gc problems
In-reply-to: The message of 2 Dec 1982  21:29-EST from Ed Barton <EB>

    Date: Thursday, 2 December 1982  21:29-EST
    From: Ed Barton <EB>

    I haven't ever done anything bletcherous like this with System 89 and
    I have saved out some large bands after garbage collecting.  Perhaps
    someone more knowledgeable than I can clarify what contortions are
    necessary with what systems.

The MIT system works differently.  Disk-save understands about holes
in the address space and just saves those parts of the space that
contain something interesting.  Thus GC actually does compress the
band size without the extra compression step.
 2-Dec-82 22:38:56-EST,1143;000000000000
Mail-From: HDT created at  2-Dec-82 22:36:22
Date: 2 December 1982  22:36-EST (Thursday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   bug-lispm at MIT-OZ, ZVONA at MIT-MC
In-reply-to: The message of 2 Dec 1982 21:48-EST from David L. Andre <DLA at SCRC-TENEX>

    Date: Thursday, 2 December 1982, 21:48-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    To:   ZVONA at MIT-MC
    cc:   bug-lispm at MIT-OZ

        Date: Thursday, 2 December 1982  14:06-EST
        From: ZVONA at MIT-MC
        (load-patches ':noselective) should hack more-processing.
    Why?

For convenience.

I'd also like to see a silent mode which is really silent.
Ie, now messages like (There are unfinished patches in FOO's brain)
or other random warnings which load-patches tries to tell me.
I often load patches in a background process, and I believe 
that others do too.  If these were really stifled, I'd like
a mechanism to get at them (like returning a string
of all of the stuff that was stifled, so I could notify myself
of the string, if it isn't not empty.)
 2-Dec-82 22:55:23-EST,408;000000000000
Date: Thursday, 2 December 1982, 22:50-EST
From: David A. Brown <David at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, microcode 187,   , on Lisp Machine Three:
CADR-3 in 902 has a problem with the return key -
when pressed, it usually either gives no returns or
three returns (probably a mechanical problem with
the key).
 2-Dec-82 23:16:07-EST,1266;000000000000
Date: Thursday, 2 December 1982, 23:07-EST
From: Robert A. Cassels <Cassels at SCRC-TENEX>
To: HDT at MIT-MC, DLA at SCRC-TENEX
Cc: bug-lispm at MIT-OZ, ZVONA at MIT-MC
In-reply-to: The message of 2 Dec 82 22:36-EST from Howard D. Trachtman <HDT at MIT-MC>

	    (load-patches ':noselective) should hack more-processing.

    I'd also like to see a silent mode which is really silent.

    I often load patches in a background process, and I believe 
    that others do too.

Try something like this:  (stolen from Todd Matson)

(process-run-function "LispM Initialization"
  #'(lambda (patchp)
      (with-open-stream (standard-output zwei:(interval-stream-into-bp
						(interval-last-bp
						  (find-buffer-named
						    "Initialization log." t))))
	(funcall current-process ':set-quantum 120.)
	(funcall current-process ':set-priority -5.)
	(when patchp (load-patches ':noselective))
	(tv:notify nil "Initialization done.")))
  (fquery nil "Load patches? "))


                         If these were really stifled, I'd like
    a mechanism to get at them (like returning a string
    of all of the stuff that was stifled, so I could notify myself
    of the string, if it isn't not empty.)

Or try with-output-to-string ...
 2-Dec-82 23:22:56-EST,625;000000000000
Date: 2 December 1982 23:20-EST
From: Christopher C. Stacy <CStacy at MIT-MC>
To: BUG-OZ at MIT-OZ
cc: BUG-LISPM at MIT-MC

In Experimental System 218.154, Converse was unable to parse a
sender to reply-to from a qsend from OZ.  The send from OZ
apparently had a header like "PGA on TTY72 11:11PM", since that
is where Converse says the message came from.  Converse says all
my other messages from OZ came from "PGA@MIT-OZ  2-Dec-82 11:09PM".
I assume this is an OZ SEND-user bug, and not a Converse problem.

Also, I keep getting connections to my Lisp Machine prematurely
dropped by OZ SEND users.  How come?
 2-Dec-82 23:43:18-EST,647;000000000000
Date:  2 Dec 1982 2341-EST
From: Jan Walker <JWALKER at SCRC-TENEX>
To: Cassels at SCRC-TENEX
cc: HDT at MIT-MC, DLA at SCRC-TENEX, bug-lispm at MIT-OZ, ZVONA at MIT-MC
In-Reply-To: The message of Thursday, 2 December 1982, 23:07-EST from Robert A. Cassels <Cassels at SCRC-TENEX>

The next release notes contains a caution against ever
trying to load patches in the background.  It is not
guaranteed to be trouble-free.  So don't say that no
one ever warned you.  (The caution includes some reasons,
like the foreground could munge the pathname defaults
so that the thing running in the background blows out
with an error.)
-------
 3-Dec-82 00:48:50-EST,1506;000000000000
Date: 3 December 1982 00:41-EST
From: Alan Bawden <ALAN at MIT-MC>
To: HDT at MIT-MC, ZVONA at MIT-MC, bug-lispm at MIT-OZ,
    JWALKER at SCRC-TENEX, Cassels at SCRC-TENEX, DLA at SCRC-TENEX

    Date: 2 Dec 1982 2341-EST
    From: Jan Walker <JWALKER at SCRC-TENEX>

    The next release notes contains a caution against ever
    trying to load patches in the background.  It is not
    guaranteed to be trouble-free.  So don't say that no
    one ever warned you.  (The caution includes some reasons,
    like the foreground could munge the pathname defaults
    so that the thing running in the background blows out
    with an error.)

Before someone tells you that this is a deficiency in the pathname system
that should be fixed, let me try and strengthen the caution beyond that
issue:  Writing a patch file can sometimes be fairly hard, patch files
sometimes get their hands very dirty munging around with the guts of the
system.  If patch-file writers had to worry about their patch files running
asynchronously with other programs in the user's machine, the difficulty
would rise considerably.  What happens if a bug hits you while you are
loading patches in the background?  What system version were you running in
when it happened?  What happens if you try to use some sub-system at
exactly the moment it is halfway patched?  These are HARD issues, and the
simple solution is to politely ask the user to please NOT use the Lisp
Machine while it has its pants down.
 3-Dec-82 01:21:53-EST,788;000000000000
Date: Friday, 3 December 1982, 01:15-EST
From: Henry Lieberman <Henry at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, on Lisp Machine Apiary-1:

I was trying to use the feature of reading from a Zwei buffer and keeping
a correspondence between expressions and places in the buffer, by
binding SI:XR-CORRESPONDENCE-FLAG. According to the documentation, 
the resulting list in SI:XR-CORRESPONDENCE is supposed to have
three elements for each sublist, the third being a list of BP's of atoms 
which are elements of the sublist. This doesn't seem to be the case.
Was the format of this list changed somehow so that the comment doesn't
reflect the truth, or is it broken?
 3-Dec-82 01:52:19-EST,492;000000000000
Date: Friday, 3 December 1982  01:44-EST
From: MOON at SCRC-TENEX
To:   Christopher C. Stacy <CStacy at MIT-MC>
Cc:   BUG-LISPM at MIT-MC, BUG-OZ at MIT-OZ
Subject: SEND connections closed prematurely by OZ SEND users
In-reply-to: The message of 2 Dec 1982 23:20-EST from Christopher C. Stacy <CStacy at MIT-MC>

It sounds like the OZ SEND program (or one of them) doesn't know that
in the current undocumented protocol it is the server that is in charge
of closing the connection.
 3-Dec-82 02:03:31-EST,656;000000000000
Date: Friday, 3 December 1982  02:00-EST
From: MOON at SCRC-TENEX
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   bug-lispm at MIT-MC
In-reply-to: The message of 2 Dec 1982 10:30-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Thursday, 2 December 1982, 10:30-EST
    From: Kent M. Pitman <kmp at MIT-MC>

    Shouldn't MACROEXPAND of (LET ...) turn into a LAMBDA combination even tho'
    LET has an &QUOTE definition. There are many kinds of code analysis things
    which could be made a lot simpler if this were true.
Fixed in Common Lisp.  Currently there is no facility to allow something
to be a macro and a special-form simultaneously.
 3-Dec-82 05:22:03-EST,2187;000000000000
Date: 3 December 1982  05:12-EST (Friday)
From: Ian G. Macky <Ian at MIT-OZ>
To:   Christopher C. Stacy <CStacy at MIT-OZ>
Cc:   BUG-LISPM at MIT-MC, Bug-Send at OZ
In-reply-to: The message of 2 Dec 1982  23:20-EST from Christopher C. Stacy <CStacy>

						 The send from OZ
    apparently had a header like "PGA on TTY72 11:11PM", since that
    is where Converse says the message came from.

Hmm, that header is only made when SEND thinks the recipient was at
OZ also (since REPLY there knows how to deal with that header, and
I like it better).  It is NOT suppose to be used for regular Chaos
traffic, since it's fairly nonstandard and most programs can't parse
it.  It's hopeless to duplicate such stuff, so I won't even bother
asking.

						  Converse says all
    my other messages from OZ came from "PGA@MIT-OZ  2-Dec-82 11:09PM".
    I assume this is an OZ SEND-user bug, and not a Converse problem.

    Also, I keep getting connections to my Lisp Machine prematurely
    dropped by OZ SEND users.  How come?

I've heard this before...  the code for finishing up on a Chaosnet
connection I stole from a previous program, and since all the Chaos
stuff is essentially undocumented (You won't find what .CONOP to
MTOPR does in the MCRM) I just took it on faith... well, Marty found
me this little 2-page doc with all the juicy details (I think it was
in the basement, in a locked file-cabinet, with this sign....).

Anyway, now that I know what all that rubbish did, I discovered it was
pretty demented.  What it NOW does is, after sending all the
information: force sending of any partially-filled packets, send an
EOF packet, "hang until data ack'ed", and then do a close (with a bit
on that I *still* don't know about (The thing I have says: "CLOSF -
closes connection, obeys CO%WCL (bit 1)".  Uh huh... but what's that
bit DO?)  that is supposed to do essentially the same thing as the
"hang until..." MTOPR, so is probably redundant, but can't hurt, but
is probably broken (Yow!  Am I rambling yet?)...

ANYWAY, it ought to be fine now.  If connections are still being closed
prematurely, don't hesitate (HA!) to complain...

Ian
 3-Dec-82 10:50:45-EST,1423;000000000000
Date: Friday, 3 December 1982, 10:42-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Directories via FILE protocol
To: CStacy at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: The message of 2 Dec 82 19:47-EST from Christopher C. Stacy <CStacy at MIT-MC>

    Date: 2 December 1982 19:47-EST
    From: Christopher C. Stacy <CStacy at MIT-MC>
    In Experimental System 218.154, Zmail 65.41, LMFS 28.38, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty-four:

    It looks like the defaults are merged in when doing a M-X Create
    Directory command.  I told it to create OZ:SS:<CSTACY.XYZ> and
    my current file default was MC:CSTACY;ZAD >

    >>Error: Invalid directory specification (at 10501 inside FILE server)
    For OZ:SS:<CSTACY.XYZ>ZAD
    While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:CREATE-DIRECTORY-CHAOS 
    (METHOD FS:CHAOS-PATHNAME CREATE-DIRECTORY)

My interpretation of the protocol on CREATE-DIRECTORY is that ANY pathname
whose directory portion specifies the directory to be created is acceptable.
Thus, the OZ file server is in error. Things like >udd>m>bsg> , while 
meaningful to lisp machine file-spec parsers for specifying fragments
of pathnames to be created via merging, are not in general acceptable
to native host parsers. Thus, QFILE is correct in merging in defaults for
CREATE-DIRECTORY, EXPUNGE, etc.
 3-Dec-82 11:54:15-EST,389;000000000000
Date: Friday, 3 December 1982, 11:44-EST
From: Jan Krueger <JLMK at MIT-MC>
Subject: CADR16
To: Bug-lispm at oz
Cc: soley at mc

Is it my imagination, or did one of CADR16's memory boards get swiped?
We are down to 192K.

Also, after with the console idle for some time the lm tends to crash.
Booting generally works, but is there another solution?

					Regards,
					-Jan-
 3-Dec-82 12:20:02-EST,602;000000000000
Date: Friday, 3 December 1982, 12:12-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: load-patches **MORE**
To: ZVONA at MIT-MC, bug-lispm at MIT-OZ
In-reply-to: The message of 2 Dec 82 14:06-EST from ZVONA at MIT-MC

    Date: Thursday, 2 December 1982  14:06-EST
    From: ZVONA at MIT-MC
    (load-patches ':noselective) should hack more-processing.
No, it shouldn't.  That would be inconsistent with everything else, and
what's more, just because you don't want to answer questions doesn't
mean that you want it to overwrite its own typeout.  You might
consider using :silent.
 3-Dec-82 12:38:06-EST,640;000000000000
Date: Friday, 3 December 1982, 12:34-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: JWALKER at SCRC-TENEX
Cc: Cassels at SCRC-TENEX, HDT at MIT-MC, DLA at SCRC-TENEX,
    bug-lispm at MIT-OZ, ZVONA at MIT-MC
In-reply-to: The message of 2 Dec 82 23:41-EST from Jan Walker <JWALKER at SCRC-TENEX>

    Date:  2 Dec 1982 2341-EST
    From: Jan Walker <JWALKER at SCRC-TENEX>
    The next release notes contains a caution against ever
    trying to load patches in the background.
I hope that this includes loading *any* file in the background, since
many things such as DEFFLAVOR explicitly make no attempt to do
interlocking.
 3-Dec-82 16:06:27-EST,1162;000000000000
Date:  3 Dec 1982 1257-EST
From: Jan Walker <JWALKER at SCRC-TENEX>
Subject: Re: load-patches **MORE**
To: dlw at SCRC-TENEX
cc: ZVONA at MIT-MC, bug-lispm at MIT-OZ
In-Reply-To: The message of Friday, 3 December 1982, 12:12-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

Date: Friday, 3 December 1982, 12:12-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: load-patches **MORE**
To: ZVONA at MIT-MC, bug-lispm at MIT-OZ
In-reply-to: The message of 2 Dec 82 14:06-EST from ZVONA at MIT-MC

    Date: Thursday, 2 December 1982  14:06-EST
    From: ZVONA at MIT-MC
    (load-patches ':noselective) should hack more-processing.
No, it shouldn't.  That would be inconsistent with everything else, and
what's more, just because you don't want to answer questions doesn't
mean that you want it to overwrite its own typeout.  You might
consider using :silent.

~~~~~~~
What is "everything else" that it would be inconsistent with

in this case.  Remember that load-and-save-patches does not
require dealing with **MORE**.  It just keeps wrapping
around without special user effort.  Which should be
"consistent" with what?
-------
 3-Dec-82 16:21:52-EST,482;000000000000
Date: Friday, 3 December 1982, 15:51-EST
From: Philippe Brou <PHILIP at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
ZMail 47.13, microcode 183, fly me, on Lisp Machine Four:

Evaluating (make-list 3 4) kills the machine
(<control><meta><abort> does not even respond, must
warm-boot)

I know this is not the right list of arguments
but there is no reason why the machine should
die because of the error.

 3-Dec-82 17:52:00-EST,351;000000000000
Date: Friday, 3 December 1982, 17:48-EST
From: Henry Minsky <HQM at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.5,
Experimental ZMail 48.1, microcode 204, on Lisp Machine One:

Format ~16R doesnt work. It cant do hex digits A-F...
 3-Dec-82 18:01:35-EST,379;000000000000
Date: Friday, 3 December 1982, 17:57-EST
From: Henry Minsky <HQM at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.5,
Experimental ZMail 48.1, microcode 204, on Lisp Machine One:

(setq base 16. ibase 16.)
10. reads out as ":"

this isnt the way it used to..
 3-Dec-82 18:38:39-EST,425;000000000000
Date: Friday, 3 December 1982, 18:29-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: base 16
To: HQM at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 3 Dec 82 17:57-EST from Henry Minsky <HQM at MIT-OZ>

    Date: Friday, 3 December 1982, 17:57-EST
    From: Henry Minsky <HQM at MIT-OZ>
    (setq base 16. ibase 16.)
    10. reads out as ":"
Works fine in 222, which you should have Monday.
 3-Dec-82 19:59:19-EST,780;000000000000
Date: Friday, 3 December 1982, 18:19-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Re: load-patches **MORE**
To: JWALKER at SCRC-TENEX
Cc: ZVONA at MIT-MC, bug-lispm at MIT-OZ
In-reply-to: The message of 3 Dec 82 12:57-EST from Jan Walker <JWALKER at SCRC-TENEX>

    Date:  3 Dec 1982 1257-EST
    From: Jan Walker <JWALKER at SCRC-TENEX>
    What is "everything else" that it would be inconsistent with
    in this case.  Remember that load-and-save-patches does not
    require dealing with **MORE**.
Yeah, I forgot that.  However, I still think that :noselective is
not the right way to say "turn off MORE processing".  I might very
well NOT want to answer the questions, but WANT to see all the
messages without having it scroll around and around.
 4-Dec-82 01:11:55-EST,1096;000000000000
Date:  4 Dec 1982 0108-EST
From: Pace Willisson <SE.PACE at MIT-EECS>
Subject: half booted lisp machines
To: bug-lispm at MIT-OZ

I don't know what steps happen when a lisp machine boots, but here
is a problem that I think I have observed:

If the lisp machine is not able to get the time from anyone it seems
that it hangs waiting for someone to type the date before it starts
the network.  The problem with this is that when branches of the net
are broken (like subnet 34 tonight), and a lisp machine is freshly
booted, then it still wont respond to status packets when the segment
to which it is connected is fixed.

Luckily, tonight, one of the three working ee lisp machines was running
normally when we started terminating sections of cable.  If all had
been freshly booted, though, then that segment of the cable could not
have been tested until someone went to the consoles and unjamed them.

Anyway, if I'm confused, just tell me, but if the machine purposefully
ignores status packets until it knows the time, then maybe this should 
be changed.

Pace
-------
 4-Dec-82 01:25:01-EST,822;000000000000
Date: Saturday, 4 December 1982, 01:19-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: half booted lisp machines
To: Pace Willisson <SE.PACE at MIT-EECS>
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 4 Dec 82 01:08-EST from Pace Willisson <SE.PACE at MIT-EECS>

    Date:  4 Dec 1982 0108-EST
    From: Pace Willisson <SE.PACE at MIT-EECS>

    If the lisp machine is not able to get the time from anyone it seems
    that it hangs waiting for someone to type the date before it starts
    the network ... it wont respond to status packets

Sure enough, there is such a bug.  It's already fixed in 222 though.  It
will still not respond to network requests in general until it is fully
initialized, which makes sense, but it will respond to STATUS as soon as
the network is turned on at all.
 4-Dec-82 21:52:30-EST,466;000000000000
Date: 4 December 1982 21:42-EST
From: David C. Plummer <DCP at MIT-MC>
To: BUG-ITS at MIT-MC, BUG-TWENEX at MIT-MC, BUG-SUPDUP at MIT-MC,
    BUG-LISPM at MIT-MC

New field in the right half of the SUPDUP TTYSMT (TTY Smarts or
graphics variable).

DEFSYM	%TRTIM==003700
DEFSYM	$TRTIM==060500	;5 BIT FIELD WHICH IS THE SIGNED OFFSET FROM GMT
			;MINUS #o20; A VALUE OF ZERO MEANS DON'T
			;KNOW, DON'T CARE, OR USER PROGRAM HASN'T
			;IMPLEMENTED IT YET
 5-Dec-82 02:47:14-EST,1131;000000000000
Date: 5 December 1982 02:41-EST
From: David C. Plummer <DCP at MIT-MC>
To: uc.mp at MIT-EECS, jtw at MIT-SPEECH
cc: BUG-ITS at MIT-MC, BUG-TWENEX at MIT-MC, BUG-SUPDUP at MIT-MC,
    BUG-LISPM at MIT-MC

OK, OK.  For all of you who were wondering why in hell I did
this, I'll tell you.

Symbolics has imprisoned me in sunny southern California for 3
weeks.  I still log into MC occaisionally which isn't too
difficult since we do happen to be on the chaosnet.  If any of
you have ever seen me hacking on MC, my prompt that DDT prints
out has an amazing amount of junk in it.  One of those items is
the time.  Unfortunately, it is eastern time, not pacific time.
Sooo... ALAN and I started making joking comments to each other
about time zone correction in prompts, and this is what happened.

I don't know how many of us bug-its, bug-twenex, bug-supdup or
bug-lispm are going to take this seriously, but if I find some
spare time I may make local modifications to this LISPM and hack
my prompt code accordingly.  I will probably get around to
putting it in the KTVs and MINITS systems at some point in time.
 5-Dec-82 04:02:58-EST,334;000000000000
Date: Sunday, 5 December 1982, 02:55-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.39,
ZMail 47.13, microcode 183, ., on Lisp Machine One:

When in a ZMACS that is part of a slit screen frame, the documentation
line does not work.
 6-Dec-82 04:20:14-EST,510;000000000000
Date: Monday, 6 December 1982, 04:11-EST
From: William A. Kornfeld <BAK at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, JSMiller, on Lisp Machine Eight:

If you try to finger or supdup to a non-chaos, arpa site, the Lisp
machine first tries to connect thru AI.  Since this is fairly certain to
never work in the future this should not be tried, or at least not until
after the other machines.
 6-Dec-82 10:55:59-EST,868;000000000000
Date: Monday, 6 December 1982, 10:51-EST
From: Eugene Ciccarelli <ECC at MIT-OZ>
Subject: Attribute line package-create?
To: BUG-LISPM at MIT-OZ

Is there anything you can put in an attribute line that says to
automatically create this file's package upon loading -- without
asking the user?  (If the package doesn't already exist.)

For example, I have a few LMLIB files that would like to be in
their own private packages, but it is a nuisance (and perhaps
sometimes confusing) to users to get that question asking whether
to create the package.  I'd like to have an attribute line like:

;;; -*- Mode:LISP; Package:ZVAL; Auto-Package-Create:T;  Base:10. -*-

This sort of thing is probably only useful for small hacks, where
there is only one file, and you'd rather not have one top-level
file that creates the package and loads the other files.
 6-Dec-82 11:11:54-EST,946;000000000000
Mail-From: DANIEL created at  6-Dec-82 11:10:24
Date: Monday, 6 December 1982  11:10-EST
Sender: DANIEL at MIT-OZ
From: DANIEL at MIT-MC
To:   Eugene Ciccarelli <ECC at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: Attribute line package-create?
In-reply-to: The message of 6 Dec 1982 10:51-EST from Eugene Ciccarelli <ECC>

    From: Eugene Ciccarelli <ECC>
    Re:   Attribute line package-create?

    Is there anything you can put in an attribute line that says to
    automatically create this file's package upon loading -- without
    asking the user?  (If the package doesn't already exist.)

-*- package:(PACKAGE-NAME PACKAGE-TO-PUT-IT-UNDER SIZE nil) -*-
will do the trick.
    This sort of thing is probably only useful for small hacks, where
    there is only one file, and you'd rather not have one top-level
    file that creates the package and loads the other files.
It is extremely useful for defsystem files.
 6-Dec-82 11:38:54-EST,279;000000000000
Date: Monday, 6 December 1982, 11:38-EST
From: Eugene Ciccarelli <ECC at MIT-OZ>
Subject: Ignore my previous message
To: BUG-LISPM at MIT-OZ

I found out the answer to my auto-create-package question,
i.e. putting the package specification list in the PACKAGE
attribute.
 6-Dec-82 18:15:10-EST,502;000000000000
Date: 6 December 1982  17:13-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   William A. Kornfeld <BAK at MIT-OZ>
Cc:   BUG-LISPM at MIT-EECS
In-reply-to: The message of 6 Dec 1982 04:11-EST from William A. Kornfeld <BAK at MIT-OZ>

The site tables should be updated then.  I can't do that.
In the meantime, try setting supdup:supdup-default-path to "mc"

This probably won't help much, for now as it seems the tech^2/non-tech^2 
chaosnet link is severed.
 6-Dec-82 21:09:16-EST,769;000000000000
Date: Monday, 6 December 1982, 21:02-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Attribute line package-create?
To: DANIEL at MIT-MC
Cc: ECC at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 6 Dec 82 11:10-EST from DANIEL at MIT-MC

    Date: Monday, 6 December 1982  11:10-EST
    From: DANIEL at MIT-MC
	From: Eugene Ciccarelli <ECC>
	Is there anything you can put in an attribute line that says to
	automatically create this file's package upon loading -- without
	asking the user?  (If the package doesn't already exist.)

    -*- package:(PACKAGE-NAME PACKAGE-TO-PUT-IT-UNDER SIZE nil) -*-
    will do the trick.
Actually, the NIL is unnecessary, and only works because PACKAGE-DECLARE
doesn't do enough error checking.  Sigh.
 6-Dec-82 21:24:29-EST,703;000000000000
Date: Monday, 6 December 1982  17:05-EST
From: MOON at SCRC-TENEX
To:   Eugene Ciccarelli <ECC at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: Attribute line package-create?
In-reply-to: The message of 6 Dec 1982 10:51-EST from Eugene Ciccarelli <ECC at MIT-OZ>

    Date: Monday, 6 December 1982, 10:51-EST
    From: Eugene Ciccarelli <ECC at MIT-OZ>

    Is there anything you can put in an attribute line that says to
    automatically create this file's package upon loading -- without
    asking the user?  (If the package doesn't already exist.)

Put the package name, and optionally any options for creating it, in
parenthes.  See p. 15 of the system 210 release notes for details.
 6-Dec-82 21:37:59-EST,835;000000000000
Date: Monday, 6 December 1982, 21:30-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: BAK at MIT-OZ
Cc: BUG-LISPM at MC
In-reply-to: The message of 6 Dec 82 04:11-EST from William A. Kornfeld <BAK at MIT-OZ>

    Date: Monday, 6 December 1982, 04:11-EST
    From: William A. Kornfeld <BAK at MIT-OZ>
    In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, JSMiller, on Lisp Machine Eight:

    If you try to finger or supdup to a non-chaos, arpa site, the Lisp
    machine first tries to connect thru AI.  Since this is fairly certain to
    never work in the future this should not be tried, or at least not until
    after the other machines.
I was about to admonish you for not loading patches, but then I noticed
that EE was down.  Fixed in 222.
 7-Dec-82 03:37:42-EST,731;000000000000
Date: Tuesday, 7 December 1982, 03:32-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: probing all the file servers?
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: Hewitt at MIT-OZ, BUG-LISPM at MIT-MC
In-reply-to: The message of 30 Nov 82 13:33-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Tuesday, 30 November 1982, 13:33-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    Carl, it's hard to tell why it tried to connect to XX from the
    information that c-M sent us.  Perhaps your Zmail init file is on XX, or
    something like that?  Were you logged into XX at the time?
This was FS:DEFAULT-PATHNAME calling USER-HOMEDIR instead of
QUIET-USER-HOMDIR, so this should not happen in rel 4.
 7-Dec-82 07:21:51-EST,603;000000000000
Date: Tuesday, 7 December 1982, 07:18-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: Symbolics Lispm file servers
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
ZMail 47.13, microcode 187, hit me, on Ford Prefect:

Perhaps this is a problem in the host-table; perhaps it doesn't
differentiate between the different flavors of LispM file servers.  In
any case, the problem is that System 89 cannot parse pathnames for PTR:,
complaining about an unexpected character ">".  It seems to think that
PTR wants FC:-style pathnames.
 7-Dec-82 07:40:48-EST,741;000000000000
Date: Tuesday, 7 December 1982, 07:39-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: files on multiple machines
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
ZMail 47.13, microcode 187, hit me, on Ford Prefect:

I remember hearing something about this a long time ago, but I haven't
heard anything lately.  There needs to be a way to maintain a parallel
set of files on multiple machines.  In my case, it is my init files; I
often login with different login machines, due to problems of machine
availability.  Every time I update an init file, I have to make sure
that I put copies of it at all sites.  It would be nice if there were an
easier way to do this.
 7-Dec-82 08:08:19-EST,929;000000000000
Date: Tuesday, 7 December 1982, 08:05-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: File protocol suggestion
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
ZMail 47.13, microcode 187, hit me, on Ford Prefect:

This is a suggestion for a pretty extended feature in the FILE protocol.
I would like to see some kind of way to run an arbitrary command line on
the file.  What I would like is to be able to format my Multics compin
file, or compile a PL/I source (reading the errors into a buffer, of
course), while editing it on the Lisp Machine.

This is a radical departure, it seems to me, from the traditional vie of
Lisp Machines as the primary computer, with the host serving as a
mass-storage medium.  However, to some of us the Lisp Macine is very
powerful workstation.  There are still many functions that the Lisp
Machine cannot perform.
 7-Dec-82 09:29:31-EST,915;000000000000
Date: Tuesday, 7 December 1982, 09:14-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Symbolics Lispm file servers
To: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ
In-reply-to: The message of 7 Dec 82 07:18-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Tuesday, 7 December 1982, 07:18-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
    ZMail 47.13, microcode 187, hit me, on Ford Prefect:

    Perhaps this is a problem in the host-table; perhaps it doesn't
    differentiate between the different flavors of LispM file servers.  In
    any case, the problem is that System 89 cannot parse pathnames for PTR:,
    complaining about an unexpected character ">".  It seems to think that
    PTR wants FC:-style pathnames.
Why do we think that System 89 has remote LMFS support at all?  
 7-Dec-82 10:05:27-EST,380;000000000000
Date: Tuesday, 7 December 1982, 10:03-EST
From: Gavan Duffy <GAVAN at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.10,
Experimental ZMail 48.3, microcode 204, on Lisp Machine One:

Meta-F in ZMACS skips over dashes in concatenated symbols.  Shouldn't
it stop?
 7-Dec-82 10:35:01-EST,434;000000000000
Date: Tuesday, 7 December 1982, 10:34-EST
From: Gavan Duffy <GAVAN at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.10,
Experimental ZMail 48.3, microcode 204, on Lisp Machine One:

Please disregard previous report regarding meta-F skipping dashes
in ZMACS.  JCMA tells me he rebound meta-F while I wasn't looking.
 7-Dec-82 10:40:08-EST,503;000000000000
Date: Tuesday, 7 December 1982, 10:32-EST
From: Jan Walker <jwalker at SCRC-TENEX>
Subject: review of release notes for release 4
To: info-lispm at SCRC-TENEX, doc at SCRC-TENEX
Cc: Whit at SCRC-TENEX

The release 4 notes are ready enough for technical review.  The people
who have done most of the work on the release have already received a
review copy.  I have a few more copies for other people who are
interested in reviewing it.  Please see Whit for a copy if you are in
this category.
 7-Dec-82 12:45:02-EST,1723;000000000000
Date: Tuesday, 7 December 1982, 12:43-EST
From: Gavan Duffy <GAVAN at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.10,
Experimental ZMail 48.3, microcode 204, on Lisp Machine One:


Insert your description of the circumstances here:

ZWEI:FORWARD-CHAR sends a nil argument to *DIF.  This doesn't happen in
system 218.  The relevant non-system functions are in
src:<jcma.a>analog-zwei.lisp


>>TRAP 5355. (ARGTYP NUMBER PP 0. QISUB)
The first argument to *DIF, NIL, was of the wrong type.
The function expected a number.
Backtrace from the debugger:

ZWEI:FORWARD-CHAR (P.C. = 160)

 Arg 0 (BP): NIL
 Arg 1 (TIMES): 1.
   --Defaulted args:--
 Arg 2 (FIXUP-P): NIL
Local 0 (LINE): NIL
Local 1 (INDEX): NIL
Local 2 (LAST-LINE): NIL
Local 3 (LAST-INDEX): NIL
Local 4 (LL): NIL
Local 5 (I): NIL
Local 6 (LINE-LENGTH): NIL
Local 7 (FIRST-LINE): NIL
Local 8 (FIRST-INDEX): NIL


Additional information supplied with call:
 Expecting 2 values

ZWEI:GRAB-THIS-SENTENCE-BP-DELIMITERS (P.C. = 75)

Local 0 (BP): ("POL3 is a story about a President, a Democratic-Party, a" 0.)


ZWEI:Z-PARSE-CURRENT-SENTENCE-CAREFULLY (P.C. = 105)

Local 0 (BEGIN-BP): NIL
Local 1 (END-BP): NIL
Local 2 (NEW-BP): NIL
Local 3 (TEMP): NIL


ZWEI:COM-INCREMENTAL-PARSE-SENTENCE (P.C. = 34)

Local 0 (I): 1.


Additional information supplied with call:
 Expecting 3 values

ZWEI:COMMAND-EXECUTE (P.C. = 100)

 Arg 0 (COMMAND): ZWEI:COM-INCREMENTAL-PARSE-SENTENCE
 Arg 1 (CHAR): 2392.
 Arg 2 (PREFIX-CHAR): NIL
 Arg 3 (HOOK-LIST): NIL
Local 0 (G6771): NIL
Local 1 (HOOK): NIL
 7-Dec-82 12:49:31-EST,434;000000000000
Date: Tuesday, 7 December 1982, 12:46-EST
From: Gavan Duffy <GAVAN at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.10,
Experimental ZMail 48.3, microcode 204, on Lisp Machine One:

Please disregard previous report regarding meta-F skipping dashes
in ZMACS.  JCMA tells me he rebound meta-F while I wasn't looking.
 7-Dec-82 12:52:24-EST,1036;000000000000
Date: Tuesday, 7 December 1982, 12:52-EST
From: Vinayak Wallace <GUMBY at MIT-OZ>
Subject: files on multiple machines
To: Barry Margolin <Margolin at MIT-MULTICS>
Cc: BUG-LISPM at MIT-OZ, gumby at MIT-OZ

    Date: Tuesday, 7 December 1982, 07:39-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    Subject: files on multiple machines
    To: BUG-LISPM at MIT-OZ

    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
    ZMail 47.13, microcode 187, hit me, on Ford Prefect:

    I remember hearing something about this a long time ago, but I haven't
    heard anything lately.  There needs to be a way to maintain a parallel
    set of files on multiple machines.  In my case, it is my init files; I
    often login with different login machines, due to problems of machine
    availability.  Every time I update an init file, I have to make sure
    that I put copies of it at all sites.  It would be nice if there were an
    easier way to do this.

Use M-X Balance Directories.
 7-Dec-82 14:01:21-EST,2648;000000000000
Date: Tuesday, 7 December 1982, 13:54-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.4,
LGP 20.4, microcode 963, site configuration 28, needs new site info, on Lisp Machine Twenty-two:

I got this while trying to c-M another bug.

>>Error: Attempt to expose #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed> outside of its superior
While in the function APPLY  (:METHOD TV:SHEET :WHOPPER :EXPOSE)  (:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE)  (:METHOD TV:BASIC-TYPEOUT-WINDOW :EXPOSE-FOR-TYPEOUT)



(:METHOD TV:SHEET :WHOPPER :EXPOSE): (P.C. = 262)
 (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
 Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (:INTERNAL (:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE) 0) 7600202>
 Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS -- 0. IV's, 15. FL's 14703326>
 Arg 2 (SELF-MAPPING-TABLE): TV:SHEET
 Arg 3 (.OPERATION.): :EXPOSE
 Arg 4 (TURN-ON-BLINKERS): NIL
 Arg 5 (BITS-ACTION): :NOOP
   --Defaulted args:--
 Arg 6 (X): 3
 Arg 7 (Y): 2
 Local 0 (*SHEETS-MADE-INVISIBLE-TO-MOUSE*): NIL
 Local 1 (VAL1): NIL
 Local 2 (VAL2): NIL
 Local 3 (VAL3): NIL
 Local 4 (.QUEUE-LEFT.): T
 Local 5 (DONE): NIL
 Local 6 (ERROR): (NIL "Attempt to expose ~S outside of its superior" #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
 Local 7: NIL
 Local 8 (SHEET): NIL
 Local 9 (E): NIL


(:METHOD TV:SHEET :WHOPPER :EXPOSE):  (P.C. = 262)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (:INTERNAL (:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE) 0) 7600202>
   Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS -- 0. IV's, 15. FL's 14703326>
   Arg 2 (SELF-MAPPING-TABLE): TV:SHEET
   Arg 3 (.OPERATION.): :EXPOSE
   Arg 4 (TURN-ON-BLINKERS): NIL
   Arg 5 (BITS-ACTION): :NOOP
   --Defaulted args:--
   Arg 6 (X): 3
   Arg 7 (Y): 2

(:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE):  (P.C. = 52)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Rest arg (.DAEMON-CALLER-ARGS.): (:EXPOSE NIL :NOOP)

(:METHOD TV:BASIC-TYPEOUT-WINDOW :EXPOSE-FOR-TYPEOUT):  (P.C. = 52)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Arg 0 (OPERATION): :EXPOSE-FOR-TYPEOUT
 7-Dec-82 15:24:39-EST,705;000000000000
Date: Tuesday, 7 December 1982, 15:15-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: File protocol suggestion
To: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ
In-reply-to: The message of 7 Dec 82 08:05-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Tuesday, 7 December 1982, 08:05-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    This is a suggestion for a pretty extended feature in the FILE protocol.
    I would like to see some kind of way to run an arbitrary command line on
I don't see why this has anything to do with the FILE protocol.  It sounds
like what you really want is a new network command-processor protocol
(contact name "cu_$cp", right?).
 7-Dec-82 16:35:37-EST,620;000000000000
Date: 7 December 1982 16:28-EST
From: George J. Carrette <GJC at MIT-ML>
Subject: META BUG BUG NOTE
To: BUG-LISPM at MIT-ML

Now that bugs notes have these hairy stack-backtraces, how about
adding an extra level of protocal to bug notes, so as to save on
disk space, and insure consistent replies? Suggestion:

BUG-LISPM sends to a program someplace, which records the entire large
bugnote in a file, and assigns the note a unique number with which to
refer to it. This program then SUMMARIZES the bugnote in some way,
and sends the summary notification to interested parties, the old
distribution list.

 7-Dec-82 16:58:59-EST,287;000000000000
Date: 7 December 1982 16:53-EST
From: Christopher C. Stacy <CStacy at MIT-MC>
To: BUG-LISPM at MIT-MC

As a convenience for patchable-system developers, there should be a
command in ZWEI to find-file all the source files (including patch
files) which defined a particular system.
 7-Dec-82 17:14:20-EST,1283;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  7 December 1982 17:07 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: File protocol suggestion
To:  Daniel L. Weinreb <dlw at SCRC-TENEX>
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 7 December 1982 15:20 est from Daniel L. Weinreb

    Date:  Tuesday, 7 December 1982, 15:15-EST
    From:  Daniel L. Weinreb <dlw at SCRC-TENEX>
    Subject:  File protocol suggestion

        Date: Tuesday, 7 December 1982, 08:05-EST
        From: Barry Margolin <Margolin at MIT-MULTICS>
        This is a suggestion for a pretty extended feature in the FILE protocol.
        I would like to see some kind of way to run an arbitrary command line on
    I don't see why this has anything to do with the FILE protocol.  It sounds
    like what you really want is a new network command-processor protocol
    (contact name "cu_$cp", right?).

Because the file server is alrady logged in, at least in most file
server implementations.  I don't think that I should have to give a
password for every different thing I want to do.  In addition, I think
of this as operating on the file, and we might be able to come up with
generic operations that would be implemented by requesting that the file
server do the work.
 7-Dec-82 18:43:53-EST,795;000000000000
Mail-From: EB created at  7-Dec-82 18:39:09
Date: Tuesday, 7 December 1982  18:39-EST
Sender: EB at MIT-OZ
From: EB at MIT-MC
To:   Barry Margolin at MIT-MULTICS
Cc:   BUG-LISPM at MIT-OZ, Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: File protocol suggestion
In-reply-to: The message of 7 Dec 1982 17:07 est from Barry Margolin at MIT-MULTICS

    From: Barry Margolin at MIT-MULTICS
        From:  Daniel L. Weinreb <dlw at SCRC-TENEX>
            From: Barry Margolin <Margolin at MIT-MULTICS>
    Because the file server is alrady logged in, at least in most file
    server implementations.  I don't think that I should have to give a
    password for every different thing I want to do.

Aha, yet another argument for letting the Lisp Machine system remember
passwords.
 7-Dec-82 19:11:00-EST,639;000000000000
Date: Tuesday, 7 December 1982, 18:53-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: CStacy at MIT-MC
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 7 Dec 82 16:53-EST from Christopher C. Stacy <CStacy at MIT-MC>

    Date: 7 December 1982 16:53-EST
    From: Christopher C. Stacy <CStacy at MIT-MC>
    As a convenience for patchable-system developers, there should be a
    command in ZWEI to find-file all the source files (including patch
    files) which defined a particular system.
There is.
M-X Select System As Tags Table "System"
M-X Tags Search "xyzzy"

Personally I can imagine no better user interface.
 7-Dec-82 19:47:10-EST,1365;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  7 December 1982 19:21 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: File protocol suggestion
To:  EB at MIT-MC
cc:  BUG-LISPM at MIT-OZ, Daniel L. Weinreb <dlw at SCRC-TENEX>
In-Reply-To:  Message of 7 December 1982 18:43 est from EB

    Date:  Tuesday, 7 December 1982  18:39-EST
    From:  EB at MIT-MC
    Subject:  File protocol suggestion

        From: Barry Margolin at MIT-MULTICS
            From:  Daniel L. Weinreb <dlw at SCRC-TENEX>
                From: Barry Margolin <Margolin at MIT-MULTICS>
        Because the file server is alrady logged in, at least in most file
        server implementations.  I don't think that I should have to give a
        password for every different thing I want to do.

    Aha, yet another argument for letting the Lisp Machine system remember
    passwords.

The MIT system has such an option and I turn it off.  I think it is
better (and faster) to put more functionality in one server than to
require a different server for every little function.  Believe it or
not, but some systems don't even allow a user to be logged in multiple
times (on Multics it is settable on a per-user/per-project basis), so
servers that require a logged in process would lose.  Also, creating a
process for every little thing is pretty expensive.
 7-Dec-82 20:27:10-EST,633;000000000000
Date: Tuesday, 7 December 1982, 20:26-EST
From: David Chapman <Zvona at MIT-OZ>
To: bug-lispm at MIT-OZ

    From: David L. Andre <DLA at SCRC-TENEX>
        As a convenience for patchable-system developers, there should be a
        command in ZWEI to find-file all the source files (including patch
        files) which defined a particular system.
    There is.
    M-X Select System As Tags Table "System"
    M-X Tags Search "xyzzy"

    Personally I can imagine no better user interface.

I can.  Tags Searching for xyzzy (I use 	) is a lousy way to say 
m-X Tags Find Files (which doesn't exist but should).
 7-Dec-82 21:04:34-EST,1169;000000000000
Date: Tuesday, 7 December 1982, 12:23-PST
From: Richard Lamson <rsl at SCRC-TENEX>
Subject: SUPDUP TTYSMT
To: David C. Plummer <DCP at MIT-MC>
Cc: BUG-ITS at MIT-MC, BUG-TWENEX at MIT-MC, BUG-SUPDUP at MIT-MC,
    BUG-LISPM at MIT-MC
In-reply-to: The message of 6 Dec 82 07:10-PST from Bernard S. Greenberg <BSG at SCRC-TENEX>

    Date: 4 December 1982 21:42-EST
    From: David C. Plummer <DCP at MIT-MC>
    To: BUG-ITS at MIT-MC, BUG-TWENEX at MIT-MC, BUG-SUPDUP at MIT-MC,
	BUG-LISPM at MIT-MC

    New field in the right half of the SUPDUP TTYSMT (TTY Smarts or
    graphics variable).

    DEFSYM	%TRTIM==003700
    DEFSYM	$TRTIM==060500	;5 BIT FIELD WHICH IS THE SIGNED OFFSET FROM GMT
			    ;MINUS #o20; A VALUE OF ZERO MEANS DON'T
			    ;KNOW, DON'T CARE, OR USER PROGRAM HASN'T
			    ;IMPLEMENTED IT YET
Yoiks!  I was under them impression that TTYSMT was always going to be
reserved for graphics information only.  That is, a graphics server
would always be able to tell that the device didn't support graphics if
TTYSMT was zero.  Are you sure this is what you want to do, rather than
create a new user variable?

-- Richard
 7-Dec-82 21:47:29-EST,546;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  7 December 1982 21:31 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: SUPDUP TTYSMT
To:  Richard Lamson <rsl at SCRC-TENEX>
cc:  David C. Plummer <DCP at MIT-MC>, BUG-ITS at MIT-MC, 
     BUG-TWENEX at MIT-MC, BUG-SUPDUP at MIT-MC, 
     BUG-LISPM at MIT-MC
In-Reply-To:  Message of 7 December 1982 21:23 est from Richard Lamson

The TTYSMT variable already has other non-graphics information in it.
It has information about local-editing and line-saving capability, I
believe.
 7-Dec-82 22:58:27-EST,1181;000000000000
Date: 7 December 1982  22:52-EST (Tuesday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   George J. Carrette <GJC at MIT-ML>
Cc:   BUG-LISPM at MIT-ML, bug-Zmail at oz, babyl-feature at mc
Subject: META BUG BUG NOTE
In-reply-to: The message of 7 Dec 1982  16:28-EST from George J. Carrette <GJC at MIT-ML>

    Date: Tuesday, 7 December 1982  16:28-EST
    From: George J. Carrette <GJC at MIT-ML>
    To:   BUG-LISPM at MIT-ML
    Re:   META BUG BUG NOTE

    BUG-LISPM sends to a program someplace, which records the entire large
    bugnote in a file, and assigns the note a unique number with which to
    refer to it. This program then SUMMARIZES the bugnote in some way,
    and sends the summary notification to interested parties, the old
    distribution list.

If unique numbers are imbedded in messages, it would be really neat
if when you try to reply to a (bug) message which someone else has
already answered, if your fancy mail reader would give you a 

Warning: This bug report may have already been explained.
If you would like to see the reply of FOO , then....(insert
whatever user interface is appropriate here)
 7-Dec-82 23:37:25-EST,1754;000000000000
Date: Tuesday, 7 December 1982, 23:27-EST
From: Hdt at oz
Sender: TRACHTMAN.SIPB at MIT-MULTICS
To: BUG-LISPM at EE

In Experimental System 218.101, Zmail 65.34, LMFS 28.20, Tape 11.1,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Eighteen:

I typed (login 'Trachtman.SIPB 'cmul).  Of course, it sent it capitalized
and lost while trying to log in.   I then retyped my user_id and it lost,
trying to log me in as something else.

>>Error: File job claims to have logged in as someone else.
While in the function FS:LOGIN-HOST-UNIT  (METHOD FS:FILE-HOST-MIXIN LOGIN-UNIT)  (METHOD FS:MULTICS-CHAOS-HOST COMBINED LOGIN-UNIT)



FS:LOGIN-HOST-UNIT: (P.C. = 334)
 Arg 0 (UNIT): #<HOST-UNIT 23500504>
 Arg 1 (LOGIN-P): T
 Arg 2 (CONDITION): #<QUNKNOWN-USER 23500605>
Local 0 (HOST): #<MULTICS-CHAOS-HOST MIT-MULTICS>
Local 1 (CONN): #<CHAOS Connection for FILE 1 to CMUL 2473367>
Local 2 (G2169): NIL
Local 3 (DATA-CONN): NIL
Local 4 (PKT): #<CHAOS Packet 23434730>
Local 5 (STR): " LOGIN Trachtman >user_dir_dir>SIPB>Trachtman>**

SIPB
"
Local 6 (PASSWORD): "paafoza"
Local 7 (IDX): 20
Local 8 (HSNAME-PATHNAME): NIL
Local 9 (ITEM): NIL
Local 10 (NEW-USER-ID): "Trachtman.SIPB"
Local 11 (PRINT-ERROR-MESSAGE): T
Local 12 (LOGIN-CONDITION): NIL


FS:LOGIN-HOST-UNIT:
   Arg 0 (UNIT): #<HOST-UNIT 23500504>
   Arg 1 (LOGIN-P): T
   Arg 2 (CONDITION): #<QUNKNOWN-USER 23500605>

(METHOD FS:FILE-HOST-MIXIN LOGIN-UNIT):
   Arg 0 (OPERATION): LOGIN-UNIT
   Arg 1 (UNIT): #<HOST-UNIT 23500504>
   Arg 2 (LOGIN-P): T
   --Defaulted args:--
   Arg 3 (CONDITION): NIL

(METHOD FS:MULTICS-CHAOS-HOST COMBINED LOGIN-UNIT):
   Rest arg (.DAEMON-CALLER-ARGS.): (LOGIN-UNIT #<HOST-UNIT 23500504> T)
 8-Dec-82 00:02:52-EST,963;000000000000
Date: Tuesday, 7 December 1982, 18:02-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Symbolics Lispm file servers
To: Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 7 Dec 82 07:18-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Tuesday, 7 December 1982, 07:18-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
    ZMail 47.13, microcode 187, hit me, on Ford Prefect:

    Perhaps this is a problem in the host-table; perhaps it doesn't
    differentiate between the different flavors of LispM file servers.  In
    any case, the problem is that System 89 cannot parse pathnames for PTR:,
    complaining about an unexpected character ">".  It seems to think that
    PTR wants FC:-style pathnames.
The symbolics file system isn't supported by system 89, and the MIT file
systems are not supported by system 222.
 8-Dec-82 00:05:05-EST,1330;000000000000
Date: Tuesday, 7 December 1982, 19:05-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: files on multiple machines
To: Margolin at MIT-MULTICS
Cc: GUMBY at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 7 Dec 82 12:52-EST from Vinayak Wallace <GUMBY at MIT-OZ>

    Date: Tuesday, 7 December 1982, 12:52-EST
    From: Vinayak Wallace <GUMBY at MIT-OZ>
	Date: Tuesday, 7 December 1982, 07:39-EST
	From: Barry Margolin <Margolin at MIT-MULTICS>
	In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
	ZMail 47.13, microcode 187, hit me, on Ford Prefect:

	I remember hearing something about this a long time ago, but I haven't
	heard anything lately.  There needs to be a way to maintain a parallel
	set of files on multiple machines.  In my case, it is my init files; I
	often login with different login machines, due to problems of machine
	availability.  Every time I update an init file, I have to make sure
	that I put copies of it at all sites.  It would be nice if there were an
	easier way to do this.

    Use M-X Balance Directories.
For your information, no such command currently exists in the symbolics
system.  There are functions in SYS: DISTRIBUTION; COPY which can do
that for you, however, though most of them operate on systems rather
than directories.
 8-Dec-82 02:12:13-EST,1125;000000000000
Date: Tuesday, 7 December 1982, 23:09-PST
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Re: SUPDUP TTYSMT
To: Barry Margolin at MIT-MULTICS, rsl at SCRC-TENEX
Cc: DCP at MIT-MC, BUG-ITS at MIT-MC, BUG-TWENEX at MIT-MC,
    BUG-SUPDUP at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: The message of 7 Dec 82 18:31-PST from Barry Margolin at MIT-MULTICS

    Return-Path: <Margolin@MIT-MULTICS.ARPA>
    Date:  7 December 1982 21:31 est
    From:  Barry Margolin at MIT-MULTICS
    Subject:  Re: SUPDUP TTYSMT
    To:  Richard Lamson <rsl at SCRC-TENEX>
    cc:  David C. Plummer <DCP at MIT-MC>, BUG-ITS at MIT-MC, 
	 BUG-TWENEX at MIT-MC, BUG-SUPDUP at MIT-MC, 
	 BUG-LISPM at MIT-MC
    In-Reply-To:  Message of 7 December 1982 21:23 est from Richard Lamson

    The TTYSMT variable already has other non-graphics information in it.
    It has information about local-editing and line-saving capability, I
    believe.
Indeed true.  To determine if the terminal supports supdup graphics you
test the BIT in ttysmt which is for that purpose; it is incorrect to
test the entire variable against zero.
 8-Dec-82 10:43:54-EST,1256;000000000000
Date: Wednesday, 8 December 1982, 10:34-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Logged in as someone else
To: Hdt at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 7 Dec 82 23:27-EST from Hdt at oz

    Date: Tuesday, 7 December 1982, 23:27-EST
    From: Hdt at oz
    In Experimental System 218.101, Zmail 65.34, LMFS 28.20, Tape 11.1,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Eighteen:

    I typed (login 'Trachtman.SIPB 'cmul).  Of course, it sent it capitalized
    and lost while trying to log in.   I then retyped my user_id and it lost,
    trying to log me in as something else.

    >>Error: File job claims to have logged in as someone else.
    While in the function FS:LOGIN-HOST-UNIT  (METHOD FS:FILE-HOST-MIXIN LOGIN-UNIT)  (METHOD FS:MULTICS-CHAOS-HOST COMBINED LOGIN-UNIT)

This is because you said Trachtman instead of Trachtman.SIPB.  The basic idea of this
check is bogus (it has to do with the set of valid ITS sixbit codes), and has been
removed (i.e., you would have logged in without problem) in 222.

Your password appeared in the stack trace that you sent.  THIS IS A SYSTEM DEFICIENCY.
Unless you edited the trace, change your password at once.
 8-Dec-82 14:13:27-EST,1254;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  8 December 1982 14:05 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Symbolics Lispm file servers
To:  David L. Andre <DLA at SCRC-TENEX>
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 8 December 1982 00:08 est from David L. Andre

    Date:  Tuesday, 7 December 1982, 18:02-EST
    From:  David L. Andre <DLA at SCRC-TENEX>
    Subject:  Symbolics Lispm file servers

        Date: Tuesday, 7 December 1982, 07:18-EST
        From: Barry Margolin <Margolin at MIT-MULTICS>
        In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
        ZMail 47.13, microcode 187, hit me, on Ford Prefect:

        Perhaps this is a problem in the host-table; perhaps it doesn't
        differentiate between the different flavors of LispM file servers.  In
        any case, the problem is that System 89 cannot parse pathnames for PTR:,
        complaining about an unexpected character ">".  It seems to think that
        PTR wants FC:-style pathnames.
    The symbolics file system isn't supported by system 89, and the MIT file
    systems are not supported by system 222.




Well, neither of you designed TOPS-20, but you support its file system.
 8-Dec-82 18:39:37-EST,1503;000000000000
Date: Wednesday, 8 December 1982, 18:36-EST
From: JCMa@MIT-OZ
Subject: Re: Symbolics Lispm file servers
To: Barry Margolin@MIT-MULTICS
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 8 Dec 82 14:05-EST from Barry Margolin at MIT-MULTICS

    Return-Path: <Margolin@MIT-MULTICS.ARPA>
    Date:  8 December 1982 14:05 est
    From:  Barry Margolin at MIT-MULTICS
    Subject:  Re: Symbolics Lispm file servers
    To:  David L. Andre <DLA at SCRC-TENEX>
    cc:  BUG-LISPM at MIT-OZ
    In-Reply-To:  Message of 8 December 1982 00:08 est from David L. Andre

	Date:  Tuesday, 7 December 1982, 18:02-EST
	From:  David L. Andre <DLA at SCRC-TENEX>
	Subject:  Symbolics Lispm file servers

	    Date: Tuesday, 7 December 1982, 07:18-EST
	    From: Barry Margolin <Margolin at MIT-MULTICS>
	    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
	    ZMail 47.13, microcode 187, hit me, on Ford Prefect:

	    Perhaps this is a problem in the host-table; perhaps it doesn't
	    differentiate between the different flavors of LispM file servers.  In
	    any case, the problem is that System 89 cannot parse pathnames for PTR:,
	    complaining about an unexpected character ">".  It seems to think that
	    PTR wants FC:-style pathnames.
	The symbolics file system isn't supported by system 89, and the MIT file
	systems are not supported by system 222.




    Well, neither of you designed TOPS-20, but you support its file system.
Good point!
 8-Dec-82 19:59:22-EST,2349;000000000000
Date: Wednesday, 8 December 1982, 19:52-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.10,
Experimental ZMail 48.2, microcode 204, on Lisp Machine Five:

This looks like it is looping.  Here is what the buffer contained:

(load "oz:ps:<dam.rup.lispm>rup.lisp")
(load "oz:ps:<eb.xrup>sysdcl.lisp")
(make-system ':xrup ':silent ':noconfirm)
(defmacro e (&rest forms)
  `(progn (terpri)
	  (time:print-current-time)
	  ,@ forms

I had gone to the last line, right after ,@ forms, and had typed [Tab].

>>Keyboard break.
Backtrace from the debugger:

TV:KBD-INTERCEPT-ERROR-BREAK (P.C. = 35)

 Arg 0 (CHAR): 1601
 Rest arg (IGNORE): (#<ZMACS-WINDOW-PANE Zmacs Window Pane 1 444521 exposed>)


EH:FOOTHOLD (P.C. = 20)



ZWEI:FORWARD-OVER (P.C. = 130)

 Arg 0 (LIST): (40 211 210)
 Arg 1 (BP): ("	  ,@ forms" 0)
   --Defaulted args:--
 Arg 2 (LIMIT-BP): ("" 0 MOVES)
Local 0 (*FROM-BP*): ("	  ,@ forms" 0)
Local 1 (*TO-BP*): ("" 0 MOVES)
Local 2 (LINE): "	  ,@ forms"
Local 3 (*FIRST-INDEX*): 0
Local 4 (*LAST-LINE*): ""
Local 5 (*THIS-IS-THE-LAST-LINE*): NIL
Local 6 (INDEX): 3
Local 7 (*LAST-INDEX*): 13


Additional information supplied with call:
 Expecting 2 values

ZWEI:INDENT-FOR-LISP (P.C. = 450)

 Arg 0 (BP): ("" 0)
 Arg 1 (START-DEFUN-BP): ("(defmacro e (&rest forms)" 0)
Local 0 (BP1): ("	  ,@ forms" 0)
Local 1 (BP2): NIL
Local 2 (INDENTATION): NIL
Local 3 (OFFSET): 0
Local 4 (SYM): PROGN
Local 5 (TEM): NIL
Local 6 (SPACE-WIDTH): 10
Local 7 (NSEXPS): NIL
Local 8 (LASTPAREN): ("  `(progn (terpri)" 3)
Local 9 (LASTSEXP): ("	  ,@ forms" 6)
Local 10 (IN-STRING): NIL
Local 11 (BP2): ("  `(progn (terpri)" 4)
Local 12 (I): 4
Local 13 (J): 11
Local 14 (LINE): "  `(progn (terpri)"
Local 15 (LENGTH): 22
Local 16 (BP3): NIL
Local 17 (MAX-I): NIL
Local 18 (L): NIL


ZWEI:INDENT-INTERVAL-FOR-LISP (P.C. = 222)

 Arg 0 (BP1): ("" 0)
 Arg 1 (BP2): ("" 0)
 Arg 2 (IN-ORDER-P): NIL
 Arg 3 (START-BP): ("(defmacro e (&rest forms)" 0)
 Arg 4 (COMMENTS-P): NIL
Local 0 (START-LINE): ""
Local 1 (STOP-LINE): ""
Local 2 (LINE): ""
Local 3 (BP): ("" 0)
Local 4 (INDENTATION): NIL
Local 5 (IN-STRING): NIL
Local 6 (COMMENT): NIL
 8-Dec-82 21:36:43-EST,1128;000000000000
Date: Wednesday, 8 December 1982, 18:32-PST
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Re: Symbolics Lispm file servers
To: JCMa at MIT-OZ, barmar at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 8 Dec 82 15:36-PST from JCMa at MIT-OZ

    Date: Wednesday, 8 December 1982, 18:36-EST
    From: JCMa@MIT-OZ

	Date:  8 December 1982 14:05 est
	From:  Barry Margolin at MIT-MULTICS

	Well, neither of you designed TOPS-20, but you support its file system.
    Good point!
Just to play Devil's advocate...  20X supports non-DEC terminals because
users/system hackers (i.e., non-DEC people) inplemented the necessary
things.  Multics supports non-Honeywell terminals largely because people
at MIT had non-Honeyewell terminals that they wanted to work with emacs
and the emacs terminal support easily allowed for this.  I'm not even
sure VAX/VMS can support anything other than DEC terminals.

I guess the bottom line is that it is not always the responsibility
of a vendor to directly support non-vendor features.  20X support may
have been around before Symbolics and LMI even formed.
 8-Dec-82 22:18:39-EST,679;000000000000
Date:  8 Dec 1982 2141-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: Symbolics Lispm file servers
To: Barry Margolin at MIT-MULTICS, DLA at SCRC-TENEX
cc: BUG-LISPM at MIT-OZ, RWK at SCRC-TENEX
In-Reply-To: The message of  8 December 1982 14:05 est from  Barry Margolin at MIT-MULTICS

    Date:  8 December 1982 14:05 est
    From:  Barry Margolin at MIT-MULTICS
    Well, neither of you designed TOPS-20, but you support its file system.
Hey, I agree, but I don't have time to write it.  There is some justice to
the idea that MIT should have to supply the support for MIT-specific hacks,
anyway.  But I would do it anyway if I had the time.
-------
 9-Dec-82 02:16:01-EST,390;000000000000
Date: Thursday, 9 December 1982, 02:15-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System
89.39, ZMail 47.13, microcode 201, , on Lisp Machine Apiary-1:

(mapc 'foo '(a b c))
>>TRAP etc., the function FOO is undefined.
(defun foo (x) x)
[Resume]

>>TRAP: The number, 1, was called as a function....
 9-Dec-82 02:36:13-EST,2072;000000000000
Date: Thursday, 9 December 1982, 02:33-EST
From: Daniel Huttenlocher <dph at MIT-SPEECH>
To: BUG-LISPM at OZ, bug-oz at mit-oz

In System 222.45, Hardcopy 11.4, Zmail 74.6, LMFS 30.1, Tape 13.0,
microcode 976, site configuration 1, on Lisp Machine Twenty-six:

(make-system 'ua) loses with the following, the file <s.sys>cadrlp.qbin is open
and 129 bytes (0%) have been read in.  I don't know if this is the lispm or the
file server.

>>Error: ("ERROR") is an invalid directory for FS:LOGICAL-PATHNAME
While in the function (METHOD FS:PATHNAME VALIDATE-COMPONENT)  (METHOD FS:PATHNAME VALIDATE)  (METHOD FS:PATHNAME-HASH-TABLE-MIXIN GET-PATHNAME)


(METHOD FS:PATHNAME VALIDATE-COMPONENT): (P.C. = 105)
 (SELF = #<LOGICAL-PATHNAME "SYS: cadrlp lisp 134">)
 Arg 0 (OPERATION): VALIDATE-COMPONENT
 Arg 1 (TEST-ARG): ("ERROR")
 Arg 2 (TEST-ARG-LOC): #<DTP-LOCATIVE 22305623>
 Arg 3 (VALID-MSG): RAW-DIRECTORY
 Arg 4 (TEST-MSG): VALID-DIRECTORY-P
 Arg 5 (CASE-MSG): CASE-DIRECTORY
 Arg 6 (UNCASE-MSG): UNCASE-DIRECTORY
 Arg 7 (COMPONENT): DIRECTORY
 Arg 8 (PRETTY-NAME): "directory"
 Local 0 (NEW-VALUE): NIL


(METHOD FS:PATHNAME VALIDATE-COMPONENT):  (P.C. = 105)
   (SELF = #<LOGICAL-PATHNAME "SYS: cadrlp lisp 134">)
   Arg 0 (OPERATION): VALIDATE-COMPONENT
   Arg 1 (TEST-ARG): ("ERROR")
   Arg 2 (TEST-ARG-LOC): #<DTP-LOCATIVE 22305623>
   Arg 3 (VALID-MSG): RAW-DIRECTORY
   Arg 4 (TEST-MSG): VALID-DIRECTORY-P
   Arg 5 (CASE-MSG): CASE-DIRECTORY
   Arg 6 (UNCASE-MSG): UNCASE-DIRECTORY
   Arg 7 (COMPONENT): DIRECTORY
   Arg 8 (PRETTY-NAME): "directory"

(METHOD FS:PATHNAME VALIDATE):  (P.C. = 174)
   (SELF = #<LOGICAL-PATHNAME "SYS: cadrlp lisp 134">)
   Arg 0 (OPERATION): VALIDATE

(METHOD FS:PATHNAME-HASH-TABLE-MIXIN GET-PATHNAME):  (P.C. = 66)
   (SELF = #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE SYS>)
   Arg 0 (OPERATION): GET-PATHNAME
   Arg 1 (DEV): UNSPECIFIC
   Arg 2 (DIR): ("ERROR")
   Arg 3 (NAM): "cadrlp"
   Arg 4 (TYP): "lisp"
   Arg 5 (VRS): 206
   Arg 6 (KEY): (("ERROR") "cadrlp" "lisp" 206)
 9-Dec-82 03:35:43-EST,667;000000000000
Date: Thursday, 9 December 1982, 03:34-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: EB at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 9 Dec 82 02:15-EST from Ed Barton <EB at MIT-OZ>

    Date: Thursday, 9 December 1982, 02:15-EST
    From: Ed Barton <EB at MIT-OZ>
    To: BUG-LISPM at MIT-OZ

    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System
    89.39, ZMail 47.13, microcode 201, , on Lisp Machine Apiary-1:

    (mapc 'foo '(a b c))
    >>TRAP etc., the function FOO is undefined.
    (defun foo (x) x)
    [Resume]

    >>TRAP: The number, 1, was called as a function....

This seems to work in 91.10.
 9-Dec-82 04:33:48-EST,7297;000000000000
Date: Thursday, 9 December 1982, 04:29-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.11,
Experimental ZMail 48.3, microcode 204, ., on Lisp Machine Thirty:

I did a C-Shift-F to specify a filename in a Select Buffer after I had already
typed three characters ("pro") and tried to complete on the buffer name (I saw
it wouldn't work, so I did C-Shift-F).  M-M-H-F looks like this:

(DEFUN M-M-H-F ()
  (TURN-ON-MODE 'AUTO-FILL-MODE)
  (TURN-ON-MODE 'ELECTRIC-SHIFT-LOCK-MODE)
  ;; two hairy conditional setq's of *fill-column* and *comment-column*
  )

>>TRAP 7407 (SUBSCRIPT-OOB M-Q M-S (NIL XAREF-RECHECK-INDEX) M-A)
The subscript 13 for #<NODE 16206377> was out of range in AR-1.
Backtrace from the debugger:

ZWEI:M-M-H-F (P.C. = 57)

Local 0 (FC): NIL
Local 1 (CC): NIL


ZWEI:TURN-ON-MODE (P.C. = 133)

 Arg 0 (MODE-SYMBOL): ZWEI:MIDAS-MODE
Local 0 (G5085): NIL
Local 1 (MINOR): NIL
Local 2 (HOOK): ZWEI:MIDAS-MODE-HOOK


ZWEI:READ-UNDEFAULTED-PATHNAME-STRING (P.C. = 222)

 Arg 0 (PROMPT): "File to use the buffer of: "
 Arg 1 (*READING-PATHNAME-DEFAULTS*): ((#<TOPS20-CHAOS-HOST MIT-OZ> . #FS:TOPS20-PATHNAME "OZ:PS:<PGS.MIN>CONVEN.MACROS") (#<ITS-CHAOS-HOST MIT-MC> . #FS:ITS-PATHNAME "MC: GUEST2; <PGS.P >") (NIL . #FS:TOPS20-PATHNAME "OZ:PS:<PGS.MIN>CONVEN.MACROS"))
 Arg 2 (*READING-PATHNAME-SPECIAL-TYPE*): NIL
 Arg 3 (*READING-PATHNAME-SPECIAL-VERSION*): NIL
 Arg 4 (*READING-PATHNAME-DIRECTION*): NEW-OK
 Arg 5 (MERGE-IN-SPECIAL-VERSION): T
Local 0 (*READING-PATHNAME-LAST-NAME-TYPED*): ""
Local 1 (OLD-LIST): (ZWEI:MIDAS-MODE ZWEI:AUTO-FILL-MODE ZWEI:ELECTRIC-SHIFT-LOCK-MODE)
Local 2 (INTERVAL): #<NODE 16206377>
Local 3 (G3243): NIL
Local 4 (ELT): NIL


ZWEI:READ-DEFAULTED-PATHNAME (P.C. = 56)

 Arg 0 (PROMPT): "File to use the buffer of: "
 Arg 1 (DEFAULTS): ((#<TOPS20-CHAOS-HOST MIT-OZ> . #FS:TOPS20-PATHNAME "OZ:PS:<PGS.MIN>CONVEN.MACROS") (#<ITS-CHAOS-HOST MIT-MC> . #FS:ITS-PATHNAME "MC: GUEST2; <PGS.P >") (NIL . #FS:TOPS20-PATHNAME "OZ:PS:<PGS.MIN>CONVEN.MACROS"))
 Arg 2 (SPECIAL-TYPE): NIL
 Arg 3 (SPECIAL-VERSION): NIL
 Arg 4 (DIRECTION): NEW-OK
   --Defaulted args:--
 Arg 5 (MERGE-IN-SPECIAL-VERSION): T
 Arg 6 (MERGE-TYPE): T


ZWEI:COM-SPECIFY-FILE-BUFFER (P.C. = 75)

Local 0 (FILENAME): NIL
Local 1 (BUFFER): NIL


Additional information supplied with call:
 Expecting 3 values

ZWEI:COMMAND-EXECUTE (P.C. = 100)

 Arg 0 (COMMAND): ZWEI:COM-SPECIFY-FILE-BUFFER
 Arg 1 (CHAR): 4506
 Arg 2 (PREFIX-CHAR): NIL
 Arg 3 (HOOK-LIST): (ZWEI:SHIFT-LOCK-HOOK)
Local 0 (G6771): NIL
Local 1 (HOOK): ZWEI:SHIFT-LOCK-HOOK


ZWEI:PROCESS-COMMAND-CHAR (P.C. = 67)

 Arg 0 (CH): 4506
Local 0 (VALUE): NIL
Local 1 (LINE): NIL
Local 2 (INDEX): NIL
Local 3 (G7269): NIL
Local 4 (HOOK): NIL


(METHOD ZWEI:EDITOR EDIT) (P.C. = 427)

 Arg 0 (OPERATION): EDIT
   --Defaulted args:--
 Arg 1 (TOP-LEVEL-P): NIL
Local 0 (G7193): ("Return to editor command loop.")
Local 1 (G7193): ((SYS:ABORT ERROR) ("Return to editor command loop.") T ("Return to editor command loop.") ...)
Local 2 (CH): 4506


ZWEI:COMMAND-LOOP (P.C. = 115)

 Arg 0 (COMTAB): #<COMTAB ZWEI:COMPLETING-READER-COMTAB 16522614>
 Arg 1 (WINDOW): #<WINDOW 16167224>
   --Defaulted args:--
 Arg 2 (TYPE): ZWEI:EDITOR
Local 0 (INSTANCE): #<EDITOR 20216463>
Local 1 (G7159): ((#<COMTAB ZWEI:COMPLETING-READER-COMTAB 16522614> #<WINDOW 16167224> ZWEI:EDITOR #<EDITOR 20216463>) (#<COMTAB ZWEI:PATHNAME-READING-COMTAB 16522623> #<WINDOW 16167224> ZWEI:EDITOR #<EDITOR 20104234>) (#<COMTAB ZWEI:PATHNAME-READING-COMTAB 16522623> #<WINDOW 21321721> ZWEI:EDITOR #<EDITOR 20077762>) (#<COMTAB ZWEI:COMPLETING-READER-COMTAB 16522614> #<WINDOW 21321721> ZWEI:EDITOR #<EDITOR 20077356>) ...)
Local 2 (CLL): (#<COMTAB ZWEI:COMPLETING-READER-COMTAB 16522614> #<WINDOW 16167224> ZWEI:EDITOR #<EDITOR 20216463>)


ZWEI:EDIT-IN-MINI-BUFFER (P.C. = 321)

 Arg 0 (COMTAB): #<COMTAB ZWEI:COMPLETING-READER-COMTAB 16522614>
 Arg 1 (INITIAL-CONTENTS): NIL
 Arg 2 (INITIAL-CHAR-POS): NIL
 Arg 3 (MODE-LINE-LIST): ("Select buffer: (CONVEN.MACROS PS:<PGS.MIN> OZ: ... C-Shift-F to specify filename)" (RIGHT-FLUSH " (Completion)"))
Local 0 (BP): ("<pgs.puma>prot.txt" 22 NORMAL)
Local 1 (VAL): NIL
Local 2 (SUCCESSFUL): NIL
Local 3 (INTERVAL): #<NODE 16206377>
Local 4 (G7562): NIL
Local 5 (CHAR): NIL
Local 6 (TYPEOUT-WINDOW): NIL


ZWEI:COMPLETING-READ-FROM-MINI-BUFFER (P.C. = 101)

 Arg 0 (PROMPT): "Select buffer: (CONVEN.MACROS PS:<PGS.MIN> OZ: ... C-Shift-F to specify filename)"
 Arg 1 (*COMPLETING-ALIST*): (("CONVEN.MACROS PS:<PGS.MIN> OZ:" . #<BUFFER "CONVEN.MACROS PS:<PGS.MIN> OZ:" 25547612>) ("CHSNCP.PALX PS:<PGS.MIN> OZ:" . #<BUFFER "CHSNCP.PALX PS:<PGS.MIN> OZ:" 20432057>) ("*Mail-1*" . #<BUFFER "*Mail-1*" 20335607>) ("PUMA.PALX PS:<PGS.PUMA> OZ:" . #<BUFFER "PUMA.PALX PS:<PGS.PUMA> OZ:" 20312365>) ...)
 Arg 2 (*COMPLETING-IMPOSSIBLE-IS-OK-P*): ZWEI:MAYBE
   --Defaulted args:--
 Arg 3 (INITIAL-COMPLETE): NIL
 Arg 4 (*COMPLETING-HELP-MESSAGE*): NIL
 Arg 5 (*COMPLETING-DOCUMENTER*): NIL
Local 0 (CONTENTS): NIL
Local 1 (CHAR-POS): NIL


ZWEI:READ-BUFFER-NAME (P.C. = 132)

 Arg 0 (PROMPT): "Select buffer: (CONVEN.MACROS PS:<PGS.MIN> OZ: ... C-Shift-F to specify filename)"
 Arg 1 (DEFAULT): #<BUFFER "CONVEN.MACROS PS:<PGS.MIN> OZ:" 25547612>
 Arg 2 (IMPOSSIBLE-IS-OK-P): ZWEI:MAYBE
Local 0 (G1955): (#<BUFFER "CONVEN.MACROS PS:<PGS.MIN> OZ:" 25547612> #<BUFFER "CHSNCP.PALX PS:<PGS.MIN> OZ:" 20432057> #<BUFFER "<PGS.P > GUEST2; MC:" 20312114> #<BUFFER "BUFFER-1" 16375425>)
Local 1 (BUF): #<BUFFER "CONVEN.MACROS PS:<PGS.MIN> OZ:" 25547612>
Local 2 (NAME): NIL


ZWEI:SELECT-BUFFER (P.C. = 31)

 Arg 0 (PROMPT): "Select buffer:"
 Arg 1 (ALLOW-CREATE-NEW): ZWEI:MAYBE


ZWEI:COM-SELECT-BUFFER (P.C. = 35)



ZWEI:COMMAND-EXECUTE (P.C. = 100)

 Arg 0 (COMMAND): ZWEI:COM-SELECT-BUFFER
 Arg 1 (CHAR): 142
 Arg 2 (PREFIX-CHAR): 530
   --Defaulted args:--
 Arg 3 (HOOK-LIST): NIL
Local 0 (G6771): NIL
Local 1 (HOOK): NIL


ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL (P.C. = 103)

Local 0 (PREFIX-CHAR): 530
Local 1 (CHAR): 142


Additional information supplied with call:
 Expecting 3 values

ZWEI:COMMAND-EXECUTE (P.C. = 100)

 Arg 0 (COMMAND): #<DTP-CLOSURE 5473052>
 Arg 1 (CHAR): 530
 Arg 2 (PREFIX-CHAR): NIL
 Arg 3 (HOOK-LIST): (ZWEI:SHIFT-LOCK-HOOK)
Local 0 (G6771): NIL
Local 1 (HOOK): ZWEI:SHIFT-LOCK-HOOK


ZWEI:PROCESS-COMMAND-CHAR (P.C. = 67)

 Arg 0 (CH): 530
Local 0 (VALUE): NIL
Local 1 (LINE): NIL
Local 2 (INDEX): NIL
Local 3 (G7269): NIL
Local 4 (HOOK): NIL


(METHOD ZWEI:EDITOR EDIT) (P.C. = 427)

 Arg 0 (OPERATION): EDIT
   --Defaulted args:--
 Arg 1 (TOP-LEVEL-P): T
Local 0 (G7193): ("Return to top level editor command loop.")
Local 1 (G7193): ((SYS:ABORT ERROR) ("Return to top level editor command loop.") T ("Return to top level editor command loop.") ...)
Local 2 (CH): 530


(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT) (P.C. = 111)

 Rest arg (.DAEMON-CALLER-ARGS.): (EDIT)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-5 17074744>
 9-Dec-82 08:52:22-EST,759;000000000000
Date: Thursday, 9 December 1982, 08:30-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: invalid directory
To: dph at MIT-SPEECH, BUG-LISPM at MIT-OZ, bug-oz at mit-oz
In-reply-to: The message of 9 Dec 82 02:33-EST from Daniel Huttenlocher <dph at MIT-SPEECH>

    Date: Thursday, 9 December 1982, 02:33-EST
    From: Daniel Huttenlocher <dph at MIT-SPEECH>

    (make-system 'ua) loses with the following, the file <s.sys>cadrlp.qbin is open
    and 129 bytes (0%) have been read in.  I don't know if this is the lispm or the
    file server.

    >>Error: ("ERROR") is an invalid directory for FS:LOGICAL-PATHNAME

It's in the Lispm.  I figured this out last night and sent mail about
it; there should be a patch for it later today.
 9-Dec-82 10:54:58-EST,840;000000000000
Date: Thursday, 9 December 1982, 10:50-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Your pathname bug: ("ERROR").
To: Daniel Huttenlocher <dph at MIT-SPEECH>
Cc: BUG-LISPM at MIT-OZ, bug-oz at mit-oz
In-reply-to: The message of 9 Dec 82 02:33-EST from Daniel Huttenlocher <dph at MIT-SPEECH>

    Date: Thursday, 9 December 1982, 02:33-EST
    From: Daniel Huttenlocher <dph at MIT-SPEECH>
    In System 222.45, Hardcopy 11.4, Zmail 74.6, LMFS 30.1, Tape 13.0,
    microcode 976, site configuration 1, on Lisp Machine Twenty-six:

    (make-system 'ua) loses with the following, the file <s.sys>cadrlp.qbin is open
    and 129 bytes (0%) have been read in.  I don't know if this is the lispm or the
    file server.

    >>Error: ("ERROR") is an invalid directory for FS:LOGICAL-PATHNAME
This is fixed by 222.52
 9-Dec-82 12:09:21-EST,575;000000000000
Date: Thursday, 9 December 1982, 12:08-EST
From: John Bradstreet <Bradst at MIT-OZ>
Subject: No period in HL12BI
To: BUG-LISPM at MIT-OZ
Cc: Bug-fonts at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.9,
Experimental ZMail 48.2, microcode 204, on Lisp Machine One:


  There doesn't seem to be a period symbol in the HL12BI font loaded
into this lisp machine, or if there is it's producing nothing more that
white space. I find this rather wierd to say the least.

  -Bradst
 9-Dec-82 18:34:20-EST,611;000000000000
Mail-From: RICH created at  9-Dec-82 18:30:47
Date: 9 December 1982  18:30-EST (Thursday)
Sender: RICH at MIT-OZ
From: Charles Rich <RICH at MIT-MC>
To:   bug-lispm at MIT-OZ
Subject: Multiple Values returned from Macros 

Has it been suggested that the compiler accept multiple
return values from a top level macro and process each
one as if it were top level (i.e. like (PROGN 'COMPILE ...))?
This seems like a very natural semantics and much
less ad hoc than the PROGN 'COMPILE hack.

		-Chuck.

P.S. To be consistent the interpreter should also evaluate
all the return values at top level.
 9-Dec-82 19:24:51-EST,997;000000000000
Date: Thursday, 9 December 1982, 18:48-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Multiple Values returned from Macros 
To: RICH at MIT-MC, bug-lispm at MIT-OZ
In-reply-to: The message of 9 Dec 82 18:30-EST from Charles Rich <RICH at MIT-MC>

    Date: 9 December 1982  18:30-EST (Thursday)
    From: Charles Rich <RICH at MIT-MC>
    Has it been suggested that the compiler accept multiple
    return values from a top level macro and process each
    one as if it were top level (i.e. like (PROGN 'COMPILE ...))?
    This seems like a very natural semantics and much
    less ad hoc than the PROGN 'COMPILE hack.

		    -Chuck.

    P.S. To be consistent the interpreter should also evaluate
    all the return values at top level.
I don't find these semantics natural at all.  What's more, it will screw people
who call functions as a last function in a macro, when they do not know about
possible gratuitous auxiliarly values returned from that function.
 9-Dec-82 22:59:58-EST,951;000000000000
Date: Thursday, 9 December 1982, 22:54-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Multiple Values returned from Macros 
To: Charles Rich <RICH at MIT-MC>
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 9 Dec 82 18:30-EST from Charles Rich <RICH at MIT-MC>

    Date: 9 December 1982  18:30-EST (Thursday)
    From: Charles Rich <RICH at MIT-MC>
    Has it been suggested that the compiler accept multiple
    return values from a top level macro and process each
    one as if it were top level (i.e. like (PROGN 'COMPILE ...))?
    This seems like a very natural semantics and much
    less ad hoc than the PROGN 'COMPILE hack.

		    -Chuck.

    P.S. To be consistent the interpreter should also evaluate
    all the return values at top level.
This seems completely ad hoc to me.

What's wrong with (EVAL-WHEN (EVAL COMPILE) ...),
which seems not at all ad hoc, and I believe is what
Common Lisp specifies?
10-Dec-82 02:49:08-EST,2012;000000000000
Date: Friday, 10 December 1982, 02:40-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Re: Symbolics Lispm file servers
To: JCMa at MIT-OZ, Barry Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 8 Dec 82 18:36-EST from JCMa at MIT-OZ

    Date: Wednesday, 8 December 1982, 18:36-EST
    From: JCMa@MIT-OZ
	Date:  8 December 1982 14:05 est
	From:  Barry Margolin at MIT-MULTICS
	    Date:  Tuesday, 7 December 1982, 18:02-EST
	    From:  David L. Andre <DLA at SCRC-TENEX>
		Date: Tuesday, 7 December 1982, 07:18-EST
		From: Barry Margolin <Margolin at MIT-MULTICS>
		In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.48,
		ZMail 47.13, microcode 187, hit me, on Ford Prefect:

		Perhaps this is a problem in the host-table; perhaps it doesn't
		differentiate between the different flavors of LispM file servers.  In
		any case, the problem is that System 89 cannot parse pathnames for PTR:,
		complaining about an unexpected character ">".  It seems to think that
		PTR wants FC:-style pathnames.
	    The symbolics file system isn't supported by system 89, and the MIT file
	    systems are not supported by system 222.
	Well, neither of you designed TOPS-20, but you support its file system.
    Good point!
Nobody here has the time to write support for FC or FS, and, judging
from the small demand shown by 11 months of bug reports, it hardly seems
worth our time.  You are welcome to prove me wrong.  Note that it is not
simply a simple process of translation, since the system interface at
that level differs significantly at that level between Symbolics and MIT
systems.  There are a number of other difficult issues, for example, how
do you know which of three file systems and two protocols CADR-123 is
running?  Especially when it runs system 89 in the morning and 218 in
the afternoon?

But your analogy is flawed; I did write FS, and did support it in
Symbolics systems until I decided it was a waste of time.
10-Dec-82 04:29:07-EST,1685;000000000000
Mail-From: HANSON created at 10-Dec-82 04:28:16
Date: Friday, 10 December 1982  04:28-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ
Subject: Symbolics Lispm file servers
In-reply-to: The message of 10 Dec 1982 02:40-EST from David L. Andre <DLA at SCRC-TENEX>

    Date: Friday, 10 December 1982, 02:40-EST
    From: David L. Andre <DLA at SCRC-TENEX>

    There are a number of other difficult issues, for example, how
    do you know which of three file systems and two protocols CADR-123 is
    running?  Especially when it runs system 89 in the morning and 218 in
    the afternoon?

This is particular is an issue that has bothered me since this summer
when we were using both systems at HP and switching reasonably often.
I will complain now as I have before -- The file protocol lacks the
ability to find out what kind of system is running, and that is a
crock.  RMS has suggested that a new server be implemented, which is
responsible for describing the interesting aspects of the running
system on the machine.  It would also not be difficult to modify the
file protocol so that opening files would specify which file system to
use, thus allowing multiple file systems on a single machine with the
same server.

I for one feel that something like this capability is sorely needed.
It is unreasonable to assume that a particular file system is running
on a particular machine for all time, as is currently the case.  It is
also unreasonable to assume that one system or the other will
dominate, and that we need not worry about the problem.  It will
return to haunt us.
10-Dec-82 09:52:20-EST,431;000000000000
Date: Friday, 10 December 1982, 09:51-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: Grr
To: bug-lispm at MIT-OZ

222.

How do I flush this required subject ``feature''?

~\datime\ reminds me of MAKNUM and HAULONG.  What's wrong with
~\daytime\ which is almost an English word?

On window shades or whatever they are called now, there seems to be more
whitespace at the left end of the bar than on the right end.
10-Dec-82 10:54:46-EST,726;000000000000
Date: 10 Dec 1982 1049-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: Multiple Values returned from Macros 
To: RICH at MIT-MC
cc: bug-lispm at MIT-OZ
In-Reply-To: The message of 9 December 1982  18:30-EST (Thursday) from Charles Rich <RICH at MIT-MC>

The problem with this is that some functions "just happen" to return multiple
values, and so one might forget that an extra value is being returned,
and thus get a spurious top-level form.  In Common Lisp, it is defined
that if a macro returns (progn ...), the forms are all seen by the
compiler top-level; the 'compile is not needed.  You can also use
eval-when instead of progn.  I think this is a dufficient solution to
the problem.
-------
10-Dec-82 12:56:20-EST,1910;000000000000
Date: Friday, 10 December 1982, 12:55-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: System 222
To: INFO-LISPM at MIT-OZ

System 222 is now released to users.  It goes with microcode 977.  LOD4
of LM6 (222.57) contains the official release band.  Unfortunately a
couple of the bands I used while debugging the release software were
copied to a other machines before this announcement.  Although I think I
destroyed all of them, there may still be some lurking in the shadows,
beware.

Updated release notes are in OZ:SRC:<S.DOC>RELEASE-4.TEXT.  Hardcopies
of the release notes will be available in large quantities as soon as they
are printed.  System 222 is being released early to beta-test sites; in
a few weeks it will be renamed to Release 4 and sent to all Symbolics
sites.

There are very few changes in 222 since 218.  The only major change is a
remodularization of the Hardcopy software (the long promised "New
Hardcopy System").  Most programs which ran in 218 should run without
change in 222.  Experimental System 218 had a number of fairly serious
problems, and should no longer be used.

A major change affecting MIT users in this release is that OZ is now the
SYS host for symbolics systems.  The sources are kept in a hierarchy
under SRC:<S>, and patches and sources will be updated between MIT
and SCRC periodically.  The sources on EE will continue be updated
infrequently, but should be considered read-only to make life easier for
me when merging files.  We hope that this move is more conducive to
co-operation between the MIT community and Symbolics.  The move to OZ does
not, however, reflect any policy change:  software modifications made at
customer sites are still subject to audit, and everyone is expected to
abide by the software agreements between MIT and Symbolics.

If there are any questions, please addess them to BUG-LISPM@MIT-OZ.
10-Dec-82 16:36:29-EST,2924;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  10 December 1982 15:06 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Symbolics Lispm file servers
To:  HANSON at MIT-MC
cc:  David L. Andre <DLA at SCRC-TENEX>, BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 10 December 1982 04:33 est from HANSON

    Date:  Friday, 10 December 1982  04:28-EST
    From:  HANSON at MIT-MC
    Subject:  Symbolics Lispm file servers

        Date: Friday, 10 December 1982, 02:40-EST
        From: David L. Andre <DLA at SCRC-TENEX>

        There are a number of other difficult issues, for example, how
        do you know which of three file systems and two protocols CADR-123 is
        running?  Especially when it runs system 89 in the morning and 218 in
        the afternoon?

  It would also not be difficult to modify the
    file protocol so that opening files would specify which file system to
    use, thus allowing multiple file systems on a single machine with the
    same server.

Open time is too late, as you have to know what type of file system is
running in order to parse the pathname.

    This is particular is an issue that has bothered me since
    this summer when we were using both systems at HP and
    switching reasonably often.  I will complain now as I have
    before -- The file protocol lacks the ability to find out
    what kind of system is running, and that is a crock.  RMS has
    suggested that a new server be implemented, which is
    responsible for describing the interesting aspects of the
    running system on the machine.  I for one feel that something
    like this capability is sorely needed.  It is unreasonable to
    assume that a particular file system is running on a
    particular machine for all time, as is currently the case.
    It is also unreasonable to assume that one system or the
    other will dominate, and that we need not worry about the
    problem.  It will return to haunt us.

I think that it is silly for a LispM that is running a file server to
change its coat.  For instance, it would be unreasonable for a server to
change flavors after someone has already logged in to it, as they then
think that it is one thing but it is another.  When I say
"CADR-123:<path>" I have a particular expectation of what files are on
CADR-123.  I think that a better way to deal with a Lisp Machine that
likes to change bands is to give it two names, and teach it not to
respond to one name when it is running the other band.  Thus, CADR-123A:
is the same physical machine but a different logical machine from
CADR-123B:.

Since I am not familiar with the programming nnecessary to support a
particular file system, please explain to me how much the LispM has to
do.  The noticeable part is pathname parsing; what else?  This quation
is not merely academic; I may end up writing what is necessary.
				barmar
10-Dec-82 17:56:27-EST,1851;000000000000
Mail-From: RICH created at 10-Dec-82 17:53:48
Date: 10 December 1982  17:53-EST (Friday)
Sender: RICH at MIT-OZ
From: Charles Rich <RICH at MIT-MC>
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   bug-lispm at MIT-OZ
Subject: PROGN 'COMPILE hack
In-reply-to: The message of 9 Dec 1982 22:54-EST from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Thursday, 9 December 1982, 22:54-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    To:   Charles Rich <RICH>
    cc:   bug-lispm
    Re:   Multiple Values returned from Macros 

        Date: 9 December 1982  18:30-EST (Thursday)
        From: Charles Rich <RICH at MIT-MC>
        Has it been suggested that the compiler accept multiple
        return values from a top level macro and process each
        one as if it were top level (i.e. like (PROGN 'COMPILE ...))?
        This seems like a very natural semantics and much
        less ad hoc than the PROGN 'COMPILE hack.

    		    -Chuck.

        P.S. To be consistent the interpreter should also evaluate
        all the return values at top level.

    This seems completely ad hoc to me.

    What's wrong with (EVAL-WHEN (EVAL COMPILE) ...),
    which seems not at all ad hoc, and I believe is what
    Common Lisp specifies?

Will this work in current LispMachine Lisp to compile all of the
following defuns?


	(EVAL-WHEN (EVAL COMPILE)
	    (DEFUN ...)
	    (DEFUN ...)
            (DEFUN ...))

Also, will this form nest like PROGN 'COMPILE?  I.e. will
this work:

	(EVAL-WHEN (EVAL COMPILE)
	    (DEFUN ...)
	    (EVAL-WHEN (EVAL COMPILE)
	       	(DEFUN ...)
	        (DEFUN ...)))

If so, this also is much less ad hoc than PROGN 'COMPILE
and should be reccomended in the manual Section 17.4.3
(Macros Expanding into Many Forms) instead of PROGN 'COMPILE.

		Thanks, Chuck.
10-Dec-82 18:21:21-EST,1182;000000000000
Date: Friday, 10 December 1982, 18:18-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: I don't WANT to put a subject line here!
To: BUG-LISPM at MIT-OZ

In System 222.58, Hardcopy 11.5, Zmail 74.11, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Twenty-two:

The s-B procede type got <<error printing procede option>>.  Since s-A
and s-C are both setf-specfic, this one probably is too.

>>Error: PORTS* has no SETF property.  Can't invert this reference:  (PORTS* NEW-PLAN)
While in the function SI:SETF-1  SETF  MACROEXPAND-1
While compiling COPY-PLAN


SI:SETF-1: (P.C. = 165)
 Arg 0 (X): (SETF (PORTS* NEW-PLAN) (COPY-PORTS* OLD-PLAN NEW-PLAN))
 Local 0 (REF): (PORTS* NEW-PLAN)
 Local 1 (VAL): (COPY-PORTS* OLD-PLAN NEW-PLAN)
 Local 2 (FCN): NIL
 Local 3 (SYM): NIL


SI:SETF-1:  (P.C. = 165)
   Arg 0 (X): (SETF (PORTS* NEW-PLAN) (COPY-PORTS* OLD-PLAN NEW-PLAN))

SETF:  (P.C. = 22)
   Arg 0 (X): (SETF (PORTS* NEW-PLAN) (COPY-PORTS* OLD-PLAN NEW-PLAN))

MACROEXPAND-1:  (P.C. = 140)
   Arg 0 (MACRO-CALL): (SETF (PORTS* NEW-PLAN) (COPY-PORTS* OLD-PLAN NEW-PLAN))
   --Defaulted args:--
   Arg 1 (IGNORE): NIL
10-Dec-82 18:26:18-EST,564;000000000000
Date: Friday, 10 December 1982, 18:22-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at EE

In Experimental System 218.154, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

In the reader (correspondence stuff)

With the Region being:

(FOO '(BAR BAZ))

Doing 

(LET ((SI:XR-CORRESPONDENCE-FLAG T)
      (SI:XR-CORRESPONDENCE NIL))
  (READ (INTERVAL-STREAM (MARK) (POINT)) NIL)
  SI:XR-CORRESPONDENCE)

Gets an error attempt to :UNTYI something other than last :TYIed.
10-Dec-82 18:31:23-EST,2143;000000000000
Date: Friday, 10 December 1982, 18:29-EST
From: John C. Mallery <JCMa at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.12,
Experimental ZMail 48.3, microcode 204, !, on Lisp Machine Eighteen:


Insert your description of the circumstances here:

This happened while trying to do a dired.

>>TRAP 7199. (TRANS-TRAP)
The function NIL is undefined.
Backtrace from the debugger:

TV:DISPLAY-FILE-TRANSFER (P.C. = 122)

 Arg 0 (SHEET): #<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed>
 Arg 1 (PATHNAME): NIL
 Arg 2 (DIRECTION): INPUT
 Arg 3 (COUNT): 0.
 Arg 4 (PERCENT): NIL
 Arg 5 (MAX-CHARS): 36.
Local 0 (FILE-NAME): NIL
Local 1 (FILE-NAME-LENGTH): NIL
Local 2 (FILE-NAME-LIMIT): NIL
Local 3 (COUNT-STRING-LENGTH): NIL
Local 4 (PERCENT-STRING-LENGTH): NIL
Local 5 (DISPLAY-COUNT-P): NIL
Local 6 (DISPLAY-PERCENT-P): NIL


(METHOD TV:WHO-LINE-FILE-SHEET UPDATE) (P.C. = 204)

 Arg 0 (OPERATION): UPDATE
Local 0 (MAX-CHARS): 36.
Local 1 (IDLE): NIL
Local 2 (STRING): NIL
Local 3 (OLD-STREAM): NULL
Local 4 (PATHNAME): NIL
Local 5 (DIRECTION): INPUT
Local 6 (PERCENT): NIL
Local 7 (COUNT): 0.
Local 8 (OLD-IDLE): NIL
Local 9 (STRING): NIL


(METHOD TV:WHO-LINE-FILE-SHEET COMBINED UPDATE) (P.C. = 105)

 Rest arg (.DAEMON-CALLER-ARGS.): (UPDATE)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-14. 7320017>


TV:WHO-LINE-UPDATE (P.C. = 75)

   --Defaulted args:--
 Arg 0 (RUN-STATE-ONLY-P): NIL
Local 0 (RL): 16777215.
Local 1 (G6834): (#<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed> #<WHO-LINE-SHEET Who Line Sheet 4 2140215 exposed> #<WHO-LINE-SHEET Who Line Sheet 3 2140271 exposed> #<WHO-LINE-SHEET Who Line Sheet 2 2140345 exposed> ...)
Local 2 (I): #<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed>


TV:WHO-LINE-FILE-SHEET-COMPUTE-CURRENT-STREAM (P.C. = 117)

 Arg 0 (UPDATE-P): T
Local 0 (I): 0.
Local 1 (OUTPUT-WINNER): NIL
Local 2 (STREAM): #<FILE-DIRECTORY-STREAM "OZ:SRC:<JCMA.A>*.*.*" 17733613>
Local 3 (DIRECTION): INPUT
10-Dec-82 19:31:00-EST,1535;000000000000
Date: Friday, 10 December 1982, 18:04-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Re: Symbolics Lispm file servers
To: Barry Margolin at MIT-MULTICS, HANSON at MIT-MC
Cc: DLA at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 10 Dec 82 15:06-EST from Barry Margolin at MIT-MULTICS

    Date:  10 December 1982 15:06 est
    From:  Barry Margolin at MIT-MULTICS
    Since I am not familiar with the programming nnecessary to support a
    particular file system, please explain to me how much the LispM has to
    do.  The noticeable part is pathname parsing; what else?  This quation
    is not merely academic; I may end up writing what is necessary.

You have to implement a new pathname flavor.  There is an excellent,
concise, isolated model in sys: lmfs; lmfs-pathnames lisp. See also sys:
lmfs; fs-user lisp for the non-syntactic half of the lmfs pathname
implementation, namely the whoppers (see below) and the host flavor (you
need one of those, too).  The code in these two files is completely
sufficient to support talking to a remote LMFS, with NONE of the LMFS
system loaded locally.

The whopper baloney in fs-user deals with the issue of local file
systems versus remote file systems; if you're only interested in having
it work remotely (that is, the file system MUST be on a different
machine than you're running on, which is probably true if the file
system is FS or FC and you're writing this code to run in 222) then you
don't need the whoppers.

Good luck.
10-Dec-82 19:36:57-EST,1535;000000000000
Date: Friday, 10 December 1982, 18:04-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Re: Symbolics Lispm file servers
To: Barry Margolin at MIT-MULTICS, HANSON at MIT-MC
Cc: DLA at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 10 Dec 82 15:06-EST from Barry Margolin at MIT-MULTICS

    Date:  10 December 1982 15:06 est
    From:  Barry Margolin at MIT-MULTICS
    Since I am not familiar with the programming nnecessary to support a
    particular file system, please explain to me how much the LispM has to
    do.  The noticeable part is pathname parsing; what else?  This quation
    is not merely academic; I may end up writing what is necessary.

You have to implement a new pathname flavor.  There is an excellent,
concise, isolated model in sys: lmfs; lmfs-pathnames lisp. See also sys:
lmfs; fs-user lisp for the non-syntactic half of the lmfs pathname
implementation, namely the whoppers (see below) and the host flavor (you
need one of those, too).  The code in these two files is completely
sufficient to support talking to a remote LMFS, with NONE of the LMFS
system loaded locally.

The whopper baloney in fs-user deals with the issue of local file
systems versus remote file systems; if you're only interested in having
it work remotely (that is, the file system MUST be on a different
machine than you're running on, which is probably true if the file
system is FS or FC and you're writing this code to run in 222) then you
don't need the whoppers.

Good luck.
10-Dec-82 20:25:57-EST,1681;000000000000
Date: Friday, 10 December 1982  19:14-EST
From: Alan Bawden <ALAN at SCRC-TENEX>
To:   Charles Rich <RICH at MIT-MC>, bug-lmman at scrc
Cc:   bug-lispm at MIT-OZ, Robert W. Kerns <RWK at SCRC-TENEX>
Subject: PROGN 'COMPILE hack
In-reply-to: The message of 10 Dec 1982  17:53-EST () from Charles Rich <RICH at MIT-MC>

    Date: 10 December 1982  17:53-EST (Friday)
    From: Charles Rich <RICH at MIT-MC>

    Will this work in current LispMachine Lisp to compile all of the
    following defuns?


    	(EVAL-WHEN (EVAL COMPILE)
    	    (DEFUN ...)
    	    (DEFUN ...)
                (DEFUN ...))

No it won't.  But only because you meant to write (EVAL-WHEN (EVAL LOAD) ...).
That is equivalent to (PROGN 'COMPILE ...).  I have no idea why RWK said
(EVAL-WHEN (EVAL COMPILE) ...), perhaps he was disorented by the fact that
the word COMPILE appears in both places for different reasons.

    Also, will this form nest like PROGN 'COMPILE?  I.e. will
    this work:

    	(EVAL-WHEN (EVAL COMPILE)
    	    (DEFUN ...)
    	    (EVAL-WHEN (EVAL COMPILE)
    	       	(DEFUN ...)
    	        (DEFUN ...)))

Again, yes if you replace the (EVAL COMPILE) by (EVAL LOAD).

    If so, this also is much less ad hoc than PROGN 'COMPILE
    and should be reccomended in the manual Section 17.4.3
    (Macros Expanding into Many Forms) instead of PROGN 'COMPILE.

Good point.  The manual should be careful to explain that nested (EVAL-WHEN
(EVAL LOAD) ...)'s do just what you might expect, and it should refer you
to the documentation on EVAL-WHEN which should explain what nested
EVAL-WHEN's do in \general/ (which isn't as straighforward).
10-Dec-82 23:36:04-EST,943;000000000000
Date: Friday, 10 December 1982, 23:31-EST
From: Margolin at multics
Sender: s.barmar at MIT-EECS
Subject: The reader
To: BUG-LISPM at EE

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 28, on Marvin:

I guess I am just making trouble, but it bothers me that the
hairy-kludgey Multics Maclisp reader does this better than the LispM.

If I try to make another character equivalent to "." it only partially
works.  I used
	(set-syntax-from-char #/^ #/.)
With this definition, 
	(foo ^ bar)
reads in properly as a dotted pair, but
	123^456
complains that 456 is too large an exponent, rather than reading in as
the flonum 123.456.

This is not purely academic.  I could conceive of a European wanting to
use comma as the decimal point, as it is common in many European
countries to use periods to delimit the groups-of-three-digits (there
must be a name for these!).
11-Dec-82 01:16:42-EST,560;000000000000
Date: Saturday, 11 December 1982, 01:12-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.12,
Experimental ZMail 48.2, microcode 204, ., on Lisp Machine Eighteen:

I got a bug while trying to do a control-x d in zwei:

the function nil is undefined.  the calling function was TV:DISPLAY-FILE-TRANSFER
It seemed that the argument PATHNAME was nil.  I suppose the problem is related
to that wrong pathname.
11-Dec-82 01:22:10-EST,398;000000000000
Date: Saturday, 11 December 1982, 01:22-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.12,
Experimental ZMail 48.2, microcode 204, ., on Lisp Machine Eighteen:

 Does APROPOS not take a package argument anymore???? or is it just simply broken?
11-Dec-82 04:57:49-EST,1300;000000000000
Date: Saturday, 11 December 1982  04:47-EST
From: Alan Bawden <ALAN at SCRC-TENEX>
To:   Margolin at multics
Cc:   BUG-LISPM at EE
Subject: The reader
In-reply-to: The message of 10 Dec 1982 23:31-EST from Margolin at multics

    Date: Friday, 10 December 1982, 23:31-EST
    From: Margolin at multics

    I guess I am just making trouble, but it bothers me that the
    hairy-kludgey Multics Maclisp reader does this better than the LispM.

Really?  It doesn't bother me!  Seriously, this is a well-known dead bear.
I plan to take some sort of crack at fixing this in honor of Common Lisp.

    If I try to make another character equivalent to "." it only partially
    works.  I used
    	(set-syntax-from-char #/^ #/.)
    With this definition, 
    	(foo ^ bar)
    reads in properly as a dotted pair, but
    	123^456
    complains that 456 is too large an exponent, rather than reading in as
    the flonum 123.456.

This is because the finite state tokenizer correctly parses the flonum, but
the code charged with mapping the string "123^456" into a flonum 123.456
has the character #/. built into it as a constant...  Unfortunately there
is no good way for it to find out just what character IS currently
functioning as a decimal point.  Fixed in the future.
11-Dec-82 06:52:19-EST,1855;000000000000
Date: Saturday, 11 December 1982, 06:47-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: PROGN 'COMPILE hack
To: Charles Rich <RICH at MIT-MC>
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 10 Dec 82 17:53-EST from Charles Rich <RICH at MIT-MC>

    Date: 10 December 1982  17:53-EST (Friday)
    From: Charles Rich <RICH at MIT-MC>
	Date: Thursday, 9 December 1982, 22:54-EST
	From: Robert W. Kerns <RWK at SCRC-TENEX>
	    Date: 9 December 1982  18:30-EST (Thursday)
	    From: Charles Rich <RICH at MIT-MC>
	    Has it been suggested that the compiler accept multiple
	    return values from a top level macro and process each
	    one as if it were top level (i.e. like (PROGN 'COMPILE ...))?
	    This seems like a very natural semantics and much
	    less ad hoc than the PROGN 'COMPILE hack.

			-Chuck.

	    P.S. To be consistent the interpreter should also evaluate
	    all the return values at top level.

	This seems completely ad hoc to me.

	What's wrong with (EVAL-WHEN (EVAL COMPILE) ...),
	which seems not at all ad hoc, and I believe is what
	Common Lisp specifies?

    Will this work in current LispMachine Lisp to compile all of the
    following defuns?


	    (EVAL-WHEN (EVAL COMPILE)
		(DEFUN ...)
		(DEFUN ...)
		(DEFUN ...))

    Also, will this form nest like PROGN 'COMPILE?  I.e. will
    this work:

	    (EVAL-WHEN (EVAL COMPILE)
		(DEFUN ...)
		(EVAL-WHEN (EVAL COMPILE)
		    (DEFUN ...)
		    (DEFUN ...)))

    If so, this also is much less ad hoc than PROGN 'COMPILE
    and should be reccomended in the manual Section 17.4.3
    (Macros Expanding into Many Forms) instead of PROGN 'COMPILE.

Err, that should be (EVAL LOAD), I must have been asleep.
You want to specify the same semantics as enjoyed by forms
at toplevel in a file.

Yes, it works.
11-Dec-82 09:01:53-EST,1084;000000000000
Date: 11 December 1982 08:59-EST
From: Richard Mlynarik <MLY at MIT-ML>
Subject: Message of 11-Dec-82 03:28:43
To: bug-lispm at MIT-OZ

    Date: Saturday, 11 December 1982, 03:29-EST
From: Richard Mlynarik <daniel.g.mly at MIT-OZ>
To: BUG-LISPM at MIT-OZ
 In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.12,
Experimental ZMail 48.3, microcode 204, on Lisp Machine One:
 "The function NIL is undefined.
  While in the function TV:DISPLAY-FILE-TRANSFER  (METHOD TV:WHO-LINE-FILE-SHEET UPDATE)
  TV:DISPLAY-FILE-TRANSFER: (P.C. = 122)
     Arg 0 (SHEET): #<who-line-file-sheet ...
     Arg 1 (FILENAME): NIL
     Arg 2 (DIRECTION): INPUT
     Arg 3 (COUNT): 0
     Arg 4 (PERCENT): NIL
     Arg 5 (MAX-CHARS): 44
      ..."

This happened while trying to to a DIRED (using c-x d) on a directory from which I'd just read
a file (oz: ps: <tex>-read-.-this-) I had not previously used that directory or DIRED.
I suppose it was barfing on the filename of nil, as percent nil is ok
-------
11-Dec-82 09:02:20-EST,1146;000000000000
Date: 11 December 1982 09:01-EST
From: Richard Mlynarik <MLY at MIT-ML>
Subject: Message of 11-Dec-82 03:28:43
To: bug-lispm at MIT-OZ

    Date: Saturday, 11 December 1982, 03:29-EST
    From: Richard Mlynarik <daniel.g.mly at MIT-OZ>
    To: BUG-LISPM at MIT-OZ

    In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
    Experimental MIT-Specific 16.0, Experimental System 91.12,
    Experimental ZMail 48.3, microcode 204, on Lisp Machine One:
    "The function NIL is undefined.
     While in the function TV:DISPLAY-FILE-TRANSFER  (METHOD TV:WHO-LINE-FILE-SHEET UPDATE)

     TV:DISPLAY-FILE-TRANSFER: (P.C. = 122)
        Arg 0 (SHEET): #<who-line-file-sheet ...
        Arg 1 (FILENAME): NIL
        Arg 2 (DIRECTION): INPUT
        Arg 3 (COUNT): 0
        Arg 4 (PERCENT): NIL
        Arg 5 (MAX-CHARS): 44
    ..."
    This happened while trying to to a DIRED (using c-x d) on a directory from which I'd just read
    a file (oz: ps: <tex>-read-.-this-) I had not previously used that directory or DIRED.
    I suppose it was barfing on the filename of nil, as percent nil is ok
    -------
11-Dec-82 12:07:12-EST,269;000000000000
Date: Saturday, 11 December 1982, 12:04-EST
From: David Chapman <Zvona at MIT-OZ>
To: bug-lispm at MIT-OZ

In make-system, a procede type for loading a file should be to
recompile, then reload.  (Because I go into the editor and fix it, then
want to recompile.)
11-Dec-82 14:07:32-EST,415;000000000000
Date: Saturday, 11 December 1982, 14:05-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: compiler warnings
To: BUG-lispm at MIT-OZ

In zwei in System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5,
Tape 13.0, microcode 977, site configuration 2, on Lisp Machine Twenty-two:

In an ideal world, compiling function FOO would flush all compiler warnings of the
referenced-but-not-defined variety about FOO.
11-Dec-82 14:44:05-EST,2521;000000000000
Date: Saturday, 11 December 1982, 14:43-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Twenty-two:

m-. foo [1 more definition as well] c-u c-p

>>Error: Recenter type :ABSOLUTE left point outside the window
While in the function ZWEI:REDISPLAY  ZWEI:REDISPLAY-ALL-WINDOWS  (:METHOD ZWEI:EDITOR :EDIT)


ZWEI:REDISPLAY: (P.C. = 1753)
 Arg 0 (WINDOW): #<WINDOW 2636436>
   --Defaulted args:--
 Arg 1 (RECENTER-TYPE): :ABSOLUTE
 Arg 2 (RC1): NIL
 Arg 3 (RC2): NIL
 Arg 4 (FORCE-TO-COMPLETION-P): NIL
 Local 0 (N-PLINES): 65
 Local 1 (POINT): ("  `(defsubst ,name (segment &optional (case t))" 0 :NORMAL)
 Local 2 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 20063175 exposed>
 Local 3 (DEGREE): 4
 Local 4 (POINT-BLINKER): #<RECTANGULAR-BLINKER 20301474>
 Local 5 (INTERVAL): #<FILE-BUFFER "DB.LISP PS:<ZVONA.CODER> OZ:" 21630474>
 Local 6 (START-BP): ("" 0 :NORMAL)
 Local 7 (NOW): 101324
 Local 8 (POINT-PLINE): NIL
 Local 9 (LH): 17
 Local 10 (POINT-LINE): "  `(defsubst ,name (segment &optional (case t))"
 Local 11 (POINT-INDEX): 0
 Local 12 (TOP-LINE): ""
 Local 13 (TOP-INDEX): 0
 Local 14 (LAST-BP): ("		     case (cond ((eq case t) 'nil) (t case))))))" 62 :MOVES)
 Local 15 (INITIAL-DEGREE): 2
 Local 16 (NEW-TOP-INDEX): NIL
 Local 17 (Y): NIL
 Local 18 (LINE): "		 :conc-name"
 Local 19 (INDEX): NIL
 Local 20 (P): NIL
 Local 21 (LINE-LENGTH): NIL
 Local 22 (LEN): NIL
 Local 23 (DWID): NIL
 Local 24 (CH): NIL
 Local 25 (FONT): NIL
 Local 26 (CWT): NIL
 Local 27 (CWID): NIL
 Local 28 (RWID): NIL
 Local 29 (I): 50
 Local 30 (TW): 1130
 Local 31 (L): NIL
 Local 32 (FROM-INDEX): 0
 Local 33 (TO-INDEX): 15
 Local 34 (PLINE): 65
 Local 35 (STOP-LINE): "		     case (cond ((eq case t) 'nil) (t case))))))"
 Local 36 (FROB): NIL
 Local 37 (PLINE): NIL
 Local 38: NIL
 Local 39 (BL): NIL


ZWEI:REDISPLAY:  (P.C. = 1753)
   Arg 0 (WINDOW): #<WINDOW 2636436>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 102)
   --Defaulted args:--
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): T

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 337)
   (SELF = #<ZMACS-TOP-LEVEL-EDITOR 3457004>)
   Arg 0 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 1 (TOP-LEVEL-P): T
11-Dec-82 14:59:09-EST,1731;000000000000
Date: Saturday, 11 December 1982, 14:58-EST
From: Gumby at MIT-OZ
Subject: saying no to SI:RECEIVE-BAND
To: BUG-LISPM at MIT-OZ

In System 222.57, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Apiary-2:

This seems like the wrong thing:

(si:receive-band "lm8" 'mcr2 'mcr8)

Do you really want to clobber partition MCR8 on unit 0 (UCADR 204) (Yes or no)? no

<the machine opens a connection to cadr8 for some reason>

>>Trap: The second argument to >, NIL, was of the wrong type.
The function expected a number.
While in the function SI:RECEIVE-BAND  SI:*EVAL  SI:LISP-TOP-LEVEL1


SI:RECEIVE-BAND: (P.C. = 172)
 Arg 0 (FROM-MACHINE): "lm8"
 Arg 1 (FROM-PART): MCR2
 Arg 2 (TO-PART): NIL
   --Defaulted args:--
 Arg 3 (SUBSET-START): NIL
 Arg 4 (SUBSET-N-BLOCKS): NIL
 Local 0 (CONN): #<CHAOS Connection for BAND-TRANSFER READ MCR2 NIL to LM8 21642732>
 Local 1 (PKT): #<CHAOS Packet 3566303>
 Local 2 (STR): "148 /"UCADR 204/""
 Local 3 (TEM): 224
 Local 4 (RQB): NIL
 Local 5 (BUF): NIL
 Local 6 (QUANTUM): 21
 Local 7 (NB): NIL
 Local 8 (TOP): NIL
 Local 9 (PART-BASE): NIL
 Local 10 (ORIG-PART-BASE): NIL
 Local 11 (PART-SIZE): NIL
 Local 12 (PART-COMMENT): NIL
 Local 13 (N-HUNDRED): 0
 Local 14 (BLOCK): NIL


SI:RECEIVE-BAND:  (P.C. = 172)
   Arg 0 (FROM-MACHINE): "lm8"
   Arg 1 (FROM-PART): MCR2
   Arg 2 (TO-PART): NIL
   --Defaulted args:--
   Arg 3 (SUBSET-START): NIL
   Arg 4 (SUBSET-N-BLOCKS): NIL

SI:*EVAL:  (P.C. = 653)
   Arg 0 (FORM): (SI:RECEIVE-BAND "lm8" (QUOTE MCR2) (QUOTE MCR8))

SI:LISP-TOP-LEVEL1:  (P.C. = 210)
   Arg 0 (TERMINAL-IO): #<LISP-LISTENER Lisp Listener 1 20054400 exposed>
11-Dec-82 17:13:48-EST,1261;000000000000
Date: Saturday, 11 December 1982, 17:10-EST
From: Vinayak Wallace <GUMBY at MIT-OZ>
Subject: file server patch
To: BUG-LISPM at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Apiary-2:

The OZ file server now returns user-group data as well as personal name
and HSNAME. Can someone at symbolics put the following code into a
patch please? It sets GROUP-AFFILIATION if the file server sends it
(for now, just OZ).

; -*- Mode:lisp; Package:fs; -*-

(DEFMETHOD (FILE-HOST-TOPS20-MIXIN :HSNAME-INFORMATION) (UNIT STR IDX)
  (LET* ((HSNAME (SUBSTRING STR (SETQ IDX (1+ IDX))
			    (SETQ IDX (STRING-SEARCH-CHAR #\CR STR IDX))))
	 (HSNAME-PATHNAME (FUNCALL-SELF ':HSNAME-PATHNAME HSNAME (HOST-UNIT-HOST UNIT)))
	 (PERSONAL-NAME (SUBSTRING STR (SETQ IDX (1+ IDX))
				   (SETQ IDX (STRING-SEARCH-CHAR #\CR STR IDX))))
	 (GROUP-AFFILIATION (IF (= IDX (1- (STRING-LENGTH STR))) #\SP
			      (AREF STR (1+ IDX)))))
    (SETQ IDX (STRING-SEARCH ", " PERSONAL-NAME)
	  STR (NSUBSTRING PERSONAL-NAME 0 IDX))
    (AND IDX (SETQ STR (STRING-APPEND (NSUBSTRING PERSONAL-NAME (+ IDX 2)) #\SP STR)))
    (VALUES HSNAME-PATHNAME PERSONAL-NAME GROUP-AFFILIATION STR)))
11-Dec-82 17:43:51-EST,496;000000000000
Date: Saturday, 11 December 1982, 17:43-EST
From: Ken Haase <KwH at MIT-OZ>
Subject: Sheet Lock wedgitude
To: BUG-LISPM at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Two:

Just after doing Control-X Control-S in ZMACS, I did a Terminal-F to
finger OZ, and after doing the finger display and typing the space
to flush message, the machine wedged in "Sheet Lock", and would not
accept typein.

Ken
11-Dec-82 17:44:48-EST,2190;000000000000
Date: Saturday, 11 December 1982, 17:43-EST
From: David Vinayak Wallace <Gumby at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.12,
Experimental ZMail 48.3, microcode 204, good,
on Lisp Machine Apiary-2:


I did DIRED and let it complete the pathname for me. I died like this.
(It left a  in the wholine, but no pathname there)

>>TRAP 7199. (TRANS-TRAP)
The function NIL is undefined.
Backtrace from the debugger:

TV:DISPLAY-FILE-TRANSFER (P.C. = 122)

 Arg 0 (SHEET): #<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed>
 Arg 1 (PATHNAME): NIL
 Arg 2 (DIRECTION): INPUT
 Arg 3 (COUNT): 0.
 Arg 4 (PERCENT): NIL
 Arg 5 (MAX-CHARS): 36.
Local 0 (FILE-NAME): NIL
Local 1 (FILE-NAME-LENGTH): NIL
Local 2 (FILE-NAME-LIMIT): NIL
Local 3 (COUNT-STRING-LENGTH): NIL
Local 4 (PERCENT-STRING-LENGTH): NIL
Local 5 (DISPLAY-COUNT-P): NIL
Local 6 (DISPLAY-PERCENT-P): NIL


(METHOD TV:WHO-LINE-FILE-SHEET UPDATE) (P.C. = 204)

 Arg 0 (OPERATION): UPDATE
Local 0 (MAX-CHARS): 36.
Local 1 (IDLE): NIL
Local 2 (STRING): NIL
Local 3 (OLD-STREAM): NULL
Local 4 (PATHNAME): NIL
Local 5 (DIRECTION): INPUT
Local 6 (PERCENT): NIL
Local 7 (COUNT): 0.
Local 8 (OLD-IDLE): NIL
Local 9 (STRING): NIL


(METHOD TV:WHO-LINE-FILE-SHEET COMBINED UPDATE) (P.C. = 105)

 Rest arg (.DAEMON-CALLER-ARGS.): (UPDATE)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-14. 7320017>


TV:WHO-LINE-UPDATE (P.C. = 75)

   --Defaulted args:--
 Arg 0 (RUN-STATE-ONLY-P): NIL
Local 0 (RL): 16777215.
Local 1 (G6834): (#<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed> #<WHO-LINE-SHEET Who Line Sheet 4 2140215 exposed> #<WHO-LINE-SHEET Who Line Sheet 3 2140271 exposed> #<WHO-LINE-SHEET Who Line Sheet 2 2140345 exposed> ...)
Local 2 (I): #<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed>


TV:WHO-LINE-FILE-SHEET-COMPUTE-CURRENT-STREAM (P.C. = 117)

 Arg 0 (UPDATE-P): T
Local 0 (I): 0.
Local 1 (OUTPUT-WINNER): NIL
Local 2 (STREAM): #<FILE-DIRECTORY-STREAM "OZ:PS:<HACTRN.SOURCE>*.*.*" 17574631>
Local 3 (DIRECTION): INPUT
11-Dec-82 20:13:38-EST,799;000000000000
Mail-From: PGS created at 11-Dec-82 20:12:03
Date: Saturday, 11 December 1982  20:12-EST
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   Clifford A. Lasser <CAL at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Dec 1982 01:22-EST from Clifford A. Lasser <CAL>

    Date: Saturday, 11 December 1982, 01:22-EST
    From: Clifford A. Lasser <CAL>
    To:   BUG-LISPM

    In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
    Experimental MIT-Specific 16.0, Experimental System 91.12,
    Experimental ZMail 48.2, microcode 204, ., on Lisp Machine Eighteen:

     Does APROPOS not take a package argument anymore???? or is it just
    simply broken?

Read the release notes (not that the system's been released yet).  Apropos
now takes keywords.
11-Dec-82 20:38:37-EST,484;000000000000
Date: Saturday, 11 December 1982, 20:37-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Twenty-two:

In describe of an equal-hash-table.  If you ask for it sorted, 
it doesn't put the newlines in.  Also, it tends to blow out 
alphalessping lists.

y-or-n-p no longer puts in a space before the (Y or N) which looks 
pretty stupid.
11-Dec-82 20:39:14-EST,445;000000000000
Date: Saturday, 11 December 1982, 20:39-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Twenty-two:

The line at the bottom of scroll windows or whatever xors instead 
of ioring.  This makes it look real crufty when the scroll window
is in a different font than the thing it is scrolling over. 
11-Dec-82 21:18:33-EST,766;000000000000
Date: Saturday, 11 December 1982, 21:15-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Sheet Lock wedgitude
To: Ken Haase <KwH at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Dec 82 17:43-EST from Ken Haase <KwH at MIT-OZ>

    Date: Saturday, 11 December 1982, 17:43-EST
    From: Ken Haase <KwH at MIT-OZ>
    In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Two:

    Just after doing Control-X Control-S in ZMACS, I did a Terminal-F to
    finger OZ, and after doing the finger display and typing the space
    to flush message, the machine wedged in "Sheet Lock", and would not
    accept typein.

    Ken
Did you try Terminal Hold-Output?
11-Dec-82 21:38:24-EST,1834;000000000000
Date: Saturday, 11 December 1982, 21:33-EST
From: Robert P. Krajewski <RPK at MIT-OZ>
Subject: File protocol suggestion
To: dlw at SCRC-TENEX
Cc: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ, pace at MIT-MC
Fcc: OZ:PS:<RPK.MAIL>CC.XMAIL
In-reply-to: The message of 7 Dec 82 15:15-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Tuesday, 7 December 1982, 15:15-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    Subject: File protocol suggestion
    To: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ
    In-reply-to: The message of 7 Dec 82 08:05-EST from Barry Margolin <Margolin at MIT-MULTICS>

	Date: Tuesday, 7 December 1982, 08:05-EST
	From: Barry Margolin <Margolin at MIT-MULTICS>
	This is a suggestion for a pretty extended feature in the FILE protocol.
	I would like to see some kind of way to run an arbitrary command line on
    I don't see why this has anything to do with the FILE protocol.  It sounds
    like what you really want is a new network command-processor protocol
    (contact name "cu_$cp", right?).
Hey, but isn't there now a SUBMIT option to the OPEN command in the
FILE protocol ?  I don't think it's implemented yet, but I saw the
command in the Twenex CFTP user program.

Some operating systems can handle a ``command line'' server (or
option in the file protocol better than others.  (UNIX seems to have
the right features.)  Where is your standard output going to go ?
Should the user end be required to read it ?  What about the standard
input, and error handling ?  It would definitely be nice to have an
EXEC OPEN option, but all these issues should be discussed before
somebody finds a major flaw in the scheme (if indeed anybody wants to
implement it).

By the way, who gets notified when a new feature is added to the FILE
protocol ?

``Bob''
11-Dec-82 21:53:19-EST,588;000000000000
Date: Saturday, 11 December 1982, 21:52-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ, bug-file-server at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.13,
Experimental ZMail 48.3, microcode 204, ., on Lisp Machine Thirty:

When I did a LOAD-AND-SAVE-PATCHES, I was asked for a password for LISPM.  I
gather that this is because something in the file server or on OZ has been
bashed.  I tried giving the password LISPM, which didn't work, so I had to log
in as myself.
11-Dec-82 22:08:20-EST,553;000000000000
Date: Saturday, 11 December 1982, 22:06-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.13,
Experimental ZMail 48.3, microcode 204, ., on Lisp Machine Thirty:

Converse doesn't come up in the mode I set in text-mode-hook.  I even tried
generating a new converse to see if it initialized correctly, and it didn't.  I
seem to remember that once upon a time Converse buffers did eval
text-mode-hook.
11-Dec-82 22:13:16-EST,567;000000000000
Mail-From: EB created at 11-Dec-82 22:11:37
Date: Saturday, 11 December 1982  22:11-EST
Sender: EB at MIT-OZ
From: EB at MIT-MC
To:   Bug-Lispm at MIT-OZ
CC:   Bug-Oz at MIT-OZ


SI:LOAD-AND-SAVE-PATCHES asked me for a password when it never did
before.  Trying "lispm" as the password didn't work.  I discovered
that there was no PS:<LISPM> on OZ.  Didn't there used to be one?  I
built PS:<LISPM> with password "lispm" so I could go ahead with what I
was doing, but I don't know who broke the world or how the userid
"LISPM" is supposed to be set up.
12-Dec-82 02:52:16-EST,789;000000000000
Date: Sunday, 12 December 1982, 02:42-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: saying no to SI:RECEIVE-BAND
To: Gumby at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Dec 82 14:58-EST from Gumby at MIT-OZ

    Date: Saturday, 11 December 1982, 14:58-EST
    From: Gumby at MIT-OZ
    This seems like the wrong thing:
Indeed.
    (si:receive-band "lm8" 'mcr2 'mcr8)

    Do you really want to clobber partition MCR8 on unit 0 (UCADR 204) (Yes or no)? no

    <the machine opens a connection to cadr8 for some reason>

    >>Trap: The second argument to >, NIL, was of the wrong type.
    The function expected a number.
    While in the function SI:RECEIVE-BAND  SI:*EVAL  SI:LISP-TOP-LEVEL1
Fixed in 222.63.  Thank you for your report.
12-Dec-82 04:47:23-EST,501;000000000000
Date: Saturday, 12 December 1980, 04:44-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To: BUG-Lispm at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.49,
ZMail 47.13, microcode 187, hit me, on Ford Prefect:


(apropos "close" ':package "fs" does not find FS:CLOSE

How about new keywords to apropos on the order of 
 ':only-functions
 ':only-variables
 ':only-bound-variables

Would people use these?  If noone does this, I'll probably do it myself.
12-Dec-82 05:52:26-EST,1063;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  12 December 1982 05:44 est
From:  Barry Margolin at MIT-MULTICS
To:  bug-lispm at MIT-OZ, hdt at MIT-OZ
In-Reply-To:  Message of 12 December 1982 04:50 est from Howard Daniel Trachtman <Hdt

    Date:  Saturday, 12 December 1980, 04:44-EST
    From:  Howard Daniel Trachtman <Hdt at MIT-OZ at MIT-MC>

    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.49,
    ZMail 47.13, microcode 187, hit me, on Ford Prefect:


    (apropos "close" ':package "fs" does not find FS:CLOSE

    How about new keywords to apropos on the order of
     ':only-functions
     ':only-variables
     ':only-bound-variables

    Would people use these?  If noone does this, I'll probably do it myself.




I suggested this several weeks ago.  What RMS implemented is the
:predicate keyword, which is pretty nice, although I would not mind
seeing some keywords for the common cases, where common cases could be
defined as those things that are noted with the symbol when it is
listed.
12-Dec-82 07:17:13-EST,2470;000000000000
Date: Saturday, 12 December 1980, 07:14-EST
From: Barry W. Margolin <Margolin at MIT-MULTICS>
Subject: Can't copy a file
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.13,
Experimental ZMail 48.3, microcode 204, on Arthur Dent:


Insert your description of the circumstances here:

I did:
      M-X Copy File
	From: EE:<s.barmar>lispm.init
	To:   cmul:>udd>m>barmar>lispm.init

It died, leaving a lone left-pointing arrow in the filename part of the
wholine.  I retried the operation with the COPY-FILE function from a
Lisp Listener and it died the same way.

>>TRAP 16037 (TRANS-TRAP)
The function NIL is undefined.
Backtrace from the debugger:

TV:DISPLAY-FILE-TRANSFER (P.C. = 122)

 Arg 0 (SHEET): #<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed>
 Arg 1 (PATHNAME): NIL
 Arg 2 (DIRECTION): INPUT
 Arg 3 (COUNT): 0
 Arg 4 (PERCENT): NIL
 Arg 5 (MAX-CHARS): 44
Local 0 (FILE-NAME): NIL
Local 1 (FILE-NAME-LENGTH): NIL
Local 2 (FILE-NAME-LIMIT): NIL
Local 3 (COUNT-STRING-LENGTH): NIL
Local 4 (PERCENT-STRING-LENGTH): NIL
Local 5 (DISPLAY-COUNT-P): NIL
Local 6 (DISPLAY-PERCENT-P): NIL


(METHOD TV:WHO-LINE-FILE-SHEET UPDATE) (P.C. = 204)

 Arg 0 (OPERATION): UPDATE
Local 0 (MAX-CHARS): 44
Local 1 (IDLE): NIL
Local 2 (STRING): NIL
Local 3 (OLD-STREAM): #<FILE-DIRECTORY-STREAM "EE:PS:<S.BARMAR>LISPM.INIT" 20100664>
Local 4 (PATHNAME): NIL
Local 5 (DIRECTION): INPUT
Local 6 (PERCENT): NIL
Local 7 (COUNT): 0
Local 8 (OLD-IDLE): NIL
Local 9 (STRING): NIL


(METHOD TV:WHO-LINE-FILE-SHEET COMBINED UPDATE) (P.C. = 105)

 Rest arg (.DAEMON-CALLER-ARGS.): (UPDATE)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-16 7320017>


TV:WHO-LINE-UPDATE (P.C. = 75)

   --Defaulted args:--
 Arg 0 (RUN-STATE-ONLY-P): NIL
Local 0 (RL): 77777777
Local 1 (G6834): (#<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed> #<WHO-LINE-SHEET Who Line Sheet 4 2140215 exposed> #<WHO-LINE-SHEET Who Line Sheet 3 2140271 exposed> #<WHO-LINE-SHEET Who Line Sheet 2 2140345 exposed> ...)
Local 2 (I): #<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2140136 exposed>


TV:WHO-LINE-FILE-SHEET-COMPUTE-CURRENT-STREAM (P.C. = 117)

 Arg 0 (UPDATE-P): T
Local 0 (I): 2
Local 1 (OUTPUT-WINNER): NIL
Local 2 (STREAM): #<FILE-DIRECTORY-STREAM "EE:PS:<S.BARMAR>LISPM.INIT" 20117236>
Local 3 (DIRECTION): INPUT
12-Dec-82 07:37:25-EST,947;000000000000
Date: Saturday, 12 December 1980, 07:31-EST
From: Barry W. Margolin <Margolin at MIT-MULTICS>
Subject: two ways to send mail
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.13,
Experimental ZMail 48.3, microcode 204, on Arthur Dent:

Why are there two different ways to send mail on the Lisp Machine, the
ZMAIL way and the ZMACS way?  I think that the ZMACS mail buffer, the
kind that you get when you use Control-X M, which has the funny line
that separates the header from the message.  I am not sure, but I think
that Control-X M doesn't cause your ZMAIL init to be loaded, which is
another incompatibility.  I think the ZMAIL one should be the only one,
and you should be put in it when you do Meta-X Bug, Control-X M, and c-M
in the error handler.  The ZMACS mail buffer seems like an Emacs
hold-over that should be dropped.
12-Dec-82 09:30:15-EST,1173;000000000000
Mail-From: HDT created at 12-Dec-82 09:29:06
Date: 12 December 1982  09:29-EST (Sunday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   David Chapman <Zvona at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Dec 1982 20:37-EST from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 11 December 1982, 20:37-EST
    From: David Chapman <Zvona at MIT-OZ>
    To:   BUG-LISPM at MIT-OZ

    In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Twenty-two:

    In describe of an equal-hash-table.  If you ask for it sorted, 
    it doesn't put the newlines in.  Also, it tends to blow out 
    alphalessping lists.

    y-or-n-p no longer puts in a space before the (Y or N) which looks 
    pretty stupid.

It also (in system ??) no longer puts in a question mark.
This is different, but perhaps better.

I'd also like to see something like a user-option for default
and/or a user variable for leaving out the help of
 (Y or N) and (Yes or No)
I can give several good reasons for this,  but first would
like to here any objections.
12-Dec-82 12:39:46-EST,550;000000000000
Date: 12 Dec 1982 1138-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
To: Gregor at MIT-MC
cc: BUG-LISPM at MIT-EECS
In-Reply-To: The message of Friday, 10 December 1982, 18:22-EST from Gregor J. Kiczales <Gregor at MIT-MC>

We recently learned ourselves about this problem with the xr-corresopndance-flag
feature.  Unfortunately, it's hard to fix, and so that feature is currently
considered to be "konwn to be broken".  We are planning to redo the whole thing
in order to solve this problem, but don't hold your breath.  Sorry.
-------
12-Dec-82 13:29:23-EST,727;000000000000
Date: 12 December 1982 13:26-EST
From: Gregor J. Kiczales <GREGOR at MIT-MC>
Subject:  two ways to send mail
To: Margolin at MIT-MULTICS
cc: BUG-LISPM at MIT-OZ

    Date: Saturday, 12 December 1980, 07:31-EST
    From: Barry W. Margolin <Margolin at MIT-MULTICS>
    To:   BUG-LISPM at MIT-OZ
    Re:   two ways to send mail

    I think the ZMAIL one should be the only one, and you
    should be put in it when you do Meta-X Bug, Control-X M,
    and c-M in the error handler.  The ZMACS mail buffer 
    seems like an Emacs hold-over that should be dropped.

What do you have 1024K memory on your machine?? On a
machine which already abismally slow,, its nice to be
able to send a quick message quickly.
12-Dec-82 14:39:36-EST,663;000000000000
Date: Sunday, 12 December 1982, 14:31-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 11 Dec 82 12:04-EST from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 11 December 1982, 12:04-EST
    From: David Chapman <Zvona at MIT-OZ>
    In make-system, a procede type for loading a file should be to
    recompile, then reload.  (Because I go into the editor and fix it, then
    want to recompile.)
I don't think I believe this.  Why should the compilation be part of a
proceed type?  Going into the editor isn't.  Why is this specific to
loads which happen during make-system?
12-Dec-82 14:50:10-EST,746;000000000000
Date: Sunday, 12 December 1982, 14:48-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Twenty-two:

Feature if the debugger could throw through marked frames when 
you abort without reentering itself.  Hmm, that is not very clear.  
If I have (breakon 'foo) and the debugger is entered, then I type 
abort and it traps on throwing through the marked frame.  If you 
abort out of that, it goes back to the debugger again.  Finally, 
another abort actually gets you out.

One abort should do it.

try

(defun foo ())

(compile 'foo)

(breakon 'foo)

(foo)

abort

abort 

abort
12-Dec-82 15:05:17-EST,622;000000000000
Date: Sunday, 12 December 1982, 15:04-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Twenty-two:

When you do clearscreen in a zwei breakpoint, it somehow makes the 
line at the bottom of the typeout scroll window thing go away and
clears the screen.  It seems like more useful would be to roll the
window back up to the top and reveal more of the code underneath in 
the editor.  This is also more consistent intuitively with the new
behavior of this type of window.
12-Dec-82 15:14:53-EST,653;000000000000
Date: Sunday, 12 December 1982, 15:11-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: compiler warnings
To: Zvona at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 11 Dec 82 14:05-EST from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 11 December 1982, 14:05-EST
    From: David Chapman <Zvona at MIT-OZ>
    In an ideal world, compiling function FOO would flush all compiler warnings of the
    referenced-but-not-defined variety about FOO.
Well, now that 100 people have requested this, I decided that it wasn't
too expensive to do.  Fixed in the source and on my list of things to
patch after the patch freeze.
12-Dec-82 15:24:44-EST,914;000000000000
Date: Sunday, 12 December 1982, 15:17-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: file server patch
To: GUMBY at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Dec 82 17:10-EST from Vinayak Wallace <GUMBY at MIT-OZ>

    Date: Saturday, 11 December 1982, 17:10-EST
    From: Vinayak Wallace <GUMBY at MIT-OZ>
    The OZ file server now returns user-group data as well as personal name
    and HSNAME. Can someone at symbolics put the following code into a
    patch please? It sets GROUP-AFFILIATION if the file server sends it
    (for now, just OZ).
Sorry, but there's now a patch freeze in effect and we're not allowed to
do that.  DPH already made the change in the source, and it's on my list
of things to patch after the patch freeze.

If you really want it, you can define a site-specific system for MIT and
patch that.  See "field patches" in the release notes.
12-Dec-82 16:01:10-EST,630;000000000000
Date: Sunday, 12 December 1982, 15:55-EST
From: John Batali <Batali at MIT-OZ>
Subject: new-mail-pathname
To: BUG-LISPM at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Nine:

I note that the message :NEW-MAIL-PATHNAME is gone in 222, replaced by
:POSSIBLE-MAIL-FILE-PATHNAMES.

Compatibility and niceitude would suggest returning the
new-mail-pathname message, but for the application I want, both systems
ought to support a method like: :NEW-MAIL-EXISTS which could return a
boolean or (better) a list of the files with new mail.
12-Dec-82 16:02:42-EST,933;000000000000
Date: Sunday, 12 December 1982, 15:58-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Dec 82 20:37-EST from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 11 December 1982, 20:37-EST
    From: David Chapman <Zvona at MIT-OZ>
    In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Twenty-two:

    In describe of an equal-hash-table.  If you ask for it sorted, 
    it doesn't put the newlines in.  Also, it tends to blow out 
    alphalessping lists.
Both bugs fixed in 222.64.

    y-or-n-p no longer puts in a space before the (Y or N) which looks 
    pretty stupid.
y-or-n-p has always expected a space after the question.  I make no
judgements on stupidity.  I did fix (mumble-HASH-TABLE :DESCRIBE) to
have spaces there, since I was patching them anyway.
12-Dec-82 16:45:10-EST,545;000000000000
Date: Sunday, 12 December 1982  14:54-EST
From: MOON at SCRC-TENEX
To:   Howard D. Trachtman <HDT at MIT-MC>
Cc:   BUG-LISPM at MIT-OZ, David Chapman <Zvona at MIT-OZ>
Subject: Asking questions with options specified to leave out the (Y or N)
In-reply-to: The message of 12 Dec 1982  09:29-EST () from Howard D. Trachtman <HDT at MIT-MC>

See the documentation in the Chine Nual of FQUERY.  If you're really so
inclined you can change the variables in which Y-OR-N-P and YES-OR-NO-P
keep their FQUERY options; this is not recommended.
12-Dec-82 17:05:38-EST,1402;000000000000
Date: Sunday, 12 December 1982, 16:58-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 12 Dec 82 14:48-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 12 December 1982, 14:48-EST
    From: David Chapman <Zvona at MIT-OZ>
    In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Twenty-two:

    Feature if the debugger could throw through marked frames when 
    you abort without reentering itself.  Hmm, that is not very clear.
You're right, it's not clear.  There have been a lot of messages here
about this, and I don't know what conclusions were drawn or if the
current state matches those conclusions.

    If I have (breakon 'foo) and the debugger is entered, then I type 
    abort and it traps on throwing through the marked frame.  If you 
    abort out of that, it goes back to the debugger again.  Finally, 
    another abort actually gets you out.

    One abort should do it.
If you read the proceed-type documentation, you'll see that in the
second debugger abort says "Return to debugger".  Resume says "Go ahead
and return".  So what you really wanted to do was type abort resume.
I fixed and patched the proceed-type documentation to say "Go ahead and
throw through this frame", which should be clearer.
12-Dec-82 17:20:00-EST,1044;000000000000
Date: 12 Dec 1982 1714-EST
From: Zippy the Pinhead <ZIPPY at SCRC-TENEX>
Subject: file server patch
To: Gumby at MIT-OZ, DLA at SCRC-TENEX
cc: BUG-LISPM at MIT-OZ

    Date: Sunday, 12 December 1982, 15:17-EST
    From: David L. Andre <DLA at SCRC-TENEX>
	Date: Saturday, 11 December 1982, 17:10-EST
	From: Vinayak Wallace <GUMBY at MIT-OZ>
	The OZ file server now returns user-group data as well as personal name
	and HSNAME. Can someone at symbolics put the following code into a
	patch please? It sets GROUP-AFFILIATION if the file server sends it
	(for now, just OZ).
    Sorry, but there's now a patch freeze in effect and we're not allowed to
    do that.  DPH already made the change in the source, and it's on my list
    of things to patch after the patch freeze.
    
    If you really want it, you can define a site-specific system for MIT and
    patch that.  See "field patches" in the release notes.
Not helping out your friends at MIT due to a silly patch freeze
is despicable.  Patched in 222.64.
-------
12-Dec-82 17:29:56-EST,407;000000000000
Date: 12 Dec 1982 1727-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: file server patch
To: ZIPPY at SCRC-TENEX
cc: Gumby at MIT-OZ, DLA at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 12 Dec 1982 1714-EST from Zippy the Pinhead <ZIPPY at SCRC-TENEX>

I would consider the group-affiliation change to
be a bug fix anyway, so the patch freeze shouldn't matter.
-------
12-Dec-82 17:49:53-EST,338;000000000000
Date: Sunday, 12 December 1982, 17:47-EST
From: John Batali <Batali at MIT-OZ>
Subject: This patch freeze would make me barf
To: DLW at SCRC-TENEX, ZIPPY at SCRC-TENEX
Cc: Gumby at MIT-OZ, DLA at SCRC-TENEX, BUG-LISPM at MIT-OZ

This patch freeze would make me barf
if it weren't for my personal barf freeze, currently in effect.
12-Dec-82 17:51:15-EST,796;000000000000
Mail-From: EB created at 12-Dec-82 17:46:09
Date: Sunday, 12 December 1982  17:46-EST
Sender: EB at MIT-OZ
From: EB at MIT-MC
To:   Barry W. Margolin <Margolin at MIT-MULTICS>
Cc:   BUG-LISPM at MIT-OZ
Subject: two ways to send mail
In-reply-to: The message of 12 Dec 1980 07:31-EST from Barry W. Margolin <Margolin at MIT-MULTICS>

    Date: Saturday, 12 December 1980, 07:31-EST
    From: Barry W. Margolin <Margolin at MIT-MULTICS>
    I think the ZMAIL one should be the only one,
    and you should be put in it when you do Meta-X Bug, Control-X M, and c-M
    in the error handler.  The ZMACS mail buffer seems like an Emacs
    hold-over that should be dropped.

I never use ZMAIL, I never want to be put in ZMAIL, and I would prefer
that things remain the way they are.
12-Dec-82 18:04:52-EST,300;000000000000
Date: Sunday, 12 December 1982, 18:04-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Twenty-two:

Um, gee, could m-I do protocol with prin1?  (sorry.)
12-Dec-82 18:35:12-EST,1787;000000000000
Mail-From: HDT created at 12-Dec-82 18:33:40
Date: 12 December 1982  18:33-EST (Sunday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   John Batali <Batali at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: new-mail-pathname
In-reply-to: The message of 12 Dec 1982 15:55-EST from John Batali <Batali at MIT-OZ>

    Date: Sunday, 12 December 1982, 15:55-EST
    From: John Batali <Batali at MIT-OZ>
    To:   BUG-LISPM at MIT-OZ
    Re:   new-mail-pathname

    In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Nine:

    I note that the message :NEW-MAIL-PATHNAME is gone in 222, replaced by
    :POSSIBLE-MAIL-FILE-PATHNAMES.

    Compatibility and niceitude would suggest returning the
    new-mail-pathname message, but for the application I want, both systems
    ought to support a method like: :NEW-MAIL-EXISTS which could return a
    boolean or (better) a list of the files with new mail.

In 91, the messages to send are ':new-mail-pathname (returns one value)
and ':possible-mail-file-names which returns a list of files that might
be a rmail or babyl file.  The first represents what you would call
"new" mail the second, "old" mail.

I said before that if might be nice if forms that were called different things
in different systems but did the same thing were DEFF'd or the equivalent
of that were done in all systems.  Perhaps some sort of special file 
similar to a global def's file but containing instead a list of all the
forms and their equivlalences.  I seem to remember Moon once mentioning
that he would a1so like to see  something like this.  There could even be
 a seperate mailing list for reporting the major incompatabilities. 
12-Dec-82 18:50:06-EST,1452;000000000000
Mail-From: PGS created at 12-Dec-82 18:48:54
Date: Sunday, 12 December 1982  18:48-EST
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   Barry W. Margolin <Margolin at MIT-MULTICS>
Cc:   BUG-LISPM at MIT-OZ
Subject: two ways to send mail
In-reply-to: The message of 12 Dec 1980 07:31-EST from Barry W. Margolin <Margolin at MIT-MULTICS>

    Date: Saturday, 12 December 1980, 07:31-EST
    From: Barry W. Margolin <Margolin at MIT-MULTICS>

    Why are there two different ways to send mail on the Lisp Machine, the
    ZMAIL way and the ZMACS way?  I think that the ZMACS mail buffer, the
    kind that you get when you use Control-X M, which has the funny line
    that separates the header from the message.  I am not sure, but I think
    that Control-X M doesn't cause your ZMAIL init to be loaded, which is
    another incompatibility.  I think the ZMAIL one should be the only one,
    and you should be put in it when you do Meta-X Bug, Control-X M, and c-M
    in the error handler.  The ZMACS mail buffer seems like an Emacs
    hold-over that should be dropped.

I wouldn't like to see the Zmacs mail buffer go away.  I often use it when I
have just thought of something I need to send mail about, in the midst of
typing at my Zmacs, and I want to send mail about it in a hurry and get back
to what I was doing.  I don't want my Zmail init file loaded; I don't want to
go into Zmail.  It just takes too darned long.
12-Dec-82 20:04:35-EST,375;000000000000
Date: Sunday, 12 December 1982, 19:57-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 12 Dec 82 18:04-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 12 December 1982, 18:04-EST
    From: David Chapman <Zvona at MIT-OZ>
    Um, gee, could m-I do protocol with prin1?  (sorry.)
Fixed.
12-Dec-82 20:10:18-EST,1619;000000000000
Mail-From: ZVONA created at 12-Dec-82 20:06:11
Date: Sunday, 12 December 1982  20:06-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   bug-lispm at MIT-OZ, bug-mail at MIT-OZ
Subject: [Mailer: Message of 12-Dec-82 16:35:11]

Date: Sunday, 12 December 1982  16:39-EST
From: The Mailer Daemon <Mailer>
To:   ZVONA
Re:   Message of 12-Dec-82 16:35:11

Message failed for the following:
bug-lispm at MIT-OZ: Forwarding program error
            ------------
Date: Sunday, 12 December 1982  16:35-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   bug-lispm at MIT-OZ
In-reply-to: The message of 12 Dec 1982 14:31-EST from David L. Andre <DLA at SCRC-TENEX>

    Date: Sunday, 12 December 1982, 14:31-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    To:   Zvona
    cc:   bug-lispm

        Date: Saturday, 11 December 1982, 12:04-EST
        From: David Chapman <Zvona at MIT-OZ>
        In make-system, a procede type for loading a file should be to
        recompile, then reload.  (Because I go into the editor and fix it, then
        want to recompile.)
    I don't think I believe this.  Why should the compilation be part of a
    proceed type?  Going into the editor isn't.  Why is this specific to
    loads which happen during make-system?
Well, I guess because you sort of expect that if you just do a load,
it is going to win, whereas if you do a compile-load in a make-system,
it is reasonable for the load to blow up.  And you have the source
file pathname, which you don't with a raw load.  But I see your point.
12-Dec-82 20:36:17-EST,1105;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  12 December 1982 20:16 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: two ways to send mail
To:  EB at MIT-MC
cc:  BUG-LISPM at MIT-OZ
Acknowledge-To:  Margolin.Multics at MIT-MULTICS
In-Reply-To:  Message of 12 December 1982 18:40 est from EB

    Date:  Sunday, 12 December 1982  17:46-EST
    From:  EB at MIT-MC
    Subject:  two ways to send mail

        Date: Saturday, 12 December 1980, 07:31-EST
        From: Barry W. Margolin <Margolin at MIT-MULTICS>
        I think the ZMAIL one should be the only one,
        and you should be put in it when you do Meta-X Bug, Control-X M, and c-M
        in the error handler.  The ZMACS mail buffer seems like an Emacs
        hold-over that should be dropped.

    I never use ZMAIL, I never want to be put in ZMAIL, and I would prefer
    that things remain the way they are.

Well, I try never to use Control-X M, I never want to use Control-X M,
and it bothers me that this is used by the error handler c-M, which I
think is one of the best things since HACKS:ZOWIE.
12-Dec-82 20:41:11-EST,2215;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  12 December 1982 20:21 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: two ways to send mail
To:  PGS at MIT-MC
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 12 December 1982 18:50 est from PGS

    Date:  Sunday, 12 December 1982  18:48-EST
    From:  PGS at MIT-MC
    Subject:  two ways to send mail

        Date: Saturday, 12 December 1980, 07:31-EST
        From: Barry W. Margolin <Margolin at MIT-MULTICS>

        Why are there two different ways to send mail on the Lisp Machine, the
        ZMAIL way and the ZMACS way?  I think that the ZMACS mail buffer, the
        kind that you get when you use Control-X M, which has the funny line
        that separates the header from the message.  I am not sure, but I think
        that Control-X M doesn't cause your ZMAIL init to be loaded, which is
        another incompatibility.  I think the ZMAIL one should be the only one,
        and you should be put in it when you do Meta-X Bug, Control-X M, and c-M
        in the error handler.  The ZMACS mail buffer seems like an Emacs
        hold-over that should be dropped.

    I wouldn't like to see the Zmacs mail buffer go away.  I often use it when I
    have just thought of something I need to send mail about, in the midst of
    typing at my Zmacs, and I want to send mail about it in a hurry and get back
    to what I was doing.  I don't want my Zmail init file loaded; I don't want to
    go into Zmail.  It just takes too darned long.

Well, one of the answers is to make starting up a ZMAIL mail window
faster.  It does bother me that the only way to get one of them right
now is to go to the ZMAIL menu window and play with the mouse; I would
like something I could call (and possibly put on a SYSTEM key) to go
directly to the Mail buffer.  I don't ever read mail with ZMAIL, as I
receive mail on an unsupported operating system (Multics); all I ever do
is send mail (often).

Loading your init file only happens once; decisions about the
desirability of a mail system should not be based upon it.  You could
probably incorporate it into your standard init and not notice the
difference.
12-Dec-82 21:51:02-EST,345;000000000000
Date: Sunday, 12 December 1982  21:52-EST
From: ZVONA at SCRC-TENEX
To:   Barry W. Margolin <Margolin at MIT-MULTICS>
Cc:   BUG-LISPM at MIT-OZ
Subject: don't flush c-X m
In-reply-to: The message of 12 Dec 1980 07:31-EST from Barry W. Margolin <Margolin at MIT-MULTICS>

I LIKE Zmacs mail mode.  I DON'T like ZMAIL (even when it works).
12-Dec-82 22:21:18-EST,465;000000000000
Date: Sunday, 12 December 1982, 22:18-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Re: two ways to send mail
To: Barry Margolin at MIT-MULTICS
Cc: PGS at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 12 Dec 82 20:21-EST from Barry Margolin at MIT-MULTICS

    Date:  12 December 1982 20:21 est
    From:  Barry Margolin at MIT-MULTICS
    Well, one of the answers is to make starting up a ZMAIL mail window
    faster.
Simple enough.
12-Dec-82 22:31:09-EST,1697;000000000000
Date: Saturday, 12 December 1980, 22:29-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
Subject: Re: two ways to send mail
To: Barry Margolin at MIT-MULTICS, PGS at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 12 Dec 81 20:21-EST from Barry Margolin at MIT-MULTICS

    Date:  12 December 1982 20:21 est
    From:  Barry Margolin at MIT-MULTICS
    Subject:  Re: two ways to send mail

	Date:  Sunday, 12 December 1982  18:48-EST
	From:  PGS at MIT-MC
	Subject:  two ways to send mail

	I wouldn't like to see the Zmacs mail buffer go away.  I often use it
        when I have just thought of something I need to send mail about, in the
        midst of typing at my Zmacs, and I want to send mail about it in a
	hurry and get back to what I was doing.  I don't want my Zmail init
	file loaded; I don't want to go into Zmail.  It just takes too darned
	long.

    Loading your init file only happens once; decisions about the
    desirability of a mail system should not be based upon it.

While I find your purism inspiring, I feel forced to bring up more worldly
matters: when I start up a Zmail, it spends at least 30 seconds to loading my
init file and figuring things out.  Of course it only has to do that once in a
session; I don't care; I hate having those 30 seconds stolen from me,
regardless of when the theft takes place. 

Thus I try to avoid using Zmail at all during Lisp Machine sessions.  If it
were made the only means to send mail on the Lisp Machine, I would have to have
that time stolen from me at every session.  I think that this is the sort of
thing that decisions as to the desirability of a mail system should be based
on.
13-Dec-82 00:46:52-EST,663;000000000000
Mail-From: RPK created at 13-Dec-82 00:41:05
Date: 13 December 1982  00:41-EST (Monday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
To:   Barry W. Margolin <Margolin at MIT-MULTICS>
Cc:   BUG-LISPM at MIT-OZ
Subject: Can't copy a file
In-reply-to: The message of 12 Dec 1980 07:14-EST from Barry W. Margolin <Margolin at MIT-MULTICS>

    Date: Saturday, 12 December 1980, 07:14-EST
    From: Barry W. Margolin <Margolin at MIT-MULTICS>
    To:   BUG-LISPM
    Re:   Can't copy a file

Is this bogus date because somebody typed in the wrong date on Arthur, or is
one of the CHAOSNet time servers  behind the times ?

``Bob''
13-Dec-82 03:27:43-EST,786;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  13 December 1982 03:14 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Can't copy a file
To:  Robert P. Krajewski <RPK at MIT-MC>
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 13 December 1982 00:47 est from Robert P. Krajewski

    Date:  13 December 1982  00:41-EST (Monday)
    From:  Robert P. Krajewski <RPK at MIT-MC>
    Subject:  Can't copy a file

        Date: Saturday, 12 December 1980, 07:14-EST
        From: Barry W. Margolin <Margolin at MIT-MULTICS>
        To:   BUG-LISPM
        Re:   Can't copy a file

    Is this bogus date because somebody typed in the wrong date on Arthur, or is
    one of the CHAOSNet time servers  behind the times ?

    ``Bob''

Well, I never set the time.
13-Dec-82 03:29:50-EST,1276;000000000000
Date: Sunday, 13 December 1980, 03:29-EST
From: Robert P. Krajewski <RpK at MIT-OZ>
Subject: Displaying a file tranfer bug
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.13,
Experimental ZMail 48.3, microcode 204, on Lisp Machine One:

Insert your description of the circumstances here:

I did a (listf "oz:ps:<rpk.lm>*.*") to cause this.

>>TRAP 7199. (TRANS-TRAP)
The function NIL is undefined.
Backtrace from the debugger:

TV:DISPLAY-FILE-TRANSFER (P.C. = 122)

 Arg 0 (SHEET): #<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2200136 exposed>
 Arg 1 (PATHNAME): NIL
 Arg 2 (DIRECTION): INPUT
 Arg 3 (COUNT): 0.
 Arg 4 (PERCENT): NIL
 Arg 5 (MAX-CHARS): 36.
Local 0 (FILE-NAME): NIL
Local 1 (FILE-NAME-LENGTH): NIL
Local 2 (FILE-NAME-LIMIT): NIL
Local 3 (COUNT-STRING-LENGTH): NIL
Local 4 (PERCENT-STRING-LENGTH): NIL
Local 5 (DISPLAY-COUNT-P): NIL
Local 6 (DISPLAY-PERCENT-P): NIL

 .
 .
 .

TV:WHO-LINE-FILE-SHEET-COMPUTE-CURRENT-STREAM (P.C. = 117)

 Arg 0 (UPDATE-P): T
Local 0 (I): 1.
Local 1 (OUTPUT-WINNER): NIL
Local 2 (STREAM): #<FILE-DIRECTORY-STREAM "OZ:PS:<RPK.LM>*.*.*" 17747517>
Local 3 (DIRECTION): INPUT


``Bob''
13-Dec-82 05:05:42-EST,2807;000000000000
Mail-From: HDT created at 13-Dec-82 05:02:49
Date: 13 December 1982  05:02-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Patrick Sobalvarro <PGS at MIT-OZ>
Cc:   Barry Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ, PGS at MIT-MC
Subject: two ways to send mail
In-reply-to: The message of 12 Dec 1980 22:29-EST from Patrick Sobalvarro <PGS at MIT-OZ>

    Date: Saturday, 12 December 1980, 22:29-EST
    From: Patrick Sobalvarro <PGS at MIT-OZ>
    To:   Barry Margolin at MIT-MULTICS, PGS at MIT-MC
    cc:   BUG-LISPM at MIT-OZ
    Re:   two ways to send mail

    While I find your purism inspiring, I feel forced to bring up more worldly
    matters: when I start up a Zmail, it spends at least 30 seconds to loading my
    init file and figuring things out.  Of course it only has to do that once in a
    session; I don't care; I hate having those 30 seconds stolen from me,
    regardless of when the theft takes place. 

    Thus I try to avoid using Zmail at all during Lisp Machine sessions.  If it
    were made the only means to send mail on the Lisp Machine, I would have to have
    that time stolen from me at every session.  I think that this is the sort of
    thing that decisions as to the desirability of a mail system should be based
    on.

I too dislike the frobbing the ZMail seems to do.   If I have a large babyl
file (like most ZMail users) and have some new mail,  it first reads in my
new mail (which I indeed like to see first) and then tries to read in my
babyl file which takes a long time.  During this time,  I get very slow
response if I type a few commands, and can't really be sure which commands
are affecting which messages until much later. Meanwhile, ZMail seems to just
love to increase the overhead by renumbering the messages over and over and
redisplaying the upper half of the window many, many times.

Is there anyway that ZMail kind find out how big my babyl file is first
so that it can compute the number of the first piece of new mail?  If 
not, than I would like to have my babyl file read in first.  In addition,
I would like to have something (I was previously told of preload-zmail, but I'm not
sure if this is exactly what I want) callable from an init file which
would load in all of my mail behind my back, and when done would notify
me that it was done, and ask me if I want to be plopped in ZMail.  I would
hope that this would help with the overhead of costly screen updates.

Is this as simple to do?  I really appreciate all the winning features
of zmail, but I find its overhead prohibitive.  Both myself and others
frequently end up using babyl supdup'd a lisp machine the way things are
now.

Does these sorts of things belong on bug-zmail or bug-lispm?
13-Dec-82 05:50:26-EST,778;000000000000
Date: Sunday, 13 December 1980, 05:47-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.49,
ZMail 47.13, microcode 183, ., on Lisp Machine Twenty-four:


The penalty for typing terminal-o in supdup on this machine is:

>>ERROR: The object #<Grey-screen Grey 617020 exposed> recieved a INFERIOR-SELECT message,
which went unclaimed.
The rest of the message was (#<GRAPHICS-FRAME-FLAVOR GRAPHICS-FRAME-FLAVOR-2 617735 exposed>)

 Is there a way for format to tell if the next word is a starts with a vowel so we can
get the a/an part correct?  If we can have pluralizion, why not winning modifiers.
 (Oh no, next we'll want super-hyper-meta-$ to correct our grammar).
13-Dec-82 07:10:24-EST,8190;000000000000
Date: Sunday, 13 December 1980, 07:06-EST
From: Steve Gander <GANDER at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.10,
Experimental ZMail 48.2, microcode 204, on Lisp Machine Twenty-five:


Insert your description of the circumstances here:

Redisplay causes this error.  It appears that one of the
functions is confused about the order of arguments that it
is gettting.

>>TRAP 7407 (SUBSCRIPT-OOB M-Q M-S (NIL XAREF-RECHECK-INDEX) M-A)
The subscript 1244 for "	Toronto Alderman, Ying Hope, openly disagreed with the doctor.  He stated that dogs and rats were already competing for garbage bag pickings in at least one location.  At the Jan Sibelius park, a popular city haven for dogs, cats, and choldren, rain-soaked garbage was overflowoing onto the sidewalk.  Residents were urged to take greater care in adequately protecting their garbage from the elements.  On the thirteenth day of the strike, 45 mph winds came swooping down on the city.  Loose trash overslowing from trash cans blew onto the streets and a once spotless city could no longer hide the grave effects of the strike." was out of range in AR-1.
Backtrace from the debugger:

Additional information supplied with call:
 Expecting 2 values

TV:SHEET-COMPUTE-MOTION (P.C. = 654)

 Arg 0 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 444521 exposed>
 Arg 1 (X): 0
 Arg 2 (Y): 142
 Arg 3 (STRING): "	Toronto Alderman, Ying Hope, openly disagreed with the doctor.  He stated that dogs and rats were already competing for garbage bag pickings in at least one location.  At the Jan Sibelius park, a popular city haven for dogs, cats, and choldren, rain-soaked garbage was overflowoing onto the sidewalk.  Residents were urged to take greater care in adequately protecting their garbage from the elements.  On the thirteenth day of the strike, 45 mph winds came swooping down on the city.  Loose trash overslowing from trash cans blew onto the streets and a once spotless city could no longer hide the grave effects of the strike."
 Arg 4 (START): 0
 Arg 5 (END): 1354
 Arg 6 (CR-AT-END-P): NIL
 Arg 7 (STOP-X): 0
 Arg 8 (STOP-Y): 17777777
 Arg 9 (BOTTOM-LIMIT): 17777777
   --Defaulted args:--
 Arg 10 (RIGHT-LIMIT): 1363
 Arg 11 (FONT): #<FONT CPTFONT 1200323>
 Arg 12 (LINE-HT): 16
Local 0 (CWA): NIL
Local 1 (CW): 10
Local 2 (CH): 0
Local 3 (FONTX): NIL
Local 4 (TEM): 200
Local 5 (I): 1244
Local 6 (N): 1354
Local 7 (NN): 1351
Local 8 (II): 1213
Local 9 (MARGIN-FLAG): T
Local 10 (MAXIMUM-X): 1360
Local 11 (FONT-MAP): NIL


ZWEI:REDISPLAY (P.C. = 550)

 Arg 0 (WINDOW): #<WINDOW 5144557>
   --Defaulted args:--
 Arg 1 (RECENTER-TYPE): POINT
 Arg 2 (RC1): NIL
 Arg 3 (RC2): NIL
 Arg 4 (FORCE-TO-COMPLETION-P): NIL
Local 0 (N-PLINES): 76
Local 1 (POINT): ("	Maloney made a breakthrough in the talks when he announced that face-to-face bargaining was scheduled for Monday, April 24.  The talks were going well and agreeement on the pension plans was accomplished within the first couple of hours.  When wages became the subject of discussion, a deadlock once again occurred and the talks were called off after a total of just three hours of bargaining.  A coolong-off period of two days was called and Maloney then unexpectedly resigned as mediator with his last words being, /"There is no hope./"  It was later learned that the two sides were inching closer together but were still very far apart on the wage issue.  Local 43 lowered its wage demand from 18% to 15% over two years--the same settlement achie" 1354 NORMAL)
Local 2 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 444521 exposed>
Local 3 (DEGREE): 4
Local 4 (POINT-BLINKER): #<RECTANGULAR-BLINKER 641353>
Local 5 (INTERVAL): #<BUFFER "TEMP3.LISP PS:<GANDER> OZ:" 17541606>
Local 6 (START-BP): ("	Toronto Alderman, Ying Hope, openly disagreed with the doctor.  He stated that dogs and rats were already competing for garbage bag pickings in at least one location.  At the Jan Sibelius park, a popular city haven for dogs, cats, and choldren, rain-soaked garbage was overflowoing onto the sidewalk.  Residents were urged to take greater care in adequately protecting their garbage from the elements.  On the thirteenth day of the strike, 45 mph winds came swooping down on the city.  Loose trash overslowing from trash cans blew onto the streets and a once spotless city could no longer hide the grave effects of the strike." 1055 NORMAL)
Local 7 (NOW): 133003
Local 8 (POINT-PLINE): NIL
Local 9 (LH): 16
Local 10 (POINT-LINE): "	Maloney made a breakthrough in the talks when he announced that face-to-face bargaining was scheduled for Monday, April 24.  The talks were going well and agreeement on the pension plans was accomplished within the first couple of hours.  When wages became the subject of discussion, a deadlock once again occurred and the talks were called off after a total of just three hours of bargaining.  A coolong-off period of two days was called and Maloney then unexpectedly resigned as mediator with his last words being, /"There is no hope./"  It was later learned that the two sides were inching closer together but were still very far apart on the wage issue.  Local 43 lowered its wage demand from 18% to 15% over two years--the same settlement achie"
Local 11 (POINT-INDEX): 1354
Local 12 (TOP-LINE): "	Toronto Alderman, Ying Hope, openly disagreed with the doctor.  He stated that dogs and rats were already competing for garbage bag pickings in at least one location.  At the Jan Sibelius park, a popular city haven for dogs, cats, and choldren, rain-soaked garbage was overflowoing onto the sidewalk.  Residents were urged to take greater care in adequately protecting their garbage from the elements.  On the thirteenth day of the strike, 45 mph winds came swooping down on the city.  Loose trash overslowing from trash cans blew onto the streets and a once spotless city could no longer hide the grave effects of the strike."
Local 13 (TOP-INDEX): 1055
Local 14 (LAST-BP): ("	Maloney made a breakthrough in the talks when he announced that face-to-face bargaining was scheduled for Monday, April 24.  The talks were going well and agreeement on the pension plans was accomplished within the first couple of hours.  When wages became the subject of discussion, a deadlock once again occurred and the talks were called off after a total of just three hours of bargaining.  A coolong-off period of two days was called and Maloney then unexpectedly resigned as mediator with his last words being, /"There is no hope./"  It was later learned that the two sides were inching closer together but were still very far apart on the wage issue.  Local 43 lowered its wage demand from 18% to 15% over two years--the same settlement achie" 1354 MOVES)
Local 15 (INITIAL-DEGREE): 4
Local 16 (NEW-TOP-INDEX): 0
Local 17 (Y): NIL
Local 18 (LINE): NIL
Local 19 (INDEX): NIL
Local 20 (P): NIL
Local 21 (LINE-LENGTH): NIL
Local 22 (LEN): NIL
Local 23 (DWID): NIL
Local 24 (CH): NIL
Local 25 (FONT): NIL
Local 26 (CWT): NIL
Local 27 (CWID): NIL
Local 28 (RWID): NIL
Local 29 (I): NIL
Local 30 (TW): NIL
Local 31 (L): NIL
Local 32 (FROM-INDEX): NIL
Local 33 (TO-INDEX): NIL
Local 34 (PLINE): NIL
Local 35 (STOP-LINE): NIL
Local 36 (FROB): NIL
Local 37 (PLINE): NIL
Local 38 (G1333): NIL
Local 39 (BL): NIL


ZWEI:REDISPLAY-ALL-WINDOWS (P.C. = 102)

   --Defaulted args:--
 Arg 0 (FORCE-TO-COMPLETION-P): NIL
 Arg 1 (SELECT-P): T
Local 0 (G1482): (#<WINDOW 5144557> #<WINDOW 16167224>)
Local 1 (WINDOW): #<WINDOW 5144557>


(METHOD ZWEI:EDITOR EDIT) (P.C. = 352)

 Arg 0 (OPERATION): EDIT
   --Defaulted args:--
 Arg 1 (TOP-LEVEL-P): T
Local 0 (G7193): ("Return to top level editor command loop.")
Local 1 (G7193): ((SYS:ABORT ERROR) ("Return to top level editor command loop.") T ("Return to top level editor command loop.") ...)
Local 2 (CH): NIL


(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT) (P.C. = 111)

 Rest arg (.DAEMON-CALLER-ARGS.): (EDIT)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-5 17074744>
13-Dec-82 08:50:56-EST,860;000000000000
Date: Sunday, 13 December 1980, 08:51-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
Subject: directory listing bug
To: rpk at MIT-OZ
Cc: bug-lispm at MIT-OZ

    Date: Sunday, 13 December 1980, 03:29-EST
    From: Robert P. Krajewski <RpK at MIT-OZ>
    
    In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
    Experimental MIT-Specific 16.0, Experimental System 91.13,
    Experimental ZMail 48.3, microcode 204, on Lisp Machine One:
    
    Insert your description of the circumstances here:
    
    I did a (listf "oz:ps:<rpk.lm>*.*") to cause this.
    
    >>TRAP 7199. (TRANS-TRAP)
    The function NIL is undefined.
    Backtrace from the debugger:
    
    TV:DISPLAY-FILE-TRANSFER (P.C. = 122)
    
     Arg 0 (SHEET): #<WHO-LINE-FILE-SHEET Who Line File Sheet 1 2200136 exposed>

This is fixed in 91.14.
13-Dec-82 09:05:21-EST,634;000000000000
Date: Monday, 13 December 1982, 09:00-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: This patch freeze would make me barf
To: Batali at MIT-OZ
Cc: Gumby at MIT-OZ, DLA at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 12 Dec 82 17:47-EST from John Batali <Batali at MIT-OZ>

    Date: Sunday, 12 December 1982, 17:47-EST
    From: John Batali <Batali at MIT-OZ>
    This patch freeze would make me barf
    if it weren't for my personal barf freeze, currently in effect.
If you would like to have any sort of meaningful reply to this
piece of mail, I suggest that you find some way to rephrase it.
13-Dec-82 10:10:16-EST,1075;000000000000
Date: Monday, 13 December 1982, 10:09-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Re: two ways to send mail
To: Barry Margolin at MIT-MULTICS, PGS at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 12 Dec 82 20:21-EST from Barry Margolin at MIT-MULTICS

    Date:  12 December 1982 20:21 est
    From:  Barry Margolin at MIT-MULTICS
    Well, one of the answers is to make starting up a ZMAIL mail window
    faster.  It does bother me that the only way to get one of them right
    now is to go to the ZMAIL menu window and play with the mouse; I would
    like something I could call (and possibly put on a SYSTEM key) to go
    directly to the Mail buffer.  I don't ever read mail with ZMAIL, as I
    receive mail on an unsupported operating system (Multics); all I ever do
    is send mail (often).
I am surprised that no one has mentioned what I consider the chief reason for
using c-x m, namely that the Zmail process is tied up doing something else.

Multics support for Zmail is currently an intermediate-range plan.  
13-Dec-82 10:40:24-EST,388;000000000000
Date: Monday, 13 December 1982, 10:40-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.154, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

Is there a good reason why wrong no of args to a macro bombs out the
compiler? This sometimes screws me on large compilations.
13-Dec-82 10:55:27-EST,780;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  13 December 1982 09:46 est
From:  Barry Margolin at MIT-MULTICS
Subject:  System 210 sources
To:  bug-lispm at MIT-EECS, gumby at MIT-OZ

A couple of nights ago I tried to make a personal patch to System 210,
specifically to implement something like NETWORK O for Supdup.  Imagine
my chagrin when I discovered that the only version of the Supdup source
online at EE and OZ was for System 218 (or perhaps 222).  I don't want
any lectures about the fact that 210 is long obsolete and the EECS
machines should have been running 218 or higher, as that is not my
decision to make.  I think that someone should be making sure that
important source, such as the source associated with the loaded bands,
does not get reaped.
13-Dec-82 12:21:10-EST,480;000000000000
Date: Monday, 13 December 1982, 12:21-EST
From: David Chapman <Zvona at MIT-OZ>
To: bug-lispm at MIT-OZ

the TYPEP property is not advertized.  It seems like it is a clean
way to do type checking for user-defined types.  If it were declared 
a real feature, two things could improve it: the predicate could be
given a second argument, which is the type supplied, so you could share
the predicate over several types; and a DEFTYPEP special form could 
sugar the defprop.
13-Dec-82 14:23:43-EST,831;000000000000
Date: Monday, 13 December 1982, 14:20-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: 218.148 + File System
To: JMILLER at MIT-OZ, BUg-LispM at MIT-OZ
In-reply-to: The message of 12 Nov 82 16:39-EST from JMILLER at MIT-OZ

    Date: 12 Nov 1982 1639-EST
    From: JMILLER at MIT-OZ
    [I didn't mean to spark off a DCP/BSG flame session on my last
    message.  Here is an update.]

    Using the file system editor, I tried to create a directory called
    >JSMiller ... it accepted that as input, but made the thing
    actually be >jsmiller (lower case).  Despite this, some parts of
    the system remembered the actual case I used.  Very puzzling.

    And I FIRMLY believe that it should use my case on display of the
    directory name, but should be case insensitive on input.
Fixed in 222.
13-Dec-82 15:57:32-EST,721;000000000000
Date: Monday, 13 December 1982, 15:55-EST
From: Gavan Duffy <GAVAN at MIT-OZ>
Subject: buffer propagation
To: BUG-LISPM at MIT-OZ

In System 222.64, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Two:

Sometimes while the cursor is in the lisp listener on the color monitor, I
select a different ZMACS buffer using the mouse on the other (regular)
monitor.  As soon as I notice I'm in the wrong monitor I type system-e.
Instead of doing something reasonable, like putting me in the buffer
I just selected, ZMACS gives me a brand new buffer, buffer n+1, where n
is the number of times I've recursed through this function.  Is this really
necessary?  
13-Dec-82 16:25:09-EST,394;000000000000
Date: Monday, 13 December 1982  16:07-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   bug-lispm at MIT-OZ
Subject:the TYPEP property is not advertized
In-reply-to: The message of 13 Dec 1982 12:21-EST from David Chapman <Zvona at MIT-OZ>

Fixed in Common Lisp, where there will be a much more formal and rational
type system as well as a DEFTYPE special form.
13-Dec-82 18:40:01-EST,1107;000000000000
Date: Sunday, 13 December 1980, 18:33-EST
From: David Vinayak Wallace <Gumby at MIT-OZ>
Subject: System 210 sources
To: Barry Margolin at MIT-MULTICS
Cc: bug-lispm at MIT-EECS, gumby at MIT-EECS

    Return-Path: <Margolin@MIT-MULTICS.ARPA>
    Date:  13 December 1982 09:46 est
    From:  Barry Margolin at MIT-MULTICS
    Subject:  System 210 sources
    To:  bug-lispm at MIT-EECS, gumby at MIT-OZ

    A couple of nights ago I tried to make a personal patch to System 210,
    specifically to implement something like NETWORK O for Supdup.  Imagine
    my chagrin when I discovered that the only version of the Supdup source
    online at EE and OZ was for System 218 (or perhaps 222).  I don't want
    any lectures about the fact that 210 is long obsolete and the EECS
    machines should have been running 218 or higher, as that is not my
    decision to make.  I think that someone should be making sure that
    important source, such as the source associated with the loaded bands,
    does not get reaped.

218 didn't fit on a T-80. All the EE machines now run 91 and 222.
13-Dec-82 19:35:13-EST,848;000000000000
Date: Thursday, 9 December 1982, 04:14-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: 222 pathname bugs
To: Daniel Huttenlocher <dph at MIT-SPEECH>
Cc: BUG-LISPM at OZ, bug-oz at mit-oz
In-reply-to: The message of 9 Dec 82 02:33-EST from Daniel Huttenlocher <dph at MIT-SPEECH>

    Date: Thursday, 9 December 1982, 02:33-EST
    From: Daniel Huttenlocher <dph at MIT-SPEECH>

    In System 222.45, Hardcopy 11.4, Zmail 74.6, LMFS 30.1, Tape 13.0,
    microcode 976, site configuration 1, on Lisp Machine Twenty-six:

    (make-system 'ua) loses with the following, the file <s.sys>cadrlp.qbin is open
    and 129 bytes (0%) have been read in.  I don't know if this is the lispm or the
    file server.

    >>Error: ("ERROR") is an invalid directory for FS:LOGICAL-PATHNAME

I updated patches on OZ for you.  Try again.
13-Dec-82 19:55:03-EST,1823;000000000000
Date: Monday, 13 December 1982, 19:43-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: new-mail-pathname
To: John Batali <Batali at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 12 Dec 82 15:55-EST from John Batali <Batali at MIT-OZ>

    Date: Sunday, 12 December 1982, 15:55-EST
    From: John Batali <Batali at MIT-OZ>
    In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Nine:

    I note that the message :NEW-MAIL-PATHNAME is gone in 222, replaced by
    :POSSIBLE-MAIL-FILE-PATHNAMES.

    Compatibility and niceitude would suggest returning the
    new-mail-pathname message, but for the application I want, both systems
    ought to support a method like: :NEW-MAIL-EXISTS which could return a
    boolean or (better) a list of the files with new mail.
Err.  Uh, what does :POSSIBLE-MAIL-FILE-PATHNAMES have to do with
finding out whether you have new mail?  Perhaps you want :INBOX-PATHNAME,
which is the DEFAULT for those cases where it is not actually specified
by the mail file you're looking for the inbox for (see the msg buffer's
plist first).

Note that :NEW-MAIL-EXISTS could not be a message to a pathname,
since it requires knowing whether the mail file specifies a different
inbox than the default.

I would tell you a bit more about how to do what you're trying to
do, but I need to know your higher-level goal.

This is pretty well in the guts of ZMail, and we make no commitment
to its remaining unchanged from system version to system version.
We'll change it as needed to implement future enhancements.  But if
you'll tell us what you're trying to do, I'll see about including a
supported interface if it seems generally useful, or warning you of
future changes.
13-Dec-82 20:26:48-EST,886;000000000000
Date: Monday, 13 December 1982, 20:26-EST
From: John Batali <Batali at MIT-OZ>
Subject: new-mail-pathname
To: RWK at SCRC-TENEX, Batali at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 13 Dec 82 19:43-EST from Robert W. Kerns <RWK at SCRC-TENEX>

What I want to do is to tell if I have any new mail.  The following used
to work: 

(PROBEF (FUNCALL (FS:USER-HOMEDIR) ':NEW-MAIL-PATHNAME))

With 222 you must go through the list returned by
:POSSIBLE-MAIL-FILE-PATHNAMES, and probef the result of sending
:INBOX-PATHNAME to each one.  This is what COM-VIEW-MAIL in ZWEI does.
All this seems fine as far as featurefulness goes, but it would be nice
if some system compatable way were defined to locate new mail.  It seems
to me that the simple test in COM-VIEW-MAIL could be made into a
generally useful function (or message, I don't care) in both systems.
13-Dec-82 21:45:56-EST,3092;000000000000
Mail-From: HDT created at 13-Dec-82 21:43:10
Date: 13 December 1982  21:43-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   John Batali <Batali at MIT-OZ>, BUG-LISPM at MIT-OZ
Subject: new-mail-pathname
In-reply-to: The message of 13 Dec 1982 19:43-EST from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Monday, 13 December 1982, 19:43-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    To:   John Batali <Batali at MIT-OZ>
    cc:   BUG-LISPM at MIT-OZ
    Re:   new-mail-pathname

    Err.  Uh, what does :POSSIBLE-MAIL-FILE-PATHNAMES have to do with
    finding out whether you have new mail?  Perhaps you want :INBOX-PATHNAME,
    which is the DEFAULT for those cases where it is not actually specified
    by the mail file you're looking for the inbox for (see the msg buffer's
    plist first).

    Note that :NEW-MAIL-EXISTS could not be a message to a pathname,
    since it requires knowing whether the mail file specifies a different
    inbox than the default.

The above messages want to be sent to a DIRECTORY.  For checking your
own mail, you want to send the message to (FS:USER-HOMEDIR)
If you care about if a specific pathname has new mail, what you really
want to do is remember the last write date, and compare it to see if
it change.  Useful code would be the mail check stuff that would be in
sys:demo;alarm lisp

    I would tell you a bit more about how to do what you're trying to
    do, but I need to know your higher-level goal.

So would I.

    This is pretty well in the guts of ZMail, and we make no commitment
    to its remaining unchanged from system version to system version.
    We'll change it as needed to implement future enhancements.  But if
    you'll tell us what you're trying to do, I'll see about including a
    supported interface if it seems generally useful, or warning you of
    future changes.

I expect that both systems will take care to keep both you and others happy.

	Date: Monday, 13 December 1982, 20:26-EST
	From: John Batali <Batali at MIT-OZ>
	To:   RWK at SCRC-TENEX, Batali at MIT-OZ
	cc:   BUG-LISPM at MIT-OZ
	Re:   new-mail-pathname
	
	What I want to do is to tell if I have any new mail.  The following used
	to work: 
	
	(PROBEF (FUNCALL (FS:USER-HOMEDIR) ':NEW-MAIL-PATHNAME))

It still works in 91.

With 222 you must go through the list returned by
:POSSIBLE-MAIL-FILE-PATHNAMES, and probef the result of sending
:INBOX-PATHNAME to each one.  This is what COM-VIEW-MAIL in ZWEI does.
All this seems fine as far as featurefulness goes, but it would be nice
if some system compatable way were defined to locate new mail.  It seems
to me that the simple test in COM-VIEW-MAIL could be made into a
generally useful function (or message, I don't care) in both systems.

	  The function NEW-MAIL-EXISTS-P has been 
kicked in the shorts, but not patched.  You also might
enjoy just looking at just plain VIEW-MAIL.   (These are
in ZWEI, and with luck are global as well).
13-Dec-82 22:54:56-EST,408;000000000000
Date: Sunday, 12 December 1982, 13:07-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Hdt at MIT-OZ
Cc: BUG-Lispm at MIT-OZ
In-reply-to: The message of 12 Dec 80 04:44-EST from Howard Daniel Trachtman <Hdt at MIT-OZ>

    Date: Saturday, 12 December 1980, 04:44-EST
    From: Howard Daniel Trachtman <Hdt at MIT-OZ>
    (apropos "close" ':package "fs" does not find FS:CLOSE
There is no FS:CLOSE.
13-Dec-82 23:01:02-EST,1205;000000000000
Mail-From: HDT created at 13-Dec-82 22:58:17
Date: 13 December 1982  22:58-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BUG-Lispm at MIT-OZ
In-reply-to: The message of 12 Dec 1982 13:07-EST from David L. Andre <DLA at SCRC-TENEX>

    Date: Sunday, 12 December 1982, 13:07-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    To:   Hdt at MIT-OZ
    cc:   BUG-Lispm at MIT-OZ

        Date: Saturday, 12 December 1980, 04:44-EST
        From: Howard Daniel Trachtman <Hdt at MIT-OZ>
        (apropos "close" ':package "fs" does not find FS:CLOSE
    There is no FS:CLOSE.

You're absolutely right.  I meant FS:OPEN.  This problem does indeed
exist in both 91 and whatever the current Apiary Symbolics system is.

As a related issue, what I was trying to figure out was how to
have a file which is being loaded a background process kill itself
off gracefully.  Closing all files or the last file opened could lose
big, and sending a ':kill message to the process will leave the file
open.  What is the best why to get the process to go away, and close
the file that represents the file being loaded?
13-Dec-82 23:04:38-EST,568;000000000000
Mail-From: HANSON created at 13-Dec-82 23:03:55
Date: Monday, 13 December 1982  23:03-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Howard D. Trachtman <HDT at MIT-OZ>
Cc:   BUG-Lispm at MIT-OZ
In-reply-to: The message of 13 Dec 1982  22:58-EST () from Howard D. Trachtman <HDT>

    Date: 13 December 1982  22:58-EST (Monday)
    From: Howard D. Trachtman <HDT>
    You're absolutely right.  I meant FS:OPEN.  This problem does indeed
    exist in both 91 and whatever the current Apiary Symbolics system is.

There's also no FS:OPEN in 91.
13-Dec-82 23:12:57-EST,344;000000000000
Date: Sunday, 13 December 1981, 23:08-EST
From: Richard M. Stallman <RMS at MIT-OZ>
To: bug-lispm at MIT-OZ, cal at MIT-OZ

I believe that the problems with NIL as a pathname in 
TV:DISPLAY-FILE-TRANSFER were fixed in 91.14 by PGS.
The wrong year bug was fixed in 91.15.
If you find yourself using an older 91, be sure to load patches.
13-Dec-82 23:21:26-EST,909;000000000000
Mail-From: HDT created at 13-Dec-82 23:19:12
Date: 13 December 1982  23:19-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   HANSON at MIT-MC
Cc:   BUG-Lispm at MIT-OZ
In-reply-to: The message of 13 Dec 1982  23:03-EST from HANSON at MIT-MC

    Date: Monday, 13 December 1982  23:03-EST
    From: HANSON at MIT-MC
    To:   Howard D. Trachtman <HDT at MIT-OZ>
    cc:   BUG-Lispm at MIT-OZ

        Date: 13 December 1982  22:58-EST (Monday)
        From: Howard D. Trachtman <HDT>
        You're absolutely right.  I meant FS:OPEN.  This problem does indeed
        exist in both 91 and whatever the current Apiary Symbolics system is.

    There's also no FS:OPEN in 91.
Boy am I brain damaged!  I made the same exact mistake three times in the same piece of mail.
Lets try again.

I meant FS:CLOSE  (I'm not on a cadr so I hope that this exists...)
13-Dec-82 23:36:09-EST,700;000000000000
Mail-From: HANSON created at 13-Dec-82 23:34:06
Date: Monday, 13 December 1982  23:34-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Howard D. Trachtman <HDT at MIT-OZ>
Cc:   BUG-Lispm at MIT-OZ
In-reply-to: The message of 13 Dec 1982  23:19-EST () from Howard D. Trachtman <HDT>

    Date: 13 December 1982  23:19-EST (Monday)
    From: Howard D. Trachtman <HDT>
    I meant FS:CLOSE.

Howard, please get this straight.
There is neither an FS:OPEN or an FS:CLOSE in system 91.
There is both a GLOBAL:OPEN and a GLOBAL:CLOSE, however.
The functions in FS: are FS:LMFS-OPEN-FILE and FS:LMFS-CLOSE-FILE.
You can't call them on pathnames because they are internal functions.
14-Dec-82 02:50:44-EST,1585;000000000000
Date: Tuesday, 14 December 1982, 02:03-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: FS:FOOBAR
To: Howard D. Trachtman <HDT at MIT-MC>
Cc: David L. Andre <DLA at SCRC-TENEX>, BUG-Lispm at MIT-OZ
In-reply-to: The message of 13 Dec 82 22:58-EST from Howard D. Trachtman <HDT at MIT-MC>

    Date: 13 December 1982  22:58-EST (Monday)
    From: Howard D. Trachtman <HDT at MIT-MC>
	Date: Sunday, 12 December 1982, 13:07-EST
	From: David L. Andre <DLA at SCRC-TENEX>
	    Date: Saturday, 12 December 1980, 04:44-EST
	    From: Howard Daniel Trachtman <Hdt at MIT-OZ>
	    (apropos "close" ':package "fs" does not find FS:CLOSE
	There is no FS:CLOSE.

    You're absolutely right.  I meant FS:OPEN.  This problem does indeed
    exist in both 91 and whatever the current Apiary Symbolics system is.
There is no problem in either system.  There is no FS:OPEN or FS:CLOSE
in either system.

    As a related issue, what I was trying to figure out was how to
    have a file which is being loaded a background process kill itself
    off gracefully.  Closing all files or the last file opened could lose
    big, and sending a ':kill message to the process will leave the file
    open.  What is the best why to get the process to go away, and close
    the file that represents the file being loaded?
Well, I can't answer that for you.  It depends on the nature of
the background process.  Did it open the file itself, using WITH-OPEN-FILE?
Then sending a :KILL message will do the trick.  If not, then it depends on
the structure of your application.
14-Dec-82 06:35:20-EST,799;000000000000
Date: Monday, 14 December 1980, 06:33-EST
From: David Vinayak Wallace <Gumby at MIT-OZ>
Subject: Closing files opened in background processes
To: Howard D. Trachtman <HDT at MIT-MC>
Cc: BUG-Lispm at MIT-OZ

    Date: 13 December 1982  22:58-EST (Monday)
    Sender: HDT at MIT-OZ

    As a related issue, what I was trying to figure out was how to
    have a file which is being loaded a background process kill itself
    off gracefully.  Closing all files or the last file opened could lose
    big, and sending a ':kill message to the process will leave the file
    open.  What is the best why to get the process to go away, and close
    the file that represents the file being loaded?

Use with-open-file, or at least put an unwind-protect around your
file-frobbing forms.

14-Dec-82 17:39:10-EST,589;000000000000
Date: Tuesday, 14 December 1982, 17:36-EST
From: Henry at MIT-OZ, CMM at MIT-OZ
Sender: DGT at MIT-OZ
Subject: One color screen = 4 B&W screens?
To: Bug-Lispm at MIT-OZ


How feasible would the following hack be:

Several Lispms have color screens with 4 bits/pixel.
Would it be possible to use these for 4 separate 
windows (editor buffers, supdups, etc.) by setting
just one bit at a time, then switching between 
windows by setting the color map so only one window
is non-black at a time.

This would help quench our ever imperialistic desire
for more screen acreage.
14-Dec-82 20:07:51-EST,1055;000000000000
Date: Tuesday, 14 December 1982, 20:00-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: System 210 sources
To: Barry Margolin at MIT-MULTICS
Cc: bug-lispm at MIT-EECS, gumby at MIT-OZ
In-reply-to: The message of 13 Dec 82 09:46-EST from Barry Margolin at MIT-MULTICS

    Date:  13 December 1982 09:46 est
    From:  Barry Margolin at MIT-MULTICS
    A couple of nights ago I tried to make a personal patch to System 210,
    specifically to implement something like NETWORK O for Supdup.  Imagine
    my chagrin when I discovered that the only version of the Supdup source
    online at EE and OZ was for System 218 (or perhaps 222).  I don't want
    any lectures about the fact that 210 is long obsolete and the EECS
    machines should have been running 218 or higher, as that is not my
    decision to make.  I think that someone should be making sure that
    important source, such as the source associated with the loaded bands,
    does not get reaped.
Sorry, there was not enough room on LIB: to keep both sources there.
14-Dec-82 20:12:50-EST,710;000000000000
Date: Tuesday, 14 December 1982  20:06-EST
From: MOON at SCRC-TENEX
To:   Henry at MIT-OZ, CMM at MIT-OZ
Cc:   Bug-Lispm at MIT-OZ
Subject: One color screen = 4 B&W screens?
In-reply-to: The message of 14 Dec 1982 17:36-EST from Henry at MIT-OZ, CMM at MIT-OZ

Two problems: the resolution of the color screen is only 1/4 as much
(on an area basis).  The color hardware does not have a "plane mode",
so drawing into only one of the four bits per pixel is not software
compatible with the black and white screen.  Thus it is not really
practical--too bad, otherwise you could save waiting 1/6 second for
the screen to be bitblt'ed, and recycle all those 1950's 3-D movie
glasses at the same time.
14-Dec-82 20:22:47-EST,600;000000000000
Date: Monday, 14 December 1981, 20:18-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204,  , on Lisp Machine Six:

I was inside a meta-x edit warnings and decided to get out of it by
doing a control-x 1.  The error I got was: 

zwei:*one-window-default* is unbound in function zwei:com-one-window

By the way, is there a better way of exiting an edit warnings without 
going through all the warnings?
14-Dec-82 20:47:56-EST,1073;000000000000
Date: Tuesday, 14 December 1982, 20:44-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 12 Dec 82 14:48-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 12 December 1982, 14:48-EST
    From: David Chapman <Zvona at MIT-OZ>
    In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Twenty-two:

    Feature if the debugger could throw through marked frames when 
    you abort without reentering itself.  Hmm, that is not very clear.  
    If I have (breakon 'foo) and the debugger is entered, then I type 
    abort and it traps on throwing through the marked frame.  If you 
    abort out of that, it goes back to the debugger again.  Finally, 
    another abort actually gets you out.

My proposal is that nothing turn off trap on exit bits except the
<abort> command (which would then be slightly different from the
innermost error restart super- command), and the go ahead and return
proceed type.
14-Dec-82 21:01:16-EST,1021;000000000000
Date: Tuesday, 14 December 1982, 21:00-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: load-patches and logging in
To: BUG-LISPM at OZ

In System 222.64, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 2, on Arthur Dent:

LOAD-PATCHES should use a default username when logging in to the SYS:
host, because not everyone has an accounton the SYS: host, and the user
should not be required to know the anonymous username convention.  If
there already is a file-connection to the host it should use that of
course, and checking to see whether the user has a userid set for the
host would be another way of deciding to use a regular file job.  This
same is also true for Meta-., and perhaps for any use of the SYS:
logical host (as opposed to when it tries to connect to that host via
its true hostname).  This might require a little reorganization, as you
would then want a special flavor of logical-host of which SYS: would
generally be the only instance.
14-Dec-82 21:36:35-EST,3281;000000000000
Date: Monday, 14 December 1981, 21:34-EST
From: Barry Margolin <Margolin at MIT-EECS>
Subject: FS:BALANCE-DIRECTORIES
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204,  , on Ford Prefect:


Insert your description of the circumstances here:

FS:BALANCE-DIRECTORIES seems to require that both file systems implement
version numbers.  I think it would be better to compare creation date.

>>TRAP 12604 (ARGTYP NUMBER PP 0 QIGRP)
The first argument to >, UNSPECIFIC, was of the wrong type.
The function expected a number.
Backtrace from the debugger:

FS:FIND-NEWEST-CFILE (P.C. = 43)

 Arg 0 (CFILES): ((#FS:MULTICS-PATHNAME "CMUL: >udd>m>barmar>lispm.init" CREATION-DATE 23401430614 LENGTH-IN-BLOCKS ...))
Local 0 (NEWEST): NIL
Local 1 (NV): 0
Local 2 (G4371): ((#FS:MULTICS-PATHNAME "CMUL: >udd>m>barmar>lispm.init" CREATION-DATE 23401430614 LENGTH-IN-BLOCKS ...))
Local 3 (CFILE): (#FS:MULTICS-PATHNAME "CMUL: >udd>m>barmar>lispm.init" CREATION-DATE 23401430614 LENGTH-IN-BLOCKS ...)
Local 4 (V): UNSPECIFIC


FS:CLASS-REPRESENTATIVE (P.C. = 30)

 Arg 0 (CFILE-CLASS): ((#FS:MULTICS-PATHNAME "CMUL: >udd>m>barmar>lispm.init" CREATION-DATE 23401430614 LENGTH-IN-BLOCKS ...))
Local 0 (REP): NIL
Local 1 (G4359): NIL
Local 2 (CFILE): NIL


FS:COMPARE-CDIRECTORIES (P.C. = 142)

 Arg 0 (CDIR1): #<CDIRECTORY 17571453>
 Arg 1 (CDIR2): #<CDIRECTORY 17572161>
Local 0 (ISOCLASSES): (NIL (**) NIL)
Local 1 (NEWEST?): T
Local 2 (G4278): ((** **))
Local 3 (CLASS): NIL
Local 4 (CLASS-PAIR): ((** **) (#FS:MULTICS-PATHNAME "CMUL: >udd>m>barmar>lispm.init" CREATION-DATE 23401430614 LENGTH-IN-BLOCKS ...))
Local 5 (REP1): NIL
Local 6 (REP2): NIL
Local 7 (ISOSET): NIL
Local 8 (V1): NIL
Local 9 (V2): NIL
Local 10 (CD1): NIL
Local 11 (CD2): NIL
Local 12 (G4296): NIL
Local 13 (CFILE): NIL


FS:BALANCE-DIRECTORIES (P.C. = 152)

 Arg 0 (DIRSPEC1): "ee:<s.barmar>LISPM.init"
 Arg 1 (DIRSPEC2): "cmul:>udd>m>barmar>lispm.init"
 Rest arg (KEYWORD-PLIST): NIL
Local 1 (ERROR-P): T
Local 2 (DEFAULTS): ((#<TOPS20-CHAOS-HOST MIT-EECS> . #FS:TOPS20-PATHNAME "EE:PS:<S.BARMAR>") (#<TOPS20-CHAOS-HOST MIT-OZ> . #FS:TOPS20-PATHNAME "OZ:PS:<RMS>") (NIL . #FS:TOPS20-PATHNAME "EE:PS:<S.BARMAR>"))
Local 3 (COPY-MODE): NIL
Local 4 (QUERY-MODE): NIL
Local 5 (REMOVABLE-NAMES): NIL
Local 6 (DIRPATH1): #FS:TOPS20-PATHNAME "EE:PS:<S.BARMAR>LISPM.INIT"
Local 7 (DIR1): #<CDIRECTORY 17571453>
Local 8 (DIRPATH2): #FS:MULTICS-PATHNAME "CMUL: >udd>m>barmar>lispm.init"
Local 9 (DIR2): #<CDIRECTORY 17572161>


Additional information supplied with call:
 Values to be collected for MULTIPLE-VALUE-LIST

SI:*EVAL (P.C. = 1110)

 Arg 0 (FORM): (FS:BALANCE-DIRECTORIES "ee:<s.barmar>LISPM.init" "cmul:>udd>m>barmar>lispm.init")
Local 0 (ARGNUM): 2
Local 1 (FCTN): #<DTP-FEF-POINTER FS:BALANCE-DIRECTORIES 22415011>
Local 2 (ARG-DESC): 4000202
Local 3 (NUM-ARGS): 2
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10 (ITEM): NIL
Local 11 (*SELECTQ-ITEM*): NIL
14-Dec-82 21:41:23-EST,1246;000000000000
Date: Tuesday, 14 December 1982, 21:39-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: rational incompatibility
To: BUG-LISPM at OZ

In System 222.64, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 2, on Arthur Dent:

There is a difference in the definition of rationals between the MIT
system and the Symbolics system.  The MIT system considers fixnums to be
rational, while the Symbolcs system does not.  I thought that the
definition of rational numbers was part of common lisp; if so, then one
of the systems is doing it wrong.  Personally, I think it is correct to
consider fixnums as a subset of rationals.  After thinking about it a
bit, though, I realize that this is not very important, as long as the
rational number package and the generic arithmetic facilities are
internally consistent (i.e. Symbolics software doesn't turn 3\1 into 3
the way MIT software does).  In any case, it would probably be nice if
they agreed, anyway, and it would also be nice if everyone wrote
defensive programs that didn't depend upon automatic casting of fixnums
to rationals on the MIT system (i.e., if you want to make sure that user
input is a rational, use (RATIONAL (READ)))).
14-Dec-82 21:51:21-EST,1273;000000000000
Date: Tuesday, 14 December 1982, 21:49-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: Files on multiple machines, BALANCE-DIRECTORIES
To: BUG-LISPM at OZ

In System 222.64, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 2, on Arthur Dent:

Thanks for the various responses to my query about how to have a set of
files that try to be consistent between several hosts (thanks to VIXEN
for sending me 10 copies of DLA's response).  However, from the
documentation of MIT's BALANCE-DIRECTORIES, it looks like it is not what
want.  It looks like it is meant to keep whole directories the same,
where I am concerned about three or four files.  In addition, as I
indicated in a bug message I just sent from a System 91 machine,
BALANCE-DIRECTORIES does not seem to work on file systems that do not
have version numbers, and two of the four machines I am interested in
are like this (Multics and Unix).  I was also hoping for something a bit
more automatic, but if BALANCE-DIRECTORIES could be made to work, and
could be given more than two directory specs (perhaps it should take a
list of them), I could probably make do by making sure that all and only
the files I want balanced match a wildcard filename.
14-Dec-82 22:06:29-EST,1359;000000000000
Date: Tuesday, 14 December 1982, 21:59-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: load-patches and logging in
To: Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 14 Dec 82 21:00-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Tuesday, 14 December 1982, 21:00-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    In System 222.64, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
    microcode 977, site configuration 2, on Arthur Dent:

    LOAD-PATCHES should use a default username when logging in to the SYS:
    host, because not everyone has an accounton the SYS: host, and the user
    should not be required to know the anonymous username convention.  If
    there already is a file-connection to the host it should use that of
    course, and checking to see whether the user has a userid set for the
    host would be another way of deciding to use a regular file job.  This
    same is also true for Meta-., and perhaps for any use of the SYS:
    logical host (as opposed to when it tries to connect to that host via
    its true hostname).  This might require a little reorganization, as you
    would then want a special flavor of logical-host of which SYS: would
    generally be the only instance.
That would screw the people who have accounts on the sys host.
14-Dec-82 22:21:24-EST,2052;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  14 December 1982 22:12 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: load-patches and logging in
To:  David L. Andre <DLA at SCRC-TENEX>
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 14 December 1982 22:03 est from David L. Andre

    Date:  Tuesday, 14 December 1982, 21:59-EST
    From:  David L. Andre <DLA at SCRC-TENEX>
    Subject:  load-patches and logging in

        Date: Tuesday, 14 December 1982, 21:00-EST
        From: Barry Margolin <Margolin at MIT-MULTICS>
        In System 222.64, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
        microcode 977, site configuration 2, on Arthur Dent:

        LOAD-PATCHES should use a default username when logging in to the SYS:
        host, because not everyone has an accounton the SYS: host, and the user
        should not be required to know the anonymous username convention.  If
        there already is a file-connection to the host it should use that of
        course, and checking to see whether the user has a userid set for the
        host would be another way of deciding to use a regular file job.  This
        same is also true for Meta-., and perhaps for any use of the SYS:
        logical host (as opposed to when it tries to connect to that host via
        its true hostname).  This might require a little reorganization, as you
        would then want a special flavor of logical-host of which SYS: would
        generally be the only instance.
    That would screw the people who have accounts on the sys host.

How?  If OZ is the sys host, I would say OZ:<SIPB.Barmar> when I meant
my directory, but I would say SYS:IO; when I meant the directory
containing system sources, and there should be no confusion.  Note the
other suggestions, that it not use this mechanism if the user has
already logged into the sys host or has done FS:FILE-HOST-USER-ID for
that host.  I still would like to know what users who do not have
accounts on the sys host are supposed to do.
14-Dec-82 22:22:19-EST,1373;000000000000
Mail-From: ZVONA created at 14-Dec-82 22:18:15
Date: Tuesday, 14 December 1982  22:18-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   Mike McMahon <MMcM at SCRC-TENEX>
Cc:   BUG-lispm at MIT-OZ
In-reply-to: The message of 14 Dec 1982 20:44-EST from Mike McMahon <MMcM at SCRC-TENEX>

    Date: Tuesday, 14 December 1982, 20:44-EST
    From: Mike McMahon <MMcM at SCRC-TENEX>
    To:   Zvona
    cc:   BUG-lispm

        Date: Sunday, 12 December 1982, 14:48-EST
        From: David Chapman <Zvona at MIT-OZ>
        In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
        microcode 977, site configuration 2, on Lisp Machine Twenty-two:

        Feature if the debugger could throw through marked frames when 
        you abort without reentering itself.  Hmm, that is not very clear.  
        If I have (breakon 'foo) and the debugger is entered, then I type 
        abort and it traps on throwing through the marked frame.  If you 
        abort out of that, it goes back to the debugger again.  Finally, 
        another abort actually gets you out.

    My proposal is that nothing turn off trap on exit bits except the
    <abort> command (which would then be slightly different from the
    innermost error restart super- command), and the go ahead and return
    proceed type.
Sounds like the right thing.
14-Dec-82 23:06:21-EST,1056;000000000000
Date: Tuesday, 14 December 1982  23:02-EST
From: MOON at SCRC-TENEX
To:   Barry Margolin at MIT-MULTICS
Cc:   BUG-LISPM at MIT-OZ, David L. Andre <DLA at SCRC-TENEX>
Subject: Re: load-patches and logging in
In-reply-to: The message of 14 Dec 1982 22:12 est from Barry Margolin at MIT-MULTICS

    Date:  14 December 1982 22:12 est
    From:  Barry Margolin at MIT-MULTICS
    I still would like to know what users who do not have
    accounts on the sys host are supposed to do.
You're supposed to hit Return when it says "or hit Return to login anonymously."
There might be some sys hosts where that doesn't work, but there aren't any that
you use (nor that I use).

The problem with having it login automatically is that there isn't yet a user
interface to allow you fully to control what name you are logged in by on what
host.  Thus if it logged in to the sys host under some bogus name, behind your
back without asking you what your real name there was, there would be no
command by which you could switch to your real name later.
14-Dec-82 23:07:29-EST,580;000000000000
Mail-From: CENT created at 14-Dec-82 23:05:56
Date: Tuesday, 14 December 1982  23:05-EST
Sender: CENT at MIT-OZ
From: CENT at MIT-MC
To:   bug-lispm at MIT-OZ
Subject:old mail archived

(dumper was supposed to send you this itself. apparently its mail
file creating mechanism doesn't know it has to put headers on msgs.)
this very old bug-lispm mail has been moved to tape.
----------
L.DOC

Archived files
 The following files have been archived:

SRC:<L.DOC>BUG.LISPM10.1 File archived, contents deleted
SRC:<L.DOC>BUG.LISPM9.1 File archived, contents deleted
14-Dec-82 23:21:33-EST,787;000000000000
Date: Tuesday, 14 December 1982  23:17-EST
From: MOON at SCRC-TENEX
To:   Barry Margolin <Margolin at MIT-MULTICS>
Cc:   BUG-LISPM at OZ
Subject: rational incompatibility
In-reply-to: The message of 14 Dec 1982 21:39-EST from Barry Margolin <Margolin at MIT-MULTICS>

Symbolics software currently makes no claim of being Common Lisp.  If the
rational numbers that exist now are documented at all, they are documented
as being an experiment, not as being "part of Common Lisp".

Of course when we do provide an implementation of Common Lisp, its rational
numbers will conform to the Common Lisp specifications.

Serious planning and design for the Symbolics Common Lisp implementation is
just about to start, so you can expect to see results some time around the
summer.
14-Dec-82 23:31:17-EST,785;000000000000
Date: Tuesday, 14 December 1982, 22:01-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: rational incompatibility
To: Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 14 Dec 82 21:39-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Tuesday, 14 December 1982, 21:39-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    In System 222.64, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
    microcode 977, site configuration 2, on Arthur Dent:

    There is a difference in the definition of rationals between the MIT
    system and the Symbolics system.
This is probably one of the common-lisp compatibility changes which
we're holding off for a separate release and MIT is installing
incrementally.
14-Dec-82 23:50:57-EST,913;000000000000
Date: Monday, 14 December 1981, 23:50-EST
From: Margolin at Multics
Subject: T  <-- that was put there by ZMAIL!
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204,  , on Ford Prefect:

I wish that the Multics file-system interface wouldn't try to guess my
password.  On Multics, a user gets a message sent to him whenever his
password is given incorrectly.  And don't tell me about
FS:RECORD-PASSWORDS-FLAG, as I already null this out explicitly.  I
would like it to at least be an option that the LISPM should not try to
guess passwords, as anyone who cares enough to null out the variable
would not have such a trivial password.  Or, just change this for
Multics, since it is the only system that makes it obnoxious when an
incorrect password is given.
15-Dec-82 00:41:05-EST,794;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  15 December 1982 00:34 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: load-patches and logging in
To:  MOON at SCRC-TENEX
cc:  BUG-LISPM at MIT-OZ, David L. Andre <DLA at SCRC-TENEX>
In-Reply-To:  Message of 14 December 1982 23:03 est from MOON

    Date:  Tuesday, 14 December 1982  23:02-EST
    From:  MOON at SCRC-TENEX
    Subject:  Re: load-patches and logging in

        Date:  14 December 1982 22:12 est
        From:  Barry Margolin at MIT-MULTICS
        I still would like to know what users who do not have
        accounts on the sys host are supposed to do.
    You're supposed to hit Return when it says "or hit Return to login anonymously."

I must have missed that line.  That's perfectly acceptable.
15-Dec-82 03:18:57-EST,1896;000000000000
Date: Wednesday, 15 December 1982  03:10-EST
From: MOON at SCRC-TENEX
To:   ZVONA at MIT-MC, Mike McMahon <MMcM at SCRC-TENEX>
Cc:   BUG-lispm at MIT-OZ
In-reply-to: The message of 14 Dec 1982  22:18-EST from ZVONA at MIT-MC

    Date: Tuesday, 14 December 1982  22:18-EST
    Sender: ZVONA at MIT-OZ
    From: ZVONA at MIT-MC

        Date: Tuesday, 14 December 1982, 20:44-EST
        From: Mike McMahon <MMcM at SCRC-TENEX>

            Date: Sunday, 12 December 1982, 14:48-EST
            From: David Chapman <Zvona at MIT-OZ>

            Feature if the debugger could throw through marked frames when 
            you abort without reentering itself.  Hmm, that is not very clear.  
            If I have (breakon 'foo) and the debugger is entered, then I type 
            abort and it traps on throwing through the marked frame.  If you 
            abort out of that, it goes back to the debugger again.  Finally, 
            another abort actually gets you out.
I fixed and patched the typographical error that caused this.

        My proposal is that nothing turn off trap on exit bits except the
        <abort> command (which would then be slightly different from the
        innermost error restart super- command), and the go ahead and return
        proceed type.
    Sounds like the right thing.

That was my proposal, too.  I even implemented it, but it since was changed
to suppress trap on exit for all restarts, not just restarts done with the
abort key.  So I won't change it back unilaterally.

The only other questionable clearings of the trap on exit bits are in the
debugger c-T and c-m-R commands.  The one in the c-m-R command is left over
from the brain-damaged way this used to be implemented; I have verified that
flushing it behaves properly and will do so in my patch.  The one in the
c-T command is random but harmless.
15-Dec-82 03:21:06-EST,1793;000000000000
Date: Wednesday, 15 December 1982, 03:15-EST
From: David Vinayak Wallace <Gumby at MIT-OZ>
Subject: Files on multiple machines, BALANCE-DIRECTORIES
To: Barry Margolin <Margolin at MIT-MULTICS>
Cc: BUG-LISPM at MIT-OZ

    Date: Tuesday, 14 December 1982, 21:49-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    In System 222.64, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
    microcode 977, site configuration 2, on Arthur Dent:

							However, from the
    documentation of MIT's BALANCE-DIRECTORIES, it looks like it is not what
    want.  It looks like it is meant to keep whole directories the same,
    where I am concerned about three or four files.  In addition,
    BALANCE-DIRECTORIES does not seem to work on file systems that do not
    have version numbers, and two of the four machines I am interested in
    are like this (Multics and Unix).  I was also hoping for something a bit
    more automatic, but if BALANCE-DIRECTORIES could be made to work, and
    could be given more than two directory specs (perhaps it should take a
    list of them), I could probably make do by making sure that all and only
    the files I want balanced match a wildcard filename.

Well, balance-directories does take a pathname to search, so if your
files had similar filenames (perhaps you want to balance FOO.BAR, FOO.DOC,
FOO.LISP, and FOO.QFASL) you'd me o.k. Or you could just map
#'(lambda (x) (balance-directories foo bar ':defaults x)) over a list of
the filenames.

As for not working on filesystems without version numbers, it's not
clear what it should do. Should the user specify a dt for creation-date
comparison? Also, you'd then have to specify an offset, as various hosts
(notably the filecomputer) have widely differring times.
15-Dec-82 04:13:15-EST,923;000000000000
Date: Wednesday, 15 December 1982, 01:08-PST
From: David C. Plummer <DCP at SCRC-POINTER>
Subject: rational incompatibility
To: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ
In-reply-to: The message of 14 Dec 82 18:39-PST from Barry Margolin <Margolin at MIT-MULTICS>

MIT:         (// 3\1 2\1) ==> 1
Symbolics:   (// 3\1 2\1) ==> 3\2
Common lisp: (// 3\1 2\1) ==> ??

I think the Symbolics method is actually correct.  The set of fixnums
may be a subset of rationals, but that doesn't mean rationals should
collapse to fixnums when possible.  Along the same lines are complex
numbers with a zero imaginary part collapsing into flonums (though I
can't think of a screw case).  An even worse idea (brought up recently)
is flonums collapsing into fixnums (which makes division lose).
Propigation of data types is important, even at the cost of space and
speed.  I wonder is Macsyma depends on this behavior?
15-Dec-82 04:43:02-EST,1839;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  15 December 1982 04:30 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Files on multiple machines, BALANCE-DIRECTORIES
To:  gumby at MIT-OZ
cc:  bug-lispm at MIT-OZ
In-Reply-To:  Message of 15 December 1982 03:29 est from David Vinayak Wallace <Gumby

    Date:  Wednesday, 15 December 1982, 03:15-EST
    From:  David Vinayak Wallace <Gumby at MIT-OZ at MIT-MC>
    Subject:  Files on multiple machines, BALANCE-DIRECTORIES

    As for not working on filesystems without version numbers, it's not
    clear what it should do. Should the user specify a dt for creation-date
    comparison? Also, you'd then have to specify an offset, as various hosts
    (notably the filecomputer) have widely differring times.

Well, except for the fact that machines running system 89 seem to have
their dates off by a year (strange, it was off by two years a couple of
days ago), most file-systems should agree on the time to within a couple
of minutes.  Since the assumption when one is using balance-directories
is that the files on different machines are not being modified
differently simultaneously (otherwise, one of the sets of modifications
would be undone the next time the directories were balanced) a few
minutes of error should not be a problem.  I don't understand what you
mean by "should the user specify a dt for creation-date comparison"; the
user needn't specify anything, it should just use the one with the most
recent creation-date (actually modification-date would be better, but
this is usually the same thing, especially on version-numbered systems).
When it blew out, I noticed that one of the structures that is used by
balance-directories even contains the creation-date in it, so it
probably won't mean alot of work to make that change.
15-Dec-82 04:53:06-EST,2283;000000000000
Date: 15 December 1982 04:49-EST
From: Alan Bawden <ALAN at MIT-MC>
Subject:  rational incompatibility
To: DCP at SCRC-TENEX
cc: BUG-LISPM at MIT-OZ, Margolin at MIT-MULTICS

    Date: Wednesday, 15 December 1982, 01:08-PST
    From: David C. Plummer <DCP at SCRC-POINTER>

    MIT:         (// 3\1 2\1) ==> 1
    Symbolics:   (// 3\1 2\1) ==> 3\2
    Common lisp: (// 3\1 2\1) ==> ??

Well, in Common Lisp you type "(/ 3/1 2/1)" and the returned value is 3/2.
But this is NOT because Common Lisp and Brand S are doing the same thing!
This is because in Common Lisp 3/1 and 2/1 are just other ways of typing 3
and 2, but the function named "/" no longer does truncation, instead it
always does rational division.

In the "MIT system" the change where 3\1 and 2\1 are just ways of typing 3
and 2 has already been implemented, but the change in the behavior of //
has not, hence the strange behavior.  I believe there is a function you can
call in the interim to do what / will do eventually.

    I think the Symbolics method is actually correct.  The set of fixnums
    may be a subset of rationals, but that doesn't mean rationals should
    collapse to fixnums when possible.  Along the same lines are complex
    numbers with a zero imaginary part collapsing into flonums (though I
    can't think of a screw case).

The Symbolics way is only correct as a kludge to make up for the fact that
the // function is broken.  Rationals SHOULD (and WILL!) collapse to
fixnums.  In fact, complex numbers with zero iamginary part and a rational
real part should also collapse to rationals.

    An even worse idea (brought up recently) is flonums collapsing into
    fixnums (which makes division lose).  Propigation of data types is
    important, even at the cost of space and speed.  I wonder is Macsyma
    depends on this behavior?

Flonums collapsing into fixnums is indeed a bad idea.  The bottom line is
that propogation of datatypes is important when floating point is involved.
This is bacause unlike complex rationals, they don't form a field.  In a
field the important properties are things like commutativity,
associativity and equality.  With floating point the important properties
involve concepts like precision and accuracy.
15-Dec-82 04:53:53-EST,598;000000000000
Date: Wednesday, 15 December 1982  04:50-EST
From: MOON at SCRC-TENEX
to:   Mike McMahon <MMcM at SCRC-TENEX>, ZVONA at MIT-MC
Cc:   BUG-lispm at MIT-OZ
Subject: clearing trap on exit bits again
In-reply-to: The message of 15 Dec 1982  03:10-EST from MOON at SCRC-TENEX

One slight correction; the c-R command also clears them, for the same
reason as the c-T command, I assume, but at a different level of modularity
to be random.  I left both these in as I suspect they are there to make it
more convenient when using breakon and manually intervening in the execution
of the function.
15-Dec-82 04:54:43-EST,888;000000000000
Mail-From: BAK created at 15-Dec-82 04:47:53
Date: Wednesday, 15 December 1982  04:47-EST
Sender: BAK at MIT-OZ
From: BAK at MIT-MC
To:   David C. Plummer <DCP at SCRC-POINTER>
Cc:   BUG-LISPM at MIT-OZ, Margolin at MIT-MULTICS
Subject: rational incompatibility
In-reply-to: The message of 15 Dec 1982 01:08-PST from David C. Plummer <DCP at SCRC-POINTER>

    Date: Wednesday, 15 December 1982, 01:08-PST
    From: David C. Plummer <DCP at SCRC-POINTER>
    To:   Margolin at MIT-MULTICS, BUG-LISPM
    Re:   rational incompatibility

    MIT:         (// 3\1 2\1) ==> 1
    Symbolics:   (// 3\1 2\1) ==> 3\2
    Common lisp: (// 3\1 2\1) ==> ??

The result you give for "Symbolics" is the way the "MIT" software used
to work.  I haven't run in 80+ systems for a while now, but I have alot
of code that would break if dividing two rationals always gave a
fixnum.

15-Dec-82 05:03:26-EST,1839;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  15 December 1982 04:30 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Files on multiple machines, BALANCE-DIRECTORIES
To:  gumby at MIT-OZ
cc:  bug-lispm at MIT-OZ
In-Reply-To:  Message of 15 December 1982 03:29 est from David Vinayak Wallace <Gumby

    Date:  Wednesday, 15 December 1982, 03:15-EST
    From:  David Vinayak Wallace <Gumby at MIT-OZ at MIT-MC>
    Subject:  Files on multiple machines, BALANCE-DIRECTORIES

    As for not working on filesystems without version numbers, it's not
    clear what it should do. Should the user specify a dt for creation-date
    comparison? Also, you'd then have to specify an offset, as various hosts
    (notably the filecomputer) have widely differring times.

Well, except for the fact that machines running system 89 seem to have
their dates off by a year (strange, it was off by two years a couple of
days ago), most file-systems should agree on the time to within a couple
of minutes.  Since the assumption when one is using balance-directories
is that the files on different machines are not being modified
differently simultaneously (otherwise, one of the sets of modifications
would be undone the next time the directories were balanced) a few
minutes of error should not be a problem.  I don't understand what you
mean by "should the user specify a dt for creation-date comparison"; the
user needn't specify anything, it should just use the one with the most
recent creation-date (actually modification-date would be better, but
this is usually the same thing, especially on version-numbered systems).
When it blew out, I noticed that one of the structures that is used by
balance-directories even contains the creation-date in it, so it
probably won't mean alot of work to make that change.
15-Dec-82 05:14:32-EST,1771;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  15 December 1982 04:51 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: rational incompatibility
To:  David C. Plummer <DCP at SCRC-POINTER>
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 15 December 1982 04:07 est from David C. Plummer

    Date:  Wednesday, 15 December 1982, 01:08-PST
    From:  David C. Plummer <DCP at SCRC-POINTER>
    Subject:  rational incompatibility

    MIT:         (// 3\1 2\1) ==> 1
    Symbolics:   (// 3\1 2\1) ==> 3\2
    Common lisp: (// 3\1 2\1) ==> ??

    I think the Symbolics method is actually correct.  The set of fixnums
    may be a subset of rationals, but that doesn't mean rationals should
    collapse to fixnums when possible.  Along the same lines are complex
    numbers with a zero imaginary part collapsing into flonums (though I
    can't think of a screw case).  An even worse idea (brought up recently)
    is flonums collapsing into fixnums (which makes division lose).
    Propigation of data types is important, even at the cost of space and
    speed.  I wonder is Macsyma depends on this behavior?

According to the System 89 release notes, in Common Lisp // will return
rationals if it is given fixnums, and at some time the MIT system will
be converted to do so.  For now, if you are planning on dealing with
rationals you should be calling %DIV, which implements this, i.e.

MIT:	   (%DIV 3 2)  =>  3\2 Symbolics:   (// 3 2)  =>  3\2 Common
Lisp: (// 3 2)  =>  3\2

If you are worried about programs that depend upon the current behavior
of fixnum division, there is a TRUNCATE function in common lisp that
have the same behavior as // when given fixnums.  Macsyma should be
converted to use this if it needs it.
15-Dec-82 08:24:59-EST,849;000000000000
Date: Wednesday, 15 December 1982, 05:21-PST
From: David C. Plummer <DCP at SCRC-POINTER>
Subject: rational incompatibility
To: ALAN at MIT-MC, Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 15 Dec 82 01:49-PST from Alan Bawden <ALAN at MIT-MC>

Yow!  I see what's going on here.  DLA is probably glad to be gone when
this conversion happens and the system breaks (until they can find all
the places that depend on integer truncating division).

Now let me be a hippocrit (now asking for space saving and speed): Is
there a way to do integer truncating divide in one function?  (I.e.,
not (truncate (/ a b))?)  I'm would imaging the microcode that would
love to return a truncated divide instead of consing a rational and then
just truncating it anyway.

Oh well, time to (load-patches 'coding-style)!
15-Dec-82 10:55:57-EST,324;000000000000
Date: Wednesday, 15 December 1982, 08:48-EST
From: William A. Kornfeld <BAK at MIT-OZ>
To: bug-lispm at MIT-OZ

Is EDITOR-TOP-LEVEL supposed to work (system 218)?  I tried using it
recently, and could get virtually nothing to work.  If it is considered
a supported piece of code I'll send a more detailed bug report.
15-Dec-82 10:57:25-EST,350;000000000000
Date: Tuesday, 15 December 1980, 08:59-EST
From: Andrew L. Ressler <ALR at MIT-ML>
To: bug-lispm at MIT-ML

In system 91:

Would people be in favor of the following?

(login 'alr T) logged into default without loading init file.

(login 'alr "HOST" T) logged into HOST without loading init file.
		      instead of loading the init file.
15-Dec-82 10:58:14-EST,463;000000000000
Date: Wednesday, 15 December 1982, 09:25-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: rational incompatibility
To: DCP at SCRC-POINTER, ALAN at MIT-MC, Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 15 Dec 82 08:21-EST from David C. Plummer <DCP at SCRC-POINTER>

Common Lisp has all the right functions to do all the useful flavors of
truncating divide.  When we support Common Lisp, we'll have all this
stuff.
15-Dec-82 10:58:51-EST,299;000000000000
Date: Tuesday, 15 December 1981, 09:34-EST
From: Andrew L. Ressler <ALR at MIT-ML>
To: bug-lispm at MIT-ML

In System 91

(apropos "string" 'user) should still do the right thing.  This is the most
common way for an experienced user to use apropos, and therefore should be
the easiest way.
15-Dec-82 10:59:41-EST,1035;000000000000
Date: 15 Dec 1982 0332-EST
From: John Wroclawski <JTW at MIT-SPEECH>
Subject: Re: More processing
To: Henry at MIT-OZ, Bug-Oz at MIT-OZ
Reply-to: JTW@MIT-MC
In-Reply-To: Your message of 15-Dec-82 0009-EST
Redistributed-to: bug-lispm at MIT-OZ
Redistributed-by: JCMa at MIT-OZ
Redistributed-date: Wednesday, 15 December 1982, 10:11-EST

	Date: Wednesday, 15 December 1982, 00:05-EST
	From: Henry Lieberman <Henry at MIT-OZ>
	Subject: More processing
	To: Bug-Oz at MIT-OZ


	When SUPDUP'ing to OZ from a full screen window on a Lispm color
	screen, the --Pause-- at the end of a pagefull of text thinks the 
	screen is about 4 lines longer than it really is, so it wraps around
	about that many before pausing.


My immediate guess is that this is a LM bug. Could somebody verify
this by setting up the described conditions and then doing an

@i term

to see how long Twenex thinks the screen is? If the number you see
isn't the number of lines actually available on the screen, the LM
blew it...
-------
15-Dec-82 12:30:10-EST,614;000000000000
Date: Wednesday, 15 December 1982, 12:22-EST
From: Robert A. Cassels <Cassels at SCRC-TENEX>
Subject: rational incompatibility
To: DCP at SCRC-POINTER, ALAN at MIT-MC, Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 15 Dec 82 08:21-EST from David C. Plummer <DCP at SCRC-POINTER>

    Is there a way to do integer truncating divide in one function?
    (I.e., not (truncate (/ a b))?)

According to Common Lisp, truncate takes one or two arguments:
  (truncate (/ a b)) == (truncate a b)
So enough, already....  To paraphrase DLW, "Common Lisp is doing
everything right."
15-Dec-82 14:15:25-EST,861;000000000000
Mail-From: HANSON created at 15-Dec-82 14:12:46
Date: Wednesday, 15 December 1982  14:12-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Barry Margolin <Margolin at MIT-EECS>
Cc:   BUG-LISPM at MIT-OZ
Subject: FS:BALANCE-DIRECTORIES
In-reply-to: The message of 14 Dec 1981 21:34-EST from Barry Margolin <Margolin at MIT-EECS>

    Date: Monday, 14 December 1981, 21:34-EST
    From: Barry Margolin <Margolin at MIT-EECS>
    FS:BALANCE-DIRECTORIES seems to require that both file systems implement
    version numbers.  I think it would be better to compare creation date.

The error you have found will be fixed, but I disagree about your
theory of comparison.  The current algorithm (which may need to be
fixed) is to compare version numbers first; if one or both of the
version numbers is non-numeric, it compares creation dates.
15-Dec-82 14:23:03-EST,1127;000000000000
Mail-From: HANSON created at 15-Dec-82 14:18:30
Date: Wednesday, 15 December 1982  14:18-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Barry Margolin <Margolin at MIT-MULTICS>
Cc:   BUG-LISPM at OZ
Subject: Files on multiple machines, BALANCE-DIRECTORIES
In-reply-to: The message of 14 Dec 1982 21:49-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Tuesday, 14 December 1982, 21:49-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    It looks like it is meant to keep whole directories the same,
    where I am concerned about three or four files.
Yes, or any group of files that can be described by a directory
pathname.  It is in fact true that multiple files should be
describably by some kind of directory pathname.

    I was also hoping for something a bit
    more automatic , but if BALANCE-DIRECTORIES could be made to work, and
    could be given more than two directory specs (perhaps it should take a
    list of them).

Try writing either of these things yourself.  Balance Directories is
currently as automatic as I could make it without making an AI hack.
15-Dec-82 15:00:43-EST,2873;000000000000
Date: Wednesday, 15 December 1982, 14:45-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204, ., on Lisp Machine Thirty:


Insert your description of the circumstances here:

I did a select/Find File in Zmail of a file I already had in my buffer, but had
been changed since I last read it (I had appended two XMAIL files).  Apparently
QUERY-IO or whatever was bound to the wrong thing when it asked me if it should
read in the new file.


>>ERROR: The object #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL" received a RUBOUT-HANDLER message, which went unclaimed.
The rest of the message was ((** **) #<DTP-FEF-POINTER FORMAT:FQUERY-READLINE-WITH-HELP 1650024> #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL")

Backtrace from the debugger:

#FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL":
   Arg 0: RUBOUT-HANDLER
   Arg 1: ((PASS-THROUGH 206) (PROMPT FORMAT:FQUERY-PROMPT))
   Arg 2: #<DTP-FEF-POINTER FORMAT:FQUERY-READLINE-WITH-HELP 1650024>
   Arg 3: #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL"


SI:INSTANCE-HASH-FAILURE (P.C. = 120)

 Arg 0 (OP): RUBOUT-HANDLER
 Rest arg (ARGS): ((** **) #<DTP-FEF-POINTER FORMAT:FQUERY-READLINE-WITH-HELP 1650024> #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL")
Local 1 (HT): #<EQ-HASH-TABLE (Funcallable) 7164560>
Local 2 (FN-LOCATION): NIL
Local 3 (FUNC): NIL


(SELECT-METHOD FORMAT:READLINE-FQUERY-FUNCTION READ) (P.C. = 35)

 Arg 0 (IGNORE): READ
 Arg 1 (STREAM): #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL"
Local 0 (STRING): NIL


FQUERY (P.C. = 326)

 Arg 0 (OPTIONS): (STREAM #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL" FRESH-LINE NIL ...)
 Arg 1 (FQUERY-FORMAT-STRING): "~&~A"
 Rest arg (FQUERY-FORMAT-ARGS): ("File ~A has been changed since you last read or saved it.
Read in the new version? ")
Local 1 (MAKE-COMPLETE): T
Local 2 (TYPE): READLINE
Local 3 (TYPE-FUNCTION): FORMAT:READLINE-FQUERY-FUNCTION
Local 4 (FQUERY-CHOICES): ((T "Yes") (NIL "No"))
Local 5 (STREAM): #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL"
Local 6 (FQUERY-STREAM): #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL"
Local 7 (FRESH-LINE): NIL
Local 8 (CONDITION): FQUERY
Local 9 (FQUERY-LIST-CHOICES): T
Local 10 (FQUERY-HELP-FUNCTION): FORMAT:DEFAULT-FQUERY-HELP
Local 11 (BEEP-P): T
Local 12 (CLEAR-INPUT): NIL
Local 13 (SELECT): NIL
Local 14 (HANDLED-P): NIL
Local 15 (VAL): NIL
Local 16 (TYPEIN): NIL
Local 17 (OLD-SELECTED-WINDOW): NIL
Local 18 (G0549): NIL
Local 19 (CHOICE): NIL


YES-OR-NO-P (P.C. = 51)

 Arg 0 (MESSAGE): "File ~A has been changed since you last read or saved it.
Read in the new version? "
 Arg 1 (STREAM): #FS:TOPS20-PATHNAME "OZ:PS:<PUMA>PUMA.XMAIL"
15-Dec-82 15:05:46-EST,646;000000000000
Date: Wednesday, 15 December 1982  14:50-EST
From: MOON at SCRC-TENEX
To:   bug-lispm at oz
Subject:Common Lisp

I'd prefer not to have to read a lot of mail about Common Lisp by
people who don't know what it is.  Steele is due to finish the
manual in January, and both MIT and Symbolics should be getting
enough copies that anyone who wants to read it can borrow one for
a few weeks.  Anyone who absolutely cannot wait can contact me or DLW
and if there aren't a lot of you perhaps you can borrow one of our
personal copies of the draft manual for a couple of days (although
this draft version contains some things that are bogus).
15-Dec-82 16:06:08-EST,1022;000000000000
Date: Wednesday, 15 December 1982, 16:01-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: [DLA: Notice of impending retirement]
To: BUG-LISPM-MIT at MIT-OZ

Since so many people are asking, here's the scoop:  (I am leaving Boston
on January 2)

Date: Wednesday, 15 December 1982, 12:01-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Notice of impending retirement
To: BUG-LISPM at SCRC-TENEX, LISP-DESIGNERS at SCRC-TENEX

Effective immediately, I am no longer working on or making bug fixes to
system software and will only be working on 3600 related projects (Phase 3).
Particularly system maintainers who habitually delete bug reports that
they expect me to fix should adjust their habits accordingly.

Also, if there are any projects people have been expecting me to do, you
should probably check with me to see if I still intend to do them.  I
probably don't.

I will continue to be on BUG-LISPM for a few weeks and will advise
people how to fix bugs when I feel it's appropriate.
15-Dec-82 16:17:56-EST,663;000000000000
Date: 15 December 1982  16:12-EST (Wednesday)
Sender: GUMBY at MIT-OZ
From: David Vinayak Wallace <GUMBY at MIT-MC>
To:   Andrew L. Ressler <ALR at MIT-ML>
Cc:   bug-lispm at MIT-ML
In-reply-to: The message of 15 Dec 1980 08:59-EST from Andrew L. Ressler <ALR at MIT-ML>

    Date: Tuesday, 15 December 1980, 08:59-EST
    From: Andrew L. Ressler <ALR at MIT-ML>

    Would people be in favor of the following?

    (login 'alr T) logged into default without loading init file.

    (login 'alr "HOST" T) logged into HOST without loading init file.
    		      instead of loading the init file.

Yes! The current inconsistency is a real a pain.
15-Dec-82 18:28:02-EST,2273;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  15 December 1982 08:33 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: rational incompatibility
To:  David C. Plummer <DCP at SCRC-POINTER>
cc:  ALAN at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 15 December 1982 08:18 est from David C. Plummer

    Date:  Wednesday, 15 December 1982, 05:21-PST
    From:  David C. Plummer <DCP at SCRC-POINTER>
    Subject:  rational incompatibility

    Yow!  I see what's going on here.  DLA is probably glad to be gone when
    this conversion happens and the system breaks (until they can find all
    the places that depend on integer truncating division).

    Now let me be a hippocrit (now asking for space saving and speed): Is
    there a way to do integer truncating divide in one function?  (I.e.,
    not (truncate (/ a b))?)  I'm would imaging the microcode that would
    love to return a truncated divide instead of consing a rational and then
    just truncating it anyway.

    Oh well, time to (load-patches 'coding-style)!

The TRUNCATE function in Systems 89+ take an optional second argument
(as do the FLOOR, CEILING, and other related functions); they do the
divide for you, so (TRUNCATE fixnum fixnum) is equivalent to the current
(// fixnum fixnum).

In response to an earlier message by someone who was worried that
division of rationals was giving fixnums, don't worry, as that is not
what was happening.  The example was
	(// 3\1 2\1) => 1

There are several things going on here.  One problem is that rationals
which represent integers are automatically converted to fixnums, much as
one would expect bignums to be converted to fixnums when they get small
enough (yes, I kow that this is completely different).  Thus, the //
function is being given two fixnums, not two rationals, and produces a
fixnum.  As I said in an earlier message, it doesn't matter what things
return as long as they are internally consistent about their use; this
seems to violate that.  However, the plan is to change // to return
rationals in the future, and %DIV is currently defined to do so in order
to allow you to prepare your code for the change, and so is TRUNCATE,
which does what // currently does with fixnums.
15-Dec-82 18:34:51-EST,674;000000000000
Date: 15 December 1982  18:30-EST (Wednesday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Barry Margolin at MIT-MULTICS
Cc:   bug-lispm at MIT-OZ, gumby at MIT-OZ
Subject: Files on multiple machines, BALANCE-DIRECTORIES
In-reply-to: The message of 15 Dec 1982 04:30 est from Barry Margolin at MIT-MULTICS


    Well, except for the fact that machines running system 89 seem to have
    their dates off by a year (strange, it was off by two years a couple of
    days ago), most file-systems should agree on the time to within a couple
    of minutes. 

One should have the latest patches loaded, on any system,
before complaining. 
15-Dec-82 18:39:23-EST,1207;000000000000
Mail-From: HANSON created at 15-Dec-82 18:35:07
Date: Wednesday, 15 December 1982  18:35-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Barry Margolin at MIT-MULTICS
Cc:   BUG-LISPM at MIT-OZ
Subject: Balance Directories
In-reply-to: The message of 15 Dec 1982 08:33 est from Barry Margolin at MIT-MULTICS


The problem you experienced using Balance Directories has been patched
in Systems 89 and 91.  The new code should do what you want, that is,
check creation dates.

My objection to your suggestion of using creation dates for comparison
in general is that it is not always possible to maintain creation
dates when copying files around from machine to machine, or even
moving them to different directories on the same machine.  It is
always possible to do so with version numbers when they exist.  The
Balance Directories code does its best to maintain both version and
creation date information, but for comparison, it uses version numbers
by preference.

When multiple directories are maintained this way, and different
people edit the same files on different directories, both the version
and creation date information is needed to detect readers/writers
bugs.
15-Dec-82 18:47:37-EST,1091;000000000000
Mail-From: HDT created at 15-Dec-82 18:46:56
Date: 15 December 1982  18:46-EST (Wednesday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   MOON at SCRC-TENEX
Cc:   bug-lispm at oz
Subject: Common Lisp
In-reply-to: The message of 15 Dec 1982  14:50-EST from MOON at SCRC-TENEX

    Date: Wednesday, 15 December 1982  14:50-EST
    From: MOON at SCRC-TENEX
    To:   bug-lispm at oz
    Re:   Common Lisp

    I'd prefer not to have to read a lot of mail about Common Lisp by
    people who don't know what it is.  Steele is due to finish the
    manual in January, and both MIT and Symbolics should be getting
    enough copies that anyone who wants to read it can borrow one for
    a few weeks.  Anyone who absolutely cannot wait can contact me or DLW
    and if there aren't a lot of you perhaps you can borrow one of our
    personal copies of the draft manual for a couple of days (although
    this draft version contains some things that are bogus).

There's also a copy in Cadr-1's room, for those of you who
don't what to leave Tech^2.
15-Dec-82 19:02:32-EST,1583;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  15 December 1982 15:20 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Files on multiple machines, BALANCE-DIRECTORIES
To:  HANSON at MIT-MC
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 15 December 1982 15:10 est from HANSON

    Date:  Wednesday, 15 December 1982  14:18-EST
    From:  HANSON at MIT-MC
    Subject:  Files on multiple machines, BALANCE-DIRECTORIES

        Date: Tuesday, 14 December 1982, 21:49-EST
        From: Barry Margolin <Margolin at MIT-MULTICS>
        It looks like it is meant to keep whole directories the same,
        where I am concerned about three or four files.
    Yes, or any group of files that can be described by a directory
    pathname.  It is in fact true that multiple files should be
    describably by some kind of directory pathname.

        I was also hoping for something a bit
        more automatic , but if BALANCE-DIRECTORIES could be made to work, and
        could be given more than two directory specs (perhaps it should take a
        list of them).

    Try writing either of these things yourself.  Balance Directories is
    currently as automatic as I could make it without making an AI hack.

What I mean by "automatic" is the ability to say
	^X^W ALL-MY-HOSTS:HOME;LISPM INIT >
 where ALL-MY-HOSTS is a special type of logical host that translates to
four physical hosts when writing (I can't imagine what it would mean for
reading, although perhaps it could try each of the hosts in order until
it finds one that is up).
15-Dec-82 19:52:53-EST,472;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  15 December 1982 18:36 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Multics file server and password guessing.
To:  bug-lispm at MIT-OZ
In-Reply-To:  Message of 15 December 1982 17:14 est from Bernard S. Greenberg <BSG

I believe that the System 91 file-system routines try the userid as a
password (perhaps after trying the null string).  I gues this because it
guesses correctly on an unnamed machine.
15-Dec-82 19:54:04-EST,1288;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  15 December 1982 18:45 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Files on multiple machines, BALANCE-DIRECTORIES
To:  Howard D. Trachtman <HDT at MIT-MC>
cc:  bug-lispm at MIT-OZ, gumby at MIT-OZ
In-Reply-To:  Message of 15 December 1982 18:31 est from Howard D. Trachtman

    Date:  15 December 1982  18:30-EST (Wednesday)
    From:  Howard D. Trachtman <HDT at MIT-MC>
    Subject:  Files on multiple machines, BALANCE-DIRECTORIES


        Well, except for the fact that machines running system 89 seem to have
        their dates off by a year (strange, it was off by two years a couple of
        days ago), most file-systems should agree on the time to within a couple
        of minutes.

    One should have the latest patches loaded, on any system,
    before complaining.

I always load patches.  I didn't see any mention of fixes to dates in
any of the patches I loaded.  I sent mail last night from a machine that
was running System 91.15, and its dates were off by a year.  I think I
heard you mention in the office that the problem happens when it gets
the date from a server; if this is the case, then it loses when it
boots, and its dates are already off when the patch gets loaded.
15-Dec-82 20:06:10-EST,792;000000000000
Mail-From: HANSON created at 15-Dec-82 20:01:32
Date: Wednesday, 15 December 1982  20:01-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Barry Margolin at MIT-MULTICS
Cc:   bug-lispm at MIT-OZ
Subject: Multics file server and password guessing.
In-reply-to: The message of 15 Dec 1982 18:36 est from Barry Margolin at MIT-MULTICS

    Date: 15 December 1982 18:36 est
    From: Barry Margolin at MIT-MULTICS
    To:   bug-lispm
    Re:   Multics file server and password guessing.
    Return-Path: <Margolin@MIT-MULTICS.ARPA>

    I believe that the System 91 file-system routines try the userid as a
    password (perhaps after trying the null string).  I gues this because it
    guesses correctly on an unnamed machine.

Yes.  "This is a feature, not a bug."
15-Dec-82 20:11:00-EST,1592;000000000000
Mail-From: HANSON created at 15-Dec-82 20:08:48
Date: Wednesday, 15 December 1982  20:08-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Barry Margolin at MIT-MULTICS
Cc:   BUG-LISPM at MIT-OZ
Subject: Files on multiple machines, BALANCE-DIRECTORIES
In-reply-to: The message of 15 Dec 1982 15:20 est from Barry Margolin at MIT-MULTICS

    Date: 15 December 1982 15:20 est
    From: Barry Margolin at MIT-MULTICS
    What I mean by "automatic" is the ability to say
    	^X^W ALL-MY-HOSTS:HOME;LISPM INIT >
     where ALL-MY-HOSTS is a special type of logical host that translates to
    four physical hosts when writing (I can't imagine what it would mean for
    reading, although perhaps it could try each of the hosts in order until
    it finds one that is up).

This is a perfectly reasonable thing to want, and I think that it
would not be hard to do either.  Logical hosts may not be able to do
it for you.  Presumably on reading, it could try each host in some
predefined order, or maybe even check all of the hosts to see which
one has the most recent copy.

The major problem is that this tries to make up for the inability for
the various file systems to talk to each other.  If they did, in some
nice invisible way, one could just talk to any machine at MIT, which
would be responsible for getting your file from the "MIT file system".
The file servers themselves would be responsible for making copies so
that when a host was down you could still reach your files.

However, none of this is what Balance Directories was intended to do.
15-Dec-82 20:19:21-EST,1474;000000000000
Mail-From: HDT created at 15-Dec-82 20:11:40
Date: 15 December 1982  20:11-EST (Wednesday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Margolin at MIT-MULTICS
cc:   bug-lispm at MIT-OZ, gumby at MIT-OZ
Subject: the time


	15-Dec-82 19:21:36-EST,1288;000000000000
	Return-Path: <Margolin@MIT-MULTICS.ARPA>
	Date:  15 December 1982 18:45 est
	From:  Barry Margolin at MIT-MULTICS
	Subject:  Re: Files on multiple machines, BALANCE-DIRECTORIES
	To:  Howard D. Trachtman <HDT at MIT-MC>
	cc:  bug-lispm at MIT-OZ, gumby at MIT-OZ
	In-Reply-To:  Message of 15 December 1982 18:31 est from Howard D. Trachtman
		
	I always load patches.  I didn't see any mention of fixes to dates in
	any of the patches I loaded.  I sent mail last night from a machine that
	was running System 91.15, and its dates were off by a year.  I think I
	heard you mention in the office that the problem happens when it gets
	the date from a server; if this is the case, then it loses when it
	boots, and its dates are already off when the patch		
	
	
I apologize.  The code that does this is indeed fixed.
As a temporary measure,  you will have to do (time:intialize-timebase)
to get this right.  Alternatively, (time:set-local-time "one year from
now") ;;yow!
  would also work.   After the patches are disk saved, this problem
won't occur anymore.  In a little while, I'll put in a patch to frob
the year correctly, now that the code works.
15-Dec-82 22:36:20-EST,416;000000000000
Date: Saturday, 15 December 1984, 22:34-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To: BUG-Lispm at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204, !, on Lisp Machine Eighteen:


Trying to add a patch when your buffer if empty
claims that you have unbalanced parenthesis.
15-Dec-82 23:56:13-EST,386;000000000000
Mail-From: BAK created at 15-Dec-82 23:52:01
Date: Wednesday, 15 December 1982  23:52-EST
Sender: BAK at MIT-OZ
From: BAK at MIT-MC
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BUG-LISPM-MIT at MIT-OZ
Subject: [DLA: Notice of impending retirement]
In-reply-to: The message of 15 Dec 1982 16:01-EST from David L. Andre <DLA at SCRC-TENEX>

Good luck.  Keep in touch.

Bill
16-Dec-82 11:40:49-EST,2320;000000000000
Date: Thursday, 16 December 1982, 11:38-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.17,
Experimental ZMail 48.3, microcode 204, !, on Lisp Machine Eighteen:
Subject: Error after hitting ABORT.


Insert your description of the circumstances here:

I made a typo, and was about to get some kind of unbound variable error,
when I hit #\ABORT.  I must say that this is much better than
There was no pending *CATCH for the tag SYS:SYS-COMMAND-LEVEL that
I used to get under similar circumstances.

>>ERROR: Attempt to un-get something different then last element gotten from IO-BUFFER
Backtrace from the debugger:

TV:IO-BUFFER-UNGET (P.C. = 60)

 Arg 0 (BUFFER): #<IO-BUFFER 4202322: empty, State: NIL>
 Arg 1 (ELT): 40.
Local 0 (OUTPUT-POINTER): 63.
Local 1 (INPUT-RECORD): NIL


(METHOD TV:STREAM-MIXIN UNTYI) (P.C. = 44)

 Arg 0 (OPERATION): UNTYI
 Arg 1 (CH): 40.


Additional information supplied with call:
 Expecting 2 values

EH:COMMAND-LOOP-READ (P.C. = 200)

Local 0 (CHAR): 40.
Local 1 (SEXP): NIL
Local 2 (FLAG): NIL
Local 3 (FUNCTION): NIL


EH:COMMAND-LOOP (P.C. = 470)

 Arg 0 (ERROR-SG): #<DTP-STACK-GROUP SI:MAIN-STACK-GROUP 1200053>
 Arg 1 (ERROR-OBJECT): #SYS:CELL-CONTENTS-ERROR CONDITION-NAMES (SYS:BAD-DATA-TYPE-IN-MEMORY SYS:CELL-CONTENTS-ERROR SYS:AUTOMATIC-ABORT-DEBUGGER-MIXIN ERROR ...) ADDRESS #<DTP-LOCATIVE 23566465> CURRENT-ADDRESS #<DTP-LOCATIVE 23566465> CELL-TYPE VALUE SYMBOL K CONTAINING-STRUCTURE K DATA-TYPE 1 POINTER 23566464
Local 0 (FUNCTION): NIL
Local 1 (SEXP): NIL
Local 2 (EVALHOOK): NIL
Local 3 (IO-BUFFER): #<IO-BUFFER 4202322: empty, State: NIL>
Local 4 (.L.): NIL
Local 5 (.VAR.): *NOPOINT
Local 6 (.VAL.): NIL
Local 7 (G6547): ((SYS:ABORT ERROR) ("Return to debugger command loop.") T ("Return to debugger command loop.") ...)
Local 8 (G6547): ("Return to debugger command loop.")
Local 9 (NUMERIC-ARG): NIL
Local 10 (I): 1.
Local 11 (G6561): 1.
Local 12 (VALUE): NIL


(METHOD CONDITION DEBUGGER-COMMAND-LOOP) (P.C. = 27)

 Arg 0 (OPERATION): DEBUGGER-COMMAND-LOOP
 Arg 1 (SG): #<DTP-STACK-GROUP SI:MAIN-STACK-GROUP 1200053>
 Rest arg (IGNORE): NIL
16-Dec-82 11:54:15-EST,934;000000000000
Mail-From: HDT created at 16-Dec-82 11:48:23
Date: 16 December 1982  11:48-EST (Thursday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Margolin.Multics at MIT-MULTICS
cc:   Bug-Lispm at MIT-OZ, Bug-file at MIT-OZ
Subject: Batch jobs


A few days ago you suggested something like a means for the
file server to do all kinds of neat stuff for you (like
compile your (ugh) PL/1 code on a remote machine.

It seems to me like this all could be accomplished by having
something in the FILE protocol for running a batch job
(like submit on Twenex or exec_com on Multics) on the
remote end, through an already existing file job.
The batch job could trigger based on some very short
file that the LispM could write out.

There are probably lots of other uses for such a thing,
and I seem to remember something like this already being
in the protocol, but just not totally bugfree or something.
16-Dec-82 11:59:07-EST,719;000000000000
Mail-From: HDT created at 16-Dec-82 11:51:56
Date: 16 December 1982  11:51-EST (Thursday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Bug-Lispm at MIT-OZ
Subject: NNES.


I like the new error system, but there still seem to
be a lot of functions with optional arguments of NO-ERROR-P.
One example is SI:PARSE-HOST (yes, this function exists).

How useful would a special form that would inhibit an 
error from being signalled be?  That way, you could
set up special handers for things where it might be
more efficient one way, but doing so would require taking
the risk of getting an error.

Please excuse me if something like this is already provided
in the error system.
16-Dec-82 13:55:21-EST,828;000000000000
Date: Thursday, 16 December 1982, 13:50-EST
From: Philippe Brou <PHILIP at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.18,
Experimental ZMail 48.3, microcode 204, on Lisp Machine Twenty-five:

Choose-Variable-Values menus don't work in 91.
Try the Attribute Option in the Window System menu
and you will see that someone must have redefined
the method PRINT-ITEM for mouse-sensitive-text scroll
menus. Instead of printing the item, the method now
prints the name of the function which should print
the item (PRINC in many cases).

The person who tells me that this is a system change
and not a bug will have to fix all my menus (15 of them).
(Will also have to fix NWS and ZMAIL menus, I guess).

16-Dec-82 14:45:15-EST,584;000000000000
Date: Thursday, 16 December 1982, 14:42-EST
From: Reid G. Simmons <REID at MIT-OZ>
Subject: patchable systems
To: BUG-LISPM at MIT-OZ

In System 222.57, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
Reasoning Utility Package 1.0, Experimental QUANTITY 1.0, microcode 977,
site configuration 2, on Lisp Machine Twenty-two:

How can I get more than one patchable system living on a single directory?
The first system creates the file PATCH.PATCH-DIRECTORY, and the subsequent
system tries to use that file -- and complains that the names don't match.

   --- Reid ---
16-Dec-82 14:57:55-EST,1041;000000000000
Date: Thursday, 16 December 1982, 14:55-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: ONES.
To: HDT at MIT-MC
Cc: Bug-Lispm at MIT-OZ
In-reply-to: The message of 16 Dec 82 11:51-EST from Howard D. Trachtman <HDT at MIT-MC>

    Date: 16 December 1982  11:51-EST (Thursday)
    From: Howard D. Trachtman <HDT at MIT-MC>
    I like the new error system, but there still seem to
    be a lot of functions with optional arguments of NO-ERROR-P.
    One example is SI:PARSE-HOST (yes, this function exists).
There are many contexts in which a NO-ERROR-P argument is perfectly
reasonable.  Many callers of PARSE-HOST want to signal an error if the
host doesn't exist, but some want simply to know if the host exists or
not.  For the same reason you might write

(AND (BOUNDP SYMBOL) (SYMEVAL SYMBOL))

rather than

(CONDITION-CASE ()
    (SYMEVAL SYMBOL)
  (SYS:UNBOUND-VARIABLE NIL))

    How useful would a special form that would inhibit an 
    error from being signalled be?
What could this possibly mean?
16-Dec-82 16:49:54-EST,1054;000000000000
Date: Thursday, 16 December 1982, 16:45-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: patchable systems
To: REID at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 16 Dec 82 14:42-EST from Reid G. Simmons <REID at MIT-OZ>

    Date: Thursday, 16 December 1982, 14:42-EST
    From: Reid G. Simmons <REID at MIT-OZ>
    In System 222.57, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
    Reasoning Utility Package 1.0, Experimental QUANTITY 1.0, microcode 977,
    site configuration 2, on Lisp Machine Twenty-two:

    How can I get more than one patchable system living on a single directory?
    The first system creates the file PATCH.PATCH-DIRECTORY, and the subsequent
    system tries to use that file -- and complains that the names don't match.

       --- Reid ---
Use the argument to the :patchable option to defsystem to specify a template pathname
of where the patches are to go; when this is done, the files will be named
foo-99.patch-directory and so forth, and not conflict with other systems.
16-Dec-82 18:14:48-EST,2920;000000000000
Date: Thursday, 16 December 1982, 18:13-EST
From: Alan Bawden <Alan at MIT-MC>
Subject: Why is Compile File looking at my Zmail init?
To: BUG-LISPM at OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Nine:

This was the result of a M-X Compile File from Zwei.  It said "Compiling
MC:ALAN;LMINIT >" and then did this.  I have no idea how the pathname of
my ZMAIL init got involved.  My zmail init had been edited by using the
Profile command in Zmail earlier in this session, but the selected buffer at
the time this happened was the buffer containing the file MC:ALAN;LMINIT
>.

>>Error: Attempt to make both type and version :UNSPECIFIC in ITS pathname MC: ALAN; ALAN.
While in the function (METHOD FS:ITS-PATHNAME-MIXIN AFTER VALIDATE)  (METHOD FS:ITS-PATHNAME COMBINED VALIDATE)  (METHOD FS:PATHNAME-HASH-TABLE-MIXIN GET-PATHNAME)


(METHOD FS:ITS-PATHNAME-MIXIN AFTER VALIDATE): (P.C. = 112)
 (SELF = #<ITS-PATHNAME "MC: ALAN; ALAN">)
 Arg 0 (OPERATION): VALIDATE
 Local 0 (NEW-VALUE): NIL


(METHOD FS:ITS-PATHNAME-MIXIN AFTER VALIDATE):  (P.C. = 112)
   (SELF = #<ITS-PATHNAME "MC: ALAN; ALAN">)
   Arg 0 (OPERATION): VALIDATE

(METHOD FS:ITS-PATHNAME COMBINED VALIDATE):  (P.C. = 56)
   (SELF = #<ITS-PATHNAME "MC: ALAN; ALAN">)
   Rest arg (.DAEMON-CALLER-ARGS.): (VALIDATE)

(METHOD FS:PATHNAME-HASH-TABLE-MIXIN GET-PATHNAME):  (P.C. = 66)
   (SELF = #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE MIT-MC>)
   Arg 0 (OPERATION): GET-PATHNAME
   Arg 1 (DEV): "DSK"
   Arg 2 (DIR): "ALAN"
   Arg 3 (NAM): "ALAN"
   Arg 4 (TYP): UNSPECIFIC
   Arg 5 (VRS): UNSPECIFIC
   Arg 6 (KEY): ("DSK" "ALAN" "ALAN" ERROR)

(METHOD SI:HOST-ITS-MIXIN GET-PATHNAME):  (P.C. = 54)
   (SELF = #<ITS-CHAOS-HOST MIT-MC>)
   Arg 0 (OPERATION): GET-PATHNAME
   Arg 1 (DEV): "DSK"
   Arg 2 (DIR): "ALAN"
   Arg 3 (NAM): "ALAN"
   Arg 4 (TYP): UNSPECIFIC
   Arg 5 (VRS): UNSPECIFIC

FS:MAKE-PATHNAME-1:  (P.C. = 605)
   Rest arg (OPTIONS): (DEFAULT-HOST #<ITS-CHAOS-HOST MIT-MC> DEFAULT-DEVICE "DSK" DEFAULT-DIRECTORY "ALAN" DEFAULT-NAME "ALAN" DEFAULT-TYPE "ZMAIL" ...)

(METHOD FS:PATHNAME NEW-PATHNAME):  (P.C. = 111)
   (SELF = #<ITS-PATHNAME "MC: ALAN; ALAN ZMAIL">)
   Arg 0 (OPERATION): NEW-PATHNAME
   Rest arg (OPTIONS): NIL

(METHOD FS:ITS-MAILBOX-PATHNAME-MIXIN COMBINED NEW-PATHNAME):  (P.C. = 202)
   (SELF = #<ITS-PATHNAME "MC: ALAN; ALAN ZMAIL">)
   Rest arg (.DAEMON-CALLER-ARGS.): (NEW-PATHNAME TYPE UNSPECIFIC)

(METHOD FS:PATHNAME NEW-TYPE):  (P.C. = 30)
   (SELF = #<ITS-PATHNAME "MC: ALAN; ALAN ZMAIL">)
   Arg 0 (OPERATION): NEW-TYPE
   Arg 1 (NEW-TYPE): UNSPECIFIC

COMPILER:COMPILE-FILE:  (P.C. = 202)
   Arg 0 (INFILE): #<ITS-PATHNAME "MC: ALAN; LMINIT >">
   Arg 1 (OUTFILE): NIL
   --Defaulted args:--
   Arg 2 (IN-PACKAGE): NIL
   Arg 3 (DONT-SET-DEFAULT-P): NIL
16-Dec-82 18:29:43-EST,527;000000000000
Date: Thursday, 16 December 1982, 18:24-EST
From: Alan Bawden <Alan at MIT-MC>
Subject: More on my Zmail init.
To: BUG-LISPM at MIT-OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Nine:

Well since I couldn't compile anything I had to figure it out.  My ZMAIL
init was on fs:load-pathname-defaults.  I SETQed
fs:load-pathname-defaults to NIL and the problem went away.  I presume
this is a problem specifically with ITS pathname merging?
16-Dec-82 18:42:03-EST,480;000000000000
Date: Thursday, 16 December 1982  18:37-EST
From: MOON at SCRC-TENEX
To:   Alan Bawden <Alan at MIT-MC>
Cc:   BUG-LISPM at OZ
Subject: Why is Compile File looking at my Zmail init?
In-reply-to: The message of 16 Dec 1982 18:13-EST from Alan Bawden <Alan at MIT-MC>

This is caused by COMPILER:COMPILE-FILE using MERGE-PATHNAMES rather than
MERGE-PATHNAME-DEFAULTS, in my opinion.  MERGE-PATHNAMES requires the construction
of a bogus intermediate pathname as a default.
16-Dec-82 19:16:12-EST,510;000000000000
Date: Thursday, 16 December 1982, 19:13-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-LISPM at MIT-OZ
Cc: bug-send at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204, !, on Lisp Machine Eighteen:

I go into converse, write a message to Danny, and <END>.  It says 
"message not sent to Danny@OZ".  No explanation for this lossage is 
given.  Danny is in fact logged in.
16-Dec-82 19:20:12-EST,237;000000000000
Date: Thursday, 16 December 1982, 19:19-EST
From: David Chapman <ZVONA at MIT-OZ>
Subject: last msg
To: bug-send at MIT-OZ, bug-lispm at MIT-OZ

In fact, Danny was detached.  It should have told me he was 
not logged in at least.
16-Dec-82 20:35:31-EST,4583;000000000000
Date: Thursday, 16 December 1982, 20:35-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
Subject: foo what the hell does it want a subject for
To: BUG-LISPM at OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Twenty:

trying to recompile mc:boxer;boxdef from a make-system if it helps,
the system decl for the system lives in mc:boxer;boxer

>>Error: Attempt to make both type and version :UNSPECIFIC in ITS pathname MC: BOXER; BOXER.
While in the function (METHOD FS:ITS-PATHNAME-MIXIN AFTER VALIDATE)  (METHOD FS:ITS-PATHNAME COMBINED VALIDATE)  (METHOD FS:PATHNAME-HASH-TABLE-MIXIN GET-PATHNAME)


(METHOD FS:ITS-PATHNAME-MIXIN AFTER VALIDATE): (P.C. = 112)
 (SELF = #<ITS-PATHNAME "MC: BOXER; BOXER">)
 Arg 0 (OPERATION): VALIDATE
 Local 0 (NEW-VALUE): NIL


(METHOD FS:ITS-PATHNAME-MIXIN AFTER VALIDATE):  (P.C. = 112)
   (SELF = #<ITS-PATHNAME "MC: BOXER; BOXER">)
   Arg 0 (OPERATION): VALIDATE

(METHOD FS:ITS-PATHNAME COMBINED VALIDATE):  (P.C. = 56)
   (SELF = #<ITS-PATHNAME "MC: BOXER; BOXER">)
   Rest arg (.DAEMON-CALLER-ARGS.): (VALIDATE)

(METHOD FS:PATHNAME-HASH-TABLE-MIXIN GET-PATHNAME):  (P.C. = 66)
   (SELF = #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE MIT-MC>)
   Arg 0 (OPERATION): GET-PATHNAME
   Arg 1 (DEV): "DSK"
   Arg 2 (DIR): "BOXER"
   Arg 3 (NAM): "BOXER"
   Arg 4 (TYP): UNSPECIFIC
   Arg 5 (VRS): UNSPECIFIC
   Arg 6 (KEY): ("DSK" "BOXER" "BOXER" ERROR)

(METHOD SI:HOST-ITS-MIXIN GET-PATHNAME):  (P.C. = 54)
   (SELF = #<ITS-CHAOS-HOST MIT-MC>)
   Arg 0 (OPERATION): GET-PATHNAME
   Arg 1 (DEV): "DSK"
   Arg 2 (DIR): "BOXER"
   Arg 3 (NAM): "BOXER"
   Arg 4 (TYP): UNSPECIFIC
   Arg 5 (VRS): UNSPECIFIC

FS:MAKE-PATHNAME-1:  (P.C. = 605)
   Rest arg (OPTIONS): (DEFAULT-HOST #<ITS-CHAOS-HOST MIT-MC> DEFAULT-DEVICE "DSK" DEFAULT-DIRECTORY "BOXER" DEFAULT-NAME "BOXER" DEFAULT-TYPE "QBIN" ...)

(METHOD FS:PATHNAME NEW-PATHNAME):  (P.C. = 111)
   (SELF = #<ITS-PATHNAME "MC: BOXER; BOXER QBIN">)
   Arg 0 (OPERATION): NEW-PATHNAME
   Rest arg (OPTIONS): NIL

(METHOD FS:ITS-MAILBOX-PATHNAME-MIXIN COMBINED NEW-PATHNAME):  (P.C. = 202)
   (SELF = #<ITS-PATHNAME "MC: BOXER; BOXER QBIN">)
   Rest arg (.DAEMON-CALLER-ARGS.): (NEW-PATHNAME TYPE UNSPECIFIC)

(METHOD FS:PATHNAME NEW-TYPE):  (P.C. = 30)
   (SELF = #<ITS-PATHNAME "MC: BOXER; BOXER QBIN">)
   Arg 0 (OPERATION): NEW-TYPE
   Arg 1 (NEW-TYPE): UNSPECIFIC

COMPILER:COMPILE-FILE:  (P.C. = 202)
   Arg 0 (INFILE): #<ITS-PATHNAME "MC: BOXER; BOXDEF >">
   Arg 1 (OUTFILE): #<ITS-PATHNAME "MC: BOXER; BOXDEF QBIN">
   Arg 2 (IN-PACKAGE): NIL
   Arg 3 (DONT-SET-DEFAULT-P): T

SI:COMPILE-FILE-1:  (P.C. = 27)
   Arg 0 (INFILE): #<ITS-PATHNAME "MC: BOXER; BOXDEF >">
   Arg 1 (OUTFILE): #<ITS-PATHNAME "MC: BOXER; BOXDEF QBIN">

SI:DO-FILE-TRANSFORMATIONS:  (P.C. = 317)

SI:PERFORM-TRANSFORMATIONS:  (P.C. = 176)
   Arg 0 (TRANSFORMATION-LIST): ((#<TRANSFORMATION COMPILE 21622772> NIL NIL) (#<TRANSFORMATION COMPILE 21623010> NIL NIL) (#<TRANSFORMATION COMPILE 21623026> NIL NIL) (#<TRANSFORMATION COMPILE 21623044> NIL NIL) (#<TRANSFORMATION COMPILE 21623062> NIL NIL) (#<TRANSFORMATION COMPILE 21623100> NIL NIL) (#<TRANSFORMATION COMPILE 21623116> NIL NIL) (#<TRANSFORMATION COMPILE 21623134> NIL NIL) (#<TRANSFORMATION COMPILE 21623152> NIL NIL) (#<TRANSFORMATION COMPILE 21623170> NIL NIL) ...)

SI:PERFORM-TRANSFORMATIONS:  (P.C. = 123)
   Arg 0 (TRANSFORMATION-LIST): ((#<TRANSFORMATION FASLOAD 21623001> NIL NIL) (#<TRANSFORMATION FASLOAD 21623017> NIL NIL) (#<TRANSFORMATION FASLOAD 21623035> NIL NIL) (#<TRANSFORMATION FASLOAD 21623053> NIL NIL) (#<TRANSFORMATION FASLOAD 21623071> NIL NIL) (#<TRANSFORMATION FASLOAD 21623107> NIL NIL) (#<TRANSFORMATION FASLOAD 21623125> NIL NIL) (#<TRANSFORMATION FASLOAD 21623143> NIL NIL) (#<TRANSFORMATION FASLOAD 21623161> NIL NIL) (#<TRANSFORMATION FASLOAD 21623177> NIL NIL) ...)

MAKE-SYSTEM:  (P.C. = 276)
   Arg 0 (SYSTEM): GLOBAL:BOXER
   Rest arg (KEYWORDS): (COMPILE NOCONFIRM)

GLOBAL:RECOMPILE-BOXER:  (P.C. = 103)

SI:*EVAL:  (P.C. = 653)
   Arg 0 (FORM): (RECOMPILE-BOXER)

COND:  (P.C. = 56)
   Rest arg (CLAUSES): (((Y-OR-N-P "Recompile Boxer?") (LOAD "mc:boxer;boxer") (RECOMPILE-BOXER)))

SI:*EVAL:  (P.C. = 707)
   Arg 0 (FORM): (COND ((Y-OR-N-P "Load and Start Boxer? ") (LOAD "mc:boxer;boxer") (INIT-FILE-BOXER)) ((Y-OR-N-P "Recompile Boxer?") (LOAD "mc:boxer;boxer") (RECOMPILE-BOXER)))

SYS:FASL-OP-EVAL1:  (P.C. = 50)

SI:FASL-GROUP:  (P.C. = 103)
16-Dec-82 23:20:26-EST,764;000000000000
Date: Thursday, 16 December 1982, 23:17-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: :LIST-TYI from TV:COMMAND-MENU-PANES doesn't return the right index 
To: BUG-LISPM at MIT-OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, Tinker, on Lisp Machine Apiary-1:

When you LIST-TYI from a TV:COMMAND-MENU-PANE, it is supposed to return a list whose third
element is the index into the menu of the item you chose. Do the code in
<TINKER>MENU-LIST-TYI.LISP, then go into the Lisp listener, and say (SEND A-MENU-PANE
':LIST-TYI). The third element of the list is 1 regardless of which item you choose from the
menu. I'm sure this code worked right in 210, (maybe 218 too, I don't remember).
16-Dec-82 23:21:39-EST,732;000000000000
Date: Thursday, 16 December 1982, 23:18-EST
From: Barry Margolin <Margolin at MIT-EECS>
Subject: load-patches
To: BUG-LISPM at OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Arthur Dent:

At the end of load-patches I get the query:

Load SYS: SYS; RELEASE QBIN >? (Y, N, D, E, or S) Yes


File to be loaded:

SYS: SYS; RELEASE QBIN >

Load it? (Y or N)

--------

Why am I asked this question twice?  Why would one be interested in
SRCCOM'ing or editing this?  I looked at the one we have, and it seems
to be saying something about System 210.  Is this so that anyone loading
patches on such a system will have his machine declared obsolete?
16-Dec-82 23:30:37-EST,678;000000000000
Date: Thursday, 16 December 1982, 23:24-EST
From: Margolin at multics
Subject: load-patches and logging in, again
To: BUG-LISPM at OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Arthur Dent:

The other day MOON suggested that I just follow the directions and "type
RETURN to login anonymously."  Well, I looked at the login query when I
loaded patches today and noticed why it was that I had never seen this -
you only get it if you type the ALTMODE to go into the user-name query.
Perhaps typing END, or perhaps Control-ALTMODE, at the original password
query should also try to login anonymously?
17-Dec-82 01:45:17-EST,1102;000000000000
Date: Friday, 17 December 1982, 01:36-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Your point outside window error
To: David Chapman <Zvona at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Dec 82 14:43-EST from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 11 December 1982, 14:43-EST
    From: David Chapman <Zvona at MIT-OZ>
    To: BUG-LISPM at MIT-OZ

    In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Twenty-two:

    m-. foo [1 more definition as well] c-u c-p

    >>Error: Recenter type :ABSOLUTE left point outside the window
    While in the function ZWEI:REDISPLAY  ZWEI:REDISPLAY-ALL-WINDOWS  (:METHOD ZWEI:EDITOR :EDIT)


    ZWEI:REDISPLAY: (P.C. = 1753)
     Arg 0 (WINDOW): #<WINDOW 2636436>
     Local 1 (POINT): ("  `(defsubst ,name (segment &optional (case t))" 0 :NORMAL)
     Local 5 (INTERVAL): #<FILE-BUFFER "DB.LISP PS:<ZVONA.CODER> OZ:" 21630474>


There is no section named FOO in that file.  Please provide a reproducible
test case.
17-Dec-82 03:40:01-EST,2300;000000000000
Date: Friday, 17 December 1982, 03:36-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Errors trying to compile files on ITS
To: Gregor J. Kiczales <Gregor at MIT-MC>, Alan Bawden <Alan at MIT-MC>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 16 Dec 82 20:35-EST from Gregor J. Kiczales <Gregor at MIT-MC>,
             The message of 16 Dec 82 18:13-EST from Alan Bawden <Alan at MIT-MC>

    Date: Thursday, 16 December 1982, 20:35-EST
    From: Gregor J. Kiczales <Gregor at MIT-MC>

    trying to recompile mc:boxer;boxdef from a make-system if it helps,
    the system decl for the system lives in mc:boxer;boxer

    >>Error: Attempt to make both type and version :UNSPECIFIC in ITS pathname MC: BOXER; BOXER.

    (METHOD FS:PATHNAME NEW-TYPE):  (P.C. = 30)
       (SELF = #<ITS-PATHNAME "MC: BOXER; BOXER QBIN">)
       Arg 0 (OPERATION): NEW-TYPE
       Arg 1 (NEW-TYPE): UNSPECIFIC

    COMPILER:COMPILE-FILE:  (P.C. = 202)
       Arg 0 (INFILE): #<ITS-PATHNAME "MC: BOXER; BOXDEF >">
       Arg 1 (OUTFILE): #<ITS-PATHNAME "MC: BOXER; BOXDEF QBIN">
       Arg 2 (IN-PACKAGE): NIL
       Arg 3 (DONT-SET-DEFAULT-P): T

    Date: Thursday, 16 December 1982, 18:13-EST
    From: Alan Bawden <Alan at MIT-MC>

    This was the result of a M-X Compile File from Zwei.  It said "Compiling
    MC:ALAN;LMINIT >" and then did this.

    >>Error: Attempt to make both type and version :UNSPECIFIC in ITS pathname MC: ALAN; ALAN.

    (METHOD FS:PATHNAME NEW-TYPE):  (P.C. = 30)
       (SELF = #<ITS-PATHNAME "MC: ALAN; ALAN ZMAIL">)
       Arg 0 (OPERATION): NEW-TYPE
       Arg 1 (NEW-TYPE): UNSPECIFIC

    COMPILER:COMPILE-FILE:  (P.C. = 202)
       Arg 0 (INFILE): #<ITS-PATHNAME "MC: ALAN; LMINIT >">

    Date: Thursday, 16 December 1982, 18:24-EST
    From: Alan Bawden <Alan at MIT-MC>

    Well since I couldn't compile anything I had to figure it out.  My ZMAIL
    init was on fs:load-pathname-defaults.

    Date: Thursday, 16 December 1982  18:37-EST
    From: MOON at SCRC-TENEX

    This is caused by COMPILER:COMPILE-FILE using MERGE-PATHNAMES rather than
    MERGE-PATHNAME-DEFAULTS, in my opinion.  MERGE-PATHNAMES requires the construction
    of a bogus intermediate pathname as a default.

Fixed and patched.
17-Dec-82 04:04:53-EST,1135;000000000000
Date: Friday, 17 December 1982, 03:14-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: :LIST-TYI from TV:COMMAND-MENU-PANES doesn't return the right index 
To: Henry Lieberman <Henry at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 16 Dec 82 23:17-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Thursday, 16 December 1982, 23:17-EST
    From: Henry Lieberman <Henry at MIT-OZ>
    Subject: :LIST-TYI from TV:COMMAND-MENU-PANES doesn't return the right index 

    When you LIST-TYI from a TV:COMMAND-MENU-PANE, it is supposed to return a list whose third
    element is the index into the menu of the item you chose. Do the code in
    <TINKER>MENU-LIST-TYI.LISP, then go into the Lisp listener, and say (SEND A-MENU-PANE
    ':LIST-TYI). The third element of the list is 1 regardless of which item you choose from the
    menu. I'm sure this code worked right in 210, (maybe 218 too, I don't remember).

I think you misremember.  The documentation ("Lisp Machine Choice Facilities")
says the format of the blip is (:MENU item button-mask window).  Your 1 is
which button(s) were clicked.
17-Dec-82 05:59:32-EST,566;000000000000
Date: Friday, 17 December 1982, 05:55-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Two incompatible changes in system 91
To: info-lispm-mit at MIT-OZ

Users should note that, starting in 91.16,
 (LOGIN user host T)
means DO NOT load the init file.
 (LOGIN user host NIL)
means do load the init file.  (NIL is the default).

This is to be compatible with (LOGIN user T).

Also, the arguments to APROPOS are now keyword arguments,
except for the first one (the substring).
For example,
 (APROPOS "FOO" ':PACKAGE "ZWEI" ':PREDICATE 'FBOUNDP)
17-Dec-82 10:07:47-EST,2857;000000000000
Date: Friday, 17 December 1982, 10:01-EST
From: jmiller at MIT-OZ
Subject: ZWEI Problem
To: BUG-LISPM at OZ

In System 222.57, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Eight:

I regret to say I'm not sure how to reproduce this one.  What I did was

(a) get a list of all atoms in USER, sorted alphabetically

(b) display it into an EMACS buffer resulting in some absurdly long
line

(c) Use META-Q to try to format it, but got impatient so I C-ABORTed it.

(d) Went to the end of the buffer and did a keyboard macro something
like C-6 C-0 C-B C-R<space><ALTMODE><RETURN>, and told it to repeat
some absurd number of times like 100.  I then went off, and
returned to find this error, and ABORTing just cycled to another
error which caused ABORT to come back to this.

--Jim Miller (JMiller@OZ)


>>Trap: The subscript into "SET-VARIABLES-INTERNAL SET-VISIBILITY SET-VSP SET-WARM-BOOT-ACTION SET-WEEK ", 76., was beyond the length, 76., in (METHOD TV:SHEET COMPUTE-MOTION)
While in the function (METHOD TV:SHEET COMPUTE-MOTION)  ZWEI:REDISPLAY  ZWEI:REDISPLAY-ALL-WINDOWS


(METHOD TV:SHEET COMPUTE-MOTION): (P.C. = 542)
 (SELF = #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 20063175 exposed>)
 Arg 0 (OPERATION): COMPUTE-MOTION
 Arg 1 (STRING): "SET-VARIABLES-INTERNAL SET-VISIBILITY SET-VSP SET-WARM-BOOT-ACTION SET-WEEK "
 Arg 2 (START): 0.
 Arg 3 (END): 43364.
 Arg 4 (X): 0.
 Arg 5 (Y): 0.
 Arg 6 (CR-AT-END-P): NIL
 Arg 7 (STOP-X): 0.
 Arg 8 (STOP-Y): 4194303.
 Arg 9 (BOTTOM-LIMIT): 4194303.
   --Defaulted args:--
 Arg 10 (RIGHT-LIMIT): 753.
 Arg 11 (ACCOUNT-FOR-CONTINUATION-AFTER): NIL
 Local 0 (CWA): NIL
 Local 1 (CW): 8.
 Local 2 (CH): NIL
 Local 3 (FONT): #<FONT CPTFONT 3331224>
 Local 4 (FONTX): NIL
 Local 5 (TEM): 128.
 Local 6 (I): 76.
 Local 7 (N): 43364.
 Local 8 (NN): 94.
 Local 9 (II): 0.
 Local 10 (MARGIN-FLAG): T


(METHOD TV:SHEET COMPUTE-MOTION):  (P.C. = 542)
   (SELF = #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 20063175 exposed>)
   Arg 0 (OPERATION): COMPUTE-MOTION
   Arg 1 (STRING): "SET-VARIABLES-INTERNAL SET-VISIBILITY SET-VSP SET-WARM-BOOT-ACTION SET-WEEK "
   Arg 2 (START): 0.
   Arg 3 (END): 43364.
   Arg 4 (X): 0.
   Arg 5 (Y): 0.
   Arg 6 (CR-AT-END-P): NIL
   Arg 7 (STOP-X): 0.
   Arg 8 (STOP-Y): 4194303.
   Arg 9 (BOTTOM-LIMIT): 4194303.
   --Defaulted args:--
   Arg 10 (RIGHT-LIMIT): 753.
   Arg 11 (ACCOUNT-FOR-CONTINUATION-AFTER): NIL

ZWEI:REDISPLAY:  (P.C. = 534)
   Arg 0 (WINDOW): #<WINDOW 2636436>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): POINT
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 102)
   --Defaulted args:--
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): T
17-Dec-82 10:29:23-EST,548;000000000000
Date: Friday, 17 December 1982, 09:48-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: editor top level
To: BAK at MIT-OZ, bug-lispm at MIT-OZ
In-reply-to: The message of 15 Dec 82 08:48-EST from William A. Kornfeld <BAK at MIT-OZ>

    Date: Wednesday, 15 December 1982, 08:48-EST
    From: William A. Kornfeld <BAK at MIT-OZ>
    Is EDITOR-TOP-LEVEL supposed to work (system 218)?
The last time this came up, I belive that we were told that it is not considerd
supported.  I think it has been broken for more than half a year.
17-Dec-82 10:43:34-EST,1056;000000000000
Date: Friday, 17 December 1982, 10:39-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: load-patches and logging in, again
To: Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 16 Dec 82 23:24-EST from Margolin at multics

    Date: Thursday, 16 December 1982, 23:24-EST
    From: Margolin at multics
    In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
    microcode 977, site configuration 3, on Arthur Dent:

    The other day MOON suggested that I just follow the directions and "type
    RETURN to login anonymously."  Well, I looked at the login query when I
    loaded patches today and noticed why it was that I had never seen this -
    you only get it if you type the ALTMODE to go into the user-name query.
The other reason you never noticed it was because you were using system
210, which didn't have it.
    Perhaps typing END, or perhaps Control-ALTMODE, at the original password
    query should also try to login anonymously?
How long do you expect to make the prompt??
17-Dec-82 12:38:35-EST,1193;000000000000
Date: Friday, 17 December 1982, 12:34-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-lispm at MIT-OZ

In system in Experimental Remote-File 22.0,
Experimental LMFILE-Remote 23.1, Experimental MIT-Specific 16.0,
Experimental System 91.15, Experimental ZMail 48.3, microcode 204, !,
on Lisp Machine Eighteen:

(declare (*expr ...)) doesn't seem to work.  Example: compiler 
complains ct-init and defpins are undefined in the following:

(defun set-up-for-router-test ()
  (declare (*expr ct-init defpins)
	   (special package-pins
		    device-clocked?
		    pl-print-final-state))
  (ct-init)
  (setq package-pins 40.
	device-clocked? T
	pl-print-final-state nil)
  (defpins (out-pin 0)	'out	'(20.)
	   (out-pin 1)	'out 	'(19.)
	   (out-pin 2)	'out 	'(18.)
	   (out-pin 3)	'out	'(17.)
	   'm-in	'in	'(16.)
	   'mp-in	'in	'(14.)	;we bonded
	   'vdd		'vdd	'(15.)
	   'ksynch	'in	'(12.)
	   'm-outp	'out	'(11.)
	   'm-out	'out	'(10.)
	   'm-win	'out	'(9.)
	   (in-pin 0)	'in	'(5.)
	   (in-pin 1)	'in	'(6.)
	   (in-pin 2)	'in	'(7.)
	   (in-pin 3)	'in	'(8.)
	   'gnd		'gnd	'(24.)
	   'phi-1	'phi-1	'(23.)
	   'phi-2	'phi-2	'(22.)
	   'reset  	'in	'(21.)))
17-Dec-82 14:28:54-EST,936;000000000000
Date: Friday, 17 December 1982, 12:32-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: NNES.
To: HDT at MIT-MC, Bug-Lispm at MIT-OZ
In-reply-to: The message of 16 Dec 82 11:51-EST from Howard D. Trachtman <HDT at MIT-MC>

    Date: 16 December 1982  11:51-EST (Thursday)
    From: Howard D. Trachtman <HDT at MIT-MC>
    I like the new error system, but there still seem to
    be a lot of functions with optional arguments of NO-ERROR-P.

In addition to the reason that DLA told you, another reason for this is
that in some cases, we decided that it was important to avoid making an
incompatible change.  Probably few new functions will have error-p
arguments, although some might.  In some other cases, we decided that
the incompatible change was justified; it was done on a case-by-case
basis.  There's nothing fundamentally inconsonant about having some
error-p arguments, even in the presence of the NES.
17-Dec-82 14:32:25-EST,436;000000000000
Date: Friday, 17 December 1982, 14:32-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204, !, on Lisp Machine Eighteen:

In zwei, type c-(.  It loops.  Type c-m-break.  It starts to go into 
the debugger and then loops.  Type c-abort.  It loops.
17-Dec-82 14:38:39-EST,730;000000000000
Date: Friday, 17 December 1982, 13:01-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: load-patches
To: Margolin at MIT-EECS, BUG-LISPM at MIT-OZ
In-reply-to: The message of 16 Dec 82 23:18-EST from Barry Margolin <Margolin at MIT-EECS>

    Date: Thursday, 16 December 1982, 23:18-EST
    From: Barry Margolin <Margolin at MIT-EECS>
    Why am I asked this question twice?  
Why, Rabbi bar Mar, on this night, do we ask the question twice?

Fixed in the source, to be patched.

The Release file won't declare system 210 obsolete, but it will mark
certain versions of the system as released, and the herald will say
Release 4.0 when we decide what level to release.  This hasn't happened
yet but it will.
17-Dec-82 15:25:08-EST,1251;000000000000
Mail-From: HDT created at 17-Dec-82 15:22:10
Date: 17 December 1982  15:22-EST (Friday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   David Chapman <ZVONA at MIT-OZ>
cc:   Bug-lispm at MIT-OZ

16-Dec-82 19:16:12-EST,510;000000000000
	Date: Thursday, 16 December 1982, 19:13-EST
	From: David Chapman <ZVONA at MIT-OZ>
	To: BUG-LISPM at MIT-OZ
	Cc: bug-send at MIT-OZ
	
	In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
	Experimental MIT-Specific 16.0, Experimental System 91.15,
	Experimental ZMail 48.3, microcode 204, !, on Lisp Machine Eighteen:
	
	I go into converse, write a message to Danny, and <END>.  It says 
	"message not sent to Danny@OZ".  No explanation for this lossage is 
	given.  Danny is in fact logged in.
	
This sort of problem as well as several others are fixed in the
sources, but apparently have not been patched. 
	
	Date: Thursday, 16 December 1982, 19:19-EST
	From: David Chapman <ZVONA at MIT-OZ>
	Subject: last msg
	To: bug-send at MIT-OZ, bug-lispm at MIT-OZ
	
	In fact, Danny was detached.  It should have told me he was 
	not logged in at least.

Indeed.  This has been fixed.  I don't think his file job
would appreciate a message very much.
17-Dec-82 18:28:17-EST,452;000000000000
Date: Friday, 17 December 1982, 18:24-EST
From: David A. Moon <MOON at SCRC-TENEX>
Subject: ZWEI Problem
To: jmiller at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 17 Dec 82 10:01-EST from jmiller at MIT-OZ

The most likely explanation is that you hit c-Abort just as m-Q was
rearranging some lines, so that you got inconsistent data structure.
The Lisp machine system in general is vulnerable to typing c-Abort
at odd times.
17-Dec-82 19:03:31-EST,453;000000000000
Date: Friday, 17 December 1982, 19:04-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204, !, on Lisp Machine Eighteen:

c-m-break leaves you in some random function 
tv:kbd-intercept-error-break.  Something isn't being declared an 
error-reporter or something.
18-Dec-82 03:31:51-EST,1787;000000000000
Date: Saturday, 18 December 1982, 03:30-EST
From:  <HDT at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.15,
Experimental ZMail 48.3, microcode 204, on Lisp Machine Twenty-five:

C'mon.

Insert your description of the circumstances here:


>>ERROR: NIL is not the name of a known host
Backtrace from the debugger:

FS:GET-PATHNAME-HOST (P.C. = 70)

 Arg 0 (HOST-NAME): NIL
   --Defaulted args:--
 Arg 1 (NO-ERROR-P): NIL
Local 0 (HOST): #<ITS-CHAOS-HOST MIT-ML>    ;;;huh?
Local 1 (G6824): NIL


LOGIN (P.C. = 150)

 Arg 0 (USER-NAME): HDT
 Arg 1 (HOST): NIL
   --Defaulted args:--
 Arg 2 (LOAD-INIT-FILE-P): T
Local 0 (WIN-P): NIL


Additional information supplied with call:
 Values to be collected for MULTIPLE-VALUE-LIST

SI:*EVAL (P.C. = 1110)

 Arg 0 (FORM): (LOGIN (QUOTE HDT) NIL)
Local 0 (ARGNUM): 2
Local 1 (FCTN): #<DTP-FEF-POINTER LOGIN 1752174>
Local 2 (ARG-DESC): 400103
Local 3 (NUM-ARGS): 2
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10 (ITEM): NIL
Local 11 (*SELECTQ-ITEM*): NIL


SI:LISP-TOP-LEVEL1 (P.C. = 254)

 Arg 0 (TERMINAL-IO): #<LISP-LISTENER Lisp Listener 1 440000 exposed>
Local 0 (OLD-PACKAGE): #<Package USER 10112147>
Local 1 (W-PKG): #<Package USER 10112147>
Local 2 (THROW-FLAG): NIL
Local 3 (G1885): ("Return to top level in ~A." "Lisp Listener 1")
Local 4 (G1885): ((SYS:ABORT ERROR) ("Return to top level in ~A." "Lisp Listener 1") T ("Return to top level in ~A." "Lisp Listener 1") ...)
Local 5 (G1887): NIL
Local 6 (VALUE): NIL


SI:LISP-TOP-LEVEL (P.C. = 35)

18-Dec-82 13:49:28-EST,2084;000000000000
Date: Saturday, 18 December 1982, 13:46-EST
From: David Vinayak Wallace <Gumby at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.19,
Experimental ZMail 48.3, microcode 204,  , on Lisp Machine Six:


Insert your description of the circumstances here:


I kk'ed from EE and got a notificatio that supdup background wanted to
type out. This is what I got:

>>ERROR: The object #SYS:BAD-CONNECTION-STATE PROPERTY-LIST (CONNECTION #<CHAOS Connection to MIT-EECS SUPDUP 4344605> REASON "Connection does not exist at this end") CONDITION-NAMES (SYS:CONNECTION-LOST SYS:BAD-CONNECTION-STATE SYS:REMOTE-NETWORK-ERROR SYS:NETWORK-ERROR ...) FORMAT-STRING "Attempt to ~2G~A ~0G~S, which got a LOS: ~A" FORMAT-ARGS (#<CHAOS Connection to MIT-EECS SUPDUP 4344605> "Connection does not exist at this end" "receive from") CONNECTION #<CHAOS Connection to MIT-EECS SUPDUP 4344605> FOREIGN-HOST #<TOPS20-CHAOS-HOST MIT-EECS> received a STRING-FOR-PRINTING message, which went unclaimed.
The rest of the message was NIL

Backtrace from the debugger:

#SYS:BAD-CONNECTION-STATE PROPERTY-LIST (CONNECTION #<CHAOS Connection to MIT-EECS SUPDUP 4344605> REASON "Connection does not exist at this end") CONDITION-NAMES (SYS:CONNECTION-LOST SYS:BAD-CONNECTION-STATE SYS:REMOTE-NETWORK-ERROR SYS:NETWORK-ERROR ERROR ...) FORMAT-STRING "Attempt to ~2G~A ~0G~S, which got a LOS: ~A" FORMAT-ARGS (#<CHAOS Connection to MIT-EECS SUPDUP 4344605> "Connection does not exist at this end" "receive from") CONNECTION #<CHAOS Connection to MIT-EECS SUPDUP 4344605> FOREIGN-HOST #<TOPS20-CHAOS-HOST MIT-EECS>:
   Arg 0: STRING-FOR-PRINTING


EH:CONDITION-DATA-PLIST-LOOKUP (P.C. = 41)

 Arg 0 (OPERATION): STRING-FOR-PRINTING
 Rest arg (ARGS): NIL


SI:INSTANCE-HASH-FAILURE (P.C. = 75)

 Arg 0 (OP): STRING-FOR-PRINTING
 Rest arg (ARGS): NIL
Local 1 (HT): #<EQ-HASH-TABLE (Funcallable) 26747513>
Local 2 (FN-LOCATION): NIL
Local 3 (FUNC): EH:CONDITION-DATA-PLIST-LOOKUP
19-Dec-82 00:18:08-EST,2141;000000000000
Date: Sunday, 19 December 1982, 00:15-EST
From: Deborah G. Tatar <TATAR at MIT-OZ>
Subject: what is this subject-requirement bullshit? --PGS
To: BUG-LISPM at MIT-OZ
Cc: tatar at MIT-ML

In System 222.61, Hardcopy 11.5, Zmail 74.12, LMFS 30.5, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Thirty:

I tried to read a file I had just written with the font editor, and got:

>>Trap: The first argument to SET, NIL, was of the wrong type.
The function expected something other than NIL.
While in the function SYS:FASL-OP-STOREIN-SYMBOL-VALUE  SI:FASL-GROUP  SI:FASL-WHACK-SAVE-FASL-TABLE


SYS:FASL-OP-STOREIN-SYMBOL-VALUE: (P.C. = 66)
 Local 0 (DATA): NIL
 Local 1 (SYM): NIL


SYS:FASL-OP-STOREIN-SYMBOL-VALUE:  (P.C. = 66)

SI:FASL-GROUP:  (P.C. = 103)

SI:FASL-WHACK-SAVE-FASL-TABLE:  (P.C. = 57)

SI:FASL-WHACK:  (P.C. = 23)

SI:FASL-TOP-LEVEL:  (P.C. = 21)

SI:FASLOAD-INTERNAL:  (P.C. = 237)
   Arg 0 (FASL-STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:PS:<TATAR>SHIPFONT.BIN" 22052506>
   Arg 1 (PKG): "FONTS"
   Arg 2 (NO-MSG-P): NIL

LOAD:  (P.C. = 320)
   Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:PS:<TATAR>SHIPFONT.BIN">
   Arg 1 (PKG): "FONTS"
   --Defaulted args:--
   Arg 2 (NONEXISTENT-OK-FLAG): NIL
   Arg 3 (DONT-SET-DEFAULT-P): NIL
   Arg 4 (NO-MSG-P): NIL

(DEFUN-METHOD FED:FED-READ-FILE):  (P.C. = 152)
   (SELF = #<BASIC-FED-PANE Basic Fed Pane 1 20114754 exposed>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FED:BASIC-FED -- 23. IV's, 10. FL's 3203737>
   Arg 1 (TYPE): :BIN

(:METHOD FED:BASIC-FED :COM-READ-QFASL):  (P.C. = 27)
   (SELF = #<BASIC-FED-PANE Basic Fed Pane 1 20114754 exposed>)
   Arg 0 (OPERATION): :COM-READ-QFASL
   Arg 1 (IGNORE): (:MENU (NIL :VALUE :COM-READ-QFASL) 1 #<COMMAND-MENU-PANE Command Menu Pane 8 20116220 exposed>)

(:METHOD FED :COMMAND-LOOP):  (P.C. = 562)
   (SELF = #<FED Fed 1 20114646 deexposed>)
   Arg 0 (OPERATION): :COMMAND-LOOP

FED:FED-TOP-LEVEL:  (P.C. = 140)
   Arg 0 (WINDOW): #<FED Fed 1 20114646 deexposed>

SI:PROCESS-TOP-LEVEL:  (P.C. = 125)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
19-Dec-82 03:04:10-EST,844;000000000000
Date: Sunday, 19 December 1982, 02:58-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: what is this subject-requirement bullshit? --PGS
To: Deborah G. Tatar <TATAR at MIT-OZ>, PGS at SCRC-TENEX
Cc: BUG-LISPM at OZ
In-reply-to: The message of 19 Dec 82 00:15-EST from Deborah G. Tatar <TATAR at MIT-OZ>
Supersedes: The message of 19 Dec 82 02:57-EST from Robert W. Kerns <RWK at SCRC-TENEX>

The subject "requirement" (actually only a prompt, since you can always
give a null subject) is your oportunity to convince me, an overburdened
system maintainer far behind in reading his mail, that your message is
relevant to something I fix bugs in, and should therefore I should read
it NOW, rather than in the dim future when I get around to cleaning up
my mail file.

Is it too much to ask that you help me in this small way?
19-Dec-82 03:18:54-EST,1292;000000000000
Mail-From: PGS created at 19-Dec-82 03:17:05
Date: Sunday, 19 December 1982  03:17-EST
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at OZ, Deborah G. Tatar <TATAR at MIT-OZ>
Subject: what is this subject-requirement bullshit? --PGS
In-reply-to: The message of 19 Dec 1982 02:58-EST from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Sunday, 19 December 1982, 02:58-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>

    The subject "requirement" (actually only a prompt, since you can always
    give a null subject) is your oportunity to convince me, an overburdened
    system maintainer far behind in reading his mail, that your message is
    relevant to something I fix bugs in, and should therefore I should read
    it NOW, rather than in the dim future when I get around to cleaning up
    my mail file.

    Is it too much to ask that you help me in this small way?

I'm sorry.  I was offended by the assumption in it, thinking, If a user wants
to specify a subject, s/he will, and should not be asked to again by a
program.  But I wasn't thinking of its particular usefulness with respect to
bug mail, where the first line (shown by Zmail) will be something along the
lines of "In System 286.259..."
19-Dec-82 05:40:23-EST,1215;000000000000
Date: Sunday, 19 December 1982, 05:38-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: unknown dir in logical pathname
To: BUG-LISPM at MIT-OZ

In System 222.79, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
microcode 977, site configuration 3, on Arthur Dent:

I used an invalid directory in a logical pathname tonight, and I was
very happy to see that it had a mechanism to create the directory.
However, when I tried to use it, I found that it had a minor bug, at
least when using Multics as the host.  It asked me to type a pathname
whose directory component was the directory I wanted the logical
directory to be translated to, and gave me an example of
	>udd>Multics>Margolin>filename
(the filename is simplified to save me typing).  So I typed
	>udd>m>barmar>junk>foo
since I wanted to translate to the directory named "junk".  It claimed
that it didn't look like a directory, and asked if I meant
	>udd>m>barmar>foo>
The question implied that it was going to take the directory portion of
the pathname I typed, not that it wanted the pathname of a directory.  I
was able to do what I wanted once I figured this out, but either the
message or the code should be fixed.
19-Dec-82 06:15:19-EST,1230;000000000000
Date: Sunday, 19 December 1982, 06:12-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: Can't use Electric PL1 Mode
To: BUG-LISPM at MIT-OZ

In System 222.79, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
microcode 977, site configuration 3, on Arthur Dent:

I was in a buffer that was in PL1-MODE, and I said Meta-X Electric Pl1
Mode.

>>Trap: The function ZWEI:READ-PL1DCL is undefined.
While in the function SI:*EVAL  OR  SI:*EVAL


SI:*EVAL: (P.C. = 264)
 Arg 0 (FORM): (ZWEI:READ-PL1DCL)
 Local 0 (ARGNUM): 0
 Local 1 (FCTN): ZWEI:READ-PL1DCL
 Local 2 (CFCTN): NIL
 Local 3 (ARGL): NIL
 Local 4 (MAX-ARGS): NIL
 Local 5 (N-ARGS): 0
 Local 6 (ARG-DESC): NIL
 Local 7 (TEM): NIL
 Local 8 (COUNT): NIL
 Local 9 (QUOTE-STATUS): NIL
 Local 10 (REST-FLAG): NIL
 Local 11 (FEXPR-FLAG): NIL
 Local 12 (LAMBDA-LIST): NIL
 Local 13: NIL
 Local 14: NIL
 Local 15 (TEM1): NIL
 Local 16 (ARG-TYPE): NIL
 Local 17 (ITEM): NIL


SI:*EVAL:  (P.C. = 264)
   Arg 0 (FORM): (ZWEI:READ-PL1DCL)

OR:  (P.C. = 40)
   Rest arg (EXPRESSIONS): ((BOUNDP (QUOTE ZWEI:PL1DCL)) (ZWEI:READ-PL1DCL))

SI:*EVAL:  (P.C. = 707)
   Arg 0 (FORM): (OR (BOUNDP (QUOTE ZWEI:PL1DCL)) (ZWEI:READ-PL1DCL))
19-Dec-82 08:00:10-EST,314;000000000000
Date: Sunday, 19 December 1982, 07:56-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Query: Printing of uninterned symbols
To: info-lispm-mit at MIT-OZ

Do you think it would be a good idea for uninterned symbols,
printed "with slashification", to look like

      #<SYMBOL G0654 40523410>

???
19-Dec-82 14:59:27-EST,913;000000000000
Date: 19 Dec 1982 1337-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: what is this subject-requirement bullshit? --PGS
To: PGS at MIT-MC
cc: RWK at SCRC-TENEX, BUG-LISPM at MIT-OZ, TATAR at MIT-OZ
In-Reply-To: The message of Sunday, 19 December 1982  03:17-EST from PGS at MIT-MC

I was originally against the "subject required" feature, but as an experiment
I have left it enabled in my environment, and so far I think it's a minor chore
that I sometimes don't enjoy but am willing to put up with.  Every so
often I leave off a subject, by typing "Return", but usually I
put one in.  I actually find it easier to put in subjects using this feature,
since it's easier to create the right subject line AFTER I've written the
message sometimes; I sometimes don't know exactlywhat I'm going to talk
about when I start.  This is just a random personal opinion for your interest.
-------
19-Dec-82 16:34:09-EST,342;000000000000
Date: Saturday, 19 December 1980, 16:34-EST
From: Danny Hillis <DANNY at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.29,
ZMail 47.8, microcode 187, CT, on Lisp Machine Five:

MAKE-LIST should give an error if called with a negative length,
instead of just eating up conses.
19-Dec-82 20:58:24-EST,1875;000000000000
Date: Sunday, 19 December 1982, 20:54-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: Meta-HELP in rubout-handler
To: BUG-LISPM at OZ

In System 222.84, Hardcopy 11.5, Zmail 74.11, LMFS 30.7, Tape 13.0,
microcode 977, site configuration 3, on Arthur Dent:

I typed Meta-HELP in a Lisp Listener.  It ptined the "Terminal I/O" line
and the "Pointer values" line, and then got this error.

>>Trap: Some argument to ARRAY-LENGTH, NIL, was of the wrong type.
The function expected an array.
While in the function ARRAY-LENGTH  (INTERNAL (DEFUN-METHOD TV:COM-DISPLAY-INTERNAL-STATE) 0)  (DEFUN-METHOD TV:RH-DISPLAY-INFO-INSERT)  (DEFUN-METHOD TV:RH-DISPLAY-INFO-INTERNAL)


(INTERNAL (DEFUN-METHOD TV:COM-DISPLAY-INTERNAL-STATE) 0): (P.C. = 115)
 (SELF = #<LISP-LISTENER Lisp Listener 2 20115032 exposed>)
 Arg 0 (IGNORE): 137
 Arg 1 (IGNORE): 75
 Local 0 (INDENTATION): 25


(INTERNAL (DEFUN-METHOD TV:COM-DISPLAY-INTERNAL-STATE) 0):  (P.C. = 115)
   (SELF = #<LISP-LISTENER Lisp Listener 2 20115032 exposed>)
   Arg 0 (IGNORE): 137
   Arg 1 (IGNORE): 75

(DEFUN-METHOD TV:RH-DISPLAY-INFO-INSERT):  (P.C. = 67)
   (SELF = #<LISP-LISTENER Lisp Listener 2 20115032 exposed>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor TV:STREAM-MIXIN -- 3. IV's, 1. FL's 16372516>
   Arg 1 (PRINTER): #<DTP-FEF-POINTER (INTERNAL (DEFUN-METHOD TV:COM-DISPLAY-INTERNAL-STATE) 0) 7501321>
   Arg 2 (*WIDTH): 137
   Arg 3 (*HEIGHT): 75
   Arg 4 (PRINTER-ARGS): NIL

(DEFUN-METHOD TV:RH-DISPLAY-INFO-INTERNAL):  (P.C. = 111)
   (SELF = #<LISP-LISTENER Lisp Listener 2 20115032 exposed>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor TV:STREAM-MIXIN -- 3. IV's, 1. FL's 16372516>
   Arg 1 (NUMERIC-ARG): 1
   Arg 2 (PRINTER): #<DTP-FEF-POINTER (INTERNAL (DEFUN-METHOD TV:COM-DISPLAY-INTERNAL-STATE) 0) 7501321>
   Rest arg (PRINTER-ARGS): NIL
19-Dec-82 23:57:54-EST,2023;000000000000
Date: Sunday, 19 December 1982, 23:57-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.19,
Experimental ZMail 48.3, Experimental XRUP Reasoning Package 178.0,
Experimental Alertable Database System 38.0, microcode 204, !,
on Lisp Machine Eighteen:

I am using METER:TEST and METER:ANALYZE on a computation that runs for
about half an hour.  I don't know if it always halts like this, since I
didn't use CC when it happened on the other machine I tried it on, but
it seemed to halt in the same place.  Here is what CC says about the
crashed machine; it halts after a while when I do (meter:analyze
':inclusive nil).  At the point where I aborted CC, the debugging
machine had been running for a while without printing anything.

(cc:cc)
***********************************************
PC=16131   OBUS=147322   (TRANS-BFWD 6)
IR=((M-1) LDB (BYTE-FIELD 30 0) C-PDL-BUFFER-POINTER-POP A-ZERO) 
ERROR-STATUS JC-TRUE NO-OP ANY-ERR 

:why
Machine being debugged is MIT-LISPM-18.
Microcode halted via ILLOP from TRANS-BFWD+5
Micro PC History (OPC's), oldest first:
   21346   (PGF-R 4)
   21347   (PGF-R 5)
   16126   (TRANS-BFWD 3)
   16127   (TRANS-BFWD 4)
   16130   (TRANS-BFWD 5)
   16131   (TRANS-BFWD 6)
   00023   ILLOP
   00024   XWIPM
Backtrace of microcode subroutine stack:
    2  012644   (ARITH-XNM 2)
    1  000252   STOCYC
    0  040140   QMLP
Halted due to bad data type: MD/ 1437200012   BODY-FORWARD 37200012 
  from microcode:
(TRANS-BFWD 4)/((M-TEM) LDB (BYTE-FIELD 5 30) MD A-ZERO)   
(TRANS-BFWD 5)/(CALL-NOT-EQUAL M-TEM 716@A[13] ILLOP)   
Current stack group is: <Stack Group Listener Pane 1>
Current process is: #<DTP-INSTANCE 20306661>"Listener Pane 1"
Complete backtrace follows: (type Space to stop)

11640432 #<DTP-FEF-POINTER STRUCTURE-FORWARD 1607332>[0] [Abort]
Back to top level in Lisp Listener 1.
(dribble-end)
20-Dec-82 00:33:17-EST,1212;000000000000
Date: Monday, 20 December 1982, 00:31-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Metering a large computation
To: Ed Barton <EB at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 19 Dec 82 23:57-EST from Ed Barton <EB at MIT-OZ>

    Date: Sunday, 19 December 1982, 23:57-EST
    From: Ed Barton <EB at MIT-OZ>

    In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
    Experimental MIT-Specific 16.0, Experimental System 91.19,
    Experimental ZMail 48.3, Experimental XRUP Reasoning Package 178.0,
    Experimental Alertable Database System 38.0, microcode 204, !,
    on Lisp Machine Eighteen:

    I am using METER:TEST and METER:ANALYZE on a computation that runs for
    about half an hour.

METER:ANALYZE's data base is so large, and it is so slow, that it is impractical
to meter anything that runs for more than a minute or so.  Also unless you
allocated a gigantic METR partition the METER:TEST probably filled up the
METR partition in the first few seconds and discarded the rest of the data
without telling you.

This doesn't explain why running METER:ANALYZE creates a destroyed data
structure that crashes the machine, of course.
20-Dec-82 01:32:44-EST,2073;000000000000
Date: Monday, 20 December 1982, 01:33-EST
From: Leigh L. Klotz <klotz at MIT-MC>
Subject: QC-FILE on ITS bombing out trying to merge filename defaults even when filename fully specified.
To: BUG-LISPM at OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Twenty:

I did to a lisp listener (QC-FILE "MC:BOXER;IMPORT >").  My default directory
according to ITS is GJC;, and that doesn't seem to enter in to this at all.
It happens consistently.

>>Error: Attempt to make both type and version :UNSPECIFIC in ITS pathname MC: ICE; BOXER.
While in the function (:METHOD FS:ITS-PATHNAME-MIXIN :AFTER :VALIDATE)  (:METHOD FS:ITS-PATHNAME :COMBINED :VALIDATE)  (:METHOD FS:PATHNAME-HASH-TABLE-MIXIN :GET-PATHNAME)


(:METHOD FS:ITS-PATHNAME-MIXIN :AFTER :VALIDATE): (P.C. = 112)
 (SELF = #<ITS-PATHNAME "MC: ICE; BOXER">)
 Arg 0 (OPERATION): :VALIDATE
 Local 0 (NEW-VALUE): NIL


(:METHOD FS:ITS-PATHNAME-MIXIN :AFTER :VALIDATE):  (P.C. = 112)
   (SELF = #<ITS-PATHNAME "MC: ICE; BOXER">)
   Arg 0 (OPERATION): :VALIDATE

(:METHOD FS:ITS-PATHNAME :COMBINED :VALIDATE):  (P.C. = 56)
   (SELF = #<ITS-PATHNAME "MC: ICE; BOXER">)
   Rest arg (.DAEMON-CALLER-ARGS.): (:VALIDATE)

(:METHOD FS:PATHNAME-HASH-TABLE-MIXIN :GET-PATHNAME):  (P.C. = 66)
   (SELF = #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE MIT-MC>)
   Arg 0 (OPERATION): :GET-PATHNAME
   Arg 1 (DEV): "DSK"
   Arg 2 (DIR): "ICE"
   Arg 3 (NAM): "BOXER"
   Arg 4 (TYP): :UNSPECIFIC
   Arg 5 (VRS): :UNSPECIFIC
   Arg 6 (KEY): ("DSK" "ICE" "BOXER" ERROR)

(:METHOD SI:HOST-ITS-MIXIN :GET-PATHNAME):  (P.C. = 54)
   (SELF = #<ITS-CHAOS-HOST MIT-MC>)
   Arg 0 (OPERATION): :GET-PATHNAME
   Arg 1 (DEV): "DSK"
   Arg 2 (DIR): "ICE"
   Arg 3 (NAM): "BOXER"
   Arg 4 (TYP): :UNSPECIFIC
   Arg 5 (VRS): :UNSPECIFIC

FS:MAKE-PATHNAME-1:  (P.C. = 605)
   Rest arg (OPTIONS): (:DEFAULT-HOST #<ITS-CHAOS-HOST MIT-MC> :DEFAULT-DEVICE "DSK" :DEFAULT-DIRECTORY "ICE" :DEFAULT-NAME "BOXER" :DEFAULT-TYPE "QBIN" ...)
20-Dec-82 02:22:42-EST,768;000000000000
Date: Monday, 20 December 1982, 02:18-EST
From: John Bradstreet <Bradst at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.17,
Experimental ZMail 48.3, microcode 204, gc @18, on Lisp Machine Four:

  For those of us who like to write our own Terminal-whatever routines, would
you please indicate in the terminal-help routine that teminal-i terminal-ii and
terminal-iii are now being used for mouse buttons.  

  P.S., If you want my opinion, I don't really like the fact that you have 
started to used up these three keys for system routines.  I'd perfer it if they
were left for user written, special purpose routines only.

   J.Bradstreet

20-Dec-82 02:57:44-EST,437;000000000000
Date: Monday, 20 December 1982, 02:50-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: QC-FILE on ITS bombing out trying to merge filename defaults even when filename fully specified.
To: Leigh L. Klotz <klotz at MIT-MC>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 20 Dec 82 01:33-EST from Leigh L. Klotz <klotz at MIT-MC>

This was fixed in 222.79, although apparently I forgot to mention it in the
patch comment.
20-Dec-82 04:12:23-EST,411;000000000000
Date: Monday, 20 December 1982, 04:13-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System
89.52, ZMail 47.13, microcode 201, , on Lisp Machine Apiary-1:

With COMPILE-ENCAPSULATIONS-FLAG set to T, advising an instance method
thinks the advised definition is an "old compiled method" that needs to
make the flavor all-special.
20-Dec-82 12:54:01-EST,1522;000000000000
Date: Monday, 20 December 1982, 12:49-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: unknown dir in logical pathname
To: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ
In-reply-to: The message of 19 Dec 82 05:38-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Sunday, 19 December 1982, 05:38-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    In System 222.79, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
    microcode 977, site configuration 3, on Arthur Dent:

    I used an invalid directory in a logical pathname tonight, and I was
    very happy to see that it had a mechanism to create the directory.
    However, when I tried to use it, I found that it had a minor bug, at
    least when using Multics as the host.  It asked me to type a pathname
    whose directory component was the directory I wanted the logical
    directory to be translated to, and gave me an example of
	    >udd>Multics>Margolin>filename
    (the filename is simplified to save me typing).  So I typed
	    >udd>m>barmar>junk>foo
    since I wanted to translate to the directory named "junk".  It claimed
    that it didn't look like a directory, and asked if I meant
	    >udd>m>barmar>foo>
    The question implied that it was going to take the directory portion of
    the pathname I typed, not that it wanted the pathname of a directory.  I
    was able to do what I wanted once I figured this out, but either the
    message or the code should be fixed.
Fixed, 222.86.
21-Dec-82 06:46:55-EST,1192;000000000000
Date: Tuesday, 21 December 1982, 03:09-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: unknown directory in logical pathnames, revisited
To: BUG-LISPM at MIT-OZ

In System 222.88, Hardcopy 11.6, Zmail 74.12, LMFS 30.7, Tape 13.0,
microcode 977, site configuration 3, on Arthur Dent:

I don't think that you fully fixed this problem.  The prompt still says
"Type a pathname...whose directory component will be the
translation...".  However, the code then decides that if I gave more
than a directory then I must be confused, and offers to use the
directory whose name is the name of the given pathname.
I can think of several solution better things.  One is to change the
prompt to be more explicit about the fact that you just want the
directory component; I think this is wrong since most other things that
deal with directories just use the directory portion of the given
pathname.  Another is for the part that suggests what you actually meant
to try both, i.e. if I say no to the current query then it suggests that I
actually meant the directory portion of the given pathname (actually I
would prefer it if the two questions were in the opposite order).
21-Dec-82 06:50:46-EST,2670;000000000000
Date: Tuesday, 21 December 1982, 04:41-EST
From: Barry Margolin <Margolin at MIT-MULTICS>
Subject: COPYF to a Unix
To: BUG-LISPM at MIT-OZ

In System 222.88, Hardcopy 11.6, Zmail 74.12, LMFS 30.7, Tape 13.0,
microcode 977, site configuration 3, on Arthur Dent:

I did (copyf "cmul:>udd>m>barmar>lispm.init" "ccc:/usr/barmar/*.*").  It
loses the same way if the destination is on eddie:.  Also, I notice that
the suffix ".IN" is in uppercase - shouldn't it be lowercase for a Unix?
Or is this because there is such a file already (I have a single file
with two links with the names "lispm.in" and "lispm.IN").

>>Error: Illegal request format.
For CCC: /usr/barmar/lispm.IN
While in the function (METHOD FS:HOST-UNIT COMMAND)  (METHOD FS:FILE-DATA-STREAM-MIXIN COMMAND)  (METHOD FS:FILE-DATA-STREAM-MIXIN CHANGE-PROPERTIES)


(METHOD FS:HOST-UNIT COMMAND): (P.C. = 363)
 (SELF = #<HOST-UNIT 27540235>)
 Arg 0 (OPERATION): COMMAND
 Arg 1 (MARK-P): NIL
 Arg 2 (STREAM-OR-HANDLE): #<FILE-OUTPUT-CHARACTER-STREAM "CCC: //usr//barmar//lispm.IN" 27546347>
 Arg 3 (SIMPLE-P): NIL
 Arg 4 (WHOSTATE): "Change Properties"
 Rest arg (COMMANDS): ("CHANGE-PROPERTIES
CREATION-DATE 12//21//82 04:21:24
")
 Local 1 (HANDLE): "O1316"
 Local 2 (STREAM): #<FILE-OUTPUT-CHARACTER-STREAM "CCC: //usr//barmar//lispm.IN" 27546347>
 Local 3 (PKT): #<CHAOS Packet 27521647>
 Local 4 (SUCCESS): NIL
 Local 5 (STRING): "O1316 ERROR IRF C Illegal request format."
 Local 6 (TRANSACTION-ID): "T1332"
 Local 7 (CREATE-P): NIL
 Local 8 (FROM): 6
 Local 9 (CONDITION): NIL
 Local 10: T
 Local 11: (#<CASE-HANDLER 3204406> #<CASE-HANDLER 3204326>)


(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 363)
   (SELF = #<HOST-UNIT 27540235>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): NIL
   Arg 2 (STREAM-OR-HANDLE): #<FILE-OUTPUT-CHARACTER-STREAM "CCC: //usr//barmar//lispm.IN" 27546347>
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Change Properties"
   Rest arg (COMMANDS): ("CHANGE-PROPERTIES
CREATION-DATE 12//21//82 04:21:24
")

(METHOD FS:FILE-DATA-STREAM-MIXIN COMMAND):  (P.C. = 43)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "CCC: //usr//barmar//lispm.IN" 27546347>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): NIL
   Arg 2 (WHOSTATE): "Change Properties"
   Arg 3 (COM): "CHANGE-PROPERTIES
CREATION-DATE 12//21//82 04:21:24
"
   Rest arg (STRINGS): NIL

(METHOD FS:FILE-DATA-STREAM-MIXIN CHANGE-PROPERTIES):  (P.C. = 146)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "CCC: //usr//barmar//lispm.IN" 27546347>)
   Arg 0 (OPERATION): CHANGE-PROPERTIES
   Arg 1 (ERROR-P): T
   Rest arg (PROPERTIES): (CREATION-DATE 23404011624)
21-Dec-82 09:06:26-EST,1584;000000000000
Date: Tuesday, 21 December 1982, 09:05-EST
From: James E. Kulp <jek at SCRC-VIXEN>
Subject: COPYF to a Unix
To: Barry Margolin <Margolin at MIT-MULTICS>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 21 Dec 82 04:41-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Tuesday, 21 December 1982, 04:41-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>

    In System 222.88, Hardcopy 11.6, Zmail 74.12, LMFS 30.7, Tape 13.0,
    microcode 977, site configuration 3, on Arthur Dent:

    I did (copyf "cmul:>udd>m>barmar>lispm.init" "ccc:/usr/barmar/*.*").  It
    loses the same way if the destination is on eddie:.  Also, I notice that
    the suffix ".IN" is in uppercase - shouldn't it be lowercase for a Unix?
    Or is this because there is such a file already (I have a single file
    with two links with the names "lispm.in" and "lispm.IN").

    >>Error: Illegal request format.
    For CCC: /usr/barmar/lispm.IN
    While in the function (METHOD FS:HOST-UNIT COMMAND)  (METHOD FS:FILE-DATA-STREAM-MIXIN COMMAND)  (METHOD FS:FILE-DATA-STREAM-MIXIN CHANGE-PROPERTIES)

The FILE server error (Illegal request format) is due to the old file
server running on your UNIX system.  It is unable to change the
modification date of an open file.  One of the numeric arguments to Copy
File (I forget which) suppresses setting the modification date on the
target file.  A new FILE server will be distributed "this year" which
fixes this problem. Its already fixed here.

The .IN problem I don't understand, but RWK, DLW or BSG will.

21-Dec-82 09:46:54-EST,2344;000000000000
Date: Tuesday, 21 December 1982, 09:40-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: unknown directory in logical pathnames, revisited
To: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ
In-reply-to: The message of 21 Dec 82 03:09-EST from Barry Margolin <Margolin at MIT-MULTICS>

    Date: Tuesday, 21 December 1982, 03:09-EST
    From: Barry Margolin <Margolin at MIT-MULTICS>
    In System 222.88, Hardcopy 11.6, Zmail 74.12, LMFS 30.7, Tape 13.0,
    microcode 977, site configuration 3, on Arthur Dent:

    I don't think that you fully fixed this problem.  The prompt still says
    "Type a pathname...whose directory component will be the
    translation...".  However, the code then decides that if I gave more
    than a directory then I must be confused, and offers to use the
    directory whose name is the name of the given pathname.
I still don't see anything wrong with this line of reasoning.
    I can think of several solution better things.  One is to change the
    prompt to be more explicit about the fact that you just want the
    directory component; I think this is wrong since most other things that
    deal with directories just use the directory portion of the given
    pathname.  
I cannot think of any way to phrase this that would make sense;  we do not
have a concept of typing "just the directory component of something", or
for that matter printed representations of components of pathnames in
general.  I think the best that could be done is presenting an example as
we do.  I think the existence of gratuitous components over and above the
directory component indeed indicates that the user is probably (rightfully)
confused.
	       Another is for the part that suggests what you actually meant
    to try both, i.e. if I say no to the current query then it suggests that I
    actually meant the directory portion of the given pathname (actually I
    would prefer it if the two questions were in the opposite order).
This would be very weird, but it is probably consistent. 

What is really needed, of course, is "type the pathname of the directory",
something every Multics and Unix user understands without any problem.
All of the difficulty arises from the need to support systems where
directories don't have pathnames as part of a generic model.
21-Dec-82 10:21:52-EST,691;000000000000
Date: Tuesday, 21 December 1982, 10:14-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: COPYF to a Unix
To: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ
In-reply-to: The message of 21 Dec 82 04:41-EST from Barry Margolin <Margolin at MIT-MULTICS>

As JEK says, the uppercase ".IN" is an independent bug.  Pathname type
merging got broken by some patch to system 222.  RWK, please look at the
test cases in >dlw>new-pathnm.lisp and make sure all of them work.
Right now, the first three test cases under "cross host defaulting"
exhibit this same bug, and I haven't run through the rest of the cases;
I will when you fix this problem.  Please give this very high priority.
21-Dec-82 11:06:36-EST,1820;000000000000
Date: Tuesday, 21 December 1982, 11:03-EST
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at OZ

In System 210.128 ... on Lisp Machine Twenty-two:

I wish that c-X 2 (Two Windows) and c-X O (Other Window) would bind the
buffer history information when I go back and forth between them. 

Indeed, I think that the buffer history information should be a 
per-window item with perhaps a command for snarfing another editor
window's buffer history.

Here's a typical case that happens to me all the time...

  I am editing something in buffer FOO. 
  I think it would be nice to be viewing buffer FOO1 in a second window
    so I make a second window holding FOO1 and then return to window 1.
  I edit a while in buffer FOO, occasionally selecting buffer BAR. I can
    get back and forth from buffer FOO to BAR with c-m-L.
  I need to see a new part of FOO1, so I do c-X O and search for the new
    place.
  Now I return to FOO and edit some more but am irritated to find that
    c-m-L wants to select FOO1, not BAR.

Now a half-hearted solution says that c-X O should pop the buffer being left
from the buffer history (a la c-X c-m-L) since it's still accessible via
c-X O and it will be more useful to have c-m-L do something different. But
I'd still be bothered because if I'd visited another buffer while in window 2,
that would still take precedence over the buffers I'd visited in window 1 most
recently.

I realize the LispM editor system has this theory that people like to carry
context around globally and don't think of it as being associated with windows,
but in my experience, that is almost never true. If I create more than one
editor window, it's invariably because I have unrelated editing tasks and I
almost always want a separate sense of context per window.

21-Dec-82 11:27:40-EST,308;000000000000
Date: Tuesday, 21 December 1982, 11:20-EST
From: Alan Bawden <Alan at MIT-MC>
Subject: ;;;-*- Mode:Lisp; Package:(FOO GLOBAL 259) -*-
To: BUG-LISPM at OZ

I think that it is silly that I have to write "Package:(FOO GLOBAL 259)"
in the attribute list of a file rather than just "Package:(FOO GLOBAL)".
21-Dec-82 12:03:00-EST,832;000000000000
Date: Tuesday, 21 December 1982, 11:54-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Why is Compile File looking at my Zmail init?
To: MOON at SCRC-TENEX, Alan at MIT-MC
Cc: BUG-LISPM at OZ
In-reply-to: The message of 16 Dec 82 18:37-EST from MOON at SCRC-TENEX

    Date: Thursday, 16 December 1982  18:37-EST
    From: MOON at SCRC-TENEX
    This is caused by COMPILER:COMPILE-FILE using MERGE-PATHNAMES rather than
    MERGE-PATHNAME-DEFAULTS, in my opinion.

I don't understand this analysis.  I hope you aren't serious about
literally using MERGE-PATHNAME-DEFAULTS, which implements the totally
bogus type-defaulting algorithm; presumably you mean that
MERGE-PATHNAMES has some bug that MERGE-PATHNAME-DEFAULTS doesn't.
Whatever the bug is, it sounds like we should just fix it in
MERGE-PATHNAMES.
21-Dec-82 17:27:06-EST,414;000000000000
Date: Monday, 21 December 1980, 17:24-EST
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.9,
Experimental ZMail 48.2, microcode 204,  , on Ford Prefect:

I note now that hacks:background-check-mail in my init file  causes a
background stream error.  Anyone know why?
22-Dec-82 15:29:05-EST,1320;000000000000
Date: Wednesday, 22 December 1982, 15:22-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: zmail lossage
To: BUG-LISPM at MIT-MC

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Apiary-1:

I accidently tried to kill the mail file that I was currently
looking at resutling in the following error:

>>Trap: The first argument to SYS:%INSTANCE-LOC, KILLED, was of the wrong type.
The function expected an instance.
While in the function ZWEI:MAKE-MSG-MARK  ZWEI:MSG-POINT-PDL-PUSH  ZWEI:SELECT-SEQUENCE


ZWEI:MAKE-MSG-MARK: (P.C. = 102)
 Arg 0 (MSG): #<MSG 24101250>
 Arg 1 (SEQUENCE): #<BABYL-BUFFER "XX:PS:<HEWITT>HEWITT.BABYL" 21637535>
 Local 0 (INT): #<ZMAIL-INTERVAL "Message" 1370263>
 Local 1 (START-BP): ("" 0. NORMAL)


ZWEI:MAKE-MSG-MARK:  (P.C. = 102)
   Arg 0 (MSG): #<MSG 24101250>
   Arg 1 (SEQUENCE): #<BABYL-BUFFER "XX:PS:<HEWITT>HEWITT.BABYL" 21637535>

ZWEI:MSG-POINT-PDL-PUSH:  (P.C. = 40)
   Arg 0 (MSG): #<MSG 24101250>
   Arg 1 (SEQUENCE): #<BABYL-BUFFER "XX:PS:<HEWITT>HEWITT.BABYL" 21637535>

ZWEI:SELECT-SEQUENCE:  (P.C. = 126)
   Arg 0 (SEQUENCE): #<BABYL-BUFFER "OZ:PS:<HEWITT.MAIL>HUMAN-NETS.XMAIL" 22000004>
   --Defaulted args:--
   Arg 1 (DEFAULT-TOO): NIL
   Arg 2 (MSG-TOO): T
22-Dec-82 17:58:47-EST,691;000000000000
Date: Tuesday, 21 December 1982, 10:14-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: COPYF to a Unix
To: Margolin at MIT-MULTICS, BUG-LISPM at MIT-OZ
In-reply-to: The message of 21 Dec 82 04:41-EST from Barry Margolin <Margolin at MIT-MULTICS>

As JEK says, the uppercase ".IN" is an independent bug.  Pathname type
merging got broken by some patch to system 222.  RWK, please look at the
test cases in >dlw>new-pathnm.lisp and make sure all of them work.
Right now, the first three test cases under "cross host defaulting"
exhibit this same bug, and I haven't run through the rest of the cases;
I will when you fix this problem.  Please give this very high priority.
23-Dec-82 01:47:28-EST,1462;000000000000
Date: Thursday, 23 December 1982, 01:45-EST
From: Leigh L. Klotz <klotz at MIT-OZ>
Subject: Question: How do I get at SELF inside the error handler when a method signals an error.
To: BUG-LISPM at MIT-OZ

In System 222.92, Hardcopy 11.5, Zmail 74.17, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Twenty:

When an error occurs inside a method, the error handler prints out the instance
that received the message, but I can't find any way to get a hold of the
instance.  SELF is of course bound to the error object (in this example, a
TOO-FEW-ARGUMENTS error).  If FOO below isn't compiled, I can just look at
the args to SEND, but that's not right and doesn't work in compiled code.
I tried (dbg:arg 'self), but didn't really expect it to work.

>>TRAP: The function (:METHOD FS:CHAOS-PATHNAME OPEN) was called with too few arguments.
While in the function (:METHOD FS:CHAOS-PATHNAME OPEN)  FOO  SI:*EVAL


(:METHOD FS:CHAOS-PATHNAME OPEN): (P.C. = 22)
 (SELF = #<TOPS20-PATHNAME "OZ:">)
 Arg 0 (OPERATION): OPEN
   --Missing args:--
 Arg 1 (PATHNAME)
 Rest arg (OPTIONS): NIL


(:METHOD FS:CHAOS-PATHNAME OPEN):  (P.C. = 22)
   (SELF = #<TOPS20-PATHNAME "OZ:">)
   Arg 0 (OPERATION): OPEN
   --Missing args:--
   Arg 1 (PATHNAME)
   Rest arg (OPTIONS): NIL

FOO:  (P.C. = 31)

SI:*EVAL:  (P.C. = 653)
   Arg 0 (FORM): (FOO)


;Compiled
(DEFUN FOO ()
    (SEND (FS:MAKE-PATHNAME) 'OPEN))
23-Dec-82 03:20:14-EST,4280;000000000000
Date: Thursday, 23 December 1982, 03:18-EST
From: Gavan Duffy <GAVAN at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.20,
Experimental ZMail 48.3, microcode 204, gc @18,
on Lisp Machine Apiary-2:


Insert your description of the circumstances here:

I got this error after I hit a break during login in order to qc-file
oz:ps:<gavan>world.lisp.  I typed (qc-file "oz:ps:<gavan>world").
Apparently, qc-file defaulted to what my init had most recently tried to
load, oz:ps:<gavan>world.qfasl.  Is this not incorrect behavior?

>>ERROR: No such file type for OZ:PS:<GAVAN>WORLD.QFASL
Backtrace from the debugger:

FS:OPEN-CHAOS (P.C. = 610)

 Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
 Arg 1 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:PS:<GAVAN>WORLD.QFASL"
 Arg 2 (OPTIONS): (CHARACTERS T DIRECTION INPUT)
Local 0 (MODE): READ
Local 1 (TYPE): CHARACTER
Local 2 (ERROR-P): T
Local 3 (TEMPORARY-P): NIL
Local 4 (DELETED-P): NIL
Local 5 (RAW-P): NIL
Local 6 (SUPER-IMAGE-P): NIL
Local 7 (BYTE-SIZE): DEFAULT
Local 8 (PRESERVE-DATES-P): NIL
Local 9 (DISALLOW-ACCESS-ERROR): T
Local 10 (HOST-UNIT): #<HOST-UNIT 25647533>
Local 11 (DATA-CONN): (#<CHAOS Connection 25647204> "I0992" "O0993" 2137477. ...)
Local 12 (PKT): #<CHAOS Packet 25646647>
Local 13 (SUCCESS): NIL
Local 14 (STRING): "I0992 ERROR FNF F No such file type"
Local 15 (DIRECTION): INPUT
Local 16 (KEY): DIRECTION
Local 17 (VAL): INPUT
Local 18 (G1208): ((OPEN) . 17.)
Local 19 (ERROR-OBJECT): (#<CHAOS Connection 25647204> "I0992" "O0993" 2137477. ...)
Local 20 (G1221): ("F" "No such file type for OZ:PS:<GAVAN>WORLD.QFASL" #FS:TOPS20-PATHNAME "OZ:PS:<GAVAN>WORLD.QFASL" #FS:FILE-LOOKUP-ERROR PROPERTY-LIST (PATHNAME #FS:TOPS20-PATHNAME "OZ:PS:<GAVAN>WORLD.QFASL" OPERATION OPEN) CONDITION-NAMES (FS:FILE-NOT-FOUND FS:FILE-LOOKUP-ERROR FS:FILE-OPERATION-FAILURE FS:FILE-ERROR ...) FORMAT-STRING "No such file type for OZ:PS:<GAVAN>WORLD.QFASL" FORMAT-ARGS (#FS:TOPS20-PATHNAME "OZ:PS:<GAVAN>WORLD.QFASL" OPEN) PATHNAME #FS:TOPS20-PATHNAME "OZ:PS:<GAVAN>WORLD.QFASL" OPERATION OPEN ...)
Local 21 (ERROR-OBJECT): NIL
Local 22 (*SELECTQ-ITEM*): NIL
Local 23 (PROPERTIES): NIL
Local 24 (IGNORE): NIL


(METHOD FS:CHAOS-PATHNAME OPEN) (P.C. = 30)

 Arg 0 (OPERATION): OPEN
 Arg 1 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:PS:<GAVAN>WORLD.QFASL"
 Rest arg (OPTIONS): (CHARACTERS T DIRECTION INPUT)


OPEN (P.C. = 564)

 Arg 0 (FILENAME): #FS:TOPS20-PATHNAME "OZ:PS:<GAVAN>WORLD.QFASL"
 Rest arg (KEYWORD-ARGS): ((READ))
Local 1 (G2599): ((FS:FILE-ERROR SI:CONDITION-CASE-THROW G2615))
Local 2 (G2600): (FS:FILE-ERROR SI:CONDITION-CASE-THROW G2615)
Local 3 (ERROR-OBJECT): NIL
Local 4 (*SELECTQ-ITEM*): NIL
Local 5 (KEYL): NIL
Local 6 (KEY): READ
Local 7 (CHARACTERS): T
Local 8 (DIRECTION): INPUT
Local 9 (BYTE-SIZE): NIL
Local 10 (ERROR-P): T
Local 11 (ERROR-P-SPECD): NIL
Local 12 (DELETED-P): NIL
Local 13 (TEMPORARY-P): NIL
Local 14 (RAW-P): NIL
Local 15 (SUPER-IMAGE-P): NIL


QC-FILE (P.C. = 226)

 Arg 0 (INFILE): #FS:TOPS20-PATHNAME "OZ:PS:<GAVAN>WORLD.QFASL"
   --Defaulted args:--
 Arg 1 (OUTFILE): NIL
 Arg 2 (LOAD-FLAG): NIL
 Arg 3 (IN-CORE-FLAG): NIL
 Arg 4 (PACKAGE-SPEC): NIL
 Arg 5 (FILE-LOCAL-DECLARATIONS): NIL
 Arg 6 (DONT-SET-DEFAULT-P): NIL
 Arg 7 (READ-THEN-PROCESS-FLAG): NIL
Local 0 (GENERIC-PATHNAME): NIL
Local 1 (QC-FILE-PACKAGE): NIL
Local 2 (QC-FILE-MACROS-EXPANDED): NIL
Local 3 (G5260): NIL
Local 4 (.FILE-ABORTED-FLAG.): ABORT
Local 5 (INPUT-STREAM): NIL
Local 6 (*SELECTQ-ITEM*): NIL
Local 7 (INITIALLY-LOCKED-P): NIL
Local 8 (G5265): NIL
Local 9 (.FILE-ABORTED-FLAG.): NIL


Additional information supplied with call:
 Values to be collected for MULTIPLE-VALUE-LIST

SI:*EVAL (P.C. = 1110)

 Arg 0 (FORM): (QC-FILE "oz:ps:<gavan>world")
Local 0 (ARGNUM): 1.
Local 1 (FCTN): #<DTP-FEF-POINTER QC-FILE 12257342>
Local 2 (ARG-DESC): 72.
Local 3 (NUM-ARGS): 1.
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10 (ITEM): NIL
Local 11 (*SELECTQ-ITEM*): NIL
23-Dec-82 03:27:08-EST,508;000000000000
Date: Thursday, 23 December 1982, 03:27-EST
From: Gavan Duffy <GAVAN at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.20,
Experimental ZMail 48.3, microcode 204, gc @18,
on Lisp Machine Apiary-2:

You may or may not care about this, but when I create a lisp listener
in the color window there's no border nor a banner on the bottom informing
me that what I have here is a lisp listener.
23-Dec-82 06:21:44-EST,568;000000000000
Date: 23 Dec 1982 0530-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: Question: How do I get at SELF inside the error handler when a method signals an error.
To: klotz at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of Thursday, 23 December 1982, 01:45-EST from Leigh L. Klotz <klotz at MIT-OZ>

Answer: Use the Meta-S command in the debugger.  Type m-S SELF <Return>.

In a future release, it will work to just type SELF because evaluation
will be with respect to the current stack frame, but for now you
still need m-S.
-------
23-Dec-82 14:29:12-EST,1569;000000000000
Date: Thursday, 23 December 1982, 14:26-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: Zmail -> unexpected LISTENING-STATE
To: BUG-LISPM at MIT-MC, bug-file at MIT-OZ

In System 222.92, Hardcopy 11.7, Zmail 74.17, LMFS 30.7, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Apiary-2:

This keeps happening when I try to read a Babyl file on OZ
using Zmail:

>>Error: Attempt to establish data connection #<CHAOS Connection for O1433 to CHAOS|0 25311043>
  which unexpectedly went into LISTENING-STATE.
While in the function (METHOD FS:HOST-UNIT NEW-DATA-CONNECTION)  (METHOD FS:HOST-UNIT GET-DATA-CONNECTION)  (METHOD FS:FILE-HOST-MIXIN GET-DATA-CONNECTION)


(METHOD FS:HOST-UNIT NEW-DATA-CONNECTION): (P.C. = 170)
 (SELF = #<HOST-UNIT 3564660>)
 Arg 0 (OPERATION): NEW-DATA-CONNECTION
 Local 0 (INPUT-HANDLE): "I1432"
 Local 1 (OUTPUT-HANDLE): "O1433"
 Local 2 (PKT): #<CHAOS Packet 21657222>
 Local 3 (ID): "T1434"
 Local 4 (DATA-CONN): NIL
 Local 5 (CONNECTION): #<CHAOS Connection for O1433 to CHAOS|0 25311043>
 Local 6 (STRING): NIL


(METHOD FS:HOST-UNIT NEW-DATA-CONNECTION):  (P.C. = 170)
   (SELF = #<HOST-UNIT 3564660>)
   Arg 0 (OPERATION): NEW-DATA-CONNECTION

(METHOD FS:HOST-UNIT GET-DATA-CONNECTION):  (P.C. = 101)
   (SELF = #<HOST-UNIT 3564660>)
   Arg 0 (OPERATION): GET-DATA-CONNECTION
   Arg 1 (DIRECTION): INPUT

(METHOD FS:FILE-HOST-MIXIN GET-DATA-CONNECTION):  (P.C. = 53)
   (SELF = #<TOPS20-CHAOS-HOST MIT-OZ>)
   Arg 0 (OPERATION): GET-DATA-CONNECTION
   Arg 1 (DIRECTION): INPUT
23-Dec-82 16:25:10-EST,1211;000000000000
Date: Thursday, 23 December 1982, 16:15-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Zmail -> unexpected LISTENING-STATE
To: BUG-LISPM at MIT-MC, bug-file at MIT-OZ
Cc: Hewitt at MIT-OZ
In-reply-to: The message of 23 Dec 82 14:26-EST from Carl Hewitt <Hewitt at MIT-OZ>

    Date: Thursday, 23 December 1982, 14:26-EST
    From: Carl Hewitt <Hewitt at MIT-OZ>
    In System 222.92, Hardcopy 11.7, Zmail 74.17, LMFS 30.7, Tape 13.0,
    microcode 977, site configuration 3, on Lisp Machine Apiary-2:

    This keeps happening when I try to read a Babyl file on OZ
    using Zmail:

    >>Error: Attempt to establish data connection #<CHAOS Connection for O1433 to CHAOS|0 25311043>
      which unexpectedly went into LISTENING-STATE.

For everybody's information: this is the same bug I reported earlier;
BEE fixed the bogus error message.  What really happened here is that a
Data Conn Listen in Zmail timed out.  Patch 222.99 fixes the message.
So far, this error has only appeared from people running Zmail, with
file servers both on SCRC-TENEX and MIT-OZ.  I admit that it's hard to
see what it could have to do with Zmail unless it's timing dependent in
an unusual way.
23-Dec-82 22:14:04-EST,714;000000000000
Date: Thursday, 23 December 1982, 22:12-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Flashy parens, quotes, sharpsigns, etc. in ZWEI
To: BUG-LISPM at OZ

In System 222.92 ... on Lisp Machine Twenty-two:

Has anyone experimented with having ZWEI flash all the '-like characters
AND the matching paren in ZWEI? eg, `(a b) with the cursor after the ")"
should probably flash the "`(". I don't know how to set up this experiment
so I can't say I'd like it, but I'd appreciate it if someone could look
into it. It's often visually confusing to me and even moreso to people
I give demos for who are not used to seeing zillions of flashing things
when I type #',,(a b c) and it's the "#" that flashes.
24-Dec-82 01:46:08-EST,1927;000000000000
Date: Friday, 24 December 1982, 01:43-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Do panes created with Split Screen need to respond to INFERIOR-SELECT?
To: BUG-LISPM at MIT-OZ

In System 222.85, Hardcopy 11.6, Zmail 74.12, LMFS 30.7, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Apiary-2:

I created a BOX-DRAWING-PANE by mixing BOX-DRAWING-MIXIN as
defined in <KBE.SOURCE>TVMAGIC and TV:STREAM-MIXIN TV:PANE-MIXIN TV:WINDOW.      
Trying to use the Split Screen option to create a frame with a
BOX-DRAWING-PANE resulted in this complaint.

>>Error: The object #<MAIN-SCREEN Main Screen 20061445 exposed> received a INFERIOR-SELECT message, which went unclaimed.
The rest of the message was (#<BOX-DRAWING-PANE Box Drawing Pane 1 20114671 deexposed>)
While in the function (METHOD BOX-DRAWING-PANE COMBINED SELECT)  TV:SPLIT-SCREEN-VIA-MENUS-SETUP-WINDOW  TV:SYSTEM-MENU-SPLIT-SCREEN-VIA-MENUS


(METHOD BOX-DRAWING-PANE COMBINED SELECT): (P.C. = 71)
 (SELF = #<BOX-DRAWING-PANE Box Drawing Pane 1 20114671 deexposed>)
 Rest arg (.DAEMON-CALLER-ARGS.): (SELECT)
 Local 1 (.QUEUE-LEFT.): NIL
 Local 2 (.OLD-SELF-MAPPING-TABLE.): NIL
 Local 3 (.VAL1.): NIL
 Local 4 (.VAL2.): NIL
 Local 5 (.VAL3.): NIL
 Local 6: NIL
 Local 7 (E): NIL


(METHOD BOX-DRAWING-PANE COMBINED SELECT):  (P.C. = 71)
   (SELF = #<BOX-DRAWING-PANE Box Drawing Pane 1 20114671 deexposed>)
   Rest arg (.DAEMON-CALLER-ARGS.): (SELECT)

TV:SPLIT-SCREEN-VIA-MENUS-SETUP-WINDOW:  (P.C. = 353)
   Arg 0 (SUP): #<MAIN-SCREEN Main Screen 20061445 exposed>
   Arg 1 (EDGES): (0 0 768 872)
   Arg 2 (WINDOW-TYPE-LIST): (TV:LISP-LISTENER)
   Arg 3 (N-WINDOWS): 3
   Arg 4 (LAYWIN): #<DISPLAY-LAYOUT-WINDOW Display Layout Window 1 20056474 deactivated>

TV:SYSTEM-MENU-SPLIT-SCREEN-VIA-MENUS:  (P.C. = 1073)
   --Defaulted args:--
   Arg 0 (SUP): #<MAIN-SCREEN Main Screen 20061445 exposed>
24-Dec-82 02:58:08-EST,1379;000000000000
Date: Friday, 24 December 1982, 02:52-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: more problems with Kill Or Save Buffers
To: BUG-LISPM at OZ

In System 222.92 on Lisp Machine Twenty-two:

Using the mouse menu's Kill Or Save Buffers, I marked 

 * Kill a random non-file buffer.
 * Save a file.
 * Mark a random non-file buffer not modified.

I got an error message saying that "this buffer" has no associated file. The
following objections come to mind:

 * It was not clear in the message that the buffer referred to was
   the non-file buffer I wanted marked as not-modified, though I assume
   it was.

 * The rest of the processing was aborted without telling me that some of the
   things I'd asked it to do hadn't been accomplished. My file buffer was not
   saved. This is especially important because it didn't do the things in the
   order it presented them. I would have expected everything above the place
   the problem occurred to be done.

 * I think marking a non-file buffer as not modified makes complete sense. It
   means to stop putting little "+" signs beside it when I do buffer listings.
   I like the "+" to be there by default, but I think if I go to the trouble
   to say m-~ to a non-file buffer, I mean that it should assume the buffer is
   not interesting to be saved and something intelligent should happen.

24-Dec-82 05:47:18-EST,677;000000000000
Date: Friday, 24 December 1982, 05:45-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.20,
Experimental ZMail 48.4, microcode 204, ., on Lisp Machine Thirty:

For some reason, a window belonging to one of the demos in HACKS:DEMO appears
in the system menu in a freshly booted system.  This used to happen in 89 as
well.  The window is called WORMY-FLAVOR-1.  The demo is called WORM-TRAILS.  I
have nothing against demos, but I'd rather not have something like this in my
select menu, because it's totally useless to me.
25-Dec-82 14:57:45-EST,1016;000000000000
Date: Saturday, 25 December 1982, 14:54-EST
From: Daniel Weise <DANIEL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.20,
Experimental ZMail 48.4, DAEDALUS 1.6, Nodes 1.2, microcode 204,
on Lisp Machine Two:

I just dumped out a Deadalus in system 91.20.
The following problem immediately arose:  whenever Daedalus/dpl signals
an error (using good old Maclisp ERROR (maybe the bug arises on Ferror,
etc, too) the error handler offers either to blow the deadalus process
out of the water (ie, terminate it) or restart it.  Neither are correct.
Aborting out of errors should not cause daedalus to go away, aborting
should do what it has always done.  

The bug can be reproduced by booting this band on this cadr, hitting
system-d then typing (error 'foo).  Also note that when the daedalus
process is blown away the variable DPL:DAED-PROCESS is assigned some
random process.

Daniel
25-Dec-82 17:51:13-EST,560;000000000000
Date: Saturday, 25 December 1982, 17:49-EST
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 222.57, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Eight:

Is there any way to tell the inspector not to grind random lists as if
they were code?  I never look at code with the inspector but I do look
at a lot of lists.  It would be better if it would try print lists either
vertically or horizontally, depending on the printing width of items
in a given list.

Daniel
26-Dec-82 00:20:57-EST,604;000000000000
Date: Sunday, 26 December 1982, 00:18-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.20,
Experimental ZMail 48.3, microcode 204, gc @18,
on Lisp Machine Apiary-2:

in zwei: when I have the point at the end of a string (the blinker is on the
quote) and i do a meta-control-f, instead of going forward an sexp, i go forward
into the beginning of the next string, which may be anywhere later on in the buffer
and certainly is not just an sexp away.
26-Dec-82 09:34:29-EST,496;000000000000
Date: Sunday, 26 December 1982, 09:32-EST
From: Leigh L. Klotz <KLOTZ at MIT-OZ>
Subject: How do I set "." not to be the consing dot, but still to work in flonums?
To: bug-lispm at MIT-OZ

I want to create a readtable in which FOO.BAR reads in as a symbol, but
2.59 reads in as a flonum.

Doing (SET-SYNTAX-FROM-DESCRIPTION #/. 'SI:ALPHABETIC *BOXER-READTABLE*)
breaks floating-point.  I tried looking at the code, but si:xr-read-thing
isn't the clearest thing in the world.

Leigh.
26-Dec-82 11:35:18-EST,809;000000000000
Date: Sunday, 26 December 1982, 11:31-EST
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: How do I set "." not to be the consing dot, but still to work in flonums?
To: KLOTZ at MIT-OZ, bug-lispm at MIT-OZ
In-reply-to: The message of 26 Dec 82 09:32-EST from Leigh L. Klotz <KLOTZ at MIT-OZ>

    Date: Sunday, 26 December 1982, 09:32-EST
    From: Leigh L. Klotz <KLOTZ at MIT-OZ>
    Subject: How do I set "." not to be the consing dot, but still to work in flonums?

    I want to create a readtable in which FOO.BAR reads in as a symbol, but
    2.59 reads in as a flonum.

Either you didn't try it, you tried it in MacLisp, you already munged
your readtable to break it, or I'm on a priviledged machine.  I just
typed (read)foo.bar and it returned
	FOO.BAR
	SYMBOL
	NIL
as values.
26-Dec-82 15:36:39-EST,604;000000000000
Date: Sunday, 26 December 1982, 15:35-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.19,
Experimental ZMail 48.3, microcode 204, !, on Lisp Machine Seven:

I was in a Zwei break when I received a converse message.  The message was
printed on the screen, but the cursor was confused afterwards; it thought it
was in the middle of the message when I tried typing.  Then I selected
converse, and converse didn't notice that I had received a message.
26-Dec-82 16:18:42-EST,585;000000000000
Date: Sunday, 26 December 1982, 16:16-EST
From: Deborah Tatar <tatar at MIT-MC>
Subject: Random
To: BUG-LISPM at OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Twenty:

According to blue LM manual, (random) is supposed to return a positive or negative
fixnum.  "If arg is present, a fixnum between 0 and arg minus 1 inclusive is returned."
In fact, if you give random a negative arg, it returns random (absolute value arg).
I think it should either be documented that way, or generate an error.
26-Dec-82 21:02:00-EST,3107;000000000000
Date: Sunday, 26 December 1982, 20:59-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.20,
Experimental ZMail 48.4, microcode 204, !, on Lisp Machine Seven:


Insert your description of the circumstances here:

I executed M-X Fill long comment in the following text(text delimited by |s):
|
;;; There are three types of user requests.  Most requests receive
;;; single-packet responses; these are called single-response requests;
;;; others receive a sequence of response packets, terminated by an empty packet<cursor>;
;;; these are called multiple-response requests.  The last type of response |<end of buffer>

>>TRAP 7722 (ARGTYP ARRAY M-A NIL GAHDR) ->  ARRAY-LEADER 
Some argument to ARRAY-LEADER, NIL, was of the wrong type.
The function expected an array.
Backtrace from the debugger:

ZWEI:END-LINE (P.C. = 165)

 Arg 0 (BP): (NIL 0)
 Arg 1 (TIMES): -1
   --Defaulted args:--
 Arg 2 (FIXUP-P): NIL
Local 0 (LINE): NIL
Local 1 (I): -1
Local 2 (LAST-LINE): NIL
Local 3 (FIRST-LINE): ";;; -*- Mode:LISP; Package:USER; Base:8. -*-"


ZWEI:COM-FILL-LONG-COMMENT (P.C. = 337)

Local 0 (BP1): (";;; There are three types of user requests.  Most requests receive" 0)
Local 1 (BP2): (NIL 0)
Local 2 (LINE1): ";;; There are three types of user requests.  Most requests receive"
Local 3 (LINE2): NIL
Local 4 (MINEND): 4
Local 5 (LINE3): ";;; these are called multiple-response requests.  The last type of response "
Local 6 (START-LINE): ";;; -*- Mode:LISP; Package:USER; Base:8. -*-"
Local 7 (STOP-LINE): NIL
Local 8 (LINE): NIL
Local 9 (*SELECTQ-ITEM*): NIL
Local 10 (START): 0
Local 11 (END): 4


Additional information supplied with call:
 Expecting 3 values

ZWEI:COMMAND-EXECUTE (P.C. = 100)

 Arg 0 (COMMAND): ZWEI:COM-FILL-LONG-COMMENT
 Arg 1 (CHAR): 2121
 Arg 2 (PREFIX-CHAR): NIL
 Arg 3 (HOOK-LIST): (ZWEI:SHIFT-LOCK-HOOK)
Local 0 (G6771): NIL
Local 1 (HOOK): ZWEI:SHIFT-LOCK-HOOK


ZWEI:PROCESS-COMMAND-CHAR (P.C. = 67)

 Arg 0 (CH): 2121
Local 0 (VALUE): NIL
Local 1 (LINE): NIL
Local 2 (INDEX): NIL
Local 3 (G7269): NIL
Local 4 (HOOK): NIL


(METHOD ZWEI:EDITOR EDIT) (P.C. = 427)

 Arg 0 (OPERATION): EDIT
   --Defaulted args:--
 Arg 1 (TOP-LEVEL-P): T
Local 0 (G7193): ("Return to top level editor command loop.")
Local 1 (G7193): ((SYS:ABORT ERROR) ("Return to top level editor command loop.") T ("Return to top level editor command loop.") ...)
Local 2 (CH): 2121


(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT) (P.C. = 111)

 Rest arg (.DAEMON-CALLER-ARGS.): (EDIT)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-5 17074744>


ZWEI:ZMACS-WINDOW-TOP-LEVEL (P.C. = 50)



SI:PROCESS-TOP-LEVEL (P.C. = 121)

   --Defaulted args:--
 Arg 0 (IGNORE): NIL
Local 0 (G3581): ("Restart process ~A." "ZMACS-WINDOWS")
Local 1 (G3581): ((SYS:ABORT ERROR) ("Restart process ~A." "ZMACS-WINDOWS") T ("Restart process ~A." "ZMACS-WINDOWS") ...)
Local 2 (IGNORE): NIL
27-Dec-82 09:10:45-EST,1800;000000000000
Date: Monday, 27 December 1982, 09:03-EST
From: David Chapman <ZVONA at MIT-OZ>
Subject: end of file while loading zmail patches
To: BUG-LISPM at MIT-OZ, bug-file at MIT-OZ

In System 222.103, Hardcopy 11.7, Zmail 74.17, LMFS 30.7, Tape 13.0,
microcode 977, site configuration 3, Vanilla, on Lisp Machine Twenty-two:

I don't know what caused this.  I got it while loading patches.

>>Error: End of file for #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.ZMAIL>PATCH-74.PATCH-DIR" 21633053>.
End of file occured in #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.ZMAIL>PATCH-74.PATCH-DIR" 21633053> while reading (14 "Fix a couple Find file prompts.")
While in the function (PROPERTY LIST SI:STANDARD-READ-FUNCTION)  SI:XR-READ-THING  (PROPERTY LIST SI:STANDARD-READ-FUNCTION)


(PROPERTY LIST SI:STANDARD-READ-FUNCTION): (P.C. = 307)
 Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.ZMAIL>PATCH-74.PATCH-DIR" 21633053>
 Arg 1 (SHOULD-BE-NIL): NIL
 Arg 2 (FIFTY): 50
 Local 0 (LIST): (14 "Fix a couple Find file prompts.")
 Local 1 (THING): SI:EOF
 Local 2 (TYPE): SI:SPECIAL-TOKEN
 Local 3 (SPLICEP): NIL
 Local 4 (END-OF-LIST): ("Fix a couple Find file prompts.")
 Local 5 (BP): NIL
 Local 6 (CORRESPONDENCE-ENTRY): NIL


(PROPERTY LIST SI:STANDARD-READ-FUNCTION):  (P.C. = 307)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.ZMAIL>PATCH-74.PATCH-DIR" 21633053>
   Arg 1 (SHOULD-BE-NIL): NIL
   Arg 2 (FIFTY): 50

SI:XR-READ-THING:  (P.C. = 161)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.ZMAIL>PATCH-74.PATCH-DIR" 21633053>

(PROPERTY LIST SI:STANDARD-READ-FUNCTION):  (P.C. = 146)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.ZMAIL>PATCH-74.PATCH-DIR" 21633053>
   Arg 1 (SHOULD-BE-NIL): NIL
   Arg 2 (FIFTY): 50
27-Dec-82 10:28:47-EST,708;000000000000
Date: Monday, 27 December 1982, 10:22-EST
From: Howie Shrobe <hes at SCRC-VIXEN>
Subject: Maybe why daedalus is losing in system 91
To: DANIEL at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 25 Dec 82 14:54-EST from Daniel Weise <DANIEL at MIT-OZ>

I have no idea what versin of Daedalus you're using since my version is
56.xx.  Also I don't know about how system 91.xx implements new error
system functionality if at all.  However, if you look at the Daedalus on
<dpl.sym> you will see that the top-level loop (do-it-loop) uses the
special form error-restart-loop which is the right thing for making
top-levels in the NES.  Hope this helps, but maybe your problem is with
system 91?
27-Dec-82 11:05:16-EST,1105;000000000000
Date: Monday, 27 December 1982, 11:01-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: end of file while loading zmail patches
To: ZVONA at MIT-OZ, BUG-LISPM at MIT-OZ, bug-file at MIT-OZ
In-reply-to: The message of 27 Dec 82 09:03-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Monday, 27 December 1982, 09:03-EST
    From: David Chapman <ZVONA at MIT-OZ>
    I don't know what caused this.  I got it while loading patches.

    >>Error: End of file for #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.ZMAIL>PATCH-74.PATCH-DIR" 21633053>.

It's because the file was trashed; it was missing stuff from the end.  I
renamed it to patch-74.patch-dir-38-bad so someone can take a look at
it.  I tried to copy a good version again, and got the same bad copy,
with an error message in the Chaos Background process about "BUG Data
packet being discarded", which is the usual file truncation lossage that
we've seen before and which I thought had been fixed.  I deleted this second
bad version; for now you just won't get zmail patch 18.  Maybe I'll try to 
send it over some other way.
27-Dec-82 11:10:12-EST,390;000000000000
Date: Monday, 27 December 1982, 11:08-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Random
To: tatar at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 26 Dec 82 16:16-EST from Deborah Tatar <tatar at MIT-MC>

In Common Lisp, RANDOM is documented to only accept positive numbers as
arguments, and so I support the theory that it should signal a check-arg
error.
27-Dec-82 11:33:29-EST,619;000000000000
Date: Monday, 27 December 1982, 11:18-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: inspector/grinding
To: Daniel at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 25 Dec 82 17:49-EST from Daniel Weise <Daniel at MIT-OZ>

    Date: Saturday, 25 December 1982, 17:49-EST
    From: Daniel Weise <Daniel at MIT-OZ>
    Is there any way to tell the inspector not to grind random lists as if
    they were code?
We are planning to integrate GPRINT's functionality into the system, and if
I ever get out of crisis mode I will spend a week and do it.  This should
be able to fix this problem.
27-Dec-82 14:20:03-EST,2475;000000000000
Date: Monday, 27 December 1982, 13:57-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Do panes created with Split Screen need to respond to INFERIOR-SELECT?
To: Henry Lieberman <Henry at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 24 Dec 82 01:43-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Friday, 24 December 1982, 01:43-EST
    From: Henry Lieberman <Henry at MIT-OZ>

    In System 222.85, Hardcopy 11.6, Zmail 74.12, LMFS 30.7, Tape 13.0,
    microcode 977, site configuration 3, on Lisp Machine Apiary-2:

    I created a BOX-DRAWING-PANE by mixing BOX-DRAWING-MIXIN as
    defined in <KBE.SOURCE>TVMAGIC and TV:STREAM-MIXIN TV:PANE-MIXIN TV:WINDOW.      
    Trying to use the Split Screen option to create a frame with a
    BOX-DRAWING-PANE resulted in this complaint.

The error message below certainly suggests that you were trying to
create a pane that was not inside of a frame, which indeed does not
work.  Are you sure you used the Split Screen "Frame" option?

    >>Error: The object #<MAIN-SCREEN Main Screen 20061445 exposed> received a INFERIOR-SELECT message, which went unclaimed.
    The rest of the message was (#<BOX-DRAWING-PANE Box Drawing Pane 1 20114671 deexposed>)
    While in the function (METHOD BOX-DRAWING-PANE COMBINED SELECT)  TV:SPLIT-SCREEN-VIA-MENUS-SETUP-WINDOW  TV:SYSTEM-MENU-SPLIT-SCREEN-VIA-MENUS


    (METHOD BOX-DRAWING-PANE COMBINED SELECT): (P.C. = 71)
     (SELF = #<BOX-DRAWING-PANE Box Drawing Pane 1 20114671 deexposed>)
     Rest arg (.DAEMON-CALLER-ARGS.): (SELECT)
     Local 1 (.QUEUE-LEFT.): NIL
     Local 2 (.OLD-SELF-MAPPING-TABLE.): NIL
     Local 3 (.VAL1.): NIL
     Local 4 (.VAL2.): NIL
     Local 5 (.VAL3.): NIL
     Local 6: NIL
     Local 7 (E): NIL


    (METHOD BOX-DRAWING-PANE COMBINED SELECT):  (P.C. = 71)
       (SELF = #<BOX-DRAWING-PANE Box Drawing Pane 1 20114671 deexposed>)
       Rest arg (.DAEMON-CALLER-ARGS.): (SELECT)

    TV:SPLIT-SCREEN-VIA-MENUS-SETUP-WINDOW:  (P.C. = 353)
       Arg 0 (SUP): #<MAIN-SCREEN Main Screen 20061445 exposed>
       Arg 1 (EDGES): (0 0 768 872)
       Arg 2 (WINDOW-TYPE-LIST): (TV:LISP-LISTENER)
       Arg 3 (N-WINDOWS): 3
       Arg 4 (LAYWIN): #<DISPLAY-LAYOUT-WINDOW Display Layout Window 1 20056474 deactivated>

    TV:SYSTEM-MENU-SPLIT-SCREEN-VIA-MENUS:  (P.C. = 1073)
       --Defaulted args:--
       Arg 0 (SUP): #<MAIN-SCREEN Main Screen 20061445 exposed>
27-Dec-82 14:21:53-EST,554;000000000000
Date: Monday, 27 December 1982, 14:20-EST
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.22,
Experimental ZMail 48.4, DAEDALUS 1.7, Nodes 1.2, microcode 204,
on Lisp Machine Two:

Forget my message about the error handler not "doing the right
thing" in Daedalus in system 91.  I glanced at the system 91 release
notes a little too quickly before trying to bring up Daedalus.
Sorry about that.

Daniel
27-Dec-82 14:35:22-EST,1613;000000000000
Date: Monday, 27 December 1982, 14:26-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: end of file while loading zmail patches
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: ZVONA at MIT-OZ, BUG-LISPM at MIT-OZ, bug-file at MIT-OZ
In-reply-to: The message of 27 Dec 82 11:01-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 27 December 1982, 11:01-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    Subject: end of file while loading zmail patches
    To: ZVONA at MIT-OZ, BUG-LISPM at MIT-OZ, bug-file at MIT-OZ
    In-reply-to: The message of 27 Dec 82 09:03-EST from David Chapman <ZVONA at MIT-OZ>

	Date: Monday, 27 December 1982, 09:03-EST
	From: David Chapman <ZVONA at MIT-OZ>
	I don't know what caused this.  I got it while loading patches.

	>>Error: End of file for #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.ZMAIL>PATCH-74.PATCH-DIR" 21633053>.

    It's because the file was trashed; it was missing stuff from the end.  I
    renamed it to patch-74.patch-dir-38-bad so someone can take a look at
    it.  I tried to copy a good version again, and got the same bad copy,
    with an error message in the Chaos Background process about "BUG Data
    packet being discarded", which is the usual file truncation lossage that
    we've seen before and which I thought had been fixed.

It works for me.  And I see that it worked for you eventually.  Too bad,
if there was a reproducible test case for "data packet being discarded",
which happens on all 10X/20X systems (and there is some evidence
suggesting it happens on ITS as well) we could fix it.
27-Dec-82 15:18:30-EST,1098;000000000000
Date: 27 December 1982 15:14-EST
From: Gregor J. Kiczales <GREGOR @ MIT-MC>
Subject:  How do I set "." not to be the consing dot, but still to work in flonums?
To: KLOTZ @ MIT-OZ
cc: bug-lispm @ MIT-OZ
In-reply-to: The message of 26 Dec 1982 09:32-EST from Leigh L. Klotz <KLOTZ at MIT-OZ>

    Date: Sunday, 26 December 1982, 09:32-EST
    From: Leigh L. Klotz <KLOTZ at MIT-OZ>
    To:   bug-lispm at MIT-OZ
    Re:   How do I set "." not to be the consing dot, but still to work in flonums?

    I want to create a readtable in which FOO.BAR reads in as a symbol, but
    2.59 reads in as a flonum.

    Doing (SET-SYNTAX-FROM-DESCRIPTION #/. 'SI:ALPHABETIC *BOXER-READTABLE*)
    breaks floating-point.  I tried looking at the code, but si:xr-read-thing
    isn't the clearest thing in the world.

    Leigh.

You are losing because there is a hidden paren in the Boxder stream
you are using, rememeber that *strt-row-code* is set to be open-paren
in the readtable, I don't think what you want to do is easy without
generating a new fsm and I don't think that is easy.
27-Dec-82 15:46:17-EST,1067;000000000000
Date: Monday, 27 December 1982, 15:45-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 222.103, Hardcopy 11.7, Zmail 74.17, LMFS 30.7, Tape 13.0,
microcode 977, site configuration 3, Vanilla, on Lisp Machine Twenty-two:

(breakon 'setf)

>>Trap: The first argument to RPLACD, NIL, was of the wrong type.
The function expected a cons.
While in the function BREAKON  SI:*EVAL  BREAK


BREAKON: (P.C. = 110)
 Arg 0 (FUNCTION): SETF
   --Defaulted args:--
 Arg 1 (CONDITION): T
 Local 0 (DEF): (MACRO NAMED-LAMBDA (SETF (SI:ENCAPSULATED-DEFINITION SETF BREAKON)) (&REST ARGLIST) (SI:ENCAPSULATION-LET ((ARGLIST **)) (DBG:BREAKON-THIS-TIME (OR) (SI:ENCAPSULATION-MACRO-DEFINITION **) ARGLIST)))
 Local 1 (DEFN-DATA): NIL
 Local 2 (SLOT-LOC): NIL


BREAKON:  (P.C. = 110)
   Arg 0 (FUNCTION): SETF
   --Defaulted args:--
   Arg 1 (CONDITION): T

SI:*EVAL:  (P.C. = 653)
   Arg 0 (FORM): (BREAKON (QUOTE SETF))

BREAK:  (P.C. = 520)
   Arg 0 (TAG): ZWEI:ZMACS
   --Defaulted args:--
   Arg 1 (CONDITIONAL): T
27-Dec-82 15:47:15-EST,499;000000000000
Date: Monday, 27 December 1982, 15:48-EST
From: David Chapman <Zvona at MIT-OZ>
To: bug-lispm at MIT-OZ

222.  There seems to be nothing that is to SETF as SET is to SETQ.  This
is a problem, because there is no way to set a slot in a defstruct when
the name of the slot is a computed quantity.  It should not be hard to
define such a thing.

Relatedly, I prefer the make-instance style of doing things to defstruct
constructor functions, because you can make an object of computed type.
27-Dec-82 16:13:04-EST,422;000000000000
Date: Monday, 27 December 1982, 16:08-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 27 Dec 82 15:45-EST from David Chapman <Zvona at MIT-OZ>

    Date: Monday, 27 December 1982, 15:45-EST
    From: David Chapman <Zvona at MIT-OZ>
    (breakon 'setf)
    >>Trap: The first argument to RPLACD, NIL, was of the wrong type.
Fixed in the source.
27-Dec-82 16:42:48-EST,1375;000000000000
Date: Monday, 27 December 1982, 16:39-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: "subr version" of SETF
To: David Chapman <Zvona at MIT-OZ>
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 27 Dec 82 15:48-EST from David Chapman <Zvona at MIT-OZ>

    Date: Monday, 27 December 1982, 15:48-EST
    From: David Chapman <Zvona at MIT-OZ>

    222.  There seems to be nothing that is to SETF as SET is to SETQ.  This
    is a problem, because there is no way to set a slot in a defstruct when
    the name of the slot is a computed quantity.  It should not be hard to
    define such a thing.
On the contrary, it is quite difficult, since the first subform of SETF
is a form--it can contain references to variables that might not be
accessible in compiled code, and it can even be a special form.  One
might define a special thing that only worked for the subset of SETF
forms where the "place" is a function reference; it would take as its
arguments the value to store, the function name, and an &rest of the
arguments to that function.  But it still would be 100 to 1000 times
slower than sending a :SET-xxx message to an instance.

    Relatedly, I prefer the make-instance style of doing things to defstruct
    constructor functions, because you can make an object of computed type.
Right.  Defstruct is only for simple applications.
27-Dec-82 17:22:58-EST,442;000000000000
Date: Monday, 27 December 1982, 17:20-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: printing uninterned symbols again
To: info-lispm-mit at MIT-OZ

How about printing an uninterned symbol with pname FOO as
FOO #|30451230|# (where 30451230 is the address of the symbol)?
This does not affect reading it back in, shows that the symbol
is uninterned, allows differentiation of symbols with like pnames,
and is not so verbose.
27-Dec-82 17:50:46-EST,149;000000000000
Date: 27 December 1982 17:47-EST
From: Ken Church <KWC @ MIT-MC>
To: BUG-LISPM @ MIT-MC

can you tell me how to restart the file job on speech?
28-Dec-82 10:22:25-EST,1139;000000000000
Date: Tuesday, 28 December 1982, 10:17-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: end of file while loading zmail patches
To: Moon at SCRC-TENEX
Cc: ZVONA at MIT-OZ, BUG-LISPM at MIT-OZ, bug-file at MIT-OZ
In-reply-to: The message of 27 Dec 82 14:26-EST from David A. Moon <Moon at SCRC-TENEX>

    Date: Monday, 27 December 1982, 14:26-EST
    From: David A. Moon <Moon at SCRC-TENEX>
    It works for me.  And I see that it worked for you eventually.  
No, actually I sent the file over by mail.  But I only tried copying it
directly once, since I thought that the problem was reproducible.
								    Too bad,
    if there was a reproducible test case for "data packet being discarded",
    which happens on all 10X/20X systems (and there is some evidence
    suggesting it happens on ITS as well) we could fix it.
In this case, it sounds like we should document it in the release notes
as a known bug, so that people will know what's going on when it happens;
it's pretty serious, but if you understand that the error message means
that your file has been broken, then at least you can deal with it.
28-Dec-82 16:11:14-EST,379;000000000000
Date: Tuesday, 28 December 1982, 16:08-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: putprop arglist
To: bug-lispm at MIT-OZ

I can never remember the order of arguments to putprop.  The declared
arglist is (SYM PROP INDICATOR) which is not very helpful.  In any case,
it doesn't only work on symbols any more.  Could it be changed to 
(PLIST VALUE PROPERTY-NAME)?
28-Dec-82 17:05:37-EST,351;000000000000
Date: Tuesday, 28 December 1982, 17:03-EST
From: Richard Mlynarik <daniel.g.mly at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.52,
ZMail 47.13, microcode 183, ., on Lisp Machine Twenty-four:

It Would Be Nice If... the stepper sent its output to TRACE-OUTPUT rather than STANDARD-...
28-Dec-82 22:45:00-EST,891;000000000000
Date: Tuesday, 28 December 1982, 22:43-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: putprop arglist
To: David Chapman <Zvona at MIT-OZ>
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 28 Dec 82 16:08-EST from David Chapman <Zvona at MIT-OZ>

    Date: Tuesday, 28 December 1982, 16:08-EST
    From: David Chapman <Zvona at MIT-OZ>

    I can never remember the order of arguments to putprop.  
Fixed in Common Lisp, where putprop has been flushed.
							     The declared
    arglist is (SYM PROP INDICATOR) which is not very helpful.  In any case,
    it doesn't only work on symbols any more.  Could it be changed to 
    (PLIST VALUE PROPERTY-NAME)?
Then people would complain that the first argument is usually a symbol
so it shouldn't be called PLIST.  "Indicator" is a technical term.
"Value" is a better name than "prop".  Changed in the source only.
29-Dec-82 12:15:10-EST,554;000000000000
Mail-From: PGS created at 29-Dec-82 12:10:05
Date: Wednesday, 29 December 1982  12:10-EST
Sender: PGS @ MIT-OZ
From: PGS @ MIT-MC
To:   bug-lispm @ MIT-OZ

There doesn't seem to be any easy way for me to get at the packet number of a
packet (when you get it, the PKT-NUM is 0; when it's been sent it's no longer
valid).

Could we make CHAOS:SEND-PKT return the packet number?  The packet number can
be useful in higher-level protocols (I send it back in responses to requests)
as a unique way of indentifying the request being responded to.
29-Dec-82 12:29:56-EST,1057;000000000000
Date: Wednesday, 29 December 1982, 12:27-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: poorly documented saga
To: BUG-lispm at MIT-OZ

In System 222.104, Hardcopy 11.7, Zmail 74.19, LMFS 30.9, Tape 13.0,
microcode 977, site configuration 3, Vanilla, on Lisp Machine Twenty-two:

I tried to compile a recursive defsubst that used LetS, which looped of
course.  So I did c-m-B and it braked.  As it was printing procede
options, it grew the stack.  I typed c-N and it bombed to a second level
error handler, complaining that some locative was not a frame in the
current stack.  So I did c-M and typed in my explanation.  But I thought
that perhaps I should put some more frames in the bug message.  So I
System E'd and it was hanging waiting for the mail to finish.  So I
typed c-Abort to get it to stop hanging, but that didn't do anything.
(weird).  So I typed c-m-Abort (randomly) and it aborted back to zmacs.
But the mail window no longer was selectable (with terminal s or the
menu) so I can't put that backtrace in this report.
29-Dec-82 16:05:16-EST,593;000000000000
Date: Wednesday, 29 December 1982, 16:01-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: PGS at MIT-MC
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 29 Dec 82 12:10-EST from PGS at MIT-MC

    Date: Wednesday, 29 December 1982  12:10-EST
    From: PGS @ MIT-MC
    Could we make CHAOS:SEND-PKT return the packet number?  The packet number can
    be useful in higher-level protocols (I send it back in responses to requests)
    as a unique way of indentifying the request being responded to.
The packet number comes from the connection.  Can't you just get it out of there?
29-Dec-82 16:09:24-EST,327;000000000000
Date: Wednesday, 29 December 1982  15:48-EST
From: MOON at SCRC-TENEX
To:   PGS at MIT-MC
Cc:   bug-lispm at MIT-OZ
In-reply-to: The message of 29 Dec 1982  12:10-EST from PGS @ MIT-MC
Subject: Finding out the packet number of the packet you are about to send

Why don't you just get it out of the CONN data structure?
30-Dec-82 02:54:25-EST,6091;000000000000
Date: Thursday, 30 December 1982, 02:49-EST
From: David A. Moon <Moon at SCRC-POINTER>
Subject: My final patch for release 4 (222.111)
To: David Chapman <Zvona at MIT-OZ>, Kent M. Pitman <kmp at MIT-MC>,
    Alan Bawden <Alan at MIT-MC>, Barry Margolin at MIT-Multics
Cc: software-release at SCRC-TENEX, BUG-lispm at MIT-OZ
In-reply-to: The message of 13 Dec 82 17:20-EST from MOON at SCRC-TENEX,
             The message of 28 Dec 82 22:37-EST from David A. Moon <Moon at SCRC-TENEX>,
             The message of 29 Dec 82 12:27-EST from David Chapman <Zvona at MIT-OZ>,
             The message of 24 Dec 82 01:57-EST from Kent M. Pitman <kmp at MIT-MC>,
             The message of 23 Dec 82 16:05-EST from MOON at SCRC-TENEX,
             The message of 21 Dec 82 22:53-EST from DLA at SCRC-POINTER,
             The message of 21 Dec 82 11:20-EST from Alan Bawden <Alan at MIT-MC>,
             The message of 21 Dec 82 04:57-EST from Barry Margolin at MIT-Multics

    Date: Monday, 13 December 1982  17:20-EST
    From: MOON at SCRC-TENEX
    Subject: nasty "gc" bug

    Subject: Junk discovered in *flavor-area* after compressing twice
    The reason the junk is there is that QC-TRANSLATE-FUNCTION calls QLAPP with
    DEFAULT-CONS-AREA bound to the original area, not to the temporary area.  This
    is odd since LAP goes to great trouble to rebind the DEFAULT-CONS-AREA when
    it calls fasd or makes any permanent data.  The net effect is that the LAP
    symbol table, which can contain pointers to the temporary area, gets consed
    in the original area.  However I am afraid to change this without looking at
    it very carefully.

    This is going to have to be fixed in the distributed system, since it can cause
    "GC bugs" (i.e. nothing wrong with the GC itself, but it halts when it discovers
    a pointer to total garbage).
I verified fairly carefully that removing the offending binding does not introduce
any new bugs.  Pillory me if it breaks.

    Date: Tuesday, 28 December 1982, 22:37-EST
    From: David A. Moon <Moon at SCRC-TENEX>
		Date: Tuesday, 28 December 1982, 13:17-EST
		From: David L. Andre <DLA at SCRC-TENEX>
		I claim it is a bug that (typecase x (foo) (otherwise)) expands into
		(cond ((typep x 'foo)) (t)) rather than
		(cond ((typep x 'foo) (progn)) (t (progn))).
		Certainly whatever it expands into should return nil for any empty
		clauses.
    SELECTQ, SELECTOR, and SELECT have the same bug, which causes SIGNAL-PROCEED-CASE
    to have the same bug.  CONDITION-CASE had the same bug until you fixed TYPECASE.

    Date: Wednesday, 29 December 1982, 12:27-EST
    From: David Chapman <Zvona at MIT-OZ>
    Subject: poorly documented saga

    I tried to compile a recursive defsubst that used LetS, which looped of
    course.  So I did c-m-B and it braked.  As it was printing procede
    options, it grew the stack.  I typed c-N and it bombed to a second level
    error handler, complaining that some locative was not a frame in the
    current stack.  
Fixed and patched.

		    So I did c-M and typed in my explanation.  But I thought
    that perhaps I should put some more frames in the bug message.  So I
    System E'd and it was hanging waiting for the mail to finish.  So I
    typed c-Abort to get it to stop hanging, but that didn't do anything.
    (weird).  
It did something, in a window you weren't looking at; it returned to command
level of the mail editor.
	      
	      So I typed c-m-Abort (randomly) and it aborted back to zmacs.
    But the mail window no longer was selectable (with terminal s or the
    menu) so I can't put that backtrace in this report.
All of this is because c-M runs the mailing program in the current process,
rather than forking off a new process to do it which is evidently what you
expected (I assume because it exposed a window?).  Thus going back to the
editor (the window that got the error originally) didn't do anything, because
that process was talking to the mail window.  And then when you aborted out
of the mail window, its unwind-protect deactivated the mail window (which is
entirely proper).  Hopefully the 1983 user interface will deal with issues
like this.

    Date: Friday, 24 December 1982, 01:57-EST
    From: Kent M. Pitman <kmp at MIT-MC>
    Subject: Problems with CWH's rubout handler

    If I type Abort to a lisp listener while at the beginning of a line that has
    text on it, the text "[Abort]" over-writes the text on the line making an 
    ugly mess.
Fixed and patched.

    Date: Thursday, 23 December 1982  16:05-EST
    From: MOON at SCRC-TENEX

    m-C from NIL unbound in closure value cell tries to set nil,
    not the closure cell
Fixed and patched.

    Date: Tuesday, 21 December 1982, 22:53-EST
    From: DLA at SCRC-POINTER
    Subject: List Remaining Possibilities broken

    c-8 c-. while the current possibilities buffer was a tags search got this:
    >>Trap: The function (:METHOD ZWEI:TAG-TABLE-USER-SPECIAL-PURPOSE-BUFFER
	:LIST-POSSIBILITIES) was called with too many arguments.
Was already fixed in the source; patched.

    Date: Tuesday, 21 December 1982, 11:20-EST
    From: Alan Bawden <Alan at MIT-MC>
    Subject: ;;;-*- Mode:Lisp; Package:(FOO GLOBAL 259) -*-

    I think that it is silly that I have to write "Package:(FOO GLOBAL 259)"
    in the attribute list of a file rather than just "Package:(FOO GLOBAL)".
I agree.  I presume it is documented that the latter works.  Fixed and patched.

    Date: Tuesday, 21 December 1982, 04:57-EST
    From: Barry Margolin at MIT-Multics
    Subject: Meta-X Describe Flavor and :CASE

    The output of Meta-X Describe Flavor when listing the :CASE methods of a
    flavor is not very useful.  It justs says
	    :MESSAGE-NAME CASE CASE CASE CASE
    where the CASE's are the literal word "CASE".
No one ever told the describe routines about :case methods, whose function
specs take on a different format.  Fixed and patched.  Also si:describe-flavor.
30-Dec-82 07:32:18-EST,391;000000000000
Date: Thursday, 30 December 1982, 07:29-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.22,
ZMail 48.4, microcode 204, !, on Lisp Machine Seven:

Zwei seems to be willing to put comments right next to close parens on M-;
these days.  I don't know if this is a feature, but I don't like it.
30-Dec-82 13:16:53-EST,6187;000000000000
Date: Thursday, 30 December 1982, 13:15-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 222.110, Hardcopy 11.7, Zmail 74.21, LMFS 30.9, Tape 13.0,
microcode 977, site configuration 3, Vanilla, on Lisp Machine Twenty-two:

I'm not sure quite how I am getting this, but it seems from looking at
both source and macrocode that LIST is called by (:PROPERTY FORALL
WFF-MACROEXPANDER) with only three arguments:

22 CADR D-PDL ARG|0           ;UNIVERSAL
23 (MISC) SYMBOLP D-IGNORE
24 BR-NIL 26
25 MOVE D-RETURN ARG|0        ;UNIVERSAL
26 MOVE D-PDL ARG|0           ;UNIVERSAL
27 (MISC) CADDR D-PDL
30 POP LOCAL|0                ;RESULT
31 CADR D-PDL ARG|0           ;UNIVERSAL
32 POP LOCAL|2
33 BR-NIL 45
34 CAR D-PDL LOCAL|2
35 POP LOCAL|1                ;VAR
36 CALL D-PDL FEF|6           ;#'LIST
37 MOVE D-PDL FEF|7           ;'FORALL
40 MOVE D-PDL LOCAL|1         ;VAR
41 MOVE D-LAST LOCAL|0        ;RESULT
42 POP LOCAL|0                ;RESULT
43 SETE-CDR LOCAL|2
44 BR-NOT-NIL 34
45 MOVE D-RETURN LOCAL|0      ;RESULT

So it is a mystery why LIST should be getting a trillion defaulted
optional arguments (which we can't see because the debugger won't print
them).

>>Trap: The regular push-down list overflowed.
While in the function LIST  (PROPERTY FORALL WFF-MACROEXPANDER)  WFF-MACROEXPAND


LIST:
   --Defaulted args:--
 Arg 0: <<Error printing value>>
 Arg 1: <<Error printing value>>
 Arg 2: <<Error printing value>>
 Arg 3: <<Error printing value>>
 Arg 4: <<Error printing value>>
 Arg 5: <<Error printing value>>
 Arg 6: <<Error printing value>>
 Arg 7: <<Error printing value>>
 Arg 8: <<Error printing value>>
 Arg 9: <<Error printing value>>
 Arg 10: <<Error printing value>>
 Arg 11: <<Error printing value>>
 Arg 12: <<Error printing value>>
 Arg 13: <<Error printing value>>
 Arg 14: <<Error printing value>>
 Arg 15: <<Error printing value>>
 Arg 16: <<Error printing value>>
 Arg 17: <<Error printing value>>
 Arg 18: <<Error printing value>>
 Arg 19: <<Error printing value>>
 Arg 20: <<Error printing value>>
 Arg 21: <<Error printing value>>
 Arg 22: <<Error printing value>>
 Arg 23: <<Error printing value>>
 Arg 24: <<Error printing value>>
 Arg 25: <<Error printing value>>
 Arg 26: <<Error printing value>>
 Arg 27: <<Error printing value>>
 Arg 28: <<Error printing value>>
 Arg 29: <<Error printing value>>
 Arg 30: <<Error printing value>>
 Arg 31: <<Error printing value>>
 Arg 32: <<Error printing value>>
 Arg 33: <<Error printing value>>
 Arg 34: <<Error printing value>>
 Arg 35: <<Error printing value>>
 Arg 36: <<Error printing value>>
 Arg 37: <<Error printing value>>
 Arg 38: <<Error printing value>>
 Arg 39: <<Error printing value>>
 Arg 40: <<Error printing value>>
 Arg 41: <<Error printing value>>
 Arg 42: <<Error printing value>>
 Arg 43: <<Error printing value>>
 Arg 44: <<Error printing value>>
 Arg 45: <<Error printing value>>
 Arg 46: <<Error printing value>>
 Arg 47: <<Error printing value>>
 Arg 48: <<Error printing value>>
 Arg 49: <<Error printing value>>
 Arg 50: <<Error printing value>>
 Arg 51: <<Error printing value>>
 Arg 52: <<Error printing value>>
 Arg 53: <<Error printing value>>
 Arg 54: <<Error printing value>>
 Arg 55: <<Error printing value>>
 Arg 56: <<Error printing value>>
 Arg 57: <<Error printing value>>
 Arg 58: <<Error printing value>>
 Arg 59: <<Error printing value>>
 Arg 60: <<Error printing value>>
 Arg 61: <<Error printing value>>
 Arg 62: <<Error printing value>>


LIST:
   --Defaulted args:--
   Arg 0: <<Error printing value>>
   Arg 1: <<Error printing value>>
   Arg 2: <<Error printing value>>
   Arg 3: <<Error printing value>>
   Arg 4: <<Error printing value>>
   Arg 5: <<Error printing value>>
   Arg 6: <<Error printing value>>
   Arg 7: <<Error printing value>>
   Arg 8: <<Error printing value>>
   Arg 9: <<Error printing value>>
   Arg 10: <<Error printing value>>
   Arg 11: <<Error printing value>>
   Arg 12: <<Error printing value>>
   Arg 13: <<Error printing value>>
   Arg 14: <<Error printing value>>
   Arg 15: <<Error printing value>>
   Arg 16: <<Error printing value>>
   Arg 17: <<Error printing value>>
   Arg 18: <<Error printing value>>
   Arg 19: <<Error printing value>>
   Arg 20: <<Error printing value>>
   Arg 21: <<Error printing value>>
   Arg 22: <<Error printing value>>
   Arg 23: <<Error printing value>>
   Arg 24: <<Error printing value>>
   Arg 25: <<Error printing value>>
   Arg 26: <<Error printing value>>
   Arg 27: <<Error printing value>>
   Arg 28: <<Error printing value>>
   Arg 29: <<Error printing value>>
   Arg 30: <<Error printing value>>
   Arg 31: <<Error printing value>>
   Arg 32: <<Error printing value>>
   Arg 33: <<Error printing value>>
   Arg 34: <<Error printing value>>
   Arg 35: <<Error printing value>>
   Arg 36: <<Error printing value>>
   Arg 37: <<Error printing value>>
   Arg 38: <<Error printing value>>
   Arg 39: <<Error printing value>>
   Arg 40: <<Error printing value>>
   Arg 41: <<Error printing value>>
   Arg 42: <<Error printing value>>
   Arg 43: <<Error printing value>>
   Arg 44: <<Error printing value>>
   Arg 45: <<Error printing value>>
   Arg 46: <<Error printing value>>
   Arg 47: <<Error printing value>>
   Arg 48: <<Error printing value>>
   Arg 49: <<Error printing value>>
   Arg 50: <<Error printing value>>
   Arg 51: <<Error printing value>>
   Arg 52: <<Error printing value>>
   Arg 53: <<Error printing value>>
   Arg 54: <<Error printing value>>
   Arg 55: <<Error printing value>>
   Arg 56: <<Error printing value>>
   Arg 57: <<Error printing value>>
   Arg 58: <<Error printing value>>
   Arg 59: <<Error printing value>>
   Arg 60: <<Error printing value>>
   Arg 61: <<Error printing value>>
   Arg 62: <<Error printing value>>

(PROPERTY FORALL WFF-MACROEXPANDER):  (P.C. = 42)
   Arg 0 (UNIVERSAL): (FORALL (X Y) (EXISTS Z (AND (= X Z) (IMPLIES ** **))))

WFF-MACROEXPAND:  (P.C. = 33)
   Arg 0 (WFF): (FORALL (X Y) (EXISTS Z (AND (= X Z) (IMPLIES ** **))))
30-Dec-82 15:06:28-EST,15693;000000000000
Date: Thursday, 30 December 1982, 15:02-EST
From:  at MIT-OZ
Subject: apiary-1 crash
To: BUG-LISPM at MIT-OZ

In System 222.103, Hardcopy 11.7, Zmail 74.19, LMFS 30.8, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Apiary-2:
 
Ap-1 died and had to be cold-booted.

Machine being debugged is MIT-APIARY-1.
Bus-interface errors since last reset:
  Unibus non-existent device
Disk error: Memory-Parity  Transfer-Aborted
  disk address: UNIT 0 CYLINDER 454 HEAD 11 SECTOR 1 
  last memory address touched by disk = 1115376
Contents of disk error log in debugee's main memory 600-640:

Command 11 (Write) 
CCW-list pointer 700 (low 16 bits)
Disk address: unit 0, cylinder 435, head 15, block 13 (0 285 13 11 decimal)
Memory address: 1757420 (type bits 0)
Status: 1301020011  Header-Compare  Transfer-Aborted (or wr. ovr.)  Interrupt  Idle

Command 11 (Write) 
CCW-list pointer 700 (low 16 bits)
Disk address: unit 0, cylinder 454, head 11, block 1 (0 300 9 1 decimal)
Memory address: 1115376 (type bits 0)
Status: 122020011  Read-compare  Mem-parity  Transfer-Aborted (or wr. ovr.)  Interrupt  Idle
The running microcode is version 977.
Microcode halted via ILLOP from FATAL-DISK-ERROR
The running microcode is version 977.
Micro PC History (OPC's), oldest first:
   22601   (LOG-DISK-ERROR 16)
   22514   (DISK-COMPLETION-ERROR 2)
   22515   (DISK-COMPLETION-ERROR 3)
   22516   (DISK-COMPLETION-ERROR 4)
   22561   FATAL-DISK-ERROR
   22562   (FATAL-DISK-ERROR 1)
   00361   ILLOP
   00362   TRAP-NO-VMA
Backtrace of microcode subroutine stack:
   11  023163   (CALL-INSTANCE-CALL-FUNCTION 1)
   10  022443   (XFLIP5 23)
    7  022333   (XSBOXSZ 2)
    6  021527   (RCONS-MAYBE-EXTEND-REGION-LOOP 10)
    5  021615   (MAKE-REGION-2 2)
    4  020717   LCONS
    3  006551   (QQARY 2)
    2  007065   (XAR1A 4)
    1  000514   M-T-TO-STACK
    0  040170   QMLP
Microcode state flags: microcode interrupt
Current stack group is: <Stack Group Lisp Listener Pane 1>
Current process is: #<DTP-INSTANCE 24645472>"Lisp Listener Pane 1"
Complete backtrace follows: (type Space to stop)

26741364 #<DTP-FEF-POINTER PKG-INTERN-INTERNAL 10202042>[25] "DECLARE" 10537301 #<PACKAGE "USER" 14166562>
26741345 #<DTP-FEF-POINTER INTERN-SOFT 10201640>[107] DECLARE #<PACKAGE "USER" 14166562>
26741334 #<DTP-FEF-POINTER PKG-PREFIX 10203017>[112] DECLARE #<DTP-FEF-POINTER (INTERNAL PRINT-PNAME-STRING 0) 10160745>
26741310 #<DTP-FEF-POINTER PRINT-PNAME-STRING 10160546>[77] DECLARE T #<DTP-CLOSURE 25125311> NIL
26741273 #<DTP-FEF-POINTER PRINT-OBJECT 10157251>[211] DECLARE 1 T #<DTP-CLOSURE 25125311> (TYO)
26741260 #<DTP-FEF-POINTER PRINT-LIST 10157515>[74] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) 0 T #<DTP-CLOSURE 25125311> (TYO)
26741243 #<DTP-FEF-POINTER PRINT-OBJECT 10157251>[507] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) 0 T #<DTP-CLOSURE 25125311>
26741235 #<DTP-FEF-POINTER PRIN1 10157141>[30] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) #<DTP-CLOSURE 25125311>
26741216 #<DTP-FEF-POINTER PRINT-TRUNCATED 7763755>[56] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) 113
26741207 #<DTP-FEF-POINTER STEP-PRINT-FORM 7763263>[65] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) 0
26741171 #<DTP-FEF-POINTER STEP-CMDR 7763316>[237] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) NIL T
26741162 #<DTP-FEF-POINTER STEP-EVAL 7763616>[127] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT))
26741155 #<DTP-FEF-POINTER STEP 7763173>[54] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT))
26741147 #<DTP-FEF-POINTER EVALHOOK1 10145375>[36] (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT))
26741072 #<DTP-FEF-POINTER APPLY-LAMBDA 10145522>[1043] (NAMED-LAMBDA ((METHOD TRANSMITTABLE-TASK INSTALL) (FLAVOR TRANSMITTABLE-TASK)) (OPERATION COMMUNICATIONS-PROCESSOR NEIGHBOR) (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) (LET ((TARGET (SEND (MY (QUOTE TARGET-UID)) (QUOTE INSTALL) COMMUNICATIONS-PROCESSOR NEIGHBOR)) (COMMUNICATION (SEND (MY (QUOTE COMMUNICATION-OBJECT)) (QUOTE INSTALL) COMMUNICATIONS-PROCESSOR NEIGHBOR))) (SEND (SEND COMMUNICATIONS-PROCESSOR (QUOTE WORKER)) (QUOTE NEW-TASK) (MAKE-OBJECT (QUOTE TASK) (QUOTE TARGET) TARGET (QUOTE COMMUNICATION) COMMUNICATION)))) (INSTALL #<DTP-INSTANCE 24514445> #<DTP-INSTANCE 24515020>)
26741063 (NAMED-LAMBDA ((METHOD TRANSMITTABLE-TASK INSTALL) (FLAVOR TRANSMITTABLE-TASK)) (OPERATION COMMUNICATIONS-PROCESSOR NEIGHBOR) (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) (LET ((TARGET (SEND (MY (QUOTE TARGET-UID)) (QUOTE INSTALL) COMMUNICATIONS-PROCESSOR NEIGHBOR)) (COMMUNICATION (SEND (MY (QUOTE COMMUNICATION-OBJECT)) (QUOTE INSTALL) COMMUNICATIONS-PROCESSOR NEIGHBOR))) (SEND (SEND COMMUNICATIONS-PROCESSOR (QUOTE WORKER)) (QUOTE NEW-TASK) (MAKE-OBJECT (QUOTE TASK) (QUOTE TARGET) TARGET (QUOTE COMMUNICATION) COMMUNICATION))))[20037] INSTALL #<DTP-INSTANCE 24514445> #<DTP-INSTANCE 24515020>
26741053 #<DTP-FEF-POINTER STEP-APPLY 7763221>[37] (NAMED-LAMBDA ((METHOD TRANSMITTABLE-TASK INSTALL) (FLAVOR TRANSMITTABLE-TASK)) (OPERATION COMMUNICATIONS-PROCESSOR NEIGHBOR) (DECLARE (INSTANCE-VARIABLES TRANSMITTABLE-TASK TARGET-UID COMMUNICATION-OBJECT)) (LET ((TARGET (SEND (MY (QUOTE TARGET-UID)) (QUOTE INSTALL) COMMUNICATIONS-PROCESSOR NEIGHBOR)) (COMMUNICATION (SEND (MY (QUOTE COMMUNICATION-OBJECT)) (QUOTE INSTALL) COMMUNICATIONS-PROCESSOR NEIGHBOR))) (SEND (SEND COMMUNICATIONS-PROCESSOR (QUOTE WORKER)) (QUOTE NEW-TASK) (MAKE-OBJECT (QUOTE TASK) (QUOTE TARGET) TARGET (QUOTE COMMUNICATION) COMMUNICATION)))) (INSTALL #<DTP-INSTANCE 24514445> #<DTP-INSTANCE 24515020>)
26741024 #<DTP-FEF-POINTER *EVAL 10144707>[653] (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)
26741014 #<DTP-FEF-POINTER MULTIPLE-VALUE-LIST 10147220>[25] (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)
26740765 #<DTP-FEF-POINTER *EVAL 10144707>[615] (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST))
26740755 #<DTP-FEF-POINTER LET 10147467>[107] ((INSIDE-TRACE NIL)) ((MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))
26740724 #<DTP-FEF-POINTER *EVAL 10144707>[567] (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))
26740716 #<DTP-FEF-POINTER SETQ 10147103>[33] (VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST))))
26740665 #<DTP-FEF-POINTER *EVAL 10144707>[707] (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST))))
26740655 #<DTP-FEF-POINTER LET 10147467>[102] ((INSIDE-TRACE T)) ((TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES))
26740624 #<DTP-FEF-POINTER *EVAL 10144707>[567] (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES))
26740615 #<DTP-FEF-POINTER COND 10147776>[56] ((T (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES))))
26740564 #<DTP-FEF-POINTER *EVAL 10144707>[707] (COND ((OR INSIDE-TRACE) (RETURN-LIST (MULTIPLE-VALUE-LIST (APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (T (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES))))
26740533 #<DTP-FEF-POINTER PROG* 10150057>[156] ((VALUES ((METHOD TRANSMITTABLE-TASK INSTALL) (1+ (METHOD TRANSMITTABLE-TASK INSTALL))) (TRACE-LEVEL (1+ TRACE-LEVEL))) (COND ((OR INSIDE-TRACE) (RETURN-LIST (MULTIPLE-VALUE-LIST (APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (T (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES)))))
26740502 #<DTP-FEF-POINTER *EVAL 10144707>[707] (PROG* (VALUES ((METHOD TRANSMITTABLE-TASK INSTALL) (1+ (METHOD TRANSMITTABLE-TASK INSTALL))) (TRACE-LEVEL (1+ TRACE-LEVEL))) (COND ((OR INSIDE-TRACE) (RETURN-LIST (MULTIPLE-VALUE-LIST (APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (T (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES)))))
26740472 #<DTP-FEF-POINTER LET 10147467>[107] ((ARGLIST (ENCAPSULATION-LIST* ARGLIST))) ((PROG* (VALUES ((METHOD TRANSMITTABLE-TASK INSTALL) (1+ (METHOD TRANSMITTABLE-TASK INSTALL))) (TRACE-LEVEL (1+ TRACE-LEVEL))) (COND ((OR INSIDE-TRACE) (RETURN-LIST (MULTIPLE-VALUE-LIST (APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (T (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES))))))
26740441 #<DTP-FEF-POINTER *EVAL 10144707>[567] (ENCAPSULATION-LET ((ARGLIST (ENCAPSULATION-LIST* ARGLIST))) (PROG* (VALUES ((METHOD TRANSMITTABLE-TASK INSTALL) (1+ (METHOD TRANSMITTABLE-TASK INSTALL))) (TRACE-LEVEL (1+ TRACE-LEVEL))) (COND ((OR INSIDE-TRACE) (RETURN-LIST (MULTIPLE-VALUE-LIST (APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (T (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES))))))
26740364 #<DTP-FEF-POINTER APPLY-LAMBDA 10145522>[1050] (NAMED-LAMBDA ((METHOD TRANSMITTABLE-TASK INSTALL) (ENCAPSULATED-DEFINITION (METHOD TRANSMITTABLE-TASK INSTALL) TRACE) (FLAVOR TRANSMITTABLE-TASK)) (&EVAL &REST ARGLIST) (ENCAPSULATION-LET ((ARGLIST (ENCAPSULATION-LIST* ARGLIST))) (PROG* (VALUES ((METHOD TRANSMITTABLE-TASK INSTALL) (1+ (METHOD TRANSMITTABLE-TASK INSTALL))) (TRACE-LEVEL (1+ TRACE-LEVEL))) (COND ((OR INSIDE-TRACE) (RETURN-LIST (MULTIPLE-VALUE-LIST (APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (T (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES))))))) (INSTALL #<DTP-INSTANCE 24514445> #<DTP-INSTANCE 24515020>)
26740355 (NAMED-LAMBDA ((METHOD TRANSMITTABLE-TASK INSTALL) (ENCAPSULATED-DEFINITION (METHOD TRANSMITTABLE-TASK INSTALL) TRACE) (FLAVOR TRANSMITTABLE-TASK)) (&EVAL &REST ARGLIST) (ENCAPSULATION-LET ((ARGLIST (ENCAPSULATION-LIST* ARGLIST))) (PROG* (VALUES ((METHOD TRANSMITTABLE-TASK INSTALL) (1+ (METHOD TRANSMITTABLE-TASK INSTALL))) (TRACE-LEVEL (1+ TRACE-LEVEL))) (COND ((OR INSIDE-TRACE) (RETURN-LIST (MULTIPLE-VALUE-LIST (APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (T (LET ((INSIDE-TRACE T)) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE ENTER) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (SETQ VALUES (LET ((INSIDE-TRACE NIL)) (MULTIPLE-VALUE-LIST (TRACE-STEP-APPLY (FUNCTION (METHOD TRANSMITTABLE-TASK INSTALL)) ARGLIST)))) (TRACE-PRINT (METHOD TRANSMITTABLE-TASK INSTALL) (QUOTE EXIT) (QUOTE (METHOD TRANSMITTABLE-TASK INSTALL)) (QUOTE T) (QUOTE NIL) (QUOTE NIL)) (RETURN-LIST VALUES)))))))[11421] INSTALL #<DTP-INSTANCE 24514445> #<DTP-INSTANCE 24515020>
26740344 #<DTP-FEF-POINTER (METHOD COMMUNICATIONS-PROCESSOR TICK) 23726146>[53] TICK
26740333 #<DTP-FEF-POINTER (METHOD WORKER TICK) 23716773>[74] TICK
26740321 #<DTP-FEF-POINTER (METHOD APIARY TICK) 23716220>[44] TICK

BOUND-LOC-POINTER-NOT-LOCATIVE 26740315 #<DTP-FEF-POINTER ONE-STEP 23716506>[26]

BOUND-LOC-POINTER-NOT-LOCATIVE 26740305 #<DTP-FEF-POINTER APIARY-COMMAND-LOOP 23716417>[112]
26740256 #<DTP-FEF-POINTER *EVAL 10144707>[653] (APIARY-COMMAND-LOOP)
26740201 #<DTP-FEF-POINTER APPLY-LAMBDA 10145522>[1050] (LAMBDA NIL (APIARY-COMMAND-LOOP)) NIL
26740175 (LAMBDA NIL (APIARY-COMMAND-LOOP))[13574]
26740157 #<DTP-FEF-POINTER (METHOD PROCESS INTERRUPT) 10250356>[126] INTERRUPT (LAMBDA NIL (APIARY-COMMAND-LOOP))
26740153 #<DTP-FEF-POINTER START-APIARY 23716373>[50]
26740145 #<DTP-FEF-POINTER RESIMULATE-1 23715454>[61] NIL
26740116 #<DTP-FEF-POINTER *EVAL 10144707>[653] (RESIMULATE-1 (QUOTE NIL))
26740060 #<DTP-FEF-POINTER LISP-TOP-LEVEL1 10165623>[210] #<DTP-INSTANCE 20115370>

BIND-STACK-EXHAUSTED-DURING-USTACK-XFER 26740010 #<DTP-FEF-POINTER PROCESS-TOP-LEVEL 10250021>[125] NIL

30-Dec-82 16:41:20-EST,400;000000000000
Date: Thursday, 30 December 1982  15:56-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: LIST getting a trillion defaulted optional arguments
In-reply-to: The message of 30 Dec 1982 13:15-EST from David Chapman <Zvona at MIT-OZ>

The debugger is confused because LIST is a microcode function.  Which is
not to say that it can't be fixed.
30-Dec-82 21:26:45-EST,1686;000000000000
Date: Thursday, 30 December 1982, 21:26-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: compiler warnings lossage (bad modularity in compiler, I bet)
To: BUG-LISPM at MIT-OZ

In System 222.110, Hardcopy 11.7, Zmail 74.21, LMFS 30.9, Tape 13.0,
microcode 977, site configuration 3, Vanilla, on Lisp Machine Twenty-two:

;;; This is the symmetry antagonist demon.
(defc-germ-groveller still-symmetric? (expression relation-theory) symmetric-relation
  (let ((twiddle (symmetric-twiddle expression)))
    (cond ((and (not (true (try-to-show-using-constants twiddle relation-theory)))
		(false? (do-experiment twiddle)))
	   (!!! retract symmetry -- lose ass !!!)))))

Note that one gets warned five times that true was passed too many args,
once in a really messy way.

  For Function (PROPERTY STILL-SYMMETRIC? C-GERM-GROVELLER)
    (TRUE (TRY-TO-SHOW-USING-CONSTANTS TWIDDLE RELATION-THEORY)) -- Too many arguments
    (TRUE (TRY-TO-SHOW-USING-CONSTANTS TWIDDLE RELATION-THEORY)) -- Too many arguments
    (TRUE (TRY-TO-SHOW-USING-CONSTANTS TWIDDLE RELATION-THEORY)) -- Too many arguments
    RETRACT declared special
    SYMMETRY declared special
    -- declared special
    LOSE declared special
    ASS declared special
    !!! declared special
    ((TRY-TO-SHOW-USING-CONSTANTS (COMPILER:LOCAL-REF (TWIDDLE SYS:FEF-ARG-INTERNAL-AUX SYS:FEF-LOCAL 2 (COMPILER:LOCBLOCK 0) (SYS:FEF-INI-COMP-C NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)) (COMPILER:LOCAL-REF (RELATION-THEORY SYS:FEF-ARG-REQ SYS:FEF-LOCAL 1 (ARG 1) (SYS:FEF-INI-NONE NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)))) Extra arguments to misc-function ignored
    !!! was referenced but not defined.
  
31-Dec-82 01:51:05-EST,338;000000000000
Date: Friday, 31 December 1982, 01:49-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: What's in a SI:SITE-NAME
To: BUG-LISPM at MIT-OZ

In System 222.92, Hardcopy 11.7, Zmail 74.17, LMFS 30.7, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Apiary-1:

SI:SITE-NAME
; MIT

(EQ 'SI:SITE-NAME 'MIT)
; NIL

31-Dec-82 04:10:41-EST,514;000000000000
Date: Friday, 31 December 1982  04:11-EST
From: MOON at SCRC-TENEX
To:   Henry Lieberman <Henry at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: What's in a SI:SITE-NAME
In-reply-to: The message of 31 Dec 1982 01:49-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Friday, 31 December 1982, 01:49-EST
    From: Henry Lieberman <Henry at MIT-OZ>

    SI:SITE-NAME
    ; MIT

    (EQ 'SI:SITE-NAME 'MIT)
    ; NIL

(EQ SI:SITE-NAME 'MIT)
; T

Drink some coffee or other stimulant and try again
31-Dec-82 05:10:35-EST,616;000000000000
Date: Friday, 31 December 1982, 05:10-EST
From: Richard Mlynarik <daniel.g.mly at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.20,
Experimental ZMail 48.3, microcode 204, on Lisp Machine One:

ARGLIST does not do The Advertised Thing with regard to hairy arguments elucidated by a
(DECLARE ARGLIST mumble) -- it just returns non-informative things like ". ARGS"

Actually, this is what is stored in functions' debugging info, so is it the compiler that is
losing? RETURN-LIST info works fine.
31-Dec-82 14:23:31-EST,522;000000000000
Date: Friday, 31 December 1982, 14:21-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: qsend lossage
To: BUG-LISPM at MIT-OZ

In System 222.113, Hardcopy 11.8, Zmail 74.21, LMFS 30.11, Tape 13.0,
microcode 977, site configuration 3, Vanilla, on Lisp Machine Twenty-two:

When I do a send to OZ and it barfs, there is no obvious way to 
recover the text.  The pop-up window from which I was sending
just says, can't deliver it, type a space to lose.  And the message
doesn't make it into the converse buffer.
31-Dec-82 17:46:56-EST,861;000000000000
Date: Friday, 31 December 1982, 17:45-EST
From: Alan Bawden <Alan at MIT-MC>
Subject: color window trashed by fingering?
To: BUG-LISPM at OZ

In System 222.113, Hardcopy 11.8, Zmail 74.21, LMFS 30.11, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Two:

I created a Lisp Listener on the color monitor.  Then I fingered various
machines using Terminal-n-F (which used the B&W screen only, of course).
Then I noticed that a short row of pixels in the upper left corner of
the color screen had been trashed (it's obvious because it creates a gap
in the border around the Lisp Listener).  Using Terminal-Clear-Screen to
reset things I determined that this is repeatable behavior on this
machine right now.

Chris Stacy tells me that he has seen the same behavior on Cadr 8
although currently we seem unable to reproduce it there.
31-Dec-82 18:19:36-EST,427;000000000000
Date: Friday, 31 December 1982, 18:18-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: debugger won't flush typeout
To: BUG-LISPM at MIT-OZ

In System 222.113, Hardcopy 11.8, Zmail 74.21, LMFS 30.11, Tape 13.0,
microcode 977, site configuration 3, Vanilla, on Lisp Machine Twenty-two:

While the debugger is typing out its initial spate of gubbish,
typing abort at more breaks and typing control-abort are ignored.
31-Dec-82 18:34:26-EST,4833;000000000000
Date: Friday, 31 December 1982, 18:30-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.22,
ZMail 48.5, microcode 204, ., on Lisp Machine Thirty:


Insert your description of the circumstances here:

I entered a fresh Zmail via (ZWEI:ZMAIL).


>>TRAP 12606 (ARGTYP NUMBER M-T 1 QIGRP0)
The second argument to >, NIL, was of the wrong type.
The function expected a number.
Backtrace from the debugger:

ZWEI:REDISPLAY (P.C. = 511)

 Arg 0 (WINDOW): #<WINDOW 4572031>
   --Defaulted args:--
 Arg 1 (RECENTER-TYPE): POINT
 Arg 2 (RC1): NIL
 Arg 3 (RC2): NIL
 Arg 4 (FORCE-TO-COMPLETION-P): NIL
Local 0 (N-PLINES): 42
Local 1 (POINT): ("    ((TRY-TO-SHOW-USING-CONSTANTS (COMPILER:LOCAL-REF (TWIDDLE SYS:FEF-ARG-INTERNAL-AUX SYS:FEF-LOCAL 2 (COMPILER:LOCBLOCK 0) (SYS:FEF-INI-COMP-C NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)) (COMPILER:LOCAL-REF (RELATION-THEORY SYS:FEF-ARG-REQ SYS:FEF-LOCAL 1 (ARG 1) (SYS:FEF-INI-NONE NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)))) Extra arguments to misc-function ignored" 123 NORMAL)
Local 2 (SHEET): #<ZMAIL-WINDOW Zmail Window 1 444720 exposed>
Local 3 (DEGREE): 5
Local 4 (POINT-BLINKER): #<RECTANGULAR-BLINKER 641177>
Local 5 (INTERVAL): #<ZMAIL-INTERVAL 4571773>
Local 6 (START-BP): ("    ((TRY-TO-SHOW-USING-CONSTANTS (COMPILER:LOCAL-REF (TWIDDLE SYS:FEF-ARG-INTERNAL-AUX SYS:FEF-LOCAL 2 (COMPILER:LOCBLOCK 0) (SYS:FEF-INI-COMP-C NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)) (COMPILER:LOCAL-REF (RELATION-THEORY SYS:FEF-ARG-REQ SYS:FEF-LOCAL 1 (ARG 1) (SYS:FEF-INI-NONE NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)))) Extra arguments to misc-function ignored" 123 NORMAL)
Local 7 (NOW): 137
Local 8 (POINT-PLINE): NIL
Local 9 (LH): 17
Local 10 (POINT-LINE): "    ((TRY-TO-SHOW-USING-CONSTANTS (COMPILER:LOCAL-REF (TWIDDLE SYS:FEF-ARG-INTERNAL-AUX SYS:FEF-LOCAL 2 (COMPILER:LOCBLOCK 0) (SYS:FEF-INI-COMP-C NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)) (COMPILER:LOCAL-REF (RELATION-THEORY SYS:FEF-ARG-REQ SYS:FEF-LOCAL 1 (ARG 1) (SYS:FEF-INI-NONE NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)))) Extra arguments to misc-function ignored"
Local 11 (POINT-INDEX): 123
Local 12 (TOP-LINE): "    ((TRY-TO-SHOW-USING-CONSTANTS (COMPILER:LOCAL-REF (TWIDDLE SYS:FEF-ARG-INTERNAL-AUX SYS:FEF-LOCAL 2 (COMPILER:LOCBLOCK 0) (SYS:FEF-INI-COMP-C NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)) (COMPILER:LOCAL-REF (RELATION-THEORY SYS:FEF-ARG-REQ SYS:FEF-LOCAL 1 (ARG 1) (SYS:FEF-INI-NONE NIL) SYS:FEF-QT-DONTCARE NIL NIL NIL)))) Extra arguments to misc-function ignored"
Local 13 (TOP-INDEX): 123
Local 14 (LAST-BP): ("30-Dec-82 21:31:30-EST,554;000000000000" 0 MOVES)
Local 15 (INITIAL-DEGREE): 5
Local 16 (NEW-TOP-INDEX): NIL
Local 17 (Y): NIL
Local 18 (LINE): NIL
Local 19 (INDEX): NIL
Local 20 (P): NIL
Local 21 (LINE-LENGTH): NIL
Local 22 (LEN): NIL
Local 23 (DWID): NIL
Local 24 (CH): NIL
Local 25 (FONT): NIL
Local 26 (CWT): NIL
Local 27 (CWID): NIL
Local 28 (RWID): NIL
Local 29 (I): NIL
Local 30 (TW): NIL
Local 31 (L): NIL
Local 32 (FROM-INDEX): NIL
Local 33 (TO-INDEX): NIL
Local 34 (PLINE): NIL
Local 35 (STOP-LINE): NIL
Local 36 (FROB): NIL
Local 37 (PLINE): NIL
Local 38 (G1333): NIL
Local 39 (BL): NIL


ZWEI:REDISPLAY-ALL-WINDOWS (P.C. = 102)

   --Defaulted args:--
 Arg 0 (FORCE-TO-COMPLETION-P): NIL
 Arg 1 (SELECT-P): T
Local 0 (G1482): (#<WINDOW 4572031> #<WINDOW 4573721> #<WINDOW 4572765> #<WINDOW 4571634>)
Local 1 (WINDOW): #<WINDOW 4572031>


(METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN-WITH-SUMMARY REDISPLAY) (P.C. = 35)

 Arg 0 (OPERATION): REDISPLAY
Local 0 (REDISPLAY-SUPPRESSED): NIL


(METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN COMMAND-LOOP) (P.C. = 213)

 Arg 0 (OPERATION): COMMAND-LOOP
Local 0 (G0077): ("Return to ZMAIL command loop.")
Local 1 (G0077): ((SYS:ABORT ERROR) ("Return to ZMAIL command loop.") T ("Return to ZMAIL command loop.") ...)
Local 2 (DEGREE): 0


(METHOD ZWEI:ZMAIL-FRAME COMBINED COMMAND-LOOP) (P.C. = 147)

 Rest arg (.DAEMON-CALLER-ARGS.): (COMMAND-LOOP)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-25 26641067>
Local 2 (G9728): (ZWEI:UNKNOWN-SPECIAL-COMMAND #<DTP-FEF-POINTER ZWEI:ZMAIL-COMMAND-LOOP-UNKNOWN-SPECIAL-COMMAND 22221622>)
Local 3 (G9729): ((ZWEI:UNKNOWN-SPECIAL-COMMAND #<DTP-FEF-POINTER ZWEI:ZMAIL-COMMAND-LOOP-UNKNOWN-SPECIAL-COMMAND 22221622>))


ZWEI:ZMAIL-PROCESS-TOP-LEVEL (P.C. = 146)

 Arg 0 (WINDOW): #<ZMAIL-FRAME MAIN-ZMAIL-WINDOW 441535 exposed>
Local 0 (.CURRENT-WINDOW.): NIL


SI:PROCESS-TOP-LEVEL (P.C. = 121)

   --Defaulted args:--
 Arg 0 (IGNORE): NIL
Local 0 (G3581): ("Restart process ~A." "MAIN-ZMAIL-WINDOW")
Local 1 (G3581): ((SYS:ABORT ERROR) ("Restart process ~A." "MAIN-ZMAIL-WINDOW") T ("Restart process ~A." "MAIN-ZMAIL-WINDOW") ...)
Local 2 (IGNORE): NIL
31-Dec-82 21:44:14-EST,768;000000000000
Date: Friday, 31 December 1982, 21:43-EST
From: Jonathan D. Taft <TAFT at MIT-MC>
To: BUG-LISPM-MIT at MIT-OZ

In LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.52, ZMail 47.13,
Remote-File 21.0, Local-File 41.10, microcode 187, FS 41.10,
on Lisp Machine Eight:

I can't stomach the changing of the arguments to APROPOS. I know it was
announced, but no discussion ever preceded the change, and I have no
desire to use, nor will I bother to learn about, keywords.  If there is
a need to enhance the functionality of a widely used core function like
APROPOS then it should be done compatibly.  Usually when using APROPOS
one is in a hurry to find something, I'm not going to fumble around with
keywords, I'm already fumbling when I have to use APROPOS.
31-Dec-82 22:03:57-EST,1488;000000000000
Date: Friday, 31 December 1982, 21:59-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM-MIT at MIT-OZ
Cc: TAFT at MIT-MC
In-reply-to: The message of 31 Dec 82 21:43-EST from Jonathan D. Taft <TAFT at MIT-MC>

    Date: Friday, 31 December 1982, 21:43-EST
    From: Jonathan D. Taft <TAFT at MIT-MC>
    To: BUG-LISPM-MIT at MIT-OZ

    In LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.52, ZMail 47.13,
    Remote-File 21.0, Local-File 41.10, microcode 187, FS 41.10,
    on Lisp Machine Eight:

    I can't stomach the changing of the arguments to APROPOS. I know it was
    announced, but no discussion ever preceded the change, and I have no
    desire to use, nor will I bother to learn about, keywords.  If there is
    a need to enhance the functionality of a widely used core function like
    APROPOS then it should be done compatibly.  Usually when using APROPOS
    one is in a hurry to find something, I'm not going to fumble around with
    keywords, I'm already fumbling when I have to use APROPOS.

I agree with John; I am not a very hot typist, and it is very painful for me to
type :PACKAGE when I very badly want to find the name of a function.  I always
do the wrong thing, and then I get an error, and that makes me even more
unhappy.  Why not keyword-ify the other arguments, but make package be
non-keyword and optional?  If you're going to give the other hairy args you're
probably going to want to specify the package anyway.
31-Dec-82 22:18:59-EST,743;000000000000
Return-Path: <Margolin.Multics@MIT-MULTICS.ARPA>
Date:  31 December 1982 22:11 est
From:  Barry Margolin at MIT-MULTICS
To:  Jonathan D. Taft <TAFT at MIT-MC>
cc:  BUG-LISPM-MIT at MIT-OZ
In-Reply-To:  Message of 31 December 1982 21:49 est from Jonathan D. Taft

I agree with Taft.  Even though it was my suggestion that prompted this
change, I was hoping for an upward-compatible change; I switch
back-and-forth between MIT and Symbolics software, and user-interface
differences at this level are really confusing.  I would like to suggest
that APROPOS be returned to its previous definition, and that this
version be renamed (NAPROPOS, KAPROPOS (for Keyword-APROPOS), or even
something English like MATCH-SYMBOLS).
				barmar
 1-Jan-83 00:58:27-EST,607;000000000000
Date: Saturday, 1 January 1983, 00:53-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
Subject: randomness
To: bug-lispm at MIT-OZ

Not that it really matters, but if one types C-Q <clearscreen> very quickly in
Zwei, one gets a control-L inserted into the buffer instead of a page.  It
really, really doesn't matter, because it will get read in as a page the next
time you read the file due to character-set translation, but it's still pretty
weird.

You have to type more quickly to get it in 222 than you do in 91, but it
happens to 222, too (I really mean "in 222, too," but I couldn't resist).
 1-Jan-83 01:43:24-EST,497;000000000000
Date: Saturday, 1 January 1983, 01:42-EST
From: Richard Mlynarik <daniel.g.Mly at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.20,
Experimental ZMail 48.3, microcode 204, on Lisp Machine One:

"Trace" selected from the system menu executes in user package, regardless of what the current
package is (which is usually the one from which you're interested in tracing a function)
 1-Jan-83 11:55:58-EST,295;000000000000
Date: Saturday, 1 January 1983, 11:53-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In System 222.113, Hardcopy 11.8, Zmail 74.21, LMFS 30.11, Tape 13.0,
microcode 977, site configuration 3, Vanilla, on Lisp Machine Twenty-two:

Intern doesn't have values declared.
 1-Jan-83 15:15:39-EST,795;000000000000
Date: Saturday, 1 January 1983  15:09-EST
From: MOON at SCRC-TENEX
To:   Richard Mlynarik <daniel.g.Mly at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: Package in System Menu / Trace
In-reply-to: The message of 1 Jan 1983 01:42-EST from Richard Mlynarik <daniel.g.Mly at MIT-OZ>

    Date: Saturday, 1 January 1983, 01:42-EST
    From: Richard Mlynarik <daniel.g.Mly at MIT-OZ>

    "Trace" selected from the system menu executes in user package,
    regardless of what the current package is (which is usually the one
    from which you're interested in tracing a function)

That's because the "current" package is per-process.  If you pkg-goto
in a Lisp listener that will change the package for the Trace menu too.

Probably the m-x Trace command in the editor will help you.
 1-Jan-83 16:26:51-EST,344;000000000000
Date: Saturday, 1 January 1983, 16:22-EST
From: Bruce E. Edwards <BEE at SCRC-TENEX>
Subject: randomness
To: PGS at MIT-OZ, bug-lispm at MIT-OZ
In-reply-to: The message of 1 Jan 83 00:53-EST from Patrick Sobalvarro <PGS at MIT-OZ>

Probably what is going on here is that you are typing control-q
control-clearscreen, which inserts a .
 1-Jan-83 18:19:46-EST,454;000000000000
Date: Saturday, 1 January 1983  18:17-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   BUG-lispm at MIT-OZ
In-reply-to: The message of 1 Jan 1983 11:53-EST from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 1 January 1983, 11:53-EST
    From: David Chapman <Zvona at MIT-OZ>

    Intern doesn't have values declared.
Fixed in the source (well, I needed something to do to exercise this
newly-modified machine).
 2-Jan-83 03:48:28-EST,803;000000000000
Date: Sunday, 2 January 1983, 03:44-EST
From: Margolin at MIT-Multics
Sender: barmar at MIT-MULTICS
Subject: Meta-Break in rubout-handler
To: BUG-LISPM at OZ

In System 222.116, Hardcopy 11.5, Zmail 74.26, LMFS 30.11, Tape 13.0,
microcode 977, site configuration 3, on Zarniwoop:

If I type Meta-Break and then Resume in the rubout handler, the cursor
position is confused.  As long as I type printing characters it echoes
them below the output from Meta-Break.  As soon as I type an editing
character the cursor pops up to where it would be if the Meta-Break
Resume had never happened.  I have no doubt that this will be affected
by your planned new rubout handler, although I can imagine that the
problem would still exist (it's sort of hard to decide what the right
thing to do is).
 2-Jan-83 04:18:17-EST,1042;000000000000
Date: Sunday, 2 January 1983, 04:14-EST
From: Margolin at MIT-Multics
Sender: barmar at MIT-MULTICS
Subject: What I don't like about the new pathname system
To: BUG-LISPM at OZ

In System 222:

While it was nice that you made the pathname software work better,
especially for hosts that require special treatment, I would like to
voice my opinion about the disappearance of the capability provided by
FS:*DEFAULTS-ARE-PER-HOST*.  While it seems OK to merge filenames and
types in pathnames from different systems (using the new generic stuff,
of course), it makes little sense to me to use a directory that was
specified for one system in a pathname for another system.  Even if the
two systems have the same operating system, it is hardly useful.  What
good is mapping CCC:/usr/barmar/ to CMUL:>usr>barmar>?  Or even
EE:PS:<S.Barmar> to OZ:PS:<S.Barmar> (when my OZ directory actually is
PS:<SIPB.Barmar>).  I end up typing alot more now because I have to type
absolute pathnames every time I specify a non-default host.
 2-Jan-83 04:43:13-EST,613;000000000000
Date: Sunday, 2 January 1983, 04:42-EST
From: Margolin at MIT-Multics
Sender: barmar at MIT-MULTICS
Subject: ARPA gateways
To: BUG-LISPM at OZ

In System 222.116, Hardcopy 11.5, Zmail 74.26, LMFS 30.11, Tape 13.0,
microcode 977, site configuration 3, on Zarniwoop:

Hey guys, you should change your code that uses the ARPA contact name at
ITS sites in order to gate to the Arpanet to use the new TCP server.
There is no other difference besides the name; the TELNET and SUPDUP
protcols are the same.

This has been an unpaid political announcement of the committee to
impeach DCA-Code <whatever>.
 2-Jan-83 23:47:49-EST,554;000000000000
Date: Sunday, 2 January 1983, 23:44-EST
From: David Vinayak Wallace <Gumby at MIT-OZ>
Subject: Hand keys.
To: John Bradstreet <Bradst at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ

    Date: Monday, 20 December 1982, 02:18-EST
    From: John Bradstreet <Bradst at MIT-OZ>

      For those of us who like to write our own Terminal-whatever routines, would
    you please indicate in the terminal-help routine that teminal-i terminal-ii and
    terminal-iii are now being used for mouse buttons.  

Bind TV:USER-EXTENDED-ASYNCHRONOUS-CHARACTERS to NIL.
 3-Jan-83 04:52:57-EST,506;000000000000
Mail-From: KWH created at  3-Jan-83 04:51:10
Date: Monday, 3 January 1983  04:51-EST
Sender: KWH @ MIT-OZ
From: KWH @ MIT-MC
To:   bug-lispm @ MIT-OZ
Subject: Documentation with TV:ADD-ESCAPE-KEY


In 222.103 ......

TV:ADD-ESCAPE-KEY will not accept a list of strings as its
<documentation> argument.  This means that if you want multi-line
documentation strings you have to hack the TV:*ESCAPE-KEYS* list
yourself, which is what the "new interface" is supposed to make
unneccesary.

Ken
 3-Jan-83 11:04:06-EST,394;000000000000
Date: Monday, 3 January 1983, 11:01-EST
From: Harold G. Ancell <HGA at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, on Arthur Dent:

The function COMPILER:INTERN-THING calls the undefined function
INTERN-LIST.  This bug hasn't bit me; it was just discovered during
compilation.

					- Harold
 3-Jan-83 13:21:05-EST,1113;000000000000
Date: Monday, 3 January 1983, 13:21-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In System 222.116, Hardcopy 11.9, Zmail 74.26, LMFS 30.11, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Eight:

I often find the printout of TRACE confusing.  On enter, it types n
ENTER function two spaces arglist.  It would be much clearer as n ENTER
function dot arglist.  (ie if the arglist were not surrounded be
parens, which I tend to attach to the first argument.)  Or as n ENTER
open function dot arglist close, which would look like a call.  On exit,
it is even worse, since by symmetry, you'd expect it to be n EXIT
function values, but it is n EXIT function value.  So I tend to think
it is returning multiple values when it isn't.  Of course, when it is
actually returning multiple values, it types n EXIT function VALUES:
space space value-list.  Again, much better would be n EXIT function dot
values.  (Symmetry with this argues against the call format for entry
printing.)  

It would only take a moment to correct this, were it deemed the right
thing.
 3-Jan-83 17:29:36-EST,3265;000000000000
Date: Monday, 3 January 1983, 17:29-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Keyboard Macro Idea
To: BUG-LISPM at MIT-MC
Cc: ECC at MIT-MC, ZVONA at MIT-MC, HENRY at MIT-MC, KMP at MIT-MC

Currently the only conditional control provided in keyboard macros is
c-X Q, which gives Query-Replace-like effect. The problems with this
are several -- having only a choice of doing something or not doing 
something is one of them, not being able to do anything in the same iteration
after the query is another. I propose here another alternative I would
like to see implemented for us to experiment with. I'll call this new
command c-X R since it allows a recursive edit. Here's how it would work...

(1) Begin a keyboard macro with c-X (.
(2) Do some fixed editing that you want to always happen.
(3) Type c-X R indicating that you have something which will conditionally
    want to happen. This is done by entering a recursive edit mode. This is
    in some ways similar to c-X Q, but it is bounded better. Also, from inside
    the c-X R, he can do more c-X R's.
(4) Type End to exit the recursive edit successfully.
     If he ends successfully, he should be prompted for a string to identify the
     edit. If he answers with just a return, some gensymed name could be made up.
    Type Abort to exit the recursive edit failing. 
     This probably should query if you want to restart the recursive edit to
     make it easy to start over. If the user says no, the thing assembling the
     recursive edit should pretend the edit was never called for or put a null
     edit there or something.
(5) Having exited the recursive edit, the user can continue his keyboard macro
    doing various edits that he always wants to happen, optionally typing c-X R
    (or c-X Q) again.
(6) The user finally types c-X ) to exit the keyboard macro.

(7) Later, the user types c-X E to execute the macro and he gets to a decision
    point. Rather than just pause quietly, the system prompts with the string
    identifying which edit is pending. Let's suppose he did two c-X R edits giving
    them names "Foo" and "Bar". So it pauses like c-X Q but says "Foo?". Now he
    can type the usual assortment of c-X Q things except that Altmode should do
    something different. It puts him in a recursive edit (like c-R) and lets 
    him substitute his own editing, but it also remembers what he did and asks for
    a name for the edit. Suppose he says "Foo'" for an alternative to "Foo". Then
    the next time through the loop, rather than say "Foo?", it should present a 
    menu instead of the simple prompting style saying:
     "Foo", "Foo'", "Other recorded edit", "Edit, but don't remember", 
     "Proceed", "Exit", etc.
    I'm not clear on exactly what the most convenient format for this menu is,
    what it's placement on the screen should be, etc. This would be the thing
    that had to be played with.

This is a bit of a rough cut because it's beyond my understanding of ZWEI internals
to be able to set this up and run any tests, but I have been keeping track of the
kinds of edits that I typically wish I had Teco around to help me do, and I think
this would accomplish many of them.

Comments?
 3-Jan-83 17:51:54-EST,483;000000000000
Date: Monday, 3 January 1983, 17:51-EST
From: Richard M. Stallman <RMS at MIT-OZ>
To: bug-lispm-mit at MIT-OZ, pgs at MIT-OZ

In 91.24, APROPOS will allow a package to be specified with a second argument
in place of a keyword.  The preferred argument syntax is the same as it is now.

I suppose I could change it to make the package always a non-keyword arg
but I'm worried about thrashing the definition too much.

I will do whatever other people prefer on this, though.
 3-Jan-83 20:21:17-EST,567;000000000000
Date: Monday, 3 January 1983, 18:43-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Recentering window on m-.
To: BUG-LISPM at OZ

In System 222.116 on Cadr-22...

Why does EDIT-NEXT-FUNCTION-SPEC have to recenter the window if the definition
is already in view? I find this very distracting. I wish it would check first to
see that the definition isn't already exposed before making me lose my sense of
screen context.

I imagine this is a question of taste, however it seems a prime candidate for
creating a switch variable to control the behavior.
 3-Jan-83 21:50:09-EST,1055;000000000000
Date: Monday, 3 January 1983, 21:33-EST
From: Mark J. Dulcey <Dulcey at FC>
Subject: Two ways to send mail
To: bug-lispm at oz
In-reply-to: The message of Saturday, 12 December 1980, 07:31-EST From Barry W. Margolin

    Why are there two different ways to send mail on the Lisp Machine,
    the ZMAIL way and the ZMACS way?

I think the solution here is not to eliminate mail sending in ZMACS
(since it does, and always will, have the advantage of avoiding the
overhead of moving into ZMAIL), but to make the user interfaces more
similar.  For instance, why couldn't ZMACS use a mail parser like the
one in ZMAIL (instead of requiring that stupid line of dashes)?  The
menu of options (add In-Reply-To field, etc.) is also useful.  Having
M-X Continue work (instead of having to remember C-1 C-X M) is a nice
bit of user-friendliness.  Finally, some manner of prompting for
bug-destination names (either a ZMAIL-style menu or perhaps some sort of
ZMACS-like completion) would help.

(I know this is old business by now.  Oh well...)
 3-Jan-83 23:46:34-EST,837;000000000000
Date: Sunday, 2 January 1983, 20:34-EST
From: David C. Plummer <DCP at SCRC-POINTER>
Subject: ARPA gateways
To: Margolin at MIT-Multics, BUG-LISPM at MIT-OZ
In-reply-to: The message of 2 Jan 83 04:42-EST from Margolin at MIT-Multics

    Date: Sunday, 2 January 1983, 04:42-EST
    From: Margolin at MIT-Multics
    Subject: ARPA gateways

    Hey guys, you should change your code that uses the ARPA contact name at
    ITS sites in order to gate to the Arpanet to use the new TCP server.
    There is no other difference besides the name; the TELNET and SUPDUP
    protcols are the same.
Fixed and patched as 222.118.  This is implemented by
supdup:*chaos-arpa-contact-name* which defaults to "TCP".  If you have
occasion to want to connect to a machine that still talks NCP, you
should SETQ this variable to "ARPA".
 3-Jan-83 23:48:55-EST,1689;000000000000
Date: Monday, 3 January 1983, 10:49-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: What I don't like about the new pathname system
To: Margolin at MIT-Multics, BUG-LISPM at MIT-OZ
In-reply-to: The message of 2 Jan 83 04:14-EST from Margolin at MIT-Multics

    Date: Sunday, 2 January 1983, 04:14-EST
    From: Margolin at MIT-Multics
    While it was nice that you made the pathname software work better,
    especially for hosts that require special treatment, I would like to
    voice my opinion about the disappearance of the capability provided by
    FS:*DEFAULTS-ARE-PER-HOST*.  

We understand that this was a tradeoff.  For expert users, in
particular, who don't mind invisible defaults and the confusing effects
that they can cause, the old capabability was good, and we anticipated
complaints.  However, we feel that the long-term effect of removing this
functionality is better than that of keeping it around.  Using the new
pathname software, the behavior of defaulting, especially defaulting of
types, becomes much more predictable and understandable; this was the major
goal.

Indeed, cross-host directory defaulting often isn't useful, particularly
in the case of Multics and Unix, although it does in fact work usefully
for some cases (e.g. SCRC:<DLW> and OZ:<DLW> and f:>dlw>).  A proposed
solution for the particular case you mentioned is to have pathnames that
say "my home directory" in them, as a high-level concept, such that it
could be translated between hosts.  The problems are that there is no
native syntax for this on most systems (Unix does have one), and that it
only solves the particular case of home directories.
 3-Jan-83 23:49:56-EST,1263;000000000000
Date: Sunday, 2 January 1983  09:30-EST
From: CWH at SCRC-TENEX
To:   Margolin at MIT-Multics
Cc:   BUG-LISPM at OZ
Subject: Meta-Break in rubout-handler
In-reply-to: The message of 2 Jan 1983 03:44-EST from Margolin at MIT-Multics

    Date: Sunday, 2 January 1983, 03:44-EST
    From: Margolin at MIT-Multics
    Sender: barmar at MIT-MULTICS
    To:   BUG-LISPM at OZ
    Re:   Meta-Break in rubout-handler

    In System 222.116, Hardcopy 11.5, Zmail 74.26, LMFS 30.11, Tape 13.0,
    microcode 977, site configuration 3, on Zarniwoop:

    If I type Meta-Break and then Resume in the rubout handler, the cursor
    position is confused.  As long as I type printing characters it echoes
    them below the output from Meta-Break.  As soon as I type an editing
    character the cursor pops up to where it would be if the Meta-Break
    Resume had never happened.  I have no doubt that this will be affected
    by your planned new rubout handler, although I can imagine that the
    problem would still exist (it's sort of hard to decide what the right
    thing to do is).

This is because the debugger doesn't use the :SAVE- and
:RESTORE-RUBOUT-HANDLER-BUFFER messages the same way BREAK does.
It is on my list of things to fix.
 3-Jan-83 23:57:48-EST,1365;000000000000
Date: Monday, 3 January 1983, 23:53-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, on Lisp Machine Twenty-five:

I've been screwed more than once by zwei being confused about indentations and
levels of nesting.  Inparticular, when one puts a (comment ...)  or a
(eval-when...) around a body, I think that the body should not need to be properly
indented as far as the comment and eval-when are concerned.  Inanycase, the error
message one gets when such a thing confuses the compiler is really messy and hard
to decipher.  A beginner would have an impossible time finding the bug.  At least
it could give the user a warning that his nesting and indentation do not match.
Maybe a new zwei command M-X FIND BAD INDENTATION would be suffice.

;;;  dannnys comment
(comment
(defun assemble (prccs)
  (let ((code (mapcan #'(lambda (x) (macro-expand (get x 'soucre-code)))
		      procs))
	(symbol-table (empty-symbol-table)))
    (assign-symbols symbol-table code)
    (assembler-pass2 code symbol-table)))

(defun assign-symbols (table code)
  (let ((pc 0))
    (dolist ((exp code))
      (if (label? exp)
	  (add-symbol-to-table (label-name exp) pc table))
      (setq pc (update-pc exp pc)))))

*end-comment*)
 4-Jan-83 00:07:46-EST,473;000000000000
Mail-From: GUMBY created at  4-Jan-83 00:05:12
Date: 4 January 1983  00:05-EST (Tuesday)
Sender: GUMBY @ MIT-OZ
From: David Vinayak Wallace <GUMBY @ MIT-MC>
To:   bug-lispm @ MIT-OZ
Subject: Peek window hierarchy editor

In 91 at least,

mousing kill for a window should ask for confirmation like killing a
process does.

Also, it would be more aesthetic not to have the highlighting extend
all the way to the right margin, but jest surround the window name.
 4-Jan-83 02:02:32-EST,829;000000000000
Date: Tuesday, 4 January 1983, 02:01-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Applyhook
To: BUG-lispm at MIT-OZ

In System 222.103, Hardcopy 11.7, Zmail 74.18, LMFS 30.8, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Apiary-1:

Let's say we wanted to write an APPLYHOOK function that 
kept track of all APPLYs, or printed them out like TRACE, etc.
The APPLYHOOK function would do its printing or whatever, 
but if it then called APPLY to get the answer, subsequent APPLYs
during the evaluation of the definition of the function would not
get traced. What is needed is an APPLYHOOK function similar
in spirit to the EVALHOOK function. The APPLYHOOK function 
should take as arguments an EVALHOOK function and an APPLYHOOK
function to use for internal EVALs and APPLYs, respectively.
 4-Jan-83 02:52:49-EST,1271;000000000000
Date: Tuesday, 4 January 1983  02:49-EST
From: MOON at SCRC-TENEX
To:   Henry Lieberman <Henry at MIT-OZ>
Cc:   BUG-lispm at MIT-OZ, doc-changes at SCRC-TENEX
Subject: Applyhook
In-reply-to: The message of 4 Jan 1983 02:01-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Tuesday, 4 January 1983, 02:01-EST
    From: Henry Lieberman <Henry at MIT-OZ>

    Let's say we wanted to write an APPLYHOOK function that 
    kept track of all APPLYs, or printed them out like TRACE, etc.
    The APPLYHOOK function would do its printing or whatever, 
    but if it then called APPLY to get the answer, subsequent APPLYs
    during the evaluation of the definition of the function would not
    get traced. What is needed is an APPLYHOOK function similar
    in spirit to the EVALHOOK function. The APPLYHOOK function 
    should take as arguments an EVALHOOK function and an APPLYHOOK
    function to use for internal EVALs and APPLYs, respectively.

I guess you're right.  I put the following in the source; it will be
global.  Presumably you won't have any problems defining it yourself
in the meantime.

(DEFUN APPLYHOOK (FUNCTION ARGS EVALHOOK APPLYHOOK)
  (BIND (FUNCTION-CELL-LOCATION 'EVAL) (FUNCTION EVALHOOK1))
  (APPLY FUNCTION ARGS))

 4-Jan-83 11:46:16-EST,4425;000000000000
Return-Path: <Margolin.Multics@MIT-MULTICS.ARPA>
Date:  4 January 1983 11:29 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: What I don't like about the new pathname system
To:  Daniel L. Weinreb <dlw at SCRC-TENEX>
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 3 January 1983 23:44 est from Daniel L. Weinreb

    Date:  Monday, 3 January 1983, 10:49-EST
    From:  Daniel L. Weinreb <dlw at SCRC-TENEX>
    Subject:  What I don't like about the new pathname system

        Date: Sunday, 2 January 1983, 04:14-EST
        From: Margolin at MIT-Multics
        While it was nice that you made the pathname software work better,
        especially for hosts that require special treatment, I would like to
        voice my opinion about the disappearance of the capability provided by
        FS:*DEFAULTS-ARE-PER-HOST*.

    We understand that this was a tradeoff.  For expert users, in
    particular, who don't mind invisible defaults and the confusing effects
    that they can cause, the old capabability was good, and we anticipated
    complaints.  However, we feel that the long-term effect of removing this
    functionality is better than that of keeping it around.  Using the new
    pathname software, the behavior of defaulting, especially defaulting of
    types, becomes much more predictable and understandable; this was the major
    goal.

    Indeed, cross-host directory defaulting often isn't useful, particularly
    in the case of Multics and Unix, although it does in fact work usefully
    for some cases (e.g. SCRC:<DLW> and OZ:<DLW> and f:>dlw>).  A proposed
    solution for the particular case you mentioned is to have pathnames that
    say "my home directory" in them, as a high-level concept, such that it
    could be translated between hosts.  The problems are that there is no
    native syntax for this on most systems (Unix does have one), and that it
    only solves the particular case of home directories.

What you are telling me is that it works for you, because you are lucky
enough to have top-level directories everywhere.  Well, the rest of us
are not so lucky; I don't even have a top-level dir on ITS!

I have solved the case for my homedir on my login machine using logical
hosts.  Unfortunately, I always forget to use it because I am much more
used to the native syntax of the host.

Have you thought of this: now that you have the capability to translate
pathname syntax, you can punt parsing the native syntax of the host.
Just design your own pathname syntax and translate it to the hot syntax
when talking to the file server.  This seems like the logical extension
to these changes. :-)

Back to seriousness.  It seems to me that cross-host directory
defaulting generally only works for people with top-level directories or
with accounts on closely related machines (my homedirs on the various
Multics systems I use happen to have the same pathname, although it was
probably forced to be that way).  However, I think that users who find
the new mechanism useful would not even notice its disappearance.  Why?
Because their working dirs on the various systems will usually be the
ones that would be gotten by the current merging scheme.

Another point I would like to make is that I do not think that user
confusion should be a major issue in this stuff.  Are you expecting that
many of the eventual owners of Lisp Machines are going to have lots
several file computers?  I think that it is generally rare, probably
mostly limited to University environments (well, I suppose you expect
lots of them to end up in university environments, so I will grant you
this).  And, even in such environments, how many of the naive users
would be using multiple hosts?  Consider the AI Lab: how many of them
have their files anywhere else but OZ (I don't really know, so tell me
if I'm on the wrong track).

So, since I feel that the users who are served by simplifying the system
will not benefit, and the users who find the new facility useful will
not really notice the lack of it, I feel that it should at least make
things convenient for those of us who use several unrelated filesystems.
Since it is an option (FS:*DEFAULTS ARE-PER-HOST*) noone who doesn't
want it even has to know about it, so I think that any arguments about
making the pathname facility easier to use are red herrings.
 4-Jan-83 17:02:07-EST,595;000000000000
Date: Tuesday, 4 January 1983, 17:02-EST
From: Mark J. Dulcey <RMS.G.Dulcey at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, !, on Lisp Machine Four:

The hair in SET-CURRENT-BAND which tries to prevent the user from
setting up the system incompatibly loses if the current microload band
is empty!  (I actually saw this happen to someone...)

Until this is fixed, folks are advised to fill up all the MCR bands on
their Lisp Machines.  (SI:COPY-DISK-PARTITION can be used to do this
quickly.)
 4-Jan-83 17:52:52-EST,797;000000000000
Date: Tuesday, 4 January 1983, 17:50-EST
From: ???   <tatarta at MIT-MC>
Subject: display-lossenged-string
To: BUG-LISPM at OZ

In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Twenty:

I wanted to print a lozenged string today, and did
(send terminal-io ':display-lozenged-string "foo")
and I lost.  So I did (apropos 'lozenge), and got nothing I hadn't typed in
myself.  I finally looked through the window code and found either it was
always spelled "losenged-string", or some wit changed it to "losenged-string"
(lozenged strings are such lossenge).

Since I rely on apropos a lot to find things, and my memory doesn't usually
throw in the spelling errors, I am unhappy about this.  Can this be fixed?
 4-Jan-83 22:12:01-EST,574;000000000000
Date: Tuesday, 4 January 1983, 22:10-EST
From: David Vinayak Wallace <Gumby at MIT-OZ>
Subject: losing choose-variable-values
To: BUG-LISPM at MIT-OZ

In zmail in Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0,
System 91.23, ZMail 48.5, microcode 204, on Lisp Machine Apiary-1:

If you're in a pop-up choose-variable-values window and you get a send
(I have mine set to :pop-up), then the choose-variable-values window is
de-exposed. When the qsend message it gone, the wholine shows "choose,"
but there is no menu. I have to use PEEK to get it back.

 5-Jan-83 00:07:01-EST,1560;000000000000
Date: Wednesday, 5 January 1983, 00:05-EST
From: Howard D. Trachtman <HDT at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, on Lisp Machine Twenty-five:


Insert your description of the circumstances here:


>>ERROR: Attempt to receive from #<CHAOS Connection to MIT-OZ NAME  4344634>, which got a LOS: Connection does not exist at this end
Backtrace from the debugger:

CHAOS:GET-NEXT-PKT (P.C. = 143)

 Arg 0 (CONN): #<CHAOS Connection to MIT-OZ NAME  4344634>
 Arg 1 (NO-HANG-P): NIL
   --Defaulted args:--
 Arg 2 (WHOSTATE): "Chaosnet Input"
Local 0 (PKT): NIL


(METHOD CHAOS:BASIC-INPUT-STREAM GET-NEXT-INPUT-PKT) (P.C. = 63)

 Arg 0 (OPERATION): GET-NEXT-INPUT-PKT
 Arg 1 (NO-HANG-P): NIL
Local 0 (OP): 200


Additional information supplied with call:
 Expecting 3 values

(METHOD CHAOS:CHARACTER-INPUT-STREAM-MIXIN NEXT-INPUT-BUFFER) (P.C. = 34)

 Arg 0 (OPERATION): NEXT-INPUT-BUFFER
 Arg 1 (NO-HANG-P): NIL


Additional information supplied with call:
 Expecting 3 values

(METHOD SI:BASIC-BUFFERED-INPUT-STREAM SETUP-NEXT-INPUT-BUFFER) (P.C. = 45)

 Arg 0 (OPERATION): SETUP-NEXT-INPUT-BUFFER
   --Defaulted args:--
 Arg 1 (NO-HANG-P): NIL


(METHOD CHAOS:INPUT-CHARACTER-STREAM COMBINED SETUP-NEXT-INPUT-BUFFER) (P.C. = 57)

 Rest arg (.DAEMON-CALLER-ARGS.): (SETUP-NEXT-INPUT-BUFFER)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-4 634120>
Local 2 (.VAL1.): NIL
Local 3 (.VAL2.): NIL
Local 4 (.VAL3.): NIL
 5-Jan-83 01:29:43-EST,446;000000000000
Date: Wednesday, 5 January 1983, 01:25-EST
From: Howard D. Trachtman <HDT at MIT-OZ>
To: BUG-Lispm at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, on Lisp Machine Twenty-five:


Just a minor inconvenience:  In telnet, with MC up, and me able
to get to cmu-10a, a failure to connect to a host such as score says
Host MIT-MC not responding when it should be host SU-SCORE.
 5-Jan-83 05:31:53-EST,1012;000000000000
Date: Wednesday, 5 January 1983, 05:31-EST
From: David C. Plummer <DCP at SCRC-TENEX>
To: HDT at MIT-OZ, BUG-Lispm at MIT-OZ
In-reply-to: The message of 5 Jan 83 01:25-EST from Howard D. Trachtman <HDT at MIT-OZ>

    Date: Wednesday, 5 January 1983, 01:25-EST
    From: Howard D. Trachtman <HDT at MIT-OZ>
    To: BUG-Lispm at MIT-OZ

    In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
    ZMail 48.5, microcode 204, on Lisp Machine Twenty-five:

    Just a minor inconvenience:  In telnet, with MC up, and me able
    to get to cmu-10a, a failure to connect to a host such as score says
    Host MIT-MC not responding when it should be host SU-SCORE.

[Sorry about that last spaz.]  Also, the LispM is not trying to connect
directly to SU-SCORE, it is trying to connect to MC.  It is indeed MC
that is not responding, and this has to do with the implementation of
the ARPA gateway which I think exhibits the correct behavior given the
protocols available to us.
 5-Jan-83 10:30:53-EST,479;000000000000
Date: Wednesday, 5 January 1983, 10:26-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Documentation with TV:ADD-ESCAPE-KEY
To: KWH at MIT-MC, bug-lispm at MIT-OZ
In-reply-to: The message of 3 Jan 83 04:51-EST from KWH at MIT-MC

    Date: Monday, 3 January 1983  04:51-EST
    From: KWH @ MIT-MC
    In 222.103 ......

    TV:ADD-ESCAPE-KEY will not accept a list of strings as its
    <documentation> argument.
Fixed in the source, to be patched shortly.
 5-Jan-83 11:07:00-EST,483;000000000000
Date: Wednesday, 5 January 1983, 11:03-EST
From: zippy at MIT-OZ
Subject: Chaos background blowout
To: BUG-LISPM at MIT-OZ

In System 222.57, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Twenty-four:

Cold booted machine claimed that chaos background got an error.

>>Trap: The word #<DTP-FREE 15> was read from location 15 (in RESIDENT-SYMBOL-AREA).
While in the function NIL


NIL:
 Local -1: NIL


NIL:
 5-Jan-83 11:36:11-EST,658;000000000000
Date: Wednesday, 5 January 1983, 11:35-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: possible new m-X Source Compare feature
To: BUG-LISPM at OZ

In System 222.116 ... on Lisp Machine Twenty-two:

It occurs to me that Source Compare should probably output its data to
a *Source-Compare* buffer so that if the person missed something the first
time, he can just select that buffer to peruse the info a second time 
rather than do the comparison over again. Because of the "F" and "B" 
prompting, it's rather tricky to get c-X Altmode to work correctly on
Source Compare; I often don't remember which order I typed the two specs
in.

--kmp
 5-Jan-83 12:28:04-EST,1120;000000000000
Mail-From: GUMBY created at  5-Jan-83 12:22:19
Date: 5 January 1983  12:22-EST (Wednesday)
Sender: GUMBY @ MIT-OZ
From: David Vinayak Wallace <GUMBY @ MIT-MC>
To:   Kent M. Pitman <kmp @ MIT-MC>
Cc:   BUG-LISPM @ OZ
Subject: possible new m-X Source Compare feature
In-reply-to: The message of 5 Jan 1983 11:35-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Wednesday, 5 January 1983, 11:35-EST
    From: Kent M. Pitman <kmp at MIT-MC>
    To:   BUG-LISPM at OZ
    Re:   possible new m-X Source Compare feature

    In System 222.116 ... on Lisp Machine Twenty-two:

    It occurs to me that Source Compare should probably output its data to
    a *Source-Compare* buffer so that if the person missed something the first
    time, he can just select that buffer to peruse the info a second time 
    rather than do the comparison over again. Because of the "F" and "B" 
    prompting, it's rather tricky to get c-X Altmode to work correctly on
    Source Compare; I often don't remember which order I typed the two specs
    in.

    --kmp
Doesn't Brand S have Execute command into buffer?
 5-Jan-83 13:36:36-EST,1271;000000000000
Date: Wednesday, 5 January 1983, 13:37-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Why doesn't BASE vary like PACKAGE in ZWEI?
To: BUG-LISPM at OZ

In System 222.116 ... on Lisp Machine Twenty-two:

Why doesn't m-X Set Base assign the BASE and/or IBASE in the scope of the editor
just as m-X Set Package assigns PACKAGE for the scope of the editor? Why is
BASE and/or IBASE not assigned dynamically as I move between different buffers
with different Base attributes? It seems like the behavior of these control 
variables should be symmetric (BASE/IBASE should behave like PACKAGE or vice
versa) in this respect and should change from one buffer to another. 
eg, from a breakpoint in a base-8 buffer, with the cursor before 
 (defun f (x) (+ x 10)), 
doing
 (read zwei:(rest-of-interval-stream (point)))
yields (defun f (x) (+ x 10.)) not (+ x 8)
because my global setting of base was 10. This particular
symptom would be fixed by some correct handling of READ as in my
previous note, but it seems to me that if the person is editing
something in an odd base, his mind is probably in that mode (and
often pieces of code will be visible on his screen in that base)
and the behavior in ZWEI breakpoints should try to be nice to
him.

--kmp
 5-Jan-83 13:46:32-EST,2897;000000000000
Date: Wednesday, 5 January 1983, 12:17-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Re: What I don't like about the new pathname system
To: Barry Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 4 Jan 83 11:29-EST from Barry Margolin at MIT-MULTICS

    Date:  4 January 1983 11:29 est
    From:  Barry Margolin at MIT-MULTICS
			  It seems to me that cross-host directory
    defaulting generally only works for people with top-level directories or
    with accounts on closely related machines (my homedirs on the various
    Multics systems I use happen to have the same pathname, although it was
    probably forced to be that way).  
The point is that it has to do SOMEthing.  Indeed, the present behavior
is only sometimes useful, but any other defaulting scheme without using
"per host" would be less useful.

    Another point I would like to make is that I do not think that user
    confusion should be a major issue in this stuff.  
I completely disagree.  The main problem with the previous systems was
that they were too confusing.  The way defaulting worked was so complicated
that you could never predict it, so it was unusable.
						      Are you expecting that
    many of the eventual owners of Lisp Machines are going to have lots
    several file computers?  
Well, if they don't, then they are hardly going to care about
defaults-are-per-host.  At some sites all of the Lisp Machines have
file systems on them, so cross-host defauling is a real issue, and at
such sites it's likely that they'll set up the hierarchies similarly on
the various machines.
			     I think that it is generally rare, probably
    mostly limited to University environments (well, I suppose you expect
    lots of them to end up in university environments, so I will grant you
    this).  
Actually, industrial researchers have the same kind of environment.  So
currently it's not that rare.  Most sites at least have one time-sharing
system in addition to the Lisp Machines, and use the file systems of both.
	    And, even in such environments, how many of the naive users
    would be using multiple hosts?  Consider the AI Lab: how many of them
    have their files anywhere else but OZ (I don't really know, so tell me
    if I'm on the wrong track).
As far as I can tell, lots of people are using lots of different machines
as file computers.  The other 20s, and MC, are definitely used by people.

    Since it is an option (FS:*DEFAULTS ARE-PER-HOST*) noone who doesn't
    want it even has to know about it, so I think that any arguments about
    making the pathname facility easier to use are red herrings.
The documentation would have to say "by the way, if you use this then
everything else about defaulting won't work the way out documentation
says it will", which is essentially unacceptable.
 5-Jan-83 17:44:26-EST,7979;000000000000
Date: Wednesday, 5 January 1983, 17:43-EST
From: The Lisp Machine <T at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, on Lisp Machine Twenty-five:


Insert your description of the circumstances here:


>>TRAP 7722 (ARGTYP ARRAY M-A NIL GAHDR) ->  ARRAY-ACTIVE-LENGTH 
Some argument to ARRAY-ACTIVE-LENGTH, T, was of the wrong type.
The function expected an array.
Backtrace from the debugger:

TV:WHO-LINE-STRING (P.C. = 114)

 Arg 0 (WHO-SHEET): #<WHO-LINE-SHEET Who Line Sheet 2 2140345 exposed>
 Arg 1 (NEW-STRING): T


TV:WHO-LINE-USER-OR-PROCESS (P.C. = 35)

 Arg 0 (WHO-SHEET): #<WHO-LINE-SHEET Who Line Sheet 2 2140345 exposed>


(METHOD TV:WHO-LINE-SHEET UPDATE) (P.C. = 30)

 Arg 0 (OPERATION): UPDATE


(METHOD TV:WHO-LINE-SHEET COMBINED UPDATE) (P.C. = 105)

 Rest arg (.DAEMON-CALLER-ARGS.): (UPDATE)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-10 7314566>


TV:WHO-LINE-UPDATE (P.C. = 75)

   --Defaulted args:--
 Arg 0 (RUN-STATE-ONLY-P): NIL
Local 0 (RL): 77777777
Local 1 (G6834): (#<WHO-LINE-SHEET Who Line Sheet 2 2140345 exposed> #<WHO-LINE-SHEET Who Line Sheet 1 2140421 exposed>)
Local 2 (I): #<WHO-LINE-SHEET Who Line Sheet 2 2140345 exposed>


TV:WHO-LINE-FILE-SHEET-COMPUTE-CURRENT-STREAM (P.C. = 117)

 Arg 0 (UPDATE-P): T
Local 0 (I): 0
Local 1 (OUTPUT-WINNER): NIL
Local 2 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<L.ISPELL>WORD.LISP" 17752614>
Local 3 (DIRECTION): INPUT


(METHOD TV:WHO-LINE-FILE-SHEET ADD-STREAM) (P.C. = 44)

 Arg 0 (OPERATION): ADD-STREAM
 Arg 1 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<L.ISPELL>WORD.LISP" 17752614>
   --Defaulted args:--
 Arg 2 (UPDATE-P): T


(METHOD SI:FILE-DATA-STREAM-MIXIN AFTER INIT) (P.C. = 31)

 Arg 0 (OPERATION): INIT
 Arg 1 (IGNORE): #<DTP-LOCATIVE 177727>


(METHOD FS:FILE-INPUT-CHARACTER-STREAM COMBINED INIT) (P.C. = 100)

 Rest arg (.DAEMON-CALLER-ARGS.): (INIT #<DTP-LOCATIVE 177727>)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-4 7146032>
Local 2 (.VAL1.): NIL
Local 3 (.VAL2.): NIL
Local 4 (.VAL3.): NIL


INSTANTIATE-FLAVOR (P.C. = 361)

 Arg 0 (FLAVOR-NAME): FS:FILE-INPUT-CHARACTER-STREAM
 Arg 1 (INIT-PLIST): #<DTP-LOCATIVE 177727>
 Arg 2 (SEND-INIT-MESSAGE-P): T
   --Defaulted args:--
 Arg 3 (RETURN-UNHANDLED-KEYWORDS-P): NIL
 Arg 4 (AREA-TO-CONS-INSTANCE-IN): NIL
Local 0 (FL): #<FLAVOR FS:FILE-INPUT-CHARACTER-STREAM 7145271>
Local 1 (UNHANDLED-KEYWORDS): NIL
Local 2 (INSTANCE): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<L.ISPELL>WORD.LISP" 17752614>
Local 3 (VARS): (CHAOS:INPUT-PACKET STATUS FS:DATA-CONNECTION FS:FILE-HANDLE ...)
Local 4 (V): NIL
Local 5 (I): 16
Local 6 (VAR-KEYWORDS): (NIL STATUS DATA-CONNECTION NIL ...)
Local 7 (REMAINING-KEYWORDS): NIL
Local 8 (PL): NIL
Local 9 (INDEX): 7
Local 10 (G7122): NIL
Local 11 (D): (1 (QUOTE OPEN))


MAKE-INSTANCE (P.C. = 24)

 Arg 0 (FLAVOR-NAME): FS:FILE-INPUT-CHARACTER-STREAM
 Rest arg (INIT-OPTIONS): (HOST-UNIT #<HOST-UNIT 4344734> DATA-CONNECTION (#<CHAOS Connection 17740432> "I1045" "O1046" 11704416 ...) ...)


FS:OPEN-CHAOS (P.C. = 703)

 Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
 Arg 1 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP"
 Arg 2 (OPTIONS): (ERROR NIL CHARACTERS DEFAULT)
Local 0 (MODE): READ
Local 1 (TYPE): CHARACTER
Local 2 (ERROR-P): NIL
Local 3 (TEMPORARY-P): NIL
Local 4 (DELETED-P): NIL
Local 5 (RAW-P): NIL
Local 6 (SUPER-IMAGE-P): NIL
Local 7 (BYTE-SIZE): DEFAULT
Local 8 (PRESERVE-DATES-P): NIL
Local 9 (DISALLOW-ACCESS-ERROR): NIL
Local 10 (HOST-UNIT): #<HOST-UNIT 4344734>
Local 11 (DATA-CONN): (#<CHAOS Connection 17740432> "I1045" "O1046" 11704416 ...)
Local 12 (PKT): #<CHAOS Packet 16502735>
Local 13 (SUCCESS): T
Local 14 (STRING): "uld be improved, and use keywords for arguments.
  (LET ((L (LENGTH LIST-O"
Local 15 (DIRECTION): INPUT
Local 16 (KEY): CHARACTERS
Local 17 (VAL): DEFAULT
Local 18 (G1208): (PROPERTY-LIST (TRUENAME #FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP.23" AUTHOR "HDT" ...) PATHNAME #FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP")
Local 19 (ERROR-OBJECT): (#<CHAOS Connection 17740432> "I1045" "O1046" 11704416 ...)
Local 20 (G1221): (#FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP")
Local 21 (ERROR-OBJECT): NIL
Local 22 (*SELECTQ-ITEM*): NIL
Local 23 (PROPERTIES): (TRUENAME #FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP.23" AUTHOR "HDT" ...)
Local 24 (IGNORE): NIL


(METHOD FS:CHAOS-PATHNAME OPEN) (P.C. = 30)

 Arg 0 (OPERATION): OPEN
 Arg 1 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP"
 Rest arg (OPTIONS): (ERROR NIL CHARACTERS DEFAULT)


OPEN (P.C. = 223)

 Arg 0 (FILENAME): #FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP"
 Rest arg (KEYWORD-ARGS): (ERROR NIL CHARACTERS DEFAULT)
Local 1 (G2599): (FS:FILE-ERROR SI:CONDITION-CASE-THROW G2598)
Local 2 (G2600): ((FS:FILE-ERROR SI:CONDITION-CASE-THROW G2598) (FS:FILE-ERROR SI:CONDITION-CASE-THROW G1652))
Local 3 (ERROR-OBJECT): NIL
Local 4 (*SELECTQ-ITEM*): NIL
Local 5 (KEYL): NIL
Local 6 (KEY): NIL
Local 7 (CHARACTERS): NIL
Local 8 (DIRECTION): NIL
Local 9 (BYTE-SIZE): NIL
Local 10 (ERROR-P): NIL
Local 11 (ERROR-P-SPECD): NIL
Local 12 (DELETED-P): NIL
Local 13 (TEMPORARY-P): NIL
Local 14 (RAW-P): NIL
Local 15 (SUPER-IMAGE-P): NIL


LOAD (P.C. = 206)

 Arg 0 (FILENAME): "src:<l.ispell>word"
   --Defaulted args:--
 Arg 1 (PKG): NIL
 Arg 2 (NONEXISTENT-OK-FLAG): NIL
 Arg 3 (DONT-SET-DEFAULT-P): NIL
 Arg 4 (NO-MSG-P): NIL
Local 0 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP"
Local 1 (OPEN-PATHNAME): #FS:TOPS20-PATHNAME "OZ:SRC:<L.ISPELL>WORD.LISP"
Local 2 (STREAM): #FS:FILE-LOOKUP-ERROR PROPERTY-LIST (PATHNAME #FS:LOGICAL-PATHNAME "SYS: SITE; <L.ISPELL>WORD LISP >" OPERATION OPEN) CONDITION-NAMES (FS:FILE-NOT-FOUND FS:FILE-LOOKUP-ERROR FS:FILE-OPERATION-FAILURE FS:FILE-ERROR ...) FORMAT-STRING "File not found for SYS: SITE; <L.ISPELL>WORD LISP >" FORMAT-ARGS (#FS:LOGICAL-PATHNAME "SYS: SITE; <L.ISPELL>WORD LISP >" OPEN) PATHNAME #FS:LOGICAL-PATHNAME "SYS: SITE; <L.ISPELL>WORD LISP >" OPERATION OPEN
Local 3 (G1653): (FS:FILE-ERROR SI:CONDITION-CASE-THROW G1652)
Local 4 (G1654): ((FS:FILE-ERROR SI:CONDITION-CASE-THROW G1652))
Local 5 (ERROR-OBJECT): #FS:FILE-LOOKUP-ERROR PROPERTY-LIST (PATHNAME #FS:LOGICAL-PATHNAME "SYS: SITE; <L.ISPELL>WORD LISP >" OPERATION OPEN) CONDITION-NAMES (FS:FILE-NOT-FOUND FS:FILE-LOOKUP-ERROR FS:FILE-OPERATION-FAILURE FS:FILE-ERROR ...) FORMAT-STRING "File not found for SYS: SITE; <L.ISPELL>WORD LISP >" FORMAT-ARGS (#FS:LOGICAL-PATHNAME "SYS: SITE; <L.ISPELL>WORD LISP >" OPEN) PATHNAME #FS:LOGICAL-PATHNAME "SYS: SITE; <L.ISPELL>WORD LISP >" OPERATION OPEN
Local 6 (*SELECTQ-ITEM*): (FS:FILE-NOT-FOUND FS:FILE-LOOKUP-ERROR FS:FILE-OPERATION-FAILURE FS:FILE-ERROR ...)


Additional information supplied with call:
 Values to be collected for MULTIPLE-VALUE-LIST

SI:*EVAL (P.C. = 1110)

 Arg 0 (FORM): (LOAD "src:<l.ispell>word")
Local 0 (ARGNUM): 1
Local 1 (FCTN): #<DTP-FEF-POINTER LOAD 22205121>
Local 2 (ARG-DESC): 105
Local 3 (NUM-ARGS): 1
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10 (ITEM): NIL
Local 11 (*SELECTQ-ITEM*): NIL


SI:LISP-TOP-LEVEL1 (P.C. = 254)

 Arg 0 (TERMINAL-IO): #<LISP-LISTENER Lisp Listener 1 440000 exposed>
Local 0 (OLD-PACKAGE): #<Package USER 10112147>
Local 1 (W-PKG): #<Package USER 10112147>
Local 2 (THROW-FLAG): NIL
Local 3 (G1885): ("Return to top level in ~A." "Lisp Listener 1")
Local 4 (G1885): ((SYS:ABORT ERROR) ("Return to top level in ~A." "Lisp Listener 1") T ("Return to top level in ~A." "Lisp Listener 1") ...)
Local 5 (G1887): NIL
Local 6 (VALUE): T


SI:LISP-TOP-LEVEL (P.C. = 35)

 5-Jan-83 22:13:05-EST,936;000000000000
Date: Wednesday, 5 January 1983, 22:12-EST
From: Apprentice for KMP <KBE at MIT-OZ>
Subject: More Teco-inspired ideas for ZWEI
To: BUG-LISPM at MIT-OZ

In System 222.116 ... Lisp Machine Twenty-two:

There should be something like Teco's 1,mmQuery Replace which allows
rather than a second string, a set of editing commands. I suggest:

m-X Query Edit

which would search for the given string. The first time it stopped
on that string, it would enter a recursive edit and remember what the
user types. On subsequent iterations, it would repeat what happened the 
first time if the user typed Space to confirm.

In a manner similar to my c-X ( extension suggested a few days ago,
this m-X Query Edit might also allow the user to type Altmode on subsequent
iterations and the user could give an alternate command string. Thereafter,
a menu of some sort would be provided rather than simple character command.

-kmp
 5-Jan-83 23:53:17-EST,328;000000000000
Date: Wednesday, 5 January 1983, 23:54-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: possible new m-X Source Compare feature
To: kmp at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 5 Jan 83 11:35-EST from Kent M. Pitman <kmp at MIT-MC>


Try meta-X Execute Command Into Buffer with the Source Compare.
 6-Jan-83 00:03:00-EST,633;000000000000
Mail-From: KMP created at  5-Jan-83 23:57:42
Date:  5 Jan 1983 2357-EST
From: KMP at MIT-OZ
Subject: Source Compare
To: BUG-LISPM at MIT-OZ

For those many who suggested m-X Execute Command Into Buffer, I realize that
I could do that sort of thing, but the point is that often one does a Source
Compare and doesn't realize until after the fact that s/he will want to look
back on what the output of the previous screen was. At the very least, it 
should have the style of --More-- that m-X View File has so that you can
type <Overstrike> (yuck; too bad it's not called backspace) to see the previous
screenful.
-------
 6-Jan-83 05:55:37-EST,2150;000000000000
Date: Thursday, 6 January 1983, 05:55-EST
From: The Lisp Machine <LISPM at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, on Lisp Machine Apiary-1:


Insert your description of the circumstances here:

I got a 91.15 band from some other machine, then did a load-patches followed by a 
(si:full-gc).  Here is what I got:


>>TRAP 7722 (ARGTYP ARRAY M-A NIL GAHDR) ->  ARRAY-LEADER 
Some argument to ARRAY-LEADER, T, was of the wrong type.
The function expected an array.
Backtrace from the debugger:

GETHASH (P.C. = 61)

 Arg 0 (KEY): NIL
 Arg 1 (HASH-TABLE): T
Local 0 (HASH-FUNCTION): NIL
Local 1 (COMPARE-FUNCTION): NIL
Local 2 (HASH-CODE): NIL
Local 3 (G7415): NIL
Local 4 (P): NIL
Local 5 (BLEN): NIL


SI:LINEARIZE-FLAVOR-PLISTS (P.C. = 64)

Local 0 (G1494): (ZWEI:UNIX-MAIL-FILE-MIXIN ZWEI:TENEX-INBOX-BUFFER ZWEI:TENEX-MAIL-FILE-BUFFER ZWEI:TENEX-MAIL-FILE-MIXIN ...)
Local 1 (NAME): ZWEI:UNIX-MAIL-FILE-MIXIN
Local 2 (FL): #<FLAVOR ZWEI:UNIX-MAIL-FILE-MIXIN 17375554>


SI:*EVAL (P.C. = 1110)

 Arg 0 (FORM): (SI:LINEARIZE-FLAVOR-PLISTS)
Local 0 (ARGNUM): 0
Local 1 (FCTN): #<DTP-FEF-POINTER SI:LINEARIZE-FLAVOR-PLISTS 2756706>
Local 2 (ARG-DESC): 0
Local 3 (NUM-ARGS): 0
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10 (ITEM): NIL
Local 11 (*SELECTQ-ITEM*): NIL


INITIALIZATIONS (P.C. = 137)

 Arg 0 (LIST-NAME): SI:FULL-GC-INITIALIZATION-LIST
   --Defaulted args:--
 Arg 1 (REDO-FLAG): NIL
 Arg 2 (FLAG): T
Local 0 (INIT): (("Linearize flavor plists" ** NIL #FS:LOGICAL-PATHNAME "SYS: PATCH; SYSTEM-91-12  "))
Local 1 (G2445): ("Abort the ~A initialization." "Linearize flavor plists")
Local 2 (G2445): ((ERROR) ("Abort the ~A initialization." "Linearize flavor plists") T ("Abort the ~A initialization." "Linearize flavor plists") ...)


SI:FULL-GC (P.C. = 210)

   --Defaulted args:--
 Arg 0 (STATIC-AREAS-TOO): NIL
Local 0 (AREA): 377
Local 1 (STATIC-AREAS): NIL
 6-Jan-83 10:29:24-EST,1489;000000000000
Date: Thursday, 6 January 1983, 10:15-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Why doesn't BASE vary like PACKAGE in ZWEI?
To: kmp at MIT-MC, BUG-LISPM at OZ
In-reply-to: The message of 5 Jan 83 13:37-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Wednesday, 5 January 1983, 13:37-EST
    From: Kent M. Pitman <kmp at MIT-MC>
									 Why is
    BASE and/or IBASE not assigned dynamically as I move between different buffers
    with different Base attributes? 

Actually, it is.  The problem is that the meaning of the "Base"
attribute is "When we compile or evaluate from the buffer, use this
number as the value of IBASE".  The "Base" attribute actually doesn't
have anything to do with BASE at all.  Zwei binds IBASE to the value,
and only when it is reading from the buffer.

		       it seems to me that if the person is editing
    something in an odd base, his mind is probably in that mode (and
    often pieces of code will be visible on his screen in that base)

In other words, to get the behavior you expect, each editor should have
BASE and IBASE as special instance variables (in the same place that
PACKAGE is a special instance variable), and the meaning of the "Base"
attribute should be changed to set both BASE and IBASE instead of
binding IBASE during certain times.

Several people have had the same expectation about the behavior and have
asked for this change.  It seems pretty reasonable to me.  Any
objections?
 6-Jan-83 14:13:59-EST,529;000000000000
Date: Thursday, 6 January 1983, 13:54-EST
From: Clark M. Baker <cmb at SCRC-VIXEN>
Subject: Why doesn't BASE vary like PACKAGE in ZWEI?
To: Daniel L. Weinreb <dlw at SCRC-TENEX>, kmp at MIT-MC,
    BUG-LISPM at OZ
In-reply-to: The message of 6 Jan 83 10:15-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

If BASE and IBASE are goint to be treated like PACKAGE (a good idea, I
think), then maybe they should be displayed in the mode line at the
bottom of the screen as well.  There is certainly room on the L
machines.
 6-Jan-83 14:53:39-EST,1255;000000000000
Date: Thursday, 6 January 1983, 14:51-EST
From: Mark J. Dulcey <Dulcey at FC>
Subject: display-lossenged-string
To: tatarta at MIT-MC, BUG-LISPM at OZ
In-reply-to: The message of 4 Jan 83 17:50-EST from ??? <tatarta at MIT-MC>


Cc: RMS.G.Dulcey at OZ

    Date: Tuesday, 4 January 1983, 17:50-EST
    From: ???   <tatarta at MIT-MC>
    Subject: display-lossenged-string
    To: BUG-LISPM at OZ

    In System 222.76, Hardcopy 11.5, Zmail 74.12, LMFS 30.6, Tape 13.0,
    microcode 977, site configuration 3, on Lisp Machine Twenty:

    I wanted to print a lozenged string today, and did
    (send terminal-io ':display-lozenged-string "foo")
    and I lost.  So I did (apropos 'lozenge), and got nothing I hadn't typed in
    myself.  I finally looked through the window code and found either it was
    always spelled "losenged-string", or some wit changed it to "losenged-string"
    (lozenged strings are such lossenge).

    Since I rely on apropos a lot to find things, and my memory doesn't usually
    throw in the spelling errors, I am unhappy about this.  Can this be fixed?

You're right, this lozes.  I'll fix it everywhere I can find it.  The
old names will be left for a while so nothing will be broken.
 6-Jan-83 14:59:19-EST,668;000000000000
Date: Thursday, 6 January 1983, 14:52-EST
From: Phillip G. Apley <PGA at MIT-MC>
Subject: Discrepancies
To: bug-oz at MIT-MC, bug-lispm at MIT-MC

Doing a terminal-1-F on this LISPM and doing f/l on OZ yields different responses.
This machine claimed to be logged on as BOXERR, while f/l on OZ claimed it was logged
in as JLMK, along with cadrs 16, and 18.  Terminal-1-f claims that JLMK is logged on
only cadr 16, and that someone else is on cadr 18.  I didn't do Terminal-1-f before 
I logged on cadr-20, so I'm not sure what that said.  Now that I've logged in on 
cadr20, both programs show me logged on here, but the other discrepancy still
exists.

 6-Jan-83 16:20:44-EST,472;000000000000
Date: Thursday, 6 January 1983, 16:12-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Discrepancies
To: PGA at MIT-MC, bug-oz at MIT-MC, bug-lispm at MIT-MC
In-reply-to: The message of 6 Jan 83 14:52-EST from Phillip G. Apley <PGA at MIT-MC>

This is probably because the "f" program on TOPS-20 gives information
that is only up-to-date as of the last time a certain daemon program
runs.  It takes a while for TOPS-20 "f" to catch up when things change.
 6-Jan-83 16:43:19-EST,597;000000000000
Date: Thursday, 6 January 1983, 16:41-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: APPLYHOOK on methods
To: BUG-LISPM at MIT-OZ

In System 222.108, Hardcopy 11.7, Zmail 74.19, LMFS 30.9, Tape 13.0,
microcode 977, site configuration 3, on Lisp Machine Eight:

APPLYHOOK does not seem to hook methods of instances of flavors.
If you do (SEND AN-INSTANCE ':A-METHOD) with the APPLYHOOK on, 
you catch the SEND but not the invocation of the method. It is necessary
to hook on method invocations so you can step through methods, just like
you can step through DEFUNed definitions.
 6-Jan-83 17:32:21-EST,539;000000000000
Date: Thursday, 6 January 1983, 16:15-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Why doesn't BASE vary like PACKAGE in ZWEI?
To: cmb at SCRC-VIXEN, kmp at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 6 Jan 83 13:54-EST from Clark M. Baker <cmb at SCRC-VIXEN>

I don't really think that displaying base and ibase in the status line
is a good idea, for two reasons: there isn't enough room on the
A-machine, and after we have Common Lisp it will almost always be ten
and therefore be pretty uninteresting.
 6-Jan-83 17:33:23-EST,869;000000000000
Date: Thursday, 6 January 1983  16:51-EST
From: CWH at SCRC-TENEX
To:   KMP at MIT-OZ
Cc:   BUG-LISPM at MIT-OZ
Subject: Source Compare
In-reply-to: The message of 5 Jan 1983  23:57-EST from KMP at MIT-OZ

    Date: Wednesday, 5 January 1983  23:57-EST
    From: KMP at MIT-OZ
    To:   BUG-LISPM at MIT-OZ
    Re:   Source Compare

    For those many who suggested m-X Execute Command Into Buffer, I realize that
    I could do that sort of thing, but the point is that often one does a Source
    Compare and doesn't realize until after the fact that s/he will want to look
    back on what the output of the previous screen was.

c-X c-D and other commands which take a long time to produce their
typeout were changed to do this.  Source Compare should certainly have
been changed also.  I think it is just a matter of someone getting the
time.
 6-Jan-83 18:03:53-EST,1404;000000000000
Date: Thursday, 6 January 1983  18:05-EST
From: MOON at SCRC-TENEX
To:   Henry Lieberman <Henry at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: APPLYHOOK on methods
In-reply-to: The message of 6 Jan 1983 16:41-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Thursday, 6 January 1983, 16:41-EST
    From: Henry Lieberman <Henry at MIT-OZ>
    Subject: APPLYHOOK on methods
    To: BUG-LISPM at MIT-OZ

    In System 222.108, Hardcopy 11.7, Zmail 74.19, LMFS 30.9, Tape 13.0,
    microcode 977, site configuration 3, on Lisp Machine Eight:

    APPLYHOOK does not seem to hook methods of instances of flavors.
    If you do (SEND AN-INSTANCE ':A-METHOD) with the APPLYHOOK on, 
    you catch the SEND but not the invocation of the method. It is necessary
    to hook on method invocations so you can step through methods, just like
    you can step through DEFUNed definitions.
APPLYHOOK, as documented, only affects the behavior of EVAL.  It catches
the call by EVAL of the function after it has evaluated the arguments.
It does not catch random usage of APPLY, FUNCALL, and LEXPR-FUNCALL throughout
the system.  I asked you whether this was okay before implementing it and
you said yes.

Thus APPLYHOOK has no effect on the LEXPR-FUNCALL or whatever is used inside
the SEND function.  (Just like it has no effect on the APPLY inside MAPCAR
and the FUNCALL inside PRINT).
 7-Jan-83 01:03:22-EST,1066;000000000000
Date: Friday, 7 January 1983, 01:01-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Editor Top Level
To: BUG-LISPM at OZ

In ZWEI in System 222.116,...

I was in an error handler caused by typing Altmode for completion
of an OZ file when OZ was down. There were two occurrences of
"Editor Top Level" in the choices. s-C and Abort would get one,
s-D would get the other. I typed c-Z which I assume got the Abort
one. It returned me to my minibuffer. I retried the experiment and
asked for s-D and it took me past the minibuffer back to normal buffer
editing.

The one for minibuffer should be annotated as such for clarity, since
it's very confusing to see two seemingly identical choices. Also, though
it may be implemented as such in ZWEI internals, I do not think of the
minibuffer as in any way a "toplevel" thing and would never have guessed
that that's where I'd exit back to when I typed that, so this is all the
more reason one should say "Minibuffer Top Level" and the other should say
"Main Editor Top Level" or something like that.
 7-Jan-83 01:09:30-EST,2192;000000000000
Date: Friday, 7 January 1983, 00:51-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Problems with <<Error printing error message>>
To: BUG-LISPM at OZ

In System 222.116,...

I'm getting an error

>>Error: The object <<Error printing error message>>

I have a couple of bugs to note here and some suggestions to make.
The first is that if I get a recursive error and then c-Z back to 
level one, I get

Back to Error: The object
>>Error: The object <<Error printing error message>>

and then am left in a recursive error break. If I type Abort, I return up and
just fall back down. There is now way to return to the original error break.
Further, if I type c-G's, I get pushed downwards again and again since it tries
to reprint the error message. It should really be more careful about this case.

Secondly, the error is caused by something in trying to make a window that has
a bug in its init plist... I suspect the thing it is trying to print is a flavor
that is not yet fully initialized and hence errs on display somehow. This is very
bad. Flavors which are not fully initialized should perhaps have a special
print method that says that this is their case, so that they don't err this way.
I wish I could get my hands on the object to debug it but anything I do to touch
it seems to give me this message.

Thirdly, I wish the error came out more like:

>>Error: The object <<Error printing object>> does not handle the message :FOO.

This would help greatly since I'm nearly sure I know the object but I'm not sure
what message it's losing on and I bet the message would print just fine if it
got that far. Hence, I think the error object should go to some effort where it's
probably now doing

 (format t "The object ~S doesn't handle the message ~S" obj msg)

to do

 (format t "The object ~A doesn't handle the message ~S"
	(or (catch-error (format nil "~S" obj) nil) "<<Error printing object>>")
	msg)

... perhaps some special format op could be worked out to do this or perhaps
FORMAT itself could be sensitive to some switch which allowed it to conditionally
catch-error certain PRINT statements in cases like this.

--kmp
 7-Jan-83 01:38:22-EST,3325;000000000000
Date: Friday, 7 January 1983, 01:37-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, on Lisp Machine Twenty-five:
Subject: Zmail file lossage


Insert your description of the circumstances here:

The last time I had selected the ZMail window I clicked on get new mail
and read the rest of my messages.  When I went into the editor, Zmail seemed
to be writing my babyl file out (I didn't do anything that could have caused
this that I know of).  The next time I selected Zmail, a background window
got an error:

>>ERROR: Attempt to write to #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HDT>HDT.BABYL" 27244641>, which is in illegal state CLOSED
Backtrace from the debugger:

(METHOD FS:FILE-OUTPUT-STREAM-MIXIN SEND-OUTPUT-BUFFER) (P.C. = 132)

 Arg 0 (OPERATION): SEND-OUTPUT-BUFFER
 Rest arg (ARGS): ("" 488.)


(METHOD FS:FILE-OUTPUT-CHARACTER-STREAM COMBINED SEND-OUTPUT-BUFFER) (P.C. = 52)

 Rest arg (.DAEMON-CALLER-ARGS.): (SEND-OUTPUT-BUFFER "" 488.)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-4. 7150356>


(METHOD SI:BASIC-BUFFERED-OUTPUT-STREAM SEND-CURRENT-OUTPUT-BUFFER) (P.C. = 37)

 Arg 0 (OPERATION): SEND-CURRENT-OUTPUT-BUFFER


(METHOD SI:BUFFERED-OUTPUT-STREAM-MIXIN STRING-OUT) (P.C. = 112)

 Arg 0 (OPERATION): STRING-OUT
 Arg 1 (STRING): "    Date:  3 January 1983 1842-EST (Monday)"
 Arg 2 (START): 29.
 Arg 3 (END): 43.
Local 0 (AMT): 29.


(METHOD SI:LINE-OUTPUT-STREAM-MIXIN LINE-OUT) (P.C. = 46)

 Arg 0 (OPERATION): LINE-OUT
 Arg 1 (LINE): "    Date:  3 January 1983 1842-EST (Monday)"
   --Defaulted args:--
 Arg 2 (START): 0.
 Arg 3 (END): NIL


ZWEI:ZMAIL-BACKGROUND-SAVE-FILE (P.C. = 141)

 Arg 0 (REQUEST): (ZWEI:ZMAIL-BACKGROUND-SAVE-FILE #<BABYL-MAIL-FILE-BUFFER "OZ:PS:<HDT>HDT.BABYL" 20404750> #<DTP-CLOSURE 26144162>)
Local 0 (ZMAIL-BUFFER): #<BABYL-MAIL-FILE-BUFFER "OZ:PS:<HDT>HDT.BABYL" 20404750>
Local 1 (SUCCESS): NIL
Local 2 (G0405): #<DTP-LOCATIVE 20404757>
Local 3 (G0406): T
Local 4 (I): 12.
Local 5 (INTERVAL-STREAM): #<DTP-CLOSURE 26144162>
Local 6 (FILE-STREAM): #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HDT>HDT.BABYL" 27244641>
Local 7 (LINE): "    Date:  3 January 1983 1842-EST (Monday)"
Local 8 (EOF): NIL


ZWEI:ZMAIL-BACKGROUND-PERFORM (P.C. = 70)

 Arg 0 (CURRENT-REQUEST): (ZWEI:ZMAIL-BACKGROUND-SAVE-FILE #<BABYL-MAIL-FILE-BUFFER "OZ:PS:<HDT>HDT.BABYL" 20404750> #<DTP-CLOSURE 26144162>)
 Arg 1 (PRELOAD-FILE): NIL
Local 0 (COMMAND-BUFFER-POINTER): #<DTP-LOCATIVE 4212273>
Local 1 (PRELOAD-QUEUE-POINTER): #<DTP-LOCATIVE 4212275>
Local 2 (PRELOAD-FILENAME): NIL


ZWEI:ZMAIL-BACKGROUND (P.C. = 155)

 Arg 0 (IO-BUFFER): #<IO-BUFFER 4571672: empty, State: NIL>
Local 0 (LOCK): #<DTP-LOCATIVE 4212274>
Local 1 (COMMAND-BUFFER-POINTER): #<DTP-LOCATIVE 4212273>
Local 2 (PRELOAD-QUEUE-POINTER): #<DTP-LOCATIVE 4212275>
Local 3 (PRELOAD-FILE): NIL
Local 4 (CURRENT-REQUEST): (ZWEI:ZMAIL-BACKGROUND-SAVE-FILE #<BABYL-MAIL-FILE-BUFFER "OZ:PS:<HDT>HDT.BABYL" 20404750> #<DTP-CLOSURE 26144162>)
Local 5 (CURRENT-STATE): ((ZWEI:ZMAIL-BACKGROUND-SAVE-FILE #<BABYL-MAIL-FILE-BUFFER "OZ:PS:<HDT>HDT.BABYL" 20404750> #<DTP-CLOSURE 26144162>))
Local 6 (PRELOAD-STATE): NIL
 7-Jan-83 02:38:04-EST,2893;000000000000
Date: Friday, 7 January 1983, 02:34-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.24,
ZMail 48.5, microcode 204, ., on Lisp Machine Seven:


Insert your description of the circumstances here:

I got an error in a background process.  When I did Terminal-0-S, I got this
error in process KBD ESC.

>>TRAP 7722 (ARGTYP ARRAY M-A NIL GAHDR) ->  ARRAY-LEADER 
Some argument to ARRAY-LEADER, CHAOS:RECEIVE-ANY-FUNCTION, was of the wrong type.
The function expected an array.
Backtrace from the debugger:

SYMEVAL-IN-STACK-GROUP (P.C. = 72)

 Arg 0 (SYM): TV:PROCESS-IS-IN-ERROR
 Arg 1 (SG): CHAOS:RECEIVE-ANY-FUNCTION
   --Defaulted args:--
 Arg 2 (FRAME): NIL
 Arg 3 (AS-IF-CURRENT): NIL
Local 0 (VCL): NIL
Local 1 (SP): NIL
Local 2 (SPP): NIL
Local 3 (I): NIL
Local 4 (P): NIL
Local 5 (*SELECTQ-ITEM*): NIL
Local 6 (LOCATION): NIL
Local 7 (VAL): NIL
Local 8 (INNERMOST-BINDING): NIL
Local 9 (FRAMEP): NIL


SI:PROCESS-IS-IN-ERROR-P (P.C. = 32)

 Arg 0 (PROCESS): #<SIMPLE-PROCESS Chaos Receiver 4202443>
Local 0 (SG): CHAOS:RECEIVE-ANY-FUNCTION


Additional information supplied with call:
 Expecting 2 values

TV:FIND-PROCESS-IN-ERROR (P.C. = 40)

Local 0 (WINDOW): NIL
Local 1 (SG): NIL
Local 2 (G2727): ((#<SIMPLE-PROCESS Chaos Receiver 4202443> #<DTP-FEF-POINTER ** 2020541> NIL 43 ...) (#<PROCESS Keyboard 4202243> #<DTP-FEF-POINTER ** 22212236> NIL 36 ...) (#<PROCESS Mouse 4203512> #<DTP-FEF-POINTER ** 12424740> NIL 36 ...) (#<PROCESS Chaos Background 4203542> #<DTP-FEF-POINTER ** 2020176> ** 31 ...) ...)
Local 3 (P): #<SIMPLE-PROCESS Chaos Receiver 4202443>


TV:FIND-INTERESTING-WINDOW (P.C. = 25)

Local 0 (W): NIL


TV:SELECT-INTERESTING-WINDOW (P.C. = 35)

Local 0 (INTERESTING): NIL
Local 1 (NOTIFICATION-WINDOW): NIL


TV:KBD-SWITCH-WINDOWS (P.C. = 76)

 Arg 0 (ARG): 0
Local 0 (TEM): NIL
Local 1 (.QUEUE-LEFT.): NIL
Local 2 (I): NIL
Local 3 (G1671): NIL
Local 4 (E): NIL


(INTERNAL TV:KBD-ESC 0) (P.C. = 46)

 Arg 0 (FCN): TV:KBD-SWITCH-WINDOWS
 Arg 1 (ARG): 0
Local 0 (G1626): 27641463


Additional information supplied with call:
 SYS:ADI-FEXPR-CALL

SI:PROCESS-RUN-FUNCTION-INTERNAL (P.C. = 102)

 Arg 0 (RESTART-ON-RESET): NIL
 Arg 1 (FUNCTION): #<DTP-FEF-POINTER (INTERNAL TV:KBD-ESC 0) 12434274>
 Rest arg (ARGS): (TV:KBD-SWITCH-WINDOWS 0)
Local 1 (G3595): ("Terminate and free process ~A." "KBD ESC")
Local 2 (G3595): ((SYS:ABORT ERROR) ("Terminate and free process ~A." "KBD ESC") T ("Terminate and free process ~A." "KBD ESC") ...)


SI:PROCESS-TOP-LEVEL (P.C. = 121)

 Arg 0 (IGNORE): NIL
Local 0 (G3581): ("Restart process ~A." "KBD ESC")
Local 1 (G3581): ((SYS:ABORT ERROR) ("Restart process ~A." "KBD ESC") T ("Restart process ~A." "KBD ESC") ...)
Local 2 (IGNORE): NIL
 7-Jan-83 02:38:32-EST,496;000000000000
Date: Friday, 7 January 1983, 02:38-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.24,
ZMail 48.5, microcode 204, ., on Lisp Machine Seven:

At top level in a lisp listener, I tried to evaluate something that was in
another package, and got package-dwim'ed.  I responded with a G, and got the
message

Back to <<error while trying to print that>>

and then my form was properly evaluated.
 7-Jan-83 12:00:26-EST,1531;000000000000
Date: Friday, 7 January 1983, 11:58-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.26,
ZMail 48.5, microcode 204, !, on Lisp Machine Eighteen:


After connection table full, I tried aborting out of the error.
Later on,...

>>ERROR: #<CHAOS Packet 25740467> in SEND-PKTS list for incorrect CONN
CONN #<CHAOS Connection to SCRC-RETRIEVER FINGER 26006370>, (PKT-SOURCE-CONN PKT) NIL
Backtrace from the debugger:

RETRANSMISSION (P.C. = 132)

 Arg 0 (CONN): #<CHAOS Connection to SCRC-RETRIEVER FINGER 26006370>
Local 0 (TIME): 2743475.
Local 1 (PKT): #<CHAOS Packet 25740467>


MAPC (P.C. = 60)

 Arg 0 (FCN): RETRANSMISSION
 Rest arg (LISTS): ((#<CHAOS Connection to SCRC-SAMOYED FINGER 26006156> #<CHAOS Connection to SCRC-RETRIEVER FINGER 26006370> #<CHAOS Connection to SCRC-POINTER FINGER 26006475> #<CHAOS Connection to SCRC-HUSKY FINGER 21775425> ...))
Local 1 (LP): NIL
Local 2 (RES): (#<CHAOS Connection to MIT-OZ FILE 1 21226472>)


BACKGROUND (P.C. = 137)

Local 0 (LAST-WAKEUP-TIME): 2743389.
Local 1 (LAST-PROBE-TIME): 2743352.
Local 2 (TASKS): NIL
Local 3 (TIME): 2743473.
Local 4 (I): 64.
Local 5 (G1765): 64.


SI:PROCESS-TOP-LEVEL (P.C. = 121)

 Arg 0 (IGNORE): NIL
Local 0 (G3581): ("Restart process ~A." "Chaos Background")
Local 1 (G3581): ((ABORT ERROR) ("Restart process ~A." "Chaos Background") T ("Restart process ~A." "Chaos Background") ...)
Local 2 (IGNORE): NIL
 7-Jan-83 19:00:26-EST,657;000000000000
Date: 7 January 1983 16:30-EST
From: Glenn S. Burke <GSB at MIT-ML>
Subject: [Re: Problems with <<Error printing error message>>]
To: BUG-LISPM at MIT-OZ
cc: kmp at MIT-MC


The best way to deal with error-printing-object would be to have a
global flag checked and dealt with at the print-object (write, in
common-lisp?) level.  This way the kludge is not limited to format,
and one will get the proper surrounding context if the losing object
is contained in datastructure.  This way one might get a printout like

The argument list is (1 2 3 4 #<type-name erroneously-printed 123456>).

with a uniform convention for printing bad objects.
 7-Jan-83 20:10:51-EST,765;000000000000
Date: Friday, 7 January 1983, 20:08-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Question about usage of window margin flavors
To: info-lispm-mit at MIT-OZ

How many of you use the flavors 
BORDERS-MIXIN, ESSENTIAL-LABEL-MIXIN, BASIC-SCROLL-BAR
or MARGIN-REGION-MIXIN directly in your own code?

Anyone who uses the flavor WINDOW is using some of these
indirectly, but what I am asking is whether you actually have
those names appearing in definitions of your own window flavors.

I am considering an incompatible change to the way these flavors
interact with each other, to simplify it, which would require
trivial but incompatible changes every place they are DIRECTLY used,
and I want to find out how much this would impact the users.
 8-Jan-83 10:11:46-EST,1122;000000000000
Date: Saturday, 8 January 1983, 10:08-EST
From: Michael A. Patton <MAP at MIT-MC>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, microcode 204, ., on Lisp Machine Twenty-four:

I have been repeatedly getting a message about "first packet lost" when
trying to save from the editor (all night).  The files semm to have not
been munged at all and once it gives me the message once it seems to get
it every time it tries to save, thus saving infinitely until I type
C-M-Abort (or other suitable response).  I have half-a-dozen copies of
most of the saves I did [which I am about to go cleanup before leaving].
I ran comparisons with the source compare utility and it said the only
changes made anywhere were the ones I made.  It doesn't ever actually
seem to have lost any data when it reports the error, but it reports it
most every time I do a save after not having accessed the net for a LONG
time.

Hope there is some useful information in here somewhere, if you have any
further questions I will be glad to try and answer them.

Mike
 8-Jan-83 12:21:32-EST,2056;000000000000
Date: Saturday, 8 January 1983, 12:19-EST
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, DAEDALUS 1.8, Nodes 1.2, microcode 204,
on Lisp Machine Two:


Insert your description of the circumstances here:

I can't cc:cc-set-current-band of cadr8 after trying to get system 91
to boot on it.  Foo.  This backtrace should tell the whole story.


>>TRAP 3847 (SUBSCRIPT-OOB M-Q M-S (NIL XAREF-RECHECK-INDEX) M-A)
The subscript 13 for "Trident T-300" was out of range in AR-1.
Backtrace from the debugger:

WRITE-STRING (P.C. = 51)

 Arg 0 (NCHARS): 32
 Arg 1 (*ADDR): 2056
 Arg 2 (STRING): |Trident T-300|
Local 0 (ADDR): 2059
Local 1 (PNAME): "Trident T-300"
Local 2 (N): 13
Local 3 (WORD): 48
Local 4 (SHIFT): 8
Local 5 (CHAR): 48


WRITE-LABEL (P.C. = 303)

Local 0 (B): 2048
Local 1 (I): NIL
Local 2 (ADDR): NIL
Local 3 (J): NIL


CC-SET-CURRENT-BAND (P.C. = 77)

 Arg 0 (PART): LOD5


Additional information supplied with call:
 Values to be collected for MULTIPLE-VALUE-LIST

SI:*EVAL (P.C. = 1110)

 Arg 0 (FORM): (CC-SET-CURRENT-BAND 5)
Local 0 (ARGNUM): 1
Local 1 (FCTN): #<DTP-FEF-POINTER CC-SET-CURRENT-BAND 22072740>
Local 2 (ARG-DESC): 65
Local 3 (NUM-ARGS): 1
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10 (ITEM): NIL
Local 11 (*SELECTQ-ITEM*): NIL


SI:LISP-TOP-LEVEL1 (P.C. = 254)

 Arg 0 (TERMINAL-IO): #<LISP-LISTENER Lisp Listener 1 440000 exposed>
Local 0 (OLD-PACKAGE): #<Package CADR 10211517>
Local 1 (W-PKG): #<Package CADR 10211517>
Local 2 (THROW-FLAG): ("Return to top level in ~A." "Lisp Listener 1")
Local 3 (G1885): ("Return to top level in ~A." "Lisp Listener 1")
Local 4 (G1885): ((ABORT ERROR) ("Return to top level in ~A." "Lisp Listener 1") T ("Return to top level in ~A." "Lisp Listener 1") ...)
Local 5 (G1887): NIL
Local 6 (VALUE): 13
 8-Jan-83 15:52:34-EST,626;000000000000
Date: Saturday, 8 January 1983  15:53-EST
From: MOON at SCRC-TENEX
To:   bug-lispm-mit at oz
Subject: silly messages about first-packet-lost bug

Please send messages such as the enclosed (an example of dozens)
to some other mailing list.  Please.

Date: Saturday, 8 January 1983, 04:27-EST
From: Michael A. Patton <MAP at MIT-MC>
To: BUG-FILE-SERVER at MIT-OZ

In FILE-SERVER in Remote-File 22.0, LMFILE-Remote 23.1,
MIT-Specific 16.0, System 91.23, ZMail 48.5, microcode 204, .,
on Lisp Machine Twenty-four:


The first-packet-lost bug seems to have happened
to MAP saving file MC: AI: STILES; QTTBL 113.
 8-Jan-83 16:51:01-EST,540;000000000000
Date: Saturday, 8 January 1983  16:46-EST
From: MOON at SCRC-TENEX
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   BUG-LISPM at OZ
Subject: Editor Top Level twice
In-reply-to: The message of 7 Jan 1983 01:01-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Friday, 7 January 1983, 01:01-EST
    From: Kent M. Pitman <kmp at MIT-MC>

    I was in an error handler caused by typing Altmode for completion
    of an OZ file when OZ was down. There were two occurrences of
    "Editor Top Level" in the choices.
Fixed in the source.
 8-Jan-83 18:36:25-EST,1592;000000000000
Date: Saturday, 8 January 1983, 18:36-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Message of 0:13 sent successfully via MIT-MC
To: BUG-LISPM at OZ
Cc: KMP at MIT-OZ

In System 222.123,...

I don't like the message that I get when mail gets queued. I find it too
vague to be useful.

The time the message sent is not a good way of naming the message 
because:

  I often don't know what time it is now, much less what time
  it was when I sent the message. Even saying "Message you ended 
  30 seconds ago ..." would be more helpful.

  The id is not even unique. I can send more than one message per minute.

  The format used for the time is crufty. I dislike 24 hour time.
  I would prefer am/pm format. Somehow "0:13" is amazingly hard for
  me to parse at all.

The information is often simply redundant. If I've only got one *Mail-n* 
buffer, odds are that saying just "Message sent successfully via MIT-MC"
would be plenty good as an acknowledgement.

If an id were needed, I'd prefer one of
 Message (to BUG-LISPM@OZ, ...) sent successfully via MIT-MC
 Message (re Message of 0:13 sent successfully via MIT-MC) sent successfully via MIT-MC
 Message of buffer *Mail-3* sent successfully via MIT-MC

I suspect the current behavior has something to do with maybe things getting
queued for later delivery if the initial mail attempt fails. If so, then 
perhaps only the later acknowledgements should have this info and the earlier
ones should say something simpler. eg,
 Message of 12:13am to KMP at MIT-MC sent successfully via MIT-OZ

--kmp
 8-Jan-83 18:46:27-EST,809;000000000000
Date: Saturday, 8 January 1983  18:44-EST
From: DCP at SCRC-TENEX
To:   Daniel Weise <Daniel at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 8 Jan 1983 12:19-EST from Daniel Weise <Daniel at MIT-OZ>

The backtrace does not tell the story.  I saw this bug when WGD
dragged me away from fixing the microwave.  In the function
WRITE-STRING, in the inner loop, you want to change NCHARS to
(string-length pname) and you probably want to change the 200 in the T
clause of the cond to 0 (unless somebody changed the padding character
and didn't update all the software).  This is all from memory, but you
can probably find it.  You should also put Base:8.; in the attribute
list, because it really doesn't work to be compiled in base 10. (which
is another problem I had that night).
 8-Jan-83 18:53:26-EST,888;000000000000
Mail-From: EB created at  8-Jan-83 18:51:29
Date: Saturday, 8 January 1983  18:51-EST
Sender: EB @ MIT-OZ
From: EB @ MIT-MC
To:   MOON @ SCRC-TENEX
Cc:   bug-lispm @ oz
Subject: silly messages about first-packet-lost bug
In-reply-to: The message of 8 Jan 1983  15:53-EST from MOON at SCRC-TENEX

    Date: Saturday, 8 January 1983  15:53-EST
    From: MOON at SCRC-TENEX
    Please send messages such as the enclosed (an example of dozens)
    to some other mailing list.  Please.
    Date: Saturday, 8 January 1983, 04:27-EST
    From: Michael A. Patton <MAP at MIT-MC>
    To: BUG-FILE-SERVER at MIT-OZ
    The first-packet-lost bug seems to have happened
    to MAP saving file MC: AI: STILES; QTTBL 113.

Bug-report responses that just tell people to send their bug reports
somewhere else are not helpful, especially when they don't say where
else to send them.
 8-Jan-83 22:03:46-EST,936;000000000000
Date: Saturday, 8 January 1983  22:02-EST
From: MOON at SCRC-TENEX
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   BUG-LISPM at OZ, KMP at MIT-OZ
Subject: Message of 0:13 sent successfully via MIT-MC
In-reply-to: The message of 8 Jan 1983 18:36-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Saturday, 8 January 1983, 18:36-EST
    From: Kent M. Pitman <kmp at MIT-MC>

    I don't like the message that I get when mail gets queued. I find it too
    vague to be useful.

    The time the message sent is not a good way of naming the message 
    because:

      I often don't know what time it is now, much less what time
      it was when I sent the message. Even saying "Message you ended 
      30 seconds ago ..." would be more helpful.

I assume the idea is that you look down half an inch to the who-line and if
the time there isn't the same then that typeout is something old that was
left on your screen.
 8-Jan-83 22:05:00-EST,415;000000000000
Mail-From: PGS created at  8-Jan-83 22:03:03
Date:  8 Jan 1983 2203-EST
From: PGS at MIT-OZ
Subject: inhibit-init-file-p, the third argument to login
To: taft at MIT-OZ
cc: bug-lispm at MIT-OZ

I guess you may already have realized this, but: if INHIBIT-INIT-FILE-P is
NIL, that means it SHOULDN'T inhibit loading your init file, so it SHOULD
load it.  Right?  (also in the sys91 release notes).
-------
 8-Jan-83 22:13:36-EST,388;000000000000
Date: Saturday, 8 January 1983, 21:48-EST
From: Jonathan D. Taft <Taft at MIT-MC>
Subject: Inhibit-Init-File-P, the 3rd argument to login
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.23,
ZMail 48.5, DAEDALUS 1.8, Nodes 1.2, microcode 204,
on Lisp Machine Two:

When I do:
(login 'taft 'mc nil)
it loads my init file anyway.  
 8-Jan-83 22:13:40-EST,571;000000000000
Date: Saturday, 8 January 1983  21:53-EST
From: MOON at SCRC-TENEX
To:   EB at MIT-MC
Cc:   bug-lispm at oz
Subject: silly messages about first-packet-lost bug
In-reply-to: The message of 8 Jan 1983  18:51-EST from EB @ MIT-MC

My bug report was not directed to you personally.  It was directed to
whoever maintains whatever program is generating that junk mail
automatically.  Since it isn't a bug in the file server it shouldn't
go to bug-file-server.  Probably it isn't a bug anywhere except in
the error checking, since MAP said that his files were okay.
 8-Jan-83 22:57:55-EST,1219;000000000000
Date: 8 January 1983 22:52-EST
From: Jonathan D. Taft <TAFT @ MIT-MC>
Subject:  inhibit-init-file-p, the third argument to login
To: RMS @ MIT-OZ
cc: bug-lispm @ MIT-OZ
In-reply-to: The message of 8 Jan 1983 2203-EST from PGS at MIT-OZ

    Date: 8 Jan 1983 2203-EST
    From: PGS at MIT-OZ
    To:   taft at MIT-OZ
    cc:   bug-lispm at MIT-OZ
    Re:   inhibit-init-file-p, the third argument to login

    I guess you may already have realized this, but: if INHIBIT-INIT-FILE-P is
    NIL, that means it SHOULDN'T inhibit loading your init file, so it SHOULD
    load it.  Right?  (also in the sys91 release notes).

Sorry my mistake.  However if more small, unimportant, gratuitous, incompatible
changes continue to be made in the MIT systems I will stop using them at all.
I am not particularly sympathetic to our maintaining our own software, though
it has helped me a few times of late when the Symbolics stuff has screwed me,
and I was begining to see some purpose to it.  It appears to me however that
you are purposely promoting minor unimportant incompatible changes to existing
conventions merely to suit your own tastes and purposes.  This sucks and will
instantly drive me away.
 8-Jan-83 23:31:57-EST,1161;000000000000
Return-Path: <Margolin.Multics@MIT-MULTICS.ARPA>
Date:  8 January 1983 23:15 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: inhibit-init-file-p, the third argument to login
To:  Jonathan D. Taft <TAFT at MIT-MC>
cc:  RMS at MIT-OZ, bug-lispm at MIT-OZ
Acknowledge-To:  Margolin.Multics at MIT-MULTICS
In-Reply-To:  Message of 8 January 1983 23:01 est from Jonathan D. Taft

This particular change was made after many users complained of the
confusion that the old mechanism had.  It used to be that the syntax of
login was:
	(login <user> <host> <init-file-p>)
 or
	(login <user> <inhibit-init-file-p>)

Thus, the sense of the init-file-p argument depended upon whether the
host argument was given.  This is almost as silly as Maclisp's argument
processing for the "read" function, and I am glad that it was finally
fixed.

Yes, incompatible gratuitous changes are bad.  However, you have to
weigh the incompatibleness and gratuitousness against the usefulness of
the change.  Since the login function is not likely to be called from
user programs, I think that RMS made the correct decision in making this
change.
				barmar
 8-Jan-83 23:43:23-EST,2850;000000000000
Mail-From: PGS created at  8-Jan-83 23:40:36
Date: Saturday, 8 January 1983  23:40-EST
Sender: PGS @ MIT-OZ
From: PGS @ MIT-MC
To:   taft @ MIT-OZ
cc:   rms @ MIT-OZ, bug-lispm @ MIT-OZ
Subject: INHIBIT-INIT-FILE-P

    From: Jonathan D. Taft <TAFT @ MIT-MC>

    I am not particularly sympathetic to our maintaining our own software,
    though it has helped me a few times of late when the Symbolics stuff has
    screwed me, and I was begining to see some purpose to it.  It appears to
    me however that you are purposely promoting minor unimportant
    incompatible changes to existing conventions merely to suit your own
    tastes and purposes.  This sucks and will instantly drive me away.

I was one of several people who asked for the current syntax for LOGIN,
because I was tired of the incompatibility with the "Please log in" message,
and with (login uname t).  There were messages to BUG-LISPM discussing the
change, and one to INFO-LISPM when it happened.  At the time 91 was released,
the change was documented in the release notes.

I think you are being completely incendiary here; I see no foundation for
your claims.  Over the past year, I have found RMS to be completely
responsive to the requests of users, often implementing features the same
night I asked for them.  Lots of these weren't trivial, either: I'm thinking
of stuff like allowing me to cons flonum arrays in a temporary storage area,
tail recursion, etc.

Not only that, but he made the non-keyword syntax for apropos work again the
day after we complained about the new syntax.

I enclose the following messages to BUG-LISPM as exhibit A:

    Date: Tuesday, 15 December 1980, 08:59-EST
    From: Andrew L. Ressler <ALR at MIT-ML>
    To: bug-lispm at MIT-ML

    In system 91:

    Would people be in favor of the following?

    (login 'alr T) logged into default without loading init file.

    (login 'alr "HOST" T) logged into HOST without loading init file.
			  instead of loading the init file.

    Date: 15 December 1982  16:12-EST (Wednesday)
    From: David Vinayak Wallace <GUMBY at MIT-MC>
    To:   Andrew L. Ressler <ALR at MIT-ML>
    Cc:   bug-lispm at MIT-ML

	Date: Tuesday, 15 December 1980, 08:59-EST
	From: Andrew L. Ressler <ALR at MIT-ML>

	Would people be in favor of the following?
	...

    Yes! The current inconsistency is a real a pain.

    Date: Friday, 17 December 1982, 05:55-EST
    From: Richard M. Stallman <RMS at MIT-OZ>
    Subject: Two incompatible changes in system 91
    To: info-lispm-mit at MIT-OZ

    Users should note that, starting in 91.16,
     (LOGIN user host T)
    means DO NOT load the init file.
     (LOGIN user host NIL)
    means do load the init file.  (NIL is the default).

    This is to be compatible with (LOGIN user T).
 9-Jan-83 00:33:35-EST,491;000000000000
Date: 9 January 1983 00:31-EST
From: Jonathan D. Taft <TAFT @ MIT-MC>
Subject: My flames
To: RMS @ MIT-MC
cc: BUG-LISPM @ MIT-MC

   I apologize, based on the observations of others my flames were
out of line.  I certainly admit that you have been doing massive
amounts of good work and I was going off much too quickly over a
small thing that wasn't that important.  I don't like the
incompatibility much but perhaps Symbolics can be persuaded to
fix their login arguments too.
 9-Jan-83 03:22:33-EST,524;000000000000
Date: Sunday, 9 January 1983, 03:21-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ
Cc: bug-file-server at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.26,
ZMail 48.5, microcode 204, ., on Lisp Machine Seven:

I can't expunge <PGS*>*.*.*, although the Twenex Exec knows what I mean when I
specify this.  I get the error message

Can't expunge <PGS*>*.*.* -- no such file type.

In case you're wondering, I don't run a PCL or other extended exec on Twenex.
 9-Jan-83 05:47:13-EST,4634;000000000000
Date: Sunday, 9 January 1983, 05:46-EST
From: Gavan Duffy <GAVAN at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.26,
ZMail 48.5, microcode 204, on Lisp Machine Six:


Insert your description of the circumstances here:

All I'm trying to do here is compile a function spec in the zwei
buffer.

>>TRAP 4050. (ARGTYP ARRAY M-A NIL GAHDR) ->  ARRAY-LEADER 
Some argument to ARRAY-LEADER, NIL, was of the wrong type.
The function expected an array.
Backtrace from the debugger:

ZWEI:SECTIONIZE-BUFFER (P.C. = 1256)

 Arg 0 (BUFFER): #<BUFFER "DICT-MAKE.LISP.1 SRC:<GAVAN> OZ:" 16375425>
 Arg 1 (STREAM): NIL
 Arg 2 (HACK-FONTS): NIL
 Arg 3 (DISPLAY-FIRST-SCREEN-FLAG): NIL
 Arg 4 (START-NODE): #<SECTION-NODE DEPLOY-ENTRY 25647401>
 Arg 5 (END-NODE): #<SECTION-NODE ESTABLISH-ALTERNATE-FORMS 25671502>
Local 0 (CURRENT-BUFFER): #<BUFFER "DICT-MAKE.LISP.1 SRC:<GAVAN> OZ:" 16375425>
Local 1 (MODE): ZWEI:LISP-MODE
Local 2 (INT-STREAM): NIL
Local 3 (FIRST-BP): ("" 0. :NORMAL)
Local 4 (LAST-BP): ("" 0.)
Local 5 (ADDED-COMPLETIONS): #<ART-Q-LIST-64. 25710156>
Local 6 (BUFFER-TICK): 18168.
Local 7 (OLD-CHANGED-SECTIONS): NIL
Local 8 (NODES-TO-REUSE): (#<SECTION-NODE ESTABLISH-ALTERNATE-FORMS 25671502> #<SECTION-NODE DEPLOY-ENTRY 25647401>)
Local 9 (ACTUAL-NEW-NODES): NIL
Local 10 (START-PREDECESSOR): #<SECTION-NODE DEPLOY-DICTIONARY 25645442>
Local 11 (END-FOLLOWER): #<SECTION-NODE DEPLOY-DICTIONARY 25645442>
Local 12 (N): #<SECTION-NODE ESTABLISH-ALTERNATE-FORMS 25671502>
Local 13 (G1446): NIL
Local 14 (NODE): NIL
Local 15 (LINE): NIL
Local 16 (COUNT-LINES): 30.
Local 17 (LIMIT): ""
Local 18 (EOFFLG): NIL
Local 19 (BP): ("(DEFUN DEPLOY-ENTRY (WORD-TOKEN LISTING)" 0.)
Local 20 (SYM): NIL
Local 21 (PROP): NIL
Local 22 (STR): NIL
Local 23 (INT-LINE): NIL
Local 24 (PREV-NODE-START-BP): ("" 0. :NORMAL)
Local 25 (PREV-NODE-DEFUN-LINE): "(DEFUN DEPLOY-ENTRY (WORD-TOKEN LISTING)"
Local 26 (PREV-NODE-NAME): DEPLOY-ENTRY
Local 27 (PREV-NODE-STR): "DEPLOY-ENTRY"
Local 28 (PREVIOUS-NODE): NIL
Local 29 (NODE-LIST): NIL
Local 30 (ADD-SECTIONS): :LISP
Local 31 (SECTION-NAME-FUNCTION): #<DTP-FEF-POINTER (:PROPERTY :LISP ZWEI:GET-SECTION-NAME) 15704536>
Local 32 (ERR): T
Local 33 (OLD-NODE): NIL
Local 34 (NEW-NODE): NIL
Local 35 (FIRST-NEW-NODE): NIL
Local 36 (FLUSHED-NODES): NIL
Local 37 (ALL-NODES): NIL
Local 38 (VALUE): NIL
Local 39 (SYM): NIL
Local 40 (I): NIL
Local 41 (J): NIL


ZWEI:CHECK-INTERVAL-SECTIONS (P.C. = 177)

 Arg 0 (START-BP): ("(DEFUN DEPLOY-ENTRY (WORD-TOKEN LISTING)" 0.)
 Arg 1 (END-BP): ("" 0.)
 Arg 2 (IN-ORDER-P): T
Local 0 (START-NODE): #<SECTION-NODE DEPLOY-ENTRY 25647401>
Local 1 (ENDNODE1): #<SECTION-NODE DEPLOY-ENTRY 25647401>
Local 2 (END-NODE): #<SECTION-NODE ESTABLISH-ALTERNATE-FORMS 25671502>
Local 3 (START-NODE): #<SECTION-NODE DEPLOY-ENTRY 25647401>
Local 4 (RUN-END-NODE): #<SECTION-NODE ESTABLISH-ALTERNATE-FORMS 25671502>


ZWEI:COMPILE-INTERVAL (P.C. = 207)

 Arg 0 (COMPILE-P): T
 Arg 1 (USE-TYPEOUT): NIL
 Arg 2 (DEFVAR-HACK): T
 Arg 3 (BP1): ("(DEFUN DEPLOY-ENTRY (WORD-TOKEN LISTING)" 0.)
 Arg 4 (BP2): ("" 0.)
 Arg 5 (IN-ORDER-P): T
 Arg 6 (COMPILE-PROCESSING-MODE): COMPILER:MACRO-COMPILE
 Arg 7 (READ-THEN-PROCESS-FLAG): NIL
 Arg 8 (ENTIRE-FILE-FLAG): NIL
 Arg 9 (ALREADY-RESECTIONIZED-FLAG): NIL
Local 0 (STANDARD-OUTPUT): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 446507 exposed>
Local 1 (GENERIC-PATHNAME): #FS:TOPS20-PATHNAME "OZ:SRC:<GAVAN>DICT-MAKE.."
Local 2 (WHOLE-FILE): NIL
Local 3 (FDEFINE-FILE-DEFINITIONS): NIL


ZWEI:COMPILE-PRINT-INTERVAL (P.C. = 154)

 Arg 0 (BP1): ("(DEFUN DEPLOY-ENTRY (WORD-TOKEN LISTING)" 0.)
 Arg 1 (BP2): ("" 0.)
 Arg 2 (IN-ORDER-P): T
 Arg 3 (COMPILE-P): T
 Arg 4 (DEFUN-NAME): "DEPLOY-ENTRY"
 Arg 5 (MODE-NAME): "Compiling"
 Arg 6 (ECHO-NAME): "compiled."
 Arg 7 (USE-TYPEOUT): NIL
 Arg 8 (DEFVAR-HACK): T
 Arg 9 (COMPILER-PROCESSING-MODE): COMPILER:MACRO-COMPILE
 Arg 10 (ENTIRE-FILE-FLAG): NIL
   --Defaulted args:--
 Arg 11 (ALREADY-RESECTIONIZED-FLAG): NIL
Local 0 (FORMAT-FUNCTION): #<DTP-FEF-POINTER ZWEI:TYPEIN-LINE 15511607>
Local 1 (SUCCESS): NIL


ZWEI:COMPILE-DEFUN-INTERNAL (P.C. = 211)

 Arg 0 (COMPILE-P): T
 Arg 1 (MODE-NAME): "Compiling"
 Arg 2 (ECHO-NAME): "compiled."
   --Defaulted args:--
 Arg 3 (USE-TYPEOUT): NIL
 Arg 4 (DEFVAR-HACK): T
 Arg 5 (COMPILER-PROCESSING-MODE): COMPILER:MACRO-COMPILE
Local 0 (BP1): ("(DEFUN DEPLOY-ENTRY (WORD-TOKEN LISTING)" 0.)
Local 1 (BP2): ("" 0.)
Local 2 (DEFUN-NAME): "DEPLOY-ENTRY"
 9-Jan-83 08:06:46-EST,2301;000000000000
Date: Sunday, 9 January 1983, 08:02-EST
From: David C. Plummer <dcp at SCRC-POINTER>
Subject: What time does your watch say it is?  Will the LispM like it?
To: BUG-LISPM at OZ

In System 222.123, Hardcopy 11.11, Zmail 74.26, cold load 48,
microcode TMC5-MIC 173, site configuration 6, on River Concord:

Doing c-U c-X D mc:.glpr.;* * gives the following bomb out.  Somebody
should catch illegal date formats and do something reasonable with them.

>>Error: Unrecognized date/time format, starting with token /.
While in the function TIME:BARF  TIME:G0508  TIME:PATTERN-INVOKE


TIME:BARF: (P.C. = 14)
 Arg 0 (FORMAT-STRING): "Unrecognized date//time format, starting with token ~A."
 Rest arg (FORMAT-ARGS): (//)


TIME:BARF:  (P.C. = 14)
   Arg 0 (FORMAT-STRING): "Unrecognized date//time format, starting with token ~A."
   Rest arg (FORMAT-ARGS): (//)

TIME:G0508:  (P.C. = 4)
   Arg 0 (TOKEN): //

TIME:PATTERN-INVOKE:  (P.C. = 73)
   Arg 0 (PATTERN): ((TIME:ANY))
   Arg 1 (TOKEN-LIST): (// (177 3) (0 2) TIME:|:| (0 2) TIME:|:| (0 2))
   Arg 2 (FUNCTION): TIME:G0508
   Arg 3 (PASS-ARGUMENTS): T

TIME:PARSE-1:  (P.C. = 32)
   Arg 0 (TOKEN-LIST): ((17 2) // (37 2) // (177 3) (0 2) TIME:|:| (0 2) TIME:|:| (0 2))
   Arg 1 (INITIAL-STATE): TIME:MAIN

TIME:PARSE-UNIVERSAL-TIME:  (P.C. = 221)
   Arg 0 (*TIME-BEING-PARSED*-initialization): "REFERENCE-DATE 15//31//127 00:00:00"
   Arg 1 (START): 17
   Arg 2 (END): 41
   --Defaulted args:--
   Arg 3 (FUTUREP): T
   Arg 4 (BASE-TIME): NIL
   Arg 5 (MUST-HAVE-TIME): NIL
   Arg 6 (DATE-MUST-HAVE-YEAR): NIL
   Arg 7 (TIME-MUST-HAVE-SECOND): NIL
   Arg 8 (DAY-MUST-BE-VALID): T

FS:PARSE-DIRECTORY-DATE-PROPERTY:  (P.C. = 165)
   Arg 0 (STRING): "REFERENCE-DATE 15//31//127 00:00:00"
   Arg 1 (START): 17
   --Defaulted args:--
   Arg 2 (END): 41

FS:READ-DIRECTORY-STREAM-ENTRY:  (P.C. = 164)
   Arg 0 (STREAM): #<FILE-DIRECTORY-STREAM "MC: .GLPR.; * *" 37653314>
   Arg 1 (DEFAULTING-PATHNAME): #<ITS-PATHNAME "MC: .GLPR.; * *">

(:METHOD FS:DIRECTORY-STREAM-MIXIN :DIRECTORY-LIST):  (P.C. = 41)
   Arg 0 (SELF): #<ITS-PATHNAME "MC: .GLPR.; * *">
   Arg 1 (SELF-MAPPING-TABLE): FS:DIRECTORY-STREAM-MIXIN
   Arg 2 (OPERATION): :DIRECTORY-LIST
   Arg 3 (OPTIONS): (:DELETED :SORTED)
 9-Jan-83 10:56:23-EST,304;000000000000
Date:  9 Jan 1983 1041-EST
From: DLA at MIT-OZ
Subject: Arguments to LOGIN
To: TAFT at MIT-MC
cc: BUG-LISPM at MIT-MC

In fact I believe we had agreed to change the arguments to LOGIN, but
could not do so in this release because the documentation had already
been sent to the printers.
-------
 9-Jan-83 11:01:55-EST,886;000000000000
Mail-From: DPH created at  9-Jan-83 10:58:34
Date: Sunday, 9 January 1983  10:58-EST
Sender: DPH @ MIT-OZ
From: DPH @ MIT-MC
To:   Patrick Sobalvarro <PGS @ MIT-OZ>
Cc:   bug-file-server @ MIT-OZ, BUG-LISPM @ MIT-OZ

    Date: Sunday, 9 January 1983, 03:21-EST
    From: Patrick Sobalvarro <PGS>
    To:   BUG-LISPM
    cc:   bug-file-server

    In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.26,
    ZMail 48.5, microcode 204, ., on Lisp Machine Seven:

    I can't expunge <PGS*>*.*.*, although the Twenex Exec knows what I mean when I
    specify this.  I get the error message

    Can't expunge <PGS*>*.*.* -- no such file type.

Expunge wants directory specs and you are giving it a file spec, use
expunge <pgs*>.  BTW, the error message is ?No such directory, at
least from the exec (which makes more sense than no such file type).
 9-Jan-83 17:22:30-EST,2964;000000000000
Date: Sunday, 9 January 1983, 17:15-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.26,
ZMail 48.5, microcode 204, gc @18, on Lisp Machine Five:


I got a process Lispm Init got an error, and typed terminal-0-s.
This generated a Process Kbd ESC got an error. 

I fixed the initial problem, and here is what Kbd ESC lost on:

>>TRAP 4050. (ARGTYP ARRAY M-A NIL GAHDR) ->  ARRAY-LEADER 
Some argument to ARRAY-LEADER, CHAOS:RECEIVE-ANY-FUNCTION, was of the wrong type.
The function expected an array.
Backtrace from the debugger:

SYMEVAL-IN-STACK-GROUP (P.C. = 72)

 Arg 0 (SYM): TV:PROCESS-IS-IN-ERROR
 Arg 1 (SG): CHAOS:RECEIVE-ANY-FUNCTION
   --Defaulted args:--
 Arg 2 (FRAME): NIL
 Arg 3 (AS-IF-CURRENT): NIL
Local 0 (VCL): NIL
Local 1 (SP): NIL
Local 2 (SPP): NIL
Local 3 (I): NIL
Local 4 (P): NIL
Local 5 (*SELECTQ-ITEM*): NIL
Local 6 (LOCATION): NIL
Local 7 (VAL): NIL
Local 8 (INNERMOST-BINDING): NIL
Local 9 (FRAMEP): NIL


SI:PROCESS-IS-IN-ERROR-P (P.C. = 32)

 Arg 0 (PROCESS): #<SIMPLE-PROCESS Chaos Receiver 25502434>
Local 0 (SG): CHAOS:RECEIVE-ANY-FUNCTION


Additional information supplied with call:
 Expecting 2 values

TV:FIND-PROCESS-IN-ERROR (P.C. = 40)

Local 0 (WINDOW): NIL
Local 1 (SG): NIL
Local 2 (G2727): ((#<SIMPLE-PROCESS Chaos Receiver 25502434> #<DTP-FEF-POINTER ** 2020541> NIL 35. ...) (#<PROCESS Keyboard 25502464> #<DTP-FEF-POINTER ** 22212236> NIL 30. ...) (#<PROCESS Mouse 25503533> #<DTP-FEF-POINTER ** 12424740> NIL 30. ...) (#<PROCESS Chaos Background 25502213> #<DTP-FEF-POINTER ** 2020176> ** 25. ...) ...)
Local 3 (P): #<SIMPLE-PROCESS Chaos Receiver 25502434>


TV:FIND-INTERESTING-WINDOW (P.C. = 25)

Local 0 (W): NIL


TV:SELECT-INTERESTING-WINDOW (P.C. = 35)

Local 0 (INTERESTING): NIL
Local 1 (NOTIFICATION-WINDOW): NIL


TV:KBD-SWITCH-WINDOWS (P.C. = 76)

 Arg 0 (ARG): 0.
Local 0 (TEM): NIL
Local 1 (.QUEUE-LEFT.): NIL
Local 2 (I): NIL
Local 3 (G1671): NIL
Local 4 (E): NIL


(INTERNAL TV:KBD-ESC 0.) (P.C. = 46)

 Arg 0 (FCN): TV:KBD-SWITCH-WINDOWS
 Arg 1 (ARG): 0.
Local 0 (G1626): 2531421.


Additional information supplied with call:
 SYS:ADI-FEXPR-CALL

SI:PROCESS-RUN-FUNCTION-INTERNAL (P.C. = 102)

 Arg 0 (RESTART-ON-RESET): NIL
 Arg 1 (FUNCTION): #<DTP-FEF-POINTER (INTERNAL TV:KBD-ESC 0.) 12434274>
 Rest arg (ARGS): (TV:KBD-SWITCH-WINDOWS 0.)
Local 1 (G3595): ("Terminate and free process ~A." "KBD ESC")
Local 2 (G3595): ((SYS:ABORT ERROR) ("Terminate and free process ~A." "KBD ESC") T ("Terminate and free process ~A." "KBD ESC") ...)


SI:PROCESS-TOP-LEVEL (P.C. = 121)

   --Defaulted args:--
 Arg 0 (IGNORE): NIL
Local 0 (G3581): ("Restart process ~A." "KBD ESC")
Local 1 (G3581): ((SYS:ABORT ERROR) ("Restart process ~A." "KBD ESC") T ("Restart process ~A." "KBD ESC") ...)
Local 2 (IGNORE): NIL
 9-Jan-83 20:57:28-EST,494;000000000000
Mail-From: KMP created at  9-Jan-83 20:56:23
Date:  9 Jan 1983 2056-EST
From: KMP at MIT-OZ
Subject: Editor stack groups
To: bug-lispm at MIT-OZ

I would like for there to be an easier way of making a new editor with its
own buffer structure and stack groups. This would be nice when:
 * One editor was clobbered and I needed to start anew without rebooting.
 * One editor was busy and I had a fully independent subtask that I could
   be working on in the meantime.
--kmp
-------
 9-Jan-83 21:07:09-EST,273;000000000000
Date: Sunday, 9 January 1983, 21:04-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: m-G and Fill Prefix
To: BUG-LISPM at OZ

In System 222.131 on Lisp Machine Twenty-two:

m-G (Fill Region) does not respect the Fill Prefix as it would in Emacs.
It should.
-kmp
 9-Jan-83 23:12:16-EST,2221;000000000000
Date: Sunday, 9 January 1983, 23:09-EST
From: Tom Knight <TK at MIT-OZ>
Subject: 3600 Zmail problem
To: BUG-LISPM at MIT-OZ

In System 222.123, Hardcopy 11.11, Zmail 74.26, cold load 48,
microcode TMC5-MIC 173, site configuration 5, on River Concord:

In Zmail, after reading in my OZ  babyl file correctly, I attempted to use <middle> on the "Get Inbox" menu
entry, giving a file name of "mc:tk;tk mail".  Apparently this was considered a Tenex mail file name.
It typed out "getting tenex mail file mc:tk;tk mail
and then bombed.

>>Trap: The first argument given to SYS:INTERNAL->, NIL, was not a number.
While in the function (METHOD ZWEI:TENEX-BUFFER-MIXIN LINE-END-OF-MSG-P)  (METHOD ZWEI:MSG-BUFFER READ-NEXT-MSG)  (INTERNAL (METHOD ZWEI:TENEX-INBOX-BUFFER COMBINED READ-NEXT-MSG) 0)


(METHOD ZWEI:TENEX-BUFFER-MIXIN LINE-END-OF-MSG-P): (P.C. = 42)
 Arg 0 (SELF): #<TENEX-INBOX-BUFFER "MC: TK; TK MAIL" 33635361>
 Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TENEX-BUFFER-MIXIN -- 2. IV's, 0. FL's 33106477>
 Arg 2 (OPERATION): LINE-END-OF-MSG-P
 Arg 3 (LINE): "Date: Sunday, 9 January 1983  20:42-EST"
 Arg 4 (LENGTH): 47
 Arg 5 (STATE): NIL
 Arg 6 (IGNORE): NIL


(METHOD ZWEI:TENEX-BUFFER-MIXIN LINE-END-OF-MSG-P):  (P.C. = 42)
   Arg 0 (SELF): #<TENEX-INBOX-BUFFER "MC: TK; TK MAIL" 33635361>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TENEX-BUFFER-MIXIN -- 2. IV's, 0. FL's 33106477>
   Arg 2 (OPERATION): LINE-END-OF-MSG-P
   Arg 3 (LINE): "Date: Sunday, 9 January 1983  20:42-EST"
   Arg 4 (LENGTH): 47
   Arg 5 (STATE): NIL
   Arg 6 (IGNORE): NIL

(METHOD ZWEI:MSG-BUFFER READ-NEXT-MSG):  (P.C. = 145)
   Arg 0 (SELF): #<TENEX-INBOX-BUFFER "MC: TK; TK MAIL" 33635361>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:MSG-BUFFER -- 14. IV's, 0. FL's 23632626>
   Arg 2 (OPERATION): READ-NEXT-MSG
   --Defaulted args:--
   Arg 3 (NMSGS): 1

(INTERNAL (METHOD ZWEI:TENEX-INBOX-BUFFER COMBINED READ-NEXT-MSG) 0):  (P.C. = 10)
   Arg 0 (SELF): #<TENEX-INBOX-BUFFER "MC: TK; TK MAIL" 33635361>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TENEX-INBOX-BUFFER -- 1. IV's, 5. FL's 33107405>
   Rest arg (.DAEMON-CALLER-ARGS.): (READ-NEXT-MSG)
10-Jan-83 00:26:58-EST,719;000000000000
Date: Monday, 10 January 1983, 00:21-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To: BUG-Lispm at MIT-OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.28,
ZMail 48.5, microcode 204, gc @18, on Lisp Machine Five:


(defun foo () (&optional a b &rest c) ;spaz
   (list a b c))
FOO

(foo 432 423 423 543 4321 4321 4312 4213 12 43 1 3)
>>ERROR: Function FOO called with only 11 arguments.
While in the function SI:APPLY-LAMBDA <- FOO < SI:*EVAL

FOO:

 --Extraneous args:--

  Arg 0: 432.
...

  What do you mean ONLY, FOO apperently has NO arguments.
It's claiming that the are extraneous, yet compaining of
too few args (unless the error handlers being sarcastic)
10-Jan-83 00:27:56-EST,1191;000000000000
Mail-From: HDT created at 10-Jan-83 00:24:10
Date: 10 January 1983  00:24-EST (Monday)
Sender: HDT @ MIT-OZ
From: Howard D. Trachtman <HDT @ MIT-MC>
To:   Bug-Lispm @ MIT-OZ
Subject: [Hdt: forwarded]

Date: Wednesday, 5 January 1983, 12:58-EST
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
To:   David C. Plummer <DCP at SCRC-TENEX>
cc:   Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Wednesday, 5 January 1983, 05:09-EST
    From: David C. Plummer <DCP at SCRC-TENEX>
    To: HDT at MIT-OZ
    In-reply-to: The message of 5 Jan 83 00:05-EST from Howard D. Trachtman <HDT at MIT-OZ>

    Have you never, in your entire life, had a chaos connection die on you?
    It's obviously not an OZ bug since you sent it to Bug-LispM, so I'll fix
    the problem by taking an axe to your LispM.  Will that make you happy?

Of course.  What I'm objecting to is the way the software barfs when
this occurs, which is frequently when I could care less about the particular
status of the supdup or name connection involved.  I almost never want to
bother to debug those errors.  I would much prefer terminal-1-f warning me
about the state of the connection than signal an error.
10-Jan-83 00:28:40-EST,302;000000000000
Mail-From: HDT created at 10-Jan-83 00:28:08
Date: 10 January 1983  00:28-EST (Monday)
Sender: HDT @ MIT-OZ
From: Howard D. Trachtman <HDT @ MIT-MC>
To:   bug-lispm @ MIT-OZ
Subject: CC:write-string


Thanks partly to Dcp, cc:set-current-band will work
as of system 91.28 (not released yet).
10-Jan-83 00:30:10-EST,1292;000000000000
Date: Monday, 10 January 1983, 00:28-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: silly messages about first-packet-lost bug
To: MOON at SCRC-TENEX, bug-file-server at MIT-OZ
Cc: map at MIT-MC, bug-lispm-mit at MIT-OZ

    Please send messages such as the enclosed (an example of dozens)
    to some other mailing list.  Please.

    Date: Saturday, 8 January 1983, 04:27-EST
    From: Michael A. Patton <MAP at MIT-MC>
    To: BUG-FILE-SERVER at MIT-OZ

    In FILE-SERVER in Remote-File 22.0, LMFILE-Remote 23.1,
    MIT-Specific 16.0, System 91.23, ZMail 48.5, microcode 204, .,
    on Lisp Machine Twenty-four:


    The first-packet-lost bug seems to have happened
    to MAP saving file MC: AI: STILES; QTTBL 113.

It really is a bug in the file server.
If (in 91.26)  you load MC: AI: STILES; QTTBL >
and write the result to MC: AI: RMS; QTTBL >
then this error check goes off; the number of characters
output to the stream is 71615 (octal) but the lispm-length
that the file server reports (found on the stream's plist)
is exactly twice that.

Perhaps the use of the AI device has something to do with it.

Now that the first-packet-lost bug is gone, I will turn off the automatic
re-save.  But not the error check.  It is working properly.
10-Jan-83 01:27:26-EST,487;000000000000
Date: Monday, 10 January 1983  01:26-EST
From: MOON at SCRC-TENEX
to:   Ian at oz, RMS at MIT-OZ
Cc:   bug-file-server at MIT-OZ, bug-lispm-mit at MIT-OZ, map at MIT-MC
Subject: silly messages about first-packet-lost bug
In-reply-to: The message of 10 Jan 1983 00:28-EST from Richard M. Stallman <RMS at MIT-OZ>

I checked the source of the FILE server.
For some reason the resetting of the count to zero when a file
is opened is conditionalized so that it is not done on ITS.
10-Jan-83 09:45:13-EST,630;000000000000
Date: Monday, 10 January 1983, 09:37-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Prompting consistency
To: Bug-LISPM at MIT-MC

In System 222.131,...

It seems inconsistent that when prompted for a file with "(Completion)" 
and a default (eg, by c-X c-F), that typing Altmode will fill in the 
default, but when prompted for a system name with "(Completion)" and
a default (eg, by m-X Add Patch), typing Altmode just beeps and will
not fill in the default. Couldn't the completer be told that if the user
types Altmode when no text is available that if there was a default to
prefer that and insert it?
--kmp
10-Jan-83 10:15:07-EST,1137;000000000000
Date: Monday, 10 January 1983, 10:07-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: What time does your watch say it is?  Will the LispM like it?
To: dcp at SCRC-POINTER, BUG-LISPM at MIT-OZ
In-reply-to: The message of 9 Jan 83 08:02-EST from David C. Plummer <dcp at SCRC-POINTER>

    Date: Sunday, 9 January 1983, 08:02-EST
    From: David C. Plummer <dcp at SCRC-POINTER>
    Doing c-U c-X D mc:.glpr.;* * gives the following bomb out.  
It doesn't any more.  Probably some file got deleted since then.
								 Somebody
    should catch illegal date formats and do something reasonable with them.
The real bug, of course, is in the ITS file server, which apparently returned
a reference date of 15/31/127 for some reason.

I'd also like to know if there's some good reason that
FS:PARSE-DIRECTORY-DATE-PROPERTY still calls the general time parser,
since supposedly we have fixed all the file servers to only return dates
and times according to the specified format.

Finally, it's not clear what "something reasonable with them" would be.
What should it do, make up a reference date out of thin air?
10-Jan-83 10:30:20-EST,1203;000000000000
Date: Monday, 10 January 1983, 10:29-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Buffer used by m-X Add Patch
To: BUG-LISPM at MIT-MC

In System 222.131,...

I just manually killed the buffer used by m-X Add Patch and killed the 
appropriate patch dir on disk. I hadn't noticed m-X Abort Patch.

Then I did m-X Add Patch. This appended (I assume) to the killed patch
buffer rather than prompting for a patch version. At least I assume that's
where things are going. It keeps telling me it's adding things to minor
version 3, which was what was in progress. If it's going to do this, it
should at least undelete that buffer so I can manipulate it.

Then I noticed m-X Abort Patch, so I tried it. It complained that no minor
version 3 had been reserved and beeped but apparently didn't finish all it
was supposed to do because now when I do m-X Add Patch, it still tries to
work on the patch in progress rather than starting a new one.

Regardless of the non-existence of the patch buffer or the supposedly-
currently-active minor patch version, m-X Abort Patch's main obligation
should be to right the world so that subsequent m-X Add Patch's will work
correctly.

--kmp
10-Jan-83 10:47:43-EST,1137;000000000000
Date: Monday, 10 January 1983, 10:07-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: What time does your watch say it is?  Will the LispM like it?
To: dcp at SCRC-POINTER, BUG-LISPM at MIT-OZ
In-reply-to: The message of 9 Jan 83 08:02-EST from David C. Plummer <dcp at SCRC-POINTER>

    Date: Sunday, 9 January 1983, 08:02-EST
    From: David C. Plummer <dcp at SCRC-POINTER>
    Doing c-U c-X D mc:.glpr.;* * gives the following bomb out.  
It doesn't any more.  Probably some file got deleted since then.
								 Somebody
    should catch illegal date formats and do something reasonable with them.
The real bug, of course, is in the ITS file server, which apparently returned
a reference date of 15/31/127 for some reason.

I'd also like to know if there's some good reason that
FS:PARSE-DIRECTORY-DATE-PROPERTY still calls the general time parser,
since supposedly we have fixed all the file servers to only return dates
and times according to the specified format.

Finally, it's not clear what "something reasonable with them" would be.
What should it do, make up a reference date out of thin air?
10-Jan-83 19:07:28-EST,1212;000000000000
Date: Monday, 10 January 1983, 19:06-EST
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: What time does your watch say it is?  Will the LispM like it?
To: dlw at SCRC-TENEX, dcp at SCRC-POINTER, BUG-LISPM at MIT-OZ
In-reply-to: The message of 10 Jan 83 10:07-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 10 January 1983, 10:07-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>

    The real bug, of course, is in the ITS file server, which apparently returned
    a reference date of 15/31/127 for some reason.
Because that's what the ITS directory says the reference date is.  This
often happens when some daemon opens and closes a file before the system
knows what time it is.  In this case it is the Versatec spooler opening
its log file.  So it is not completely ITS's bug, it's just returning
the info from the directory.  Perhaps the ITS file server should be
changed so that it doesn't send it, AND the LispM end should ignore
illegal reference dates.  

    Finally, it's not clear what "something reasonable with them" would be.
    What should it do, make up a reference date out of thin air?
If it insists on a reference date, I guess it will have to!
10-Jan-83 19:30:25-EST,454;000000000000
Date: Monday, 10 January 1983, 18:32-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: m-G and Fill Prefix
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 9 Jan 83 21:04-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Sunday, 9 January 1983, 21:04-EST
    From: Kent M. Pitman <kmp at MIT-MC>
    m-G (Fill Region) does not respect the Fill Prefix as it would in Emacs.
Works ok for me.  Can you give more details?
10-Jan-83 20:46:13-EST,1291;000000000000
Date: Monday, 10 January 1983, 20:42-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: What time does your watch say it is?  Will the LispM like it?
To: DCP at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 10 Jan 83 19:06-EST from David C. Plummer <DCP at SCRC-TENEX>

    Date: Monday, 10 January 1983, 19:06-EST
    From: David C. Plummer <DCP at SCRC-TENEX>
	Date: Monday, 10 January 1983, 10:07-EST
	From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	The real bug, of course, is in the ITS file server, which apparently returned
	a reference date of 15/31/127 for some reason.
    Because that's what the ITS directory says the reference date is.  
				  Perhaps the ITS file server should be
    changed so that it doesn't send it, 
Yes.
					AND the LispM end should ignore
    illegal reference dates.  

No.  It's an ITS bug and it should be fixed in ITS.  It is definitely
wrong for the Lisp Machine to intentionally mask bugs.  Suppose the file
server for some other operating system sent an illegal format; should we
hide this so that it will screw somebody in a way that's hard to
understand?  The ITS file server is violating protocol and should be
fixed to obey protocol; if it cannot figure out a good date, that's
between it and ITS.
10-Jan-83 21:16:03-EST,715;000000000000
Date: Monday, 10 January 1983, 21:14-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: What time does your watch say it is?  Will the LispM like it?
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: dcp at SCRC-POINTER, BUG-LISPM at MIT-OZ
In-reply-to: The message of 10 Jan 83 10:07-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 10 January 1983, 10:07-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>

    Finally, it's not clear what "something reasonable with them" would be.
    What should it do, make up a reference date out of thin air?
No.  Pretend the FILE server didn't send a REFERENCE-DATE at all.
Just like what the ITS file server should have done in this
case.
10-Jan-83 21:40:33-EST,638;000000000000
Date: Monday, 10 January 1983  21:37-EST
From: MOON at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, dcp at SCRC-TENEX,
      Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: What time does your watch say it is?  Will the LispM like it?
In-reply-to: The message of 10 Jan 1983 21:14-EST from Robert W. Kerns <RWK at SCRC-TENEX>

(This is about illegally-formatted dates being sent by the ITS file server.)
This should be fixed in the file server, not in the Lisp machine.
I will fix it as soon as I get a chance (I won't complain if someone
else fixes it!  But I will make sure it gets fixed.)
10-Jan-83 22:30:12-EST,715;000000000000
Date: Monday, 10 January 1983, 21:14-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: What time does your watch say it is?  Will the LispM like it?
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: dcp at SCRC-POINTER, BUG-LISPM at MIT-OZ
In-reply-to: The message of 10 Jan 83 10:07-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 10 January 1983, 10:07-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>

    Finally, it's not clear what "something reasonable with them" would be.
    What should it do, make up a reference date out of thin air?
No.  Pretend the FILE server didn't send a REFERENCE-DATE at all.
Just like what the ITS file server should have done in this
case.
10-Jan-83 23:27:43-EST,1348;000000000000
Date: Monday, 10 January 1983, 23:24-EST
From: Carl Richard Feynman <CARLF at MIT-OZ>
Subject: mislabelled band
To: BUG-LISPM at MIT-OZ

In System 222.57, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
microcode 977, site configuration 2, on Lisp Machine Eight:

This band is mislabelled. The label is:

SCHEME pack 1: Trident T-300, formatted by HANSON 5/28/82
LABL version 1, 815 cylinders, 19 heads, 17 blocks/track, 323 blocks/cylinder
Current microload = MCR5, current virtual memory load (band) = LOD4
14 partitions, 7-word descriptors:
  MCR1 at block 17, 148 blocks long, "UCADR 204"
  MCR2 at block 165, 148 blocks long, "UCADR 204"
  MCR3 at block 313, 148 blocks long, "UCADR 977"
  MCR4 at block 461, 148 blocks long, "UCADR 187"
* MCR5 at block 609, 148 blocks long, "UCADR 977"
  PAGE at block 757, 65246 blocks long, "Virtual Memory"
  LOD1 at block 66003, 20000 blocks long, "89.52, ."
  LOD2 at block 86003, 20000 blocks long, "89.52, FS 41.10"
  LOD3 at block 106003, 20000 blocks long, ""
* LOD4 at block 126003, 30000 blocks long, "222.108 Exp daed"
  LOD5 at block 156003, 30000 blocks long, "222.123 no boot?"
  LOD6 at block 186003, 20000 blocks long, "91.23"
  DFIL at block 206003, 50000 blocks long, "LM File System"
  SAVE at block 256003, 7242 blocks long, "Saved for files"

				--carl
11-Jan-83 00:28:44-EST,675;000000000000
Date: Tuesday, 11 January 1983, 00:18-EST
From: Mark J. Dulcey <Dulcey at FC>
Subject: Substring on too-short string
To: BUG-LISPM at MIT-OZ
Cc: RMS.G.Dulcey at OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.26,
ZMail 48.5, microcode 204, Reverse Video, on Lisp Machine Four:

If you specify a START argument to SUBSTRING, and the string doesn't
have that many characters in it, you get the error

(substring "NIL" 4)
>>ERROR: Args 4 and 3 out of range for "NIL"
While in the function SUBSTRING  SI:*EVAL  SI:LISP-TOP-LEVEL1

Is this really the right thing?  Or should you just get a null string
(which is what I had expected)?
11-Jan-83 00:30:53-EST,675;000000000000
Date: Tuesday, 11 January 1983, 00:18-EST
From: Mark J. Dulcey <Dulcey at FC>
Subject: Substring on too-short string
To: BUG-LISPM at MIT-OZ
Cc: RMS.G.Dulcey at OZ

In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.26,
ZMail 48.5, microcode 204, Reverse Video, on Lisp Machine Four:

If you specify a START argument to SUBSTRING, and the string doesn't
have that many characters in it, you get the error

(substring "NIL" 4)
>>ERROR: Args 4 and 3 out of range for "NIL"
While in the function SUBSTRING  SI:*EVAL  SI:LISP-TOP-LEVEL1

Is this really the right thing?  Or should you just get a null string
(which is what I had expected)?
11-Jan-83 00:32:58-EST,1837;000000000000
Date: Tuesday, 11 January 1983, 00:22-EST
From: Mark J. Dulcey <Dulcey at FC>
Subject: mislabelled band
To: CARLF at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 10 Jan 83 23:24-EST from Carl Richard Feynman <CARLF at MIT-OZ>


Cc: RMS.G.Dulcey at OZ

    Date: Monday, 10 January 1983, 23:24-EST
    From: Carl Richard Feynman <CARLF at MIT-OZ>
    Subject: mislabelled band
    To: BUG-LISPM at MIT-OZ

    In System 222.57, Hardcopy 11.5, Zmail 74.11, LMFS 30.4, Tape 13.0,
    microcode 977, site configuration 2, on Lisp Machine Eight:

    This band is mislabelled. The label is:

    SCHEME pack 1: Trident T-300, formatted by HANSON 5/28/82
    LABL version 1, 815 cylinders, 19 heads, 17 blocks/track, 323 blocks/cylinder
    Current microload = MCR5, current virtual memory load (band) = LOD4
    14 partitions, 7-word descriptors:
      MCR1 at block 17, 148 blocks long, "UCADR 204"
      MCR2 at block 165, 148 blocks long, "UCADR 204"
      MCR3 at block 313, 148 blocks long, "UCADR 977"
      MCR4 at block 461, 148 blocks long, "UCADR 187"
    * MCR5 at block 609, 148 blocks long, "UCADR 977"
      PAGE at block 757, 65246 blocks long, "Virtual Memory"
      LOD1 at block 66003, 20000 blocks long, "89.52, ."
      LOD2 at block 86003, 20000 blocks long, "89.52, FS 41.10"
      LOD3 at block 106003, 20000 blocks long, ""
    * LOD4 at block 126003, 30000 blocks long, "222.108 Exp daed"
      LOD5 at block 156003, 30000 blocks long, "222.123 no boot?"
      LOD6 at block 186003, 20000 blocks long, "91.23"
      DFIL at block 206003, 50000 blocks long, "LM File System"
      SAVE at block 256003, 7242 blocks long, "Saved for files"

				    --carl

Presumably somebody ran SI:EDIT-DISK-LABEL on that machine.  You can fix
it by using that function yourself.
11-Jan-83 00:42:03-EST,1175;000000000000
Date: Tuesday, 11 January 1983, 00:41-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
Subject: Substring on too-short string
To: Dulcey at MIT-LISPM-27, BUG-LISPM at MIT-OZ
Cc: RMS.G.Dulcey at MIT-OZ
In-reply-to: The message of 11 Jan 83 00:18-EST from Mark J. Dulcey <Dulcey at FC>

    Date: Tuesday, 11 January 1983, 00:18-EST
    From: Mark J. Dulcey <Dulcey at FC>
    Subject: Substring on too-short string

    In Remote-File 22.0, LMFILE-Remote 23.1, MIT-Specific 16.0, System 91.26,
    ZMail 48.5, microcode 204, Reverse Video, on Lisp Machine Four:

    If you specify a START argument to SUBSTRING, and the string doesn't
    have that many characters in it, you get the error

    (substring "NIL" 4)
    >>ERROR: Args 4 and 3 out of range for "NIL"
    While in the function SUBSTRING  SI:*EVAL  SI:LISP-TOP-LEVEL1

    Is this really the right thing?  Or should you just get a null string
    (which is what I had expected)?

Of course it's the right thing.  It will give you a null string for (substring
"nil" 3).  Why do you expect a null string for (substring "nil" 4)?  Would you
expect a null string from (substring "nil" 1000)?
11-Jan-83 08:46:03-EST,803;000000000000
Mail-From: DANIEL created at 11-Jan-83 08:42:21
Date: Tuesday, 11 January 1983  08:42-EST
Sender: DANIEL @ MIT-OZ
From: DANIEL @ MIT-MC
To:   Mark J. Dulcey <Dulcey @ FC>
Cc:   BUG-LISPM @ MIT-OZ, CARLF @ MIT-OZ
Subject: mislabelled band
In-reply-to: The message of 11 Jan 1983 00:22-EST from Mark J. Dulcey <Dulcey at FC>

    From: Mark J. Dulcey <Dulcey at FC>
    To:   CARLF, BUG-LISPM
    Re:   mislabelled band

    Presumably somebody ran SI:EDIT-DISK-LABEL on that machine.  You can fix
    it by using that function yourself.

NO!  Don't run si:edit-disk-label on that machine.  There's nothing
to fix.  Dulcey, if you ever advise someone who doesnn't understand
the state of a machine to edit its disk label again I will personally
remove all of your fingers.  

Daniel
11-Jan-83 15:59:52-EST,1658;000000000000
Date: Tuesday, 11 January 1983, 15:59-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: c-Abort after m-. 
To: BUG-LISPM at OZ

In System 222.131, ... on MIT-LispM-22:

Bug: In ZWEI, I typed c-Abort after typing m-. and being
prompted for a definition name. The modeline returned to normal,
but the prompt box remained and no window was selected.

Possible explanation: I suspect that what's going on is that you
have to peek at the first character in order to find out if the
guy has moused something. Probably whoever wrote this code
forgot the unwind protect which should submerge the minibuffer
box and return the cursor to the top window. The fix is probably
easy if this is the right analysis.

Speculation: Would it be hard to change things so that mousing
worked after characters had been typed. It would be nice if some
button(s) would let one click on a definition after having typed
some text and have the designated thing replace what had been
typed in the minibuffer. I could see Mouse-Left meaning that
confirmation was implicit while Mouse-Middle would mean to
replace what's in the minibuffer with the moused text and
Mouse-Right would mean to append the text to the minibuffer. The
last two cases would be very useful for when you want to m-. a
long function name which is not being displayed, but which is
very similar to the name of something that is being displayed.
Consider when one wants to m-. the definition of a method whose
defflavor was on the screen ...  They could type 
 "(:method " Mouse-Right " :foo)"
instead of 
 "(:method tv:spiffy-flavor-with-name-thats-too-hard-to-type :foo)".

-kmp
11-Jan-83 16:31:08-EST,1300;000000000000
Date: Tuesday, 11 January 1983, 16:24-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Bothersome defaults for m-X Source Compare
To: BUG-LISPM at OZ

In System 222.131, ... Lisp Machine Twenty-two:

When I do m-X Source Compare, the default filename is poor (a
:oldest version). This didn't used to happen.

I presume this is so I can type
 F Return F Return
and have the oldest and newest file be compared. I would much
rather have the first file default to :newest. That way, I can
compare buffer with disk by doing
 F Return B Return
or
 B Return F Return
I don't like the way the distinction is currently made because I
have to think for a long time to remember which order I want to
type them in.

If I type "B" for the first option and "F" second, then the 
file default should again be :newest, but if I type "F" followed
by "F", I would not mind the default being the :oldest file. That
way, 
 F Return F Return
still compares oldest with newest.

I tend to view comparison as a symmetric operation, so I don't really
care which I see first in the comparison, I just need to know which it
is. This accounts for why I want F B to default the same as B F, and it
explains why I don't mind the second of the two files being compared
being the oldest.

-kmp
11-Jan-83 16:41:27-EST,1259;000000000000
Date: Tuesday, 11 January 1983, 16:30-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: c-Abort after m-. 
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Jan 83 15:59-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Tuesday, 11 January 1983, 15:59-EST
    From: Kent M. Pitman <kmp at MIT-MC>
		 Would it be hard to change things so that mousing
    worked after characters had been typed. It would be nice if some
    button(s) would let one click on a definition after having typed
    some text and have the designated thing replace what had been
    typed in the minibuffer. I could see Mouse-Left meaning that
    confirmation was implicit while Mouse-Middle would mean to
    replace what's in the minibuffer with the moused text and
    Mouse-Right would mean to append the text to the minibuffer. The
    last two cases would be very useful for when you want to m-. a
    long function name which is not being displayed, but which is
    very similar to the name of something that is being displayed.
This would disable all the normal mouse commands, which are also useful,
but in need of redesign.
It seems easy to enough to type Clear-Input if you decide you don't want
what you already typed.
