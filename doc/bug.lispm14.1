29-Aug-82 17:29:26-EDT,941;000000000000
Date: Sunday, 29 August 1982, 17:18-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Chaosnet FILE server
To: bug-lispm at MIT-OZ, bug-twenex at MIT-XX at MIT-MC

I fixed the FILE server to have one date-output routine instead of 3,
and consequently to stop violating the protocol in the dates it
transmits.  It's installed on ML, MC, and SCRC.  Sources are on
EE:LIB:<LISPM.IO> and OZ:SRC:<L.IO>; they should be on
XX:SS:<HIC.FILEJOB> and AI:LMIO;FILE, but they are down at the moment.
Note that the source file on OZ has the wrong creation date because
someone installed a broken FILE server there, the source for which is
not in the <L.IO> directory.

Someone should install this on the TOPS-20's; all that is necessary is to
assemble it, connect to SYSTEM:, get it into an IDDT, and do PURIFY <alt> G.
(Except that you need to negotiate with Gren or whoever about where the source
for what is installed on OZ is.)
30-Aug-82 04:28:58-EDT,386;000000000000
Date: Thursday, 26 August 1982, 08:27-EDT
From: John C. Mallery <JCMa at MIT-OZ>
Subject: MAKE-SYSTEM
To: BUG-LISPM at MIT-EECS

In System 210.126, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 16, u903, on Lisp Machine One:

MAKE-SYSTEM doesn't seem to compile new versions of files in a system
when given the ':compile keyword when they are files on OZ.
30-Aug-82 04:29:23-EDT,550;000000000000
Date: Wednesday, 25 August 1982, 23:21-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: MAKE-SYSTEM
To: JCMa at MIT-OZ
Cc: BUG-LISPM at MIT-EECS, DLA at SCRC-TENEX
In-reply-to: The message of 26 Aug 82 08:27-EDT from John C. Mallery <JCMa at MIT-OZ>

    Date: Thursday, 26 August 1982, 08:27-EDT
    From: John C. Mallery <JCMa at MIT-OZ>

    MAKE-SYSTEM doesn't seem to compile new versions of files in a system
    when given the ':compile keyword when they are files on OZ.
I don't believe this.  Could you provide an example?
30-Aug-82 04:29:49-EDT,1170;000000000000
Date: Friday, 27 August 1982, 23:08-EDT
From:  <Margolin at MIT-MULTICS-11>
To: BUG-LISPM at EE

In System 210.126, ZMail 45.14, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 16,  McLispM, on Marvin:

The default filename in ZWEI for a Multics host is not correct.  In my
case, I was logged in as Margolin.Multics on MIT-Multics, so the default
file should have been >udd>Multics>Margolin>BUFFER-1.LISP.  Instead, it
was >udd>Multics>BUFFER-1.LISP.  Perhaps this misconception of where my
homedir is was also the reason that my init did not get run, although it
could be the name I gave it, too.  Is "lispm.init" (all lowercase) the
correct name for an init file on Multics?  By the way, although
>udd>Project_id>Person_id is a fairly reliable homedir finding heuristic
on Multics, it is not always correct, since the homedir atribute of a
user is defined separately from his project; >udd>Project_id>Person_id
is just the default.  Perhaps the FILE server could implement a HOMEDIR
protocol, so that it could call the appropriate subroutine and inform the
Lispm of the user's homedir.
						barmar
30-Aug-82 04:30:20-EDT,417;000000000000
Date: Saturday, 28 August 1982  11:48-EDT
From: MOON at SCRC-TENEX
To: <Margolin at MIT-MULTICS-11>
Cc: BUG-LISPM at EE
Subject: Homedirs on Multics

The FILE protocol has always included the home directory as part
of the response sent back by the server when you log in.  Perhaps
the user and server ends disagree about its format, since it sounds
like the last directory component is getting chopped off.
30-Aug-82 04:30:56-EDT,1145;000000000000
Date:  28 August 1982 12:20 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Homedirs on Multics
Sender:  Margolin.Multics at MIT-MULTICS
To:  MOON at SCRC-TENEX, Margolin at MIT-MULTICS-11
cc:  BUG-LISPM at MIT-EECS
In-Reply-To:  Message of 28 August 1982 11:53 edt from MOON

I have looked at the code for the Multics FILE server, and it seems to
be doing the right thing, sending the homedir in the login response
packet.  Please check to see what the LispM is actually doing with this
data.

While I am on the subject of the LispM vs. the Multics FILE server, I
wish that the LispM would not compare the username given in the login
response to the username I typed.  Multics allows login aliases, but the
FILE server always responds with the users actual login name (I am not
even sure if it is possible for a process to find out what name it
actually logged in with), If I specify my alias when logging in from the
LispM, I get the error back "File job claims to have logged in as
someone else."  Could the Multics-pathname software be coerced into
ignoring this item, so that I could user my alias?
				barmar
30-Aug-82 04:33:57-EDT,347;000000000000
Date: Thursday, 26 August 1982, 08:12-EDT
From: John C. Mallery <JCMa at MIT-OZ>
Subject: QC-FILE
To: BUG-LISPM at MIT-EECS, hdt at MIT-ML

In System 210.126, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 16, u903, on Lisp Machine One:

QC-FILE does the right thing in 210 but is broken as previously decribed
in 87.
30-Aug-82 11:41:36-EDT,574;000000000000
Date: Monday, 30 August 1982, 11:33-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: TIMING OUT - Chaosnet FILE server
To: Moon at SCRC-TENEX, bug-lispm at MIT-OZ, bug-twenex at MIT-XX at MIT-MC
In-reply-to: The message of 29 Aug 82 17:18-EDT from David A. Moon <Moon at SCRC-TENEX>

The directory xx:ss:<hic.filejob> no longer exists.  Since Steve
Berlin has been consolidating the sources into src:<sys.chaos>,
I installed FILE there.  It's all installed on XX now.  AI is
still down.  I do not have wheel access on SPEECH, so I can't
install it there.
30-Aug-82 14:58:54-EDT,872;000000000000
Mail-From: ZVONA created at 30-Aug-82 14:58:03
Date: Monday, 30 August 1982  14:58-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   bug-lispm at MIT-OZ

In stodgy old System 79, ...

I know this is ridiculous, but could lispm more processing accept c-Q
as equivalent to space?  (Or is there some list I can push onto or
something?)  Since I am using this crufty OZ bag-biter, I keep losing
output by typing c-Q at lispm more breaks.

Actually, it might be the right thing if more breaks just feeped on
anything other than space and abort (or rubout too, or something) to
prevent typo lossage.

[Amusing story: Rel. 5 of 20X purports to support ITS more processing.
And in fact, if you set a flag, you can type space instead of c-Q.
But that is all.  You still can't type ahead spaces and you still
can't abort output a la c-S on ITS.]
-------
30-Aug-82 20:13:21-EDT,430;000000000000
Date: 30 Aug 1982 2009-EDT
From: Steve Berlin <BERLIN at MIT-XX>
Subject: Re: Chaosnet FILE server
To: Moon at SCRC-TENEX, bug-lispm at MIT-OZ, bug-twenex at MIT-XX
In-Reply-To: Your message of 29-Aug-82 1748-EDT

The CHAOS file server sources should live on [xx] src:<sys.chaos> - 
along with various other chaos-net related utilities.  I will put the
latest source there, and install it on XX.
						-- Steve
-------
30-Aug-82 21:17:22-EDT,934;000000000000
Date: Monday, 30 August 1982, 21:10-EDT
From: Kent M. Pitman <KMP at MIT-MC>
Subject: *Mail-n* buffers
To: BUG-LISPM at MIT-MC

I made the suggestion once before ages ago and it seems to have been ignored. I'll make
it again since I think it's a good idea and it might have just been accidentally passed
over...

Couldn't the function which sets up *Mail-n* buffers mark them as unmodified after putting
in the 

  To:
  Re:
  --Text follows this line--

so that if a person types Abort not having done anything in the buffer, it won't end up
saving that buffer around as if it had something useful in it? I keep finding I have lots
of *Mail-n* buffers and very frequently they are the result of having done C-X M instead
of M-X Bug and I've just hit Abort to get out but ZWEI is dutifully preserving them in
case it thinks the contents are of value when it could easily catch at least this simple
case.

-kmp
30-Aug-82 21:49:15-EDT,625;000000000000
Date: 26 August 1982 04:09-EDT
From: Pandora B. Berman <cent at MIT-AI>
Sender: CENT5 at MIT-AI
Subject: FC:
To: BUG-LISPM at MIT-AI

i just did a full dump. i am hoping to cause future incrementals on a more
reasonable schedule than previous ones (once a month isn't reasonable) with
full dumps every few months or as proves appropriate. this should help
make this a more reliable file computer.

ps: no, i don't know anything about retrieving files that have been dumped. 
also, someday all those tridents near cadr27 are supposed to be connected
to it to provide vaster storage space, but i don't know when.
30-Aug-82 21:51:58-EDT,879;000000000000
Date: Monday, 30 August 1982, 08:18-EDT
From: Bernard S Greenberg <BSG at SCRC-TENEX>
Subject: Homedirs on Multics
To: MOON at SCRC-TENEX, Margolin at MIT-MULTICS at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 28 Aug 82 11:48-EDT from MOON at SCRC-TENEX

    Date: Saturday, 28 August 1982  11:48-EDT
    From: MOON at SCRC-TENEX
    The FILE protocol has always included the home directory as part
    of the response sent back by the server when you log in.  Perhaps
    the user and server ends disagree about its format, since it sounds
    like the last directory component is getting chopped off.
This is in fact the case.  The server feels justisfied in saying that
Foo.Bar's homedir is >udd>Bar>Foo, not >udd>Bar>Foo> or other syntaces that
have no relevance to Multics. (It does call user_homedir_, in fact). QFILE
should be changed.

31-Aug-82 03:36:17-EDT,806;000000000000
Date: Saturday, 28 August 1982, 10:47-EDT
From: Alan Bawden <Alan at SCRC-TENEX at MIT-MC>
Subject: syntax of <END>
To: SHIPMN at MIT-AI, BUG-LISPM at MIT-AI
In-reply-to: The message of 15 Aug 82 03:55-EDT from David W. Shipman <SHIPMN at MIT-AI>

    Date: Sunday, 15 August 1982  03:55-EDT
    From: David W. Shipman <SHIPMN at MIT-AI>

    <END> should be a white-space character so it will delimit, for example,
    values typed into choose-variable-values windows.

Independent of all the flaming this message generated about CVV and the
new keyboards etc.  Does anyone have any good reason why I shouldn't
take this suggestion and make <END> act as whitespace?  It there any
coherent theory on the syntax of random characters like <END> and
<NETWORK> or am I free to invent one?


31-Aug-82 11:58:26-EDT,1341;000000000000
Date: 31 August 1982 07:59-EDT
From: Bill Gosper <RWG at MIT-MC>
Subject: maldocumented misadventure
To: BUG-LISPM at MIT-MC

on whatever system is currently up at spa (sorry,
i forgot to write it down), i fired up two macsymas (both
fullscreen) and the gc, and went to dinner.  for dessert, i
got a gc notification on top of a macsyma in the EH
(from trying to bind -1 to 0). system-A should have told me
that my other macsyma had croaked similarly, but instead
put me in the cold-load stream trying to tyo on a de-ex-
posed popup-notification-window (method tv:sheet output-
hold-exception) _ tv:prepare-sheet-internal _
(defun-method tv:sheet-more-lock-kludge).

later visits to the window eh had the following quirk.
scrolling up the stack, symbols like algsys0 and
bakalevel1 didn't have MC: on the front, presumably
because i was in the mc pkg, but when on the top of
the window comes (mapcar #'mc:algsys0 nil), then all
subsequently appearing mc: symbols, including, e.g.,
earlier calls to algsys0, appear with the mc: prefix,
so that the same symbols have prefixes above the
mapcar line, but not below it, until they go off
the bottom and come on again.  (pkg at bottom
of screen remained MC:.)  p.s.:  how can there be
any stack beyond (mapcar ... nil)?  in some cases,
there were two or more up there.
31-Aug-82 12:13:39-EDT,167;000000000000
Date: 31 August 1982 08:14-EDT
From: Bill Gosper <RWG at MIT-MC>
Subject: **, *** in window eh
To: BUG-LISPM at MIT-MC

this may have aired before, but why not?
31-Aug-82 12:31:27-EDT,881;000000000000
Mail-From: BAGLEY created at 31-Aug-82 12:20:25
Date: 31 August 1982  12:20-EDT (Tuesday)
Sender: BAGLEY at MIT-OZ
From: Steven C. Bagley <BAGLEY at MIT-MC>
To:   bug-lispm at MIT-OZ
Subject: [GREN: forwarded]

Date: Tuesday, 31 August 1982  11:24-EDT
Sender: GREN at MIT-OZ
From: GREN at MIT-MC
To:   Steven C. Bagley <BAGLEY at MIT-OZ>
Cc:   bug-finger at MIT-OZ

    Date: 31 August 1982  10:57-EDT (Tuesday)
    From: Steven C. Bagley <BAGLEY>
    To:   bug-finger

    doing f/l sometimes gets only some of the lisp machines.  This is
    bogus.  I'd rather get a slightly dated complete list than the 
    incomplete and confusing list I now get.

This should bot to BUG-FINGER, but to BUG-LISPM.  It is the LispM's
job to poll the others and return the information... all FINGER does
is ask ONE of them, and that one does the rest.
-------
-------
31-Aug-82 13:23:35-EDT,442;000000000000
Date: Tuesday, 31 August 1982, 13:11-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: **, *** in window eh
To: BUG-LISPM at MIT-MC
Cc: RWG at MIT-MC
In-reply-to: The message of 31 Aug 82 08:14-EDT from Bill Gosper <RWG at MIT-MC>

It sure looks like the obvious change to dbg:process-special-command
would fix this, but I don't have a 214 on this machine so I don't want
to edit it.  Would someone please take care of this?
31-Aug-82 13:26:07-EDT,430;000000000000
Date: Tuesday, 31 August 1982, 13:20-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: ZVONA at MIT-MC, bug-lispm at MIT-OZ
In-reply-to: The message of 30 Aug 82 14:58-EDT from ZVONA at MIT-MC

Typing c-Q already IS equivalent to space for **MORE** breaks, as far as
I can tell.  It just throws away whatever you type.  Are you referring
to one of the more hairy varieties like the --More-- in the editor or
something?
31-Aug-82 13:35:57-EDT,297;000000000000
Date: 31 August 1982 13:33-EDT
From: Devon S. McCullough <Devon at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.61,
ZMail 45.6, microcode 148, New, on Lisp Machine One:
perhaps BOOTING should be in the Concept Index along with BAND?
 1-Sep-82 01:19:16-EDT,451;000000000000
From: taft@MIT-ML
Date: 09/01/82 00:18:09

taft@MIT-ML 09/01/82 00:18:09
To: (BUG LISPM) at MIT-AI
In Remote-File 10.1, LMFILE-Remote 17.2, MIT-Specific 9.0, System 86.62,
ZMail 45.6, microcode 148, New, on Lisp Machine Eighteen:

Trying to use the "P" command in Dired on a plot file (this used to load
DPLT pkg, pressifky the plt file and dover it) now loses with the message:
No such directory name for:  SYS: NIL: IO1; DPLT PKG >



 1-Sep-82 08:20:53-EDT,1341;000000000000
Mail-From: HDT created at  1-Sep-82 08:17:23
Date: Wednesday, 1 September 1982  08:17-EDT
Sender: HDT at MIT-OZ
From: HDT at MIT-MC
To:   info-lispm at oz
cc:   agre at MIT-OZ
Subject: Converse fixes

AGRE@MIT-MC 08/23/82 02:07:41
To: (BUG converse) at MIT-AI
In converse in Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0,
System 86.62, ZMail 45.6, microcode 148,  , on Lisp Machine Eight:

Converse's To: field parser loses if there's more than one person there.
Really now.

Fixed in systems 86 & 87.  Multiple receipients are
allowed, just use name@host, name@host2,etc

   Qsend now returns a list of successful receipiants,
or NIL if none.  This may take longer than you may like,
so qsend now takes an optional fourth argument WAIT-P 
which defaults to zwei:*converse-wait-p* which is 
initially T.

	There is now a reply macro which will reply to
the person who last sent you a message.  Just pass it
a message as an argument or no arguments to be prompted
for a message.  The prompt should say who you are replying to.

	Please continue to send bug-reports to bug-converse@mc
I realize that converse still has some cretinisms in it,
Anyone want to suggest other things to be done??

PS:  Phil,  Most of your time:parse requests now work (in systems
87.14 and later)

--Howard--
-------
 1-Sep-82 17:26:47-EDT,345;000000000000
Date: 1 September 1982 17:24-EDT
From: Edward Barton <eb at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.16,
Experimental ZMail 46.3, microcode 164, Use me, on Lisp Machine One:

After cold boot this machine came up saying the console had been idle for
one hour and one minute.
 1-Sep-82 19:15:27-EDT,810;000000000000
Date: 1 September 1982 19:11-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.14,
Experimental ZMail 46.3, microcode 164, Use me, on Lisp Machine One:

I don't know exactly how to reproduce this, but about six times now I
have gotten an error because of non-numeric first arg to *dif, in
(:method si:input-pointer-remembering-mixin :read-pointer) called from
(:method si:file-data-stream-mixin :who-line-information) called from
tv:who-line-file-sheet-compute-current-stream.  When this happens the
system is thoroughly wedged and such things as (bug 'lispm) won't work
any more; the thing that was the first argument to *dif turns up in a lot
of other places where it doesn't belong, such as being funcalled.
 1-Sep-82 20:17:46-EDT,537;000000000000
From: EB@MIT-ML
Date: 09/01/82 20:10:57

EB@MIT-ML 09/01/82 20:10:57
To: (BUG LISPM) at MIT-AI
In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.41,
ZMail 45.3, microcode 136, uc 136, on Lisp Machine Twenty:

Regarding my earlier bug report that mentioned a non-numeric argument to
*DIF, the same problem occurs on other LISP machines running versions of
System 86, but apparently does not occur on this machine, which is running
an older microcode.  Perhaps there are problems with the new microcode.


 2-Sep-82 09:47:01-EDT,818;000000000000
Date: 2 September 1982 08:43-EDT
From: Patrick G. Sobalvarro <PGS at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.16,
Experimental ZMail 46.3, microcode 164, on Lisp Machine Twenty-five:

Nowhere, goddammit, in the manual does it say, goddammit, that
MATH:MULTIPLY-MATRICES does the obvious stupid thing, goddammit! if MATRIX-1
and MATRIX-3 are the same (goddammit).  It should create a temporary array, do
the multiplication into the temporary, copy the contents to MATRIX-3, and
return the temporary array to free storage.  If it doesn't do this, it should
at least give you an error message.  But it shouldn't make pretty little
symmetrical patterns out of your arrays without warning.  You should see the
contortions this put the Puma into.
 3-Sep-82 02:52:24-EDT,892;000000000000
Mail-From: HDT created at  3-Sep-82 01:09:40
Date: Friday, 3 September 1982  01:09-EDT
Sender: HDT at MIT-OZ
From: HDT at MIT-MC
To:   Patrick G. Sobalvarro <PGS at MIT-ML>
Cc:   BUG-LISPM at MIT-OZ

Nowhere, goddammit, in the manual does it say, goddammit, that
MATH:MULTIPLY-MATRICES does the obvious stupid thing, goddammit! if MATRIX-1
and MATRIX-3 are the same (goddammit).  It should create a temporary array, do
the multiplication into the temporary, copy the contents to MATRIX-3, and
return the temporary array to free storage.  If it doesn't do this, it should
at least give you an error message.  But it shouldn't make pretty little
symmetrical patterns out of your arrays without warning.  You should see the
contortions this put the Puma into.
  
  Now fixed, in the manner you suggested in 87.19
 At least it seemed to work, undammit.

--Howard--

-------
 3-Sep-82 12:26:40-EDT,286;000000000000
Date: Friday, 3 September 1982, 12:03-EDT
From: David Chapman <Zvona at MIT-OZ>
To: bug-lispm at MIT-OZ

Compiling 

(defun dfet (gate guy guy)
  (create-transistor 'd gate guy guy))

gives the error message ``Guy bound but never used'' which
dummies like me find confusing.
 3-Sep-82 22:26:07-EDT,543;000000000000
Date:  3 Sep 1982 1549-EDT
From: Marc A. LeBrun <MLB at SCRC-TENEX>
To: PGS at MIT-ML
cc: BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 2-Sep-82 0948-EDT

math:multiply-matrices should give an error if the destination matrix
is the same as one of the sources are the same AND it can't do the right
thing at LOW cost

I don't think the current behavior is right and I don't think random
matrix consing is the right thing either (unless there were an optional
argument that the user could give to explicitly request it)
-------
 3-Sep-82 22:35:16-EDT,425;000000000000
Date: 3 September 1982 20:19-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System
87.19, Experimental ZMail 46.3, microcode 164, Use me, on Lisp Machine
Nine:

M-X Make Word Abbrev gets an error when the editor tries to redisplay
and the specification of how much redisplay to do is not a number, but
is the abbreviation just defined. 
 3-Sep-82 22:40:23-EDT,618;000000000000
Date: 3 September 1982 21:40-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System
87.19, Experimental ZMail 46.3, microcode 164, Use me, on Lisp Machine
Nine:

The file I was compiling had a RETURN not inside a PROG.  The compiler issued
a Warning: There is a RETURN of (1+ I) not inside a PROG.  M-X Edit Warnings
bombed out by finding a bad cdr-code at memory address 0 after printing
"(NIL " from what the (1+ I) list had evidently become by the time the
M-X Edit Warnings was done.  Some temporary-area problem, perhaps?

 4-Sep-82 08:28:17-EDT,860;000000000000
Date: Saturday, 4 September 1982, 08:01-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: MLB at SCRC-TENEX
Cc: PGS at MIT-ML, BUG-LISPM at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 3 Sep 82 15:49-EDT from Marc A. LeBrun <MLB at SCRC-TENEX>

    Date:  3 Sep 1982 1549-EDT
    From: Marc A. LeBrun <MLB at SCRC-TENEX>
    math:multiply-matrices should give an error if the destination matrix
    is the same as one of the sources are the same AND it can't do the right
    thing at LOW cost
That's preposterous.

    I don't think the current behavior is right and I don't think random
    matrix consing is the right thing either (unless there were an optional
    argument that the user could give to explicitly request it)
Presumably the intermediate matrix is a resource or temporary array of
some sort, so it wouldn't matter.
 4-Sep-82 10:33:47-EDT,861;000000000000
Date: Monday, 30 August 1982, 21:03-EDT
From: Kent M. Pitman <KMP at MIT-MC>
To: CWH at MC
Cc: BUG-LISPM at EE

In System 210.126, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 16, Vanilla, on Lisp Machine Twenty-two:

With TV:RH-ON, the following problem occurs:

 If you type in multiple lines worth of text such that when you type <HELP> it will
 displace those lines of text to cross the point where a **MORE** comes up during
 the help info, there will be a blank line where the **MORE** happened that the RH
 isn't aware of. Essentially, you get text which goes down to the next to last line
 of the screen, then more text at the top but a blank line for the **MORE** and 
 fencepost-like effects wherein the cursor hops around in that blank line thinking it
 is really in the line at the top of the screen.

-kmp

 4-Sep-82 18:29:45-EDT,1066;000000000000
Date:  4 Sep 1982 1823-EDT
From: Marc A. LeBrun <MLB at SCRC-TENEX>
To: DLA at SCRC-TENEX
cc: PGS at MIT-ML, BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 4-Sep-82 0802-EDT

I don't know why you think erring due to a performance limitation is
preposterous.  If a special-case of some operation is inordinately 
resource intensive then I would rather know I was doing it (and provide
for handling it explicitly) than get randomly screwed.

If the intermediate matrix is a zillion by a zillion then this special
case will probably matter.  Either I will wind up having a zillion
by a zillion matrix around for all eternity (defresource) or at the
very least I will have to pay for the copy (temp array).

Remember that this situation may occur fortuitously at runtime, rather
than by explicit programmatic intent.  That is why I propose that there
be an optional arg to say if you intend to pay the extra cost or would
rather err.  This would be reasonable if the special case was, say,
more than twice the cost of the unspecial case.
-------
 4-Sep-82 22:48:34-EDT,983;000000000000
Mail-From: HDT created at  4-Sep-82 22:20:35
Date: Saturday, 4 September 1982  22:20-EDT
Sender: HDT at MIT-OZ
From: HDT at MIT-MC
To:   Marc A. LeBrun <MLB at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, PGS at MIT-ML

Date: Friday, 3 September 1982  15:49-EDT
From: Marc A. LeBrun <MLB at SCRC-TENEX>
To:   PGS at MIT-ML
cc:   BUG-LISPM

math:multiply-matrices should give an error if the destination matrix
is the same as one of the sources are the same AND it can't do the right
thing at LOW cost

I don't think the current behavior is right and I don't think random
matrix consing is the right thing either (unless there were an optional
argument that the user could give to explicitly request it)


  It creates a temporary matrix and then makes it go away.
If you really don't like this behaviour, then you shouldn't try
to make a destination matrix one of the source matrices.  However,
if you insist, I could add a warning message.

--Howard--
-------
 5-Sep-82 11:55:05-EDT,557;000000000000
Date: 5 September 1982 11:29-EDT
From: Jonathan D. Taft <Taft at MIT-MC>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 14.0, Experimental LMFILE-Remote 18.0,
Experimental MIT-Specific 10.0, Experimental System 87.5,
Experimental ZMail 46.0, microcode 164, yes zm, on Lisp Machine One:

Why is this the default band on Cadr-1 ?

The label claims "Exp87.5 tst KEEP" and the microcode is 164 for which the
error table had to be loaded after booting. Doesn't seem like the right
system for the machine to come up in by default on cold boot.
 5-Sep-82 17:23:42-EDT,942;000000000000
From: dove@MIT-ML
Date: 09/05/82 14:38:33

dove@MIT-ML 09/05/82 14:38:33
To: (BUG LISPM) at MIT-AI
In Remote-File 10.1, LMFILE-Remote 17.2, MIT-Specific 9.0, System 86.62,
ZMail 45.6, Local-File 37.1, DAEDALUS 45.2, microcode 148,  ,
on Marvin:

Is there a way to force the result of a window method such as 'mouse-buttons for an
arbitrary window into the standard-input stream as if it was typed?  This would serve
the purpose of graphical input in a convenient fashion.  For example, I have a 
window with an object graphed in it.  At some point, a program asks me for an index into
the object to do some processing.  Rather than figure out from the tic marks on the window
what index I want, I would like to mouse an appropriate point on the window.

I have all that I need insofar as the creation of the mesage that I want fed into standard
-input, what I need is something like (format standard-input "~D" number).


 5-Sep-82 18:52:12-EDT,797;000000000000
Mail-From: KMP created at  5-Sep-82 18:47:56
Date: Sunday, 5 September 1982  18:47-EDT
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   BUG-LISPM at MIT-OZ
Subject: format of SET-CURRENT-BAND's microcode query

In System 210.126,...

When setting the current band to something needing different microcode, it
asks if it should reset the microcode, but the prompting is very poor. I'm
left on a blank line and so don't have the feel that I'm in the query's 
input wait (the first time I saw it, I thought it just reset it for me 
without asking. Then I typed Y and waited and finally noticed the Tyi state
and figured out eventually it must be wanting YES<return> ... I imagine the
question could be formatted to make it more obvious that this kind of response
was needed.
-------
 5-Sep-82 18:53:30-EDT,1730;000000000000
Date: Sunday, 5 September 1982, 18:34-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX at MIT-MC>
Subject: Mouse input
To: dove at MIT-ML
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 5 Sep 82 14:38-EDT from dove at MIT-ML

    From: dove@MIT-ML
    Date: 09/05/82 14:38:33
    In Remote-File 10.1, LMFILE-Remote 17.2, MIT-Specific 9.0, System 86.62,
    ZMail 45.6, Local-File 37.1, DAEDALUS 45.2, microcode 148,  ,
    on Marvin:

    Is there a way to force the result of a window method such as 'mouse-buttons for an
    arbitrary window into the standard-input stream as if it was typed?  This would serve
    the purpose of graphical input in a convenient fashion.  For example, I have a 
    window with an object graphed in it.  At some point, a program asks me for an index into
    the object to do some processing.  Rather than figure out from the tic marks on the window
    what index I want, I would like to mouse an appropriate point on the window.

    I have all that I need insofar as the creation of the mesage that I want fed into standard
    -input, what I need is something like (format standard-input "~D" number).

You want to send a :FORCE-KBD-INPUT message to the selected window.  The
argument can be any lisp object, and you can use the :ANY-TYI to read
the object in.  There is also a TV:PREEMPTABLE-READ-ANY-TYI-MIXIN which
allows you to send the window a :PREEMPTABLE-READ message, and get back
either a form read ala :READ, or the non-fixnums from the input buffer
(i.e. the mouse blips).  By the way, this is the way command menus work,
and is the standard way everything works that allows you to input either
from the keyboard or the mouse at the same time.


 5-Sep-82 19:06:53-EDT,599;000000000000
Mail-From: KMP created at  5-Sep-82 19:05:20
Date:  5 Sep 1982 1905-EDT
From: Kent M. Pitman <KMP at MIT-OZ>
Subject: DISK-SAVE
To: bug-lispm at MIT-OZ

I do not like that if the major system version and the comment fit in the
16 allotted chars, it doesn't still ask me what I want to go in the disk
label. I like to format my disk label comments myself and there seems to be
no easy way to do this at disk-save time. I can edit the disk label later, but
si:edit-disk-label is a scary function to me and i don't enjoy using it. bad
enough i should have to be using disk-save...
-------
 5-Sep-82 20:01:59-EDT,1214;000000000000
Date: Sunday, 5 September 1982, 19:49-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX at MIT-MC>
Subject: Mouse input (example)
To: Robert W. Kerns <RWK at SCRC-TENEX at MIT-MC>
Cc: dove at MIT-ML, BUG-LISPM at MIT-AI
In-reply-to: The message of 5 Sep 82 18:34-EDT from Robert W. Kerns <RWK at SCRC-TENEX at MIT-MC>


    Date: Sunday, 5 September 1982, 18:34-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX at MIT-MC>
    You want to send a :FORCE-KBD-INPUT message to the selected window.  The
    argument can be any lisp object, and you can use the :ANY-TYI to read
    the object in.  There is also a TV:PREEMPTABLE-READ-ANY-TYI-MIXIN which
    allows you to send the window a :PREEMPTABLE-READ message, and get back
    either a form read ala :READ, or the non-fixnums from the input buffer
    (i.e. the mouse blips).  By the way, this is the way command menus work,
    and is the standard way everything works that allows you to input either
    from the keyboard or the mouse at the same time.


I just realized I should give an example:

    For example, instead of (format standard-input "~D" number), you'd do
    (send terminal-io ':force-kbd-input `(:mouse-value ,number))


 5-Sep-82 23:21:13-EDT,1161;000000000000
Mail-From: PGS created at  5-Sep-82 23:20:08
Date: Sunday, 5 September 1982  23:20-EDT
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   Marc A. LeBrun <MLB at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ

    From: Marc A. LeBrun <MLB at SCRC-TENEX>
    To:   PGS at MIT-ML
    cc:   BUG-LISPM

    math:multiply-matrices should give an error if the destination matrix
    is the same as one of the sources are the same AND it can't do the right
    thing at LOW cost

    I don't think the current behavior is right and I don't think random
    matrix consing is the right thing either (unless there were an optional
    argument that the user could give to explicitly request it)

Oh, good.  I suggest that the error message read, "Doing what you wanted would
require using one more array than you probably expected if you didn't think
about it very carefully, so I'm just going to halt here."

If the user has given those arguments to MATH:MULTIPLY-MATRICES, he or she
probably intends that the right thing should be done.

Perhaps the documentation should just be changed to state that it isn't
terribly efficient in that case.
-------
 6-Sep-82 17:20:22-EDT,2650;000000000000
From: dove@MIT-ML
Date: 09/06/82 17:18:45

dove@MIT-ML 09/06/82 17:18:45
To: (BUG LISPM) at MIT-AI
In Remote-File 10.1, LMFILE-Remote 17.2, MIT-Specific 9.0, System 86.62,
ZMail 45.6, Local-File 37.1, DAEDALUS 45.2, microcode 148,  ,
on Marvin:

Why doesn't the (:required-instance-variables data-type) prevent the variable used free
message for the following combination of flavor and method?

;;
;; signal graphics mixin
;;
(defflavor siggraph ((default-window nil))
	   ()
  (:required-methods fetch-interval domain)
  (:required-instance-variables data-type)
  :initable-instance-variables
  :settable-instance-variables
  :gettable-instance-variables
  (:documentation
   ("This mixin provides self plotting capabilities for signals"
    :essential-mixin)))
   
;;
;; :do-plot method
;;
(defmethod (siggraph :do-plot)
	   (&rest arglist
	    &aux (region (funcall-self 'domain)) (window default-window))
  "plot yourself in window if given default-window if not.  A given window does not reset
default-window.  Use region if given, domain if not.
Usage: plot-self ['window <window>] ['region <region>]"
  (keyword-extract arglist item (window region))
  ;;
  ;; Check window.
  ;;
  (check-arg-type window kbpd-window)
  (cond ((null window)
	 (ferror nil "do-plot sent with no available window")))
  (funcall window 'set-object self)		;set the windows current object
  ;;
  ;; Give the object a place to plot itself if it doesn't already have one.
  ;;
  (cond ((null default-window)
	 (setq default-window window)))
  ;;
  ;; Check region.
  ;;
  (check-arg region (and (listp region)
			     (numberp (car region))
			     (numberp (cadr region))
			     ( (car region) (cadr region)))
	     "An ascending list of 2 numbers"
	     region)
  (funcall window 'set-domain region)		;set the windows current domain
  ;;
  ;; Clear the window
  ;;
  (funcall window 'erase)
  ;;
  ;; switch on data-type
  ;;
  (cond ((and (memq 'number data-type) (not (memq 'complex data-type)))
	 ;;
	 ;; Get the data to be plotted.
	 ;;
	 (using-resource (array numeric-array-resource (interval-length region))
	   (funcall-self 'fetch-interval region array)
	   (funcall-self 'number-plot array window region)))
	((and (memq 'complex data-type) (not (memq 'number data-type)))
	 ;;
	 ;; Get the data to be plotted.
	 ;;
	 (using-resource (array complex-array-resource (interval-length region))
	   (funcall-self 'fetch-interval region array)
	   (funcall-self 'complex-plot array window region)))
	(t
	 (ferror nil "illegal combination of complex and number in data-type"))))

 6-Sep-82 18:17:12-EDT,419;000000000000
Date: 6 September 1982 18:14-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific
10.0, System 87.14, Experimental ZMail 46.3, microcode
164, try me, on Lisp Machine Eighteen:

C-X C-F T <altmode>, where there are lots of files beginning with T,
partially completes to a bogus filename with an explicit file type,
such as T.LISP in this case.
 6-Sep-82 18:51:25-EDT,857;000000000000
Date: 6 September 1982 18:37-EDT
From: Kent M. Pitman <KMP at MIT-MC>
Subject:  Re-routing mis-routed mail
To: BUG-LISPM at MIT-MC
cc: DEVON at MIT-MC

The following mail came to BUG-LISP instead of BUG-LISPM...

    Date: 6 September 1982 18:39-EDT
    From: Devon S. McCullough <Devon at MIT-ML>
    To: BUG-lisp at MIT-OZ

    In lisp in Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0,
    System 87.19, Experimental ZMail 46.3, microcode 164, No, devon,
    on Lisp Machine One:

    In the blue manual on page 158, 11.1 describing closures, it says

    The form (closure var-list function), where var-list is a list of...
    ... the value cells of the symbols.  Then function is applied to the 
    ARGUMENT.  (This...

    in the next-to last paragraph on the page.  ARGUMENT should be plural, 
    or I'm mixed up!
 6-Sep-82 20:25:39-EDT,392;000000000000
Date: 6 September 1982 20:20-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific
10.0, System 87.14, Experimental ZMail 46.3, microcode
164, try me, on Lisp Machine Eighteen:

The first PKG-GOTO that I execute has no effect.  PACKAGE
remains bound to the USER package.  If I do a second
PKG-GOTO it is effective.

 6-Sep-82 20:50:09-EDT,586;000000000000
From: WDH@MIT-MC
Date: 09/06/82 20:39:42
Subject: dpress-font default bug

WDH@MIT-MC 09/06/82 20:39:42 Re: dpress-font default bug
To: (BUG dpress) at MIT-AI, (BUG lispm) at MIT-AI
In dpress in Remote-File 10.1, LMFILE-Remote 17.2, MIT-Specific 9.0,
System 86.62, ZMail 45.6, Local-File 37.1, DAEDALUS 45.2, microcode 148,
 , on Marvin:

On EE, if the default font for the lispm isn't fonts:cptfont, typing the
command dpress will cause a response "Your terminal does not support
SUPDUP Graphics", while with cptfont as default, it works just peachy.  

-Bill Hofmann

 6-Sep-82 22:29:02-EDT,1064;000000000000
Date: 6 September 1982 22:20-EDT
From: David C. Plummer <DCP at MIT-MC>
Sender: DCP0 at MIT-MC
Subject: dpress-font default bug
To: WDH at MIT-MC
cc: jtw at MIT-SPEECH, BUG-dpress at MIT-AI, BUG-lispm at MIT-AI

    WDH@MIT-MC 09/06/82 20:39:42 Re: dpress-font default bug
    In dpress in Remote-File 10.1, LMFILE-Remote 17.2, MIT-Specific 9.0,
    System 86.62, ZMail 45.6, Local-File 37.1, DAEDALUS 45.2, microcode 148,
     , on Marvin:

    On EE, if the default font for the lispm isn't fonts:cptfont, typing the
    command dpress will cause a response "Your terminal does not support
    SUPDUP Graphics", while with cptfont as default, it works just peachy.  

    -Bill Hofmann

This is an unknown problem with 20X.  It is becuase LISPMs for
some obscure reason do not successfully get their SUPDUP Graphics
smarts variable to 20X.  We have looked for the problem, but as
yet can't find it.  As a kludge, DPRESS knows about certain
height/width combinations.  A LISPM in fonts:cptfont is known
about, so that is why it works.


 6-Sep-82 22:44:53-EDT,580;000000000000
Date: 6 September 1982 22:43-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific
10.0, System 87.14, Experimental ZMail 46.3, microcode
164, try me, on Lisp Machine Eighteen:

C-E from the debugger doesn't redisplay the screen in the editor
when it has found the right function.

C-E from the debugger on a (:method foo :bar) almost always seems
to make the editor say "Can't find a definition of ... in ..."
even though the editor has correctly positioned the cursor at
(defmethod (foo :bar) ...).
 7-Sep-82 00:49:18-EDT,363;000000000000
Mail-From: GREGOR created at  7-Sep-82 00:46:35
Date: Tuesday, 7 September 1982  00:46-EDT
Sender: GREGOR at MIT-OZ
From: GREGOR at MIT-MC
To:   dove at MIT-ML
cc:   BUG-LISPM at MIT-OZ
Subject: Your obscenely long and unclear bug report...


Try to send a short example of the same phenomenon
thats makes it clear what you are talking about.
-------
 7-Sep-82 02:53:30-EDT,876;000000000000
Date: Tuesday, 7 September 1982, 02:45-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Patch directory and patch file naming
To: BUG-LISPM at OZ

In System 210.126, ZMail 45.14, Remote-File 103.0,
Experimental Knowledge-Based-Editor 41.0, microcode 903,
site configuration 19, Black Magic, on Lisp Machine Twenty-two:

No one has ever explained to me why the long name of a system is still 
being used to make patch files from. I would really prefer to put spaces
and other odd characters in the long name of my system. That should be
for visual purposes only. The short name I picked is explicitly designed
for uses like filenaming. I get really tired -- especially as crufty as
Twenex filename completion is when I'm logged in directly to Twenex -- 
of typing filenames like KNOWLEDGE-BASED-EDITOR-nn-mm when I could be 
typing just KBE-nn-mm ...

-kmp
 7-Sep-82 03:23:25-EDT,476;000000000000
Date: Tuesday, 7 September 1982, 03:13-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.19,
Experimental ZMail 46.3, microcode 164, try me,
on Lisp Machine Twenty-five:

It sems to be the case that when STRING-NCONC gets called with args such that
the resulting string will be longer than 1023. characters, the length of the
string produced is 0, but no error is generated.
 7-Sep-82 05:13:03-EDT,1301;000000000000
Date: Tuesday, 7 September 1982, 05:04-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
Subject: STRING-NCONC
To: MOON at SCRC-TENEX, bug-lispm at MIT-OZ

    Date: Tuesday, 7 September 1982  03:34-EDT
    From: MOON at SCRC-TENEX
    To: Patrick Sobalvarro <PGS at MIT-OZ>
    Subject:STRING-NCONC

	Date: Tuesday, 7 September 1982, 03:13-EDT
	From: Patrick Sobalvarro <PGS at MIT-OZ>
	To: BUG-LISPM at MIT-OZ

	It sems to be the case that when STRING-NCONC gets called with args such that
	the resulting string will be longer than 1023. characters, the length of the
	string produced is 0, but no error is generated.
    Either this is specific to system 87 or you didn't give enough specific
    information.  It worked when I just tried it.

Hmm.  Well, it's interesting.  Happens when you nconc a string of length 1; or,
at least, that's one time when it happens.  What amazes me is that sometimes it
seems to make it out of STRING-NCONC.  Something is definitely broken, although
sometimes (like in my code) it seems to get bashed without producing an error
right then.

This is one way to make it break:

(setq foo (make-array 1777 ':type ':art-string ':leader-length 1
		      ':leader-list '(1777)))

(string-nconc foo "X")

Guaranteed to break both 87 and 210.
 7-Sep-82 11:11:46-EDT,712;000000000000
Date: Tuesday, 7 September 1982, 11:05-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: STRING-NCONC
To: MOON at SCRC-TENEX
Cc: PGS at MIT-OZ, bug-lispm at MIT-OZ
In-reply-to: The message of 7 Sep 82 05:04-EDT from Patrick Sobalvarro <PGS at MIT-OZ>

    Date: Tuesday, 7 September 1982, 05:04-EDT
    From: Patrick Sobalvarro <PGS at MIT-OZ>

    This is one way to make it break:

    (setq foo (make-array 1777 ':type ':art-string ':leader-length 1
			  ':leader-list '(1777)))

    (string-nconc foo "X")

    Guaranteed to break both 87 and 210.
The bug is somewhere in ADJUST-ARRAY-SIZE, undoubtably hacking the long
length flag.  I didn't have enough time to fully track it down.
 7-Sep-82 12:47:04-EDT,628;000000000000
Date: Tuesday, 7 September 1982, 12:39-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Patch directory and patch file naming
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 7 Sep 82 02:45-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: Tuesday, 7 September 1982, 02:45-EDT
    From: Kent M. Pitman <kmp at MIT-MC>

    No one has ever explained to me why the long name of a system is still 
    being used to make patch files from.
Probably because abreviations come and go, but system names are forever.

I guess there needs to be a :NAME-FOR-PATCH-DIRECTORY option of some
sort?
 8-Sep-82 08:33:38-EDT,331;000000000000
Date:  8 Sep 1982 0149-EDT
From: Howard I. Cannon <HIC at SCRC-TENEX>
Subject: Re: STRING-NCONC
To: DLA at SCRC-TENEX
cc: MOON at SCRC-TENEX, PGS at MIT-OZ, bug-lispm at MIT-OZ
In-Reply-To: Your message of 7-Sep-82 1112-EDT

STRING-NCONC problem was in fact in ADJUST-ARRAY-SIZE, and is fixed and
patched in 217.
-------
 8-Sep-82 09:42:38-EDT,793;000000000000
Date: 8 September 1982 09:38-EDT
From: Devon S. McCullough <Devon at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.19,
Experimental ZMail 46.3, microcode 164, Try Me!, on Lisp Machine One:

While Meta-0 Meta-. was reading a patch file into my zwei buffer, I did
Terminal-1-F, which worked correctly.  I noticed when I saw "type a
space to flush" that the run light was off (thought to myself "is it
that dumb, to stop other processes while waiting for a silly space to
flush with?") and the who-line said 8% read in.  Then the run light came
on, and stayed on, and the page light stayed off, so I looked at the
LED's on CADR-1 which read 01.240, and now I've warm-booted and it says
it was in process Notify at the time.
 8-Sep-82 10:10:19-EDT,793;000000000000
Date: 8 September 1982 09:38-EDT
From: Devon S. McCullough <Devon at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.19,
Experimental ZMail 46.3, microcode 164, Try Me!, on Lisp Machine One:

While Meta-0 Meta-. was reading a patch file into my zwei buffer, I did
Terminal-1-F, which worked correctly.  I noticed when I saw "type a
space to flush" that the run light was off (thought to myself "is it
that dumb, to stop other processes while waiting for a silly space to
flush with?") and the who-line said 8% read in.  Then the run light came
on, and stayed on, and the page light stayed off, so I looked at the
LED's on CADR-1 which read 01.240, and now I've warm-booted and it says
it was in process Notify at the time.
 8-Sep-82 10:31:08-EDT,735;000000000000
Date: Wednesday, 8 September 1982, 05:39-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Patch directory and patch file naming
To: DLA at SCRC-TENEX
Cc: kmp at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 7 Sep 82 12:39-EDT from David L. Andre <DLA at SCRC-TENEX>

    Date: Tuesday, 7 September 1982, 12:39-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
	Date: Tuesday, 7 September 1982, 02:45-EDT
	From: Kent M. Pitman <kmp at MIT-MC>
	No one has ever explained to me why the long name of a system is still 
	being used to make patch files from.
    I guess there needs to be a :NAME-FOR-PATCH-DIRECTORY option of some
    sort?
Probably also a :PRETTY-NAME for a system, for use in reports, etc.
 8-Sep-82 10:36:50-EDT,372;000000000000
Date: 8 September 1982 10:19-EDT
From: Devon S. McCullough <Devon at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.19,
Experimental ZMail 46.3, microcode 164, Try Me!, on Lisp Machine One:

on page 456 of the blue manual, 26.2.4 "Summary of Commands",
Control-Meta-N is defined twice, as different things.
 8-Sep-82 14:24:59-EDT,421;000000000000
Date:  8 Sep 1982 1416-EDT
From: Marc A. LeBrun <MLB at SCRC-TENEX>
To: PGS at MIT-MC
cc: BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 5-Sep-82 2317-EDT

How is matrix multiply supposed to know that the user explicitly
gave those arguments to it and not some internal thing, such as macsyma,
or some supposedly real-time graphics?

Documenting the performance degradation is a reasonable placebo.
-------
 8-Sep-82 17:24:53-EDT,306;000000000000
Mail-From: EB created at  8-Sep-82 17:22:15
Date:  8 Sep 1982 1722-EDT
From: Ed Barton <EB at MIT-OZ>
Subject: cadr20
To: bug-lispm at MIT-OZ

CADR20 claims to be in 806.  It is not in 806.  Someone please change
the Lisp Machine location data to indicate the correct location of
CADR20.
-------
 8-Sep-82 20:58:39-EDT,1190;000000000000
Mail-From: ALR created at  8-Sep-82 20:54:13
Date: Wednesday, 8 September 1982  20:54-EDT
Sender: ALR at MIT-OZ
From: ALR at MIT-MC
To:   BUG-LISPM at MIT-OZ
Subject:New Format Command

I have just recently written a new version of format called format-macro
that I plan to install in the system soon.  Its major advantage over
the current format command is that if the control string is a constant
it will expand the format into more efficient code.  Another minor advantage
is that it gives control string errors at compile time.

Would people please send me some examples of the more interesting formats they
have written complete with sample outputs to test it out furthur before I
install it.  By the way, it currently doesn't do anything smart with ~< or
~{.  For things that it can't handle it just expands into a call to format so
it can't hurt to use the macro all of the time.

A simple example is as follows:
(format stream "~3%text~&")
expands to
(let ((standard-output stream))
  (funcall stream ':tyo #\CR)
  (funcall stream ':tyo #\CR)
  (funcall stream ':tyo #\CR)
  (funcall stream ':string-out "text")
  (funcall stream ':fresh-line))
-------
 8-Sep-82 22:56:45-EDT,470;000000000000
Date: 8 September 1982 22:54-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System
87.23, Experimental ZMail 46.3, microcode 164, try me, on Lisp Machine
Eighteen:

SUPDUP to OZ gets confused about the first line of the display. It
often writes two successive lines of text on that same first physical
line, then continues normally.  (I am running with @ter pause end,
@ter page.)
 8-Sep-82 23:35:49-EDT,453;000000000000
Mail-From: EB created at  8-Sep-82 23:35:19
Date:  8 Sep 1982 2335-EDT
From: Ed Barton <EB at MIT-OZ>
Subject: earlier bug report about supdup
To: bug-lispm at MIT-OZ

I was mistaken about the terminal settings under which SUPDUP
gets confused about the top line of the display.  My login.cmd
sets @ter pau end and @ter page, but some :copyoz junk had
changed the tty settings.  @ter no pause end seems to cause
the lossage somehow.
-------
 9-Sep-82 02:45:24-EDT,932;000000000000
Date: 9 September 1982 02:40-EDT
From: Kent M. Pitman <KMP at MIT-MC>
Subject:  Patch directory and patch file naming
To: RWK at SCRC-TENEX
cc: BUG-LISPM at MIT-OZ, DLA at SCRC-TENEX

    Date: Wednesday, 8 September 1982, 05:39-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>

        Date: Tuesday, 7 September 1982, 12:39-EDT
        From: David L. Andre <DLA at SCRC-TENEX>

	    Date: Tuesday, 7 September 1982, 02:45-EDT
	    From: Kent M. Pitman <kmp at MIT-MC>

	    No one has ever explained to me why the long name of a system 
	    is still being used to make patch files from.

        I guess there needs to be a :NAME-FOR-PATCH-DIRECTORY option of some
        sort?

    Probably also a :PRETTY-NAME for a system, for use in reports, etc.

These both seem completely spurious to me. What is the long name for if
not for bug reports? What is the short name for if not for patch directories?
 9-Sep-82 13:01:39-EDT,1107;000000000000
Date: Thursday, 9 September 1982, 12:54-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Patch directory and patch file naming
To: RWK at SCRC-TENEX, DLA at SCRC-TENEX
Cc: KMP at MIT-MC, BUG-LISPM at MIT-OZ

    Date: 9 September 1982 02:40-EDT
    From: Kent M. Pitman <KMP at MIT-MC>
	Date: Wednesday, 8 September 1982, 05:39-EDT
	From: Robert W. Kerns <RWK at SCRC-TENEX>
	    Date: Tuesday, 7 September 1982, 12:39-EDT
	    From: David L. Andre <DLA at SCRC-TENEX>
		Date: Tuesday, 7 September 1982, 02:45-EDT
		From: Kent M. Pitman <kmp at MIT-MC>
		No one has ever explained to me why the long name of a system 
		is still being used to make patch files from.

	    I guess there needs to be a :NAME-FOR-PATCH-DIRECTORY option of some
	    sort?

	Probably also a :PRETTY-NAME for a system, for use in reports, etc.

    These both seem completely spurious to me. What is the long name for if
    not for bug reports? What is the short name for if not for patch directories?
This sounds plausible and implies that the printed representation should use the
symbolic name.
 9-Sep-82 16:24:35-EDT,1521;000000000000
Date: Thursday, 9 September 1982, 15:12-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Patch directory and patch file naming
To: MMcM at SCRC-TENEX
Cc: DLA at SCRC-TENEX, KMP at MIT-MC, BUG-LISPM at MIT-OZ
Fcc: SCRC:<RWK>OUTGOING.BABYL
In-reply-to: The message of 9 Sep 82 12:54-EDT from Mike McMahon <MMcM at SCRC-TENEX>

    Date: Thursday, 9 September 1982, 12:54-EDT
    From: Mike McMahon <MMcM at SCRC-TENEX>
	Date: 9 September 1982 02:40-EDT
	From: Kent M. Pitman <KMP at MIT-MC>
	    Date: Wednesday, 8 September 1982, 05:39-EDT
	    From: Robert W. Kerns <RWK at SCRC-TENEX>
		Date: Tuesday, 7 September 1982, 12:39-EDT
		From: David L. Andre <DLA at SCRC-TENEX>
		    Date: Tuesday, 7 September 1982, 02:45-EDT
		    From: Kent M. Pitman <kmp at MIT-MC>
		    No one has ever explained to me why the long name of a system 
		    is still being used to make patch files from.
		I guess there needs to be a :NAME-FOR-PATCH-DIRECTORY option of some
		sort?
	    Probably also a :PRETTY-NAME for a system, for use in reports, etc.
	These both seem completely spurious to me. What is the long name for if
	not for bug reports? What is the short name for if not for patch directories?
    This sounds plausible and implies that the printed representation should use the
    symbolic name.
I guess I agree (on thinking about it), but I'll say it differently:
Instead of "short name" and "long name", there should be :PRETTY-NAME,
:NAME-FOR-PATCH-DIRECTORY, and the symbolic name.
 9-Sep-82 16:54:15-EDT,866;000000000000
Date: Thursday, 9 September 1982, 16:45-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Patch directory and patch file naming
To: RWK at SCRC-TENEX
Cc: kmp at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 8 Sep 82 05:39-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Wednesday, 8 September 1982, 05:39-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
	Date: Tuesday, 7 September 1982, 12:39-EDT
	From: David L. Andre <DLA at SCRC-TENEX>
	    Date: Tuesday, 7 September 1982, 02:45-EDT
	    From: Kent M. Pitman <kmp at MIT-MC>
	    No one has ever explained to me why the long name of a system is still 
	    being used to make patch files from.
	I guess there needs to be a :NAME-FOR-PATCH-DIRECTORY option of some
	sort?
    Probably also a :PRETTY-NAME for a system, for use in reports, etc.
That's what :NAME is for.
 9-Sep-82 17:25:16-EDT,625;000000000000
Date: Thursday, 9 September 1982, 17:17-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: EB at MIT-ML
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 8 Sep 82 22:54-EDT from Edward Barton <EB at MIT-ML>

    Date: 8 September 1982 22:54-EDT
    From: Edward Barton <EB at MIT-ML>

    SUPDUP to OZ gets confused about the first line of the display. It
    often writes two successive lines of text on that same first physical
    line, then continues normally.  (I am running with @ter pause end,
    @ter page.)
My first guess is that you're encountering one of the many bugs in the
VTS code for TOPS-20.
 9-Sep-82 20:45:30-EDT,553;000000000000
Date: 9 September 1982 20:43-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System
87.25, Experimental ZMail 46.3, microcode 165, hack me, on Lisp Machine
Nine:

An especially annoying feature of the Unknown Opcode 11 lossage with
SUPDUP connections to OZ is that if the SUPDUP background stream gets
this error and you Terminal-0-S to the background interactor, you cannot
abort out of the lossage because you get an array-leader of NIL in
chaos:get-next-pkt.

 9-Sep-82 22:01:35-EDT,929;000000000000
Date: Thursday, 9 September 1982, 21:49-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Defsystem compiler warnings.
To: KwH at MIT-OZ
Cc: BUG-LISPM at MIT-EECS, DLA at SCRC-TENEX
In-reply-to: The message of 8 Sep 82 21:02-EDT from Ken Haase <KwH at MIT-OZ>

    Date: Wednesday, 8 September 1982, 21:02-EDT
    From: Ken Haase <KwH at MIT-OZ>

    In DEFSYSTEM, if you do:

	(make-system 'hecate ':batch)

	    it prompts for a file for compiler warnings, even though I am not
    compiling anything;  is this a bug or a feature (i.e., might it decide to compile
    things of its own accord), and if it is a feature is there a way to turn it off
    (a DEFSYSTEM keyword defining the compiler warnings file perhaps?)
Probably this is a feature.  Of course, it shouldn't say "compiler
warnings", it should say "warnings".  I guess I'll fix this someday and
interface warnings to the new error system.
 9-Sep-82 23:37:47-EDT,3622;000000000000
Mail-From: KMP created at  9-Sep-82 23:33:35
Date: Thursday, 9 September 1982  23:33-EDT
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, KMP at MIT-OZ
Subject: Wrong init

    Date: Wednesday, 8 September 1982, 06:48-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>

        Date: Tuesday, 7 September 1982, 11:27-EDT
        From: David L. Andre <DLA at SCRC-TENEX>

	    Date: Tuesday, 7 September 1982, 00:41-EDT
	    From:  <KMP at MIT-OZ>

	    (login 'KMP 'OZ)
	    Current login name is KMP for host MIT-OZ.
	    Type either passsword or loginname<space>password: KBE<space><pw>

	    Loads the KBE's init file instead of mine. I wanted it to log
	    in a file server as KBE but load my init. Is this an
	    unreasonable thing to have wanted here? If I wanted to log in
	    as the KBE and get its init file, I'd have said (LOGIN 'KBE
	    'OZ).

	As far as OZ knows, you logged in as KBE.  You probably want to
	have a switch in your init file for loading either the KMP
	environment or the KBE environment, and punt logging in as KBE?

    Presumably he logs in as KBE because of file protection issues?

    To explain a bit further, in response to logging in as KBE, the file
    server tells the LISPM what your home directory is.  It uses that to
    decide that your login init is <KBE>LOGIN.INIT.  Neither the LISPM
    nor the file server realize that you are really KMP on OZ, because
    you've never successfully logged in as KMP.

    I don't see anything to do about this right now.  Is it really
    necessary to log in as KBE?

Sorry, but my mental model says that when the little thing pops up saying
the bit about "Current login name ..." happens it's only going to log in a
file server, not me. Eg, If I had done, (login 'KMP 'MC) and then accessed
a file on OZ, I would have given the KBE's name and password and it would
not have tried to do anything about changing USER-ID or loading the KBE's
init. So I see no reason for the first time to be different.

I do not want to have my init know anything about all the various names
and passwords I might give to talk to a host. I want to pick a name/password
that will let me access the set of files that I plan to deal with in that
login session. It is completely clear to me that this issue is fully
independent of the name I have picked to log in as, which is obviously
the name I wished to be formally identified by in finger and the name of
the user whose init file I want to load. I have set the read access for
<KMP>LISPM.INIT so I can read it from anywhere so this will not be a problem.
However, there may be times when logging in as KMP will not be the right 
thing.

The fact that the file server logs in as KBE should not have any reason for
confusion to occur. You already have to feed it the LISPM.INIT part of the
filename you want loaded as an init. I see no reason you can't tell the
file server which logged as KBE that you want to load <KMP>LISPM.INIT.
The file server needn't know I am logged in as KMP on the LispM, it need
only do what it is asked and you should easily be able to ask it to open
such a filename, so I don't see what the technical problem is.

So I continue to insist that if I'd wanted the KBE's init file, I'd have
said (LOGIN 'KBE...). I don't. It has a very magic init file. I only want
to access its files freely. As such, I log as myself (LOGIN 'KMP...) and
I just specify the file server info that I think will make my session the
most pleasant.

-kmp
-------
10-Sep-82 00:12:40-EDT,1374;000000000000
Mail-From: ALR created at 10-Sep-82 00:11:39
Date: Friday, 10 September 1982  00:11-EDT
Sender: ALR at MIT-OZ
From: ALR at MIT-MC
To:   Richard M. Stallman <RMS at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ

    Date: Thursday, 9 September 1982  02:07-EDT
    From: Richard M. Stallman <RMS>
    To:   ALR

    Since the code produced by your macro is much larger than the call to FORMAT,
    it might be best if your macro is used only when explicitly requested,
    and does not simply replace FORMAT.
Currently it is a seperate name FORMAT-MACRO.
    Or maybe you can compile
    only partially, into a call to a new run-time-subroutine whose arglists
    are more compact than the compiled code but faster  to decode than strings
    for FORMAT.
The actual expansion beyond the argument parsing is controlled by values
on the plists of the function names.  Those can be easily changed to reflect
the users preferences.
    Why do you bind standard-output?  That does not seem to be necessary in
    the example you gave, and probably not in most simple FORMATs--
    perhaps it is never necessary, perhaps even wrong.
This was done initially because it preserved much of the original format code
and hence made future modifications to either version easier to make in both.
I have considered what you hint at.  Anyone else with a suggestion?
-------
10-Sep-82 00:17:37-EDT,3448;000000000000
Date: Friday, 10 September 1982, 00:04-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Wrong init
To: KMP at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 9 Sep 82 23:33-EDT from KMP at MIT-MC

    Date: Thursday, 9 September 1982  23:33-EDT
    From: KMP at MIT-MC
    Sorry, but my mental model says that when the little thing pops up saying
    the bit about "Current login name ..." happens it's only going to log in a
    file server, not me. Eg, If I had done, (login 'KMP 'MC) and then accessed
    a file on OZ, I would have given the KBE's name and password and it would
    not have tried to do anything about changing USER-ID or loading the KBE's
    init. So I see no reason for the first time to be different.
The problem is that it doesn't have any way to read your mind.
It has no way to know that you are known as KMP to the machine
in question, unless you login as KMP to the machine.  The ONLY
thing that's being special there is that the first time, it loads
your init.

    The fact that the file server logs in as KBE should not have any reason for
    confusion to occur. You already have to feed it the LISPM.INIT part of the
    filename you want loaded as an init. I see no reason you can't tell the
    file server which logged as KBE that you want to load <KMP>LISPM.INIT.
    The file server needn't know I am logged in as KMP on the LispM, it need
    only do what it is asked and you should easily be able to ask it to open
    such a filename, so I don't see what the technical problem is.

The problem is that the file protocol assumes that you log into the
file server as yourself, so finding out the home directory is done
as part of loging in the file server.  Your example shows that this
assumption is not valid; what it should assume is that what you
typed to the login is who you really are on that machine, unless
it finds out differently.  But the only way to find out the home
directory for user X is to log in as user X.

    So I continue to insist that if I'd wanted the KBE's init file, I'd have
    said (LOGIN 'KBE...). I don't. It has a very magic init file. I only want
    to access its files freely. As such, I log as myself (LOGIN 'KMP...) and
    I just specify the file server info that I think will make my session the
    most pleasant.
I understand your reasons for wanting it differently.  You'll have to
work around it for the time being, I'm afraid.  If it's a real screw
(as opposed to an inconvenience that can be lived with), perhaps a
TOPS-20-only hack could be patched in, given that we aren't going to
distribute any more 210 patches anywhere else, but I think that's a
bad idea.  (Only on TOPS-20 can the home directory be determined by
the LISPM software).

But I do have a permanent solution to propose:  There used to be a
HOME-DIRECTORY (or some such) command in the file protocol.  Let's
bring it back.  Let's make the assumption that when someone does
(LOGIN 'USERNAME 'HOST) that he really is known as USERNAME at
that host, and if he logs in as something else to the file server,
explicitly ask the file server for the HOME-DIRECTORY of who
he really is.  If that gives an error (either command undefined,
for compatibility, or user not known), then just use what was
given to log into the file server.  This works for any system,
regardless of what is needed to find out the home directory.
10-Sep-82 01:17:26-EDT,1580;000000000000
Date: Friday, 10 September 1982, 01:11-EDT
From: David E. Goldfarb <DEG at SCRC-TENEX>
Subject: Wrong init
To: RWK at SCRC-TENEX, KMP at MIT-MC
Cc: BUG-LISPM at MIT-OZ, DEG at SCRC-TENEX

    Date: Friday, 10 September 1982, 00:04-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
	Date: Thursday, 9 September 1982  23:33-EDT
	From: KMP at MIT-MC

	...

	So I continue to insist that if I'd wanted the KBE's init file, I'd have
	said (LOGIN 'KBE...). I don't. It has a very magic init file. I only want
	to access its files freely. As such, I log as myself (LOGIN 'KMP...) and
	I just specify the file server info that I think will make my session the
	most pleasant.

    ...

    But I do have a permanent solution to propose:  There used to be a
    HOME-DIRECTORY (or some such) command in the file protocol.  Let's
    bring it back.  Let's make the assumption that when someone does
    (LOGIN 'USERNAME 'HOST) that he really is known as USERNAME at
    that host, and if he logs in as something else to the file server,
    explicitly ask the file server for the HOME-DIRECTORY of who
    he really is.  If that gives an error (either command undefined,
    for compatibility, or user not known), then just use what was
    given to log into the file server.  This works for any system,
    regardless of what is needed to find out the home directory.

I disagree.  I can see some other user making a typo in the login and
losing in a totally unexpected fashion because the typo happened to be
the name of some other user.

				- David
10-Sep-82 01:32:24-EDT,2561;000000000000
Mail-From: HDT created at 10-Sep-82 01:30:44
Date: Friday, 10 September 1982  01:30-EDT
Sender: HDT at MIT-OZ
From: HDT at MIT-MC
To:   David E. Goldfarb <DEG at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, KMP at MIT-OZ, RWK at SCRC-TENEX
Subject: Wrong init

    Date: Friday, 10 September 1982, 01:11-EDT
    From: David E. Goldfarb <DEG at SCRC-TENEX>
    To:   RWK at SCRC-TENEX, KMP
    cc:   BUG-LISPM, DEG at SCRC-TENEX
    Re:   Wrong init

        Date: Friday, 10 September 1982, 00:04-EDT
        From: Robert W. Kerns <RWK at SCRC-TENEX>
    	Date: Thursday, 9 September 1982  23:33-EDT
    	From: KMP at MIT-MC

    	...

    	So I continue to insist that if I'd wanted the KBE's init file, I'd have
    	said (LOGIN 'KBE...). I don't. It has a very magic init file. I only want
    	to access its files freely. As such, I log as myself (LOGIN 'KMP...) and
    	I just specify the file server info that I think will make my session the
    	most pleasant.

        ...

        But I do have a permanent solution to propose:  There used to be a
        HOME-DIRECTORY (or some such) command in the file protocol.  Let's
        bring it back.  Let's make the assumption that when someone does
        (LOGIN 'USERNAME 'HOST) that he really is known as USERNAME at
        that host, and if he logs in as something else to the file server,
        explicitly ask the file server for the HOME-DIRECTORY of who
        he really is.  If that gives an error (either command undefined,
        for compatibility, or user not known), then just use what was
        given to log into the file server.  This works for any system,
        regardless of what is needed to find out the home directory.

    I disagree.  I can see some other user making a typo in the login and
    losing in a totally unexpected fashion because the typo happened to be
    the name of some other user.

    				- David

Now I disagree.  If the user made a typo when doing the (login 'username 'host)
than he already has lost.  If the typo occurs when trying to log into the file 
server, then he probably won't be able to log in becuase he probably won't know
the password (for the account he typed accidently).  Therefore, if one is
giving the file server a correct user/password sequence than was previously 
given,  he should expect what KMP suggests to occur.

Perhaps the home-directory feature should be revived, or login take an
additional optional argument which can be passed to the init file.

--Howard--
-------
10-Sep-82 03:16:59-EDT,662;000000000000
Date: 10 September 1982 03:16-EDT
From: Pandora B. Berman <CENT at MIT-ML>
Subject: cadr20 location
To: BUG-LISPM at MIT-ML

would someone who knows how change the location of cadr20?  it claims to
be in 806 (France Transporter Room), when it's been in 926 (Virtual Mass
Driver) for several days.  The location should have been changed WHEN THE
CONSOLE WAS MOVED.  not doing this has much potential for causing
problems, especially of the form "well, i saw where you were logged in and
told the person on the phone to call that number...".

the source code which needs to modified used to live in ai:lmsite;, but
presumably has been moved to oz.  
10-Sep-82 05:58:37-EDT,831;000000000000
Mail-From: RG.JMTURN created at 10-Sep-82 05:57:33
Date: Friday, 10 September 1982  05:54-EDT
Sender: RG.JMTURN at MIT-OZ
From: RG.JMTURN at MIT-OZ at MIT-MC
To:   bug-lispm at MIT-OZ

Would people be grossly upset if the SRC:<L.mumble> directories were
restructured back to being SRC:<LMmumble>? The magtape code has a spaz
when it tries to make distribution tapes out of these. Specifically,
if you do (FS:COPY-DIRECTORY "OZ:SRC:<L.DEMO>" "MT:"), and then do
(RESTORE-MAGTAPE ':HOST "FS:"), it tries to read back files of the
form "(L . DEMO)"; "foo" "bar". This could be fixed either by changing
the files back to top-level directories, or by allowing COPY-DIRECTORY
to specify what the magtape should pretend these files belong on, or
perhaps using logical devices on OZ. Any suggestions?

					James
-------
10-Sep-82 18:24:31-EDT,1019;000000000000
Mail-From: ZVONA created at 10-Sep-82 11:37:59
Date: Friday, 10 September 1982  11:37-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   RG.JMTURN at MIT-OZ
Cc:   bug-lispm at MIT-OZ

    Date: Friday, 10 September 1982  05:54-EDT
    From: RG.JMTURN
    Sender: RG.JMTURN
    To:   bug-lispm

    Would people be grossly upset if the SRC:<L.mumble> directories were
    restructured back to being SRC:<LMmumble>? The magtape code has a spaz
    when it tries to make distribution tapes out of these. Specifically,
    if you do (FS:COPY-DIRECTORY "OZ:SRC:<L.DEMO>" "MT:"), and then do
    (RESTORE-MAGTAPE ':HOST "FS:"), it tries to read back files of the
    form "(L . DEMO)"; "foo" "bar". This could be fixed either by changing
    the files back to top-level directories, or by allowing COPY-DIRECTORY
    to specify what the magtape should pretend these files belong on, or
    perhaps using logical devices on OZ. Any suggestions?

    					James
I suggest you fix the bug.
-------
10-Sep-82 19:07:25-EDT,1019;000000000000
Mail-From: ZVONA created at 10-Sep-82 11:37:59
Date: Friday, 10 September 1982  11:37-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   RG.JMTURN at MIT-OZ
Cc:   bug-lispm at MIT-OZ

    Date: Friday, 10 September 1982  05:54-EDT
    From: RG.JMTURN
    Sender: RG.JMTURN
    To:   bug-lispm

    Would people be grossly upset if the SRC:<L.mumble> directories were
    restructured back to being SRC:<LMmumble>? The magtape code has a spaz
    when it tries to make distribution tapes out of these. Specifically,
    if you do (FS:COPY-DIRECTORY "OZ:SRC:<L.DEMO>" "MT:"), and then do
    (RESTORE-MAGTAPE ':HOST "FS:"), it tries to read back files of the
    form "(L . DEMO)"; "foo" "bar". This could be fixed either by changing
    the files back to top-level directories, or by allowing COPY-DIRECTORY
    to specify what the magtape should pretend these files belong on, or
    perhaps using logical devices on OZ. Any suggestions?

    					James
I suggest you fix the bug.
-------
10-Sep-82 19:09:35-EDT,1561;000000000000
Mail-From: RG.JMTURN created at 10-Sep-82 11:55:40
Date: Friday, 10 September 1982  11:55-EDT
Sender: RG.JMTURN at MIT-OZ
From: RG.JMTURN at MIT-MC
To:   ZVONA at MIT-OZ
Cc:   bug-lispm at MIT-OZ

    Date: Friday, 10 September 1982  11:37-EDT
    From: ZVONA
    To:   RG.JMTURN
    cc:   bug-lispm

        Date: Friday, 10 September 1982  05:54-EDT
        From: RG.JMTURN
        Sender: RG.JMTURN
        To:   bug-lispm

        Would people be grossly upset if the SRC:<L.mumble> directories were
        restructured back to being SRC:<LMmumble>? The magtape code has a spaz
        when it tries to make distribution tapes out of these. Specifically,
        if you do (FS:COPY-DIRECTORY "OZ:SRC:<L.DEMO>" "MT:"), and then do
        (RESTORE-MAGTAPE ':HOST "FS:"), it tries to read back files of the
        form "(L . DEMO)"; "foo" "bar". This could be fixed either by changing
        the files back to top-level directories, or by allowing COPY-DIRECTORY
        to specify what the magtape should pretend these files belong on, or
        perhaps using logical devices on OZ. Any suggestions?

        					James
    I suggest you fix the bug.
It's not a bug, it's a misfeature. Evidently subdirectories were being
planned for FS:, but were never finished. The (foo . bar) representation is
evidently how they were going to be done. I'd love to fix it, but I spent 5
hours whacking away at it last night to little avail. I could certainly give
someone pointers are what to concentrate on.

						James
-------
10-Sep-82 19:19:19-EDT,821;000000000000
Mail-From: EB created at 10-Sep-82 12:56:26
Date: 10 Sep 1982 1256-EDT
From: Ed Barton <EB at MIT-OZ>
To: RG.JMTURN at MIT-OZ
cc: bug-lispm at MIT-OZ, EB at MIT-OZ
In-Reply-To: Your message of 10-Sep-82 0558-EDT

    Date: Friday, 10 September 1982  05:54-EDT
    From: RG.JMTURN at MIT-OZ at MIT-MC
    To:   bug-lispm at MIT-OZ
    Would people be grossly upset if the SRC:<L.mumble> directories were
    restructured back to being SRC:<LMmumble>? The magtape code has a spaz
    when it tries to make distribution tapes out of these....

So fix the magtape code.  It is an incredibly bad idea and an astonishingly
poor precedent to restructure the file system instead of fixing losing code,
and I can't believe people want to figure out all over again where the
LISPM directories on OZ are.
-------
10-Sep-82 19:22:46-EDT,664;000000000000
Date: 10 September 1982 13:00-EDT
From: Eugene C. Ciccarelli <ECC at MIT-ML>
Subject: initial idle time
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.25,
Experimental ZMail 46.3, microcode 165, hack me, on Lisp Machine Nine:

How about having cold-boot initialize the idle time to 0?  This machine,
for instance, booted with an idle time initially at 44 minutes.  While
not critical, having a more useful idle time would help interpret the
demand there is on the lisp machines -- sometimes I do a :FINGER @*LISPM
from home, for instance, and would like to know whether to not bother
coming over here.
10-Sep-82 19:44:50-EDT,486;000000000000
Date: Friday, 10 September 1982, 14:14-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.25,
Experimental ZMail 46.3, microcode 165, try me,
on Lisp Machine Twenty-five:

When one selects a band for which the microcode is not present on the disk, the
message "This band appears to go with microcode NIL, which is not..." is
printed.  This is not a fukt label, it happens all the time.
10-Sep-82 22:06:21-EDT,748;000000000000
Date: Friday, 10 September 1982, 21:52-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: RG.JMTURN at MIT-OZ
Cc: ZVONA at MIT-OZ, bug-lispm at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 10 Sep 82 11:55-EDT from RG.JMTURN at MIT-MC

I suggest you spend less time whacking away and more time hacking away.

I also suggest you fix your headers so people don't reply to RG.JMTURN
at MIT-MC.

Indeed, the reason you can't load the tape is because heirarchical
directories aren't implemented.  However, the real bug is that there is
no logical pathname translation on your carry tapes.  It certainly
should be trivial to kludge RESTORE-MAGTAPE to load the wrong files for
your purposes, if you aren't up to fixing the real bug.
10-Sep-82 23:11:15-EDT,1365;000000000000
Mail-From: RG.JMTURN created at 10-Sep-82 23:09:03
Date: Friday, 10 September 1982  23:09-EDT
Sender: RG.JMTURN at MIT-OZ
From: RG.JMTURN at MIT-MC
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   bug-lispm at MIT-OZ, ZVONA at MIT-OZ

    Date: Friday, 10 September 1982, 21:52-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
    To:   RG.JMTURN
    cc:   ZVONA, bug-lispm, DLA at SCRC-TENEX

    I also suggest you fix your headers so people don't reply to RG.JMTURN
    at MIT-MC.

I can't help the headers Babyl puts on my messages.

    Indeed, the reason you can't load the tape is because heirarchical
    directories aren't implemented.  However, the real bug is that there is
    no logical pathname translation on your carry tapes.  It certainly
    should be trivial to kludge RESTORE-MAGTAPE to load the wrong files for
    your purposes, if you aren't up to fixing the real bug.

I fixed it (in a limited sense) at the writing end. I now have some
(non-installed) functions to use a new directory name onto the tape
at write-time. If someone else wants to take the time to merge them
gracefully into the magtape/copy sources, they can. This doesn't
represent laziness on my part, it's just almost impossible for me to
do any long term hacking on the file system at the moment. Maybe in 6
months... 

					James

-------
11-Sep-82 06:55:36-EDT,2406;000000000000
Date: Saturday, 11 September 1982  06:39-EDT
From: DLW at SCRC-TENEX
to: rwk at SCRC-TENEX
Cc: BUG-LISPM at MIT-OZ, KMP at MIT-OZ
Subject: Wrong init

KMP's problem is completely valid.  Your solution is OK but
does not address the deeper issues; we have discussed this
before.  The key problem is that the notion of logging in
is blurred; in one meaning it means "loggging into the Lisp
Machine", which tells the machine your real name and sets
your homedir, thus specifying your init file; in the other
meaning it means to tell a FILE server how to log into a remote
host, primarily for purposes of access control.  These should
be more firmly separated.

The old bug that if you accessed foo's directory, the machine thought
your name was George Foo was due to this modularity confusion.  (A
simple hack fixes the problem adequately, but it is a good example
of the confusion in the code.)

Suppose I have been using OZ, and told it to log in as DLW.
Now suppose I want to access RWK's dir and I know his password.
It should be possible for me to close the FILE server and then
get a new one and log it in as RWK.  In fact, ideally there
should be a nice window-oriented display of what FILE servers
exist and who they are logged in as (the password need not
be stored nor displayed here!) and a set of commands to let
the user log out such servers and create new ones.

Your solution is also good; nobody should ever have to use my
proposed window-oriented thing to just do simple stuff.  But
the modularity you propose is not consonant with the "right
thing", although it IS the most compatible way to wedge the
right functionality into the present wrong modularity.  In
reality, the LispM should be more aware at the QFILE level
whether the reason it is logging in is simply to establish
a file server, or to actually accomplish the LOGIN function.
For example, even with your change, it will be true that when
I log in a file server as RWK, "RWK" will be looked up in
the inquir data base and the answers passed to by Lisp Machine,
which will then ignore them; the inefficiency of this bothers
me some, but the wrong-ness of it bothers me more.

Maybe we should implement it as you said, for now, and then
fix this problem "correctly" in the new FILE protocol system.
The window-oriented frobboz I proposed almost certainly
belongs in Peek somewhere.
11-Sep-82 13:11:18-EDT,613;000000000000
Date: Saturday, 11 September 1982, 13:02-EDT
From: Ken Haase <KwH at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In System 210.126, ZMail 45.14, Remote-File 103.0, Hecate 1.0,
microcode 903, site configuration 16, u903, on Lisp Machine Nine:

LOAD-PATCHES should take a ':BATCH option like DEFSYSTEM which is like
':NO-SELECTIVE but with more-processing turned off.  In addition, there
should be a way to supress the "file for warnings" message from
make-system; (maybe by a property of the system?  why doesn't it just
use the default directory for the system.  (it defaults to my homedir
currently))

Ken
11-Sep-82 14:50:36-EDT,1242;000000000000
Mail-From: GUMBY created at 11-Sep-82 14:47:23
Date: 11 September 1982  14:47-EDT (Saturday)
Sender: GUMBY at MIT-OZ
From: David Vinayak Wallace <GUMBY at MIT-MC>
To:   RG.JMTURN at MIT-MC
Cc:   bug-lispm at MIT-OZ, David L. Andre <DLA at SCRC-TENEX>,
      ZVONA at MIT-OZ

    Mail-From: RG.JMTURN created at 10-Sep-82 23:09:03
    Date: Friday, 10 September 1982  23:09-EDT
    Sender: RG.JMTURN at MIT-OZ
    From: RG.JMTURN at MIT-MC
    To:   David L. Andre <DLA at SCRC-TENEX>
    Cc:   bug-lispm at MIT-OZ, ZVONA at MIT-OZ

        Date: Friday, 10 September 1982, 21:52-EDT
        From: David L. Andre <DLA at SCRC-TENEX>
        To:   RG.JMTURN
        cc:   ZVONA, bug-lispm, DLA at SCRC-TENEX

        I also suggest you fix your headers so people don't reply to RG.JMTURN
        at MIT-MC.

    I can't help the headers Babyl puts on my messages.

Oh yes you can; that's the whole point of EMACS! You can put

Babyl Reply-to Field:"RG.JMTURN@OZ"

In your bbabyl.vars file, or

:i* RG.JMTURN@OZ$m.vBabyl Reply-To Field$

in your babyl.init. Alternitavely, have people reply to JMTURN@MC; I
assume it forwards correctly. Note that the dollar-signs in the second
example are altmodes.
-------
11-Sep-82 17:50:33-EDT,563;000000000000
From: pace@MIT-ML
Date: 09/11/82 17:47:27

pace@MIT-ML 09/11/82 17:47:27
To: (BUG LISPM) at MIT-AI
In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.61,
ZMail 45.6, microcode 148,  , on Zarniwoop:

I was peacefully typing to zmacs today when, apparently, someone tried to send
me a message from the chaosnet, and a little window popped up and said "process
converse got an error".  The error message was something like "nil is not a function",
and the stack showed the problem was within "zwei:receive-msg."

Good luck,
Pace


12-Sep-82 03:49:29-EDT,686;000000000000
Date: 12 September 1982 03:41-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 79.52, and I expect in later systems, though I ain't checked...

SI:DESCRIBE-SYSTEM names the file that the system is defined in but does not
give its version number. eg, for the KBE System, it just mentions 
OZ:PS:<KBE.SOURCE>SYSDEF but it does not give the actual file name that
the system was built from. That'd be really useful information to have around
later. Knowing which files the system was built from is only half the battle.
It'd be a real pain to reconstruct the system definition if I had to from 
the information typed out by SI:DESCRIBE-SYSTEM.
-kmp
12-Sep-82 08:08:21-EDT,1386;000000000000
Date: 12 September 1982 08:04-EDT
From: Howard D. Trachtman <Hdt at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.23,
Experimental ZMail 46.3, microcode 165, try me, on Lisp Machine Six:

The following code, when compiled, produces a Warning: the
variable PROTOCOL is bound but never used, when this is clearly
not the case, and the code works.				  

(DEFUN USER-LOGGED-INTO-HOST-P (USER HOST &AUX FINGER-INFO HOST-TYPE PROTOCOL)
  "Return T or nil on the basis of whether a user is logged into
a particular host"
  (SETQ FINGER-INFO (WITH-OUTPUT-TO-STRING (FINGER-INFO)
		      (CHAOS:FINGER (STRING-APPEND (STRING-APPEND USER "@") HOST)
				    FINGER-INFO)))
  (SETQ HOST-TYPE (CHAOS:TYPE-OF-HOST HOST))
  (IF (STRING-EQUAL HOST-TYPE "lispm")
	;lispm's return as the first thing the name of the current user.
      (STRING-EQUAL USER (SUBSTRING FINGER-INFO 0 (STRING-LENGTH USER)))
    (*CATCH 'FOUND-IT
      (DOLIST (PROTOCOL CHAOS:HOST-FINGER-PROTOCOL-ALIST)
	(IF (STRING-EQUAL HOST-TYPE (CAR PROTOCOL))
	    (*THROW 'FOUND-IT (IF (CDDR PROTOCOL)
				  (NOT (STRING-SEARCH (CADR PROTOCOL) FINGER-INFO))
				(STRING-SEARCH (CADR PROTOCOL) FINGER-INFO)))))
      (FERROR "~S is not a known type of host that supports
the NAME protocol" HOST-TYPE)))); plasma,nswit,chaos-gateway,mos,dos,magicsix
12-Sep-82 11:35:34-EDT,1722;000000000000
Date: Sunday, 12 September 1982, 11:20-EDT
From: David E. Goldfarb <DEG at SCRC-TENEX>
To: Hdt at MIT-ML, BUG-LISPM at MIT-OZ
Cc: DEG at SCRC-TENEX

    Date: 12 September 1982 08:04-EDT
    From: Howard D. Trachtman <Hdt at MIT-ML>
    To: BUG-LISPM at MIT-OZ

    In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.23,
    Experimental ZMail 46.3, microcode 165, try me, on Lisp Machine Six:

    The following code, when compiled, produces a Warning: the
    variable PROTOCOL is bound but never used, when this is clearly
    not the case, and the code works.				  

    (DEFUN USER-LOGGED-INTO-HOST-P (USER HOST &AUX FINGER-INFO HOST-TYPE PROTOCOL)
      "Return T or nil on the basis of whether a user is logged into
    a particular host"
      (SETQ FINGER-INFO (WITH-OUTPUT-TO-STRING (FINGER-INFO)
			  (CHAOS:FINGER (STRING-APPEND (STRING-APPEND USER "@") HOST)
					FINGER-INFO)))
      (SETQ HOST-TYPE (CHAOS:TYPE-OF-HOST HOST))
      (IF (STRING-EQUAL HOST-TYPE "lispm")
	    ;lispm's return as the first thing the name of the current user.
	  (STRING-EQUAL USER (SUBSTRING FINGER-INFO 0 (STRING-LENGTH USER)))
	(*CATCH 'FOUND-IT
	  (DOLIST (PROTOCOL CHAOS:HOST-FINGER-PROTOCOL-ALIST)
	    (IF (STRING-EQUAL HOST-TYPE (CAR PROTOCOL))
		(*THROW 'FOUND-IT (IF (CDDR PROTOCOL)
				      (NOT (STRING-SEARCH (CADR PROTOCOL) FINGER-INFO))
				    (STRING-SEARCH (CADR PROTOCOL) FINGER-INFO)))))
	  (FERROR "~S is not a known type of host that supports
    the NAME protocol" HOST-TYPE)))); plasma,nswit,chaos-gateway,mos,dos,magicsix

You bind PROTOCOL twice!  Remove it from the &aux declaration in the first line; it is
bound by the dolist.

				- David
12-Sep-82 15:10:36-EDT,438;000000000000
Mail-From: EB created at 12-Sep-82 15:09:06
Date: 12 Sep 1982 1509-EDT
From: Ed Barton <EB at MIT-OZ>
To: Hdt at MIT-ML
cc: BUG-LISPM at MIT-OZ, EB at MIT-OZ
In-Reply-To: Your message of 12-Sep-82 0807-EDT

The variable PROTOCOL *IS* bound but not used in your example.  It
is bound once in the argument list and once in the DOLIST.  The argument-list
PROTOCOL (not an argument but an &AUX variable) does not get used.
-------
12-Sep-82 18:34:50-EDT,474;000000000000
Date: Sunday, 12 September 1982, 18:26-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
To: gren at MIT-OZ, bug-lispm at MIT-OZ

I believe it is a bug in the Twenex file server that if asked to complete
"SRC:<L.CHAOS>SYS" with the default being ANYTHING.LISP and option :NEW-OK,
it returns the string "SRC:<L.CHAOS>SYS.LISP".  It should not put any
filetype into the result of the completion unless it is returning the
filename of an existing file, even with :NEW-OK.
12-Sep-82 21:44:33-EDT,232;000000000000
Date: 12 Sep 1982 1533-PDT
From: KDO at SRI-KL
Subject: Very large arrays
To: bug-lispm at MIT-MC

(Make-array 500000.) will wedge your machine forever until you cold-boot it.  This
is in system 210.120.

					Ken
-------
12-Sep-82 22:17:36-EDT,352;000000000000
Date: Sunday, 12 September 1982, 22:10-EDT
From: File Transfer Login <anonymous at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 210.126, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 19, 210.80 FS 27.4, on Lisp Machine Five:

Terminal-1-F here breaks in SI:PARSE-HOST, saying MIT-APIARY-2 is not a known host.
13-Sep-82 02:46:51-EDT,1992;000000000000
Date: Monday, 13 September 1982, 02:36-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Printing the generic pathname when more info is wanted
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 12 Sep 82 03:41-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: 12 September 1982 03:41-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In System 79.52, and I expect in later systems, though I ain't checked...

    SI:DESCRIBE-SYSTEM names the file that the system is defined in but does not
    give its version number. eg, for the KBE System, it just mentions 
    OZ:PS:<KBE.SOURCE>SYSDEF but it does not give the actual file name that
    the system was built from. That'd be really useful information to have around
    later. Knowing which files the system was built from is only half the battle.
    It'd be a real pain to reconstruct the system definition if I had to from 
    the information typed out by SI:DESCRIBE-SYSTEM.
    -kmp
(send (fs:parse-pathname "OZ:PS:<KBE.SOURCE>SYSDEF") 'get ':qfasl-source-file-unique-id)
will get the information you want, sometimes.
I make SI:DESCRIBE-SYSTEM print it, in the source.

Actually, what I did was create SI:GET-SOURCE-FILE-FULL-NAME, which
various other things should use as well.  For example, the editor
should not assume a file type of LISP, it should use this and
bash in ':TYPE ':NEWEST.

The QFASL-SOURCE-FILE-UNIQUE-ID has a physical pathname, instead of
a logical pathname.  Since I can't backtranslate it after a band has
been moved to another site, I made it copy the host, device, directory,
and name from the generic pathname, and the type and version from the
"unique id".  This strikes me as a gross crock.  I think it should
store the backtranslated pathname instead, and the host as separate
additional information (like who compiled it, when, etc.)...

The other problem is that this information is only kept for compiled
files, not for READFILE'd files.
13-Sep-82 03:06:42-EDT,456;000000000000
Date: 13 September 1982 03:00-EDT
From: Kent M. Pitman <KMP at MIT-MC>
Subject: SI:DESCRIBE-SYSTEM and the SYSDEF file
To: rwk at SCRC-TENEX
cc: BUG-LISPM at MIT-MC

It is worth noting that the source was a .LISP, not a .QFASL version. I
do not bother to compile my system definition. Will your patch correctly
handle this case? It is important to me that the information be stored
regardless of whether the system definition is compiled or not.
13-Sep-82 12:26:28-EDT,834;000000000000
Date: Monday, 13 September 1982, 12:18-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: [Mail which EE tried to send to AI]
To: BUG-LISPM-MIT at MIT-OZ
In-reply-to: The message of 7 Sep 82 02:41-EDT from kmp at MIT-MC

    Date: Tuesday, 7 September 1982, 02:41-EDT
    From: Kent M. Pitman <kmp at MIT-MC>

    I guess some SYSTEM object with funny print methods is getting PRIN1'd instead 
    of PRINC'd or something like that. By the way, there is not even a file named
    OZ:PS:<KBE.PATCH>KNOWLEDGE-BASED-EDITOR-41-0.LISP. I don't know if this should 
    matter.
That was fixed a while ago in the source.  It works in 217.

    While you're in looking at the code, it might be nice if it typed a crlf once 
    in a while in that second line since it's a sure thing it's going to be long.
Fixed in 217.8
13-Sep-82 12:27:14-EDT,910;000000000000
Date: Monday, 13 September 1982, 12:18-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: [Mail which EE tried to send to AI]
To: BUG-LISPM-MIT at MIT-OZ
In-reply-to: The message of 7 Sep 82 00:41-EDT from KMP at MIT-OZ

    Date: Tuesday, 7 September 1982, 00:41-EDT
    From:  <KMP at MIT-OZ>

    (login 'KMP 'OZ)
    Current login name is KMP for host MIT-OZ.
    Type either passsword or loginname<space>password: KBE<space><password>

    Loads the KBE's init file instead of mine. I wanted it to log in a file
    server as KBE but load my init. Is this an unreasonable thing to have wanted
    here? If I wanted to log in as the KBE and get its init file, I'd have said
    (LOGIN 'KBE 'OZ).
As far as OZ knows, you logged in as KBE.  You probably want to have a
switch in your init file for loading either the KMP environment or the
KBE environment, and punt logging in as KBE?
13-Sep-82 13:25:03-EDT,700;000000000000
Date: Monday, 13 September 1982, 13:19-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
To: KwH at MIT-OZ
Cc: BUG-LISPM at MIT-EECS

    Date: Saturday, 11 September 1982, 13:02-EDT
    From: Ken Haase <KwH at MIT-OZ>
    LOAD-PATCHES should take a ':BATCH option like DEFSYSTEM which is like
    ':NO-SELECTIVE but with more-processing turned off.  In addition, there
    should be a way to supress the "file for warnings" message from
    make-system; (maybe by a property of the system?  why doesn't it just
    use the default directory for the system.  (it defaults to my homedir
    currently))
LOAD-PATCHES should support :NOWARN, if anything, since that is :BATCH without
the file.
13-Sep-82 13:44:44-EDT,330;000000000000
Date: Monday, 13 September 1982, 13:36-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: PGS at MIT-ML, HDT at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 2 Sep 82 08:43-EDT from Patrick G. Sobalvarro <PGS at MIT-ML>

I copied your changes to MULTIPLY-MATRICES more-or-less intact into our
sources.  Thanks.
14-Sep-82 02:48:29-EDT,1005;000000000000
Date: 14 Sep 1982 0239-EDT
From: Barry Margolin <S.BARMAR at MIT-EECS>
Subject: Replace vs. overstrike
To: bug-lispm at MIT-EECS

In NWS in System 210.116, ZMail 45.6, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 14,  McLispM, on Marvin:

Is there an ALU function that I can specify for a window such that it
will act like a normal video terminal, i.e. characters always replace
the previous character there, rather than or'ing themselves in?  I
specifically would like to use this for a SUPDUP window, as the host I
am talking to (MIT-Multics) doesn't deal with overstriking video
terminals well.  I tried TV:ALU-SETA, which seemed to work except for
one thing: only every two or three characters ended up showing on the
line, while other characters were just blanked out.  
-------
I had to remail this because BUG-NWS@EE forwards to BUG-NWS@AI, and
you know what state AI is in.  Could someone fix up such things,
please.
-------
14-Sep-82 03:39:35-EDT,728;000000000000
Date: 14 Sep 1982 0328-EDT
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
Subject: On Cadr-20
To: bug-lispm at MIT-EECS


  In System 210, in Converse,

I tried (qsend "Hdt" "this is going to lose") and got a 
  
>ERROR:The argument ADDRESS was NIL, which is not an address.
 While in the function chaos:open-connection <- 
chaos:scan-lispms <- chaos:find-lispms-logged-in-as-user

The error seems to be in chaos:scan-lispms, as this works fine
in system 87.

 Meanwhile, while sending a bug report, I got an error NIL is
not a function in ZWEI:background-load-file <- ...
Zmail had previously read in part of my babyl file from Oz.
  This totally wedged my machine, and warm-booting didn't help.

-------
14-Sep-82 04:49:36-EDT,787;000000000000
Date: Tuesday, 14 September 1982, 04:42-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Replace vs. overstrike
To: S.BARMAR at MIT-EECS
Cc: bug-lispm at MIT-EECS
In-reply-to: The message of 14 Sep 82 02:39-EDT from Barry Margolin <S.BARMAR at MIT-EECS>

    Date: 14 Sep 1982 0239-EDT
    From: Barry Margolin <S.BARMAR at MIT-EECS>

    Is there an ALU function that I can specify for a window such that it
    will act like a normal video terminal, i.e. characters always replace
    the previous character there, rather than or'ing themselves in?
Only on the L machine (3600).  On the A machine, ALU-SETA causes whole
32-bit words to be replaced, rather than character-wide columns.  Sad but
true; maybe it would be better just to fix the Multics supdup server.
14-Sep-82 09:13:43-EDT,670;000000000000
Date: Tuesday, 14 September 1982, 09:01-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: On Cadr-20
To: Hdt at MIT-OZ, bug-lispm at MIT-EECS
In-reply-to: The message of 14 Sep 82 03:28-EDT from Howard Daniel Trachtman <Hdt at MIT-OZ>

    Date: 14 Sep 1982 0328-EDT
    From: Howard Daniel Trachtman <Hdt at MIT-OZ>

    >ERROR:The argument ADDRESS was NIL, which is not an address.
     While in the function chaos:open-connection <- 
    chaos:scan-lispms <- chaos:find-lispms-logged-in-as-user

This has been patched in system 210.  What minor version were you
running?  Please include full system version numbers in all bug
reports.  Thanks.
14-Sep-82 13:04:32-EDT,1203;000000000000
Date: Tuesday, 14 September 1982, 10:44-EDT
From: James E. Kulp <JEK at SCRC-TENEX>
Subject: Replace vs. overstrike
To: Moon at SCRC-TENEX
Cc: S.BARMAR at MIT-EECS, bug-lispm at MIT-EECS
In-reply-to: The message of 14 Sep 82 04:42-EDT from David A. Moon <Moon at SCRC-TENEX>

    Date: Tuesday, 14 September 1982, 04:42-EDT
    From: David A. Moon <Moon at SCRC-TENEX>
	Date: 14 Sep 1982 0239-EDT
	From: Barry Margolin <S.BARMAR at MIT-EECS>
	Is there an ALU function that I can specify for a window such that it
	will act like a normal video terminal, i.e. characters always replace
	the previous character there, rather than or'ing themselves in?
    Only on the L machine (3600).  On the A machine, ALU-SETA causes whole
    32-bit words to be replaced, rather than character-wide columns.  Sad but
    true; maybe it would be better just to fix the Multics supdup server.
In 217, <network>-O toggles overstriking behavior in supdup and telnet.
I.e. the default is that characters overstrike the position that they land on,
but after <network>-O (an odd number of times) they erase the position first if needed.
So help is on its way.  Of course, this slows things down a bit...
14-Sep-82 17:22:06-EDT,2054;000000000000
Date:  14 September 1982 17:16 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Replace vs. overstrike
Sender:  Margolin.Multics at MIT-MULTICS
To:  James E. Kulp <JEK at SCRC-TENEX>
cc:  Moon at SCRC-TENEX, S.BARMAR at MIT-EECS, 
     bug-lispm at MIT-EECS
In-Reply-To:  Message of 14 September 1982 13:27 edt from James E. Kulp

    Date:  Tuesday, 14 September 1982, 10:44-EDT
    From:  James E. Kulp <JEK at SCRC-TENEX>
    Subject:  Replace vs. overstrike

        Date: Tuesday, 14 September 1982, 04:42-EDT
        From: David A. Moon <Moon at SCRC-TENEX>
              Date: 14 Sep 1982 0239-EDT
              From: Barry Margolin <S.BARMAR at MIT-EECS>
              Is there an ALU function that I can specify for a window such that it
              will act like a normal video terminal, i.e. characters always replace
              the previous character there, rather than or'ing themselves in?
        Only on the L machine (3600).  On the A machine, ALU-SETA causes whole
        32-bit words to be replaced, rather than character-wide columns.  Sad but
        true; maybe it would be better just to fix the Multics supdup server.
    In 217, <network>-O toggles overstriking behavior in supdup and telnet.
    I.e. the default is that characters overstrike the position that they land on,
    but after <network>-O (an odd number of times) they erase the position first if needed.
    So help is on its way.  Of course, this slows things down a bit...

How hard do you think it would be to retrofit this into 210
supdup/telnet?  Or, alternatively, how soon will 217 (or something like
it) show up at MIT?  It sounds like a simple patch, and I could probably
do the retrofitting myself, but it would be even easier if I had access
to the 217 source.

Fixing the SUPDUP server would be nice, but I don't have the time or
knowledge to do this.  In addition, putting the functionality on the
LispM end speeds things up, as it requires less network transmission
(this is a bottleneck on Multics).
14-Sep-82 19:15:33-EDT,708;000000000000
Date: Tuesday, 14 September 1982, 19:10-EDT
From:  <pace at MIT-EECS>
To: BUG-LISPM at EE

In System 210.101, ZMail 45.3, Remote-File 103.0, microcode 895,
site configuration 9, on Zarniwoop:

This lisp machine just got, I guess, a fairly serious error.  It had just been cold
booted, and I logged in with no init file.  I made a short supdup connection, then
did "terminal 1 F".  After a moment, it said:

>>TRAP: The word #<DTP-FREE 13065324> was read from location 13065324 (in PATHNAME-AREA).
While in the function STORE-ARRAY-LEADERCHAOS:ALLOCATE-PKTCHAOS:OPENCONNECTION
CHAOS:FINGER-ALL-LMS.

It still seems to be running OK, although I haven't used the network again, yet.

	Pace
14-Sep-82 21:15:23-EDT,826;000000000000
Mail-From: MARTY created at 14-Sep-82 21:12:50
Date: Tuesday, 14 September 1982  21:12-EDT
Sender: MARTY at MIT-OZ
From: Martin David Connor <MARTY at MIT-MC>
To:   Bug-Lispm at MIT-OZ
Cc:   Kenneth R.K. Nielsen <KRKN at MIT-OZ>
Subject: cadr-23 location

    Mail-From: KRKN created at 13-Sep-82 18:53:53
    Date: 13 Sep 1982 1853-EDT
    From: Kenneth R.K. Nielsen <KRKN at MIT-OZ>
    Subject: cadr-23 location
    To: marty at MIT-OZ

    Please change the appropriate file to show the new permanent location of cadr-23
    as rm 902 Vision Lab x6769 (or forward the request to the appropriate person).
    Thanks,
    Ken Nielsen and T. Poggio
    -------

I don't know how to do this offhand; would someone take care of it,
and if it is trivial, reveal the procedure?
Thanks,

Marty

-------
15-Sep-82 06:42:11-EDT,2658;000000000000
Date: 15 September 1982 06:40-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.26,
Experimental ZMail 46.3, microcode 165, Use me,
on Lisp Machine Twenty-three:

The following dribble session seems to demonstrate a serious bug in the operation
of closures in this system.  If it is not possible to fix the bug quickly, please
tell me a way to get around it so I can continue my work.

(viewf "oz:ps:<eb.junk>closure.lisp")
; -*- Mode:Lisp; Package:User -*-

(defun fix-initial-args (f &rest initial-args)
  (let-closed ((initial-args (copylist initial-args))
	       (f f))
    #'(lambda (&rest final-args)
	(format t "~&closure before apply: initial-args = ~A~%" initial-args)
	(apply f (append initial-args final-args))
	(format t "~&closure after apply: initial-args = ~A~%" initial-args))))

(defun self-sender (&rest initial-args)
  (let ((cl (fix-initial-args self initial-args)))
    (describe cl)
    cl))

(defflavor foo
  ((foo-list '(1 2 3 4)))
  ())

(defmethod (foo :map-over-foo-list) (f)
  (mapc f foo-list))

(defflavor bar
  ((foo (make-instance 'foo)))
  ())

(defmethod (bar :lose) ()
  (funcall foo ':map-over-foo-list (self-sender ':print)))

(defmethod (bar :print) (x)
  (print x))

NIL
(load "ps:<eb.junk>closure.qfasl")
Loading OZ:PS:<EB.JUNK>CLOSURE.QFASL into package USER

#FS:TOPS20-PATHNAME "OZ:PS:<EB.JUNK>CLOSURE.QFASL"
(make-instance 'bar)
#<BAR 22034333>
NIL
(funcall * ':lose)
#<DTP-CLOSURE 26461560> is a closure of #<DTP-FEF-POINTER (INTERNAL FIX-INITIAL-ARGS 0) 22573213>:
   Value cell of INITIAL-ARGS:          ((PRINT))
   Value cell of F:                     #<BAR 22034333>

    FEF for function (INTERNAL FIX-INITIAL-ARGS 0)
    Initial relative PC: 32 halfwords.
    The Fast Argument Option is active:
       Evaluated rest arg, 0 args.
    The length of the local block is 1
    The total storage length of the FEF is 24
    There are no special variables present.
    There is no ADL.
    Debugging info:
      (COMPILER:LOCAL-MAP ((FINAL-ARGS)))
    
closure before apply: initial-args = ((#<DTP-FEF-POINTER MAPC 2060411> . #<DTP-CLOSURE 26461560>))

>>ERROR: The object #<BAR 22034333> received a (#<DTP-FEF-POINTER MAPC 2060411> . #<DTP-CLOSURE 26461560>) message, which went unclaimed.
The rest of the message was (1)
While in the function #<BAR 22034333>  SI:INSTANCE-HASH-FAILURE  (INTERNAL FIX-INITIAL-ARGS 0)

#<BAR 22034333>:
   Arg 0: (#<DTP-FEF-POINTER MAPC 2060411> . #<DTP-CLOSURE 26461560>)
   Arg 1: 1
c-Z 
* 
(dribble-end)
15-Sep-82 09:06:30-EDT,531;000000000000
Date: Wednesday, 15 September 1982  02:23-EDT
From: MOON at SCRC-TENEX
To:   Martin David Connor <MARTY at MIT-MC>
Cc:   Bug-Lispm at MIT-OZ, Kenneth R.K. Nielsen <KRKN at MIT-OZ>
Subject: Changing cadr-23 location
In-reply-to: The message of 14 Sep 1982  21:12-EDT from Martin David Connor <MARTY at MIT-MC>

Edit the file SYS:SITE;LMLOCS LISP and follow the directions in the comments
at the front of that file.  If they run two brands of software on that machine,
the operation must be done twice, once in each brand.
15-Sep-82 09:07:22-EDT,623;000000000000
Date: Wednesday, 15 September 1982  03:56-EDT
From: MOON at SCRC-TENEX
To:   KDO at SRI-KL
Cc:   bug-lispm at MIT-MC
Subject: Very large arrays
In-reply-to: The message of 12 Sep 1982 1533-PDT from KDO at SRI-KL

    Date: 12 Sep 1982 1533-PDT
    From: KDO at SRI-KL

    (Make-array 500000.) will wedge your machine forever until you cold-boot it.  This
    is in system 210.120.

It works for me.  This is in 217, although I doubt that it matters.  It is not
fast, since it has to page in the whole array twice in order to initialize it,
due to the way things are currently modularized in the microcode.
15-Sep-82 09:08:14-EDT,1059;000000000000
Date: 15 Sep 1982 0557-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: cadr-23 location
To: MARTY at MIT-MC, Bug-Lispm at MIT-OZ
cc: KRKN at MIT-OZ, RWK at SCRC-TENEX
In-Reply-To: Your message of 14-Sep-82 2118-EDT

I don't know the right proceedure to use in the LMI/RMS system, but
in the Symbolics software (i.e. system 210.) you read the file
SYS: SITE; LMLOCS LISP > into a ZMACS buffer, make the changes, and
write them back out.  Then call the function (SI:RECOMPILE-SITE-FILES).
Individual machines find out about the changes by loading patches.
In the case of changing locations, it would be a good idea to do
(LOAD-AND-SAVE-PATCHES) on the affected machine (immediately after a
cold boot) to update its FINGER response immediately.

For the LMI/RMS software, the same file would be edited, except that
SYS: means OZ in that software, instead of EE.  Then you probably
recompile that file with QC-FILE, and then load the result into
freshly booted bands of each of the affected machines, by hand,
and resave.
-------
15-Sep-82 11:50:07-EDT,1158;000000000000
Date: Wednesday, 15 September 1982, 09:45-EDT
From: Bruce E. Edwards <BEE at SCRC-TENEX>
To: EB at MIT-ML, BUG-LISPM at MIT-OZ
In-reply-to: The message of 15 Sep 82 06:40-EDT from Edward Barton <EB at MIT-ML>

This is a bug in your code and a known problem in the system. The problem is that
you are putting a rest argument into static data structure. This was caused by a
bug in your program. SELF-SENDER takes a rest argument, causing a stack list to
be consed. Then you pass this list to fix-initial-args which takes a rest argument,
which makes it a doubly nested stack list. Copylist only copies the top level of
the list. Thus the inner list is still on the stack. This is a bug in your code,
because you only want a single level of nesting. This can either be fixed by making
self-sender lexpr-funcall fix-initial-args on initial-args, or by making
fix-initial-args take the initial-args as a second argument, not as a rest.
In other words either change the call to fix-initial-args in self-sender to be:
(lexpr-funcall 'fix-initial-args self initial-args) or change fix-initial-args to be:

(defun fix-initial-args (f initial-args)
15-Sep-82 13:40:11-EDT,1363;000000000000
Mail-From: RPK created at 15-Sep-82 13:37:05
Date: 15 September 1982  13:37-EDT (Wednesday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   Bug-Lispm at MIT-OZ, KRKN at MIT-OZ, MARTY at MIT-OZ
Subject: cadr-23 location

Systems 80+ don't have a notion of site files as something that can be
numbered, so you have to QC-FILE manually.  A new host table can be generated
by incanting (MAKE-SYSTEM "Chaos" ':compile ':selective) and processing only
SYS:SITE;HOSTS TEXT and SYS:SITE;HSTTBL LISP.  There should be an easier way
to do this (it's already in 210).

The new files should be loaded with the function
SI:UPDATE-SITE-CONFIGURATION-INFO.  If you happen to load the host table
manually, you will not run the site initialisations neccesary to pathname
parsing for LispM file systems.  (I found this out the hard way.)  Then, of
course, you save the environment in the appropriate way.

Since I can write into the LispM directories on EE, every so often I merge
the two LMLOCS files together.  The comments at the beginning of the file now
reflect that it belongs on two machines.  Anybody else who can write into
both sets of source directories (anyone on OZ can do it for 80+) is
encouraged to keep the two files identical when he changes either one.

``Bob''
-------
15-Sep-82 21:41:42-EDT,663;000000000000
Date: Wednesday, 15 September 1982, 17:38-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: cadr-23 location
To: RPK at MIT-MC
Cc: RWK at SCRC-TENEX, LISPM-ACCOUNTS at MIT-EECS, Bug-Lispm at MIT-OZ,
    KRKN at MIT-OZ, MARTY at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 15 Sep 82 13:37-EDT from Robert P. Krajewski <RPK at MIT-MC>

I thought I did this a while ago, but I just did it again.
Everyone, including "anonymous", now has access to create files in
EE:LIB:<LISPM.SITE>.  Thus anyone can update EE's site files.  After
editing the files, (si:recompile-site-files) from a 210 will make the
changes permanent, and "patch" them.
15-Sep-82 22:36:11-EDT,464;000000000000
Date: Wednesday, 15 September 1982, 22:35-EDT
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System
87.30, Experimental ZMail 46.3, microcode 171, Try Me!, on Lisp Machine
One:

Typing the HELP character at the initial LISP listener displays a help
message, but when you type a space to get rid of the help message, you
get the read error ":TYI-NO-HANG from inside a rubout handler."
16-Sep-82 12:33:30-EDT,542;000000000000
Date: Thursday, 16 September 1982, 12:31-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 210.124, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 16, u903, on Lisp Machine Eighteen:

From point of view of h-c-A, it would be good if the argument to
ZMAIL were called saved-mail-pathname or something.  I first
tried (zmail "<ZVONA>") and when that lost tried my mail file
pathname.  Only when that wrote back over the mail file did I
realize it was supposed to be <ZVONA>ZVONA.BABYL.
16-Sep-82 18:32:53-EDT,463;000000000000
Date: Thursday, 16 September 1982, 12:24-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Re: Replace vs. overstrike
To: Barry Margolin at MIT-MULTICS at MIT-MC
Cc: JEK at SCRC-TENEX, Moon at SCRC-TENEX, S.BARMAR at MIT-EECS,
    bug-lispm at MIT-EECS
In-reply-to: The message of 14 Sep 82 17:16-EDT from Barry Margolin at MIT-MULTICS

I am trying my best to get MIT a release by next Wednesday or Thursday.
Hopefully I won't have to eat my words.
17-Sep-82 04:25:40-EDT,1120;000000000000
Date: Friday, 17 September 1982, 04:21-EDT
From: Ed Barton <EB at MIT-OZ>
Subject: Bug in DRIBBLE-START
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.30,
Experimental ZMail 46.3, microcode 171, try me,
on Lisp Machine Eighteen:

Consider the following file:

(defun foo-read (stream)
  (if (and (not rubout-handler)
	   (funcall stream ':operation-handled-p ':rubout-handler))
      (funcall stream ':rubout-handler '((:prompt foo-prompter)) #'foo-read stream)
    (read stream)))

(defun foo-prompter (stream &optional ignore)
  (format stream "~&foo:"))

(defun foo ()
  (foo-read terminal-io))

Suppose I load it with (load "ps:<eb.junk>read.lisp") and then type (foo).  The
dialog will look something like this:

(foo)
foo:'bar
(QUOTE BAR)
LIST
(foo)
foo:()
NIL
LIST

Now suppose I do (dribble-start) and try that again.  The dribble file will look
like this:

(foo)
(QUOTE BAR)
LIST
(foo)
NIL
LIST
(dribble-end)

The prompts are missing from the dribble file.  I want the dribble file to look
more like my screen did.
17-Sep-82 13:07:16-EDT,324;000000000000
Date: Friday, 17 September 1982, 10:53-EDT
From:  <Chen at MIT-LISPM-12>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.33,
Experimental ZMail 46.4, Experimental Remote-File 15.0,
Experimental Local-File 40.0, Experimental Spire 5.0, microcode 171,
Spire 5.0, on Lisp Machine Twelve:

17-Sep-82 13:09:15-EDT,324;000000000000
Date: Friday, 17 September 1982, 10:54-EDT
From:  <Chen at MIT-LISPM-12>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.33,
Experimental ZMail 46.4, Experimental Remote-File 15.0,
Experimental Local-File 40.0, Experimental Spire 5.0, microcode 171,
Spire 5.0, on Lisp Machine Twelve:

17-Sep-82 13:10:51-EDT,324;000000000000
Date: Friday, 17 September 1982, 10:55-EDT
From:  <Chen at MIT-LISPM-12>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.33,
Experimental ZMail 46.4, Experimental Remote-File 15.0,
Experimental Local-File 40.0, Experimental Spire 5.0, microcode 171,
Spire 5.0, on Lisp Machine Twelve:

17-Sep-82 14:57:30-EDT,448;000000000000
Date: Friday, 17 September 1982, 14:47-EDT
From: Ken Haase <KwH at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In System 210.128, ZMail 45.14, Remote-File 103.0, Hecate 1.11,
microcode 903, site configuration 23,  , on Lisp Machine Eight:

The machine configuration line in the herald (describing real and virtual
memory) would look nicer after the systems list (and before the
machine description) than before it.  (Minor esthetic point.)

Ken
17-Sep-82 15:08:19-EDT,630;000000000000
Date: Friday, 17 September 1982, 14:58-EDT
From: Ken Haase <KwH at MIT-OZ>
Subject: Accidental overwriting in scroll windows
To: BUG-nws at MIT-EECS
Cc: KwH at MIT-OZ

In nws in System 210.128, ZMail 45.14, Remote-File 103.0, Hecate 1.11,
microcode 903, site configuration 23,  , on Lisp Machine Eight:

Using the advertised "scroll windows," items overwrite each other, creating
a gross mess on the screen;  It is extremely repeatable (happens every day),
and I can demonstrate it at request.  Is this a known bug, or something silly?
(I do a little bit of hacking list items, but nothing terribly bizzare...

Ken
17-Sep-82 15:09:58-EDT,800;000000000000
Date: Friday, 17 September 1982, 15:05-EDT
From: ??? <Chen at MIT-LISPM-12>
To: BUG-LISPM at MIT-OZ
Cc: sp.chen at speech

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.35, ZMail 46.4,
Remote-File 15.0, Experimental Local-File 40.0, Experimental Spire 5.0,
Experimental FILE-Server 5.0, microcode 171, Spire 5.0,
on Lisp Machine Twelve:

Sometimes while in Zwei, invoking Meta-X or Meta-. causes some of the
characters which should appear in the mini-buffer to actually be put into
and appear in the main buffer. Usually it is the first few characters,
but sometimes the last few. The mini-buffer usually takes a while to
appear during these cases.

	sp.chen@speech

p.s. Sorry about the blank bug messages. They were due to a Zwei problem
which has now been patched by RG.
17-Sep-82 15:48:50-EDT,898;000000000000
Date: Friday, 17 September 1982, 15:36-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Lisp Machine Garbage Collector
To: info-lispm at MIT-OZ

I'd like to clarify something: the garbage collector on the Lisp Machine
IS supported software.  Many bugs have been fixed in it over the course
of the last year, and it works a lot better than it used to.  It still
causes a lot of paging, and that is hard to fix; however, if you use the
garbage collector and it causes your machine to crash mysteriously, we
want to know about it.  Please report such problems; thank you.

(If you turn on the GC when you are almost out of memory, you will still
run out of memory because there is no place to do the copying; that does
not count as a "bug" since it is inherently part of the algorithm.  If
you want to use the GC you must turn it on well in advance of running
out of memory.)
17-Sep-82 20:50:15-EDT,1054;000000000000
Date: Friday, 17 September 1982, 20:34-EDT
From: Howard I. Cannon <HIC at SCRC-TENEX>
Subject: Accidental overwriting in scroll windows
To: KwH at MIT-OZ
Cc: BUG-lispm at MIT-EECS
In-reply-to: The message of 17 Sep 82 14:58-EDT from Ken Haase <KwH at MIT-OZ>

    Date: Friday, 17 September 1982, 14:58-EDT
    From: Ken Haase <KwH at MIT-OZ>
    Subject: Accidental overwriting in scroll windows
    To: BUG-nws at MIT-EECS
    Cc: KwH at MIT-OZ

    In nws in System 210.128, ZMail 45.14, Remote-File 103.0, Hecate 1.11,
    microcode 903, site configuration 23,  , on Lisp Machine Eight:

    Using the advertised "scroll windows," items overwrite each other, creating
    a gross mess on the screen;  It is extremely repeatable (happens every day),
    and I can demonstrate it at request.  Is this a known bug, or something silly?
    (I do a little bit of hacking list items, but nothing terribly bizzare...

    Ken
Please tell me where I can find a file that lets me reproduce this.

BTW, we are no longer using BUG-NWS.
17-Sep-82 22:04:38-EDT,387;000000000000
Date: Friday, 17 September 1982, 21:58-EDT
From: Devon S. McCullough <Devon at MIT-MC>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.30,
Experimental ZMail 46.3, microcode 171, Try Me!, on Lisp Machine One:

While in SupDup, idly waiting for me to type something, this machine halted.
The LED's said 24.577 before I cold-booted.
18-Sep-82 03:05:21-EDT,629;000000000000
Mail-From: RMS created at 18-Sep-82 03:04:31
Date: 18 Sep 1982 0304-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Calling conventions of TRACE.
To: info-lispm-mit at MIT-OZ

Do you think it would be a good idea to change the way TRACE is invoked
to be (TRACE function &key &optional break exitbreak step ...)?
This would require the keywords and function name to be quoted.

I think that this is desirable because then people would be able
to remember how TRACE is called, and would not need a special
menu in the system menu in order to call it properly.
But I would like to know what you think.
-------
18-Sep-82 03:10:14-EDT,1038;000000000000
Mail-From: GUMBY created at 18-Sep-82 03:08:15
Date: 18 September 1982  03:08-EDT (Saturday)
Sender: GUMBY at MIT-OZ
From: David Vinayak Wallace <GUMBY at MIT-MC>
To:   Richard M. Stallman <RMS at MIT-OZ>
Cc:   Info-lispm at oz
Subject: Calling conventions of TRACE.

    Mail-From: RMS created at 18-Sep-82 03:04:31
    Date: 18 Sep 1982 0304-EDT
    From: Richard M. Stallman <RMS at MIT-OZ>
    Subject: Calling conventions of TRACE.
    To: info-lispm-mit at MIT-OZ

    Do you think it would be a good idea to change the way TRACE is invoked
    to be (TRACE function &key &optional break exitbreak step ...)?
    This would require the keywords and function name to be quoted.

    I think that this is desirable because then people would be able
    to remember how TRACE is called, and would not need a special
    menu in the system menu in order to call it properly.
    But I would like to know what you think.
    -------

Lousy idea, unless you can make them &optional &key &special?
david
-------
18-Sep-82 03:30:05-EDT,338;000000000000
Date: Saturday, 18 September 1982  02:14-EDT
From: MOON at SCRC-TENEX
To:   Ed Barton <EB at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: Bug not in DRIBBLE-START
In-reply-to: The message of 17 Sep 1982 04:21-EDT from Ed Barton <EB at MIT-OZ>

Try reading from STANDARD-INPUT like you are supposed to, instead of
from TERMINAL-IO.
18-Sep-82 04:54:54-EDT,8825;000000000000
Mail-From: RMS created at 18-Sep-82 04:51:15
Date: 18 Sep 1982 0451-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: System 87 and a half announcement
To: info-lispm-mit at MIT-OZ

Some significant features have been patched into system 87 since it was announced.
(That announcement did not go to INFO-LISPM since that mailing list had not
been moved to OZ yet; you can find it on OZ:SRC:<L.DOC>SYS87.MSG)

1) Complex numbers are supported.

A complex number can have any kind of number as its real part,
and any kind as its imaginary part.

(REALP x) is T if x is real.
(COMPLEXP x) is T if x is not real.

(COMPLEX r i) creates a complex number.

(IMAGPART c) returns the imaginary part of the number c,
 which is zero if c is real.

(REALPART c) returns the real part of the number c,
 which is c if c is real.

(CONJUGATE c) returns the conjugate of the number c,
 which is c if c is real.

(SIGNUM c) returns a number with magnitude 1 and the same phase as c.
 This is 1 for positive reals, -1 for negative reals.
 0 is an exception; (SIGNUM 0) is 0.

(PHASE c) returns the phase of the complex number c.
 It is 0 for positive reals.

(CIS x) returns exp(i*x) where x is real.

Two new array types are defined, ART-COMPLEX and ART-COMPLEX-FLOAT.
Using them reduces garbage collection if you have an array containing
only numbers, some of which are complex.  ART-COMPLEX allows the
real and imaginary parts to be anything, while ART-COMPLEX-FLOAT
converts them to flonums when you store into the array.

3) Rational numbers improved:

The support for rational numbers is now in closer to its final
Common Lisp form.

(RATIONALP x) is T if the number X is rational.
Note that integers are considered rationals.

(INTEGERP x) is T if x is an integer.  This is the same as FIXP.

(NUMERATOR x) returns the numerator of the rational numebr x,
which is x if x is an integer.

(DENOMINATOR x) returns the denominator of the rational number x,
which is 1 if x is an integer.

You get a rational number by calling RATIONAL or RATIONALIZE.
These convert floating point numbers to rationals.
(An integer is already a rational).
RATIONAL treats the flonum as an exact mathematical value,
whereas RATIONALIZE returns the simplest fraction which would
convert to the specified flonum.

RATIONALIZE takes a second argument which is the number of bits of
precision desired, or the ratio of the allowed error to the number itself.
It will produce a fraction that accounts for the specified precision
of the argument.  This is useful for arguments that are rational!
It will return another fraction with smaller numerator and denominator
that is close to the argument.

The new function %DIV, with integer arguments, will produce a rational value.
Eventually // will behave like %DIV.

2) New Common Lisp division functions:

(FLOOR x) returns the largest integer not greater than x.
(CEIL x) returns the smallest integer not less than x.
(TRUNC x) is (FLOOR x) if x is positive, (CEIL x) if x is negative.
(ROUND x) returns the closest integer to x.
 If x is midway between two integers, the even one is returned.

All four functions return a second value which is the remainder:
 the argument minus the value.

When given two arguments, these functions divide the first by the second
and convert the quotient to an integer.  The second value is 
the original dividend, minus the quotient times the divisor.

TRUNC is the same as the current meaning of //, when operating on fixnums.

3) Division of fixnums will change its meaning:

At some time in the future, ordinary division, the function //, will
behave differently on integer arguments: it will return a rational number
which is the mathematically correct ratio between the arguments.
This is part of the adoption of Common Lisp (and therefore, the same
Change will happen at some time in Symbolics systems as well).

If you have code which depends on dividing integers and getting an
integer as the value, you should convert your code now to use TRUNC
or one of the other integer division functions.

Meanwhile, the eventual meaning of // is available now under the name %DIV.

The change in // is probably a few months in the future, but it is not too
soon to prepare for the change.  When // changes, %DIV and TRUNC will not change.

4) (LISTP NIL) will return T, some day.

This change is another part of adopting Common Lisp.

The new function CONSP is currently the same as LISTP, but when
LISTP is changed, CONSP will not be changed.  You should begin converting
programs now to use CONSP instead of LISTP when appropriate.

5) Arrays will be stored in row-major order.

At some time in the future, the order in which array elements are stored
internally will change.  This is also part of adopting Common Lisp.

Most programs that use arrays will not be affected by the change.
However, if you use indirect arrays which are multidimensional, or which
indirect to multidimensional arrays, you will notice the effects.

In addition, the order of pixels in the hardware screen buffer will not
be changed.  So all array references to such arrays -- and to arrays
that are BITBLT'ed into them -- must have their indices in the other order.

To smooth the conversion, two new functions AR-2-REVERSE and AS-2-REVERSE
have been created.  These are currently the same as AR-2 and AS-2.
But when the order of array elements is changed, these two new functions
will begin to interchange the two subscripts.  Therefore, if AR-2-REVERSE
is used to access a screen array or bit map, it will work both before
and after the change is made.

6) DIRED is now a File System Editor

DIRED now has several new and changed commands, giving it the full power
of the Symbolics File System Editor.

First of all, click right now gets a menu of operations on the file
the mouse was pointing to.  All the usual operations are available this way.

One new command is S, for Subdirectory.  If you are pointing to a line
which describes a subdirectory, this command inserts a listing of that
subdirectory into the DIRED buffer underneath the subdirectory itself.
Thus, you can operate on multiple levels of directory at once.
Using S again removes the subdirectory's files from the display.
Indentation is used to show you which files are in subdirectories.

Sorting is now done using M-X commands.
The sorting commands are M-X Sort Increasing Creation Date,
M-X Sort Increasing Reference Date, M-X Sort Increasing Size,
and M-X Sort Increasing File Name.

There are also four other commands with Decreasing instead of Increasing.

Please request any file operations that you do not see in Help in DIRED.

7) Unlimited Undo capability in the editor

The editor now saves all the changes you make to each buffer,
and you can undo them as far back as you like by doing M-X Undo
multiple times.  To undo the undoing, use M-X Redo.  These commands
also show you a summary of the part of the buffer they are going to change
and what it will be changed to.

Since these commands may be useful more often, they are now on
the keys C-Shift-U and C-Shift-R. 

If you set the variable ZWEI:*UNDO-SAVE-SMALL-CHANGES* to non-NIL,
absolutely all editing operations will be saved.  Even individual insertions
and deletions will be saved, but they will be batched together.
This will eventually become the default after it has been tested
for a while.

The undo memory for a buffer is cleared out when you read or write a file
with that buffer.

8) Generic file operations.

The functions DELETEF, UNDELETEF and RENAMEF now accept filenames with
wildcards in them, and operate on multiple files.  They return a list
of the files operated on.  More of this sort of feature is coming.

Courtesy of HANSON.

9) QSEND, REPLY, and MAIL.

The function QSEND now accepts multiple recipient names.
The names go in one string, separated by commas, as in
(QSEND "RMS@OZ, FOO@OZ" "Message")

The function REPLY sends a message to the person who last sent you one.
It normally takes one argument, the message.

The function MAIL, when given two arguments (recipient and message),
no longer enters the editor.  It sends the string as you gave it.

These features were added by HDT.

9) Network O in SUPDUP and TELNET toggles overprinting.

Normally, SUPDUP and TELNET overprint if the remote system sends
two characters to be output on the same spot without erasing.
If you are talking to a system that assumes your terminal cannot
overprint, this may look ugly.  Network O causes SUPDUP or TELNET
to erase character positions when they are about to be written in,
so that your screen will look right.
-------
18-Sep-82 19:16:55-EDT,1023;000000000000
Date: Saturday, 18 September 1982, 19:13-EDT
From: D. Scott Cyphers <CYPHER at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.62, ZMail 45.6,
Remote-File 13.0, Local-File 39.1, Experimental FILE-Server 4.2,
Experimental MagTape 12.0, Spire 4.0, microcode 136, Spire,
on Lisp Machine Twenty-six:

On LM12, version 87.37, microcode 171

Machine halted.  CC said:

Microcode halted via ILLOP from GET-MAP-BITS+12

Micro-PC history (OPC's) oldest first

22476 (XRGN1 7)
22477 (XRGN1 10)
05670 XFALSE
05671 (XFALSE 1)
21414 (GET-MAP-BITS 12)
21415 (GET-MAP-BITS 13)
00403 ILLOP
00404 TRAP

Subroutine Stack

4 016404 (TRANS-OLDO 2)
3 024667 MC-POP-SPECIAL
2 024741 (MC-STORE-LAST-LIST 1)
1 025213 (QLEAI4 4)
0 040164 QMLP

Switch flags:Switching stack groups
Current stack group was:Main stack group
Current process:Initial Process


The machine was looping through a floating vector (with loop) printing its elements.

Warm booting revived things.
18-Sep-82 21:06:32-EDT,331;000000000000
Date: Saturday, 18 September 1982, 21:06-EDT
From: Devon S. McCullough <Devon at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.30,
Experimental ZMail 46.3, microcode 171, Try Me!, on Lisp Machine One:

I did Hyper-Control-W after compiling the buffer and it bombed.
19-Sep-82 21:10:24-EDT,607;000000000000
Date: Sunday, 19 September 1982, 13:00-EDT
From: ??? <CHEN at MIT-LISPM-12>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.37, ZMail 46.7,
Remote-File 15.0, Experimental Local-File 40.0, Experimental Spire 5.0,
Experimental FILE-Server 5.0, microcode 171, Spire 5.0,
on Lisp Machine Twelve:

Doing (room) uses up 1k or 2k of working storage each time, i.e.

(room)
working storage 2766k
(room)
working storage 2768k
(room)
working storage 2769k
...

This does not happen on system 86.62 on cadr26 and seems to be a serious bug.

cypher@oz
sp.chen@speech
19-Sep-82 21:36:41-EDT,299;000000000000
Date: Sunday, 19 September 1982, 15:16-EDT
From: Devon S. McCullough <Devon at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.30,
Experimental ZMail 46.3, microcode 171, try me,
on Lisp Machine Eighteen:

Why isn't DO* in the manual?
19-Sep-82 21:43:04-EDT,864;000000000000
Date: Sunday, 19 September 1982, 15:46-EDT
From: Devon S. McCullough <Devon at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.30,
Experimental ZMail 46.3, microcode 171, try me,
on Lisp Machine Eighteen:

I hit Break in ZMACS  (because it's faster than System-L and I merely wanted to do
DESCRIBE FS:LM-HOST [but that's a different bug I was chasing...]) and when I saw
that two of the messages were not in the user package I did (BUG) to inquire why,
but once in the Bug window I decided to look at the code first, so I hit Abort...
Which got an error message about a NIL subscript or something (I aborted to get back
to this bug window, so I can't see the error message [and it bombed when I hit
Help to try to Apropos "error" to see if I could get it back in view {losing badly}])
<Devon>
19-Sep-82 22:15:17-EDT,768;000000000000
Date: Sunday, 19 September 1982, 16:28-EDT
From: Devon S. McCullough <Devon at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.30,
Experimental ZMail 46.3, microcode 171, try me,
on Lisp Machine Eighteen:

I'm losing beyond my wildest nightmares.  I type the exact same command twice
and get differnt results:  in the editor i type ^X ^F sys;file;lmpars
and it says version must be numeric...what version???

I did it again and this time it works.  I had to do this because the editor cant find
the source code for FS:LM-HOST.  I'm looking for the source because the FC: device
is not accessible from this machine although FS: is.  I want edit a file on FC:.
Well, I wanted to a while ago anyway.
19-Sep-82 22:18:03-EDT,290;000000000000
Date: Sunday, 19 September 1982, 17:26-EDT
From: Devon S. McCullough <Devon at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.30,
Experimental ZMail 46.3, microcode 171, try me,
on Lisp Machine Eighteen:

ignore this message
19-Sep-82 22:23:23-EDT,457;000000000000
Date: 19 September 1982 17:45-EDT
From: Jan Krueger <JLMK at MIT-MC>
To: BUG-LISPM at MIT-MC, bug-lispm at MIT-OZ, bug-lispm@mc at MIT-OZ
cc: JLMK at MIT-MC

Not knowing your address....

Both cadr15 and cadr16 are dead.  They apparently died during a cold boot.
I was not present at the happening and know no details.  Cadr16 died on the 
fourteenth and I discovered the dead cadr15 today.   Sorry I can not be more
helpful.
		Thanks,
		-Jan-
19-Sep-82 22:37:46-EDT,363;000000000000
Mail-From: JOSHM created at 19-Sep-82 20:39:20
Date: 19 Sep 1982 2039-EDT
From: Joshua D. Marantz <JOSHM at MIT-OZ>
Subject: Customizing Zmacs
To: acw at SCRC-TENEX
cc: bug-lispm at MIT-OZ

How or where do I get information on customization files for zwei?  I am interested
in changing key bindings, defaults, variable values, etc.
					-Joshm
-------
19-Sep-82 22:39:40-EDT,1020;000000000000
Date: 19 September 1982 21:48-EDT
From: Barry Margolin <BARMAR at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 10.1, LMFILE-Remote 17.2, MIT-Specific 9.0, System 86.64,
ZMail 45.6, microcode 148,  , on Ford Prefect:

I can't get this machine to write a file to MIT-Multics.  I tried several names for
Multics (cmul, mit-multics, mit-multics-11) but it always tried to treat "cmul:" (or
whatever) as a device on the default system.  After trying to use other functions
with the CMUL host, it seems that MIT-Multics is not a known file server by
default.  I managed to find FS:ADD-CHAOS-FILE-COMPUTER by looking in
someone else's init file.

By the way, why did the designers of the original pathname stuff choose the
same ":" to be both the site and the device character?  Was it just so that the
ITS users who thought of the other ITS machines as both hosts and devices
wouldn't have to change habits? What are we going to do when one of the
machines around here gets a device that they call "MC"?
19-Sep-82 22:41:51-EDT,518;000000000000
Date: Sunday, 19 September 1982, 22:17-EDT
From: Devon S. McCullough <devon at MIT-MC>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.0, MIT-Specific 10.0, System 87.30,
Experimental ZMail 46.3, microcode 171, try me,
on Lisp Machine Eighteen:

type Help at the Lisp listener and when you return it will give an error sayig
 something about tyi-no-hang from rubout-handler

type (bug) at the Lisp listener and you can't abort out of it, the only way to exit
seems to be to send a message.
19-Sep-82 22:42:36-EDT,457;000000000000
Date: 19 September 1982 17:45-EDT
From: Jan Krueger <JLMK at MIT-MC>
To: BUG-LISPM at MIT-MC, bug-lispm at MIT-OZ, bug-lispm@mc at MIT-OZ
cc: JLMK at MIT-MC

Not knowing your address....

Both cadr15 and cadr16 are dead.  They apparently died during a cold boot.
I was not present at the happening and know no details.  Cadr16 died on the 
fourteenth and I discovered the dead cadr15 today.   Sorry I can not be more
helpful.
		Thanks,
		-Jan-
19-Sep-82 22:44:54-EDT,513;000000000000
Mail-From: MINSKY created at 19-Sep-82 22:38:19
Date: Sunday, 19 September 1982, 22:38-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: Devon S.McCullough <Devon at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 19 Sep 82 15:16-EDT from Devon S.McCullough <Devon at MIT-OZ>

    Date: Sunday, 19 September 1982, 15:16-EDT
    From: Devon S. McCullough <Devon at MIT-OZ>

    Why isn't DO* in the manual?
Because the date on the manual's cover page is July 1981 and DO* didn't exist then.
19-Sep-82 23:08:57-EDT,325;000000000000
Date: Sunday, 19 September 1982  23:02-EDT
From: DLW at SCRC-TENEX
To:   Devon S. McCullough <Devon at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 19 Sep 1982 15:16-EDT from Devon S. McCullough <Devon at MIT-OZ>

Lots of stuff has been installed since the manual was published.
DO* is one of those.
19-Sep-82 23:10:38-EDT,859;000000000000
Date: Sunday, 19 September 1982  23:02-EDT
From: DLW at SCRC-TENEX
To:   Barry Margolin <BARMAR at MIT-ML>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 19 Sep 1982  21:48-EDT from Barry Margolin <BARMAR at MIT-ML>

It would appear that Multics has been removed from the copy of
the SITE.LISP or HOSTS.TEXT file used by the MIT/LMI system.
Probably you need to edit the site files, recompile them,
and update site configuration info.

Yes, it uses colon because that's what ITS essentially uses.  Indeed,
there is an ambiguity problem with operating systems that use
colons themselves, but no matter what we used there is a potential
ambiguity problem since systems may have any syntax they want to.
I admit that colon may not have been the best choice but I don't
think the problem is sufficiently severe to merit such a big change.
20-Sep-82 00:31:11-EDT,377;000000000000
Mail-From: PGS created at 20-Sep-82 00:28:39
Date: Monday, 20 September 1982  00:28-EDT
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   Jan Krueger <JLMK at MIT-MC>
Cc:   bug-lispm at mc, BUG-LISPM at MIT-MC, bug-lispm at MIT-OZ

I forwarded your message about cadr-15 and cadr-16 to bug-hardware, which is
the right place for messages about broken hardware.
-------
20-Sep-82 00:40:19-EDT,331;000000000000
Date: Monday, 20 September 1982  00:28-EDT
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   Jan Krueger <JLMK at MIT-MC>
Cc:   bug-lispm at mc, BUG-LISPM at MIT-MC, bug-lispm at MIT-OZ

I forwarded your message about cadr-15 and cadr-16 to bug-hardware, which is
the right place for messages about broken hardware.
-------
20-Sep-82 01:28:35-EDT,433;000000000000
Mail-From: RMS created at 20-Sep-82 01:25:43
Date: 20 Sep 1982 0125-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
To: CHEN at MIT-LISPM-12
cc: BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 19-Sep-82 2110-EDT

ROOM does not use up noticeable space when I use it in 87.38.
Nothing has changed in regard to it.
Can you tell me a precise way to reproduce this starting
with cold booting a bare 87 band (no spire)?
-------
20-Sep-82 01:29:04-EDT,280;000000000000
Date: Monday, 20 September 1982, 01:27-EDT
From: Richard M. Stallman <rms at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.38, ZMail 46.7,
Remote-File 15.0, Experimental Local-File 40.0, microcode 171, FS,
on Lisp Machine Apiary-2:

20-Sep-82 15:44:07-EDT,518;000000000000
Date: 20 Sep 1982 1539-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
To: KwH at MIT-OZ, BUG-LISPM at MIT-EECS
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 17-Sep-82 1450-EDT

I don't agree with your esthetic point, and it would also be inconsistant.
The first line describes the machine.  So does the second line.  Moving
the second line to the bottom would be weird.  And I think it looks fine,
but is just different from what you're used to.  (or maybe my sense of
esthetics is different.)
-------
20-Sep-82 19:16:22-EDT,266;000000000000
Mail-From: GUMBY created at 20-Sep-82 19:12:47
Date: 20 Sep 1982 1912-EDT
From: David Vinayak Wallac <GUMBY at MIT-OZ>
Subject: finger free lispms
To: bug-lispm at MIT-OZ

in system 87...
It would be be nice if the free-lispm list gave ttylocs too.
-------
21-Sep-82 04:54:06-EDT,320;000000000000
Date: Tuesday, 21 September 1982, 04:50-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Control, meta and hyper keys turning mouse clicks into double clicks
To: info-lispm-mit at MIT-OZ

Do people like this feature?  I have had some complaints,
and if the feeling is general I will turn it off by default.
21-Sep-82 12:23:39-EDT,1070;000000000000
Date: Tuesday, 21 September 1982, 12:16-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 210.116, ZMail 45.6, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 14,  McLispM, on Marvin:

SHould it be obvious why the following :fetch-interval method sets index to a small-float
on the second iteration?


(defflavor ramp-signal (slope (data-type '(number)) (domain nil))
	   ()
  (:initable-instance-variables slope domain))
;;
;; ramp-signal init method (check that slope is a number)
;;
(defmethod (ramp-signal :before :init) (init-plist)
  (ignore init-plist)
  (check-arg-type slope number))
;;
;; fetch-interval method
;;
(defmethod (ramp-signal :fetch-interval) (interval array)
  (check-arg interval (withinp interval domain) "an interval within the domain")
  (check-arg-type array array)
  (loop for sample from (interval-start interval) to (interval-end interval)
	for index fixnum first 0 then (1+ index)
	(aset (small-float (times slope sample)) array index)))
21-Sep-82 13:28:06-EDT,369;000000000000
Date: Tuesday, 21 September 1982, 13:20-EDT
From: Webster Dove <dove at MIT-DSPG>
Subject: retraction
To: BUG-LISPM at EE

In System 210.116, ZMail 45.6, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 14,  McLispM, on Marvin:

Sorry, I just noticed that I had forgotten the do in the loop before using
(aset).
21-Sep-82 15:09:13-EDT,393;000000000000
Date: Tuesday, 21 September 1982, 15:04-EDT
From: Robert P. Krajewski <RpK at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.38, ZMail 46.7,
Remote-File 15.0, Experimental Local-File 40.0, microcode 171, FS,
on Lisp Machine Apiary-1:

TV:MENU-CHOOSE draws a menu that takes up the whole screen, even
if the menu has only a few items.

``Bob''
21-Sep-82 16:31:43-EDT,558;000000000000
Date: Tuesday, 21 September 1982, 16:17-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Having to say DO before the body of a LOOP
To: Webster Dove <dove at MIT-DSPG>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 21 Sep 82 12:16-EDT from Webster Dove <dove at MIT-DSPG>

Sorry about that; a lot of people have been screwed by this, it seems.
You'll probably be glad to hear that the much-delayed new, re-thought
version of Loop fixes this.  I still can't promise any particular date
for when the specifications for it will come out.
22-Sep-82 00:38:20-EDT,552;000000000000
Date: Tuesday, 21 September 1982, 20:29-EDT
From: JCMa@MIT-OZ
To: BUG-LISPM@MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.38, ZMail 46.7,
Remote-File 15.0, Experimental Local-File 40.0, microcode 171, FS,
on Lisp Machine Apiary-1:

Could the printer (should print) an uninterned symbol in such a way that
you can tell that its package slot it NIL?  Right now, it can be very
confusing, with an uninterned FOO printing the same way as a FOO
interned in the current package.  How about having it print as NIL:FOO
or something?
22-Sep-82 00:50:39-EDT,572;000000000000
Date: 22 September 1982 00:29-EDT
From: Glenn S. Burke <GSB at MIT-ML>
Subject: ?????
To: BUG-LISPM at MIT-ML, BUG-TWENEX at MIT-ML, jtw at MIT-SPEECH
cc: KWC at MIT-ML

Cadr-19 won't talk to speech.  I don't know why.
First it told me bad contact name "[MINITS]", from then on it says host
not responding.  (The host damn well responds to anything else, i'm
logged into speech right now, and cadr-19 responds to a status message
from speech.)  I even cold-booted cadr-19 and it still said host-not-
responding.

I guess i'm not installing anything tonight.
22-Sep-82 00:52:35-EDT,279;000000000000
Date: 22 September 1982 00:31-EDT
From: Glenn S. Burke <GSB at MIT-ML>
Subject: [I should also add]
To: BUG-LISPM at MIT-ML, BUG-TWENEX at MIT-ML, jtw at MIT-SPEECH
cc: KWC at MIT-ML

(chaos:finger "@speech") works fine.
SOmeone's f***ing with the file server i take it?
22-Sep-82 00:54:08-EDT,456;000000000000
Date: 22 Sep 1982 0036-EDT
From: John Wroclawski <JTW at MIT-SPEECH>
Subject: Re: ?????
To: GSB at MIT-ML
cc: bug-lispm at MIT-ML, kwc at MIT-ML
Reply-to: JTW@MIT-MC
In-Reply-To: Your message of 22-Sep-82 0032-EDT

Our net-address changed a while ago when SPEECH got a new Chaos-Net-11.
I think Cadr-19 may have an old host table, as it sounds like you managed
to connect to the -11, which has the address the 20 used to have.

-john
-------
22-Sep-82 01:42:48-EDT,297;000000000000
Date: 22 September 1982  01:34-EDT (Wednesday)
Sender: GUMBY at MIT-OZ
From: David Vinayak Wallace <GUMBY at MIT-MC>
To:   Glenn S. Burke <GSB at MIT-ML>
Cc:   BUG-LISPM at MIT-ML, BUG-TWENEX at MIT-ML, jtw at MIT-SPEECH,
      KWC at MIT-ML
Subject: ?????

did you try NSPEECH?
-------
22-Sep-82 09:57:49-EDT,446;000000000000
Date: 22 Sep 1982 0949-EDT
From: J. Noel Chiappa <JNC at MIT-XX>
Subject: Re: ?????
To: GSB at MIT-ML, BUG-LISPM at MIT-ML, BUG-TWENEX at MIT-ML, jtw at MIT-SPEECH
cc: KWC at MIT-ML, JNC at MIT-XX
In-Reply-To: Your message of 22-Sep-82 0029-EDT

	DCP may correct me, but perhaps the problem is that the address that
SPEECH used to be at is now SPEECH's front-end PDP11, and the host table
in CADR-19 probably hasn't caught up.
-------
22-Sep-82 10:24:40-EDT,586;000000000000
Date: Wednesday, 22 September 1982  10:20-EDT
Sender: DPH at MIT-OZ
From: DPH at MIT-MC
To:   Glenn S. Burke <GSB at MIT-ML>
Cc:   BUG-LISPM at MIT-ML, BUG-TWENEX at MIT-ML, jtw at MIT-SPEECH,
      KWC at MIT-ML
Subject: ?????

Sounds like you have a very old host table on cadr19.  Speech's net
address was changed when its minits front end was installed. Either
load up the new host table (different ways for mit and brand S systems
and I don't know which you were running because the bug message wasn't
sent from the cadr) or else try using host name NSPEECH.
-------
22-Sep-82 16:27:33-EDT,207;000000000000
Mail-From: LUH created at 22-Sep-82 13:14:17
Date: 22 Sep 1982 1314-EDT
From: John Y. Luh <LUH at MIT-OZ>
Subject: Cadr 25
To: bug-lispm at MIT-OZ
cc: luh at MIT-OZ

Cadr 25 won't coldboot.
-------
22-Sep-82 20:48:18-EDT,251;000000000000
Date: Wednesday, 22 September 1982, 20:46-EDT
From: Daniel Huttenlocher <dph at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.37,
ZMail 46.7, microcode 171, try me, on Lisp Machine Six:

22-Sep-82 20:49:26-EDT,251;000000000000
Date: Wednesday, 22 September 1982, 20:46-EDT
From: Daniel Huttenlocher <dph at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.37,
ZMail 46.7, microcode 171, try me, on Lisp Machine Six:

23-Sep-82 00:28:06-EDT,396;000000000000
Date: Thursday, 23 September 1982, 00:28-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: GC bug fixed.
To: bug-lispm-mit at MIT-OZ

Microcode 172 fixes a bug that causes GC to crash.
GC has been observed to complete successfully with microcode 172 loaded.
So all 87 bands should be redumped to use microcode 172.
Use (SI:LOAD-MCR-FILE "SYS:UBIN;UCADR MCR 172" "MCRn") to load it.
23-Sep-82 04:47:20-EDT,1728;000000000000
Mail-From: HANSON created at 23-Sep-82 03:23:58
Date: Thursday, 23 September 1982  03:23-EDT
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   RMS at MIT-OZ
cc:   BUG-LISPM at MIT-OZ


There is a problem with the DLA file system which I don't know what to
do about.  The problem is that the only way to tell if a machine has a
local file system is to look in the site options.  Unfortunately this
screws you badly if you have a disk with a local file system installed
which "floats", i.e. is not guaranteed to always reside on the same
machine.  This seems to me to be a serious problem, because although it
is possible and reasonable for me to own a disk pack, it isn't possible
for me to own a lisp machine.

The problem is compounded by the fact that the chaos file protocol
contains no provisions for asking a file server what kind of file system
it is running.  Thus, outside of the site configuration info, there is
no way to inform the world about the fact that a particular machine is
running a particular file system.  It also means that if the world
thinks that a machine is running file system A, and in fact it is
running file system B, that the parsing will be done wrong, and in all
likelihood it will be impossible to file serve that machine unless it is
running system A.

I'm pretty concerned about this problem as it gave me headaches all
summer at HP, since we were trying to run machines with both DLA and
symbolics file systems, and have them all talk to one another.  I
finally gave up, and we ended up transferring files to the 20 and back
again.

I would be interested in doing whatever hacking is needed to fix this,
but I would like to discuss it with you first.
23-Sep-82 21:37:20-EDT,932;000000000000
Date: Thursday, 23 September 1982, 18:22-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: dove at MIT-DSPG
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 23 Sep 82 16:54-EDT from Webster Dove <dove at MIT-DSPG>

    Date: Thursday, 23 September 1982, 16:54-EDT
    From: Webster Dove <dove at MIT-DSPG>

    I have gotten caught by something several times.  I just thought I would
    mention it.  When making defsubst's I occasionally forget and put a
    documentation line in.  This inevitably leads to obscure problems when
    the macro version of the defsubst gets used.  At a minimum, it leads to
    unnecessary code.  It might be nice for there to be a warning about it,
    or for the macro version to not include the documentation.
It doesn't seem to produce unnecessary code (when compiled) for me.
I fixed it in the source anyway, and made it warn if any declarations
were present in the body.
23-Sep-82 21:51:34-EDT,685;000000000000
Date: Thursday, 23 September 1982, 16:54-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 210.116, ZMail 45.6, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 14,  McLispM, on Marvin:

I have gotten caught by something several times.  I just thought I would
mention it.  When making defsubst's I occasionally forget and put a
documentation line in.  This inevitably leads to obscure problems when
the macro version of the defsubst gets used.  At a minimum, it leads to
unnecessary code.  It might be nice for there to be a warning about it,
or for the macro version to not include the documentation.
23-Sep-82 21:54:34-EDT,564;000000000000
Date: Thursday, 23 September 1982, 20:50-EDT
From:  <BJN at MIT-EECS>
Subject: char width display bug
To: BUG-lispm at ee

In fed in System 210.101, ZMail 45.3, Remote-File 103.0, microcode 895,
site configuration 9, on Arthur Dent:

When one mouses a char to edit it, the char is loaded properly, but the 
width field does not change to reflect the new char width. If the char is
moused a 2nd time, the width field is updated to the correct value. This 
is only in the char info window; the char box on the grid is the currect 
width the first time.
23-Sep-82 23:26:35-EDT,527;000000000000
Date: 23 Sep 1982 23:22:37-EDT
From: dove at mit-dspg
To: DLA@scrc-tenex
Subject: defsubst documentation line
Cc: BUG-LISPM@mit-eecs

I believe that the place I had noticed the
extra code was when in was used after a do
in a loop.  \i believe that when more
than one form follows, a progn is used.
If only a single form follows, none is necessary.
The documentation line in the defsubst 
was one of two lines.

(defsubst real (z)
"the real part of z"
(car z))

Thus the documgntation line led to the
progn.
24-Sep-82 00:11:31-EDT,440;000000000000
Date: Friday, 24 September 1982, 00:02-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: defsubst documentation line
To: dove at mit-dspg
Cc: BUG-LISPM at mit-eecs
In-reply-to: The message of 23 Sep 82 23:22-EDT from dove at mit-dspg

My point was that I didn't know a case where the A-machine compiler
would produce different code for (PROGN "foo" (CAR A)) than for (CAR A).
Of course it would run more slowly interpreted...
24-Sep-82 12:01:07-EDT,265;000000000000
Date: 24 Sep 1982 09:15:36-EDT
From: dove at mit-dspg
To: DLA@scrc-tenex
Subject: defsubst documentation line
Cc: BUG-LISPM@mit-eecs

Ahhh.  I didn't realize that the progn would disappear on compilation.
Does the documentation feature work for defsubst?

24-Sep-82 13:08:58-EDT,285;000000000000
Mail-From: ZVONA created at 24-Sep-82 12:42:17
Date: Friday, 24 September 1982  12:42-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   bug-lispm at MIT-OZ, bug-finger at MIT-OZ

On Oz, @f /l prints out JCMa logged in on AP2, and also claims that
AP2 is free.  
-------
24-Sep-82 16:40:33-EDT,1246;000000000000
Mail-From: RPK created at 24-Sep-82 15:48:41
Date: 24 September 1982  15:48-EDT (Friday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
Subject: File System Editing (from 286)
To:   HANSON at MIT-OZ
Cc:   BUG-LISPM at MIT-OZ, RMS at MIT-OZ

    Date: Thursday, 23 September 1982  03:23-EDT
    From: HANSON
    To:   RMS
    cc:   BUG-LISPM

    There is a problem with the DLA file system which I don't know what to
    do about.  The problem is that the only way to tell if a machine has a
    local file system is to look in the site options.  Unfortunately this
    screws you badly if you have a disk with a local file system installed
    which "floats", i.e. is not guaranteed to always reside on the same
    machine.  This seems to me to be a serious problem, because although it
    is possible and reasonable for me to own a disk pack, it isn't possible
    for me to own a lisp machine.

    I would be interested in doing whatever hacking is needed to fix this,
    but I would like to discuss it with you first.

I will implement a scheme that defines which file system a particular Lisp
Machine is running.  (I just wrote down the description of it a few days
ago.)

``Bob''
-------
25-Sep-82 11:57:00-EDT,329;000000000000
Date: Friday, 24 September 1982, 18:14-EDT
From: Daniel Weise <DANIEL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.44,
ZMail 46.9, microcode 171, 60.45Hz, on Lisp Machine Nine:

loading a file with 0 bytes shouldn't cause an error (especially a
cryptic one).
25-Sep-82 11:59:57-EDT,517;000000000000
Date: 24 Sep 1982 1916-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Re: defsubst documentation line
To: dove at MIT-DSPG
cc: BUG-LISPM at MIT-EECS, DLA at SCRC-TENEX
In-Reply-To: Your message of 24-Sep-82 0912-EDT

    Date: 24 Sep 1982 09:15:36-EDT
    From: dove at mit-dspg
    Ahhh.  I didn't realize that the progn would disappear on compilation.
    Does the documentation feature work for defsubst?
I assume so.  It does in 217, but then again defsubsts work differently
in 217.
-------
25-Sep-82 12:03:13-EDT,540;000000000000
Date: 24 September 1982 20:53-EDT
From: David C. Plummer <DCP at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 210.128 on LM15 (while supduping, which is why I can't
send the mail from the machine):

(defun fact (n)
  (do ((n n (1- n))
       (ans 1 (times ans n)))
      ((zerop n) ans)))

when compiled will cause the machine to run out of virtual
address space on (fact 10000.)  This number takes up 3800. PDP-10
words, so it is not impossible.  ALAN doesn't understand why the
number GC hack doesn't win you anything here.
25-Sep-82 12:11:03-EDT,322;000000000000
Mail-From: RICKL created at 25-Sep-82 00:36:41
Date: 25 Sep 1982 0036-EDT
From: RicK Lathrop <RICKL at MIT-OZ>
Subject: mouse on cadr-1
To: bug-lispm at MIT-OZ

the mouse on cadr-1 seems to have an intermittent bug
whereby one click on the left button is read as two
clicks on the left button

rickl

-------
25-Sep-82 12:20:30-EDT,520;000000000000
Date: Saturday, 25 September 1982, 10:25-EDT
From: Cypher at oz
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.44, ZMail 46.9,
Remote-File 15.1, Experimental Local-File 40.0,
Experimental FILE-Server 5.0, Spire 5.2, microcode 172,  ,
on Lisp Machine Twenty-six:

In Zwei, typing

Meta-. to see ASET, it asks if you want to visit UCADR.  If you say yes,
it blows up because it tries to visit a filename which is a string when
the visiting function expects a pathname object.

25-Sep-82 12:58:26-EDT,452;000000000000
Date: Saturday, 25 September 1982, 12:56-EDT
From: JCMa@MIT-OZ
To: BUG-LISPM@MIT-OZ
Cc: bug-oz@MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.44, ZMail 46.9,
Remote-File 15.1, Experimental Local-File 40.0, microcode 172, FS,
on Lisp Machine Apiary-1:

I'm tired of getting complaints about file overwrite errors on the 20.
Can either the lispm anticipate the error and delete the file, or can
that defect of twenex be flushed?
25-Sep-82 14:33:52-EDT,819;000000000000
Mail-From: ZVONA created at 25-Sep-82 14:29:46
Date: Saturday, 25 September 1982  14:29-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   bug-lispm at MIT-OZ

    Date: Tuesday, 31 August 1982, 13:20-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    To:   ZVONA, bug-lispm

    Typing c-Q already IS equivalent to space for **MORE** breaks, as far as
    I can tell.  It just throws away whatever you type.  Are you referring
    to one of the more hairy varieties like the --More-- in the editor or
    something?
(This is in 87.  I think it would probably be the same in 2nn.)  Go into the editor
and do break (dotimes (i 99999999) (format t "~&glizbix")) and type c-Q at the more
break (a **MORE** flavored one.)  Output is flushed.
-------
25-Sep-82 16:29:19-EDT,661;000000000000
Date: Saturday, 25 September 1982, 16:23-EDT
From: D. Scott Cyphers <Cypher at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.44, ZMail 46.9,
Remote-File 15.1, Experimental Local-File 40.0,
Experimental FILE-Server 5.0, Spire 5.2, microcode 172,  ,
on Lisp Machine Twenty-six:

In ZWEI, the function ZWEI:CHECK-INTERVAL-SECTIONS uses the macro
SECTION-NODE-COMPILE-TICK on a buffer, which causes it to give an error
sometimes during COM-COMPILE-DEFUN.

There is also some kind of bug in sectionization that has been happening
to me from time to time, though I haven't found a way to force it ot
happen yet.
25-Sep-82 20:23:15-EDT,945;000000000000
Date: Saturday, 25 September 1982, 20:14-EDT
From: Barry W. Margolin <s.barmar at MIT-EECS>
Subject: Choosing handler at run-time
To: BUG-LISPM at EE

In System 210.116, ZMail 45.6, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 25,  McLispM, on Marvin:

I am trying to define a flavor that has two components that define
methods for a particular message.  What I am trying to do is have my
handler for this message call the appropriate handler defined by the
component flavors, Depending upon the state of a switch.  The case I am
working with is a window with mouse-sensitive items in it that also
wants to use mouse clicks for other purposes.  When the PICKING-OBJECT
flag is T, then I want to invoke
	(:METHOD TV:BASIC-MOUSE-SENSITIVE-ITEMS :MOUSE-CLICK)
 otherwise I want to invoke
	(:METHOD TV:LIST-MOUSE-BUTTONS-MIXIN :MOUSE-CLICK).

What is the proper way to do this?
25-Sep-82 21:37:42-EDT,2471;000000000000
Date: Saturday, 25 September 1982, 21:22-EDT
From: Howard I. Cannon <HIC at SCRC-TENEX>
Subject: Choosing handler at run-time
To: s.barmar at MIT-EECS
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 25 Sep 82 20:14-EDT from Barry W.Margolin <s.barmar at MIT-EECS>

    Date: Saturday, 25 September 1982, 20:14-EDT
    From: Barry W. Margolin <s.barmar at MIT-EECS>
    Subject: Choosing handler at run-time
    To: BUG-LISPM at EE

    In System 210.116, ZMail 45.6, Remote-File 103.0,
    Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
    site configuration 25,  McLispM, on Marvin:

    I am trying to define a flavor that has two components that define
    methods for a particular message.  What I am trying to do is have my
    handler for this message call the appropriate handler defined by the
    component flavors, Depending upon the state of a switch.  The case I am
    working with is a window with mouse-sensitive items in it that also
    wants to use mouse clicks for other purposes.  When the PICKING-OBJECT
    flag is T, then I want to invoke
	    (:METHOD TV:BASIC-MOUSE-SENSITIVE-ITEMS :MOUSE-CLICK)
     otherwise I want to invoke
	    (:METHOD TV:LIST-MOUSE-BUTTONS-MIXIN :MOUSE-CLICK).

    What is the proper way to do this?

This is a very hard question to answer.  If you can specify which you
want to call in general terms, then you can write your own method
combination.  This is hard.  But it sounds to me like you want to choose
two specific methods and call either one.  Now this is non-modular and
all that, but not an unreasonable thing to want to do.  What I generally
do is split the method into a defun-method and a method that calls it,
and then call either defun-method depending upon which I want.  However,
it's not so easy to do that when a user wants a piece of the system.

Basically, you're trying to combine two things that conflict in
functionality.  The fact that there's a problem means that the original
code was not modularized correctly.  I'd recommend copying the code into
two defun-method's, and then convincing us to do the same so that in the
next system release you can call the TV: versions.

What I'd really recommend in this case, since
(TV:LIST-MOUSE-BUTTONS-MIXIN :MOUSE-CLICK) is so simple, is that you
make a wrapper which checks PICKING-OBJECT, execute the body it's its T,
otherwise just execute a copied version of the list buttons code.
25-Sep-82 21:47:26-EDT,1808;000000000000
Date: Saturday, 25 September 1982, 21:30-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Choosing handler at run-time
To: Barry W.Margolin <s.barmar at MIT-EECS>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 25 Sep 82 20:14-EDT from Barry W.Margolin <s.barmar at MIT-EECS>

    Date: Saturday, 25 September 1982, 20:14-EDT
    From: Barry W. Margolin <s.barmar at MIT-EECS>

    I am trying to define a flavor that has two components that define
    methods for a particular message.  What I am trying to do is have my
    handler for this message call the appropriate handler defined by the
    component flavors, Depending upon the state of a switch.  The case I am
    working with is a window with mouse-sensitive items in it that also
    wants to use mouse clicks for other purposes.  When the PICKING-OBJECT
    flag is T, then I want to invoke
	    (:METHOD TV:BASIC-MOUSE-SENSITIVE-ITEMS :MOUSE-CLICK)
     otherwise I want to invoke
	    (:METHOD TV:LIST-MOUSE-BUTTONS-MIXIN :MOUSE-CLICK).

There is no perfect way to do this.  The best way to handle your particular
problem is to take advantage of the fact that :MOUSE-CLICK uses :OR method
combination (it's a deficiency of the user interface, by the way, that there
is no good on-line way to discover this fact).  This means that you should
define a method which either does nothing and returns NIL, or sends yourself
a blip and returns T.  If your method returns NIL, the basic-mouse-sensitive-items
method will be invoked.

The fact that you have to duplicate the 1-line body of the
list-mouse-buttons-mixin method is an example of a case where flavors
don't help you when you want to do something that wasn't fully anticipated by
the original modularity.  On the other hand, it's only one line.
25-Sep-82 22:07:22-EDT,652;000000000000
Date: Saturday, 25 September 1982, 21:49-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: David C.Plummer <DCP at MIT-MC>
Cc: BUG-LISPM at MIT-MC, Alan at MIT-MC
In-reply-to: The message of 24 Sep 82 20:53-EDT from David C.Plummer <DCP at MIT-MC>

    Date: 24 September 1982 20:53-EDT
    From: David C. Plummer <DCP at MIT-MC>

    (defun fact (n)
      (do ((n n (1- n))
	   (ans 1 (times ans n)))
	  ((zerop n) ans)))

    when compiled will cause the machine to run out of virtual
    address space on (fact 10000.)

This holdover from the days of 64K-memory machines is fixed in the source
(QCOM), hence should show up in 218.
25-Sep-82 23:16:40-EDT,558;000000000000
Date: Saturday, 25 September 1982, 23:01-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: DANIEL at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 24 Sep 82 18:14-EDT from Daniel Weise <DANIEL at MIT-OZ>

    Date: Friday, 24 September 1982, 18:14-EDT
    From: Daniel Weise <DANIEL at MIT-OZ>

    loading a file with 0 bytes shouldn't cause an error (especially a
    cryptic one).
Fixed in the source, and it will appear in 218.

Note that loading text files with 0 bytes is perfectly well defined, and
will not cause an error.
26-Sep-82 14:10:26-EDT,563;000000000000
Date: Sunday, 26 September 1982, 14:01-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 25, on Lisp Machine Apiary-2:

If you make a split screen of two lisps with the system menu, then do terminal O several
times, it becomes apparent that something thinks that there are actually three exposed
windows.  I don't know what the other one would be.

terminal P claims the Canon is idle.  At mit, this can be true vacuously at best.
27-Sep-82 02:36:22-EDT,795;000000000000
Date: Monday, 27 September 1982, 02:13-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Split Screen/Terminal-O, Terminal-P
To: David Chapman <Zvona at MIT-OZ>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 26 Sep 82 14:01-EDT from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 26 September 1982, 14:01-EDT
    From: David Chapman <Zvona at MIT-OZ>
    If you make a split screen of two lisps with the system menu, then do terminal O several
    times, it becomes apparent that something thinks that there are actually three exposed
    windows.  I don't know what the other one would be.
I cannot reproduce this, either in 210 or 217.
    terminal P claims the Canon is idle.  At mit, this can be true vacuously at best.
This appears to be fixed in the source.
27-Sep-82 13:33:57-EDT,1247;000000000000
Date: Monday, 27 September 1982, 13:16-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: ZVONA at MIT-MC
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 25 Sep 82 14:29-EDT from ZVONA at MIT-MC

    Date: Saturday, 25 September 1982  14:29-EDT
    Sender: ZVONA at MIT-OZ
    Go into the editor
    and do break (dotimes (i 99999999) (format t "~&glizbix")) and type c-Q at the more
    break (a **MORE** flavored one.)  Output is flushed.

True, happens in 217 as well.  This is specific to Break in Zmacs, which
is why I didn't understand your original report.  Not only does it
flush, but the c-Q is interpreted as an RH command so when you type c-Z
you get an error message that's hard to understand if you didn't realize
exactly what the c-Q did, which is really poor.  The real issue is that
**MORE** should not mean one thing in the editor and another everywhere
else without giving the user any warning.  This is probably a bad
decision that I made back in the EINE days (before the Abort key) that
was faithfully implemented in Zwei.  If nobody knows a good reason for
the present behavior (Emacs compatibility is not a "good" reason), we
should fix **MORE** in editor breaks to be the same as anywhere else.
27-Sep-82 19:45:56-EDT,1132;000000000000
Date: Monday, 27 September 1982, 19:26-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Customizing Zmacs
To: Joshua D.Marantz <JOSHM at MIT-OZ>
Cc: acw at SCRC-TENEX, bug-lispm at MIT-OZ
In-reply-to: The message of 19 Sep 82 20:39-EDT from Joshua D.Marantz <JOSHM at MIT-OZ>

    Date: 19 Sep 1982 2039-EDT
    From: Joshua D. Marantz <JOSHM at MIT-OZ>
    How or where do I get information on customization files for zwei?  I am interested
    in changing key bindings, defaults, variable values, etc.
					    -Joshm
    -------
M-X Apropos, the ZWEI:SET-COMTAB (see the source), M-X List Variables.
Note that command names are formed by stripping "COM-" off the front
of the function name, and turning "-" into space.  So List Buffers
is the function ZWEI:COM-LIST-BUFFERS.  Variable names are formed by
stripping *'s off the end, and turning hypens into spaces.  The
two main COMTAB's that you might want to set are STANDARD-COMTAB and
ZMACS-COMTAB.  Setting it in STANDARD-COMTAB will make the command
available in other subsystems which are built on ZWEI, while ZMACS-COMTAB
is specific to ZMACS.
28-Sep-82 00:47:37-EDT,755;000000000000
Date: Monday, 27 September 1982, 21:15-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: *Mail-n* buffers
To: Kent M.Pitman <KMP at MIT-MC>
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 30 Aug 82 21:10-EDT from Kent M.Pitman <KMP at MIT-MC>

    Date: Monday, 30 August 1982, 21:10-EDT
    From: Kent M. Pitman <KMP at MIT-MC>
    I made the suggestion once before ages ago and it seems to have been ignored. I'll make
    it again since I think it's a good idea and it might have just been accidentally passed
    over...

    Couldn't the function which sets up *Mail-n* buffers mark them as unmodified after putting
    in the 

      To:
      Re:
      --Text follows this line--

This seems to have been done in 217.
28-Sep-82 00:57:51-EDT,648;000000000000
Mail-From: RMS created at 27-Sep-82 23:49:55
Date: 27 Sep 1982 2349-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
To: DANIEL at MIT-OZ, gren at MIT-OZ, bug-lispm at MIT-OZ
In-Reply-To: Your message of 25-Sep-82 1156-EDT

Loading a file of 0 bytes from OZ loses because the open is done with ':CHARACTERS ':DEFAULT
and OZ responds to this in a somewhat peculiar way by saying that the
file is a binary file.  I say this is peculiar because the convention is
supposed to be that, on PDP10's, only recognizable qfasl files are
called "binary", and a zero-length file is not one of them.

This is a bug in the Twenex file server.
-------
28-Sep-82 01:03:24-EDT,445;000000000000
Mail-From: RMS created at 28-Sep-82 00:40:37
Date: 28 Sep 1982 0040-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Sectionization bugs
To: bug-lispm at MIT-OZ

I have not been able to reproduce any of the reported bugs in sectionization.
Unfortunately, the bug reports have not been very specific.
If I am told a precise filename and precise editing commands
that produce the problem, I will surely be able to fix it.
-------
28-Sep-82 01:27:58-EDT,990;000000000000
Date: Tuesday, 28 September 1982  01:10-EDT
Sender: HDT at MIT-OZ
From: HDT at MIT-MC
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-MC, Kent M.Pitman <KMP at MIT-OZ>
Subject: *Mail-n* buffers

    Date: Monday, 27 September 1982, 21:15-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    To:   Kent M.Pitman <KMP>
    cc:   BUG-LISPM at MIT-MC
    Re:   *Mail-n* buffers

        Date: Monday, 30 August 1982, 21:10-EDT
        From: Kent M. Pitman <KMP at MIT-MC>
        I made the suggestion once before ages ago and it seems to have been ignored. I'll make
        it again since I think it's a good idea and it might have just been accidentally passed
        over...

        Couldn't the function which sets up *Mail-n* buffers mark them as unmodified after putting
        in the 

          To:
          Re:
          --Text follows this line--

    This seems to have been done in 217.
It certainly is done in system 87.
-------
28-Sep-82 04:14:09-EDT,876;000000000000
Date: Tuesday, 28 September 1982, 04:10-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
To: bug-lispm at MIT-OZ

I was shown an example of the sectionization lossage,
and I have fixed most of it in 87.45.

There is one phenomenon I do not understand.  I have arranged for
a continuable error if it is detected.  The error message will
direct you to look for me.  If I am not around, type Resume
and you will not be bothered again.

If this happens, I am extremely interested in knowing exactly
what sort of editing you did to your buffer before the recompilation
which got the error.

ZWEI:ALREADY-REPORTED-BP-LOSSAGE is the flag which is set once
the error has happened.  If you want to try to test a theory as to what
can cause the condition, set it to NIL and you will get the error again
on the next compilation from the buffer that detects the problem.
28-Sep-82 06:28:37-EDT,408;000000000000
Date: Tuesday, 28 September 1982  06:17-EDT
From: MOON at SCRC-TENEX
To:   Richard M. Stallman <RMS at MIT-OZ>
Cc:   bug-lispm at MIT-OZ, DANIEL at MIT-OZ, gren at MIT-OZ
In-reply-to: The message of 27 Sep 1982 2349-EDT from Richard M. Stallman <RMS at MIT-OZ>

    Date: 27 Sep 1982 2349-EDT
    From: Richard M. Stallman <RMS at MIT-OZ>

    Loading a file of 0 bytes from OZ loses
I fixed this
29-Sep-82 03:59:56-EDT,734;000000000000
Date: Wednesday, 29 September 1982, 03:40-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: CDR/RPLACD on locatives
To: BUG-LISPM at MC

I would *really* like it if someone would make some primitives for 
manipulating locatives. I don't really care if all they do are 
RPLACD/CDR and I don't really care if RPLACD/CDR keep working for
those that like that sort of low-level silliness, but if I'm thinking
of a "cell", I don't want to think in terms of primitives that in my
mind deal with lists and/or conses. A cell is just a place to put
something. If it were up to me, I'd make two primitives:
 (EXAMINE loc) would return the contents of the locative.
 (DEPOSIT loc val) would set the contents of the given locative.
29-Sep-82 06:44:42-EDT,294;000000000000
Date: Wednesday, 29 September 1982, 06:41-EDT
From: Richard M. Stallman <rms at MIT-OZ>
Subject: dired change
To: info-lispm at MIT-OZ

In 87.46, the C command in DIRED now copies the file you are pointing at.

To compare the file against the latest version, you now use the = command.
29-Sep-82 09:33:48-EDT,396;000000000000
Date: Wednesday, 29 September 1982, 09:28-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.45, ZMail 46.9,
Remote-File 15.1, Experimental Local-File 40.0, microcode 173, Enola Gay,
on Marvin:

In converse.  Typing ^Z causes the listener to go into "wait forever"
which can be aborted via ^abort.  Is that a feature?
29-Sep-82 13:48:54-EDT,502;000000000000
Date: Wednesday, 29 September 1982, 13:33-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: dove at MIT-DSPG, BUG-LISPM at MIT-OZ
In-reply-to: The message of 29 Sep 82 09:28-EDT from Webster Dove <dove at MIT-DSPG>

    Date: Wednesday, 29 September 1982, 09:28-EDT
    From: Webster Dove <dove at MIT-DSPG>
    In converse.  Typing ^Z causes the listener to go into "wait forever"
    which can be aborted via ^abort.  Is that a feature?
No, just a bug.  Fixed in the source (System 218).
29-Sep-82 16:41:52-EDT,605;000000000000
Date: 29 Sep 1982 1624-EDT
From: RMS at MIT-OZ
Subject: Re: CDR/RPLACD on locatives
To: kmp at MIT-MC
cc: BUG-LISPM at MIT-MC
In-Reply-To: Your message of 29-Sep-82 0359-EDT

Since so many uses of locatives deliberately use them to fake out
programs that expect lists, it is not clear whether there is much value
in a primitive which is "intended" for locatives.  One must always
think "what would I want it to do when handed a list" when writing
something to operate on a locative.

If people generally agree that there should be locative primitives,
though, I'll implement them.
-------
29-Sep-82 21:55:36-EDT,1066;000000000000
Date: Wednesday, 29 September 1982, 19:37-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: CDR/RPLACD on locatives
To: RMS at MIT-OZ
Cc: kmp at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: The message of 29 Sep 82 16:24-EDT from RMS at MIT-OZ

    Date: 29 Sep 1982 1624-EDT
    From: RMS at MIT-OZ
    Since so many uses of locatives deliberately use them to fake out
    programs that expect lists, it is not clear whether there is much value
    in a primitive which is "intended" for locatives.  One must always
    think "what would I want it to do when handed a list" when writing
    something to operate on a locative.
It is true that some programs that expect lists also take locatives.
It is not true that programs expecting locatives normally expect lists.
Most programs that get locatives instead of lists are really getting
property-lists.
    If people generally agree that there should be locative primitives,
    though, I'll implement them.
I agree with it, although I wouldn't insist on type-checking.  Macros
would do.
29-Sep-82 23:35:00-EDT,807;000000000000
Mail-From: GREN created at 29-Sep-82 22:47:49
Date: 29 Sep 1982 2247-EDT
From: GREN at MIT-OZ
Subject: File connections to OZ.
To: Bug-LispM at MIT-OZ


Something strange is going on at OZ.  It seems as though whenever any LispM
logs into OZ, it makes a FILE server, whether it's needed or not.

At any given time, there are 5 or 6 or 10 or more Not logged in, Detached
FILE servers, with 0 run time.  They just sit there and EAT RESOURCES.

OZ keeps getting screwed, giving "Insufficient system resources", and gunning
down those static FILE jobs is s sure way to free things up.  What is going
on?  IS it the LispM's who are making these?  I can't think of anything else
that might be doing it.

At any rate, what's to be done?  This is really giving OZ problems...


,Gren
-------
30-Sep-82 01:08:04-EDT,1445;000000000000
Date: 30 September 1982 00:57-EDT
From: Christopher C. Stacy <CSTACY at MIT-MC>
Subject:  File connections to OZ.
To: GREN at MIT-OZ
cc: Bug-LispM at MIT-OZ, Bug-Twenex at MIT-XX

    Date: 29 Sep 1982 2247-EDT
    From: GREN at MIT-OZ
    To:   Bug-LispM at MIT-OZ
    Re:   File connections to OZ.

    Something strange is going on at OZ.  It seems as though whenever any LispM
    logs into OZ, it makes a FILE server, whether it's needed or not.

As I understand things, for a LispM to log in to OZ, there needs to be
a FILE server.  Otherwise, how can it get the home directory, init
files, user-personal-name, and other stuff?


    At any given time, there are 5 or 6 or 10 or more Not logged in, Detached

    FILE servers, with 0 run time.  They just sit there and EAT RESOURCES.

    OZ keeps getting screwed, giving "Insufficient system resources", 
    and gunning down those static FILE jobs is s sure way to free things
    up.  What is going on?  IS it the LispM's who are making these?

    I can't think of anything else that might be doing it.
    At any rate, what's to be done?  This is really giving OZ problems...


    ,Gren


Various people ehave reported the Chaosnet stops working and they
get ?Insufficient Resources messages, but SYSDPY sometimes shows
plenty of monitor free space.  What other resource could it be
running out of, or how could the SYSDPY info be misleading?

30-Sep-82 11:27:23-EDT,2786;000000000000
Mail-From: RICH created at 30-Sep-82 11:18:50
Date: Thursday, 30 September 1982, 05:14-EDT
From: Barry W. Margolin <s.barmar at MIT-EECS>
Subject: Dired, Peek, etc.
To: BUG-LISPM at EE

In System 210.117, ZMail 45.6, Remote-File 103.0,
Experimental Macsyma 36.0, Obsolete DAEDALUS 45.2, microcode 895,
site configuration 25,  McLispM, on Marvin:

Several low-priority suggestions:

Dired/Files suggestion: How about some facilities for
dealing with multiple names of files on Multics.  Addname, Listnames,
Deletename. Facilities for dealing with attributes of Multics files,
i.e. safety switch (could be equated with the dont-reap flag), ACLs (it
doesn't look like any access setting facilities are implemented in any
file system - I suppose a generalized one should be designed).

Peek - In the Chaosnet display, there should be a way to close a
particular connection.  The existing display is relatively useless if
you want to do anything to the Chaosnet besides look at alot of numbers.

Perhaps it is a deficiency in the FILE protocol, but there should be
some kind of timeout on file operations.  Multics file jobs have a habit
of hanging often, and it would be nice if ZWEI would not just sit there
and wait forever.

When flavors or methods are being compiled upon their first reference
(they were defined in the interpreter) it would be nice if the whostate
changed to indicate this state, i.e. "Compile Flavor".

Options set in my ZMAIL init should affect messages being sent from ^XM
and M-X Bug.  Perhaps these commands should create ZMAIL-style mail
sending windows, rather than EMACS-style buffers.

When loading patches, if it bombs out trying to read a patch directory
(this one always dies trying to load Macsyma patches from Lispm-27) it
should just declare it obsolete, perhaps prompting first.  This is
probably fixed in the new error system, which I am waiting to see
running here.

Are you guys planning to support the Multics file server, or is that our
(MIT and/or IPS) responsibility?  Currently, it crashes very often.

Suggestion for patch file improvement: for those who like to respond "P"
it would be nice if there were a single patch file that contain all the
patches to bring a particular system up-to-date.  Much of the time in
loading patches comes from opening and closing files rather than
actually reading and running.

Could ZMACS do its reading and writing in the background?  It should
just not let the user modify the buffer that is being read/written (in
the case of reading that should be fairly easy since the buffer doesn't
exists).  I think Stallman has a feature that it starts displaying after
it has read the beginning of the file.

Well, that's all I can think of at the moment.
30-Sep-82 11:31:08-EDT,380;000000000000
Date: Thursday, 30 September 1982, 11:24-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.45, ZMail 46.9,
Remote-File 15.1, Experimental Local-File 40.0, microcode 173, Enola Gay,
on Marvin:

It might be nice if you could mouse someone in a finger printout to send
mail or converse with that person.
30-Sep-82 11:41:02-EDT,2348;000000000000
Date: Thursday, 30 September 1982, 10:38-EDT
From: Bernard S Greenberg <BSG at SCRC-TENEX>
Subject: Dired, Peek, etc.
To: s.barmar at MIT-EECS, BUG-LISPM at MIT-EECS
Cc: Lamson at MIT-Multics at MIT-MC, Schiller at MIT-Multics at MIT-MC
In-reply-to: The message of 30 Sep 82 05:14-EDT from Barry W. Margolin <s.barmar at MIT-EECS>

    Date: Thursday, 30 September 1982, 05:14-EDT
    From: Barry W. Margolin <s.barmar at MIT-EECS>
    In System 210.117, ZMail 45.6, Remote-File 103.0,
    Experimental Macsyma 36.0, Obsolete DAEDALUS 45.2, microcode 895,
    site configuration 25,  McLispM, on Marvin:

    Dired/Files suggestion: How about some facilities for
    dealing with multiple names of files on Multics.  Addname, Listnames,
    Deletename. Facilities for dealing with attributes of Multics files,
    i.e. safety switch (could be equated with the dont-reap flag), ACLs (it
    doesn't look like any access setting facilities are implemented in any
    file system - I suppose a generalized one should be designed).
The Multics safety switch is identified with :DONT-DELETE in 218, which is
displayed as @ in dired/fsedit. If the Multics server doesn't call it that,
I'll fix it.  Multiple names are not dealable-with by the current
pathname system, and are being considered for the next one.
    Peek - In the Chaosnet display, there should be a way to close a
    particular connection.  The existing display is relatively useless if
    you want to do anything to the Chaosnet besides look at alot of numbers.
Done in 218. Click on the STATE.
    Perhaps it is a deficiency in the FILE protocol, but there should be
    some kind of timeout on file operations.  Multics file jobs have a habit
    of hanging often, and it would be nice if ZWEI would not just sit there
    and wait forever.
See  below.
    Are you guys planning to support the Multics file server, or is that our
    (MIT and/or IPS) responsibility?  Currently, it crashes very often.
I will gladly (on ny IPS account) fix any server bugs you can identify, or crashes
(this I had not heard about) EXCEPT "everything stops and the place just
hangs up".  The latter is not a bug in the server, but a bug in
MIT administration that fails to allocate funds for an adequate chaosnet interface
and accompanying software for Multics.
30-Sep-82 12:20:08-EDT,501;000000000000
Date: 30 Sep 1982 1213-EDT
From: J. Noel Chiappa <JNC at MIT-XX>
Subject: Re: File connections to OZ.
To: CSTACY at MIT-MC, GREN at MIT-OZ
cc: Bug-LispM at MIT-OZ, Bug-Twenex at MIT-XX, JNC at MIT-XX
In-Reply-To: Your message of 30-Sep-82 0057-EDT

	I think that the CHAOS code uses DECNet core, and it tends to
loose track of it. Certainly, the times whenthe CHAOSNet goes out
on XX that's what it's lost. We also see crashes caused by the CHAOS
net havinf free storage errors...
-------
30-Sep-82 14:12:42-EDT,1457;000000000000
Mail-From: DPH created at 30-Sep-82 14:10:37
Date: Thursday, 30 September 1982  14:10-EDT
Sender: DPH at MIT-OZ
From: DPH at MIT-MC
To:   J. Noel Chiappa <JNC at MIT-XX>
Cc:   Bug-LispM at MIT-OZ, Bug-Twenex at MIT-XX, CSTACY at MIT-OZ,
      GREN at MIT-OZ
Subject: File connections to OZ.

    Date: Thursday, 30 September 1982  12:13-EDT
    From: J. Noel Chiappa <JNC at MIT-XX>
    To:   CSTACY, GREN
    cc:   Bug-LispM, Bug-Twenex at MIT-XX, JNC at MIT-XX
    Re:   File connections to OZ.

    	I think that the CHAOS code uses DECNet core, and it tends to
    loose track of it. Certainly, the times whenthe CHAOSNet goes out
    on XX that's what it's lost. We also see crashes caused by the CHAOS
    net havinf free storage errors...

This is a different problem.  It is true that one of the canonical modes of
lossage for the chaos software on the 20s is for it to run out of DECnet core.
In the current problem ony 10-20% of DECnet core is in use, there are plenty
of timer blocks and other neat resources.  Basically from sysdpy the system
looks fine.

I have temporarily replaced Gren's file server with Moon's version from XX.
Since then (4 hours ago) there have been no ?Insufficient System Resources
problems.  If the problem stays away for the rest of the day then Gren should
probably look at his file server code -- since yesterday and this morning it
was happening several times an hour.
-dan
-------
30-Sep-82 14:28:24-EDT,4612;000000000000
Date: Thursday, 30 September 1982, 14:04-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Dired, Peek, etc.
To: s.barmar at MIT-EECS, BUG-LISPM at MIT-EECS
In-reply-to: The message of 30 Sep 82 05:14-EDT from Barry W. Margolin <s.barmar at MIT-EECS>

    Dired/Files suggestion: How about some facilities for
    dealing with multiple names of files on Multics.
The problem with this is that Dired/Files stuff all works through
the generic file protocol, so that it can work on any system.  If
we were to support this, we'd have to hair up the model to allow
multiple names, which I think is very difficult and not worth the
work at this point in time.

    Peek - In the Chaosnet display, there should be a way to close a
    particular connection. 
Damn straight.  I though this had been fixed already, but apparently
not (even in the latest 217).

    Perhaps it is a deficiency in the FILE protocol, but there should be
    some kind of timeout on file operations.  Multics file jobs have a habit
    of hanging often, and it would be nice if ZWEI would not just sit there
    and wait forever.
Well, let me point out that this cuts both ways.  There is already a timeout
in the thing that opens connections, and often attempts to connect to
Multics bomb out to the error handler when actually all that's going on
is that Multics is slow.  Several times I have had to patch the default
timeout BY HAND as the only way to connect to Multics.  On the other hand,
in the NES, the error could be proceedable so that you could "wait longer"
as a proceed-type.  DLA?

    When flavors or methods are being compiled upon their first reference
    (they were defined in the interpreter) it would be nice if the whostate
    changed to indicate this state, i.e. "Compile Flavor".
The whostate always says "Run" when the machine is running; the fact of
its not saying "Run" means that it is waiting.  When it is compiling
flavors it isn't waiting.  I suppose we could change this and have
the whostate try to tell you what is being run, but it's hard because
at any given time there are many valid descriptions based on different
levels of abstraction.  While it is doing "Compile Flavor", it is equally
valid to say "Run Lisp" (at a higher level) or "Make System" (at an only
slightly higher level) or "Compile File" or "Expand Macro" (at a lower level)
or "Take CAR of a CONS" (at an even lower one).

    Options set in my ZMAIL init should affect messages being sent from ^XM
    and M-X Bug.  Perhaps these commands should create ZMAIL-style mail
    sending windows, rather than EMACS-style buffers.
If we ever make things fast enough that this would be acceptable, and
we ever make it possible for there to be more than one Zmail at a time,
we'll do this.

    When loading patches, if it bombs out trying to read a patch directory
    (this one always dies trying to load Macsyma patches from Lispm-27) it
    should just declare it obsolete, perhaps prompting first.  This is
    probably fixed in the new error system, which I am waiting to see
    running here.
Indeed.

    Are you guys planning to support the Multics file server, or is that our
    (MIT and/or IPS) responsibility?  Currently, it crashes very often.
BSG will have to answer for himself, but the Multics file server is
not official Symbolics software.

    Suggestion for patch file improvement: for those who like to respond "P"
    it would be nice if there were a single patch file that contain all the
    patches to bring a particular system up-to-date.  Much of the time in
    loading patches comes from opening and closing files rather than
    actually reading and running.
Yeah, we have lots of ideas about improving this stuff and we have a person
who will start working on it soon.

    Could ZMACS do its reading and writing in the background?  It should
    just not let the user modify the buffer that is being read/written (in
    the case of reading that should be fairly easy since the buffer doesn't
    exists).  I think Stallman has a feature that it starts displaying after
    it has read the beginning of the file.
Hmm.  Sounds pretty hard to do, and if it's running away in the background
you won't get enough cycles to do anything with, and if it runs in low
priority it will take longer.  Also, two-processness really makes the code
a lot more complex and allows much hairier bugs to creep in.  I'd rather not
get into that.

    Well, that's all I can think of at the moment.
Thanks, let us know if you think of more.
30-Sep-82 15:13:36-EDT,696;000000000000
Date: Thursday, 30 September 1982  14:58-EDT
From: MOON at SCRC-TENEX
To:   DPH at MIT-MC
Cc:   Bug-LispM at MIT-OZ, Bug-Twenex at MIT-XX, CSTACY at MIT-OZ,
      GREN at MIT-OZ, J. Noel Chiappa <JNC at MIT-XX>
Subject: File connections to OZ.
In-reply-to: The message of 30 Sep 1982  14:10-EDT from DPH at MIT-MC

Just to set the record straight, "Gren's file server" and "Moon's file server"
are the same.  The one on XX is probably a little bit older version.  Also
if you took the binary it didn't have the OZ-only features for not having to
log in, which could be the source of the problem perhaps.  Those features are
included by conditional assembly since only OZ wants them.
30-Sep-82 15:25:17-EDT,1357;000000000000
Mail-From: DPH created at 30-Sep-82 15:17:47
Date: Thursday, 30 September 1982  15:17-EDT
Sender: DPH at MIT-OZ
From: DPH at MIT-MC
To:   MOON at SCRC-TENEX
Cc:   Bug-LispM at MIT-OZ, Bug-Twenex at MIT-XX, CSTACY at MIT-OZ,
      GREN at MIT-OZ, J. Noel Chiappa <JNC at MIT-XX>
Subject: File connections to OZ.

    Date: Thursday, 30 September 1982  14:58-EDT
    From: MOON at SCRC-TENEX
    To:   DPH
    cc:   Bug-LispM, Bug-Twenex at MIT-XX, CSTACY, GREN,
          J. Noel Chiappa <JNC at MIT-XX>
    Re:   File connections to OZ.

    Just to set the record straight, "Gren's file server" and "Moon's file server"
    are the same.  The one on XX is probably a little bit older version.  Also
    if you took the binary it didn't have the OZ-only features for not having to
    log in, which could be the source of the problem perhaps.  Those features are
    included by conditional assembly since only OZ wants them.

A poor choice of terminology on my part.  What I really meant was that
the server on oz has been hacked a lot recently and there was a version
written (by Gren) with a date that corresponded to the beginning of this
moby screw file job problem.  It was a shot in the dark since the file
server shouldn't be screwing things up in the way that they are currently
losing.  It didn't help anyway.
-------
30-Sep-82 22:15:17-EDT,583;000000000000
Date: Thursday, 30 September 1982, 22:04-EDT
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-MC

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.46,
ZMail 46.9, microcode 171, Use me, on Lisp Machine Seven:

Call a function, any function with one too few arguments.
Hit resume, and supply the value of the argument.
The function is then erroneously called with one extra argument, which
is the one that you just supplied, while the value for the one you
didn't give initially is shown to be NIL.

Fixed in the current error system?
 1-Oct-82 02:21:35-EDT,5568;000000000000
Date: Friday, 1 October 1982, 02:08-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Dired, Peek, etc.
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: s.barmar at MIT-EECS, BUG-LISPM at MIT-EECS
In-reply-to: The message of 30 Sep 82 14:04-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Thursday, 30 September 1982, 14:04-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	Dired/Files suggestion: How about some facilities for
	dealing with multiple names of files on Multics.
    The problem with this is that Dired/Files stuff all works through
    the generic file protocol, so that it can work on any system.  If
    we were to support this, we'd have to hair up the model to allow
    multiple names, which I think is very difficult and not worth the
    work at this point in time.
Actually, the DIRECTORY-LIST operation could handle listing them
without much problem.  And there's no problem with file-server
specific commands.  Although the CHANGE-PROPERTIES command would
also probably be adaquate.
	Perhaps it is a deficiency in the FILE protocol, but there should be
	some kind of timeout on file operations.  Multics file jobs have a habit
	of hanging often, and it would be nice if ZWEI would not just sit there
	and wait forever.
    Well, let me point out that this cuts both ways.  There is already a timeout
    in the thing that opens connections, and often attempts to connect to
    Multics bomb out to the error handler when actually all that's going on
    is that Multics is slow.  Several times I have had to patch the default
    timeout BY HAND as the only way to connect to Multics.  On the other hand,
    in the NES, the error could be proceedable so that you could "wait longer"
    as a proceed-type.  DLA?
I think Control-ABORT is adaquate.
	When flavors or methods are being compiled upon their first reference
	(they were defined in the interpreter) it would be nice if the whostate
	changed to indicate this state, i.e. "Compile Flavor".
    The whostate always says "Run" when the machine is running; the fact of
    its not saying "Run" means that it is waiting.  When it is compiling
    flavors it isn't waiting.  I suppose we could change this and have
    the whostate try to tell you what is being run, but it's hard because
    at any given time there are many valid descriptions based on different
    levels of abstraction.  While it is doing "Compile Flavor", it is equally
    valid to say "Run Lisp" (at a higher level) or "Make System" (at an only
    slightly higher level) or "Compile File" or "Expand Macro" (at a lower level)
    or "Take CAR of a CONS" (at an even lower one).
Well, I think there is a distinction here that is worth making.  There
are ordinary events, and extraordinary events.  Among all the status-line
states you give, only Compile Flavor would I consider to be an extraordinary
state.
	When loading patches, if it bombs out trying to read a patch directory
	(this one always dies trying to load Macsyma patches from Lispm-27) it
	should just declare it obsolete, perhaps prompting first.  This is
	probably fixed in the new error system, which I am waiting to see
	running here.
    Indeed.
Huh?  Loading MACSYMA patches from LM27???  What system are you running?
System 210 has been observed to declare a system obsolete if the patch
directory has been deleted.  I was unaware that there was any version of
system 210 which looked on LM27 for anything at all.
	Suggestion for patch file improvement: for those who like to respond "P"
	it would be nice if there were a single patch file that contain all the
	patches to bring a particular system up-to-date.  Much of the time in
	loading patches comes from opening and closing files rather than
	actually reading and running.
    Yeah, we have lots of ideas about improving this stuff and we have a person
    who will start working on it soon.
Yes, but this idea (if I understand it) isn't workable.  This would involve
the creation of o(n^2) patch files, one to bring a system up to a specific
patch level from a specific patch level.  Only allowing bringing up-to-date to
the most recent to the most recent level allows you to delete all but N
of them, in addition to the QBIN files for each patch level.  In other
other words, each time you create patch N, you would have to create N
files and delete N-1 files.  I think people would stop making patches
if they had to go through that.

On the other hand, if we were to distribute patches less frequently,
we could merge all the QBIN's into one (there's a function to do that),
and distribute that.  But if you're not going to be loading patches
that often, it doesn't seem worth it.
	Could ZMACS do its reading and writing in the background?  It should
	just not let the user modify the buffer that is being read/written (in
	the case of reading that should be fairly easy since the buffer doesn't
	exists).  I think Stallman has a feature that it starts displaying after
	it has read the beginning of the file.
    Hmm.  Sounds pretty hard to do, and if it's running away in the background
    you won't get enough cycles to do anything with, and if it runs in low
    priority it will take longer.  Also, two-processness really makes the code
    a lot more complex and allows much hairier bugs to creep in.  I'd rather not
    get into that.
Still, for other reasons, I think we need to provide per-buffer interlocking,
so other processes can safely read and write from buffers.
 1-Oct-82 10:07:50-EDT,1499;000000000000
Date: Friday, 1 October 1982, 09:53-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Dired, Peek, etc.
To: dlw at SCRC-TENEX
Cc: s.barmar at MIT-EECS, BUG-LISPM at MIT-EECS, DLA at SCRC-TENEX
In-reply-to: The message of 30 Sep 82 14:04-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Thursday, 30 September 1982, 14:04-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>

	Perhaps it is a deficiency in the FILE protocol, but there should be
	some kind of timeout on file operations.  Multics file jobs have a habit
	of hanging often, and it would be nice if ZWEI would not just sit there
	and wait forever.
    Well, let me point out that this cuts both ways.  There is already a timeout
    in the thing that opens connections, and often attempts to connect to
    Multics bomb out to the error handler when actually all that's going on
    is that Multics is slow.  Several times I have had to patch the default
    timeout BY HAND as the only way to connect to Multics.  On the other hand,
    in the NES, the error could be proceedable so that you could "wait longer"
    as a proceed-type.  DLA?
Well, when the condition is signalled, the connection is already closed.
I decided not to change that because I wasn't sure of the implications
of filling up connection tables and the like.  In any case, there is
always a ERROR-RESTART provided to retry making the connection.  That
could be haired up to have a longer timeout for SYS:HOST-NOT-RESPONDING.
 1-Oct-82 13:47:49-EDT,306;000000000000
Mail-From: RICH created at  1-Oct-82 13:44:38
Date: 1 October 1982  13:44-EDT (Friday)
Sender: RICH at MIT-OZ
From: Charles Rich <RICH at MIT-MC>
To:   bug-lispm-mit at MIT-OZ
Subject: CADR27
CC:   Zvona at MIT-OZ

When will CADR27 be back up?  There are files on FS
that I need.
		-CR
-------
 1-Oct-82 13:57:44-EDT,552;000000000000
Mail-From: ZVONA created at  1-Oct-82 13:53:29
Date: Friday, 1 October 1982  13:53-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   rich at MIT-OZ, bug-lispm-mit at MIT-OZ

Apparently RG was the last person to try to fix cadr27.  It has
problems with the drives.  Gritching at him might help.  We might also
try to scarf a couple drives from someplace else (e.g. cadrs 30 and
31, which don't exist yet) and move FS: and FC: to OZ:SRC:.  It would
have to be selective though, because there ain't much room left on
src: even.
-------
 1-Oct-82 14:58:26-EDT,794;000000000000
Date: Friday, 1 October 1982, 14:40-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Dired, Peek, etc.
To: DLA at SCRC-TENEX
Cc: s.barmar at MIT-EECS, BUG-LISPM at MIT-EECS
In-reply-to: The message of 1 Oct 82 09:53-EDT from David L. Andre <DLA at SCRC-TENEX>

    Date: Friday, 1 October 1982, 09:53-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
    Well, when the condition is signalled, the connection is already closed.
    I decided not to change that because I wasn't sure of the implications
    of filling up connection tables and the like.  In any case, there is
    always a ERROR-RESTART provided to retry making the connection.  That
    could be haired up to have a longer timeout for SYS:HOST-NOT-RESPONDING.
Dung in the sewers.  Tested but not patched.
 1-Oct-82 15:07:26-EDT,1461;000000000000
Date: Friday, 1 October 1982, 14:50-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Bugs in the new error system.
To: Hdt at MIT-OZ, BUG-LISPM at MIT-MC
In-reply-to: The message of 30 Sep 82 22:04-EDT from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Thursday, 30 September 1982, 22:04-EDT
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    To: BUG-LISPM at MIT-MC

    In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.46,
    ZMail 46.9, microcode 171, Use me, on Lisp Machine Seven:

    Call a function, any function with one too few arguments.
    Hit resume, and supply the value of the argument.
    The function is then erroneously called with one extra argument, which
    is the one that you just supplied, while the value for the one you
    didn't give initially is shown to be NIL.

    Fixed in the current error system?

I tested this in the latest 217.  It all works fine for microcoded
and compiled functions, in the new error system.

However, for interpreted functions two problems show up.  A minor
one is that SYS:TOO-FEW-ARGUMENTS is not in QCOMETH and so gets
compiled on the fly; presumably only the the -TRAP version is in.
The major one is that the attempt to proceed causes an
RPLACD-WRONG-REPRESENTATION-TYPE-TRAP error because (1) is
embedded in a structure.  This bug is easy to reproduce; I was
using (DEFUN MY-CONS (X Y) (CONS X Y)) interpreted and calling
(CONS 1).
 1-Oct-82 17:52:12-EDT,1125;000000000000
Date: Thursday, 30 September 1982, 07:51-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
Subject: File connections to OZ.
To: GREN at MIT-OZ, Bug-LispM at MIT-OZ

    Date: 29 Sep 1982 2247-EDT
    From: GREN at MIT-OZ
    Subject: File connections to OZ.

    Something strange is going on at OZ.  It seems as though whenever any LispM
    logs into OZ, it makes a FILE server, whether it's needed or not.

    At any given time, there are 5 or 6 or 10 or more Not logged in, Detached
    FILE servers, with 0 run time.  They just sit there and EAT RESOURCES.

Aren't file servers supposed to commit suicide after a while if unused?  And
why do five or ten file servers require so much in the way of resources?  They
can't eat that much core for their buffers.  I think that the out of resources
lossage is due to something else altogether -- XX is always running out of
Chaos resources, and very few Lisp Machines use it as a file computer.  I'd say
that the out of resources problem is a real, live bug somewhere in the Chaos
code.  Did we really install the fix to the problem that Gumby had in Paris?
 2-Oct-82 18:05:22-EDT,643;000000000000
Date: 2 Oct 1982 14:09:10-EDT
From: dove at mit-dspg
To: bug-lispm@mit-oz
Subject: temporary consing areas (request for info)

I understand the number-consing-area to be one of several such areas
that are completely reclaimed on return from a function, and to which
you cannot make pointers that are not themselves contained in a
"local-consing-area".  How many such areas are there?  Would it be
possible to cons objects like flavor instances and arrays for fast
reclamation by such a mechanism?  If so, who does the detection for the
creation of global pointers and copies out the object pointed at
(and any of its children)?

 2-Oct-82 18:06:48-EDT,886;000000000000
Date: Saturday, 2 October 1982, 17:59-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: rms at MIT-OZ, BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54,
ZMail 46.10, microcode 172, hack me, on Lisp Machine Twenty-five:

There is a bug in locatives that is causing this machine to hang on a piece of
code that worked two or three weeks ago.  I have a microcode PC printout from
CC that shows where the bug occurs.  I do not have time to find out exactly
where it hangs, because I have to convert my code to work in another system,
because I have a demo tomorrow for which it has to be running.

I could tell you how to reproduce the bug, but it would take too long, and it
would wedge your machine.  I will demonstrate it for you if you like.

The microcode PC printout can be most easily seen by doing
(load "<pgs>lossage")
 2-Oct-82 18:39:56-EDT,2455;000000000000
Date: Saturday, 2 October 1982  18:35-EDT
From: MOON at SCRC-TENEX
To:   dove at mit-dspg
Cc:   bug-lispm at mit-oz, doc-changes at SCRC-TENEX
Subject: temporary consing areas (request for info)
In-reply-to: The message of 2 Oct 1982 14:09:10-EDT from dove at mit-dspg

    Date: 2 Oct 1982 14:09:10-EDT
    From: dove at mit-dspg
    To: bug-lispm@mit-oz
    Subject: temporary consing areas (request for info)

    I understand the number-consing-area to be one of several such areas
    that are completely reclaimed on return from a function, and to which
    you cannot make pointers that are not themselves contained in a
    "local-consing-area".  How many such areas are there?  
None.  The extra-pdl-area contains objects that may only be pointed
to by the local state of the machine (mainly the stack buffer).  Nothing
special happens to it on return from a function, however when it gets
full it is completely reclaimed and objects in it that are pointed to
by the local state of the machine are copied out, and the pointers are
relocated.  To enforce the restriction that only the local state of the
machine may point to the extra-pdl-area, any time a pointer is stored
into memory, if it points to the extra-pdl-area, the object it points to
is copied out and the pointer is changed to point to the copy.

The extra-pdl-area only works for numbers, because when it copies out
objects it cannot guarantee that they "remain EQ to themselves", i.e.
that all pointers to the object are changed to point to the copy.  This
could be changed at an efficiency cost.

The extra-pdl-area is used to store those numbers that are not immediate:
full-size flonums, bignums, rationals, complexes.

Note that the lifetime of stuff in the extra-pdl-area is very short.
A stack-group switch necessarily flushes this area since it stores the entire
local state of the machine into memory.  Stack group switches happen
at least once a second.

							   Would it be
    possible to cons objects like flavor instances and arrays for fast
    reclamation by such a mechanism?  If so, who does the detection for the
    creation of global pointers and copies out the object pointed at
    (and any of its children)?

Not by exactly the extra-pdl-area mechanism.  To answer your question
further I would have to get a little too commercial for some people on this
mailing list.  Let me just say that the 3600 has it.
 2-Oct-82 19:49:43-EDT,592;000000000000
Date: Saturday, 2 October 1982, 19:45-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54, ZMail 46.10,
Remote-File 15.2, Experimental Local-File 40.3, microcode 173, FS,
on Lisp Machine Apiary-1:

Source file properties are being set incorrectly.  Specifically,
while loading file FOO which caused function BAR to be run
I got the error message that BAZ was not a defined function.
I defined it then and there and control-c'd.  However, BAZ
was given a source file property of FOO, which is wrong.

Daniel
 2-Oct-82 20:20:04-EDT,387;000000000000
Date: Saturday, 2 October 1982, 20:13-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54,
ZMail 46.10, microcode 173, Use me, on Marvin:

Typing <abort> at peek is hard to fix.  Peek goes into "no selected
window" state.  Thereafter, it is hard to get it back to life short of
warm boot.
 2-Oct-82 23:42:53-EDT,1055;000000000000
Date: Saturday, 2 October 1982, 23:37-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54, ZMail 46.10,
Remote-File 15.2, Experimental Local-File 40.3, Experimental DPL 1.0,
microcode 173, FS, on Lisp Machine Apiary-1:

Hey there, Hi there, Ho there,
it's as simple as can be:
M. I. C.  
K. E. Y.
M. O. U. S. E!


I have just started using twenex as a host for a system.
Unfortunately, defsystem don't do too well with twenex.
In particular, I redefined a file which caused other
(nonchanged) files to need recompilation.  On each of these
files I got the message  "Hey man, I can't write out
qfasl.n because it already exists."  Question: what is the
standard way around this screw?  Flame: Why should I have
to ask this question?  Obviously this is going to screw
(has screwed) everyone who does this.  Why do we each have
figure out a patch?  Sometimes I think I spend more time
trying to figure out how to get work done than getting
work done.

Daniel
 3-Oct-82 00:02:22-EDT,374;000000000000
Date: Saturday, 2 October 1982, 23:55-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54, ZMail 46.10,
Remote-File 15.2, Experimental Local-File 40.3, Experimental DPL 1.0,
microcode 173, FS, on Lisp Machine Apiary-1:

Sorry about the flaming in my last message.  I got carried away.

Daniel
 3-Oct-82 01:21:25-EDT,921;000000000000
Date: Sunday, 3 October 1982, 01:16-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: Daniel at MIT-OZ, BUG-LISPM at MIT-OZ, bug-file-server at MIT-OZ

    Date: Saturday, 2 October 1982, 23:37-EDT
    From: Daniel Weise <Daniel at MIT-OZ>

    In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54, ZMail 46.10,
    Remote-File 15.2, Experimental Local-File 40.3, Experimental DPL 1.0,
    microcode 173, FS, on Lisp Machine Apiary-1:

    I have just started using twenex as a host for a system.
    Unfortunately, defsystem don't do too well with twenex.
    In particular, I redefined a file which caused other
    (nonchanged) files to need recompilation.  On each of these
    files I got the message  "Hey man, I can't write out
    qfasl.n because it already exists."

This screw is a screw in the file server, not in MAKE-SYSTEM.  MAKE-SYSTEM just
calls QC-FILE, which shoots it in the head.
 3-Oct-82 01:36:54-EDT,1230;000000000000
Date: Sunday, 3 October 1982, 01:32-EDT
From: barmar at multics
Sender: s.barmar at MIT-EECS
Subject: SUPDUP greeting printing
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54,
ZMail 46.10, microcode 173, Use me, on Arthur Dent:

When supdup'ing to Multics from a LispM, the greeting message is
always terminated with a lowercase delta character (character
code 12 octal).  I checked with the implementor of the server,
and he claims that he is meaning to send an ASCII LF, and that
the Lisp Machine should be interpreting this as an ASCII control
character.  He seesm to be right; here is a quote from RFC 734,
which documents the Supdup protocol:

	Following the transmission of the terminal options by
	the user, the server should respond with an ASCII
	greeting message, terminated with a %TDNOP code....

Character code 12 is a perfectly valid ASCII linefeed; it should
be interpreted as something close to the ASCII definition, not
as a printing graphic.

The Multics Supdup server also outputs a %TD-code (a %TDCLR) at
the beginning of its greeting, but in this case I think that it
is wrong and the LispM is correct in printing a <stop-output>.
 3-Oct-82 14:28:19-EDT,551;000000000000
Date: Sunday, 3 October 1982, 14:21-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at EE

In Obsolete System 210.128, Obsolete ZMail 45.14,
Obsolete Remote-File 103.0, Experimental Knowledge-Based-Editor 45.0,
microcode 903, site configuration 25, Black Magic, on Lisp Machine Twenty-two:

``Obsolete'' because ee:lib: is nonexistent.

In so far as login-setq is taken seriously, there ought to be a
login-defun.  Which wouldn't be hard to write.  But of course
that suggests that there should be a zwei:login-defcom, etc., ... 
 3-Oct-82 14:38:45-EDT,546;000000000000
Date: Sunday, 3 October 1982, 14:33-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at EE

In Obsolete System 210.128, Obsolete ZMail 45.14,
Obsolete Remote-File 103.0, Experimental Knowledge-Based-Editor 45.0,
microcode 903, site configuration 25, Black Magic, on Lisp Machine Twenty-two:

I don't know how Texex does it, but it seems to me that with
fs:*always-merge-type-and-version* on, with a default of
<foo>bar.lisp, ".qfasl" should go to <foo>bar.qfasl.  Or maybe
that would be *always-merge-type/,-name-and-version*?
 3-Oct-82 16:40:08-EDT,475;000000000000
Date: Sunday, 3 October 1982, 16:32-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.55, ZMail 46.10,
Remote-File 15.2, Experimental Local-File 40.0, Experimental DPL 1.0,
microcode 172, FS, on Lisp Machine Apiary-2:

For a fun time, try (tv:menu-choose '(x y z))

It makes the window for the choices as big as the screen.  It used to make
the window only as big as it needed to be.

Daniel
 3-Oct-82 22:52:11-EDT,561;000000000000
Mail-From: RPK created at  3-Oct-82 22:49:54
Date: 3 October 1982  22:49-EDT (Sunday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
To:   Charles Rich <RICH at MIT-OZ>
Cc:   bug-lispm-mit at MIT-OZ, Zvona at MIT-OZ
Subject: CADR27

Why is it down ?  Is it broken ?  New disks ?

Monday: If it runs with two drives, I am bringing it up. Like the rest of
you, I am very anxious to have it back up: whoever brought it down (or
noticde that it crashed) SHOULD HAVE SENT A NOTE TO BUG-HARDWARE.  But they
did not.

``Bob''
-------
 3-Oct-82 23:02:38-EDT,1081;000000000000
Mail-From: RPK created at  3-Oct-82 23:01:32
Date: 3 October 1982  23:01-EDT (Sunday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
Subject: LM27, where are you ?
To:   ZVONA at MIT-OZ
Cc:   bug-lispm-mit at MIT-OZ, rich at MIT-OZ

Well, I guess if RG brought it down for THAT reason, I won't even try to
bring it back up.  Still, I am surprised that it is down; are the disk drives
themselves bad, or is it the multi-drive controller ?  There MIGHT be another
Lisp Machine with a controller for more than one drive, but only my elders
know if so and which one.

Trying to port the FC/FS disk to OZ would be much work.  (Can it even be
done ?)  I would be game to change things (temporarily) so that CADR7 could
be FC/FS for a while (uh-oh, there's some code with ``LM27'' wired in in a
few places).  But if we don't have a controller for > one drive, it won't be
that useful -- we could only use drive 0, containg a copy of the FC/FS backup
that was made before LM27 got another drive.  That may be too old to be
useful.

``Bob''
-------
 3-Oct-82 23:37:39-EDT,604;000000000000
Date: Sunday, 3 October 1982, 23:34-EDT
From: David Vinayak Wallace <Gumby at MIT-OZ>
Subject: LM27, where are you ?
To: Robert P. Krajewski <RPK at MIT-MC>
Cc: ZVONA at MIT-OZ, bug-lispm-mit at MIT-OZ, rich at MIT-OZ, gumby at MIT-OZ
In-reply-to: The message of 3 Oct 82 23:01-EDT from Robert P. Krajewski <RPK at MIT-MC>

	  I would be game to change things (temporarily) so that CADR7 could
    be FC/FS for a while (uh-oh, there's some code with ``LM27'' wired in in a
    few places).

    ``Bob''

No problem. Just give cadr 7 cadr 27's chaos address, and unplug cadr
27 completely.
 4-Oct-82 00:17:36-EDT,975;000000000000
Date: Sunday, 3 October 1982, 23:58-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: David Chapman <Zvona at MIT-OZ>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 3 Oct 82 14:33-EDT from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 3 October 1982, 14:33-EDT
    From: David Chapman <Zvona at MIT-OZ>

    I don't know how Texex does it, but it seems to me that with
    fs:*always-merge-type-and-version* on, with a default of
    <foo>bar.lisp, ".qfasl" should go to <foo>bar.qfasl.  Or maybe
    that would be *always-merge-type/,-name-and-version*?
fs:*always-merge-type-and-version* has no effect on this, since
there is an explicit type.

This would do what you ask for now except that ".qfasl" as a Tenex
pathname parses as a pathname with a blank name rather than an omitted
name.  That could be changed if we decide to change it, which seems
likely since (at least on Tenex) trying to create a file with that name
signals an error.
 4-Oct-82 00:28:02-EDT,1397;000000000000
Date: Monday, 4 October 1982, 00:07-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: Patrick Sobalvarro <PGS at MIT-OZ>
Cc: Daniel at MIT-OZ, BUG-LISPM at MIT-OZ, bug-file-server at MIT-OZ
In-reply-to: The message of 3 Oct 82 01:16-EDT from Patrick Sobalvarro <PGS at MIT-OZ>

    Date: Sunday, 3 October 1982, 01:16-EDT
    From: Patrick Sobalvarro <PGS at MIT-OZ>
    To: Daniel at MIT-OZ, BUG-LISPM at MIT-OZ, bug-file-server at MIT-OZ

	Date: Saturday, 2 October 1982, 23:37-EDT
	From: Daniel Weise <Daniel at MIT-OZ>

	In LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54, ZMail 46.10,
	Remote-File 15.2, Experimental Local-File 40.3, Experimental DPL 1.0,
	microcode 173, FS, on Lisp Machine Apiary-1:

	I have just started using twenex as a host for a system.
	Unfortunately, defsystem don't do too well with twenex.
	In particular, I redefined a file which caused other
	(nonchanged) files to need recompilation.  On each of these
	files I got the message  "Hey man, I can't write out
	qfasl.n because it already exists."

    This screw is a screw in the file server, not in MAKE-SYSTEM.  MAKE-SYSTEM just
    calls QC-FILE, which shoots it in the head.

Actually, it's a bug in systems 72 or thereabouts through 87.  Writing the QFASL
file with the same version number as the source file, while a nice idea in principle,
cannot work for numerous reasons.
 4-Oct-82 01:02:40-EDT,570;000000000000
Date: Monday, 4 October 1982, 00:54-EDT
From: David Vinayak Wallace <Gumby at MIT-OZ>
Subject: string coercion
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.55,
ZMail 46.10, microcode 171, 60.45Hz, on Lisp Machine Nine:

STRING of a fixnum returns a string containing the character whose
numerical value is that fixnum. I don't think that this is really the
best interpretation of that situation. (i.e. (STRING 65.)  "A", when I
think it really ought to return "65" or "65." depending on *nobase and
base).
 4-Oct-82 01:04:33-EDT,464;000000000000
Date: Monday, 4 October 1982, 00:59-EDT
From: David Vinayak Wallace <Gumby at MIT-OZ>
To: David A. Moon <Moon at SCRC-TENEX>
Cc: BUG-LISPM at MIT-OZ, gumby at MIT-OZ

    From: David A. Moon <Moon at SCRC-TENEX>

							     ...Writing the QFASL
    file with the same version number as the source file, while a nice idea in principle,
    cannot work for numerous reasons.

Such as? This would seem only to be a problem under ITS, UNIX, and
MULTICS.
 4-Oct-82 05:06:51-EDT,446;000000000000
Mail-From: CYPHER created at  4-Oct-82 05:03:58
Date: 4 October 1982  05:03-EDT (Monday)
Sender: CYPHER at MIT-OZ
From: D. Scott Cyphers <CYPHER at MIT-MC>
Subject: 87.55
Cc:   info-spire at MIT-OZ, info-lispm at MIT-OZ
To:   DPH at MIT-OZ

Dan,
	Does your patch (87.55) make the 7th floor versatec the
terminal-q device for everyone, or just for people who used to use the
XGP?  We use terminal-q here for our own Versatec.
-------
 4-Oct-82 06:11:15-EDT,932;000000000000
Date: Monday, 4 October 1982, 06:03-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: QC-FILE and version numbers
To: David Vinayak Wallace <Gumby at MIT-OZ>
Cc: David A. Moon <Moon at SCRC-TENEX>, BUG-LISPM at MIT-OZ
In-reply-to: The message of 4 Oct 82 00:59-EDT from David Vinayak Wallace <Gumby at MIT-OZ>

    Date: Monday, 4 October 1982, 00:59-EDT
    From: David Vinayak Wallace <Gumby at MIT-OZ>
	From: David A. Moon <Moon at SCRC-TENEX>
								 ...Writing the QFASL
	file with the same version number as the source file, while a nice idea in principle,
	cannot work for numerous reasons.

    Such as? This would seem only to be a problem under ITS, UNIX, and
    MULTICS.
Wrong.  Those are exactly the systems where it doesn't matter.

There are other problems as well, but note that in this case, it
may have prevented you from screwing yourself by writing a QFASL
version *LESS* than newest!
 4-Oct-82 07:00:58-EDT,1262;000000000000
Date: Monday, 4 October 1982, 05:55-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: string coercion
To: David Vinayak Wallace <Gumby at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 4 Oct 82 00:54-EDT from David Vinayak Wallace <Gumby at MIT-OZ>

    Date: Monday, 4 October 1982, 00:54-EDT
    From: David Vinayak Wallace <Gumby at MIT-OZ>
    STRING of a fixnum returns a string containing the character whose
    numerical value is that fixnum. I don't think that this is really the
    best interpretation of that situation. (i.e. (STRING 65.)  "A", when I
    think it really ought to return "65" or "65." depending on *nobase and
    base).
STRING canonicalizes the various ways strings are represented
into a string.  I.e. it turns symbols into strings, strings into strings,
and pathnames into strings.  What you want is one of the following:

(with-output-to-string (str)			;or (format nil "~S" 65.)
  (prin1 65. string))

or

(with-output-to-string (str)			;or (format nil "~A" 65.)
  (princ 65. string))

or maybe

(format nil "~D" 65.)

or 

(format nil "~O" 65.)

STRING is not the function to turn an object into a string containing
its printed representation, nor do I think it should be.
 4-Oct-82 07:22:04-EDT,1411;000000000000
Mail-From: ZVONA created at  4-Oct-82 07:20:11
Date: Monday, 4 October 1982  07:20-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   Robert P. Krajewski <RPK at MIT-OZ>
Cc:   bug-lispm-mit at MIT-OZ, rich at MIT-OZ
Subject: LM27, where are you ?

    Date: 3 October 1982  23:01-EDT (Sunday)
    From: Robert P. Krajewski <RPK>
    To:   ZVONA
    cc:   bug-lispm-mit, rich
    Re:   LM27, where are you ?

    Well, I guess if RG brought it down for THAT reason, I won't even
    try to bring it back up.  Still, I am surprised that it is down;
    are the disk drives themselves bad, or is it the multi-drive
    controller ?  
When I looked last, a board from inside the t-300 was out on top of
the cabinet with a note from RG to the effect that it was bad.  Ergo,
moving the pack to another disk drive temporarily to allow people to
get vital files off might be the right thing.

    Trying to port the FC/FS disk to OZ would be much work.  (Can it
    even be done ?)  
I doubt it.  If it seemed that I suggested this, I must have been
unclear. 

    But if we don't have a
    controller for > one drive, it won't be that useful -- we could
    only use drive 0, containg a copy of the FC/FS backup that was
    made before LM27 got another drive.  That may be too old to be
    useful.
The files that I want are that old.  As are Chuck Rich's, I believe.
-------
 4-Oct-82 09:33:59-EDT,301;000000000000
Mail-From: RPK created at  3-Oct-82 23:42:14
Date: 3 October 1982  23:42-EDT (Sunday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
To:   David Vinayak Wallace <Gumby at MIT-OZ>
Cc:   bug-lispm-mit at MIT-OZ, rich at MIT-OZ, ZVONA at MIT-OZ
Subject: LM27, where are you ?


 4-Oct-82 09:58:43-EDT,1497;000000000000
Date: Monday, 4 October 1982, 09:46-EDT
From: James E. Kulp <jek at scrc-vixen>
Subject: SUPDUP greeting printing
To: barmar at mit-multics
Cc: BUG-LISPM at mit-oz
In-reply-to: The message of 3 Oct 82 01:32-EDT from barmar at multics

    Date: Sunday, 3 October 1982, 01:32-EDT
    From: barmar at multics
    In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54,
    ZMail 46.10, microcode 173, Use me, on Arthur Dent:

    When supdup'ing to Multics from a LispM, the greeting message is
    always terminated with a lowercase delta character (character
    code 12 octal).  I checked with the implementor of the server,
    and he claims that he is meaning to send an ASCII LF, and that
    the Lisp Machine should be interpreting this as an ASCII control
    character.  He seesm to be right; here is a quote from RFC 734,
    which documents the Supdup protocol:

	    Following the transmission of the terminal options by
	    the user, the server should respond with an ASCII
	    greeting message, terminated with a %TDNOP code....

    Character code 12 is a perfectly valid ASCII linefeed; it should
    be interpreted as something close to the ASCII definition, not
    as a printing graphic.

    The Multics Supdup server also outputs a %TD-code (a %TDCLR) at
    the beginning of its greeting, but in this case I think that it
    is wrong and the LispM is correct in printing a <stop-output>.
The linefeed comes after the TDNOP.
 4-Oct-82 10:22:24-EDT,915;000000000000
Mail-From: PGS created at  4-Oct-82 10:17:18
Date: Monday, 4 October 1982  10:17-EDT
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   David Vinayak Wallace <Gumby at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: string coercion

    Date: Monday, 4 October 1982, 00:54-EDT
    From: David Vinayak Wallace <Gumby>
    To:   BUG-LISPM
    Re:   string coercion

    In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.55,
    ZMail 46.10, microcode 171, 60.45Hz, on Lisp Machine Nine:

    STRING of a fixnum returns a string containing the character whose
    numerical value is that fixnum. I don't think that this is really the
    best interpretation of that situation. (i.e. (STRING 65.)  "A", when I
    think it really ought to return "65" or "65." depending on *nobase and
    base).

I disagree.  I like being able to do (STRING #\RUBOUT) and things like that.
-------
 4-Oct-82 11:08:49-EDT,460;000000000000
Date: Monday, 4 October 1982, 10:31-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: SUPDUP greeting printing
To: barmar at MIT-MULTICS at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 3 Oct 82 01:32-EDT from barmar at multics

Both bugs are with Multics.  It is sending the ASCII line-feed after the
210 character that signals the end of the greeting string, rather than
before it.  And the %TDCLR at the beginning is indeed wrong.
 4-Oct-82 11:09:48-EDT,658;000000000000
Date: Monday, 4 October 1982, 10:31-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: dove at MIT-DSPG, BUG-LISPM at MIT-OZ
In-reply-to: The message of 2 Oct 82 20:13-EDT from Webster Dove <dove at MIT-DSPG>

    Date: Saturday, 2 October 1982, 20:13-EDT
    From: Webster Dove <dove at MIT-DSPG>
    To: BUG-LISPM at MIT-OZ

    In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54,
    ZMail 46.10, microcode 173, Use me, on Marvin:

    Typing <abort> at peek is hard to fix.  Peek goes into "no selected
    window" state.  Thereafter, it is hard to get it back to life short of
    warm boot.
Already fixed in 217.
 4-Oct-82 11:21:12-EDT,452;000000000000
Date: Monday, 4 October 1982, 11:14-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.54,
ZMail 46.10, microcode 173, Use me, on Arthur Dent:

A number of times I have had the machines at EE freeze in run
state while doing things like apropos.  They require warm-boot
to unstick them.  Is this common behavior?  (e.g. (apropos
"ecc") hung after 30 sec).
 4-Oct-82 12:58:45-EDT,792;000000000000
Mail-From: RMS created at  4-Oct-82 12:53:30
Date:  4 Oct 1982 1253-EDT
From:                      <RMS at MIT-OZ>
Subject: Re: QC-FILE and version numbers
To: RWK at SCRC-TENEX
cc: Gumby at MIT-OZ, Moon at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 4-Oct-82 0611-EDT

If QFASL files are written with the source file version number,
there is no way to make a QFASL file with a version *LESS* than the
newest, except by compiling a source file with a version *LESS*
than the newest.  If the user does that, he will probably not be surprised
by the results.

I have tremendously appreciated having my QFASL files written with the
source version number, except for Twenex's inability to do the right thing.
I have never had any other sort of problem.
-------
 4-Oct-82 14:17:16-EDT,636;000000000000
Date: Monday, 4 October 1982, 14:03-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Re: QC-FILE and version numbers
To: RMS at MIT-OZ
Cc: RWK at SCRC-TENEX, Gumby at MIT-OZ, Moon at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 4 Oct 82 12:53-EDT from RMS at MIT-OZ

    Date:  4 Oct 1982 1253-EDT
    From:  <RMS at MIT-OZ>
    I have tremendously appreciated having my QFASL files written with the
    source version number, except for Twenex's inability to do the right thing.
    I have never had any other sort of problem.
It's indubitably almost as nice as not having to type .LISP all the
time.
 4-Oct-82 14:42:18-EDT,575;000000000000
Date: Monday, 4 October 1982, 14:22-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-LISPM at EE
In-reply-to: The message of 3 Oct 82 14:21-EDT from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 3 October 1982, 14:21-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In so far as login-setq is taken seriously, there ought to be a
    login-defun.  Which wouldn't be hard to write.  But of course
    that suggests that there should be a zwei:login-defcom, etc., ... 
There is a SI:LOGIN-FDEFINE.  I don't know why it isn't global.
 4-Oct-82 15:33:47-EDT,606;000000000000
Mail-From: RPK created at  4-Oct-82 15:27:38
Date: 4 October 1982  15:27-EDT (Monday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
To:   ZVONA at MIT-OZ
Cc:   bug-lispm-mit at MIT-OZ, rich at MIT-OZ, RMS at MIT-OZ, DLA at SCRC
Subject: LM27, where are you ?

OK.  How 'bout this: the pack from LM27's pack 0 will be put in LM7's disk
drive.  LM7 will get LM27's net address (3060 octal, no ?) so nothing has to
be changed on the software end.

Dave and Richard, will your systems boot with this configuration ?  LM7 will
only be running with one drive.

``Bob''
-------
 4-Oct-82 15:56:43-EDT,1147;000000000000
Mail-From: GUMBY created at  4-Oct-82 15:50:26
Date: 4 October 1982  15:50-EDT (Monday)
Sender: GUMBY at MIT-OZ
From: David Vinayak Wallace <GUMBY at MIT-MC>
To:   <RMS at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ, Moon at SCRC-TENEX, RWK at SCRC-TENEX
Subject: Re: QC-FILE and version numbers

    From: RMS at MIT-OZ
    Subject: Re: QC-FILE and version numbers

    If QFASL files are written with the source file version number,
    there is no way to make a QFASL file with a version *LESS* than the
    newest, except by compiling a source file with a version *LESS*
    than the newest.  If the user does that, he will probably not be surprised
    by the results.

Well, what you really want is for the qfasl to have the same version
as the source file, whatever it may be (i.e. not necessarily the
newest). Unfortunately, :SOURCE-PATHNAME doesn't return the source
file version, so this is not really very useful. 

What I would like would be to have load load the qfasl only if its
source has not been changed since I qc-filed it. I don't want to have
to open the qfasl every time to find out this information.
-------
 4-Oct-82 16:04:02-EDT,810;000000000000
Date: Monday, 4 October 1982, 15:49-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: LM27, where are you ?
To: RPK at MIT-MC
Cc: ZVONA at MIT-OZ, bug-lispm-mit at MIT-OZ, rich at MIT-OZ, RMS at MIT-OZ,
    DLA at SCRC-TENEX
In-reply-to: The message of 4 Oct 82 15:27-EDT from Robert P. Krajewski <RPK at MIT-MC>

    Date: 4 October 1982  15:27-EDT (Monday)
    From: Robert P. Krajewski <RPK at MIT-MC>
    OK.  How 'bout this: the pack from LM27's pack 0 will be put in LM7's disk
    drive.  LM7 will get LM27's net address (3060 octal, no ?) so nothing has to
    be changed on the software end.

    Dave and Richard, will your systems boot with this configuration ?  LM7 will
    only be running with one drive.
I don't know.  I assume so.
In any case, isn't FC on LM27's drive 2?
 4-Oct-82 18:47:41-EDT,726;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  4 October 1982 18:40 edt
From:  Barry Margolin at MIT-MULTICS
Sender:  Margolin.Multics at MIT-MULTICS
To:  Webster Dove <dove at MIT-DSPG>
cc:  BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 4 October 1982 11:23 edt from Webster Dove

This has been a perenial problem with one of the EE machines.  I once
traced it down to some symbols whose print-names were ART-ERROR instead
of ART-STRING (this was about a year or more ago).  I was told that it
was a bad disk and that it was going to be reformatted at some point.

I don't know if it is the same problem now, though, or if this would
still cause the machine to hand, but the symptoms are the same.
				barmar
 4-Oct-82 20:57:13-EDT,455;000000000000
Date: Monday, 4 October 1982, 20:40-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: dove at MIT-DSPG, BUG-LISPM at MIT-OZ
In-reply-to: The message of 4 Oct 82 11:14-EDT from Webster Dove <dove at MIT-DSPG>

If the machine freezes in the middle of computation, in the sense that
the mouse stops tracking and the clock in the status line stops ticking,
then the hardware is having problems.  Contact the people who maintain
the hardware at EE.
 5-Oct-82 01:36:38-EDT,766;000000000000
Date: 5 October 1982 01:33-EDT
From: Pandora B. Berman <CENT at MIT-ML>
Subject: filecomputer files
To: ZVONA at MIT-MC
cc: bug-lispm-mit at MIT-OZ, rich at MIT-OZ

    Date: Monday, 4 October 1982  07:20-EDT
    From: ZVONA at MIT-MC
    Subject: LM27, where are you ?

    The files that I want are that old.  As are Chuck Rich's, I believe.
    -------
they may be on tape. i have been doing semi-regular backups of RMS's
file system (whichever that is -- the tape labels say FC but i never
could remember which is which) starting this summer, and stopping
(hopefully temporarily) when LM27 died. a full dump of RMS's file
system happened in the end of august. however, unless things have
changed, there is no software to reload files off tape.
 5-Oct-82 06:29:30-EDT,1185;000000000000
Mail-From: KLOTZ created at  5-Oct-82 04:20:51
Date: Tuesday, 5 October 1982  04:20-EDT
Sender: KLOTZ at MIT-OZ
From: Leigh L. Klotz <KLOTZ at MIT-MC>
To:   bug-lispm at MIT-OZ, bug-cftp at MIT-OZ

I don't know which program's fault this is, or if bug-lispm is the
appropriate place for lispm file server bugs.

I usually specify ASCII mode, and them remember that ASCII mode isn't
really ASCII mode and it matters because TECO code has bare ^M's in it.
So I usually change it back to BINARY.  Doing this seems to produce
the inexplicable lossage of a couple of months ago, that people thought
was "overloading" of the chaos net or flaking out of AI's 10/11
interface.

When I do
@CFTP
CFTP>CON MC
CFTP>ASCII
CFTP>LOGIN KLOTZ
CFTP>BINARY
CFTP>GET EMACS1;DIRED >
TO: <KLOTZ>FOO.TXT

I get this:
!* -(-TECH-*-!

!xFILEHAME~8! !Dhrecthry E`itor Subsxstem 
DIPED

!& DIRE@ Del`te Fhle:! !S D`lete curr`nt fhle.!
    0l  L .-`'"#.(
			 . . .


When I omit the ASCII and BINARY specifications, I get this:
!* -*-TECO-*-!

!~FILENAME~:! !Directory Editor Subsystem!
DIRED

!& DIRED Delete File:! !S Delete current file.!
			. . .



-------
 5-Oct-82 13:08:43-EDT,1284;000000000000
Date: Tuesday, 5 October 1982, 12:38-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: QC-FILE and version numbers
To: RMS at MIT-OZ
Cc: Gumby at MIT-OZ, Moon at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 4 Oct 82 12:53-EDT from RMS at MIT-OZ

    Date:  4 Oct 1982 1253-EDT
    From:                      <RMS at MIT-OZ>
    If QFASL files are written with the source file version number,
    there is no way to make a QFASL file with a version *LESS* than the
    newest, except by compiling a source file with a version *LESS*
    than the newest.  If the user does that, he will probably not be surprised
    by the results.
Ah, then you expect recompiling the latest source in a different
environment to delete your known working QFASL file compiled from
the same source?  Here's a man who likes to live dangerously!
    I have tremendously appreciated having my QFASL files written with the
    source version number, except for Twenex's inability to do the right thing.
    I have never had any other sort of problem.
I tremendously appreciate having my QFASL files not be overwritten
when I recompile files.  I am glad I don't use software which doesn't
screw me that way.  (As long as we're arguing by overblown testimonial).
 5-Oct-82 16:35:54-EDT,3105;000000000000
Mail-From: HANSON created at  5-Oct-82 16:32:18
Date: Tuesday, 5 October 1982  16:32-EDT
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, Gumby at MIT-OZ, Moon at SCRC-TENEX,
      RMS at MIT-OZ
Subject: QC-FILE and version numbers

    Date: Tuesday, 5 October 1982, 12:38-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>

        Date:  4 Oct 1982 1253-EDT
        From:                      <RMS at MIT-OZ>
        If QFASL files are written with the source file version number,
        there is no way to make a QFASL file with a version *LESS* than the
        newest, except by compiling a source file with a version *LESS*
        than the newest.  If the user does that, he will probably not be surprised
        by the results.
    Ah, then you expect recompiling the latest source in a different
    environment to delete your known working QFASL file compiled from
    the same source?  Here's a man who likes to live dangerously!
        I have tremendously appreciated having my QFASL files written with the
        source version number, except for Twenex's inability to do the right thing.
        I have never had any other sort of problem.
    I tremendously appreciate having my QFASL files not be overwritten
    when I recompile files.  I am glad I don't use software which doesn't
    screw me that way.  (As long as we're arguing by overblown testimonial).

First of all, I think that having the LISP and QFASL files share
version numbers is winning -- it is a consistent view of the world
that allows a program to analyze directories and determine simple
relationships without any sophisticated version-tracking mechanisms.

The problem of overwriting the QFASL file is independent of this
particular correspondence, and in fact has bothered me in other
contexts, for example when deciding that the last N versions of a
particular file were garbage, backing out, and then attempting to
rewrite the same versions.

This seems to imply that there should be another kind of DELETEF
function, say DELETE-FILE-ABSOLUTELY, which guaranteed to fix the 20X
overwrite lossage.  The contract for this function would guarantee the
ability to write a new file with the same truename afterwards,
although it would not necessarily preclude using UNDELETEF to restore
the deleted file (although it is clear that the 20X implementation
would not be able to provide UNDELETEF this way).

Then to fix QC-FILE, nothing is needed -- if the output file already
exists, just call DELETE-FILE-ABSOLUTELY, and try again.  A
convenience alternative would be to have QC-FILE recover from the
error by asking if you want to overwrite it.

The only bug I can think of with this strategy is that it might
require a slight change in the file server to be able to expunge a
single file.  However I also believe that a review of the LISPM file
server protocol wouldn't be a bad thing, as I can think of at least
one other (unrelated) omission; perhaps there are others as well.
-------
 5-Oct-82 17:05:22-EDT,474;000000000000
Date: Tuesday, 5 October 1982, 16:53-EDT
From: Gregor J. Kiczales <Gregor at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In System 210.126, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 16, on Lisp Machine Twenty:

There should be a reply function that does a qsend to
the last person you received a send from. I know about
R to the message pane, but sometimes I want to send
a message a little later, and I don't want to hear
anything about Convers.
 5-Oct-82 18:58:38-EDT,381;000000000000
Date: Tuesday, 5 October 1982, 18:46-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Gregor at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 5 Oct 82 16:53-EDT from Gregor J. Kiczales <Gregor at MIT-OZ>

The function you are asking for is already implemented in the source of
218, under the name QREPLY.  (The experimental 217 I am running already
has it.)
 6-Oct-82 01:02:51-EDT,746;000000000000
Date: 6 October 1982  00:56-EDT (Wednesday)
Sender: HDT at MIT-OZ
From: Howard Daniel Trachtman <HDT at MIT-MC>
To:   Gregor J. Kiczales <Gregor at MIT-OZ>
Cc:   BUG-LISPM at MIT-EECS

    Date: Tuesday, 5 October 1982, 16:53-EDT
    From: Gregor J. Kiczales <Gregor at MIT-OZ>
    To:   BUG-LISPM at MIT-EECS

    In System 210.126, ZMail 45.14, Remote-File 103.0, microcode 903,
    site configuration 16, on Lisp Machine Twenty:

    There should be a reply function that does a qsend to
    the last person you received a send from. I know about
    R to the message pane, but sometimes I want to send
    a message a little later, and I don't want to hear
    anything about Convers.

There is, in System 87.55.
-------
 6-Oct-82 02:30:04-EDT,608;000000000000
Mail-From: HDT created at  6-Oct-82 02:27:36
Date:  6 Oct 1982 0227-EDT
From: Howard Daniel Trachtman <Hdt at MIT-OZ>
Subject: Viewing your mail...
To: info-lispm at MIT-OZ


  I wrote a simple function that creates a temporary
window that can display either your old mail file, the
file with your new mail, or both.  I was considering making
this function callable from a terminal key, to greatly
decrease the time required to read your mail.

 The question is: do people think it would be worthwhile
to use up a terminal key for this?  Does anyone object
vehemently?

--Howard--
-------
 6-Oct-82 02:37:47-EDT,881;000000000000
Date: Wednesday, 6 October 1982, 02:19-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: CFTP transfer modes
To: Leigh L. Klotz <KLOTZ at MIT-MC>
Cc: bug-lispm at MIT-OZ, bug-cftp at MIT-OZ
In-reply-to: The message of 5 Oct 82 04:20-EDT from Leigh L. Klotz <KLOTZ at MIT-MC>

    Date: Tuesday, 5 October 1982  04:20-EDT
    From: Leigh L. Klotz <KLOTZ at MIT-MC>

    I usually specify ASCII mode, and them remember that ASCII mode isn't
    really ASCII mode and it matters because TECO code has bare ^M's in it.
    So I usually change it back to BINARY.  Doing this seems to produce
    the inexplicable lossage of a couple of months ago, that people thought
    was "overloading" of the chaos net or flaking out of AI's 10/11
    interface.

Binary mode means 16-bit words, hence you lose 3 bits out of every 5th character.
The mode you want is PDP-10.
 6-Oct-82 04:38:27-EDT,355;000000000000
Date: Wednesday, 6 October 1982, 04:31-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Viewing your mail...
To: Howard Daniel Trachtman <Hdt at MIT-OZ>
Cc: info-lispm at MIT-OZ
In-reply-to: The message of 6 Oct 82 02:27-EDT from Howard Daniel Trachtman <Hdt at MIT-OZ>

Doesn't this already exist as the m-X View Mail command in the editor?
 6-Oct-82 11:57:08-EDT,889;000000000000
Date: Wednesday, 6 October 1982, 11:40-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Daniel at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 2 Oct 82 19:45-EDT from Daniel Weise <Daniel at MIT-OZ>

This problem is rather hard to fix.  BAZ was indeed defined within the
dynamic scope of the loading of file FOO, so it acquired FOO as its
source file name.  If you use the debugger to fix things up, the system
basically considers that you did the right thing; consider that
sometimes it might be the right thing to record the source file name in
this fashion.  I can't really see how to fix this.  Note that it is
very hard for file-loading to try to "parse" the file that it's loading
and see whether the file is doing a function definition; there might
be a load-time-eval that could evaluate any Lisp form, and there's really
no way to parse such a thing.
 6-Oct-82 13:46:39-EDT,836;000000000000
Date: Wednesday, 6 October 1982, 13:29-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Source-file-property and break loops
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: Daniel at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 6 Oct 82 11:40-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Wednesday, 6 October 1982, 11:40-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    This problem is rather hard to fix.  BAZ was indeed defined within the
    dynamic scope of the loading of file FOO, so it acquired FOO as its
    source file name.
I don't think the dynamic scope is important here.  The purpose
of recording the filename is to be able to find the definition,
for the editor.  The editor edits the LEXICAL scope of the file.
Isn't there an alist of things to get rebound on breaks?
 6-Oct-82 14:35:05-EDT,583;000000000000
Date: Wednesday, 6 October 1982, 14:22-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Obsolete System 210.126, Obsolete ZMail 45.14,
Obsolete Remote-File 103.0, microcode 903, site configuration 16, on Lisp Machine Twenty:

Apparently if update-site-configuration-info can't find sys:sys;site
qfasl > it figures it must be newer-than-installed-p or something, but
anyway it goes ahead and tries to load it.

Maybe it should make the SITE system obsolete instead, and say ``Can
not find your site, assuming it is now obsolete''?

Just kidding.
 6-Oct-82 22:35:31-EDT,442;000000000000
Mail-From: KMP created at  6-Oct-82 18:08:10
Date:  6 Oct 1982 1808-EDT
From: KMP at MIT-OZ
Subject: M-X View Mail, etc.
To: HDT at MIT-OZ, Moon at SCRC-TENEX
cc: BUG-LISPM at MIT-OZ

It is in general the case that I would prefer not to have to go to an editor
window to see my mail... I have long wished for a command that would pop up
a temporary mail-reader window. I know others who have voiced this same desire.
-kmp
-------
 6-Oct-82 22:37:55-EDT,403;000000000000
Date: Wednesday, 6 October 1982, 16:15-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at EE

In Obsolete System 210.126, Obsolete ZMail 45.14,
Obsolete Remote-File 103.0, microcode 903, site configuration 16, on Lisp Machine Twenty:

an error check on dotimes for a too-long cadr would be a win.  I kept
wondering why all my code with (dotimes (i 0 17) (gloon)) would never
execute. 
 6-Oct-82 22:39:33-EDT,1025;000000000000
Date: Wednesday, 6 October 1982, 18:26-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.58, ZMail 46.10, Experimental DPL 1.0, microcode 171, Fixed,
on Lisp Machine Nine:

Shadowing of symbols is completely broken.

I compiled some files earlier with no problems.  The system I use
shadows MAKE-INSTANCE.  This is required by the fact that the system has
a (defstruct (instance :conc-name :named) vc augmentation) in it.
Today, loading those files results in (the local) MAKE-INSTANCE being
totally gone.  The accessors are there, but not the constructor.
Recompiling the file with the defstruct in it does not help.  Typing a
new defstruct in by hand does the right thing, but then loading the file
with the defstruct loses: attempting to (MAKE-INSTANCE ...) at this
point results in : Error: Constructor macro for INSTANCE no longer
around.  I am surpised I am describing this bug so calmly.

Daniel
 6-Oct-82 22:39:54-EDT,579;000000000000
Date: Wednesday, 6 October 1982, 18:27-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: alan at MIT-MC, BUG-LISPM at MIT-EECS
Cc: Zvona at MIT-OZ
In-reply-to: The message of 6 Oct 82 16:15-EDT from David Chapman <Zvona at MIT-OZ>

This seems to be a general problem with DEFMACRO: it does not generate
code to make sure that there isn't any extra stuff.  The
pattern-matching form that I wrote for the L-machine compiler, which is
similar to SELECT-MATCH, does this checking and it is a real win.  Alan,
is there some reason not to do this checking at expand-time?
 6-Oct-82 22:41:12-EDT,613;000000000000
Date: Wednesday, 6 October 1982, 21:04-EDT
From: ??? <lispm at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.55,
ZMail 46.10, microcode 179, Try Me!, on Marvin:

Attempts to use meta . in the editor buffer on functions like
cc:cc-test-tv-memory fail.  Apparently it generates a filename without
the trailing .lisp and the editor then asks what file to use defaulting
with the current.  Use of the inspector to find the source file name,
and request to find that file within the editor solves the problem, but
meta .  would be more convenient.
 6-Oct-82 23:33:30-EDT,1493;000000000000
Date: Wednesday, 6 October 1982  23:20-EDT
From: Alan Bawden <ALAN at SCRC-TENEX>
Subject: (dotimes (i 0 17) ...)
To:   David Chapman <Zvona at MIT-OZ>, DLW at SCRC-TENEX, BUG-LISPM at EE

    Date: Wednesday, 6 October 1982, 16:15-EDT
    From: David Chapman <Zvona at MIT-OZ>

    an error check on dotimes for a too-long cadr would be a win.  I kept
    wondering why all my code with (dotimes (i 0 17) (gloon)) would never
    execute.

A good idea.  Unfortunately Common Lisp has a meaning for this syntax.  the
dootimes you have here would execute its body 0 times and then return 17.

    Date: Wednesday, 6 October 1982, 18:27-EDT
    From: Daniel L. Weinreb <dlw>

    This seems to be a general problem with DEFMACRO: it does not generate
    code to make sure that there isn't any extra stuff.  The
    pattern-matching form that I wrote for the L-machine compiler, which is
    similar to SELECT-MATCH, does this checking and it is a real win.  Alan,
    is there some reason not to do this checking at expand-time?

Well defmacro may be a cripple, but its not quite as bad as this message
suggests.  The length of the form is checked completely.  The problem is with
the "destructuring" of extra parenthetical syntax that a form might have.  I
have a fix for all this (the bind-arguments special form I proposed last
spring), but I haven't found the time to add the features that it lacks
(&list-of and &key) and install it.  I'm an overworked twit.
 7-Oct-82 02:14:26-EDT,1736;000000000000
Date: 7 October 1982 02:11-EDT
From: Pandora B. Berman <CENT at MIT-ML>
Subject: TWITS AND CRETINS
To: BUG-LISPM at MIT-ML, BUG-HARDWARE at MIT-ML

I was hoping to run an incremental dump on the filecomputer tonight,
but couldn't because the file system clearly wasn't quite up (a volume
is missing or something).  But that's another story.

While i was under the illusion that i might be able to run this dump,
i grabbed the farthest-right filecomputer incremental tape from their
stretch of tape rack.  But when i got over to cadr 27, i discovered
the tape in my hand was not I4004, the current incremental tape, but
I4003.  And the white cover strip for tape I4004 was sitting there
next to cadr 27's console -- without I4004 inside it.

A short investigation found I4004 sitting on a nearby disk drive, with
about 5 feet of it dangling down toward the floor. 

THIS IS ENTIRELY UNREASONABLE. Whoever did left the tape like this
(and it may have been sitting there on the disk drive for several
days) should have his/her head forcibly examined, and should under no
circumstances be allowed to touch tapes around here. Backup tapes are
made so that the information on them can be recovered if a disk
crashes or something else drastic happens.  They shouldn't even be
left in tape drives, much less unprotected to the lab's dusty air and
sometimes clumsy denizens. When you use a tape, you take the cover
strip off just before you put it in the drive, and after you finish
writing to it or from it, you take it off the drive, snap on its
(labelled) cover strip, and store it on a tape rack. If you think
otherwise, you should stop doing anything with tapes; you are a danger
to the information on them.
 7-Oct-82 02:24:18-EDT,461;000000000000
Date: Thursday, 7 October 1982  02:19-EDT
From: TK at SCRC-TENEX
To:   Pandora B. Berman <CENT at MIT-ML>
Cc:   BUG-HARDWARE at MIT-ML, BUG-LISPM at MIT-ML
Subject: TWITS AND CRETINS
In-reply-to: The message of 7 Oct 1982  02:11-EDT from Pandora B. Berman <CENT at MIT-ML>

Send these people to me for head alignment with my new tool.
Note that disk drives are a particularly bad place to leave tapes given
the very strong magnet inside of the drive.
 7-Oct-82 12:37:54-EDT,528;000000000000
Date: Thursday, 7 October 1982, 12:36-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.58,
ZMail 46.10, Remote-File 15.2, Experimental Local-File 40.4,
Experimental Mega-Frame 5.0, Experimental Mega 11.0,
Experimental Omega-Presenter 6.0, microcode 172, FS, Omega, Weid,
on Lisp Machine Apiary-2:

How to repeat the undo-small-changes lossage:

c-x b flutziggle cr cr some string c-h-U space space c-h-R =>
-1 bad array reference.
 7-Oct-82 12:47:55-EDT,523;000000000000
Date: Thursday, 7 October 1982, 12:31-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Source-file-property and break loops
To: RWK at SCRC-TENEX
Cc: Daniel at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 6 Oct 82 13:29-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

I don't understand your message.  Do you have a proposed solution to the
problem?  Note that the alist of things to get rebound on breaks has
nothing to do with the debugger as far as I know; BREAK is not used in
this example.
 7-Oct-82 14:45:00-EDT,936;000000000000
Date: Thursday, 7 October 1982, 14:30-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Source-file-property and break loops
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: Daniel at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 7 Oct 82 12:31-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Thursday, 7 October 1982, 12:31-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    I don't understand your message.  Do you have a proposed solution to the
    problem?  Note that the alist of things to get rebound on breaks has
    nothing to do with the debugger as far as I know; BREAK is not used in
    this example.
It doesn't do SYS:*BREAK-BINDINGS*, but it either should, or a similar
mechanism should exist.  Several of the items on SYS:*BREAK-BINDINGS*
should be done in an error break, and SYS:FDEFINE-FILE-PATHNAME should
be done in both cases, although it currently is done in neither.
 7-Oct-82 15:36:09-EDT,808;000000000000
Date: Thursday, 7 October 1982, 15:21-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: M-X View Mail, etc.
To: KMP at MIT-OZ
Cc: HDT at MIT-OZ, Moon at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 6 Oct 82 18:08-EDT from KMP at MIT-OZ

    Date:  6 Oct 1982 1808-EDT
    From: KMP at MIT-OZ
    It is in general the case that I would prefer not to have to go to an editor
    window to see my mail... I have long wished for a command that would pop up
    a temporary mail-reader window. I know others who have voiced this same desire.
I would claim that ZMAIL is the right program here.  It just needs to be
made fast.

But anyway, the only reason M-X View Mail is in the editor is that we
don't have a command processor yet.  So "Fixed in the new command
processor".
 7-Oct-82 16:11:02-EDT,644;000000000000
Mail-From: KMP created at  7-Oct-82 16:07:14
Date:  7 Oct 1982 1607-EDT
From: KMP at MIT-OZ
Subject: Re: M-X View Mail, etc.
To: RWK at SCRC-TENEX
cc: HDT at MIT-OZ, Moon at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 7-Oct-82 1536-EDT

No, ZMAIL wouldn't be the right thing even if fast. On ITS, Babyl is quite
fast, but I still type $^A to DDT to see my mail briefly in sequential form.
There's needless conceptual overhead in ZMAIL for this very special-purpose
simple task.

Yes, I think having a view mail command in the command processor might solve
the problem. I'll let ya know when I see it...
-------
 7-Oct-82 16:16:22-EDT,629;000000000000
Date: Thursday, 7 October 1982, 16:09-EDT
From: Carl Hewitt <HEWITT at MIT-OZ>
Subject: "human" interface?
To: BUG-NWS at MIT-EECS
Cc: Hewitt at MIT-XX at MIT-MC

In NWS in System 210.126, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 19, A210.126 FS27.26, on Apiary:

As I understand it the current "human" interface for changing the font
of a window is the following incantation:

press the <break> key
then type
     (funcall terminal-io
              ':set-font-map
              (list fonts:cptfontb))
then press the <resume> key.

Is this correct?

Thanks,

Carl
 7-Oct-82 16:21:49-EDT,398;000000000000
Date: Thursday, 7 October 1982, 16:19-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.55,
ZMail 46.10, Experimental DPL 1.0, microcode 179, win,
on Lisp Machine One:

Forget the bug report about shadowing not working.  I had failed to
notice that some code I was depending on had changed.

Daniel
 7-Oct-82 18:31:19-EDT,507;000000000000
Date: Thursday, 7 October 1982, 18:28-EDT
From: Robert P. Krajewski <RpK at MIT-OZ>
Subject: FIN errors (all of a sudden)
To: BUG-OZ at MIT-OZ
Cc: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.58, ZMail 46.10, microcode 173, upto date,
on Lisp Machine Twenty-four:

I can't access or write any file on OZ, though I could about half and
hour ago.  Breaking the connection and then making a new file job does
not seem to help.

``Bob''
 7-Oct-82 18:41:07-EDT,508;000000000000
Date: Thursday, 7 October 1982, 18:37-EDT
From: Robert P. Krajewski <RpK at MIT-OZ>
Subject: Previous bug message (addendum)
To: Bug-OZ at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
Fcc: OZ:PS:<RPK.MAIL>CC.XMAIL

The errors started happening after I aborted out of a WOO file error.
They stopped after a few tries.  When I tried to do the thing that got
me the WOO error, an error message was printed out by ZMAIL; the first
time the error was encountered, control was thrown to the error handler.

``Bob''
 7-Oct-82 21:46:03-EDT,1060;000000000000
Date:  7 Oct 1982 2136-EDT
From: Jan Walker <JWALKER at SCRC-TENEX>
Subject: Re: M-X View Mail, etc.
To: KMP at MIT-OZ
cc: RWK at SCRC-TENEX, HDT at MIT-OZ, Moon at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 7-Oct-82 1615-EDT

View File isn't the right model for fast viewing of mail.  This is 
because you end up with the job of visually parsing where one
message starts and another stops.  Ugh.  A better model seems to
be the one used by various system billboard readers around the net
where you see the messages one at a time.  For example, there's
the one that shows you a subject line and lets you see it, skip
it, or stop altogether.  Sort of along the lines of the query 
replace command interface.  That sort of thing would make sense
for personal mail as well as for billboards.  It is really fast,
lets you skip the garbage, reduces the reading load, and makes
it possible to format things more reasonably (like with the first
line of the message at the top of the screen instead of wrapping
lossage.)
-------
 7-Oct-82 22:10:35-EDT,297;000000000000
Date: 7 October 1982  22:00-EDT (Thursday)
Sender: GUMBY at MIT-OZ
From: David Vinayak Wallace <GUMBY at MIT-MC>
To:   Carl Hewitt <HEWITT at MIT-OZ>
Cc:   BUG-NWS at MIT-EECS, Hewitt at MIT-XX at MIT-MC
Subject: "human" interface?

You can use "edit options" in the system menu.
-------
 7-Oct-82 23:16:05-EDT,695;000000000000
Mail-From: KWH created at  7-Oct-82 23:10:24
Date: Thursday, 7 October 1982  23:10-EDT
Sender: KWH at MIT-OZ
From: KWH at MIT-MC
To:   Jan Walker <JWALKER at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, HDT at MIT-OZ, KMP at MIT-OZ,
      Moon at SCRC-TENEX, RWK at SCRC-TENEX
Subject: M-X View Mail, etc.


I like "view file" method for looking at mail; I usually use the
command to just skim my mail, and I don't want to go through the
mental overhead of having to reply to the machine about what to do
with messages....

There is a difference between viewing mail and reading mail;  for
reading mail I want BABYL or ZMAIL--  For viewing mail I want
alt-control-a.

Ken
-------
 7-Oct-82 23:31:07-EDT,1130;000000000000
Mail-From: KMP created at  7-Oct-82 23:26:05
Date:  7 Oct 1982 2326-EDT
From: KMP at MIT-OZ
Subject: Re: M-X View Mail, etc.
To: JWALKER at SCRC-TENEX
cc: RWK at SCRC-TENEX, HDT at MIT-OZ, Moon at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 7-Oct-82 2146-EDT

No. I don't mind having something which parses messages but I want something
that doesn't bother either. Often I know what is in my mail file and it's
faster to just let 10 messages flip by in a stream than to type 10
spaces or whatever. If you don't want to provide a functionality I'm asking
for, that's up to you. But I am quite clear on the functionality I want. I
have done this for years and prefer it to the way MSGS are typically
presented when on a fast display, which the LispM is. If it were  300baud,
I probably wouldn't mind the other mode, but at fast baud rate, I really do 
just want the simple thing. I have lots of visual hardware which does just
spiffily at parsing message boundaries in linear text files in real time.
That hardware works lots faster than the hardware in my fingers which 
types spaces.
-------
 8-Oct-82 06:14:13-EDT,1016;000000000000
Date: 8 October 1982 06:09-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
Subject: [TAFT at MIT-MC: Forwarded]
To: BUG-LISPM at MIT-MC, Bug-Twenex at MIT-XX

------ Forwarded Message Follows ------
Date: Thursday, 7 October 1982, 19:56-EDT
From: Jonathan D. Taft <TAFT at MIT-MC>
To: BUG-OZ at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.54, ZMail 46.10, microcode 171, Fixed, on Lisp Machine Nine:

I used "kk" to break an OZ supdup connection from a Lisp Machine
and ended up getting:

>>ERROR Unknown opcode 11 in packet #<CHAOS Packet 20453116> received from
connection #<CHAOS Connection to MIT-OZ SUPDUP 17365246>
While in the function (METHOD CHAOS:BASIC-INPUT-STREAM GET-NEXT-INPUT-PKT)
...

What does this mean ?  In particular why the unknown opcode error. The
behaviour associated with the error was to pop up a window informing
of lossage which could be viewed by Terminal-mumble, there was no graceful
connection closed behaviour.

------
 8-Oct-82 09:55:54-EDT,2765;000000000000
Date: Friday, 8 October 1982, 09:50-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Unknown opcode 11
To: taft at MIT-MC
Cc: CStacy at MIT-MC, BUG-LISPM at MIT-MC, Bug-Twenex at MIT-XX
In-reply-to: The message of 8 Oct 82 06:09-EDT from Christopher C. Stacy <CStacy at MIT-MC>

Congratulations.  You are experiencing the joy of the well-known
"Unknown opcode 11 while disconnecting from TOPS-20" bug, which has yet
to be tracked down.  Here is all the information I have on the topic;
nobody else answered my message.  If anybody can find the problem,
please let me know.  You might try testing my theory below; I don't
have time to work on it right now.

    Date: Tuesday, 21 September 1982, 18:24-EDT
    From: Daniel L. Weinreb <dlw>
    To:   mmcm, jek, dcp
    cc:   bug-lispm
    Re:   Unknown packet opcode 11
    
    What is known about this "Unknown packet opcode 11" problem with TOPS-20
    SUPDUP?  I tried tracking it down and it appears that chaos:get-next-pkt
    sometimes returns LOS packets to its caller when a TOPS-20 drops a
    connection.  It looks like it might be a timing problem, in which adding
    the LOS to the connection and putting the connection in
    los-received-state are not being done atomically, or something like
    that.  receive-los seems to have the appropriate without-interrupts to
    prevent this, but get-next-pkt doesn't so if the state changes after it
    examines (state conn), it can proceed thinking the connection is open
    when actually it is not.  This would also explain why you subsequently
    get problems with array-leader being taken of NIL: because the
    connection has now entered los-received-state but the LOS packet was
    already read out by the earlier call to get-next-pkt.  This is my best
    theory about what is going on.  Naturally as soon as I tried to test
    this theory I was unable to reproduce the opcode 11 problem.
    
    Date: Tuesday, 21 September 1982, 23:36-EDT
    From: David C. Plummer <DCP>
    To:   dlw, mmcm, jek, dcp
    cc:   bug-lispm
    Re:   Unknown packet opcode 11
    
    I know not how the LISPM tries to handle timing, but here is what is
    going on.  The user logs out of 20X, which sends a data packet with "Bye"
    in it followed by a CLS packet.  I notice that one of these is often
    lost.  If the CLS is lost (and perhaps if it isn't), the LISPM ACKS the
    "Bye", but there is no connection on the other end, so a LOS is
    generated.  This all happens pretty fast.  In 217.58 I can get it to
    happen about 10% of the time by doing connecting to a 20X and then
    typing KK.  I did notice that improvements have been added; it used to
    die horribly when it a LOS.
 8-Oct-82 10:32:06-EDT,727;000000000000
Date: Friday, 8 October 1982, 10:24-EDT
From: Daniel L. Weinreb <dlw at scrc-tenex>
Subject: "human" interface?
To: GUMBY at mit-mc, HEWITT at mit-oz
Cc: BUG-NWS at mit-eecs
In-reply-to: The message of 7 Oct 82 22:00-EDT from David Vinayak Wallace <GUMBY at MIT-MC>

    Date: 7 October 1982  22:00-EDT (Thursday)
    From: David Vinayak Wallace <GUMBY at MIT-MC>
    You can use "edit options" in the system menu.
    -------
As you may have noticed, there is no "edit options" in the system menu.

Carl, modulo sarcasm, the answer is basically "yes, that's how you do
it." Needless to say, no, this is not what we consider an excellent user
interface.  This continues to be on the list of things to be fixed.
 8-Oct-82 10:57:01-EDT,836;000000000000
Date: Friday, 8 October 1982, 10:49-EDT
From: Daniel L. Weinreb <dlw at scrc-tenex>
Subject: Source-file-property and break loops
To: RWK at scrc-tenex
Cc: Daniel at mit-oz, BUG-LISPM at mit-oz
In-reply-to: The message of 7 Oct 82 14:30-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

Perhaps the debugger ought to use sys:*break-bindings*, or have a
similar mechanism that's well-advertised like sys:*break-bindings* but
not the same variables.  I don't know which of these is right, but it
seems as if probably one of them is.

However, fs:fdefine-file-pathname or whatever is not on
sys:*break-bindings*, at least not in 210.  So there is a separate
question of whether it belongs there or not.  I guess probably it does,
but I'm hardly confident that this won't generate newer and worse bugs
for some unknown reason.
 8-Oct-82 14:11:45-EDT,313;000000000000
Mail-From: KWH created at  8-Oct-82 14:11:00
Date:  8 Oct 1982 1411-EDT
From: KWH at MIT-OZ
Subject: Apiary finger.
To: bug-oz at MIT-OZ, bug-lispm at MIT-OZ
cc: kwh at MIT-OZ


F/L on OZ claims that RLL is logged in on Apiary-2, and in the next
breath insists that Apiary-2 is free....

Ken
-------
 8-Oct-82 15:21:47-EDT,430;000000000000
Date: Friday, 8 October 1982, 15:05-EDT
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: can't create directory
To: BUG-LISPM at MIT-MC
Cc: Hewitt at MIT-XX

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 25, "AP2 210.128 FS27.26", on Lisp Machine Apiary-2:

Now I can't create a directory named "Hewitt".  Get error message
FHN ERROR FAX F
  The file already exits.
 8-Oct-82 15:42:20-EDT,828;000000000000
Date: Friday, 8 October 1982, 16:35-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: can't create directory
To: Hewitt at MIT-OZ, BUG-LISPM at MIT-MC
In-reply-to: The message of 8 Oct 82 15:05-EDT from Carl Hewitt <Hewitt at MIT-OZ>

    Date: Friday, 8 October 1982, 15:05-EDT
    From: Carl Hewitt <Hewitt at MIT-OZ>
    In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
    microcode 896, site configuration 25, "AP2 210.128 FS27.26", on Lisp Machine Apiary-2:

    Now I can't create a directory named "Hewitt".  Get error message
    FHN ERROR FAX F
      The file already exits.
What it means is "the directory already exists" (message fixed in 218).

Well, what's the story here? Does it?  This report doesn't tell me a whole lot.
Perhaps this is some confusion about case? 
 8-Oct-82 15:51:15-EDT,434;000000000000
Date: Friday, 8 October 1982, 15:45-EDT
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: "human" interface?
To: dlw at scrc-tenex, GUMBY at mit-mc, HEWITT at mit-oz
Cc: BUG-NWS at mit-eecs, Hewitt at MIT-XX at MIT-MC
In-reply-to: The message of 8 Oct 82 10:24-EDT from Daniel L. Weinreb <dlw at scrc-tenex>

Dan,

Thanks for your clarification.  Glad to hear that this is on
the list of things to be fixed!

Cheers,

Carl
 8-Oct-82 16:35:20-EDT,831;000000000000
Date: Friday, 8 October 1982, 16:21-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.55,
ZMail 46.10, microcode 179, Try Me!, on Arthur Dent:

Having the machine automatically revert the type of a complex object to
real when the imaginary part is 0 is a bad idea from the standpoint of
speed and code complexity due to the necessity of frequent type
checking.  This has been a particular problem for
'art-complex-float arrays. In that case, the function involved (as-1)
cannot be superseded because it is in the ucode. I have to
check every single element of the array before processing it!
I see no obvious advantage to reverting complex to real (any more than reverting
flonums to fixnums when they turn out to be integers).
 8-Oct-82 16:37:02-EDT,699;000000000000
Date: Friday, 8 October 1982, 16:22-EDT
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: can't create directory
To: BSG at SCRC-TENEX, Hewitt at MIT-OZ, BUG-LISPM at MIT-MC
Cc: Hewitt at MIT-XX
In-reply-to: The message of 8 Oct 82 16:35-EDT from Bernard S. Greenberg <BSG at SCRC-TENEX>

I should have said that the directory Hewitt does not show when TREE EDIT ROOT
is performed.  If I can make it work, I would like to
initialize the file system to contain all the usual Symbolics release files
if they can fit comfortably in 48,450 blocks.

Thanks,

Carl

P.S.  Lawhorn initialized our file system to this size so that
we could have an extra band available.  Are we going to lose?
 8-Oct-82 17:31:56-EDT,1303;000000000000
Date:  8 Oct 1982 1824-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Re: can't create directory
To: Hewitt at MIT-OZ
cc: BUG-LISPM at MIT-MC
In-Reply-To: Your message of 8-Oct-82 1733-EDT


    Date: Friday, 8 October 1982, 16:22-EDT
    From: Carl Hewitt <Hewitt at MIT-OZ>
    Subject: can't create directory
    To: BSG at SCRC-TENEX, Hewitt at MIT-OZ, BUG-LISPM at MIT-MC
    Cc: Hewitt at MIT-XX
    In-reply-to: The message of 8 Oct 82 16:35-EDT from Bernard S. Greenberg <BSG at SCRC-TENEX>

    I should have said that the directory Hewitt does not show when TREE EDIT ROOT
    is performed.
There is a bug in TREE-EDIT-ROOT something like this.   I gather
you created the directory somehow else, i.e., not tree-edit-root.
Try click right on the root ">", and select "Decache" if something
like this happens. (I assume you have booted since; if you still
can't see it, something is very peculiarly wrong, and I'd like to
see it, except I am not feeling well).
    If I can make it work, I would like to
    initialize the file system to contain all the usual Symbolics release files
    if they can fit comfortably in 48,450 blocks.
You have to load them off the release tape.  Ask rll how much space is
needed for the sources, I have no idea.
-------
 8-Oct-82 19:14:18-EDT,718;000000000000
Date: Friday, 8 October 1982, 18:52-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Re: can't create directory
To: BSG at SCRC-TENEX, Hewitt at MIT-OZ
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 8 Oct 82 18:24-EDT from Bernard S. Greenberg <BSG at SCRC-TENEX>

I listed the directory (it's not too hard, Bernie, you just have to
add-chaosnet-file-computer).  Carl, there is a "Hewitt" directory on
MIT-APIARY-1.  It is empty.  Try using it and see if it seems to work;
it is definitely there as of the time I'm sending this message.

Does FSEdit really produce a directory listing that omits this directory?
If so, exactly what do you type/click at FSEdit to get the listing?

Thanks.
 8-Oct-82 23:20:02-EDT,2234;000000000000
Date: 8 October 1982 23:06-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  complex numbers revert to reals
To: dove at MIT-DSPG
cc: BUG-LISPM at MIT-OZ

    Date: Friday, 8 October 1982, 16:21-EDT
    From: Webster Dove <dove at MIT-DSPG>

    Having the machine automatically revert the type of a complex object to
    real when the imaginary part is 0 is a bad idea from the standpoint of
    speed and code complexity due to the necessity of frequent type checking.
    This has been a particular problem for 'art-complex-float arrays. In that
    case, the function involved (as-1) cannot be superseded because it is in
    the ucode. I have to check every single element of the array before
    processing it!  I see no obvious advantage to reverting complex to real
    (any more than reverting flonums to fixnums when they turn out to be
    integers).

The difference between reverting a complex number to a real number and
reverting a flonum to a fixnum is that the behavior of a complex number with a
zero imaginary part is (should be) identical to the behavior of a rure real
number, while the behavior of a flonum 3.0 is quite different from that
of a fixnum 3.  (Flonums do not behave as if they were elements of the field of
real numbers.  If they did then it would be correct to revert to fixnums which
ARE a correct implementation of the sub-ring of integers, but since flonums
aren't, we don't.)

The advantage in converting to a simpler representation whenever possible
should be obvious.  The simpler representations are more efficient to compute
with.  Given the easy type dispatching in the microcode there is little price
to pay for the resulting multiplicity of types.

[Before anyone brings up the current behavior where rational numbers of the
form <x>\1 fail to revert to fixnums, I will explain that this is universally
agreed to be the wrong behavior and is only forced upon us temporarily by the
historical behavior of the "/" function.  Fixed in Common Lisp.]

I don't understand what disadvantage you have found with this behavior.  Nobody
has ever had reason to complain about the automatic reversion from bignums to
fixnums.  How is this situation different?
 8-Oct-82 23:52:08-EDT,630;000000000000
Date: Friday, 8 October 1982, 23:42-EDT
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: identity crisis
To: BUG-LISPM at MIT-MC, dlw at MIT-OZ, bug-apiary-machines at MIT-OZ
Cc: Hewitt at MIT-XX

In ZMAIL in System 210.126, ZMail 45.14, LMFS 27.26, Tape 10.9,
Canon 14.2, microcode 896, site configuration 19, A210.126 FS27.26, on Apiary:

This machine seems to be having an idenity crisis as to who it really
is.  The file system thinks that its Ap0:, as you see above ZMAIL thinks that
it is APIARY:, whereas TERMINAL-1-F on the other machine thinks it is APIARY-1.
How can we restore consistency?

Thanks,

Carl
 9-Oct-82 00:47:23-EDT,637;000000000000
Date: Saturday, 9 October 1982, 00:39-EDT
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: Re: can't create directory
To: Daniel L. Weinreb <dlw at SCRC-TENEX>, BSG at SCRC-TENEX, Hewitt at MIT-OZ
Cc: BUG-LISPM at MIT-MC, Hewitt at MIT-XX
Fcc: OZ:PS:<HEWITT>HEWITT@XX
In-reply-to: The message of 8 Oct 82 18:52-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

Dan,

On Apiary-2, I cannot create the directory "hewitt"
futhermore TREE-EDIT-ROOT does not list the directory "hewitt" and
I cannot write into it from ZWEI.  On Apiary-1, the directory "hewitt"
has one file in it and it seems to be winning..

Thanks,

Carl
 
 9-Oct-82 01:12:36-EDT,956;000000000000
Date: 9 October 1982 01:11-EDT
From: Christopher C. Stacy <CSTACY at MIT-MC>
Subject:  can't create directory
To: Hewitt at MIT-OZ
cc: BUG-LISPM at MIT-MC, BSG at SCRC-TENEX, dlw at SCRC-TENEX,
    Hewitt at MIT-XX

    Date: Saturday, 9 October 1982, 00:39-EDT
    From: Carl Hewitt <Hewitt at MIT-OZ>
    To:   Daniel L. Weinreb <dlw at SCRC-TENEX>, BSG at SCRC-TENEX,
          Hewitt at MIT-OZ
    cc:   BUG-LISPM, Hewitt at MIT-XX
    Re:   can't create directory
    Fcc:  OZ:PS:<HEWITT>HEWITT@XX

    Dan,

    On Apiary-2, I cannot create the directory "hewitt"
    futhermore TREE-EDIT-ROOT does not list the directory "hewitt" and
    I cannot write into it from ZWEI.  On Apiary-1, the directory "hewitt"
    has one file in it and it seems to be winning..

    Thanks,

    Carl


The last tie I looked at AP2, there was no FILE partition there.
Someone had a partition named DFILE, but I dont know what it's for.
 9-Oct-82 01:48:11-EDT,1404;000000000000
Date: 9 October 1982 01:28-EDT
From: Christopher C. Stacy <CSTACY at MIT-MC>
Subject:  can't create directory
To: BUG-LISPM at MIT-MC, Hewitt at MIT-OZ, BSG at SCRC-TENEX,
    dlw at SCRC-TENEX, Hewitt at MIT-XX

    Date: 9 October 1982 01:11-EDT
    From: Christopher C. Stacy <CSTACY>
    To:   Hewitt at MIT-OZ
    cc:   BUG-LISPM, BSG at SCRC-TENEX, dlw at SCRC-TENEX, Hewitt at MIT-XX
    Re:   can't create directory

        Date: Saturday, 9 October 1982, 00:39-EDT
        From: Carl Hewitt <Hewitt at MIT-OZ>
        To:   Daniel L. Weinreb <dlw at SCRC-TENEX>, BSG at SCRC-TENEX,
              Hewitt at MIT-OZ
        cc:   BUG-LISPM, Hewitt at MIT-XX
        Re:   can't create directory
        Fcc:  OZ:PS:<HEWITT>HEWITT@XX

        Dan,

        On Apiary-2, I cannot create the directory "hewitt"
        futhermore TREE-EDIT-ROOT does not list the directory "hewitt" and
        I cannot write into it from ZWEI.  On Apiary-1, the directory "hewitt"
        has one file in it and it seems to be winning..

        Thanks,

        Carl


    The last tie I looked at AP2, there was no FILE partition there.
    Someone had a partition named DFILE, but I dont know what it's for.

I made a fresh FILE band on AP2, and was able to create and read
directories and files.  I am not sure if copying a FILE band to AP2
from AP1 is supposed to work.

 9-Oct-82 02:22:00-EDT,865;000000000000
Date: Saturday, 9 October 1982, 02:18-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at OZ

In System 210.128,...

I had a huge pile of code making a large constraint frame that wasn't building
because it said "Not enough room for margins". That's not much debugging info.
It would be really nice if more debugging info were provided in the error message.

By painstakingly removing various pieces of flavor and fudging things around
until I had things stripped down to a minimal case, I came to the following
realization:

 (TV:MAKE-WINDOW 'TV:WINDOW
    ':EDGES-FROM (MULTIPLE-VALUE-LIST (SEND TV:MOUSE-SHEET ':SIZE)))

gets this error, but

 (TV:MAKE-WINDOW 'TV:WINDOW
    ':X 0 ':Y 0
    ':EDGES-FROM (MULTIPLE-VALUE-LIST (SEND TV:MOUSE-SHEET ':SIZE)))

works fine. It seems to me that :X 0 and :Y 0 should be the default. --kmp
 9-Oct-82 11:06:49-EDT,569;000000000000
Date: Saturday, 9 October 1982, 10:18-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-EECS

In Obsolete System 210.128, ZMail 45.14, Remote-File 103.0,
Experimental Knowledge-Based-Editor 45.0, microcode 903,
site configuration 25, Black Magic, on Lisp Machine Twenty-two:

advise should have an &body argument, rather than &rest, so it
grinds right.

Why doesn't someone write a quick program to go through all the
functions in the universe and print those that are macros with
&rest arguments, and see if they should be changed to &body?
 9-Oct-82 11:16:48-EDT,2383;000000000000
Date: Saturday, 9 October 1982, 11:11-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Obsolete System 210.128, ZMail 45.14, Remote-File 103.0,
Experimental Knowledge-Based-Editor 45.0, microcode 903,
site configuration 25, Black Magic, on Lisp Machine Twenty-two:

I went to make my system and it got ``Pathnames out of sync, want QFASL
for <ZVONA.CODER>MACROS.LISP''.  Sure, what's that mean?  Poking around
inside the system object revealed that the module MACROS, which I had
specified simply as ``macros'' had a pathname of
``OZ:PS:<ZVONA.CODER>MACROS.LISP''.  Well, why did it never do that
before?  I hadn't touched the defsystem.  OH! I remember, I just put
(setq fs:*always-merge-type-and-version* t) in my init.  Let's see....
set it to nil... Yup, system OK now.

Well foo.  Here is my system definition.  Please tell me how to change
the :pathname-default (or whatever) so I can win both with defsystem and
file extension defaulting.  (NB removing the :pathname-default and
explictly supplying a directory for each module also wins.)

(defsystem surface
  (:name "Surface")
  (:short-name "SF")
  (:pathname-default "oz:ps:<zvona.coder>")

  (:module struct "src:<l.sys2>struct")	      ;new defstruct (temporary!)
  (:module gprint "<lmlib>gprint")    ;pretty printer
  (:module lets "<dick.pgms>lets")    ;iteration macro
  (:module macros "macros")	      ;more macros
  (:module ftrace "ftrace")	      ;tracing macro
  (:module db "db")		      ;database (defstructs)
  (:module analyzer "analyzer")	      ;analyzer (code => surface plan)
  (:module coder "coder")	      ;coder (plan => code)
  (:module source "source-to-source") ;source-to-source transformations

  (:fasload struct)
  (:fasload gprint (:fasload struct))
  (:fasload lets (:fasload gprint struct))
  (:compile-load      macros (:fasload lets) (:fasload lets))
  (:compile-load-init ftrace   (macros)
		      (:fasload macros) (:fasload macros))
  (:compile-load-init db       (macros)
		      (:fasload ftrace) (:fasload ftrace))
  (:compile-load-init analyzer (macros ftrace db)
		      (:fasload db) (:fasload db))
  (:compile-load-init coder    (macros ftrace db)
   		      (:fasload analyzer) (:fasload analyzer))
  (:compile-load-init source   (macros ftrace db)
                      (:fasload coder) (:fasload coder)))
 9-Oct-82 15:52:24-EDT,527;000000000000
Date: 9 Oct 1982 15:38:47-EDT
From: hes at scrc-vixen
To: BUG-LISPM@mit-oz, Daniel@mit-oz

daniel is this the make-instance in dpl?  I have long ago hacked the
defstruct to name the creator macro something else.  I doubt that the
dpl initilization stuff shadows the symboly any longer?  If this is about
soething else forget my message.  Please be careful here since I one
time accused rms of breaking such a feature and was completely wrong.  We
should try to be fair to poor overworked system maintainers.

howie
 9-Oct-82 17:12:18-EDT,2169;000000000000
Date: 9 Oct 1982 17:03:44-EDT
From: dove at mit-dspg
To: ALAN@mit-mc
Subject: complex numbers revert to reals
Cc: BUG-LISPM@mit-oz

	From ALAN@MIT-MC Fri Oct  8 23:15:44 1982

	The difference between reverting a complex number to a real
	number and reverting a flonum to a fixnum is that the behavior
	of a complex number with a zero imaginary part is (should be)
	identical to the behavior of a rure real number, while the
	behavior of a flonum 3.0 is quite different from that of a
	fixnum 3.  (Flonums do not behave as if they were elements of
	the field of real numbers.  If they did then it would be
	correct to revert to fixnums which ARE a correct implementation
	of the sub-ring of integers, but since flonums aren't, we
	don't.)

	The advantage in converting to a simpler representation
	whenever possible should be obvious.  The simpler
	representations are more efficient to compute with.  Given the
	easy type dispatching in the microcode there is little price to
	pay for the resulting multiplicity of types.

	I don't understand what disadvantage you have found with this
	behavior.  Nobody has ever had reason to complain about the
	automatic reversion from bignums to fixnums.  How is this
	situation different?

The problem I currently have is that complex arith isn't in ucode.  As
a result, the generic ops are very slow.  What's worse, I can't just
make a routine to extract the proper field out of a complex and call
it, it has to type check, because you never know when what you get
might have changed back to a real.

I had discovered this by checking the time to compute the vector
magnitude from a complex vector vs one in which the real and imag parts
are separate.  The complex version used 12x more time.

RMS had suggested making defsubsts to do complex arith until the stuff
is in ucode.  Since extracting the real or imag part is the primary low
level op on complex #'s (in the absence of ucoded fcns) making them
slow is bad.  What I have done is implemented defsubsts for realpart
and imagpart that take only about 10usec including a type check.  That
should be sufficient for my purposes.
 9-Oct-82 22:37:05-EDT,406;000000000000
Date:  9 Oct 1982 2224-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Indentation of ADVISE
To: Zvona at MIT-OZ, BUG-lispm at MIT-EECS
cc: DLA at SCRC-TENEX
In-Reply-To: Your message of 9-Oct-82 2108-EDT

advise and advise-within were the only macros which could
possibly use &body by my judgement, excluding DEF forms, which already
grind correctly.  Fixed and patched in 218.4.
-------
 9-Oct-82 22:42:10-EDT,504;000000000000
Date:  9 Oct 1982 2233-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Re: can't create directory
To: CSTACY at MIT-MC
cc: BUG-LISPM at MIT-MC, Hewitt at MIT-OZ, dlw at SCRC-TENEX, Hewitt at MIT-XX
In-Reply-To: Your message of 9-Oct-82 2213-EDT

Copying file bands is supposed to work, but it's a pretty good
way to blow up everything concerned to copy it
while the machine is using it, or has used it since cold boot
for either value of machine, if that's what was done.
-------
 9-Oct-82 22:44:11-EDT,624;000000000000
Date:  9 Oct 1982 2236-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Re: identity crisis
To: Hewitt at MIT-OZ, BUG-LISPM at MIT-MC, dlw at MIT-OZ,
    bug-apiary-machines at MIT-OZ
cc: DLA at SCRC-TENEX, Eric at MIT-EECS
In-Reply-To: Your message of 9-Oct-82 2109-EDT

Your machines are suffering from obsolete site information.
Unfortunately, this can't really be fixed until EE gets their
LIB device back online.  You can patch it temporarily by loading
OZ:SRC:<L.SITE>HSTTBL.QFASL and running (si:update-site-configuration-info).
When LIB comes back up, you would fix it by loading patches.
-------
10-Oct-82 00:26:33-EDT,518;000000000000
Date:  9 Oct 1982 2318-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ, BUG-LISPM at MIT-EECS, doc-changes at SCRC-TENEX
cc: DLA at SCRC-TENEX
In-Reply-To: Your message of 9-Oct-82 2108-EDT

The *always-merge-type-and-version* hack doesn't work, and stands no hope
of ever working.  I'm sorry I ever installed it, because I obviously
didn't test anything other than trivial operations with it.

I removed it in a patch to 218; please make a note of this in the
218 release notes.
-------
10-Oct-82 12:52:47-EDT,890;000000000000
Mail-From: ZVONA created at 10-Oct-82 12:51:40
Date: Sunday, 10 October 1982  12:51-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   bug-lispm at MIT-OZ, bug-oz at MIT-OZ

In 210.mumble.

I keep getting "connection got a LOS -- connection does not exist at
this end" in Converse when someone sends to me.

Possibly related, there seems to be a new form of file server lossage.
Unlike the other form, ctyluk reveals no ?Insufficient system
resources errors on the cty.  The symptom is that most file requests
time out.  I think it may be a timing screw, because probes and very
short file loads seem to work ok.  Supdup is unaffected.  Clobbering
the file server fixes it.

[Only semiserious:]  There ought to be m-X/CP command Edit File
Jobs which would give you a menu to clobber losing file jobs.  I end
up doing chaos:(progn (reset) (enable)) a lot.
-------
10-Oct-82 13:12:07-EDT,543;000000000000
Date: Sunday, 10 October 1982, 13:02-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-EECS

In System 210.128, ZMail 45.14, Remote-File 103.0,
Experimental Knowledge-Based-Editor 45.0, microcode 903,
site configuration 25, Black Magic, on Lisp Machine Twenty-two:

(qsend "kahle") =>

Error in chaos:open-connection: nil given as address;
in chaos:scan-lispms (or something like that).

Probably the host table is glitched or something.  Kahle was in
fact logged in on cadr8.  It reproduced when I tried it again.
10-Oct-82 19:00:12-EDT,1444;000000000000
Date: Sunday, 10 October 1982, 18:58-EDT
From: Daniel Weise <Daniel at MIT-OZ>
Subject: SXhash shouldn't be so cavalier with named structures.
To: BUG-LISPM at MIT-OZ

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.58,
ZMail 46.10, Remote-File 15.2, Experimental Local-File 40.4,
microcode 173, 87.58, on Lisp Machine Eight:

From the 86.56 release notes:

   *) SXHASH now accepts a second argument which, if T, says that SXHASH should use
   the address of an object as its hash code if there is no other way to handle it.
   This applies to everything but numbers, symbols, strings and lists.

   In addition, flavor instances and named structures can now define the :SXHASH
   operation.  This operation takes one argument, the new flag, and should return
   the SXHASH value for the object.  This overrides use of the object's address.

Given SXHASH's current implementation one MUST define :SXHASH messages for
named structures.  This is because it immediately does a Named-structure-invoke
without even seeing if the named structure has a named-structure-invoke property.
This problem is further compounded by the problem that named structure invoke
doesn't do the property check either and one ends up with the informative error
message that NIL is not a function when named-structure-invoke funcalls nil.
I think that it should check for message handling as it does for instances.

Daniel
11-Oct-82 14:11:17-EDT,400;000000000000
Date: Monday, 11 October 1982, 11:29-EDT
From: Knowledge Based Editor <KBE at MIT-OZ>
Subject: (SETF (SEND something ':GET ...) ...)
To: BUG-LISPM at MIT-OZ

In System 210.128,...

(SETF (SEND something ':GET ...) ...) complains no SETF info is around for SEND.
(SETF (FUNCALL something ':GET ...) ...) works, however.

I need this so I can do (PUSH ... (SEND something ':GET ...)).
-kmp
11-Oct-82 14:33:08-EDT,617;000000000000
Date: Monday, 11 October 1982, 14:28-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: (SETF (SEND something ':GET ...) ...)
To: KMP at MIT-OZ
Cc: KBE at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Oct 82 11:29-EDT from Knowledge Based Editor <KBE at MIT-OZ>

    Date: Monday, 11 October 1982, 11:29-EDT
    From: Knowledge Based Editor <KBE at MIT-OZ>
    In System 210.128,...

    (SETF (SEND something ':GET ...) ...) complains no SETF info is around for SEND.
    (SETF (FUNCALL something ':GET ...) ...) works, however.
This is one of the killion things that was fixed in 211.
11-Oct-82 15:11:11-EDT,618;000000000000
Date: Monday, 11 October 1982, 14:38-EDT
From: D. Scott Cyphers <cypher at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.59,
ZMail 46.10, Remote-File 15.3, Experimental Local-File 40.5,
Experimental FILE-Server 5.0, Spire 5.6, microcode 172, Spire,
on Lisp Machine Twenty-six:

meta-. still does not work if you try to use it to look at the
definition of a micro-coded function.  It has the right idea but is
not evaluating the (fs:parse-pathname ...) before it tries to send it
a message.

As an example,

Meta-.

AREF

Visit UCADR? Y

error
11-Oct-82 18:40:11-EDT,1238;000000000000
Date: Monday, 11 October 1982, 18:07-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: ZVONA at MIT-MC, bug-lispm at MIT-OZ, bug-oz at MIT-OZ
In-reply-to: The message of 10 Oct 82 12:51-EDT from ZVONA at MIT-MC

    Date: Sunday, 10 October 1982  12:51-EDT
    From: ZVONA at MIT-MC
    I keep getting "connection got a LOS -- connection does not exist at
    this end" in Converse when someone sends to me.

Well, interactive messages have been working fine in 210 for months, so
something new must be going on.  Are there any special circumstances?
What host are the messages coming from?

    Possibly related, there seems to be a new form of file server lossage.
No, file servers don't have anything to do with interactive messages,
at least under normal circumstances.  Besides, you said that you were
the one on the receiving end.  Possibly a bad user end is involved.

    [Only semiserious:]  There ought to be m-X/CP command Edit File
    Jobs which would give you a menu to clobber losing file jobs.  I end
    up doing chaos:(progn (reset) (enable)) a lot.
This is not only semiserious.  It should be a Peek mode, but it definitely
should exist and is supposed to be on somebody's queue or something.
11-Oct-82 18:41:31-EDT,1269;000000000000
Date: Monday, 11 October 1982, 18:19-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Zvona at MIT-OZ, BUG-lispm at MIT-EECS
In-reply-to: The message of 10 Oct 82 13:02-EDT from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 10 October 1982, 13:02-EDT
    From: David Chapman <Zvona at MIT-OZ>
    To: BUG-lispm at MIT-EECS

    In System 210.128, ZMail 45.14, Remote-File 103.0,
    Experimental Knowledge-Based-Editor 45.0, microcode 903,
    site configuration 25, Black Magic, on Lisp Machine Twenty-two:

    (qsend "kahle") =>

    Error in chaos:open-connection: nil given as address;
    in chaos:scan-lispms (or something like that).

    Probably the host table is glitched or something.  Kahle was in
    fact logged in on cadr8.  It reproduced when I tried it again.

I agree with your analysis.  This general feature was fixed in 210.120
and we tested it at that time.  I suspect this is related to the
problems that the Apiary machine have been having; I think the host
table and lmlocs are out of phase.  If EE:LIB: ever returns, someone
should look this over and get things fixed.  Meanwhile I fixed the code
to be robust in the face of this problem (fixed in the source using the
new error system; I will patch 218).
11-Oct-82 18:46:49-EDT,293;000000000000
Date: Monday, 11 October 1982, 18:42-EDT
From: Gregor J. Kiczales <Gregor at MIT-OZ>
To: BUG-LISPM at MIT-OZ

Any system..

MOUSE-BLINKER-FAST-TRACKING-MIXIN does not have its own :SET-VISIBILTY
message, and the :SET-VISIBILITY message it inherits can't (doesn't) do
the right thing.
11-Oct-82 19:53:04-EDT,792;000000000000
Mail-From: ZVONA created at 11-Oct-82 19:49:51
Date: Monday, 11 October 1982  19:49-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   bug-lispm at MIT-OZ, bug-oz at MIT-OZ

    Date: Monday, 11 October 1982, 18:07-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    To:   ZVONA, bug-lispm, bug-oz

        Date: Sunday, 10 October 1982  12:51-EDT
        From: ZVONA at MIT-MC
        I keep getting "connection got a LOS -- connection does not exist at
        this end" in Converse when someone sends to me.

    Well, interactive messages have been working fine in 210 for months, so
    something new must be going on.  Are there any special circumstances?
    What host are the messages coming from?
OZ.
-------
11-Oct-82 20:03:38-EDT,491;000000000000
Date: Monday, 11 October 1982, 19:42-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Re: can't create directory
To: Hewitt at MIT-OZ, BSG at SCRC-TENEX
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 9 Oct 82 00:39-EDT from Carl Hewitt <Hewitt at MIT-OZ>

Yes, it's pretty clear that your problems are being caused because
somebody left the host table inconsistent with the LMLOCS table.  The
site configuration should be fixed when the EE:LIB: device comes back
up.
11-Oct-82 20:06:34-EDT,1590;000000000000
Date: Monday, 11 October 1982, 20:04-EDT
From: KMP at MIT-MC
Sender: KBE at MIT-OZ
Subject: Compiler warnings and such
To: BUG-LISPM at MIT-OZ

In System 210.128,...

I would like to have warning messages about redefining functions show up in
the Compiler Warnings for a file. Maybe that's inappropriate because they are
not really part of compilation, but the issue is this:

When I compile a new system, I typically do not dump out that particular
system. I leave the QFASLs around and reload them later and do the dump. As
such, I lose the valuable warning info that types out during the building
of the system. Some of this is retrievable by doing M-X Compiler Warnings
and writing that buffer. Other things, like the FDEFINE warnings, are not
trivially recoverable. What would be really neat is for there to be some way
to tell MAKE-SYSTEM that whenever I specify increment the system version
and do a full recompilation, I'd like all the fun debugging things that get
typed out during that system's being built to go in some file so I can peruse
them later. This would be something like Maclisp's UNFASL files. 

I also think it would be a very good idea to have something like
UNFASL files be an easy-to-get option for file compilation in
general. It's just too much work to select the compiler warnings
buffer and write it out. Oh, and you probably know, but just as a 
reminder, UNFASL files would not want to get an ABORT style close
if the compilation was aborted early because even half a file of 
warnings is more useful than no warnings.

-kmp
11-Oct-82 20:08:38-EDT,365;000000000000
Date: Monday, 11 October 1982, 20:06-EDT
From: Knowledge Based Editor <KBE at MIT-OZ>
To: BUG-LISPM at MIT-OZ

It would be useful if when I did M-X Rename File of a file that was already
in a buffer, if it offered to rename that buffer to the name I renamed the
file to. Even if it didn't always work, it would be helpful for it to try when
possible.
-kmp
11-Oct-82 20:10:56-EDT,336;000000000000
Date: Monday, 11 October 1982, 20:08-EDT
From: Knowledge Based Editor <KBE at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 210.128,...

"." should have some sort of word break syntax in filename minibuffers.
When at the end of <KMP.FOO>BAR.BAZ and typing M-B, I do not want to be
after the ">", I want to be after the ".".
-kmp
11-Oct-82 21:26:53-EDT,918;000000000000
Date: Monday, 11 October 1982  21:19-EDT
From: MOON at SCRC-TENEX
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   BUG-LISPM at OZ
Subject: Constraint frame problem
In-reply-to: The message of 9 Oct 1982 02:18-EDT from Kent M. Pitman <kmp at MIT-MC>

The problem is that you are taking something called "size" and using it
as something called "edges".  The size is a width and height.  The :EDGES-FROM
wants a list of four numbers.  I would guess that the window system is defaulting
the 3rd and 4th numbers to zero, hence you have the top-left corner of the
window at (w,h) and the lower right corner at (0,0).  We should fix the error
message to happen before it has considered constraints at all, and to tell you
that you tried to make a window of negative size rather than faking you out into
thinking there was something to do with margins.  This fix won't make it into 218,
which should be acceptable.
12-Oct-82 00:03:50-EDT,623;000000000000
Date: Tuesday, 12 October 1982, 00:01-EDT
From: David Vinayak Wallace <Gumby at MIT-OZ>
To: Knowledge Based Editor <KBE at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ, bug-zwei at MIT-OZ, kmp at MIT-OZ, gumby at MIT-OZ

    Date: Monday, 11 October 1982, 20:08-EDT
    From: Knowledge Based Editor <KBE at MIT-OZ>
    To: BUG-LISPM at MIT-OZ

    In System 210.128,...

    "." should have some sort of word break syntax in filename minibuffers.
    When at the end of <KMP.FOO>BAR.BAZ and typing M-B, I do not want to be
    after the ">", I want to be after the ".".
    -kmp
Look in src:<gumby.lispm>minibuffer.lisp
12-Oct-82 01:31:06-EDT,515;000000000000
Date: Monday, 11 October 1982  23:48-EDT
From: MOON at SCRC-TENEX
To:   Gregor J. Kiczales <Gregor at MIT-OZ>
Cc:   BUG-LISPM at MIT-EECS
In-reply-to: The message of 25 Aug 1982 15:53-EDT from Gregor J. Kiczales <Gregor at MIT-OZ>

    Date: Wednesday, 25 August 1982, 15:53-EDT
    From: Gregor J. Kiczales <Gregor at MIT-OZ>

    A flavor which does not satisfy its required methods requirement
    can still be instantiated (by trying it again).
This is fixed in 218 as a side-effect of other fixes.
12-Oct-82 04:53:40-EDT,512;000000000000
Date: Tuesday, 12 October 1982, 04:48-EDT
From: David A. Levitt <LEVITT at MIT-OZ>
To: BUG-LISPM at MIT-EECS, BUG-LISPM-MIT at MIT-OZ

Is there a preferred way to make a patch whose purpose is to
flush an incorrect, superfluous piece of code?  In particular, I
specialized a flavor, and accidently defined a new method for it
when it should have simply inherited the old one.  Can I "patch
out" the old one without a horrible kludge?  (Should there be a
version of Add Patch analogous to UNDEFMETHOD?)
12-Oct-82 05:03:44-EDT,512;000000000000
Date: Tuesday, 12 October 1982, 04:48-EDT
From: David A. Levitt <LEVITT at MIT-OZ>
To: BUG-LISPM at MIT-EECS, BUG-LISPM-MIT at MIT-OZ

Is there a preferred way to make a patch whose purpose is to
flush an incorrect, superfluous piece of code?  In particular, I
specialized a flavor, and accidently defined a new method for it
when it should have simply inherited the old one.  Can I "patch
out" the old one without a horrible kludge?  (Should there be a
version of Add Patch analogous to UNDEFMETHOD?)
12-Oct-82 05:54:06-EDT,958;000000000000
Date: Tuesday, 12 October 1982, 05:48-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Flushing a function in a patch
To: David A. Levitt <LEVITT at MIT-OZ>
Cc: BUG-LISPM at MIT-EECS, BUG-LISPM-MIT at MIT-OZ
In-reply-to: The message of 12 Oct 82 04:48-EDT from David A. Levitt <LEVITT at MIT-OZ>

    Date: Tuesday, 12 October 1982, 04:48-EDT
    From: David A. Levitt <LEVITT at MIT-OZ>
    Is there a preferred way to make a patch whose purpose is to
    flush an incorrect, superfluous piece of code?  In particular, I
    specialized a flavor, and accidently defined a new method for it
    when it should have simply inherited the old one.  Can I "patch
    out" the old one without a horrible kludge?  (Should there be a
    version of Add Patch analogous to UNDEFMETHOD?)
In Symbolics systems, there is a command M-X Start Patch.  Then you
can type in the apropriate UNDEFMETHOD into the patch buffer, and
do M-X finish Patch.
12-Oct-82 05:55:58-EDT,958;000000000000
Date: Tuesday, 12 October 1982, 05:48-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Flushing a function in a patch
To: David A. Levitt <LEVITT at MIT-OZ>
Cc: BUG-LISPM at MIT-EECS, BUG-LISPM-MIT at MIT-OZ
In-reply-to: The message of 12 Oct 82 04:48-EDT from David A. Levitt <LEVITT at MIT-OZ>

    Date: Tuesday, 12 October 1982, 04:48-EDT
    From: David A. Levitt <LEVITT at MIT-OZ>
    Is there a preferred way to make a patch whose purpose is to
    flush an incorrect, superfluous piece of code?  In particular, I
    specialized a flavor, and accidently defined a new method for it
    when it should have simply inherited the old one.  Can I "patch
    out" the old one without a horrible kludge?  (Should there be a
    version of Add Patch analogous to UNDEFMETHOD?)
In Symbolics systems, there is a command M-X Start Patch.  Then you
can type in the apropriate UNDEFMETHOD into the patch buffer, and
do M-X finish Patch.
12-Oct-82 11:24:43-EDT,849;000000000000
Date: Tuesday, 12 October 1982, 10:44-EDT
From: Bernard S Greenberg <BSG at SCRC-TENEX>
Subject: Edit File Jobs
To: dlw at SCRC-TENEX, ZVONA at MIT-MC, bug-lispm at MIT-OZ, bug-oz at MIT-OZ
In-reply-to: The message of 11 Oct 82 18:07-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 11 October 1982, 18:07-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	Date: Sunday, 10 October 1982  12:51-EDT
	From: ZVONA at MIT-MC
	[Only semiserious:]  There ought to be m-X/CP command Edit File
	Jobs which would give you a menu to clobber losing file jobs.  I end
	up doing chaos:(progn (reset) (enable)) a lot.
    This is not only semiserious.  It should be a Peek mode, but it definitely
    should exist and is supposed to be on somebody's queue or something.
Isn't this exactly what "Reset Host Unit" on PEEK F does?
12-Oct-82 11:34:06-EDT,1382;000000000000
Mail-From: GREN created at 12-Oct-82 11:29:44
Date: Tuesday, 12 October 1982  11:29-EDT
Sender: GREN at MIT-OZ
From: GREN at MIT-MC
To:   BUG-FILE at MIT-OZ, BUG-LISPM at MIT-OZ, BUG-TWENEX at XX
Subject: LispMachine FILE connections


We have made a discovery.  First of all, all those mysterious Detached
NLI jobs running strange things are in fact FILE servers.  It turns out
that when the monitor makes a new job, it does NOT clear out the old
program-name, so you get whatever was there before.  We made the file
server read the old name, and shift it right and put "_" as the far
left letter... sure enough, a job named "_LOGOU" appeared a few minutes
later.  Marty's gonna fix the monitor to make sure and zero that word
for new jobs.

Now then, the fact remains that the LispM's are making FILE connections
that they never use.  There seem to be some systems out there are making
connections to OZ simply for the sake of having them, "just in case you
might need it later", or something along that line.  Not good...

I am going to have the OZ FILE servers snuff themselves if they're
LispM-made and stay NLI got more than n minutes, n being like 5 or so.
If a LispM makes the connection and then logs in, as is necessary to
verify password and such, then it will be left entirely alone.

Any complaints, suggestions, comments?

,Gren
-------
12-Oct-82 12:05:07-EDT,1646;000000000000
Date: Tuesday, 12 October 1982, 11:56-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: LispMachine FILE connections
To: GREN at MIT-MC
Cc: BUG-FILE at MIT-OZ, BUG-LISPM at MIT-OZ, BUG-TWENEX at MIT-XX at MIT-MC
In-reply-to: The message of 12 Oct 82 11:29-EDT from GREN at MIT-MC

    Date: Tuesday, 12 October 1982  11:29-EDT
    From: GREN at MIT-MC
    Now then, the fact remains that the LispM's are making FILE connections
    that they never use.  There seem to be some systems out there are making
    connections to OZ simply for the sake of having them, "just in case you
    might need it later", or something along that line.  Not good...
A FILE server is always needed.  Loging in provides your personal name
for finger, your home directory, allows the LISPM to check for (and load)
your init file, etc.  I can't vouch for the LMI/RMS system, but Brand S
kills the server if unused for (I believe) 30 minutes.  (This can be
controlled via a site option).  I am quite sure Brand S never connects
and then doesn't immediately log in.  I would also find it suprising
that the LMI/RMS system would do this, unless there were an error
while logging in.
    I am going to have the OZ FILE servers snuff themselves if they're
    LispM-made and stay NLI got more than n minutes, n being like 5 or so.
    If a LispM makes the connection and then logs in, as is necessary to
    verify password and such, then it will be left entirely alone.

    Any complaints, suggestions, comments?
This may aleviate the symptoms, and I can't see that it should cause
any problems.  But the disease should also be cured.
12-Oct-82 12:50:27-EDT,677;000000000000
Mail-From: GREN created at 12-Oct-82 12:47:12
Date: Tuesday, 12 October 1982  12:47-EDT
Sender: GREN at MIT-OZ
From: GREN at MIT-MC
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-FILE at MIT-OZ, BUG-LISPM at MIT-OZ
Subject: LispMachine FILE connections

I am never considering killing logged-in FILE servers, only the ones
that sit around not-logged-in, and never do anything...  There are a
LOT of these.  Just in case they were honest cases that failed to
login, as opposed to RFCs that were never actually needed, I'll get
them to change names again at an ATTEMPT to login... that we we'll
see where their act is.  I'll let you know how it goes.
-------
12-Oct-82 13:25:58-EDT,965;000000000000
Mail-From: GREN created at 12-Oct-82 13:20:03
Date: Tuesday, 12 October 1982  13:19-EDT
Sender: GREN at MIT-OZ
From: GREN at MIT-MC
To:   RWK at SCRC
CC:   BUG-FILE at MIT-OZ, BUG-LISPM at MIT-OZ


Well, the word is in.  I am having the file server rename itself to
?FILE? if it even makes the slightest (i.e. well-formed) attempt to
login... I tested it with CFTP.  When I connected, the job was _xxxx
somethingorother (usually they're _KKJOB, _EXEC, or _LOGOU, sigh).
I then tried to login and screwed it up on purpose, and the job
changed names to ?FILE?.

At this point, there is a NLI file job, _xxxx something, that has
connected, done some start-up activity, and it now sitting in a
dead state.  IT HAS NOT TRIED TO LOGIN.

Some LispM has requested a FILE connection and has no intention of
using it now.

I can get the server to pin down the host# of who is doing this, so
whatever system is doing it can be fixed.

,Gren
-------
12-Oct-82 14:06:46-EDT,1105;000000000000
Date: Tuesday, 12 October 1982, 13:52-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: LispMachine FILE connections
To: GREN at MIT-MC, BUG-FILE at MIT-OZ, BUG-LISPM at MIT-OZ,
    BUG-TWENEX at MIT-XX
In-reply-to: The message of 12 Oct 82 11:29-EDT from GREN at MIT-MC

    Date: Tuesday, 12 October 1982  11:29-EDT
    Sender: GREN at MIT-OZ
    From: GREN at MIT-MC
	...

    Any complaints, suggestions, comments?

    ,Gren
    -------
Yeah.  You will need to processes for this trick.  One needs to be an
enabled wheel, and it would really be nice if the other could log the
output (perhaps do it batch).  Have the enabled process run CONSTA.EXE.
THEN have the logging process do
	@TYPE CHA:OZ.CONSTAT
Look at the output for these NLI file servers, and find out exactly
where they are coming from and how many packets they have exchanged.

Remember that when one logs into a LISPM, it has to create a file
connection on the login host so that it can find out if the person has
an init and such.  It may not use it after that, but that is probably
why they appear.
12-Oct-82 14:36:39-EDT,904;000000000000
Date: Tuesday, 12 October 1982, 14:32-EDT
From: Robert P. Krajewski <rpk at MIT-OZ>
Subject: While EE's LIB: is offline...
To: INFO-LispM-MIT at MIT-OZ

If you are running diagnostics or debugging other machines in CC,
OZ:SRC:<L.UBIN> contains the neccessary microloads (MEMD, UCADR).

Many times people try to salvage editor buffers (with
CC:SALVAGE-EDITOR), but they lose because their machine cannot
find the right microcode.  This happens when the machines are not
running the same software.  The microload directory is
EE:LIB:<LISPM.UBIN> for Symbolics, OZ:SRC:<L.UBIN> for MIT.
These should be substituted for each other, or for SYS: UBIN; as
alternative pathnames after a FNF (file not found) error.  You
might have to use the c-N, C-P, c-m-R, and (eh-arg n) features of
the debugger to get the file loaded correctly.  (This is
neccessary for the :WHY command in CC.)

``Bob''
12-Oct-82 15:33:36-EDT,1181;000000000000
Date: Tuesday, 12 October 1982, 15:18-EDT
From: Robert W. Kerns <RWK at scrc-tenex>
Subject: LispMachine FILE connections
To: GREN at mit-mc
Cc: BUG-FILE at mit-oz, BUG-LISPM at mit-oz
In-reply-to: The message of 12 Oct 82 12:47-EDT from GREN at MIT-MC

    Date: Tuesday, 12 October 1982  12:47-EDT
    From: GREN at MIT-MC
    I am never considering killing logged-in FILE servers, only the ones
    that sit around not-logged-in, and never do anything...  There are a
    LOT of these.
Right, I understood that.  I don't see any problem.  I just think that
this shouldn't be taken as the solution; that rather they should be
eliminated at the source.
	            Just in case they were honest cases that failed to
    login, as opposed to RFCs that were never actually needed, I'll get
    them to change names again at an ATTEMPT to login... that we we'll
    see where their act is.  I'll let you know how it goes.
Have them set it BEFORE they attempt to log in, in case they hang or
blow out or something in the attempt?  Could this have anything to do
with the problem KLH reported wrt complaining about "wrong password file"
or something like that?
12-Oct-82 15:45:31-EDT,999;000000000000
Mail-From: MARTY created at 12-Oct-82 15:37:11
Date: 12 October 1982  15:36-EDT (Tuesday)
Sender: MARTY at MIT-OZ
From: Martin David Connor <MARTY at MIT-MC>
To:   Robert W. Kerns <RWK at scrc-tenex>
Cc:   BUG-FILE at mit-oz, BUG-LISPM at mit-oz, GREN at mit-mc
Subject: LispMachine FILE connections

    Date: Tuesday, 12 October 1982, 15:18-EDT
    From: Robert W. Kerns <RWK at scrc-tenex>
    Subject: LispMachine FILE connections
    To: GREN at mit-mc
    Cc: BUG-FILE at mit-oz, BUG-LISPM at mit-oz
    In-reply-to: The message of 12 Oct 82 12:47-EDT from GREN at MIT-MC

	...
    Could this have anything to do with the problem KLH reported wrt
    complaining about "wrong password file" or something like that?

No. That was caused by the password for the directory PS:<ANONYMOUS>
being changed.  It is now fixed to match the one in the file 
PS:<SYSTEM>ANONYMOUS.USERFILE which is where the file server looks for
the password for ANONYMOUS logins.
Marty;
-------
12-Oct-82 16:00:30-EDT,427;000000000000
Date: Tuesday, 12 October 1982, 15:34-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: KBE at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Oct 82 20:08-EDT from Knowledge Based Editor <KBE at MIT-OZ>

Actually "." should be a word break everywhere, unless you are in MIDAS mode.
Look at the syntax table; it is clearly designed for SQUOZE-code.  I have
mentioned this before and am going to change it.
12-Oct-82 16:59:25-EDT,603;000000000000
Date: Tuesday, 12 October 1982, 16:44-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Constraint frame problem
To: MOON at SCRC-TENEX, kmp at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Oct 82 21:19-EDT from MOON at SCRC-TENEX

    Date: Monday, 11 October 1982  21:19-EDT
    From: MOON at SCRC-TENEX
    We should fix the error
    message to happen before it has considered constraints at all, and to tell you
    that you tried to make a window of negative size rather than faking you out...
Fixed in the source.  I'll patch it into 218 if I don't forget to.
12-Oct-82 17:13:56-EDT,345;000000000000
Date: Tuesday, 12 October 1982, 17:07-EDT
From: Carl Richard Feynman <CARLF at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In System 210.128, ZMail 45.14, LMFS 27.26, microcode 896,
site configuration 22, "210.124, Mathlab", on Lisp Machine Fifteen:

Doing a meta-. on FORMAT causes the machine to try to find a nonexistent 
file. 

			--carl
12-Oct-82 18:55:52-EDT,784;000000000000
Date: Tuesday, 12 October 1982  17:58-EDT
From: MOON at SCRC-TENEX
To:   David A. Levitt <LEVITT at MIT-OZ>
Cc:   BUG-LISPM-MIT at MIT-OZ, BUG-LISPM at MIT-EECS
Subject: Making a patch to remove an unwanted method
In-reply-to: The message of 12 Oct 1982 04:48-EDT from David A. Levitt <LEVITT at MIT-OZ>

RWK's reply may not have been adequately clear.

A patch file, like any other Lisp source file, is just a textual
representation of a bunch of forms to be evaluated.  You can put any form
you like in a patch file.  The only unusual thing here is that you want to
put a form in your patch file that you do not want to make a permanent part
of the source code for your system.

Put your UNDEFMETHOD (or FUNDEFINE) form in any buffer you like and do
m-X Add Patch.
12-Oct-82 18:57:34-EDT,377;000000000000
Date: Tuesday, 12 October 1982, 17:17-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Edit File Jobs
To: BSG at SCRC-TENEX, ZVONA at MIT-MC, bug-lispm at MIT-OZ, bug-oz at MIT-OZ
In-reply-to: The message of 12 Oct 82 10:44-EDT from Bernard S Greenberg <BSG at SCRC-TENEX>

Oh; I guess I didn't really know about Peek F mode.  Yes, sounds like
the right thing.
12-Oct-82 19:31:47-EDT,784;000000000000
Date: Tuesday, 12 October 1982  17:58-EDT
From: MOON at SCRC-TENEX
To:   David A. Levitt <LEVITT at MIT-OZ>
Cc:   BUG-LISPM-MIT at MIT-OZ, BUG-LISPM at MIT-EECS
Subject: Making a patch to remove an unwanted method
In-reply-to: The message of 12 Oct 1982 04:48-EDT from David A. Levitt <LEVITT at MIT-OZ>

RWK's reply may not have been adequately clear.

A patch file, like any other Lisp source file, is just a textual
representation of a bunch of forms to be evaluated.  You can put any form
you like in a patch file.  The only unusual thing here is that you want to
put a form in your patch file that you do not want to make a permanent part
of the source code for your system.

Put your UNDEFMETHOD (or FUNDEFINE) form in any buffer you like and do
m-X Add Patch.
12-Oct-82 20:38:07-EDT,1176;000000000000
Date: Tuesday, 12 October 1982, 20:24-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: LispMachine FILE connections
To: GREN at MIT-MC
Cc: BUG-FILE at MIT-OZ, BUG-LISPM at MIT-OZ, BUG-TWENEX at MIT-XX
In-reply-to: The message of 12 Oct 82 11:29-EDT from GREN at MIT-MC

    Date: Tuesday, 12 October 1982  11:29-EDT
    From: GREN at MIT-MC

    Now then, the fact remains that the LispM's are making FILE connections
    that they never use.  There seem to be some systems out there are making
    connections to OZ simply for the sake of having them, "just in case you
    might need it later", or something along that line.  Not good...

    I am going to have the OZ FILE servers snuff themselves if they're
    LispM-made and stay NLI got more than n minutes, n being like 5 or so.
    If a LispM makes the connection and then logs in, as is necessary to
    verify password and such, then it will be left entirely alone.
Presumably NLI FILE servers can't do anything except login anyway, so
that would be entirely reasonable.  Doesn't TOPS20 flush all NLI jobs
automatically after a couple minutes?  It should do it, not the jobs
themselves.
12-Oct-82 20:47:29-EDT,1294;000000000000
Date: Tuesday, 12 October 1982, 20:35-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: LispMachine FILE connections
To: DCP at SCRC-TENEX
Cc: GREN at MIT-MC, BUG-FILE at MIT-OZ, BUG-LISPM at MIT-OZ,
    BUG-TWENEX at MIT-XX
In-reply-to: The message of 12 Oct 82 13:52-EDT from David C. Plummer <DCP at SCRC-TENEX>

    Date: Tuesday, 12 October 1982, 13:52-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

    Remember that when one logs into a LISPM, it has to create a file
    connection on the login host so that it can find out if the person has
    an init and such.  It may not use it after that, but that is probably
    why they appear.

Yes, but you have to login for the host to give you that information.
In system 210, it is almost impossible, modulo c-Abort at a wierd time,
to have an NLI file server (if you abort out of the login password
query, the connection is closed).  I made that change here, so it is
possible that this feature isn't in the "MIT" systems.

In 218, the connection isn't closed when you abort from the password
prompt, so you ARE left with NLI FILE job.  The theory is that the new
error system will intercept the NLI error and ask you to login at the
correct time.  It won't matter if the connection is randomly closed.
13-Oct-82 00:58:45-EDT,510;000000000000
Date: Wednesday, 13 October 1982, 00:57-EDT
From: David Vinayak Wallace <Gumby at MIT-OZ>
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: BUG-LISPM at MIT-OZ, gumby at MIT-OZ

    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    To: KBE at MIT-OZ, BUG-LISPM at MIT-OZ

    Actually "." should be a word break everywhere, unless you are in MIDAS mode.

What about flonums in lisp mode? I think that you are wrong. Filename
minibuffers should be in text mode, which has the right syntax for
pathnames.
13-Oct-82 06:50:59-EDT,533;000000000000
Date: Wednesday, 13 October 1982, 06:48-EDT
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.58,
ZMail 46.10, Remote-File 15.2, Experimental Local-File 40.4,
microcode 173, 87.58, on Lisp Machine Eight:

(advise defsubst :before tester nil (print arglist))
NIL
(defsubst foo (x) (+ x x))
(FOO (+ X X))
FOO
#'foo
(NAMED-SUBST FOO OZ NIL)
  ; or whatever other recent randomness is lying around.

Why is this happening?  It is breaking my code.
13-Oct-82 10:33:05-EDT,658;000000000000
Date: Wednesday, 13 October 1982, 01:50-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: KBE at MIT-OZ, KMP at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 11 Oct 82 20:06-EDT from Knowledge Based Editor <KBE at MIT-OZ>

    Date: Monday, 11 October 1982, 20:06-EDT
    From: Knowledge Based Editor <KBE at MIT-OZ>
    To: BUG-LISPM at MIT-OZ

    It would be useful if when I did M-X Rename File of a file that was already
    in a buffer, if it offered to rename that buffer to the name I renamed the
    file to. Even if it didn't always work, it would be helpful for it to try when
    possible.
Fixed and patched in 218.14.
13-Oct-82 11:03:02-EDT,1011;000000000000
Date: Wednesday, 13 October 1982, 10:47-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Gumby at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 13 Oct 82 00:57-EDT from David Vinayak Wallace <Gumby at MIT-OZ>

    Date: Wednesday, 13 October 1982, 00:57-EDT
    From: David Vinayak Wallace <Gumby at MIT-OZ>
    To: Daniel L. Weinreb <dlw at SCRC-TENEX>
    Cc: BUG-LISPM at MIT-OZ, gumby at MIT-OZ

	From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	To: KBE at MIT-OZ, BUG-LISPM at MIT-OZ

	Actually "." should be a word break everywhere, unless you are in MIDAS mode.

    What about flonums in lisp mode? I think that you are wrong. Filename
    minibuffers should be in text mode, which has the right syntax for
    pathnames.
I said a "word break".  The Lisp commands use a different table which I
am not changing.  c-m-F will continue to move over flonums.  If m-F stops
in the middle of a flonum, I think that's a far lesser evil than the current
inconsistent behavior.
13-Oct-82 11:32:49-EDT,766;000000000000
Date: Wednesday, 13 October 1982, 11:18-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Making a patch to remove an unwanted method
To: LEVITT at MIT-OZ
Cc: BUG-LISPM-MIT at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 12 Oct 82 17:58-EDT from MOON at SCRC-TENEX

I have one thing to add to Moon's reply. It might strike you as kudgey
to put your undefmethod in a bogus buffer and do Add Patch.  We added
a new command called Start Patch just for things like what you want to
do; it starts a new patch file without adding anything to it.  Do a
Start Patch, select the patch buffer that it creates, type into it
being careful to use the right package etc, and then do Finish Patch.
What Moon said will work too.  Take your choice.
13-Oct-82 12:39:25-EDT,1008;000000000000
Date: Wednesday, 13 October 1982  00:30-EDT
From: MOON at SCRC-TENEX
To:   Gregor J. Kiczales <Gregor at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject:MOUSE-BLINKER-FAST-TRACKING-MIXIN
In-reply-to: The message of 11 Oct 1982 18:42-EDT from Gregor J. Kiczales <Gregor at MIT-OZ>

    Date: Monday, 11 October 1982, 18:42-EDT
    From: Gregor J. Kiczales <Gregor at MIT-OZ>

    MOUSE-BLINKER-FAST-TRACKING-MIXIN does not have its own :SET-VISIBILTY
    message, and the :SET-VISIBILITY message it inherits can't (doesn't) do
    the right thing.

The real problem is not this simple.  When mouse-fast-tracking is in effect
for a blinker, its visibility is set to NIL.  In other words, the visibility
is being used for "whether the normal drawing mechanisms should draw it"
rather than the conceptual visibility.  Is this really worth fixing?  Presumably
if you're setting the visibility of the blinker that tracks the mouse, you
really should have made the mouse use some other blinker first.
13-Oct-82 14:59:09-EDT,412;000000000000
Date: Wednesday, 13 October 1982, 14:54-EDT
From: Carl Richard Feynman <CARLF at MIT-OZ>
Subject: not really a bug
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.57,
ZMail 46.10, microcode 187, win, on Lisp Machine Eighteen:

Where can I find a file containing the CHESS font that used to be 
in the system by default but isn't any more?

				-- carlf
13-Oct-82 15:03:44-EDT,534;000000000000
Date: Wednesday, 13 October 1982, 14:22-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Marvin:

The following routine uses up 2kw of storage.  Is there any way to
prevent that?

(defresource float-array-resource (size)
  :constructor (make-array size ':type 'art-float))

(defun foo (&aux temp1)
  (dotimes (i 2000)
    (using-resource (x float-array-resource 128.))))

13-Oct-82 15:22:31-EDT,486;000000000000
Date: Wednesday, 13 October 1982, 15:01-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: lisp mode/text mode
To: David Vinayak Wallace <Gumby at MIT-OZ>
Cc: Daniel L. Weinreb <dlw at SCRC-TENEX>, BUG-LISPM at MIT-OZ
In-reply-to: The message of 13 Oct 82 00:57-EDT from David Vinayak Wallace <Gumby at MIT-OZ>

    Date: Wednesday, 13 October 1982, 00:57-EDT
    From: David Vinayak Wallace <Gumby at MIT-OZ>
    What about flonums in lisp mode?
Only in Atom Word Mode.
13-Oct-82 15:25:11-EDT,584;000000000000
Date: Wednesday, 13 October 1982, 15:03-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: ZVONA at MIT-MC
Cc: bug-lispm at MIT-OZ, bug-oz at MIT-OZ
In-reply-to: The message of 11 Oct 82 19:49-EDT from ZVONA at MIT-MC

Well, I don't know what the problem is.  I just got

    GUMBY@MIT-OZ 13-Oct-82  3:09PM
    ok. here's a reply

without any trouble.  I'm using 218, but the point is that OZ seems to be
at least minimally obeying protocol.  If you can get a reproducible
test case or at least try to narrow down the circumstances we can try
to work on this further.
13-Oct-82 16:58:55-EDT,415;000000000000
Date: Tuesday, 12 October 1982, 21:43-EDT
From: webster p dove <G.DOVE at MIT-EECS>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.55,
ZMail 46.10, microcode 179, Try Me!, on Zarniwoop:

Try loading the file ee:<g.dove>breaklispm.lisp, calling (test-lispm) and
inspecting the resulting array (which is of type art-q).  This will
typically hang the machine.
13-Oct-82 17:18:52-EDT,244;000000000000
Date: Tuesday, 12 October 1982, 23:24-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Eric at MIT-EECS
Cc: BUG-LISPM at MIT-EECS

How long do we have to subject ourselves to a flood of bug reports which
complain that LIB isn't mounted?
13-Oct-82 17:19:23-EDT,768;000000000000
Date: Wednesday, 13 October 1982, 01:03-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: CARLF at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 12 Oct 82 17:07-EDT from Carl Richard Feynman <CARLF at MIT-OZ>

    Date: Tuesday, 12 October 1982, 17:07-EDT
    From: Carl Richard Feynman <CARLF at MIT-OZ>

    Doing a meta-. on FORMAT causes the machine to try to find a nonexistent 
    file. 
The file is nonexistent because EE's LIB device is broken.  This will
hopefully be fixed soon.  In the meantime, you manually read the files
from pointer; the syntax for logical pathname "SYS: FOO; BAR LISP >" is
"PTR:>SYS>FOO>BAR.LISP".  Note that those are the latest sources, not
the 210 sources, and there are quite a few discrepencies...
13-Oct-82 17:19:52-EDT,766;000000000000
Date: Wednesday, 13 October 1982, 11:18-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Making a patch to remove an unwanted method
To: LEVITT at MIT-OZ
Cc: BUG-LISPM-MIT at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 12 Oct 82 17:58-EDT from MOON at SCRC-TENEX

I have one thing to add to Moon's reply. It might strike you as kudgey
to put your undefmethod in a bogus buffer and do Add Patch.  We added
a new command called Start Patch just for things like what you want to
do; it starts a new patch file without adding anything to it.  Do a
Start Patch, select the patch buffer that it creates, type into it
being careful to use the right package etc, and then do Finish Patch.
What Moon said will work too.  Take your choice.
13-Oct-82 17:21:13-EDT,548;000000000000
Date: Wednesday, 13 October 1982, 16:20-EDT
From: Robert W. Kerns <RWK at scrc-tenex>
Subject: "Non-existant file"
To: Carl Richard Feynman <CARLF at mit-oz>
Cc: BUG-LISPM at mit-eecs
In-reply-to: The message of 12 Oct 82 17:07-EDT from Carl Richard Feynman <CARLF at MIT-OZ>

    Date: Tuesday, 12 October 1982, 17:07-EDT
    From: Carl Richard Feynman <CARLF at MIT-OZ>
    Doing a meta-. on FORMAT causes the machine to try to find a nonexistent 
    file. 
It is not non-existant, it is offline due to a (DEC brain-) damaged
pack.
13-Oct-82 20:48:38-EDT,1056;000000000000
Mail-From: ECC created at 13-Oct-82 18:21:05
Date: Wednesday, 13 October 1982  18:20-EDT
Sender: ECC at MIT-OZ
From: Eugene C. Ciccarelli <ECC at MIT-MC>
To:   BUG-LISPM at MIT-OZ
Subject: Configuration question

Is it possible to accomplish the following?:

A frame has two configurations, NORMAL and DEBUG.  When an error
occurs, instead of trying to use a background-process window,
have the frame automatically get switched to the DEBUG
configuration, and have one of its panes used by the error
handler.  Is there someplace convenient to have the
:SET-CONFIGURATION message sent to the frame?  Can the process
have ERROR-OUTPUT bound to the debugging pane, and have any
attempt to select that window (i.e. by the error handler) cause
the configuration to switch?  I tried having a :BEFORE :SELECT
method on that pane, but when the error happened, it didn't seem
to be getting a select message.

If anyone is interested in helping me figure this out, and the
above isn't clear, I'll be glad to try again and clarify it.
-------
13-Oct-82 21:27:29-EDT,1731;000000000000
Date: Wednesday, 13 October 1982, 21:14-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Configuration question
To: Eugene C. Ciccarelli <ECC at MIT-MC>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 13 Oct 82 18:20-EDT from Eugene C. Ciccarelli <ECC at MIT-MC>

    Date: Wednesday, 13 October 1982  18:20-EDT
    From: Eugene C. Ciccarelli <ECC at MIT-MC>
    Is it possible to accomplish the following?:

    A frame has two configurations, NORMAL and DEBUG.  When an error
    occurs, instead of trying to use a background-process window,
    have the frame automatically get switched to the DEBUG
    configuration, and have one of its panes used by the error
    handler.  Is there someplace convenient to have the
    :SET-CONFIGURATION message sent to the frame?  Can the process
    have ERROR-OUTPUT bound to the debugging pane, and have any
    attempt to select that window (i.e. by the error handler) cause
    the configuration to switch?  I tried having a :BEFORE :SELECT
    method on that pane, but when the error happened, it didn't seem
    to be getting a select message.
I think what you want is to set the DEEXPOSED-TYPEOUT-ACTION of
the pane.  You can do

(SEND ERROR-OUTPUT ':SET-DEEXPOSED-TYPEOUT-ACTION
     '(:SEND-FRAME :SET-CONFIGURATION DEBUG))

where the pane has a :SEND-FRAME message that sends the rest of
the arguments to the frame.  (The DEEXPOSED-TYPEOUT-ACTION is
a list of message-name and arguments, or one of a known set of
keywords).

    If anyone is interested in helping me figure this out, and the
    above isn't clear, I'll be glad to try again and clarify it.
I'm curious as to what it is you're doing this for, and how it
works out.
13-Oct-82 23:08:30-EDT,543;000000000000
Date: Wednesday, 13 October 1982  22:12-EDT
From: MOON at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>,
      Eugene C. Ciccarelli <ECC at MIT-MC>
Cc:   BUG-LISPM at MIT-OZ
Subject: Configuration question

I think you'll find that the error handler does various things, like trying
to send notifications, before trying to type out on the deexposed pane,
so that the deexposed-typeout-action by itself won't get what you want.
You could set up a handler for the :NOTICE message; :NOTICE :ERROR is sent
by the error handler.
13-Oct-82 23:12:47-EDT,716;000000000000
Date: Wednesday, 13 October 1982, 23:00-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: really a bug
To: CARLF at MIT-OZ, BUG-FED at SCRC-TENEX
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 13 Oct 82 14:54-EDT from Carl Richard Feynman <CARLF at MIT-OZ>

    Date: Wednesday, 13 October 1982, 14:54-EDT
    From: Carl Richard Feynman <CARLF at MIT-OZ>
    Where can I find a file containing the CHESS font that used to be 
    in the system by default but isn't any more?
MC: AI: LMFONT; LCHESS QFASL
OZ:SRC:<L.FONTS>LCHESS.QFASL
PTR:>SYS>FONTS>LCHESS.QBIN

Each of the above files sets FONTS:S30CHS.  The only one which loads a
non-erring font for M-X Display Font in 218 is pointer's.
14-Oct-82 00:36:26-EDT,2694;000000000000
Date: Thursday, 14 October 1982, 00:36-EDT
From: File Transfer Login <kbe at MIT-OZ>
Subject: Current loaded band
To: BUG-LISPM at MIT-OZ
Cc: KBE-I at MIT-OZ

I want users of my KBE system to be able to run a ZWEI command, M-X Bug KBE,
which will be like M-X Bug, but which will do some presetting of the buffer.

I have asked before about the idea of making a hook for M-X Bug so that I wouldn't
have to have my own M-X command to do this. I would still like that feature.

I would also like there to be nice abstract ways of getting at certain
information which I consider essential to such bug reports. Right now there is
no advertised way of doing it. PRINT-LOADED-BAND does this, but it is too
verbose. The exact kinds of info that are needed are not something that is
application-specific. As such, I would like ways to inquire specifically about

 * What band is loaded? 
   Right now, I guess I can do
    (FORMAT NIL "~C" (LDB 2010 SI:CURRENT-LOADED-BAND))
   but this is hardly abstract and doesn't leave me with the sense that my code
   probably won't break between system releases.

 * What unit is currently selected? Otherwise, the band info makes little sense.
   I don't know how to do this.

 * What additional info is there about the band?
    (IF (BOUNDP 'SI:SYSTEM-ADDITIONAL-INFO) SI:SYSTEM-ADDITIONAL-INFO)
   works, but it makes a lot of system internal assumptions that I'd rather
   not be making.

 * What system version is running?
   (SI:GET-SYSTEM-VERSION [version]) seems to do this fine. 
   It should be made global or otherwise advertised as a supported feature.

 * What microcode is running?
   SI:%MICROCODE-VERSION-NUMBER seems to hold this. It should be advertised.

Also, but not for this particular application, I have wanted to have programs
know what the current default band and microcode is (the things C-M-C-M-Rubout
would select; the ones with the * by them in PRINT-DISK-LABEL) so that I could
compare them to what's loaded and make certain decisions based on that.

Basically, I think it's reasonable that users be doing things with this kind
of information without having to be afraid we're going to have our efforts
broken on new releases, so I would like to see standard hooks into this
information provided.  Thanks.

-kmp

ps We are running System 210.128 and I looked up some of the data in this
   message in the System 87 sources, since 210's are currently unavailable.
   Apologies for any discrepancies between what I've said and truth in either
   implementation, but I thought it'd be most clear if I provided code
   describing the functionality I need rather than just text.
14-Oct-82 05:17:38-EDT,623;000000000000
Date: Thursday, 14 October 1982, 05:14-EDT
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.64,
ZMail 46.10, Remote-File 15.3, Experimental Local-File 40.5, microcode
173, , on Lisp Machine Eight:

PS:<EB.JUNK>DEFSEL.LISP contains just the following definition:

(defselect ((:property foo bar))
  (:method () free-variable))

QC-FILE-LOAD it, then do M-X Edit Warnings.  When it is looking for the
function in which the free-variable warning occurred, it will offer to
re-sectionize the buffer as many times as you keep saying "yes."
14-Oct-82 09:57:55-EDT,2219;000000000000
Date: Thursday, 14 October 1982, 09:49-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Current loaded band
To: kbe at MIT-OZ, BUG-LISPM at MIT-OZ
Cc: KBE-I at MIT-OZ
In-reply-to: The message of 14 Oct 82 00:36-EDT from File Transfer Login <kbe at MIT-OZ>

The soon-to-be-released Software Installation Guide has documentation on the
stuff you are asking about, in its "appendix B", section B.2

     * What band is loaded? 
       Right now, I guess I can do
	(FORMAT NIL "~C" (LDB 2010 SI:CURRENT-LOADED-BAND))
This is what I documented, in fact.  Perhaps we should have a better-named
function that does this; I had to document the kludgey variable.

     * What unit is currently selected? Otherwise, the band info makes little sense.
Um, what do you mean?  Cold booting always uses disk unit 0, I think.  I don't
know if there's a way to tell if you have disk-restored from a different unit.
If so, I'd like to know too.

     * What additional info is there about the band?
	(IF (BOUNDP 'SI:SYSTEM-ADDITIONAL-INFO) SI:SYSTEM-ADDITIONAL-INFO)
       works, but it makes a lot of system internal assumptions that I'd rather
       not be making.
In the latest system, that variable is always supposed to be NIL or a string,
and it is an externally-advertised variable (once my document hits the presses,
anyway).

     * What system version is running?
       (SI:GET-SYSTEM-VERSION [version]) seems to do this fine. 
       It should be made global or otherwise advertised as a supported feature.
It IS advertised as a suppored feature.  It's in the LMMAN.  Lots of SI functions
are supported features.

     * What microcode is running?
       SI:%MICROCODE-VERSION-NUMBER seems to hold this. It should be advertised.
Whoops, I left this out of B.2.  In it goes.

    Also, but not for this particular application, I have wanted to have programs
    know what the current default band and microcode is (the things C-M-C-M-Rubout
    would select; the ones with the * by them in PRINT-DISK-LABEL) so that I could
    compare them to what's loaded and make certain decisions based on that.
si:current-band, si:current-microload.  I'll document them too (in B.3).
14-Oct-82 10:42:19-EDT,364;000000000000
Mail-From: ZVONA created at 14-Oct-82 10:39:19
Date: Thursday, 14 October 1982  10:39-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   kmp at MIT-OZ
Cc:   BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
Subject: Current loaded band

This seems like more evidence that the entire bands mechanism is a
crock and should be merged into the file system.
-------
14-Oct-82 12:03:52-EDT,609;000000000000
Date: Thursday, 14 October 1982, 11:49-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Current loaded band
To: ZVONA at MIT-MC, kmp at MIT-OZ
Cc: BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
In-reply-to: The message of 14 Oct 82 10:39-EDT from ZVONA at MIT-MC

    Date: Thursday, 14 October 1982  10:39-EDT
    From: ZVONA at MIT-MC
    This seems like more evidence that the entire bands mechanism is a
    crock and should be merged into the file system.
Of course.  If I were to answer this correctly certain people would
accuse me of using MIT computers for crass commercial purposes, etc.
14-Oct-82 12:07:57-EDT,450;000000000000
Date: Thursday, 14 October 1982, 12:07-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Syntax of Period in word commands, in Lisp mode
To: info-lispm-mit at MIT-OZ

Do you think that the character Period should separate words
in Lisp mode?

This would probably be better when editing strings and comments.  It
might be wrong, sometimes, while editing the code, but maybe this would
be infrequent.  So I would like to hear opinions.
14-Oct-82 12:27:06-EDT,884;000000000000
Date: Thursday, 14 October 1982  12:19-EDT
From: MMCM at SCRC-TENEX
To:   KMP at OZ
Cc:   BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
Subject: Current loaded band
In-reply-to: The message of 14 Oct 1982 00:36-EDT from File Transfer Login <kbe at MIT-OZ>

    Date: Thursday, 14 October 1982, 00:36-EDT
    From: File Transfer Login <kbe at MIT-OZ>
    I want users of my KBE system to be able to run a ZWEI command, M-X Bug KBE,
    which will be like M-X Bug, but which will do some presetting of the buffer.

    I have asked before about the idea of making a hook for M-X Bug so that I wouldn't
    have to have my own M-X command to do this. I would still like that feature.
In system 211+, each system can have its own template for bug reports.  This
allows you to do anything you want for bug reports send from zmail.
Unfortunately, M-X Bug does cannot use templates.
14-Oct-82 12:35:17-EDT,459;000000000000
Date: Thursday, 14 October 1982  12:27-EDT
From: MMCM at SCRC-TENEX
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ
Subject: Current loaded band
In-reply-to: The message of 14 Oct 1982 09:49-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

Should we be documenting the interface functions for the current
microcode version that work compatibly on the l machine?  Or not worry
about it, since the world load is different anyway?
14-Oct-82 12:45:43-EDT,812;000000000000
Date: Thursday, 14 October 1982, 11:33-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Current loaded band
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: kbe at MIT-OZ, BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
In-reply-to: The message of 14 Oct 82 09:49-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Thursday, 14 October 1982, 09:49-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	 * What unit is currently selected? Otherwise, the band info makes little sense.
    Um, what do you mean?  Cold booting always uses disk unit 0, I think.  I don't
    know if there's a way to tell if you have disk-restored from a different unit.
    If so, I'd like to know too.
Since the %DISK-RESTORE function doesn't take the unit as an argument,
you can't disk-restore from a different unit.
14-Oct-82 15:12:14-EDT,1083;000000000000
Mail-From: KMP created at 14-Oct-82 15:10:08
Date: 14 Oct 1982 1510-EDT
From: KMP at MIT-OZ
Subject: Re: Current loaded band
To: RWK at SCRC-TENEX
cc: dlw at SCRC-TENEX, kbe at MIT-OZ, BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
In-Reply-To: Your message of 14-Oct-82 1243-EDT

Well, we only have one unit anyway, so it's not like I mean it matters
for tomorrow. I assume it's easy to add args to functions and it'd be nice
if code could be ready for such extensions. The question was, are you willing
to document that LOD bands must be on pack 0? If so, then it's fine. If not,
then you want to have a variable SI:%LOADED-UNIT or some such, which happens
to always be 0. Naturally, you'd also want SI:%CURRENT-UNIT to also always
be 0 (one being what is DISK-RESTOREd, the other being what the default
would be on c-m-c-m-Rubout). It seems to me a severe restriction that
LOD bands would have to be on Unit 0. I can't believe that if people buy more
than one disk, they'll want to manually shuffle packs to be able to have more
LOD bands than a disk will hold.
-------
14-Oct-82 15:19:13-EDT,1014;000000000000
Mail-From: KMP created at 14-Oct-82 15:17:56
Date: 14 Oct 1982 1517-EDT
From: KMP at MIT-OZ
Subject: Re: Current loaded band
To: MMCM at SCRC-TENEX
cc: BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
In-Reply-To: Your message of 14-Oct-82 1248-EDT

As you might expect, I'm not happy with having to go into ZMail to get a
functionality that is so obviously useful. I don't like things which force
me to make mental distinctions between things which are different only because
of implementational issues. Sending bug mail is sending bug mail so if it's
done via M-X Bug, it should be the same as if it's done from ZMail. Many of
my users are not going to be bothered going into ZMail when they can send
bug reports from M-X Bug in the same editor window they are in. As slow as
window switching still is, I can't say as I blame them. As a result, I'll
still get bug reports from the M-X Bug command and they won't have the info
I want because whatever templates you have will tend not to get used. 
-------
14-Oct-82 16:13:00-EDT,655;000000000000
Date: 14 October 1982 16:03-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  [RMS: Syntax of Period in word commands, in Lisp mode]
To: info-lispm at SCRC-TENEX

Your opinion doesn't count I guess.

Date: Thursday, 14 October 1982, 12:07-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
To:   info-lispm-mit at MIT-OZ
Re:   Syntax of Period in word commands, in Lisp mode

Do you think that the character Period should separate words
in Lisp mode?

This would probably be better when editing strings and comments.  It
might be wrong, sometimes, while editing the code, but maybe this would
be infrequent.  So I would like to hear opinions.
14-Oct-82 16:30:50-EDT,517;000000000000
Date: Thursday, 14 October 1982, 16:22-EDT
From: webster p dove <g.dove at MIT-EECS>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Marvin:

In ee:<g.dove>testarray.l is some code to test the spaced used by arefs on complex arrays.
It appears that referencing an entire complex-float-array of 1024. length 256 times
uses 2kw of space.  Doing the same with float arrays uses no space.  Is that fixable?
14-Oct-82 17:13:32-EDT,481;000000000000
Date: Thursday, 14 October 1982, 16:55-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Current loaded band
To: MMCM at SCRC-TENEX
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 14 Oct 82 12:27-EDT from MMCM at SCRC-TENEX

No, I don't think there's any point, since everything in this area
will be so different on the L-machine anyway.  We'll need a whole
new software installation guide for it anyway; at least 30% of
the material will have to be changed.
14-Oct-82 17:52:57-EDT,1033;000000000000
Date: Thursday, 14 October 1982, 17:26-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Current loaded band
To: RWK at SCRC-TENEX
Cc: dlw at SCRC-TENEX, kbe at MIT-OZ, BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
In-reply-to: The message of 14 Oct 82 11:33-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Thursday, 14 October 1982, 11:33-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
	Date: Thursday, 14 October 1982, 09:49-EDT
	From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	     * What unit is currently selected? Otherwise, the band info makes little sense.
	Um, what do you mean?  Cold booting always uses disk unit 0, I think.  I don't
	know if there's a way to tell if you have disk-restored from a different unit.
	If so, I'd like to know too.
    Since the %DISK-RESTORE function doesn't take the unit as an argument,
    you can't disk-restore from a different unit.
That could be fixed easily if anybody thinks it's worth it.
Note that it would require a new cold-load and incompatible microcode.
14-Oct-82 17:59:39-EDT,641;000000000000
Date: Thursday, 14 October 1982, 17:37-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Current loaded band
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: kbe at MIT-OZ, BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
In-reply-to: The message of 14 Oct 82 09:49-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>,
             The message of 14 Oct 82 00:36-EDT from File Transfer Login <kbe at MIT-OZ>

You should certainly document SI:SYSTEM-VERSION-INFO, the function that
Mr. Login probably wants to call, and possibly ZWEI:PARSE-BUG-ARG, the
function that makes the string that goes at the front of a bug report,
should be documented.
14-Oct-82 22:27:23-EDT,308;000000000000
Date: Thursday, 14 October 1982, 22:21-EDT
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC



When you say r(eply) top the window that pops up when you gets a
qsend, you should then be able to say c-m-y to yank the body of
the message you are replying to into your reply buffer.
15-Oct-82 00:27:04-EDT,615;000000000000
Date: Friday, 15 October 1982, 00:09-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Compiler warnings and such
To: KMP at MIT-MC
Cc: BUG-LISPM at MIT-OZ, Stryker at SCRC-TENEX, Cassels at SCRC-TENEX
In-reply-to: The message of 11 Oct 82 20:04-EDT from KMP at MIT-MC

I am working on consolidating the compiler warnings system with the new
error system.  When this is complete, all warnings signalled during
compilation context will be recorded in the compiler warnings database.
I need to do this anyway so that the fortran and lil compilers can
interface better to the compiler warnings system.
15-Oct-82 00:27:26-EDT,417;000000000000
Date: Friday, 15 October 1982, 00:13-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: dove at MIT-DSPG
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 13 Oct 82 14:22-EDT from Webster Dove <dove at MIT-DSPG>

Yes, it's true that ALLOCATE-RESOURCE conses one word per resource
parameter.  I had a theory on how to fix this a while ago, but never got
around to implementing it.  I guess I'll look again...
15-Oct-82 00:41:43-EDT,786;000000000000
Date: Friday, 15 October 1982, 00:24-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Current loaded band
To: kbe at MIT-OZ, KMP at MIT-OZ
Cc: BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
In-reply-to: The message of 14 Oct 82 00:36-EDT from File Transfer Login <kbe at MIT-OZ>

    Date: Thursday, 14 October 1982, 00:36-EDT
    From: File Transfer Login <kbe at MIT-OZ>
    I want users of my KBE system to be able to run a ZWEI command, M-X Bug KBE,
    which will be like M-X Bug, but which will do some presetting of the buffer.

    I have asked before about the idea of making a hook for M-X Bug so that I wouldn't
    have to have my own M-X command to do this. I would still like that feature.
There are hooks for this in 218, refer to the source and documentation.
15-Oct-82 00:57:40-EDT,900;000000000000
Date: Friday, 15 October 1982, 00:41-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Current loaded band
To: dlw at SCRC-TENEX
Cc: kbe at MIT-OZ, BUG-LISPM at MIT-OZ, KBE-I at MIT-OZ
In-reply-to: The message of 14 Oct 82 09:49-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Thursday, 14 October 1982, 09:49-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>

	 * What additional info is there about the band?
	    (IF (BOUNDP 'SI:SYSTEM-ADDITIONAL-INFO) SI:SYSTEM-ADDITIONAL-INFO)
	   works, but it makes a lot of system internal assumptions that I'd rather
	   not be making.
    In the latest system, that variable is always supposed to be NIL or a string,
    and it is an externally-advertised variable (once my document hits the presses,
    anyway).
Wrong.  Anything that expects it to be NIL is wrong; it is the null
string if there is no additional info.
15-Oct-82 01:36:33-EDT,658;000000000000
Mail-From: RPK created at 15-Oct-82 01:33:55
Date: 15 October 1982  01:33-EDT (Friday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
To:   BUG-LISPM at MIT-OZ
Subject: Questions on ZWEI modes

How do I get files with type "FOO" to put ZWEI in a certain mode ?
Specifically, I'd like ZWEI to put TeX files in Text Mode (unless somebody
has written a TeX mode).

That brings up another point: at the moment, the set of ZWEI major modes is a
subset of EMACS major modes.  How do I link what ``would be'' Scribe mode to
Text mode (as a temporary fix) ?  This is a separate issue from the one
described above.

``Bob''
-------
15-Oct-82 10:17:12-EDT,1741;000000000000
Mail-From: KMP created at 15-Oct-82 03:04:08
Date: Friday, 15 October 1982  03:04-EDT
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   BUG-LISPM at MIT-OZ
Subject: DEFSYSTEM

It turns out that in my KBE system, there are many files which are depended on by
the rest of the system following it. It would be nice if I could do something
like:

(DEFSYSTEM KBE
   (:module FOO1 ...)
   ...more module defs...

   (:compile-load-init FOO1 ...)
   (:compile-load-init FOO2 ...)
   (:sticky-compile-load-init (FOO1)
	                      (:fasload FOO1)
	                      (:fasload FOO1 FOO2))
   (:compile-load-init BAR1 (X)
		            (:fasload Y))
   (:compile-load-init BAR2 (A)
		            (:fasload B C))
   ... etc ...)

and have that mean the same as 

(DEFSYSTEM KBE
   (:module FOO1 ...)
   ...more module defs...

   (:compile-load-init FOO1 ...)
   (:compile-load-init FOO2 ...)
   (:compile-load-init BAR1 (FOO1 X)
		            (:fasload FOO1 Y)
			    (:fasload FOO1 FOO2))
   (:compile-load-init BAR2 (FOO1 A)
		            (:fasload FOO1 B C)
			    (:fasload FOO1 FOO2))
   ... etc ...)

ie, i want to indicate that all files for the rest of this system definition
have a certain dependency. This is just a shorthand notation, but it would make
my now rather-large dependency graph a lot more readable.

Some details would have to be worked out like what happens if a compile-load
follows such a sticky request. I am inclined to believe that it should be converted
to a compile-load-init at that point invisibly to you.

I certainly find that DEFSYSTEM makes it very clumsy to express the truths about
my system. I wish it could be done more concisely.
-kmp
-------
15-Oct-82 10:56:49-EDT,1478;000000000000
Date: Friday, 15 October 1982, 10:47-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Questions on ZWEI modes
To: RPK at MIT-MC, doc-changes at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 15 Oct 82 01:33-EDT from Robert P. Krajewski <RPK at MIT-MC>

    Date: 15 October 1982  01:33-EDT (Friday)
    From: Robert P. Krajewski <RPK at MIT-MC>
    How do I get files with type "FOO" to put ZWEI in a certain mode ?

(PUSH '("TEX" . :TEXT) FS:*FILE-TYPE-MODE-ALIST*)

				  How do I link what ``would be'' Scribe mode to
    Text mode (as a temporary fix)?
There's no way to do this.  It sounds like a useful feature, so I put it
in.  Patched in 218.24, as follows:

;;; This variable is a hook for a user feature.  It is an alist of mode-names
;;; to mode-names, expressed as keyword symbols.  If Emacs supports Scribe
;;; mode, but Zmacs doesn't, and you want Zmacs to use Text mode, then
;;; you push (:SCRIBE . :TEXT) onto this list.
(DEFVAR *MAJOR-MODE-TRANSLATIONS* NIL)

Both of these things will be documented in the 218 release notes, although
only the latter is actually new.

By the way, I am happy to announce that the political situation with MIT
has been resolved sufficiently that there is nothing political
preventing us from releasing 218.  As soon as we declare it "released",
we will get it to you immediately; right now there are still some rather
severe bugs in 218, but we should have it all fixed soon.
15-Oct-82 16:12:32-EDT,902;000000000000
Date: 15 October 1982 11:14-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: BUG-HARDWARE at MIT-AI, INFO-LISPM at MIT-AI

Attempts, possibly ill-fated, are being made to restore the Lab's Lisp
Machines to their former pristine state, after the late summer madness.  You
can help by sending mail to BUG-HARDWARE telling if you have broken
keyboards, mice, memory boards, or other Lisp Machine components sitting
around in your office, machine room, automobile, or what have you.  Better
yet, you could bring them to 936.

If your machine or machines have less than 256K of memory, send mail to
BUG-HARDWARE.  It is no longer necessary or even desirable to cannibalize or
gut other machines to make yours work; and it is no longer a good idea to
steal, hoard, or lock up Lisp Machine components.  So if you got 'em, give
'em back, or we'll snip some wires on your backplanes, O.K.?

15-Oct-82 23:03:29-EDT,1080;000000000000
Date: Friday, 15 October 1982, 08:30-EDT
From: Henry David Thoreau <Hdt at MIT-OZ>
To: BUG-LISPM at MC
Cc: Hdt at OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.65, ZMail 46.10, microcode 173, upto date,
on Lisp Machine Twenty-four:

Could someone tell me how to get the control and control-meta
bits to get passed through as well?  Is there some other message
to use or is there a bug somewhere?  In the following code, the
control-Z and the c-m-y seem to get stripped of their bits.

(DEFUN FOO (&OPTIONAL (STREAM STANDARD-INPUT))
  (IF (AND (NOT RUBOUT-HANDLER)
	   (MEMQ ':RUBOUT-HANDLER (FUNCALL STREAM ':WHICH-OPERATIONS)))
      (FUNCALL STREAM ':RUBOUT-HANDLER
	       '((:PASS-THROUGH #\END #\C-M-Q #\C-M-Y #\C-Z #\c-C)) #'FOO)
      (DO ((COLLECT (MAKE-ARRAY 100 ':TYPE 'ART-STRING ':LEADER-LIST '(0)))
	   (C))
	  (NIL)
	(SETQ C (FUNCALL STREAM ':TYI))
	(AND (MEMQ C '(#\END #\C-Z #\C-C NIL))
	     (RETURN COLLECT))
	(AND (MEMQ C '(#\C-M-Y)) (SETQ C "Insert me."))
	(ARRAY-PUSH-EXTEND COLLECT C))))

16-Oct-82 01:57:24-EDT,1163;000000000000
Date: Saturday, 16 October 1982, 01:52-EDT
From: Knowledge Based Editor <KBE at MIT-OZ>
Subject: confusing FORMAT error diagnostics
To: BUG-LISPM at MIT-OZ

In System 210.128,...

When you run the following function:

(defun abc ()
  (format t "~%This loses.~
             ~"))

you'll note that the error message it yields points off into hyperspace as 
in:

			     
   "~%This loses.
             ~"

or some such. Apparently whoever wrote the code that figured out where the
arrow went didn't think about what happens if the string contains crlf. It
looks like it picks the index of the losing character in the format string
and just spaces over that many chars. Rather, it should compute the x cursor
motion involved in displaying the substring of the format string up to the 
erring point and put the arrow over that. 

The reason that this matters is that I had a very huge string and was
completely mis-interpreting the "command fell off end" error to mean that
i had run out of args rather than that i had a "~" as the last character
because the error indicator wasn't pointing anywhere close to the right
place.

-kmp
16-Oct-82 03:07:11-EDT,831;000000000000
Date: Saturday, 16 October 1982, 03:01-EDT
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ


In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.64, ZMail 46.10, microcode 173, Use me, on Lisp Machine
Twenty-three:

I used H-C-E to evaluate a call to ADVISE that I store in a file for
occasional use.  I then used H-C-C to recompile the original definition
of the function after changing it.  The original definition was in a
different file.

Advising and redefining are not the same and are supposed to be
orthogonal, but in the H-C-C I got a warning to the effect that the
function (which happens to be a method) was being illegally redefined.
The advice file then appeared on the source-file-name property of the
function spec under DEFUN; that is wrong in the same way.
16-Oct-82 05:11:59-EDT,782;000000000000
Mail-From: RMS created at 16-Oct-82 05:10:23
Date: 16 Oct 1982 0510-EDT
From: RMS at MIT-OZ
Subject: crass commercial purposes
To: bug-lispm at MIT-OZ

You are all welcome to mention as much as you like of how your
proprietary software or hardware works, or how you hope it will work,
on this mailing list.  It is inaccurate to site the possibility of
criticism as a reason for not doing so, at least if you have me in mind.
(I can't tell what anyone else will criticize).

I will certainly make sure your ideas, if useful, receive the widest
possible audience among people who can use them.  For that matter,
I will use them myself.

Perhaps therefore it is possible to speculate on the kind of purpses
that underlie NOT sending such ideas to this list.
-------
16-Oct-82 07:11:37-EDT,2269;000000000000
Date: 16 Oct 1982 0702-EDT
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: crass commercial purposes
To: RMS at MIT-OZ
cc: bug-lispm at MIT-OZ
In-Reply-To: Your message of 16-Oct-82 0515-EDT

RMS, in the past when we have said "The L-machine does the following
and that will solve your problem", we have indeed been accused of
abusing our MIT network connection for purposes of advertising.  We
value this network connection, and strive hard to use it in a proper
fashion so that the AI lab will continue to allow us to operate it.
Therefore, we have generally tried to be very careful about not sending
any messages that might be misinterpreted as advertisements.  I'm glad
to hear that it's OK with you if we freely discuss aspects of how the
L-machine works; I hope it's OK with everybody else.  If there is anyone
on this list who feels that it is inappropriate for us to discuss
the L-machine, and that such discussion would constitute "advertising"
or other improper use of our network connection, please let me know.

As for your "speculation on the kinds of purposes that underlie NOT
sending such ideas", it would appear that you are confusing the
notions of "proprietary" and "secret".  Nearly every book published
in the world is "properitary" in that it is copyrighted, but you can
go into a book store or library and read the book.  New inventions
that are proprietary are protected by patents, and you can order any
patent you'd like from the U.S. Govt. for 50 cents or so.

A document called the "3600 Technical Summary" in under preparation
at Symbolics.  It is a semi-technical, semi-marketing document that
discussed in moderate detail how the hardware and software of the
3600 (L-machine) work; not enough detail to be an actual reference
guide, but enough to generally explain the principles of the machine
and to answer the question "OK, what is this product, anyway?".  I'm
sure that as soon as this document is printed, many copies will appear
at MIT, requested by MIT people from the Symbolics sales dept.

We have never tried to be secretive about how the L-machine works.
Rather, we have tried to be careful to use our network connection
only in the fashion that is considered proper.
-------
16-Oct-82 14:38:40-EDT,465;000000000000
Date: Saturday, 16 October 1982, 14:33-EDT
From: William A. Kornfeld <BAK at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 210.128, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 25, u903, on Lisp Machine Eight:

If the compiler runs across a SETF property that can't be inverted, it
causes a Lisp error and does not create an entry for Compiler Warnings.
The preferred behavior would be to continue compiling and add a compiler
warning.
16-Oct-82 19:23:18-EDT,621;000000000000
Date: Saturday, 16 October 1982, 19:20-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.55,
ZMail 46.10, Experimental DPL 1.0, microcode 179, win,
on Lisp Machine Apiary-2:

What is the approved way of giving packages short names?  For instance,
I have a package "process-parameters" which I would like to be able to
refer to as "pp".  This package would be under DPL, not under global.
I know of a way of kludging it with Pkg-Refname-Alist but I would
rather be able to do it directly within Package-Declare.

Daniel
16-Oct-82 19:58:08-EDT,1088;000000000000
Date: Saturday, 16 October 1982, 19:52-EDT
From: David D. McDonald <DDM at MIT-OZ>
Subject: apparently spurious "frame still accumulating args." msg from the debugger
To: BUG-LISPM at MIT-MC

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.67, ZMail 46.10, microcode 179, win,
on Lisp Machine Eighteen:

I was thwarted in trying to C-R out of an error that I wanted to put-off debugging, because
the debugger insisted that the frame I wanted to return from was still accumulating
arguments and thus the C-R couldn't go through.  This happened even though the
function in question had NO ARGUMENTS -- i.e. the error was definately occuring down
within the function's body, not in the evaluation of its (non-existant) arguments
as it was being called.
   Replicating the environment here could be tedious as it occured 15 minutes into
loading my generator and the file involved can't be loaded on its own.  I did take
a <terminal>-Q of the screen at the time, showing the stack and a grindef of the
function involved if that will help.
16-Oct-82 21:45:44-EDT,471;000000000000
Date: Saturday, 16 October 1982, 21:43-EDT
From: Daniel Weise <DANIEL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.58,
ZMail 46.10, Remote-File 15.2, Experimental Local-File 40.4,
Experimental DPL 1.0, microcode 173, lakjdflkalkfjalkjdlkjaslkj,
on Lisp Machine Apiary-1:

Why is it considered a bug to Pkg-goto a package that contains
subpackages?  It seems like a well formed operation to me.

Daniel
16-Oct-82 22:56:01-EDT,850;000000000000
Mail-From: EB created at 16-Oct-82 22:53:39
Date: 16 Oct 1982 2253-EDT
From: Ed Barton <EB at MIT-OZ>
To: DANIEL at MIT-OZ
cc: BUG-LISPM at MIT-OZ, EB at MIT-OZ
In-Reply-To: Your message of 16-Oct-82 2145-EDT

    Date: Saturday, 16 October 1982, 21:43-EDT
    From: Daniel Weise <DANIEL at MIT-OZ>
    To: BUG-LISPM at MIT-OZ
    Why is it considered a bug to Pkg-goto a package that contains
    subpackages?  It seems like a well formed operation to me.

Probably because it matters a lot what symbols you type while
you have pkg-goto'ed a package that has subpackages.  By typing
one of them you insert it in the superpackage, where it should
be inherited as the same symbol by all of the subpackages and
hence become shared by all of them.  Of course I didn't implement
PKG-GOTO so that might not be the real reason.
-------
16-Oct-82 23:35:57-EDT,1204;000000000000
Mail-From: DANIEL created at 16-Oct-82 23:31:06
Date: Saturday, 16 October 1982  23:31-EDT
Sender: DANIEL at MIT-OZ
From: DANIEL at MIT-MC
To:   Ed Barton <EB at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 16 Oct 1982  22:53-EDT from Ed Barton <EB>

    From: Ed Barton <EB>
    To:   DANIEL
        Why is it considered a bug to Pkg-goto a package that contains
        subpackages?  It seems like a well formed operation to me.
    Probably because it matters a lot what symbols you type while
    you have pkg-goto'ed a package that has subpackages.  By typing
    one of them you insert it in the superpackage,
Why is this?  Either I am confused or packages are.  If I am in
package BAR with subpackage FOO when I type FOO:Bletch one of two
things should happen:
1) If foo:bletch existed then it returns it values and no obarrays are changed.
2) If foo:bletch didn't exist then it would get interned in FOO and I would
   get an unbound variable message.  
Is it is the case that I can get foo:bletch by typing bletch without the
prefix?  This would be wrong.

There is a gross bug somewhere if I can't PKG-GOTO to any package
anywhere.

Daniel
-------
16-Oct-82 23:42:58-EDT,457;000000000000
Date: Saturday, 16 October 1982  23:39-EDT
From: MOON at SCRC-TENEX
To:   Daniel Weise <Daniel at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: Giving packages nicknames
In-reply-to: The message of 16 Oct 1982 19:20-EDT from Daniel Weise <Daniel at MIT-OZ>

Use the MYREFNAME option to PACKAGE-DECLARE.  It isn't in the manual for
some reason.  The format if I remember it correctly is
	(PACKAGE-DECLARE FOOBAR SYSTEM 2000
		(MYREFNAME GLOBAL FOO))
17-Oct-82 00:01:23-EDT,1982;000000000000
Mail-From: EB created at 16-Oct-82 23:57:09
Date: 16 Oct 1982 2357-EDT
From: Ed Barton <EB at MIT-OZ>
To: DANIEL at MIT-MC
cc: BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 16-Oct-82 2331-EDT

    Date: Saturday, 16 October 1982  23:31-EDT
    From: DANIEL at MIT-OZ
	From: Ed Barton <EB>
	To:   DANIEL
	    Why is it considered a bug to Pkg-goto a package that contains
	    subpackages?  It seems like a well formed operation to me.
	Probably because it matters a lot what symbols you type while
	you have pkg-goto'ed a package that has subpackages.  By typing
	one of them you insert it in the superpackage,
    Why is this?  Either I am confused or packages are.  If I am in
    package BAR with subpackage FOO when I type FOO:Bletch one of two
    things should happen:
    1) If foo:bletch existed then it returns it values and no obarrays are changed.
    2) If foo:bletch didn't exist then it would get interned in FOO and I would
       get an unbound variable message.  

Yes, that much is right.  But suppose you have done (PKG-GOTO 'GLOBAL),
for instance, and you type (fboundp 'set-up-tables).  The symbol
GLOBAL:SET-UP-TABLES will have been created as a result of your
typing.  Now suppose you load the code masses FOO-PROGRAM and
BAR-PROGRAM into the subpackages FOO and BAR, respectively.
Suppose FOO-PROGRAM and BAR-PROGRAM both contain definitions
(defun set-up-tables () ...).  If you hadn't messed with GLOBAL,
the symbols FOO:SET-UP-TABLES and BAR:SET-UP-TABLES would be
created as the files were read in; each symbol would receive
the appropriate definition.  But now that GLOBAL:SET-UP-TABLES
exists, SET-UP-TABLES is just like CAR and CDR; the symbol
with print-name "SET-UP-TABLES" in FOO is inherited from GLOBAL
and is the same symbol as the symbol with that print-name in BAR.
FOO:SET-UP-TABLES and BAR:SET-UP-TABLES are both EQ to GLOBAL:SET-UP-TABLES
and the definitions in the two files now conflict.
-------
17-Oct-82 00:17:55-EDT,760;000000000000
Date: Sunday, 17 October 1982, 00:15-EDT
From: Chris Hanson <HANSON at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.0, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.6,
ZMail 47.3, Experimental Local-File 40.5, microcode 183, Filer,
on Lisp Machine One:

While doing (MAKE-SYSTEM 'LOCAL-FILE), the following occurred:

1.  SYSTEM Remote-File being redefined by SYS: FILE; FS ... (E, P, Y, or N)?
    This seems losing -- if it is purposefully redefining the system,
    there shouldn't be any warning.

2.  Error: Flavor LM-PROBE-STREAM is missing method :DIRECTION.
    I tried to fix this, but it appears that probe streams don't, in general,
    have :DIRECTION methods.  Not surprising, since it doesn't make any sense.

- Chris
17-Oct-82 00:50:51-EDT,2243;000000000000
Mail-From: DANIEL created at 17-Oct-82 00:45:02
Date: Sunday, 17 October 1982  00:44-EDT
Sender: DANIEL at MIT-OZ
From: DANIEL at MIT-MC
to:   BUG-LISPM at MIT-OZ
cc:   bug-lmman at MIT-OZ

    From: Ed Barton <EB>
      From Daniel
        From EB
          From: DANIEL at MIT-OZ
          Why is it considered a bug to Pkg-goto a package that contains
    	  subpackages?  It seems like a well formed operation to me.
       	Probably because it matters a lot what symbols you type while
    	you have pkg-goto'ed a package that has subpackages.  By typing
    	one of them you insert it in the superpackage,
      Why is this?  Either I am confused or packages are.  If I am in
      package BAR with subpackage FOO when I type FOO:Bletch one of two
      things should happen:
      1) If foo:bletch existed then it returns it values and no obarrays are changed.
      2) If foo:bletch didn't exist then it would get interned in FOO and I would
         get an unbound variable message.  

    Yes, that much is right.  But suppose you have done (PKG-GOTO 'GLOBAL),
    for instance, and you type (fboundp 'set-up-tables).  The symbol
    GLOBAL:SET-UP-TABLES will have been created as a result of your
    typing.  Now suppose you load the code masses FOO-PROGRAM and
    BAR-PROGRAM into the subpackages FOO and BAR, respectively.
    Suppose FOO-PROGRAM and BAR-PROGRAM both contain definitions
    (defun set-up-tables () ...).  If you hadn't messed with GLOBAL,
    the symbols FOO:SET-UP-TABLES and BAR:SET-UP-TABLES would be
    created as the files were read in; each symbol would receive
    the appropriate definition.  But now that GLOBAL:SET-UP-TABLES
    exists, SET-UP-TABLES is just like CAR and CDR; the symbol
    with print-name "SET-UP-TABLES" in FOO is inherited from GLOBAL
    and is the same symbol as the symbol with that print-name in BAR.
    FOO:SET-UP-TABLES and BAR:SET-UP-TABLES are both EQ to GLOBAL:SET-UP-TABLES
    and the definitions in the two files now conflict.

Your're right.  There's no way to win.  As implemented hierarchical packages are
useless in interactive systems.  I sure hope the documentation gets updated
to point this out.

Daniel
-------
17-Oct-82 01:04:44-EDT,2816;000000000000
Date: Sunday, 17 October 1982, 00:58-EDT
From: Barmar at multics
Sender: s.barmar at MIT-EECS
Subject: finger /free-lisp-machines on MIT-EECS
To: bug-twenex at ee, bug-lispm at ee

I don't know whether it is the LispM's who are confused or MIT-EECS, but
there is contradictory information in the output of "@finger /f".  It
shows me logged in on FORD, but also lists FORD under free lisp
machines.  Here is the output:

[PHOTO:  Recording initiated  Sun 17-Oct-82 12:53AM]
Link from S.BARMAR, TTY110
 TOPS-20 Command processor 4(641)
@finger /f	$*ee-lisp-machines 
 User    Name                Job Subsys Idle TTY Console Location
BARMAR   Barry W. Margolin    14 EXEC       .110 38-344 VT100 row 2,#1 x4650 
                              37 EXEC      5.152 CHAOS site MIT-FORD 
BB       JAMES W. BISHOP JR.  24 DIRECT    2  45 Subspace Communication Channel 
BCN      Clifford Neuman      22 EMACS     4.104 Magrathea Planets Ltd. x2737 
BOPPO    Boppo Buddy.          6 WATCH  *:** 134 Job 1, OPERATOR, SYSJB1 
DARTH    Alex T. Ishii        29 TED        . 22 38-344 VT100 row 6,#3 x4650 
DH                            31 EXEC      1.115 38-344 VT100 row 5,#4 x4650 
DSB      Duane S. Boning      28 TED        . 26 38-344 VT100 row 7,#3 x4650 
FHK                            7 TED         113 38-344 VT100 row 5,#1 x4650 
FRODO    Frodo Baggins        13 EMACS     1.  3 Sirius Cybernetics x3-2737 
JDM      Jonathan D. Miller   36 EMACS      .112 38-344 VT100 row 5,#3 x4650 
JUAN     Juan Loaiza          35 EMACS     1.114 38-344 VT100 row 5,#2 x4650 
LAI      Richard Lai          27 EMACS       106 38-344 VT100 row 2,#4 x4650 
LAURA    Laura D. Bagnall     33 EXEC   4:04. 42 Subspace Communication Channel 
MP       Mark Plotnick         8 TELNET     . 41 Subspace Communication Channel 
SAKS     Joel A. Saks         32 DIRECT      102 38-344 VT100 row 3,#3 x4650 
SERAPHIN                      30 TED        . 21 38-344 VT100 row 7,#4 x4650 
SPORES   Steven Soares        19 EXEC       .101 38-344 VT100 row 3,#1 x4650 
STEVER   Stephen E. Robbins   34 OZ         . 46 Subspace Communication Channel 
TAWY     Alan W. Yueh         25 EXEC       . 43 Subspace Communication Channel 
TRAN85   Thuan Q. Tran        18 EMACS     1.120 38-344 VT100 row 4,#1 x4650 
TSM      Tim McNerney         12 CFTP      2.105 38-344 VT100 row 2,#3 x4650 
ZAHIR                         16 EXEC       .117 38-344 VT100 row 4,#2 x4650 
ZIPPY                         21 XINFO      .107 38-344 VT100 row 2,#2 x4650 
barmar   Barry W. Margolin       FORD      1     38-350 Derelict Spaceport x46 
MLY      Richard J. Mlynarik     MARVIN          38-350 Derelict Spaceport x46 
Free lisp machines: ZARNIWOOP, FORD, ARTHUR
@pop

[PHOTO:  Recording terminated  Sun 17-Oct-82 12:54AM]
17-Oct-82 01:12:10-EDT,658;000000000000
Mail-From: DANIEL created at 17-Oct-82 01:09:30
Date: Sunday, 17 October 1982  01:09-EDT
Sender: DANIEL at MIT-OZ
From: DANIEL at MIT-MC
To:   bug-lispm at MIT-OZ
cc:   bug-lmman at MIT-OZ
Subject: My last (short) note on the subject of packages.


I just got through carefully studying section 23.10 of the manual.  I
have to take back my comment about hierarchical packages being
useless.  However, they are unintuitive and not easy to use.  I read
23.10 before my first bug report without receiving enlightenment.
Paragraph 3 of 23.10 should not merely mention the "subtle pitfall,"
but should explain it in gory detail.

Daniel
-------
17-Oct-82 11:54:02-EDT,549;000000000000
Date: Sunday, 17 October 1982, 03:03-EDT
From: Chris Hanson <HANSON at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.67,
ZMail 46.10, Remote-File 15.3, Experimental Local-File 40.5,
microcode 179, Winner, on Lisp Machine Eight:

(FS:DIRECTORY-LIST (FS:MERGE-PATHNAME-DEFAULTS "OZ:SRC:<SCHEME.SCOMPL>*"
					       NIL
					       ':WILD
					       ':NEWEST))

does not return a complete list of the directory.  In specific, the first
(alphabetic) file in the directory is omitted.
17-Oct-82 12:01:52-EDT,1013;000000000000
Date: Sunday, 17 October 1982, 04:36-EDT
From: Knowledge Based Editor <KBE at MIT-OZ>
Subject: SI:FLAVOR-DEPENDS-ON-FLAVOR-P
To: BUG-LISPM at MIT-OZ

In System 210.126,...

SI:FLAVOR-DEPENDS-ON-FLAVOR-P does (GET FLAVOR 'FLAVOR) in several places without
verifying that the given flavor is defined in the current environment. I realize
it's sort of a good idea if I set things up so that the flavors the thing depends
on are loaded prior to the loading of the thing that depends on them, but the error
diagnostic that results is very poor. It just says that some argument to AR-1, NIL,
was of the wrong type while in SI:FLAVOR-DEPENDS-ON-FLAVOR-P. It's probably worth 
changing the (GET FLAVOR 'FLAVOR) to (OR (GET FLAVOR 'FLAVOR) (FERROR ...)) where
the FERROR gives more detail about the true nature of the error. It'll only cost
one instruction per check and will save infinite grief for poor mortals who hate
perusing system internal sources when they make typical user-level mistakes.
-kmp
17-Oct-82 12:06:01-EDT,1239;000000000000
Date: Sunday, 17 October 1982, 04:39-EDT
From: Chris Hanson <HANSON at MIT-OZ>
To: BUG-OZ at MIT-OZ, BUG-LISPM at MIT-OZ


I have been tracing down a bug in the FS:DIRECTORY-LIST on the lisp machine,
and determined that the lispm file server on OZ is not reading directories correctly.

The exact behavior is as follows:

1.  When asked for the directory list of a directory with wildcards (for example,
    a normal directory list), the header information of the directory is supplied,
    but the first entry of the directory is omitted; subsequent entries appear
    to be supplied correctly.

2.  When asked for the directory list of a single file, the header information
    is omitted, but the file entry is supplied.

I have traced this down to the point where the lisp machine is doing :LINE-IN
messages on the directory stream, and I'm fairly certain that the bug in in
the OZ file server.  I don't have any trouble with the same operations
being performed on the Local-File system.

I don't believe that the directory stream is at fault, because all that the
lisp machine does is ask the file server for a directory, then reads whatever
packets come back.  The packets coming back are wrong.

- Chris
17-Oct-82 13:28:01-EDT,769;000000000000
Date: Sunday, 17 October 1982, 13:27-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Re: crass commercial purposes
To: DLW at SCRC-TENEX, bug-lispm at MIT-OZ

I suspect that if you say only "The L machine fixes this problem",
people will consider that a crass advertisement, because it implicitly
shows a willingness to help the person only if he will buy an L machine.
It is the absense of other description of the problem, such as might enable
a person to implement the idea on whatever system he DOES use, that give
this impression.

I am very interested in hearing any L-machine ideas that I might find
useful to implement in the MIT Lisp machine system.  Or any non-L
machine ideas, too.

Don't fail to mention if any of them are patented.
17-Oct-82 13:57:22-EDT,196;000000000000
Date: Sunday, 17 October 1982, 13:53-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
To: HANSON at MIT-OZ, BUG-LISPM at MIT-OZ

A probe stream should have a :DIRECTION method that returns NIL.
17-Oct-82 16:17:45-EDT,557;000000000000
Date: Sunday, 17 October 1982, 16:05-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: (PKG-GOTO 'GLOBAL)
To: DANIEL at MIT-MC
Cc: BUG-LISPM at MIT-OZ, bug-lmman at MIT-OZ
In-reply-to: The message of 17 Oct 82 00:44-EDT from DANIEL at MIT-MC

Actually, given that (at least in 218) GLOBAL is *LOCKED*, I see no
reason to prevent PKG-GOTO from letting you go there.  It should tell
you it may not be what you want, perhaps even requiring you to
proceed from the debugger.  But it is not actually dangerous to do
so, just somewhat startling.
17-Oct-82 16:32:09-EDT,1061;000000000000
Mail-From: GREN created at 17-Oct-82 16:29:26
Date: 17 October 1982  16:29-EDT (Sunday)
Sender: GREN at MIT-OZ
From: Ian G. Macky <Phaedrus>
To:   Chris Hanson <HANSON at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ

    Date: Sunday, 17 October 1982, 04:39-EDT
    From: Chris Hanson <HANSON>
    To:   BUG-OZ, BUG-LISPM

    1.  When asked for the directory list of a directory with
	wildcards (for example, a normal directory list), the header
	information of the directory is supplied, but the first entry
	of the directory is omitted; subsequent entries appear to be
	supplied correctly.

I fixed this... turns out there was a <NL> missing, and the information
on the first file (which WAS there) was getting mised up with the DISK-
USAGE and SETTABLE-PROPERTIES header.

    2.  When asked for the directory list of a single file, the header
	information is omitted, but the file entry is supplied.

I looked at the reply to a DIRECTORY of LOGIN.CMD, and it contained the
same header information as when I asked for *.*.*

,Gren
-------
17-Oct-82 17:26:39-EDT,697;000000000000
Mail-From: GUMBY created at 17-Oct-82 17:06:09
Date: 17 October 1982  17:06-EDT (Sunday)
Sender: GUMBY at MIT-OZ
From: David Vinayak Wallace <GUMBY at MIT-MC>
To:   Richard M. Stallman <RMS at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ, HANSON at MIT-OZ
In-reply-to: The message of 17 Oct 1982 13:53-EDT from Richard M. Stallman <RMS at MIT-OZ>

    Date: Sunday, 17 October 1982, 13:53-EDT
    From: Richard M. Stallman <RMS at MIT-OZ>
    To: HANSON at MIT-OZ, BUG-LISPM at MIT-OZ

    A probe stream should have a :DIRECTION method that returns NIL.

Why? Since it's an invalid operation it ought to error. I don't think
it is a good idea to have gubbage operations return NIL.
-------
17-Oct-82 17:30:39-EDT,660;000000000000
Date: Sunday, 17 October 1982, 17:06-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: (PKG-GOTO 'GLOBAL)
To: RWK at SCRC-TENEX
Cc: DANIEL at MIT-MC, BUG-LISPM at MIT-OZ, bug-lmman at MIT-OZ
In-reply-to: The message of 17 Oct 82 16:05-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Sunday, 17 October 1982, 16:05-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Actually, given that (at least in 218) GLOBAL is *LOCKED*, I see no
    reason to prevent PKG-GOTO from letting you go there.
You are either making the assumption that all packages with subpackages
are locked, or fixing only a small percent of the possible lossages.
17-Oct-82 21:54:12-EDT,730;000000000000
Date: Sunday, 17 October 1982, 21:50-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: BAK at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 16 Oct 82 14:33-EDT from William A. Kornfeld <BAK at MIT-OZ>

    Date: Saturday, 16 October 1982, 14:33-EDT
    From: William A. Kornfeld <BAK at MIT-OZ>
    If the compiler runs across a SETF property that can't be inverted, it
    causes a Lisp error and does not create an entry for Compiler Warnings.
    The preferred behavior would be to continue compiling and add a compiler
    warning.
What would the output of the compiler be in such a case, or in the
general "error during macroexpansion" case?  I'm not trying to prove you
wrong, I'm just wondering.
17-Oct-82 22:11:48-EDT,581;000000000000
Date: Sunday, 17 October 1982  22:05-EDT
From: BEE at SCRC-TENEX
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BAK at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 17 Oct 1982 21:50-EDT from David L. Andre <DLA>
Subject: Non-invertable SETF's

I would like it to give a comiler-warning, and expand thusly

(SETF (LOSSAGE-PLUS quux) (CONS-100-WORDS)) =>
   (SI:UNDEFINED-SETF '(LOSSAGE-PLUS QUUX) (CONS-100-WORDS))

and have:

(DEFUN SI:UNDEFINED-SETF (BAD-FORM NEW-VALUE)
   (FERROR "~S Uninvertable SETF form, New value = ~S"
	   BAD-FORM NEW-VALUE)))
17-Oct-82 22:48:48-EDT,552;000000000000
Date: Sunday, 17 October 1982, 22:40-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: SI:FLAVOR-DEPENDS-ON-FLAVOR-P
To: KBE at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 17 Oct 82 04:36-EDT from Knowledge Based Editor <KBE at MIT-OZ>

    Date: Sunday, 17 October 1982, 04:36-EDT
    From: Knowledge Based Editor <KBE at MIT-OZ>
    SI:FLAVOR-DEPENDS-ON-FLAVOR-P does (GET FLAVOR 'FLAVOR) in several places without
    verifying that the given flavor is defined in the current environment.
Fixed and patched in 218.31.
17-Oct-82 23:17:34-EDT,579;000000000000
Date: Sunday, 17 October 1982, 23:13-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: confusing FORMAT error diagnostics
To: Knowledge Based Editor <KMP at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 16 Oct 82 01:52-EDT from Knowledge Based Editor <KBE at MIT-OZ>

    Date: Saturday, 16 October 1982, 01:52-EDT
    From: Knowledge Based Editor <KBE at MIT-OZ>

    Apparently whoever wrote the code that figured out where the
    arrow went didn't think about what happens if the string contains crlf.
You're quite right.  Fixed in the source.
17-Oct-82 23:25:14-EDT,1081;000000000000
Date: Sunday, 17 October 1982, 23:24-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Non-invertable SETF's
To: BEE at SCRC-TENEX, BAK at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 17 Oct 82 22:05-EDT from BEE at SCRC-TENEX,
             The message of 17 Oct 82 22:57-EDT from BAK at MIT-MC

I guess the correct generalization of what you both suggest is that any
error during macroexpansion of form <foo> should produce a warning and
compile into (EVAL '<foo>).  In other words, the macroexpansion error
will be delayed until run-time (and might even work then).

As far as the distinction of fatal errors from warnings, I plan to be
fixing this soon by changing the compiler warnings database to contain
conditions (which can fall into arbitrary classes) rather than just
strings describing the error.

Concerning other errors during compilation, I tend to think they should
still enter the debugger.  From my experience in system compilation,
most fatal errors mean that I won't be able to do much of anything more
without fixing it.
18-Oct-82 03:24:07-EDT,1420;000000000000
Date: Monday, 18 October 1982, 02:15-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Non-invertable SETF's
To: David L. Andre <DLA at SCRC-TENEX>, BEE at SCRC-TENEX, BAK at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 17 Oct 82 23:24-EDT from David L. Andre <DLA at SCRC-TENEX>

    Date: Sunday, 17 October 1982, 23:24-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
    In-reply-to: The message of 17 Oct 82 22:05-EDT from BEE at SCRC-TENEX,
		 The message of 17 Oct 82 22:57-EDT from BAK at MIT-MC

    I guess the correct generalization of what you both suggest is that any
    error during macroexpansion of form <foo> should produce a warning and
    compile into (EVAL '<foo>).

This would be a significant step backwards.  Rare indeed are the cases where
EVAL'ing some code out of the middle of a compiled function will work, since
the interpreter will not see the same local variables.  Getting an error
and getting thrown into the debugger at least gives you the chance of fixing
the problem and retrying the macroexpand, rather than guaranteeing that
the results of the compilation will be useless.

How about making it go into the debugger and providing a proceed type that
substitutes (FERROR "Uncompilable code: ~S" '<code>) for the offending
piece of code and continues compilation.  Those who prefer not to fix
the problem immediately can just hit Resume.
18-Oct-82 03:25:02-EDT,1489;000000000000
Date: Monday, 18 October 1982, 02:15-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Non-invertable SETF's
To: David L. Andre <DLA at SCRC-TENEX>, BEE at SCRC-TENEX, BAK at MIT-MC
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 17 Oct 82 23:24-EDT from David L. Andre <DLA at SCRC-TENEX>

    Date: Sunday, 17 October 1982, 23:24-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
    In-reply-to: The message of 17 Oct 82 22:05-EDT from BEE at SCRC-TENEX,
		 The message of 17 Oct 82 22:57-EDT from BAK at MIT-MC

    I guess the correct generalization of what you both suggest is that any
    error during macroexpansion of form <foo> should produce a warning and
    compile into (EVAL '<foo>).

This would be a significant step backwards.  Rare indeed are the cases where
EVAL'ing some code out of the middle of a compiled function will work, since
the interpreter will not see the same local variables.  Getting an error
and getting thrown into the debugger at least gives you the chance of fixing
the problem and retrying the macroexpand, rather than guaranteeing that
the results of the compilation will be useless.

How about making it go into the debugger and providing a proceed type that
substitutes (FERROR "Uncompilable code: ~S" '<code>) for the offending
piece of code and continues compilation.  Those who prefer not to fix
the problem immediately can just hit Resume.

As usual, :BATCH mode in MAKE-SYSTEM would proceed automatically.
18-Oct-82 11:12:53-EDT,870;000000000000
Date: Monday, 18 October 1982, 11:05-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at OZ

In System 210.128, ... 

With definitions in editor buffers named:
 definition-just-analyzed
 definition-last-analyzed-code
 definition-last-analyzed-time

I typed M-. and then in the mini-buffer typed

 def-j-an		; This didn't complete.
                        ; <HELP> said there were no valid completions
 def--an		; This completed to "definition--analyzed"
 definition-j-analyzed ; This completed to "definition-just-analyzed"

I'm curious why the original thing I typed didn't complete. There are
hundreds of other functions in my editor environment which may 
potentially be interacting in this, but I suspect not. In any case,
the statement by <HELP> that there were no valid completions for the
first string I tried seems clearly bogus.
18-Oct-82 22:57:25-EDT,481;000000000000
Date: Monday, 18 October 1982, 19:42-EDT
From: Carl Richard Feynman <CARLF at MIT-OZ>
Subject: minor font problem
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.65, ZMail 46.10, microcode 173, use w/MCR173,
on Lisp Machine Five:


	Now that we have a file system that can have file names fore than 
6 letters long, could someone fix the problem that CPTFONTB is stored in
a file called CPTFNB?

			--carl
18-Oct-82 23:14:22-EDT,414;000000000000
Date: Monday, 18 October 1982, 20:34-EDT
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at EE

In System 210.126, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 16, on Lisp Machine Twenty:

Is is possible to write a :compile-last or :fasload-last transformation
fo defsystem. Such a "last" trasnformation would perform all other
transformations first, and then do this one.
18-Oct-82 23:27:38-EDT,774;000000000000
Date: Monday, 18 October 1982, 21:47-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: M-. completion
To: Kent M. Pitman <kmp at MIT-MC>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 18 Oct 82 11:05-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: Monday, 18 October 1982, 11:05-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In System 210.128, ... 

    With definitions in editor buffers named:
     definition-just-analyzed
     definition-last-analyzed-code
     definition-last-analyzed-time

    I typed M-. and then in the mini-buffer typed

     def-j-an		; This didn't complete.
			    ; <HELP> said there were no valid completions
Presumably it had not been sectionized yet, as by compiling it
or doing M-X Sectionize Buffer.
18-Oct-82 23:53:24-EDT,1777;000000000000
Date: Monday, 18 October 1982, 23:37-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Non-invertable SETF's
To: David A. Moon <Moon at SCRC-TENEX>
Cc: David L. Andre <DLA at SCRC-TENEX>, BEE at SCRC-TENEX, BAK at MIT-MC,
    BUG-LISPM at MIT-OZ
In-reply-to: The message of 18 Oct 82 02:15-EDT from David A. Moon <Moon at SCRC-TENEX>

    Date: Monday, 18 October 1982, 02:15-EDT
    From: David A. Moon <Moon at SCRC-TENEX>
    How about making it go into the debugger and providing a proceed type that
    substitutes (FERROR "Uncompilable code: ~S" '<code>) for the offending
    piece of code and continues compilation.  Those who prefer not to fix
    the problem immediately can just hit Resume.

    As usual, :BATCH mode in MAKE-SYSTEM would proceed automatically.

Make this a condition mixin and improve the error message delivered
at run time to include the original error report, and perhaps to be
also printed a warning when the file is loaded as well, and I think
this pretty much does what is needed.

Except you may want MAKE-SYSTEM :BATCH to rename the QBIN file to
QBAD.  And there should be a way to get the backtrace information
that would be supplied by the C-M debugger command.  Perhaps there
should be a :COLLECT-DEBUGGING-INFO method do these errors, with
:PROGN method combination, which can poke around in the environment
and collect various useful information, like taking a snapshot of
the database a macro uses for later inspection, etc.  The mixin
could include SI:PROPERTY-LIST-MIXIN to keep this stuff.

BTW, I may be the proponent you're thinking of who wants it to drop
into the debugger so you can debug your macro.  MacLisp always used
to screw me this way.  But in large systems it is also important
19-Oct-82 01:56:09-EDT,1048;000000000000
Date: Tuesday, 19 October 1982, 01:43-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: (PKG-GOTO 'GLOBAL)
To: David L. Andre <DLA at SCRC-TENEX>
Cc: DANIEL at MIT-MC, BUG-LISPM at MIT-OZ, bug-lmman at MIT-OZ
In-reply-to: The message of 17 Oct 82 17:06-EDT from David L. Andre <DLA at SCRC-TENEX>

    Date: Sunday, 17 October 1982, 17:06-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
	Date: Sunday, 17 October 1982, 16:05-EDT
	From: Robert W. Kerns <RWK at SCRC-TENEX>
	Actually, given that (at least in 218) GLOBAL is *LOCKED*, I see no
	reason to prevent PKG-GOTO from letting you go there.
    You are either making the assumption that all packages with subpackages
    are locked, or fixing only a small percent of the possible lossages.
The former.  I guess I don't understand why it isn't in fact
true.  It seems that locking and the PKG-GOTO kludge are both
attempting to prevent the same lossage.  And locking does it
even when you type FOO:BAR, or load a file into the wrong
package, or any of these lossages.
19-Oct-82 06:25:34-EDT,1022;000000000000
Date: 19 October 1982 06:22-EDT
From: Kent M. Pitman <KMP at MIT-MC>
Subject:  M-. completion
To: RWK at SCRC-TENEX
cc: BUG-LISPM at MIT-OZ

    Date: Monday, 18 October 1982, 21:47-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>

        Date: Monday, 18 October 1982, 11:05-EDT
        From: Kent M. Pitman <kmp at MIT-MC>
        In System 210.128, ... 

        With definitions in editor buffers named:
         definition-just-analyzed
         definition-last-analyzed-code
         definition-last-analyzed-time

        I typed M-. and then in the mini-buffer typed

         def-j-an		; This didn't complete.
    			    ; <HELP> said there were no valid completions
    Presumably it had not been sectionized yet, as by compiling it
    or doing M-X Sectionize Buffer.

I know what sectionizing is. Of course it has been sectionized. Look
at the part of my message which you edited out in your reply. It makes it
plain that the sectionization code knew the function existed.
-kmp
19-Oct-82 10:45:04-EDT,999;000000000000
Date: Tuesday, 19 October 1982, 10:38-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: (PKG-GOTO 'GLOBAL)
To: RWK at SCRC-TENEX, DLA at SCRC-TENEX
Cc: DANIEL at MIT-MC, BUG-LISPM at MIT-OZ, bug-lmman at MIT-OZ
In-reply-to: The message of 19 Oct 82 01:43-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Tuesday, 19 October 1982, 01:43-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
	Date: Sunday, 17 October 1982, 17:06-EDT
	From: David L. Andre <DLA at SCRC-TENEX>
	You are either making the assumption that all packages with subpackages
	are locked, or fixing only a small percent of the possible lossages.
    The former.  I guess I don't understand why it isn't in fact
    true.
I don't either.  That's why the "locked" feature exists in the first place.
Maybe someone decided "that's too fascist" and turned it off (I know someone
now at MIT who might have done such a thing and not send a note, before the
source split), and didn't hack PKG-GOTO as well.
19-Oct-82 11:19:57-EDT,482;000000000000
Date: Tuesday, 19 October 1982, 11:18-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: (PKG-GOTO 'GLOBAL)
To: dlw at SCRC-TENEX, RWK at SCRC-TENEX, DLA at SCRC-TENEX
Cc: DANIEL at MIT-MC, BUG-LISPM at MIT-OZ

Didn't you know that the new error system was first implemented three years ago?
But I didn't like it and flushed it without telling anyone.  And nobody noticed!
And that's why it's all my fault that everyone reporting bugs in 204 and 210
was told to wait.
19-Oct-82 16:07:36-EDT,577;000000000000
Date: Tuesday, 19 October 1982  16:03-EDT
From: MOON at SCRC-TENEX
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, bug-lmman at MIT-OZ, DANIEL at MIT-MC,
      DLA at SCRC-TENEX, RWK at SCRC-TENEX
Subject: (PKG-GOTO 'GLOBAL)
In-reply-to: The message of 19 Oct 1982 10:38-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

If pkg-locked was on if and only if the package had subpackages, I would
have been able to do no work on the L machine for the last 5 days.  You
need to be able to turn it off sometimes to get around bootstrapping problems.
19-Oct-82 19:09:21-EDT,702;000000000000
Date: Tuesday, 19 October 1982, 19:08-EDT
From: JCMa@MIT-OZ
Subject: can't set the don't-delete bit on files
To: bug-oz@MIT-OZ
Cc: bug-lispm@MIT-OZ, boris@MIT-OZ, gren@MIT-OZ

Could someone please tell me how to remove don't-delete bits (the
permanent file feature) from a large number of files on an oz directory.
They were set with @ in the lispm dired mode over the last several
weeks.  Today, I found that I could no longer toggle them from lispm
dired because dired generates an error when oz tells it can't handle the
message.  This sure looks like an oz bug rather than a feature.

Any painless method of resetting these bits will be appreciated, not to
mention a fix to the bug.
19-Oct-82 20:13:57-EDT,1236;000000000000
Mail-From: MT created at 19-Oct-82 20:13:14
Date: 19 Oct 1982 2013-EDT
From: Michael Travers <MT at MIT-OZ>
Subject: Re: can't set the don't-delete bit on files
To: JCMa at MIT-OZ, bug-oz at MIT-OZ
cc: bug-lispm at MIT-OZ, boris at MIT-OZ, gren at MIT-OZ
In-Reply-To: Your message of 19-Oct-82 1909-EDT

    Date: Tuesday, 19 October 1982, 19:08-EDT
    From: JCMa@MIT-OZ
    Subject: can't set the don't-delete bit on files

    Could someone please tell me how to remove don't-delete bits (the
    permanent file feature) from a large number of files on an oz directory.
    They were set with @ in the lispm dired mode over the last several
    weeks.  Today, I found that I could no longer toggle them from lispm
    dired because dired generates an error when oz tells it can't handle the
    message.  This sure looks like an oz bug rather than a feature.

    Any painless method of resetting these bits will be appreciated, not to
    mention a fix to the bug.

I patched the file server to fix this problem, which resulted from
a change in the position of the dont-reap bit in release 5.  

In general, you can manipulate this bit from the exec with the 
"set file [not] perpetual" command.
-------
20-Oct-82 20:06:10-EDT,457;000000000000
Date: 20 October 1982 20:01-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
Subject: swap recomendations
To: Bug-LispM at MIT-OZ
cc: JCMa at MIT-OZ

What is the SI:SET-ALL-SWAP-RECOMENDATIONS form for, exactly?
Someone told me it was a to set up page-ahead and could be used
to increase performance.  If this is a feature, under what
conditons can it be used, and how do I use it?  What are some
things to be careful of when using it?

Chris
20-Oct-82 20:54:32-EDT,557;000000000000
From: kab@MIT-ML
Date: 10/20/82 20:51:02

kab@MIT-ML 10/20/82 20:51:02
To: (BUG LISPM) at MIT-AI
In LMFILE-Remote 17.2, MIT-Specific 9.0, System 86.62, ZMail 45.6,
Experimental Remote-File 12.0, Local-File 39.1,
Experimental MagTape 12.0, Experimental FILE-Server 4.2, microcode 136,
FS, FC, on Lisp Machine Filecomputer:

fs:restore-magtape appears to skip alternate files, ie if you have on your tape
   
   File-1
   File-2
   File-3
    ...

only the odd files would get restored.  This includes asking if they should be restored.


21-Oct-82 15:26:29-EDT,978;000000000000
Mail-From: DCP created at 21-Oct-82 15:19:19
Date: Thursday, 21 October 1982  15:19-EDT
Sender: DCP at MIT-OZ
From: DCP at MIT-MC
To:   ZVONA at MIT-OZ
Cc:   bug-oz at MIT-OZ, Bug-LISPM at oz
In-reply-to: The message of 21 Oct 1982  14:22-EDT from ZVONA

    Date: Thursday, 21 October 1982  14:22-EDT
    From: ZVONA
    To:   bug-oz

    The chaosnet was being compeletely zorched again.  It was getting
    infinite CHA11S and CHAXOD bugchks.  I reloaded the NFE which helped
    for four minuites, and then it started again, a bugchk every 10
    seconds.  I killed about 25 (really) NLI jobs, and that fixed it for
    real.  

    I suspect that there isn't enough table space for something someplace.


    In LISP you don't have that kind of problem, I guess...

Damnit, with the LISPMs get their act together.  This has only
been going on for a month or more, you would think some MIT LISPM
maintainer would do something.  PLEASE!!!!
-------
21-Oct-82 17:29:08-EDT,684;000000000000
Date: Thursday, 21 October 1982, 17:21-EDT
From: Ken Haase <KwH at MIT-OZ>
Subject: My cup runneth over with compiler warnings....
To: BUG-LISPM at MIT-OZ, BUG-ZWEI at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.15,
ZMail 47.5, microcode 187, ., on Lisp Machine Twenty-five:

If your chaos connection dies in the middle of compiling a file, 
the machine repeatedly prints:
 
    a) notification of the error
    b) what flag to set to avoid the error.

The fact that it loops on this sort of error is pretty bad;  the possibility
that you can set a flag to avoid it is nice in general, but may be misconceived
in this case.


Ken
21-Oct-82 23:34:29-EDT,626;000000000000
Date: Thursday, 21 October 1982, 23:24-EDT
From: Ken Haase <KwH at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In System 210.128, ZMail 45.14, Remote-File 103.0,
Experimental Hecate 5.0, microcode 903, site configuration 25, u903, on Lisp Machine Two:

This is actually an 87 bug, because I wanted to check that it wasn't a bug
in my code, so I ran the 210 version to compare.

Arglist declarations inside of definitions don't work.  Particularly,
this happens when a (DECLARE ARGLIST .....) is inside of a macro defined
inside of another macro.  This bug showed up in system 87 (I don't know if
it happens in 89)

Ken
22-Oct-82 16:44:45-EDT,282;000000000000
Date: Friday, 22 October 1982, 16:41-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: system 89--car of symbol while fasloading
To: ECC at MIT-OZ, bug-lispm-mit at MIT-OZ

This was a bug in fasloading functions that have no debugging info.
It is fixed in system 89.16.
22-Oct-82 22:47:14-EDT,472;000000000000
Date: 22 Oct 1982 2238-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: System 218 (Release 4)
To: INFO-LISPM at MIT-OZ
cc: DLA at SCRC-TENEX

System 218 is now released for experimentation at beta test sites.
System 218 comes with microcode 963.  A draft of the release notes
is in EE:LIB:<LISPM.DOCUMENTATION>RELEASE-4.LPT.  New Error System
documentation is in EE:LIB:<LISPM.DOCUMENTATION>NES.TEXT.  Bands
are currently on the apiary machines.
-------
23-Oct-82 02:09:44-EDT,691;000000000000
Date: 23 October 1982 02:07-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
To: BUG-LISPM at MIT-MC

In DES in Experimental System 218.72, Zmail 65.25, LMFS 28.11, Tape 11.0,
LGP 20.4, microcode 962, site configuration 26, on Lisp Machine Apiary-2:


After I encrypted and then immediately decrypted my buffer,
there were random characters at the front of some lines:

(defcom :com-beginning-of-prev-line
	"Move to beginning of previous line." (km)
	(let ((*permanent-real-line-goal-xpos* 0.))
	  (down-real-line (- *numeric-arg*))))


(defcom com-view-nyt-summary "Views the latest New York Times news summary" ()
  (view-file "mc:common;_news_ nyt")
  dis-none)

23-Oct-82 02:29:32-EDT,725;000000000000
Mail-From: KMP created at 23-Oct-82 02:27:06
Date: Saturday, 23 October 1982  02:27-EDT
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   bug-lispm at OZ

In System 210,...

I do not like that DEFUN-METHOD sets up a global name for the function in
question. This messes up the namespace into which I would like to load my
objects. It would be nice to have, for example, ...

(defflavor foo ...)
(defun-method frob foo (...) ...)

(defflavor bar ...)
(defun-method frob bar (...) ...)

but the global name FROB will collide. I would rather that DEFUN-METHOD
created a #'(:DEFUN-METHOD FOO FROB) and a #'(:DEFUN-METHOD-INTERNAL FOO FROB)
rather than a FOO and a #'(:DEFUN-METHOD FOO FROB). 

-kmp
-------
23-Oct-82 04:19:14-EDT,447;000000000000
Date: Saturday, 23 October 1982, 04:16-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at OZ

In ZWEI in System 210.128,...

C-X 1 continues to do the "wrong thing". I always want it to select the currently
selected window rather than the top window when it gets back to 1-window mode.
This is especially irritating when I'm done with Edit Compiler Warnings and I type
C-X 1 and find myself in the Compiler Warnings buffer.
-kmp
23-Oct-82 04:44:13-EDT,341;000000000000
Date: 23 Oct 1982 0440-EDT
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
To: kmp at MIT-MC
cc: BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 23-Oct-82 0422-EDT

c-X 1 is fixed in system 218; see the release notes for how to control
how it does, but the default is what you (and I and RWK and apparently
many others) want.
-------
23-Oct-82 05:24:07-EDT,593;000000000000
Date: Saturday, 23 October 1982, 05:23-EDT
From: Chris Hanson <HANSON at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.16,
ZMail 47.5, microcode 183, try me, on Lisp Machine Eighteen:

Trying Dired on "SYS:DOC;" failed (as it should have), and the system
asked for another pathname to try.  When supplied with "SYS:IO;" it
died saying that the logical pathname left a :DIRECTORY-STREAM message
unclaimed.  However, calling Dired on "SYS:IO;" works ok.  Apparently
the pathname translations are happening in the wrong place.
23-Oct-82 06:04:05-EDT,632;000000000000
Date: 23 Oct 1982 0327-EDT
From: Howard I. Cannon <HIC at SCRC-TENEX>
To: KMP at MIT-MC
cc: bug-lispm at MIT-OZ
In-Reply-To: Your message of 23-Oct-82 0322-EDT

I think you are somewhat confused about DEFUN-METHOD.  DEFUN-METHOD is defined
to define a method that acts like a function.  It sounds to me like what you
want are methods that are associated with keywords.  I believe that
(DEFMTETHOD (FOO :FROB) ...) will define what you want.

[What you suggested can't work, since when you say:
  (FROB 1 2 3)

it wouldn't know which frob you wanted.

Does this explain, or should I go into more detail.
]
-------
23-Oct-82 11:32:21-EDT,1106;000000000000
Date: Saturday, 23 October 1982, 11:29-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.15,
ZMail 47.5, Experimental Local-File 40.7, DPL 1.2, microcode 183, -89.7,
on Lisp Machine Two:

I cannot load patch 89.16. Its first form is (globalize 'si:contents),
and this environment already has the symbol dpl:contents.  Therefore
globalize is (properly) failing.

I tried getting around this bug by changing the dpl package declaration
to shadow contents and reevaluating the package declaration, but that
failed.  In other words, I can't issue a patch to DPL to get the system
patch to load.  (Well, maybe I could by playing with the package structure
itself in the patch, but read on.)

Since the policy regarding the issuance of new globals is documented to
exclude the creation of them without notifying all users (last paragraph
of page 395) can this patch be changed not to globalize si:contents so
that I don't have to generate a new major version of DPL to get the
patch to load?

Daniel
23-Oct-82 18:00:00-EDT,291;000000000000
Date: Saturday, 23 October 1982, 17:58-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Arthur Dent:

Is it possible to compile closures?
23-Oct-82 18:19:43-EDT,752;000000000000
Date: Saturday, 23 October 1982  18:09-EDT
From: MOON at SCRC-TENEX
To:   Webster Dove <dove at MIT-DSPG>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 23 Oct 1982 17:58-EDT from Webster Dove <dove at MIT-DSPG>

    Date: Saturday, 23 October 1982, 17:58-EDT
    From: Webster Dove <dove at MIT-DSPG>

    Is it possible to compile closures?

Is it possible to compile strings?  A closure is just a function and a list
of variables and bindings for the variables.  There is nothing there to
compile.  Of course you can compile the function inside a closure in the
same way as you would compile any function.

So probably I don't understand the question.  If this answer doesn't help,
please ask again in more specific detail.
23-Oct-82 18:44:38-EDT,323;000000000000
Date: 23 Oct 1982 18:38:08-EDT
From: dove at mit-dspg
Subject: closure compiling
To: bug-lispm at mit-oz

I had just noticed that a closure over a compiled function
took a lot longer to invoke than invoking the function directly.
I was wondering whether anything could be done to speed the binding of
the vars up.
23-Oct-82 19:15:46-EDT,828;000000000000
Date: Saturday, 23 October 1982  19:10-EDT
From: MOON at SCRC-TENEX
To:   dove at mit-dspg
Cc:   bug-lispm at mit-oz
Subject: closure compiling
In-reply-to: The message of 23 Oct 1982 18:38:08-EDT from dove at mit-dspg

    Date: 23 Oct 1982 18:38:08-EDT
    From: dove at mit-dspg
    Subject: closure compiling
    To: bug-lispm at mit-oz

    I had just noticed that a closure over a compiled function
    took a lot longer to invoke than invoking the function directly.
    I was wondering whether anything could be done to speed the binding of
    the vars up.
It's done in microcode.  Is it significantly slower than calling a compiled
function that binds that many special variables itself?  Is it faster?
Are you doing something wrong if the inner loop of your program calls
closures?  (Perhaps not)
23-Oct-82 19:30:37-EDT,763;000000000000
Date: Saturday, 23 October 1982, 03:17-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at OZ

In System 210.128, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 25, u903, on Lisp Machine Two:

(FS:PARSE-PATHNAME "kbe:source;foo bar >") 
 where KBE: is defined as a logical device which points to files on OZ:
 returns a pathname named "KBE: source; foo bar >" which looks very ugly
 rather than  "KBE: SOURCE; FOO BAR >" or "kbe: source; foo bar >" which
 look far better.

In the case where the real host treats case as insignificant in files, 
I would prefer to see logical filenames in a uniform case (eg, uppercase).
It's easy to tell when you're dereferencing to a site where case matters
and not do any conversion.
23-Oct-82 21:15:31-EDT,1294;000000000000
Date: Saturday, 23 October 1982, 06:17-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at OZ
Cc: LEVITT at OZ

In System 210.128, ZMail 45.14, Remote-File 103.0, microcode 903,
site configuration 25, u903, on Lisp Machine Two:

I had a file full of flavor definitions of a flavor built out of no
other flavors and another file of flavor definitions built on the first
message. These flavors were tested and worked.

I then edited the files and tried recompiled both (meaning I recompiled
all defining forms relevant to the flavors). I got errors when I tried
to run my test routines saying that I was attemptig to reference
instance variable 0 and that I was probably referencing a deleted
instance variable. I'm convinced this wasn't my bug.

I did SI:RECOMPILE-FLAVOR on all relevant flavors to no avail.

Then Dave Levitt suggested that I had to do (REMPROP 'flavor 'SI:FLAVOR).
I thought that was silly but I tried it and then recompiled my flavors and
sure enough, it worked.

Now I don't know what kind of stale data was living around but I think it
should get worked out somehow that recompiling literally all sources to a
flavor and its methods should not leave me with buggy flavor methods that
I have to fix in awful ways like that REMPROP.

-kmp
23-Oct-82 21:16:34-EDT,536;000000000000
Date: Saturday, 23 October 1982, 06:39-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at OZ

In System 210.128,...

It appears to be the case that if more than one :GETTABLE-INSTANCE-VARIABLES
are specified in a DEFFLAVOR, only the last one takes effect. Either they should
be unioned in some way or else an error should happen at DEFFLAVOR time indicating
the problem. It's irritating to have to wait until the supposedly-gettable message
gets sent to an instance to find out things didn't happen as expected.
-kmp
23-Oct-82 21:36:00-EDT,446;000000000000
Date: Saturday, 23 October 1982, 07:21-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
To: CStacy at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: The message of 23 Oct 82 02:07-EDT from Christopher C. Stacy <CStacy at MIT-MC>

Those random characters (	) are be ascii tabs, printed in the sail
character set.  The encryption/decryption lost the information about the
LispMachine tabs, but was smart enough to know about LispMachine
newlines.
23-Oct-82 21:51:07-EDT,1293;000000000000
Date: Saturday, 23 October 1982, 21:48-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Case in logical pathnames
To: Kent M. Pitman <kmp at MIT-MC>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 23 Oct 82 03:17-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: Saturday, 23 October 1982, 03:17-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In System 210.128, ZMail 45.14, Remote-File 103.0, microcode 903,
    site configuration 25, u903, on Lisp Machine Two:

    (FS:PARSE-PATHNAME "kbe:source;foo bar >") 
     where KBE: is defined as a logical device which points to files on OZ:
     returns a pathname named "KBE: source; foo bar >" which looks very ugly
     rather than  "KBE: SOURCE; FOO BAR >" or "kbe: source; foo bar >" which
     look far better.
In 218, it gives "KBE: SOURCE; FOO BAR >".
    In the case where the real host treats case as insignificant in files, 
    I would prefer to see logical filenames in a uniform case (eg, uppercase).
    It's easy to tell when you're dereferencing to a site where case matters
    and not do any conversion.
Logical names have no "real host".  The have a "current physical host", but
that can be changed at any time.  They cannot vary their behaviour depending
on what the physical host does.
24-Oct-82 08:54:21-EDT,843;000000000000
Date: Sunday, 24 October 1982, 08:50-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: :GETTABLE-INSTANCE-VARIABLES
To: Kent M. Pitman <kmp at MIT-MC>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 23 Oct 82 06:39-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: Saturday, 23 October 1982, 06:39-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In System 210.128,...

    It appears to be the case that if more than one :GETTABLE-INSTANCE-VARIABLES
    are specified in a DEFFLAVOR, only the last one takes effect. Either they should
    be unioned in some way or else an error should happen at DEFFLAVOR time indicating
    the problem. It's irritating to have to wait until the supposedly-gettable message
    gets sent to an instance to find out things didn't happen as expected.
    -kmp
Fixed in the source.
24-Oct-82 09:37:10-EDT,310;000000000000
Date: Sunday, 24 October 1982, 09:32-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: new error system
To: bug-lispm at MIT-OZ

I have a new error system working.  Now that I've seen the documentation
of Symbolics's new error system, I'll begin revising it for greater
compatibility with theirs.
24-Oct-82 14:43:05-EDT,542;000000000000
Date: Sunday, 24 October 1982, 14:39-EDT
From: D. Scott Cyphers <cypher at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.72,
ZMail 46.10, Remote-File 15.4, Experimental Local-File 40.7,
Experimental FILE-Server 5.0, Spire 5.9, microcode 172, Spire,
on Lisp Machine Twelve:

(apply 'and '((+ 3 4) (+ 4 5))) => 9 instead of (+ 4 5)
(apply 'or '((+ 3 4) (+ 4 5))) => 7 instead of (+ 3 4)


but

(apply 'list '((+ 3 4) (+ 4 5))) => ((+ 3 4) (+ 4 5)) as it should
as does CONS.
24-Oct-82 15:18:42-EDT,1042;000000000000
Date: Sunday, 24 October 1982, 15:15-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: (APPLY 'AND ...)
To: D. Scott Cyphers <cypher at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 24 Oct 82 14:39-EDT from D. Scott Cyphers <cypher at MIT-OZ>

    Date: Sunday, 24 October 1982, 14:39-EDT
    From: D. Scott Cyphers <cypher at MIT-OZ>
    (apply 'and '((+ 3 4) (+ 4 5))) => 9 instead of (+ 4 5)
    (apply 'or '((+ 3 4) (+ 4 5))) => 7 instead of (+ 3 4)


    but

    (apply 'list '((+ 3 4) (+ 4 5))) => ((+ 3 4) (+ 4 5)) as it should
    as does CONS.
The only bug here is that APPLY didn't give you an error when you
tried to apply a special form.  AND is not a normal function, it is
a special form, implemented in the interpreter as something which
takes quoted expressions, and selectively calls EVAL om them.  In general,
the special forms can be implemented either as macros or as FEF's with
&QUOTEd arguments plus compiler support.  In neither case is the
semantics of APPLYing them clear.
24-Oct-82 17:19:41-EDT,1459;000000000000
Mail-From: EB created at 24-Oct-82 17:18:02
Date: 24 Oct 1982 1718-EDT
From: Ed Barton <EB at MIT-OZ>
Subject: Re: (APPLY 'AND ...)
To: RWK at SCRC-TENEX
cc: cypher at MIT-OZ, BUG-LISPM at MIT-OZ, EB at MIT-OZ
In-Reply-To: Your message of 24-Oct-82 1518-EDT

    Date: Sunday, 24 October 1982, 15:15-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Subject: (APPLY 'AND ...)
	Date: Sunday, 24 October 1982, 14:39-EDT
	From: D. Scott Cyphers <cypher at MIT-OZ>
	(apply 'and '((+ 3 4) (+ 4 5))) => 9 instead of (+ 4 5)
	(apply 'or '((+ 3 4) (+ 4 5))) => 7 instead of (+ 3 4)
	but
	(apply 'list '((+ 3 4) (+ 4 5))) => ((+ 3 4) (+ 4 5)) as it should
	as does CONS.
    The only bug here is that APPLY didn't give you an error when you
    tried to apply a special form.  AND is not a normal function, it is
    a special form, implemented in the interpreter as something which
    takes quoted expressions, and selectively calls EVAL om them.  In general,
    the special forms can be implemented either as macros or as FEF's with
    &QUOTEd arguments plus compiler support.  In neither case is the
    semantics of APPLYing them clear.

Don't, don't, please don't make APPLY give an error when applying a
special form.  I want to be able to advise special forms and the
encapsulation mechanism goes to some trouble to treat &quote arguments
too, although recently APPLY of a special form was broken in some
systems.
-------
24-Oct-82 20:37:49-EDT,367;000000000000
Date: Sunday, 24 October 1982, 20:31-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
Subject: picking nits, or anticipating errors
To: bug-lispm at MIT-OZ

From the sys89 release notes:

    The new pathname operation :UNDELETEABLE-P returns T if sent to a pathname
    for a file system which supports undeletion.

Isn't the correct spelling :UNDELETABLE-P?
24-Oct-82 20:59:51-EDT,490;000000000000
Date: Sunday, 24 October 1982, 20:53-EDT
From: Carl Richard Feynman <CARLF at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.15,
ZMail 47.5, microcode 183, ., on Lisp Machine Three:

	One of the CADRs in the PUMA room seems to be unbootable. I
think it's CADR-5, but I can't read the screen clearly because it's so
smeary. When I try to do a cold boot, the upper run-bars flicker for a
while and then stop.


				--carl
24-Oct-82 21:00:35-EDT,1906;000000000000
Date: Sunday, 24 October 1982, 20:55-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Proposal for macroexpansion errors in the compiler.
To: DLA at SCRC-TENEX, BEE at SCRC-TENEX, BAK at MIT-MC, Moon at SCRC-TENEX,
    DLW at SCRC-TENEX, RWK at SCRC-TENEX
Cc: stryker at SCRC-TENEX, cassels at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 17 Oct 82 21:50-EDT from David L. Andre <DLA at SCRC-TENEX>,
             The message of 17 Oct 82 22:05-EDT from BEE at SCRC-TENEX,
             The message of 17 Oct 82 22:57-EDT from BAK at MIT-MC,
             The message of 17 Oct 82 23:24-EDT from David L. Andre <DLA at SCRC-TENEX>,
             The message of 18 Oct 82 02:15-EDT from David A. Moon <Moon at SCRC-TENEX>,
             The message of 18 Oct 82 07:01-EDT from Daniel L. Weinreb <DLW at SCRC-TENEX>,
             The message of 18 Oct 82 17:22-EDT from MOON at SCRC-TENEX,
             The message of 18 Oct 82 23:37-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

I think the result of the recent messages on macroexpansion errors in
the compiler is as follows:

There should be (at least) two modes for dealing with compiler warnings:
batch and normally.  The difference between the two modes is that
"normally" will never compile code into a FERROR, wheras BATCH might,
giving the appropriate warnings.  Specifically, if SETF or LOCF gets an
error expanding the accessor form, it would compile as BEE suggested:
(SETF <foo> <bar>) ==> (SI:UNDEFINED-SETF '<foo> <bar>).  All other
macroexpansion errors would compile into a FERROR which includes the
uncompileable code.

I propose that the current MAKE-SYSTEM variable SI:*BATCH-MODE-P* be
made to have a global value of NIL, so that users can bind it or set it
in their init files appropriately, and that the above features be
installed.  I will do this in the next few days if nobody objects.
24-Oct-82 21:13:13-EDT,857;000000000000
Date: Sunday, 24 October 1982, 21:08-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: (APPLY 'AND ...)
To: Ed Barton <EB at MIT-OZ>
Cc: cypher at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 24 Oct 82 17:18-EDT from Ed Barton <EB at MIT-OZ>

    Date: 24 Oct 1982 1718-EDT
    From: Ed Barton <EB at MIT-OZ>
    Don't, don't, please don't make APPLY give an error when applying a
    special form.  I want to be able to advise special forms and the
    encapsulation mechanism goes to some trouble to treat &quote arguments
    too, although recently APPLY of a special form was broken in some
    systems.
So far as I know, nobody is planning to fix the bug.  But encapsulation
should be able to work properly, namely by producing something with
&REST &QUOTE, and calling EVAL, which IS well defined on special forms.
25-Oct-82 08:07:22-EDT,999;000000000000
Date: Sunday, 24 October 1982, 21:28-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: CARLF at MIT-OZ, BUG-LISPM at MIT-OZ

    Date: Sunday, 24 October 1982, 20:53-EDT
    From: Carl Richard Feynman <CARLF at MIT-OZ>
    To: BUG-LISPM at MIT-OZ

    In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.15,
    ZMail 47.5, microcode 183, ., on Lisp Machine Three:

	    One of the CADRs in the PUMA room seems to be unbootable. I
    think it's CADR-5, but I can't read the screen clearly because it's so
    smeary. When I try to do a cold boot, the upper run-bars flicker for a
    while and then stop.


				    --carl

This seems to have been caused by a bad partition, but I don't have time to
check more exhaustively right now.  In any case, it's temporarily fixed -- I
selected another band.

For future reference, messages dealing with broken Lisp Machines should be sent
to BUG-HARDWARE, or they may not come to the attention of the right people.
25-Oct-82 08:10:38-EDT,431;000000000000
Date: Monday, 25 October 1982  00:37-EDT
From: MOON at SCRC-TENEX
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BAK at MIT-MC, BEE at SCRC-TENEX, BUG-LISPM at MIT-OZ,
      cassels at SCRC-TENEX, DLW at SCRC-TENEX, RWK at SCRC-TENEX,
      stryker at SCRC-TENEX
Subject: Proposal for macroexpansion errors in the compiler.
In-reply-to: The message of 24 Oct 1982 20:55-EDT from David L. Andre <DLA at SCRC-TENEX>

Okay.
25-Oct-82 08:11:23-EDT,1942;000000000000
Date: Monday, 25 October 1982  00:36-EDT
From: MOON at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, cypher at MIT-OZ, Ed Barton <EB at MIT-OZ>
Subject: Re: (APPLY 'AND ...)
In-reply-to: The message of 24 Oct 1982 21:08-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Sunday, 24 October 1982, 21:08-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Subject: Re: (APPLY 'AND ...)
    To: Ed Barton <EB at MIT-OZ>
    Cc: cypher at MIT-OZ, BUG-LISPM at MIT-OZ
    In-reply-to: The message of 24 Oct 82 17:18-EDT from Ed Barton <EB at MIT-OZ>

        Date: 24 Oct 1982 1718-EDT
        From: Ed Barton <EB at MIT-OZ>
        Don't, don't, please don't make APPLY give an error when applying a
        special form.  I want to be able to advise special forms and the
        encapsulation mechanism goes to some trouble to treat &quote arguments
        too, although recently APPLY of a special form was broken in some
        systems.
    So far as I know, nobody is planning to fix the bug.  But encapsulation
    should be able to work properly, namely by producing something with
    &REST &QUOTE, and calling EVAL, which IS well defined on special forms.
No Bob, you're totally wrong:  Encapsulation should not cons up a form and
eval it.  Encapsulation should insert itself between EVAL and the function
that implements the special form, passing on the same argument(s) it got.
APPLY to an &REST argument is the best way to pass on arguments.

Whether you declare a function to implement a special form by putting &QUOTE
in its argument list, or by having an explicit DEFSPECIAL that puts an
entry in some table, or by having (SPECIAL . function) as with macros,
makes no difference to this.

The only anomalous thing about how it works now is that you cannot extract
the function inside the special form as a separate object the way you can
with macros.
25-Oct-82 08:12:46-EDT,1191;000000000000
Date: Monday, 25 October 1982, 00:47-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: swap recomendations
To: CStacy at MIT-MC
Cc: Bug-LispM at MIT-OZ, JCMa at MIT-OZ
In-reply-to: The message of 20 Oct 82 20:01-EDT from Christopher C. Stacy <CStacy at MIT-MC>

    Date: 20 October 1982 20:01-EDT
    From: Christopher C. Stacy <CStacy at MIT-MC>
    What is the SI:SET-ALL-SWAP-RECOMENDATIONS form for, exactly?
    Someone told me it was a to set up page-ahead and could be used
    to increase performance.  If this is a feature, under what
    conditons can it be used, and how do I use it?  What are some
    things to be careful of when using it?
Swap recommendations controls page-ahead, as you surmised.  This only
happens when some bit SYS:%DISK-SWITCHES is set to something -- refer to
the system 78 release notes.

page-read-append is disabled in Symbolics systems because I determined
that any use of it degraded paging performance.  page-write-append is
enabled (and unaffected by swap recommendations); it seems to help quite
a bit.  Its one loss is that it only looks ahead for flushable modified
pages, not backwards.  This may get fixed someday.
25-Oct-82 09:52:36-EDT,885;000000000000
Mail-From: HANSON created at 25-Oct-82 08:54:41
Date: Monday, 25 October 1982  08:54-EDT
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   D. Scott Cyphers <cypher at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ

    Date: Sunday, 24 October 1982, 14:39-EDT
    From: D. Scott Cyphers <cypher>
    To:   BUG-LISPM

    In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.72,
    ZMail 46.10, Remote-File 15.4, Experimental Local-File 40.7,
    Experimental FILE-Server 5.0, Spire 5.9, microcode 172, Spire,
    on Lisp Machine Twelve:

    (apply 'and '((+ 3 4) (+ 4 5))) => 9 instead of (+ 4 5)
    (apply 'or '((+ 3 4) (+ 4 5))) => 7 instead of (+ 3 4)


    but

    (apply 'list '((+ 3 4) (+ 4 5))) => ((+ 3 4) (+ 4 5)) as it should
    as does CONS.

This is not at all surprising, since AND and OR are implemented as
(basically) FEXPRs.
-------
25-Oct-82 09:55:47-EDT,3350;000000000000
Date: 25 October 1982 01:17-EDT
From: Kent M. Pitman <KMP at MIT-MC>
To: dlw at SCRC-TENEX
cc: BUG-LISPM at MIT-MC

Well, there's a way you can maintain the scroll bar information at some
cost which is probabilistic but likely to be favorable if you believe in
the idea of local edits (which Emacs certainly did). I imagine it can be
thought of as a variation on gaps. See what you think of this. I'll detail
the plan as a per-line idea. It can be even more efficient if the info
is kept per-section instead...

Assume you have a buffer of N lines and that there are two numbers associated
with each line:

 LINE-NUMBER		The claimed line number.

 TIME-STAMP		A time stamp saying when that claim was last 
			known to be true.

Assume further the following global (per-buffer) registers:
 
 BUFFER-SIZE		The total number of lines in the buffer.

 GAP-LINE-NUMBER	The line number beyond which inaccuracies may appear.

 GAP-TIME-STAMP		The last time the GAP-LINE was computed.

 GAP-OFFSET		The offset which line numbers after the gap are off by.
			Usually a possibly negative fixnum.

 CURRENT-LINE-NUMBER	This is not really a register. It corresponds to 
			an access which can be gotten in constant time from
			(ZWEI:POINT).

 CURRENT-TIME-STAMP	Ditto for an access 

The following then are true:

* If no editing has been done, the true line number of a line in the buffer
  is given by the line number. But even in the case where local editing has 
  been done, the following algorithm gives the true line number:

	(COND ((OR (< CURRENT-LINE-NUMBER GAP-LINE-NUMBER)
		   (NOT (< CURRENT-TIME-STAMP GAP-TIME-STAMP)))
	       CURRENT-LINE-NUMBER)
	      (T
	       (+ CURRENT-LINE-NUMBER GAP-OFFSET)))

  The BUFFER-SIZE variable is always correct.


* If an edit occurs to some line but does not insert or delete lines, then
  no information must be updated and the gap does not move.

* Moving around in the buffer even after editing is cost free until and unless
  another edit is performed.

* If an edit occurs to some line which breaks lines, then:
   1. the BUFFER-SIZE is incremented or decremented appropriately.
   2. the lines between the last gap and the current are corrected. the new
      gap point is the larger of the two points in the buffer.
  The hope here is:
  Typically this closing will be relatively local. If the user inserts new
  lines in the beginning and then in the very end of the buffer, much paging
  may occur. If the user goes incrementally through the buffer doing his 
  editing, the paging will be light because most of the relevant lines will
  likely already be in core.

To modify this algorithm for sections instead of lines, you use all the same
info except that only the sections store line counts and timestamps, and to
get the precise line number, you go to the head of the section and count 
forward. it's assumed that sections will be small (or at least roughly
constant in size) and this counting will be relatively cheap.

Do you have any feeling for whether this would work or be worth it? It could 
also be made a settable option whether this info was kept up to date so that
users not wanting the feature would not be burdened with the overhead... At 
least while its performance effects were evaluated.

-kmp
25-Oct-82 10:08:49-EDT,2524;000000000000
Date: Monday, 25 October 1982  05:06-EDT
From: MOON at SCRC-TENEX
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   BUG-LISPM at OZ, LEVITT at OZ
In-reply-to: The message of 23 Oct 1982 06:17-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: Saturday, 23 October 1982, 06:17-EDT
    From: Kent M. Pitman <kmp at MIT-MC>

    In System 210.128, ZMail 45.14, Remote-File 103.0, microcode 903,
    site configuration 25, u903, on Lisp Machine Two:

    I had a file full of flavor definitions of a flavor built out of no
    other flavors and another file of flavor definitions built on the first
    message. These flavors were tested and worked.

    I then edited the files and tried recompiled both (meaning I recompiled
    all defining forms relevant to the flavors). I got errors when I tried
    to run my test routines saying that I was attemptig to reference
    instance variable 0 and that I was probably referencing a deleted
    instance variable. I'm convinced this wasn't my bug.

This is kind of a vague bug report.  Do you have a way to reproduce the
error?  Did you get a "flavor x being redefined incompatibly, old instances
will not get the new flavor" message?  Did you add a new instance variable?
Did you delete any instance variables?  You don't say explicitly, but I
assume all compilations were "to core", i.e. you didn't do any file operations.
Does it still happen in system 218?

    I did SI:RECOMPILE-FLAVOR on all relevant flavors to no avail.
All this does is remake the combined methods.  If you don't give it an
optional argument of NIL it doesn't even remake the ones that it "knows"
to be still good.  So it's not surprising this had no effect on your problem
of accessing an instance variable that wasn't there.

    Then Dave Levitt suggested that I had to do (REMPROP 'flavor 'SI:FLAVOR).
    I thought that was silly but I tried it and then recompiled my flavors and
    sure enough, it worked.
This isn't surprising since it made the flavor system completely forget whatever
wrong ideas it had about what was going on with your flavors.

    Now I don't know what kind of stale data was living around but I think it
    should get worked out somehow that recompiling literally all sources to a
    flavor and its methods should not leave me with buggy flavor methods that
    I have to fix in awful ways like that REMPROP.
You're right of course.  Is there any more information you can provide to
make it possible to fix whatever bug bit you?
25-Oct-82 13:08:59-EDT,651;000000000000
Date: Monday, 25 October 1982, 08:49-EDT
From: James S. Miller <jmiller at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.72, Zmail 65.25, LMFS 28.11, Tape 11.0,
LGP 20.4, microcode 962, site configuration 26, on Lisp Machine Twenty:

The following definition refuses to read into the editor correctly:

(DefStruct					; A block in the data base


because the sectionization code (ZWEI:GET-DEFINITION-FUNCTION-SPEC) only
looks at the definition line.  Since there is no name on that line, it parses
off the end and the buffer pointer becomes nil.  This then dies with a "bad
argument to ARRAY-LEADER" error.

- HANSON
25-Oct-82 17:51:24-EDT,1271;000000000000
Date: Monday, 25 October 1982, 17:40-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: (PKG-GOTO 'GLOBAL)
To: MOON at SCRC-TENEX, dlw at SCRC-TENEX, DOC-CHANGES at SCRC-TENEX
Cc: BUG-LISPM at MIT-OZ, bug-lmman at MIT-OZ, DANIEL at MIT-MC,
    DLA at SCRC-TENEX, RWK at SCRC-TENEX, DLA at SCRC-TENEX
In-reply-to: The message of 19 Oct 82 16:03-EDT from MOON at SCRC-TENEX,
             The message of 20 Oct 82 12:55-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>,
             The message of 25 Oct 82 05:15-EDT from MOON at SCRC-TENEX,
             The message of 25 Oct 82 14:34-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

PKG-CREATE-PACKAGE now locks its superior.  There is an optional fourth
argument which if T will supress this behavior.  This change applies
to PACKAGE-DECLARE also.

The SI:PKG-LOCKED accessor to packages (which can be SETFd) should be
advertized.  A value of T means the package is locked.

I installed a macro (SI:WITH-PACKAGE-LOCK pkg lock-value &body body)
which binds the lockedness of packages.  

(SI:WITH-PACKAGE-LOCK FOO BAR BAZ) ==>
(LET ()
  (BIND (LOCF (SI:PKG-LOCK FOO)) BAR)
  BAZ)

Note that SI:WITH-PACKAGE-LOCK doesn't do PKG-FIND-PACKAGE, so you can't
do (SI:WITH-PACKAGE-LOCK 'GLOBAL ...).
25-Oct-82 19:55:11-EDT,1359;000000000000
Date: Monday, 25 October 1982, 17:42-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: (PKG-GOTO 'GLOBAL)
To: MOON at SCRC-TENEX, dlw at SCRC-TENEX, DOC-CHANGES at SCRC-TENEX
Cc: BUG-LISPM at MIT-OZ, bug-lmman at MIT-OZ, DANIEL at MIT-MC,
    DLA at SCRC-TENEX, RWK at SCRC-TENEX, DLA at SCRC-TENEX
In-reply-to: The message of 19 Oct 82 16:03-EDT from MOON at SCRC-TENEX,
             The message of 20 Oct 82 12:55-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>,
             The message of 25 Oct 82 05:15-EDT from MOON at SCRC-TENEX,
             The message of 25 Oct 82 14:34-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>
Supersedes: The message of 25 Oct 82 17:40-EDT from David L. Andre <DLA at SCRC-TENEX>

PKG-CREATE-PACKAGE now locks its superior.  There is an optional fourth
argument which if T will supress this behavior.  This change applies
to PACKAGE-DECLARE also.

The SI:PKG-LOCKED accessor to packages (which can be SETFd) should be
advertized.  A value of T means the package is locked.

I installed a macro (SI:WITH-PACKAGE-LOCK pkg lock-value &body body)
which binds the lockedness of packages.  

(SI:WITH-PACKAGE-LOCK FOO BAR BAZ) ==>
(LET ()
  (BIND (LOCF (SI:PKG-LOCK FOO)) BAR)
  BAZ)

Note that SI:WITH-PACKAGE-LOCK doesn't do PKG-FIND-PACKAGE, so you can't
do (SI:WITH-PACKAGE-LOCK 'GLOBAL ...).
25-Oct-82 19:56:56-EDT,327;000000000000
Mail-From: CAL created at 25-Oct-82 19:40:12
Date: 25 Oct 1982 1940-EDT
From: Clifford A. Lasser <CAL at MIT-OZ>
To: bug-lispm at MIT-OZ

It would be nice if <terminal> <help> would be more readable.  I think
that there are other helps that also use some reformatting, but I can't
remember them at the moment.
-------
25-Oct-82 21:52:00-EDT,521;000000000000
Date: Monday, 25 October 1982, 21:51-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: CAL at MIT-OZ
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 25 Oct 82 19:40-EDT from Clifford A. Lasser <CAL at MIT-OZ>

    Date: 25 Oct 1982 1940-EDT
    From: Clifford A. Lasser <CAL at MIT-OZ>
    It would be nice if <terminal> <help> would be more readable.  I think
    that there are other helps that also use some reformatting, but I can't
    remember them at the moment.
How would you suggest to change it?
26-Oct-82 01:06:33-EDT,549;000000000000
Mail-From: CAL created at 26-Oct-82 00:58:21
Date: Tuesday, 26 October 1982  00:58-EDT
Sender: CAL at MIT-OZ
From: Cliff Lasser <CAL at MIT-MC>
To:   bug-lispm at MIT-OZ
Subject: previous message about badly formated help message

Please forget that message.  At the time, I had set my default font to
cptfontb, so of course, all message that fit properly with cptfont did not
look right.  The proper fix would be to make all the help routines (and
other things) font independant, but I don't think that this is very
important.
-------
26-Oct-82 01:09:56-EDT,564;000000000000
Date: Tuesday, 26 October 1982, 00:46-EDT
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-MC

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.72, ZMail 46.10, microcode 187, Try Me!, on Ford Prefect:

"Sorry for that nul bug report.  In a sec, I'll fix those null bug reports
permamently (meta-$ that last one).

Try (string-trim #\return /"foo/")
  The argument to Car, 141 was of the wrong type.
The function expected a cons.

While in the function mem <- string-search-not-set <- string-trim
" 
26-Oct-82 14:56:30-EDT,664;000000000000
Date: Tuesday, 26 October 1982, 14:54-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Hdt at MIT-OZ, Moon at SCRC-TENEX
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 26 Oct 82 00:46-EDT from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Tuesday, 26 October 1982, 00:46-EDT
    From: Howard D. Trachtman <Hdt at MIT-OZ>

    Try (string-trim #\return /"foo/")
      The argument to Car, 141 was of the wrong type.
    The function expected a cons.
I fixed STRING[-REVERSE]-SEARCH[-NOT]-SET to use ARGUMENT-TYPECASE, and
now the message is more reasonable, but I didn't patch it.  I don't know
if common lisp expects this to work; I wouldn't.
26-Oct-82 17:03:50-EDT,727;000000000000
Mail-From: GREN created at 26-Oct-82 17:01:11
Date: 26 October 1982  17:01-EDT (Tuesday)
Sender: GREN at MIT-OZ
From: Ian G. Macky <Phaedrus@OZ>
To:   bug-lispm at MIT-OZ
Subject: [CAL: forwarded]

Date: Tuesday, 26 October 1982  15:57-EDT
From: Cliff Lasser <CAL>
To:   bug-finger

finger /lisp-machine does not work properly.  Everytime I call it, I get a
different list of lispm users even when the calls are 2 seconds apart.  The
first time I do a "f /l" NO lispm users are printed.  The second time and
every time after that more users are printed that the previous time.  In
all cases, the correct free lisp machines are printed.  I'm not sure when
the list resets itself to no logged in users.
-------
26-Oct-82 22:41:26-EDT,643;000000000000
Date: Tuesday, 26 October 1982, 22:18-EDT
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at EE

In Experimental System 218.94, Zmail 65.33, LMFS 28.12, Tape 11.0,
LGP 20.4, microcode 962, site configuration 24, on Lisp Machine Twenty:

After typing a file full of DEFUN-METHODs with the function-spec and
flavor-name in the wrong order I wonder:

Is there some good reason why in a defmethod the flavor name comes first
but ina defun-method the flavor-name comes second. It just seems that
niceness and consistency would have suggested the other way around.

Its clearly much too late to fix this now though I guess.
26-Oct-82 22:54:08-EDT,274;000000000000
Mail-From: RICKL created at 26-Oct-82 22:50:15
Date: 26 Oct 1982 2250-EDT
From: RICKL at MIT-OZ
Subject: left mouse button, cadr 19
To: bug-lispm at MIT-OZ

left mouse button, cadr 19, sometimes sticks.  a low-level
problem, but one you should be aware of.
-------
26-Oct-82 23:13:58-EDT,1376;000000000000
Date: Tuesday, 26 October 1982, 22:57-EDT
From: hewitt at MIT-OZ
Sender: JCMa at MIT-OZ
To: BUG-LISPM at MIT-EECS
Cc: bug-apiary-hardware at MIT-OZ

In Experimental System 218.95, Zmail 65.33, LMFS 28.16, Tape 11.1,
LGP 20.4, microcode 962, site configuration 25, on Lisp Machine Apiary-2:


>>Error: #<LISPM-CHAOS-HOST MIT-APIARY-2> is not a known file server host.
While in the function FS:GET-PATHNAME-HOST  FS:DEFAULT-PATHNAME  FS:MAKE-PATHNAME-1



FS:GET-PATHNAME-HOST: (P.C. = 121)
 Arg 0 (HOST-NAME): #<LISPM-CHAOS-HOST MIT-APIARY-2>
   --Defaulted args:--
 Arg 1 (NO-ERROR-P): NIL
Local 0 (HOSTP): T
Local 1 (L): NIL
Local 2 (L1): (#<ITS-CHAOS-HOST MIT-AI>)


FS:GET-PATHNAME-HOST:
   Arg 0 (HOST-NAME): #<LISPM-CHAOS-HOST MIT-APIARY-2>
   --Defaulted args:--
   Arg 1 (NO-ERROR-P): NIL

FS:DEFAULT-PATHNAME:
   Arg 0 (DEFAULTS): ((#<TOPS20-CHAOS-HOST MIT-OZ> . #<TOPS20-PATHNAME "OZ:PS:<JCMA>">) (#<TOPS20-CHAOS-HOST MIT-EECS> . #<TOPS20-PATHNAME "EE:PS:<ANONYMOUS>">) (#<LISPM-CHAOS-HOST Local-Host> . #<LMFS-PATHNAME "Local-Host:>DLA>">) (#<LISPM-CHAOS-HOST SCRC-POINTER> . #<LMFS-PATHNAME "F:>Zippy>">) ...)
   Arg 1 (HOST): #<LISPM-CHAOS-HOST MIT-APIARY-2>
   Arg 2 (DEFAULT-TYPE): NIL
   Arg 3 (DEFAULT-VERSION): NIL
   Arg 4 (INTERNAL-P): T

FS:MAKE-PATHNAME-1:
   Rest arg (OPTIONS): (:DIRECTORY :ROOT :NAME :WILD ...)
26-Oct-82 23:39:10-EDT,644;000000000000
Date: 26 October 1982  23:31-EDT (Tuesday)
Sender: HDT at MIT-OZ
From: Howard Daniel Trachtman <HDT at MIT-MC>
To:   Gregor J. Kiczales <Gregor at MIT-MC>
Cc:   INFO-LISPM at MIT-MC
In-reply-to: The message of 14 Oct 1982 22:21-EDT from Gregor J. Kiczales <Gregor at MIT-MC>

    Date: Thursday, 14 October 1982, 22:21-EDT
    From: Gregor J. Kiczales <Gregor at MIT-MC>
    To:   BUG-LISPM at MIT-MC

    When you say r(eply) top the window that pops up when you gets a
    qsend, you should then be able to say c-m-y to yank the body of
    the message you are replying to into your reply buffer.
Done in System 89.20
-------
27-Oct-82 01:40:28-EDT,897;000000000000
Date: Wednesday, 27 October 1982, 01:37-EDT
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC


ZWEI flushes the contents of *MAIL-n* buffers when you go to re-use a
mail buffer whose message was succesfully sent. This is potentially
confusing because the user doesn't really understand what action caused
the contents of the buffer to be flushed, the flushing is implicit.
Either the contents of the buffer should be flushed as soon as the
message is sent, or a new buffer should be allocated for each message.
As things are the user can type and send a message, notice that the
message is still around, then decide to send a new message depending on
the fact that the old message was still around (maybe want to take
excerpts from it), and then after being put into the mail buffer to type
the new message notice that the old message has magically disappeared.
27-Oct-82 02:41:41-EDT,1050;000000000000
Date: Wednesday, 27 October 1982, 02:36-EDT
From: Howard I. Cannon <HIC at SCRC-TENEX>
To: Gregor at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 26 Oct 82 22:18-EDT from Gregor J. Kiczales <Gregor at MIT-MC>

    Date: Tuesday, 26 October 1982, 22:18-EDT
    From: Gregor J. Kiczales <Gregor at MIT-MC>
    To: BUG-LISPM at EE

    In Experimental System 218.94, Zmail 65.33, LMFS 28.12, Tape 11.0,
    LGP 20.4, microcode 962, site configuration 24, on Lisp Machine Twenty:

    After typing a file full of DEFUN-METHODs with the function-spec and
    flavor-name in the wrong order I wonder:

    Is there some good reason why in a defmethod the flavor name comes first
    but ina defun-method the flavor-name comes second. It just seems that
    niceness and consistency would have suggested the other way around.

    Its clearly much too late to fix this now though I guess.

The reason is that in DEFUN's the function name is SECOND in the list.
DEFUN-METHODs have the function name in the same place.
27-Oct-82 04:56:21-EDT,499;000000000000
Date: Wednesday, 27 October 1982, 04:54-EDT
From: David Vinayak Wallace <Gumby at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.19,
ZMail 47.6, microcode 183, Use me, on Lisp Machine Six:

Two things: C-ABORT gets the error TV:KBD-INTERCEPT-ABORT was called
with too many arguments. Also, if I am in ^R edit message in ZMAIL and
hit M-V on a one-screenful message, the ZMAIL dies irrecoverably with
:POINT outside region errors.

27-Oct-82 07:21:18-EDT,521;000000000000
Mail-From: PGS created at 27-Oct-82 07:16:35
Date: Wednesday, 27 October 1982  07:16-EDT
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   RICKL at MIT-OZ
Cc:   bug-lispm at MIT-OZ
Subject: left mouse button, cadr 19
In-reply-to: The message of 26 Oct 1982  22:50-EDT from RICKL

It's been said before, but not this semester, I guess.

If you have a broken mouse, go to John Purbrick in 908, and give him your
broken one (leave a note explaining what's wrong if he's not there), and take
a good one.
-------
27-Oct-82 08:21:11-EDT,620;000000000000
Date: Wednesday, 27 October 1982, 08:12-EDT
From: JMiller at MIT-OZ, BEE at MIT-OZ
Sender: JMILLER at MIT-OZ
To: BUG-LISPM at MIT-EECS

In Experimental System 218.94, Zmail 65.33, LMFS 28.15, Tape 11.1,
LGP 20.4, microcode 962, site configuration 24, on Lisp Machine Six:

The following causes the editor to end up with a cleared screen, the who
line saying Run and the keyboard not listening.

Compile buffer some file with errors in it
Edit compiler warnings for that file.
Before doing the last C-. recompile the buffer getting the errors again.
Then do the last C-. and you end up in the wierd state.
27-Oct-82 09:48:33-EDT,400;000000000000
Date: Wednesday, 27 October 1982, 09:42-EDT
From: Devon S. McCullough <Devon at MIT-MC>
To: BUG-lispm at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.20,
ZMail 47.6, microcode 183, ., on Lisp Machine One:

Is there a package to draw axes and label them (sideways for sideways axes)
and is there anything that corresponds to the Alto MARKUP or DRAW programs?
27-Oct-82 13:01:36-EDT,538;000000000000
Date: Wednesday, 27 October 1982, 12:54-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: hewitt at MIT-OZ
Cc: BUG-LISPM at MIT-EECS, bug-apiary-hardware at MIT-OZ
In-reply-to: The message of 26 Oct 82 22:57-EDT from hewitt at MIT-OZ

    Date: Tuesday, 26 October 1982, 22:57-EDT
    From: hewitt at MIT-OZ

    >>Error: #<LISPM-CHAOS-HOST MIT-APIARY-2> is not a known file server host.
    While in the function FS:GET-PATHNAME-HOST  FS:DEFAULT-PATHNAME  FS:MAKE-PATHNAME-1
Fixed in EE's site files.  LOAD-PATCHES and win.
27-Oct-82 14:02:06-EDT,612;000000000000
Date: Wednesday, 27 October 1982, 13:58-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.20,
ZMail 47.6, Experimental Local-File 40.7, DPL 1.3, microcode 183, -89.7,
on Lisp Machine Two:

Speaking of si:val and all that lossage, there IS a mechanism in lisp
for doing this sort of thing cleanly.  It's called lambda abstraction,
and it allows you to do substitutions without worrying about naming
conflicts.  Based on some hairy logic stuff of Alonzo Church's, it's
really pretty neat.  Try it, you'll like it.
27-Oct-82 14:24:13-EDT,614;000000000000
Date: Wednesday, 27 October 1982, 14:13-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: closure compiling
To: dove at mit-dspg, MOON at SCRC-TENEX
Cc: bug-lispm at mit-oz
In-reply-to: The message of 23 Oct 82 18:38-EDT from dove at mit-dspg,
             The message of 23 Oct 82 19:10-EDT from MOON at SCRC-TENEX

I did some metering, and closure bindings seem to take 30ms versus 24ms
for normal BIND-instruction binds.  This seems entirely reasonable
considering the extra hacking which must be done when unbinding.

The metering was done in system 218, and is in POINTER:>DLA>CLOSURE.METER.
27-Oct-82 14:34:00-EDT,297;000000000000
Date: 27 October 1982 14:28-EDT
From: Mark J. Dulcey <dulcey at MIT-ML>
To: bug-lispm at MIT-OZ

I have been away, so I have missed a bit of news.
Would someone please tell me where the following are now residing:

1.  LISPM sources.
2.  Archived bug reports (BUG-LISPM, BUG-ZWEI, etc.).
27-Oct-82 15:08:49-EDT,417;000000000000
Date: Wednesday, 27 October 1982, 14:44-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-ml

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.20,
ZMail 47.6, Experimental Local-File 40.7, DPL 1.3, microcode 183, -89.7,
on Lisp Machine Two:

In fact c-abort never ever seems to work.  What's more, while compiling,
all errors are trapped, so you can't abort a compilation.
27-Oct-82 15:28:47-EDT,783;000000000000
Date: Wednesday, 27 October 1982, 13:51-EDT
From: David Chapman <Zvona at MIT-OZ at MIT-MC>
To: BUG-LISPM at MIT-DMS

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.20,
ZMail 47.6, Experimental Local-File 40.7, DPL 1.3, microcode 183, -89.7,
on Lisp Machine Two:

There should be an abstract way to set up setf properties a la p. 230
BlueNual.  I vaugely recall DEFSETF being proposed.  Having to know
about a random property of something whose car is something random and
whose cdr is even more random, with random si: keywords with magic
properties, is a bad thing.

When I sent this, oz was not talking to the net, so I did c-abort.
kbd-intercept-abort (or some such) died with an extra argument, which
was a ZMACS-PANE instance.





27-Oct-82 16:07:49-EDT,384;000000000000
Date: Wednesday, 27 October 1982, 15:52-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Pathname casing in 218, UNIX especially
To: info-lispm at SCRC-TENEX

218.99 fixes the rest of the known pathname-case problems.  If your
favorite case problem persists, please report it.

Unix users note:  init filenames are now in lower case.  I.e.
"lispm.in", and "zmail.in".
27-Oct-82 17:08:12-EDT,582;000000000000
Date: Wednesday, 27 October 1982  16:43-EDT
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ at MIT-MC>
Cc:   BUG-LISPM at oz
Subject: DEFSETF
In-reply-to: The message of 27 Oct 1982 13:51-EDT from David Chapman <Zvona at MIT-OZ at MIT-MC>

    Date: Wednesday, 27 October 1982, 13:51-EDT
    From: David Chapman <Zvona at MIT-OZ at MIT-MC>

    There should be an abstract way to set up setf properties a la p. 230
    BlueNual.
Your are right, of course.  Common Lisp will standardize a DEFSETF although
it's not in the most recent (July) draft manual.
27-Oct-82 21:12:26-EDT,521;000000000000
Date: Wednesday, 27 October 1982, 21:04-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: Zvona at MIT-OZ, BUG-LISPM at MIT-ml

    Date: Wednesday, 27 October 1982, 14:44-EDT
    From: David Chapman <Zvona at MIT-OZ>
    To: BUG-LISPM at MIT-ml

    In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.20,
    ZMail 47.6, Experimental Local-File 40.7, DPL 1.3, microcode 183, -89.7,
    on Lisp Machine Two:

    In fact c-abort never ever seems to work.

RMS fixed this at about 3:00pm.
28-Oct-82 00:39:13-EDT,638;000000000000
Date: Sunday, 24 October 1982, 01:38-EDT
From: David A. Moon <Moon at SCRC-POINTER>
Subject: What microcode do I use with 218?
To: scrc at SCRC-TENEX
Redistributed-to: INFO-LISPM at MIT-OZ
Redistributed-by: DLA at SCRC-TENEX
Redistributed-date: Thursday, 28 October 1982, 00:34-EDT

Apparently this did not get announced.  The microcode to use with system 218
is 963.  If you have a band that thinks it wants 962, it is wrong.  Anyone
who uses microcode 962 when they should be using 963 will be punished
accordingly; we have arranged for their machine to crash when they start
getting close to filling up the address space.
28-Oct-82 07:41:55-EDT,1462;000000000000
Date: Thursday, 28 October 1982, 07:40-EDT
From: John Bradstreet <Bradst at MIT-OZ>
Subject: System 89 problem with Fasload
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.15,
ZMail 47.5, microcode 183, ., on Lisp Machine One:

This bug occured when fasloading files.
For a typical program I get the following error message:

(fasload "oz:vision:<nis.lm>util.qfasl")
Loading OZ:VISION:<NIS.LM>UTIL.QFASL into package USER

>>>>TRAP 2977. (ARGTYP CONS M-T T ...)
The argument to CAR, "~% nis;lmutil is an init file for most of my programs -- KN ~%", was of the wrong type.
The function expected a cons.
While in the function SYS:FASL-OP-FRAME  SI:FASL-GROUP  SI:FASL-WHACK-SAVE-FASL-TABLE

SYS:FASL-OP-FRAME:
m-B 
SYS:FASL-OP-FRAME:

SI:FASL-GROUP:

SI:FASL-WHACK-SAVE-FASL-TABLE:

SI:FASL-WHACK:

SI:FASL-TOP-LEVEL:

SI:FASLOAD-INTERNAL:
   Arg 0 (FASL-STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:VISION:<NIS.LM>UTIL.QFASL" 15567654>
   Arg 1 (PKG): NIL
   Arg 2 (NO-MSG-P): NIL

FASLOAD:
   Arg 0 (FILE-NAME): "oz:vision:<nis.lm>util.qfasl"
   --Defaulted args:--
   Arg 1 (PKG): NIL
   Arg 2 (NO-MSG-P): NIL

SI:*EVAL:
   Arg 0 (FORM): (FASLOAD "oz:vision:<nis.lm>util.qfasl")

----------------------

Note that a similar problem occurs when I fasload any of my files. 
Does this have anything to do with the fact that these files were
compiled under system 87 ?.
28-Oct-82 07:46:52-EDT,335;000000000000
Mail-From: HANSON created at 28-Oct-82 07:45:26
Date: Thursday, 28 October 1982  07:45-EDT
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   John Bradstreet <Bradst at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: System 89 problem with Fasload


This bug was fixed in patch 89.16 or thereabouts.
Do LOAD-PATCHES.
-------
28-Oct-82 10:48:57-EDT,572;000000000000
Date: Thursday, 28 October 1982, 10:47-EDT
From: Ken Haase <KwH at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.21,
ZMail 47.6, microcode 187, ., on Lisp Machine Four:

Doing a control-meta abort in the middle of a computaton (specifically,
a DEFSYSTEM) bombed out into the cold load stream, complaining that some
asynchronous interrupt function was called with two few arguments --
precisely, it expected a second argument of <window> ; I was able to get
out simply by setting this argument...

Ken
28-Oct-82 13:51:30-EDT,937;000000000000
Date: Thursday, 28 October 1982, 13:47-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 210.126, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 19, on Zarniwoop:

Why won't this eval?

(defflavor foo (array)
	   ()
  :initable-instance-variables
  :ordered-instance-variables
  :outside-accessible-instance-variables
  :settable-instance-variables)

>>TRAP: Some argument to AS-1, NIL, was of the wrong type.
The function expected an array.
While in the function AS-1  SI:DEFFLAVOR1  SI:*EVAL  EVAL-WHEN

SI:DEFFLAVOR1:
   Arg 0 (FLAVOR-NAME): FOO
   Arg 1 (INSTANCE-VARIABLES): (ARRAY)
   Arg 2 (COMPONENT-FLAVORS): NIL
   Arg 3 (OPTIONS): (INITABLE-INSTANCE-VARIABLES ORDERED-INSTANCE-VARIABLES OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES SETTABLE-INSTANCE-VARIABLES)
 Warning: The default cons area is *FLAVOR-AREA*, not working-storage-area.
 
* 
28-Oct-82 14:11:03-EDT,276;000000000000
Date: Thursday, 28 October 1982, 14:04-EDT
From: Webster Dove <dove at MIT-DSPG>
To: bug-lispm at oz

How easy would it be to have an array type that could store float
complex fix etc, within itself as opposed to art-q which allocates most
values from working-storage.
28-Oct-82 20:23:21-EDT,810;000000000000
Date: Thursday, 28 October 1982, 20:16-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: DEFFLAVOR blowout in 210.
To: Webster Dove <dove at MIT-DSPG>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 28 Oct 82 13:47-EDT from Webster Dove <dove at MIT-DSPG>

    Date: Thursday, 28 October 1982, 13:47-EDT
    From: Webster Dove <dove at MIT-DSPG>
    In System 210.126, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
    microcode 896, site configuration 19, on Zarniwoop:

    Why won't this eval?

    (defflavor foo (array)
	       ()
      :initable-instance-variables
      :ordered-instance-variables
      :outside-accessible-instance-variables
      :settable-instance-variables)
I don't know, it works fine for me in 218.108.  Hopefully,
this means it's fixed in 218.
29-Oct-82 00:54:14-EDT,155;000000000000
Date: Friday, 29 October 1982, 00:51-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
To: bug-lispm-mit at MIT-OZ

Patch 89.21 fixes the bug in C-Abort.
29-Oct-82 01:43:20-EDT,451;000000000000
Date: Friday, 29 October 1982, 01:40-EDT
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: file server bug
To: bug-oz at MIT-OZ, bug-lispm at MIT-OZ, gren at MIT-OZ, mt at MIT-OZ

Opening any OZ filename with a specific version number,
such as PS:<RMS>FOO.QFASL.3 (I tried that one)
 for ':DIRECTION ':OUTPUT from a Lisp machine
now gets the error "file not found"!

The file indeed does not exist.

This makes it hard to compile files.
29-Oct-82 04:30:29-EDT,646;000000000000
Date: Friday, 29 October 1982, 04:28-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: file server bug
To: Richard M. Stallman <RMS at MIT-OZ>
Cc: bug-oz at MIT-OZ, bug-lispm at MIT-OZ, gren at MIT-OZ, mt at MIT-OZ
In-reply-to: The message of 29 Oct 82 01:40-EDT from Richard M. Stallman <RMS at MIT-OZ>

    Date: Friday, 29 October 1982, 01:40-EDT
    From: Richard M. Stallman <RMS at MIT-OZ>

    Opening any OZ filename with a specific version number,
    such as PS:<RMS>FOO.QFASL.3 (I tried that one)
     for ':DIRECTION ':OUTPUT from a Lisp machine
    now gets the error "file not found"!
Gren's bug, but I fixed it.
29-Oct-82 14:46:28-EDT,592;000000000000
Date: Friday, 29 October 1982, 10:19-EDT
From: Edward Barton <EB at FC>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System
89.24, ZMail 47.7, microcode 183, try me, on Lisp Machine Eighteen:

I don't know an easy way to reproduce this, but I just got TRAP ... The
variable NIL is unbound (in a closure value-cell).  While in the
function TV:INSPECT-ARRAY-PRINTER  (:METHOD TV:FUNCTION-TEXT-SCROLL-WINDOW :PRINT-ITEM)
 (:METHOD TV:INSPECT-PANE-WITH-TYPEOUT :COMBINED :PRINT-ITEM).  This was while
using the inspector on an EQ hash table.
29-Oct-82 15:06:33-EDT,288;000000000000
Date: Friday, 29 October 1982, 15:00-EDT
From: Hewitt at MIT-XX at MIT-MC
Sender: DEJONG at MIT-OZ
Subject: MIT system lives where?
To: BUG-LISPM at MIT-EECS
Cc: hewitt at MIT-XX at MIT-MC

Can anyone tell me where the stuff for the MIT specific systems lives?

Thanks,

Carl
29-Oct-82 22:47:20-EDT,1335;000000000000
Date: Friday, 29 October 1982, 22:45-EDT
From: Barry W. Margolin <Margolin at MIT-MULTICS>
Subject: deleting names on Multics files
To: BUG-LISPM at MIT-OZ, bug-chaos at multics

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Marvin:

A few minutes ago I had a file on Multics with the names "LISPM.init"
and "lispm.init" in the directory >udd>m>barmar.  In the editor I then did M-X Copy
File from EE:<s.barmar>lispm.init to cmul:>udd>m>barmar>lispm.init.  The
copy went fine, but now it has lost the name "LISPM.init".  I can think
of two "right" things to happen, and this is not either of them.  It
would make sense for it to do what the Multics copy command does in this
case, i.e. I should end up with two files, the old LISPM.init and the
new lispm.init (Multics is nice enough to warn you that it has removed
the name from an existing file).  It would also be reasonable for the
new file to have both names of the old file.

Suggestion: since the Lisp Machine generally prefers to use
version-numbered file systems, on which the case of copying a file to a
destination that already exists is not generally done, it would be nice
if the user were warned when files are replaced instead of version
numbers being incremented.
30-Oct-82 07:45:52-EDT,1169;000000000000
Date: Saturday, 30 October 1982  07:38-EDT
From: DLW at SCRC-TENEX
To:   Barry W. Margolin <Margolin at MIT-MULTICS>
Cc:   bug-chaos at multics, BUG-LISPM at MIT-OZ
Subject: deleting names on Multics files
In-reply-to: The message of 29 Oct 1982 22:45-EDT from Barry W. Margolin <Margolin at MIT-MULTICS>

Making the Lisp Machine generic file system work with multiple names
would be a tremendous amount of work; it would involve a large
remodularization, and the changing of a LOT of code to handle these
cases.  Given the low demand for Multics file servers, it just is not
worth it.  So please accept it as the state of the world that Lisp
Machines will NOT work with multiply-named files.  I'm sorry.

You say that in some cases of writing to files on Multics, you'd
want to be queried if you're overwriting an existing file (e.g.
copying), but presumably not in other cases (e.g. saving your
editor buffer).  This means that the low-level file writing level
cannot know whether to do this check; each high-level command such
as "copy" that writes files must know whether to do it.  Can we
characterize the set of all such high-level commands?
30-Oct-82 08:10:49-EDT,825;000000000000
Date: Saturday, 30 October 1982  07:58-EDT
From: MOON at SCRC-TENEX
To:   DLW at SCRC-TENEX
Cc:   bug-chaos at multics, BUG-LISPM at MIT-OZ,
      Barry W. Margolin <Margolin at MIT-MULTICS>
Subject: deleting names on Multics files
In-reply-to: The message of 30 Oct 1982  07:38-EDT from DLW at SCRC-TENEX

    Date: Saturday, 30 October 1982  07:38-EDT
    From: DLW at SCRC-TENEX
    In-reply-to: The message of 29 Oct 1982 22:45-EDT from Barry W. Margolin <Margolin at MIT-MULTICS>

    Making the Lisp Machine generic file system work with multiple names
    would be a tremendous amount of work;
But Barry's bug (replacing a file named FOO and BAR with a file named BAR
deleted the file named FOO) is clearly in the Multics FILE server, not
in anything in the Lisp machine (or any other FILE user end).
30-Oct-82 10:10:38-EDT,1648;000000000000
Return-Path: <Lamson@MIT-MULTICS.ARPA>
Date:  30 October 1982 09:54 edt
From:  Richard Lamson at MIT-MULTICS
Subject:  Re: deleting names on Multics files
Sender:  Lamson.SysMaint at MIT-MULTICS
Reply-To:  Lamson at MIT-MULTICS
To:  MOON at SCRC-TENEX
cc:  DLW at SCRC-TENEX, bug-chaos at MIT-MULTICS, 
     BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 30 October 1982 09:48 edt from MOON
Message-ID:  <821030135404.560008 at MIT-MULTICS>

    Date:  Saturday, 30 October 1982  07:58-EDT
    From:  MOON at SCRC-TENEX
    Subject:  deleting names on Multics files

        Date: Saturday, 30 October 1982  07:38-EDT
        From: DLW at SCRC-TENEX
        In-reply-to: The message of 29 Oct 1982 22:45-EDT from Barry W. Margolin <Margolin at MIT-MULTICS>

        Making the Lisp Machine generic file system work with multiple names
        would be a tremendous amount of work;
    But Barry's bug (replacing a file named FOO and BAR with a file named BAR
    deleted the file named FOO) is clearly in the Multics FILE server, not
    in anything in the Lisp machine (or any other FILE user end).

This is right.  I complained to Bernie about this behaviour before I
knew about this side effect.  The Multics FILE server receives the file
in a segment in the process directory, and then deletes any old segment
by that name, installing the new one in its place.  This loses all sorts
of attributes, not the least of which is its names (the access control
list also suffers, if I remember correctly).

The right solution to this problem is probably to do the same things
(use?) update_seg.  Bernie?

-- Richard
30-Oct-82 10:12:09-EDT,653;000000000000
Date: 30 Oct 1982 1007-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Re: deleting names on Multics files
To: Lamson at MIT-MULTICS
cc: MOON at SCRC-TENEX, DLW at SCRC-TENEX, bug-chaos at MIT-MULTICS,
    BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 30-Oct-82 0954-EDT

(multics server copyying files)

It copies it into the correct directory with a funny name, so
it survives crashes, not the process directory.
I will change it to copy names and acls. Is there subroutine
support to move names en masse?  BTW, somebody else beside
me should at least be familiar with the internals of the multics
file server.
-------
30-Oct-82 11:02:27-EDT,557;000000000000
Date: 30 Oct 1982 1055-EDT
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: deleting names on Multics files
To: BSG at SCRC-TENEX
cc: Lamson at MIT-MULTICS, MOON at SCRC-TENEX, bug-chaos at MIT-MULTICS,
    BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 30-Oct-82 1013-EDT

It would be nice for someone else to be up to speed on the Multics
fiule server, but if we are going to have some hacker spend time
reading your code, I'd rather have a second person become familiar
with LMFS!  Perhaps I should put this on my queue...
-------
30-Oct-82 11:17:30-EDT,504;000000000000
Date: Saturday, 30 October 1982, 07:51-EDT
From:  <Margolin at MIT-MULTICS>
Subject: the fancy rubout handler
To: BUG-LISPM at EE

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 27, on Marvin:

Using Hoffman's rubout handler, if you are on a line that wraps around
the window, and the cursor is on the first character of a continuation
line, then there is no blinking cursor showing.  It just disappears
until you move it somewhere else.
30-Oct-82 11:19:03-EDT,2164;000000000000
Date: Saturday, 30 October 1982, 08:41-EDT
From:  <Margolin at MIT-MULTICS>
Subject: More rubout handler bugs
To: BUG-LISPM at EE
Cc: York at Multics

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 27, on Marvin:

First, an update on my previous bug report: The behavior I described
(cursor blinker disappears) only seems to happen on full screen windows.
It loses differently on other windows.  In that case, when point is at
(i.e. before, since point is always between two characters) the first
character of a continuation line the cursor blinker is actually in the
"phantom" rightmost column of the previous line.  (BTW, it would be nice
if a continuation marker were put in that column - it is pretty useless
otherwise).

Next, there are problems if the input text does not fit in the window
vertically.  1) If you say Meta-< you end up in the position that the
first character would be, but the text located there is the
wrapped-around text.  B. If you do a Clear-Screen you will get a
***MORE*** prompt; that would not be a problem except that the character
used to respond (even SPACE) gets put in the input line as well.  3: It
is confused about the vertical position of lines on the second
screenful, it thinks that every line is one above where it shows on the
screen; this problem goes away if More-processing is turned off for the
window, so it seems like it is not taking the MORE line into account
when counting lines.

Earlier in this session I was able to get errors from the rubout handler
by typing Clear-Screen when the input text did not fit in the window.
I was getting array-out-of-bounds errors referencing what seemed to be
the input buffer.  At one point I turned off the rubout handler, used
the normal one for a couple of lines, and then did (TV:RH-ON).  Since
then I have not been able to reproduce this bug.  If it makes any
difference, I do (TV:RH-ON) in my INIT file.

P.S. I am Cc'ing these input editor bug reports to Bill York, as he is
currently developing a similar facility for the Multics video system,
and comparisons are useful.
30-Oct-82 11:19:38-EDT,398;000000000000
Date: Saturday, 30 October 1982, 09:04-EDT
From:  <Margolin at MIT-MULTICS>
Subject: USERID variable?
To: BUG-LISPM at EE

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 27, on Marvin:

Is there a variable that contains your login name?  My init file
references a variable named USERID, but this now takes an
unbound-variable error.
30-Oct-82 12:10:42-EDT,338;000000000000
Date: 30 Oct 1982 1158-EDT
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: USERID variable?
To: Margolin at MIT-MULTICS
cc: BUG-LISPM at MIT-EECS
In-Reply-To: Your message of 30-Oct-82 1114-EDT

The name of the variable has always been USER-ID.  Perhaps you
made a mistake editing your init file, or something.
-------
30-Oct-82 12:12:21-EDT,201;000000000000
Date: Saturday, 30 October 1982, 12:07-EDT
From: David Vinayak Wallace <Gumby at MIT-OZ>
Subject: USERID variable?
To: Margolin at MIT-MULTICS
Cc: BUG-LISPM at EE, gumby at MIT-OZ

use USER-ID.
30-Oct-82 12:50:18-EDT,688;000000000000
Return-Path: <Hornig@MIT-MULTICS.ARPA>
Date:  30 October 1982 12:30 edt
From:  Charles Hornig at MIT-MULTICS
Subject:  Re: deleting names on Multics files
Sender:  Hornig.Multics at MIT-MULTICS
To:  Bernard S. Greenberg <BSG at SCRC-TENEX>
cc:  Lamson at MIT-MULTICS, MOON at SCRC-TENEX, 
     DLW at SCRC-TENEX, BUG-LISPM at MIT-OZ, 
     "bug-chaos@mit-multics" at MIT-MC
In-Reply-To:  Message of 30 October 1982 10:07 edt from Bernard S. Greenberg

From the Multics point of view, I would say that the proper thing is to
do exactly what the copy command does and use "nd_handler_" (or some
equivalent).  That would fit in the best with what other Multics
subsystems do.
30-Oct-82 12:51:04-EDT,527;000000000000
Date: Saturday, 30 October 1982, 12:45-EDT
From: Chris Hanson <HANSON at MIT-OZ>
To: GREN at MIT-OZ
Cc: MOON at MIT-OZ, BUG-LISPM at MIT-OZ


The latest version of the file server on OZ (459) is once again screwed up.
It won't open output files with explicit version numbers.
Dammit, test it before you install it!

I have copied version 458 to version 460, because I was still unable
to rename 459 to something else since it was open.  If there is some
magic that will allow me to do so, please tell me.

Chris
30-Oct-82 15:37:04-EDT,1169;000000000000
Mail-From: GREN created at 30-Oct-82 15:33:55
Date: 30 October 1982  15:33-EDT (Saturday)
Sender: GREN at MIT-OZ
From: Ian G. Macky <Phaedrus@OZ>
To:   Chris Hanson <HANSON at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ, MOON at MIT-OZ, Zvona at MIT-OZ
Subject: Output files with explicit version #'s...


...are now done differently:  When you try to write over an EXISTING
file, the FILE server will attempt to lock that file (giving "Invalid
simultaneous access" if it can't), and then creates a temporary file
of what you send, and when done renames the temporary file over the
previous locked one.  We're doing it like this to make sure nothing
can ever be trashed, even if the FILE server dies in the middle of
writing the new file.

Before this, you could not write over existing versions of files at
all.

Chris, you said it would not write an output file that included a
version number.  Can you duplicate this?  What error did you get?
I tried it with the server you said was bad, and succeeded in making
new files with a specific version, and in overwriting old ones...

I will leave the older one you put up there until this is cleared
up.
30-Oct-82 15:44:37-EDT,1007;000000000000
Date: Saturday, 30 October 1982, 15:39-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.25,
ZMail 47.8, Experimental Local-File 40.7, microcode 183,  ,
on Lisp Machine Two:

I have a file with a flavor which has special instance variables.
(<daniel.dpl>window is the file, VIEW is the flavor.)  The special
instance vars all appear in a :special-instance-variables form in
the flavor.  Defmethods for the flavor appear below it.  When the
file compiles (in an environment where the file has not yet been
loaded) I get tons of warning messages about how the special
instance vars must appear in the :special-instance-variables form
in the defflavor and that my code ain't gonna work.  In spite of
the warnings the code works anyway.  When the file loads the bogus
messages appear when the :gettable and :settable methods
are frobed (the last form of the file is (compile-flavor-methods
view ...)).  
30-Oct-82 15:45:35-EDT,1337;000000000000
Return-Path: <Lamson@MIT-MULTICS.ARPA>
Date:  30 October 1982 15:29 edt
From:  Richard Lamson at MIT-MULTICS
Subject:  Re: deleting names on Multics files
Sender:  Lamson.SysMaint at MIT-MULTICS
Reply-To:  Lamson at MIT-MULTICS
To:  Bernard S. Greenberg <BSG at SCRC-TENEX>
cc:  MOON at SCRC-TENEX, DLW at SCRC-TENEX, 
     bug-chaos at MIT-MULTICS, BUG-LISPM at MIT-OZ
In-Reply-To:  Message of 30 October 1982 10:07 edt from Bernard S. Greenberg
Message-ID:  <821030192934.522787 at MIT-MULTICS>

    Date:  30 Oct 1982 1007-EDT
    From:  Bernard S. Greenberg <BSG at SCRC-TENEX>
    Subject:  Re: deleting names on Multics files

    (multics server copyying files)

    It copies it into the correct directory with a funny name, so
    it survives crashes, not the process directory.
    I will change it to copy names and acls. Is there subroutine
    support to move names en masse?  BTW, somebody else beside
    me should at least be familiar with the internals of the multics
    file server.
    -------

There is a subroutine for copying acls and one for moving names.  See
copy_acl_.info and move_names_.info.

I am also familiar with the file server, but that's of little help...
However, I claim that anybody who can understand dialup_ can get the
file server with no trouble.

-- Richard
30-Oct-82 16:05:07-EDT,652;000000000000
Return-Path: <Lamson@MIT-MULTICS.ARPA>
Date:  30 October 1982 15:53 edt
From:  Richard Lamson at MIT-MULTICS
Subject:  Re: File Server rename
Sender:  Lamson.SysMaint at MIT-MULTICS
Reply-To:  Lamson at MIT-MULTICS
To:  BSG at SCRC-TENEX
cc:  bug-chaos at MIT-MULTICS, CWH at SCRC-TENEX, 
     Margolin at MIT-MULTICS, bug-lispm at MIT-MC
In-Reply-To:  Message of 30 October 1982 12:30 edt from Bernard S. Greenberg
Message-ID:  <821030195317.754814 at MIT-MULTICS>

I have installed this version of the file server.  Jeff, the io segment
is in >lib>mgp>install>chfile1; I used your special version of "usec" to
create it.

-- Richard
30-Oct-82 17:30:17-EDT,697;000000000000
Date: Saturday, 30 October 1982, 17:25-EDT
From: Ken Church <kwc at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.25,
ZMail 47.8, microcode 187, ., on Lisp Machine Four:

If I make an equal hash-table and put two values into the table with the same
key and then call maphash-equal on the table, maphash-equal will apply the function
twice, not once.

For example,

(setq x (make-equal-hash-table))

(puthash-equal 1 1 x)
(convert-hash-to-list x) ==> (1)

(puthash-equal 1 2 x)
(convert-hash-to-list x) ==> (nil 1)

where the function convert-hash-to-list calls maphash-equal and conses the keys
into a list.

- ken
30-Oct-82 17:36:11-EDT,429;000000000000
Date: 30 Oct 1982 1426-PDT
From: ddyer
Subject: poor form in INSPECT
Sender: DDYER at USC-ISIB
To: bug-lispm at MIT-MC


 The inspector defines a variant of mouse sensitive items.  Unfortunately
the semantics of the ITEM message are incompatable with the usual ITEM
message.  The result is that when my objects try to PRINT-SELF in a mouse
sensitive way in an inspector window, the inspector detonates.



-------
30-Oct-82 17:58:45-EDT,1140;000000000000
Date: Saturday, 30 October 1982, 17:52-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Marvin:

I tried

(defstruct (a :conc-name (:type :named-list)) first)
(setq b (make-a))
(a b)
(typep b)
LIST
(typep b 'a)
NIL

The documentation would have me believe that the last two functions
should have returned something more like #<a-554345345> and T.  Is this
an error in the documentation or my reading of it?

Note also the following:

(describe-defstruct b)
>>>>TRAP 4019. (ARGTYP ARRAY M-A NIL ...) ->  ARRAY-HAS-LEADER-P 
Some argument to ARRAY-HAS-LEADER-P, (A NIL), was of the wrong type.
The function expected an array.
While in the function NAMED-STRUCTURE-SYMBOL  DESCRIBE-DEFSTRUCT  SI:*EVAL

NAMED-STRUCTURE-SYMBOL:
   Arg 0 (NAMED-STRUCTURE): (A NIL)
 
* 

(describe-defstruct b 'a)
(A NIL) is a A
   FIRST:                        NIL

NIL

I can guess why these things happen, I am just surprised no mention was
made in the documentation.
30-Oct-82 18:38:09-EDT,1136;000000000000
Date: Saturday, 30 October 1982, 18:35-EDT
From: Daniel Weise <Daniel at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.25,
ZMail 47.8, Experimental Local-File 40.7, Experimental DPL 3.0,
microcode 183,  , on Lisp Machine Two:

If I qc-file-load a file (<daniel>test.lisp) containing just

------------

(defun foo7 (x)
  `(setq ,x 0))

(defmacro foo5 (name &rest x)
  `(progn
     (defprop ,name ,(mapcar #'foo8 x) initer1)
     (defprop ,name ,(mapcar #'foo7 x) initer2)))

(defun foo8 (x)
  `(setq ,x 0))

(foo5 startup0 a b cd)
(foo5 startup1 j k l)
(foo5 startup2 m n b)
  

------------

Then I get the message "The function foo8 is undefined" for each
macroexpansion of foo5 (ie, I get it three times).  The compiler really
believes this.  However, doing M-X compile buffer on a buffer containing
above yields no such messages and the code works.  (Of course when
compiling from the buffer I renamed foo8 so that the compiler wouldn't
see the definition from earlier compilations (how do you think the
numbers got so high?).)

Daniel
30-Oct-82 18:58:06-EDT,662;000000000000
Date: 30 Oct 1982 1848-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Re: deleting names on Multics files
To: Lamson at MIT-MULTICS
cc: MOON at SCRC-TENEX, DLW at SCRC-TENEX, bug-chaos at MIT-MULTICS,
    BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 30-Oct-82 1529-EDT

I looked at copy_acl_ and move_names, but could not call tehm.
They are useless, as they call interactive routines
(nd handler) UNLESS THEY ARE NOT RUNNING IN THE LOGIN RING!  What
a kludge!

One of the funnienst incidents I remember with CRD was one
day when rwe saw "nd" isntead of "end" somewhere, and
CRD said, "Oh, we should call nd_handler_!".
-------
30-Oct-82 19:48:25-EDT,859;000000000000
Date: Saturday, 30 October 1982, 19:46-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: New Error System documentation
To: INFO-LISPM-MIT at MIT-OZ
Cc: whit at scrc-vixen, JWALKER at SCRC-TENEX, DLA at SCRC-TENEX

An updated version of the new error system documentation has been placed
in EE:LIB:<LISPM.DOCUMENTATION>NES.LPT.  It is in a somewhat easier to
read format.

A few people have requested that MIT get press files of these documents
just in case the dover comes back up.  Unfortunately, the fonts used in
these programs is incompatible with the dover; so we can't just copy
over the files.  In any case, MIT will receive ample hardcopies of
documentation at the next scheduled software release, which is currently
scheduled for the first week in December.  (The current "218" release is
only to beta-test sites, for testing.)
31-Oct-82 00:44:18-EDT,1335;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  31 October 1982 00:32 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: deleting names on Multics files
Sender:  Margolin.Multics at MIT-MULTICS
To:  Charles Hornig at MIT-MULTICS
cc:  Bernard S. Greenberg <BSG at SCRC-TENEX>, 
     Lamson at MIT-MULTICS, MOON at SCRC-TENEX, 
     DLW at SCRC-TENEX, BUG-LISPM at MIT-OZ, 
     "bug-chaos@mit-multics" at MIT-MC
Acknowledge-To:  Margolin.Multics at MIT-MULTICS
In-Reply-To:  Message of 30 October 1982 12:30 edt from Charles Hornig

    Date:  30 October 1982 12:30 edt
    From:  Charles Hornig at MIT-MULTICS
    Subject:  Re: deleting names on Multics files

    From the Multics point of view, I would say that the proper thing is to
    do exactly what the copy command does and use "nd_handler_" (or some
    equivalent).  That would fit in the best with what other Multics
    subsystems do.




No, DLW is right.  From the Lisp Machine viewpoint there is very little
difference between copying a file and writing out a buffer.  Perhaps the
act of opening an existing file for writing (as opposed to a file with
an incremented version number) should signal, and the caller could
determine whether to issue the warning, or perhaps there could be an
open option that would control this behavior.
31-Oct-82 02:20:10-EDT,1172;000000000000
Date: 31 October 1982 01:18-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  :named-list
To: dove at MIT-DSPG, bug-lmman at SCRC-TENEX
cc: BUG-LISPM at MIT-OZ

    Date: Saturday, 30 October 1982, 17:52-EDT
    From: Webster Dove <dove at MIT-DSPG>

    (defstruct (a :conc-name (:type :named-list)) first)

    The documentation would have me believe ...

Actually the documentation is most unclear on this point.  Probably the
section on "named structures" should point out that it is only talking
about named structures built out of arrays.  It might be wise to explain
that named lists are mostly usefull in OTHER dialects of lisp.  (I put them
in originally because Multics had neither named arrays nor hunks, but
(defstruct (foo :named) ...) had to do SOMETHING on Multics.)

    Note also the following:

    (describe-defstruct b)
    >>>>TRAP 4019. (ARGTYP ARRAY M-A NIL ...) ->  ARRAY-HAS-LEADER-P 

    (describe-defstruct b 'a)
    (A NIL) is a A
       FIRST:                        NIL

Somebody could easily fix describe-defstruct to work for named lists.
(Plain describe will continue to see the object as a list of course.)
31-Oct-82 04:48:12-EST,539;000000000000
Date: Sunday, 31 October 1982, 05:44-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.25,
ZMail 47.8, Experimental Local-File 40.7, microcode 183,  ,
on Lisp Machine Two:

M-X Print File generates an error in PRESS-PRINT-FROM-STREAM, unhappy about the
existence of the keyword FORMAT.  FORMAT :TEXT is blindly passed to it by
(:DOVER :PRINT-FILE); it should be changed to remove the keyword or
PRESS-PRINT-FROM-STREAM should ignore it.
31-Oct-82 09:12:49-EST,735;000000000000
Date: Saturday, 30 October 1982, 19:20-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: the fancy rubout handler
To: Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 30 Oct 82 07:51-EDT from Margolin at MIT-MULTICS

    Date: Saturday, 30 October 1982, 07:51-EDT
    From:  <Margolin at MIT-MULTICS>
    Using Hoffman's rubout handler, if you are on a line that wraps around
    the window, and the cursor is on the first character of a continuation
    line, then there is no blinking cursor showing.  It just disappears
    until you move it somewhere else.
This has nothing to do with the rubout handler; it happens in output to
a full screen in general.
It has been fixed in 218.
31-Oct-82 09:58:08-EST,1014;000000000000
Mail-From: HANSON created at 31-Oct-82 09:55:27
Date: Sunday, 31 October 1982  09:55-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Ian G. Macky <Phaedrus at OZ>
Cc:   BUG-LISPM at MIT-OZ, MOON at MIT-OZ, Zvona at MIT-OZ
Subject: Output files with explicit version #'s...


My apologies; I tested the current version (459) again today,
and it worked correctly.  When I sent the message, I had tried

(OPEN "OZ:<HANSON.LISP>FOO.LISP.45" ':OUT)

from the lisp listener on CADR2, which I assumed was running 459,
which had been the current version for all of 30 minutes then.  I got
a "File not found" error, which is not surprising since the file I had
specified did not exist.  This is exactly the behaviour that had
previously occurred in version 456.

It is possible that the file server version CADR2 was running
was in fact 456, though I don't know how it might have happened.

I will try to be slower to jump to conclusions in the future.
Sorry I got carried away.

Chris
31-Oct-82 14:47:40-EST,707;000000000000
Date: Sunday, 31 October 1982, 14:46-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: :named-list
To: ALAN at MIT-MC
Cc: dove at MIT-DSPG, bug-lmman at SCRC-TENEX, BUG-LISPM at MIT-OZ
In-reply-to: The message of 31 Oct 82 01:18-EDT from Alan Bawden <ALAN at MIT-MC>

    Date: 31 October 1982 01:18-EDT
    From: Alan Bawden <ALAN at MIT-MC>
	Date: Saturday, 30 October 1982, 17:52-EDT
	From: Webster Dove <dove at MIT-DSPG>
	(describe-defstruct b)
	>>>>TRAP 4019. (ARGTYP ARRAY M-A NIL ...) ->  ARRAY-HAS-LEADER-P 
    Somebody could easily fix describe-defstruct to work for named lists.
    (Plain describe will continue to see the object as a list of course.)
Kicked in the shorts.
31-Oct-82 16:24:29-EST,386;000000000000
Date: Sunday, 31 October 1982  16:14-EST
From: MOON at SCRC-TENEX
To:   Daniel Weise <Daniel at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 30 Oct 1982 18:35-EDT from Daniel Weise <Daniel at MIT-OZ>

Put (eval-when (compile load eval) ...) around defuns that you want at compile
time as well as at run time (such as f008 in your message).  It's in the manual.
31-Oct-82 16:44:51-EST,429;000000000000
Date: Sunday, 31 October 1982  16:38-EST
From: MOON at SCRC-TENEX
To:   bug-lispm at oz
Subject: Bug report heading

	In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System 89.25,
	ZMail 47.8, Experimental Local-File 40.7, microcode 183,  ,

Could someone please fix this to put the system version first, as in Symbolics
systems?  It would make it easier for me to know what bugs I am not responsible
for.
 1-Nov-82 08:56:58-EST,373;000000000000
Date: Monday, 1 November 1982, 08:50-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 89.25, Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific
14.0, ZMail 47.8, microcode 183, ., on Lisp Machine Eighteen:

If you are in M-X Edit Warnings and you do C-X O and write the warnings
out to someplace, H-C-W things you have not done Edit Warnings.
 1-Nov-82 08:58:48-EST,447;000000000000
Date: Monday, 1 November 1982, 08:53-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System
89.25, ZMail 47.8, microcode 183, ., on Lisp Machine Eighteen:

I have a file with the following DEFMETHOD in it:

(defmethod 
  (grammar-manipulation-mixin :do-rhs-forwarding-adjustment) (r)
  ...)

Sectionization cannot find this definition except by textual search.
 1-Nov-82 09:17:16-EST,1150;000000000000
Date: Monday, 1 November 1982, 09:15-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System
89.25, ZMail 47.8, microcode 183, ., on Lisp Machine Eighteen:

I did Meta-Q in Converse to fill a paragraph of a long message.  That
works sometimes, but this time, in addition to rearranging my text in a
pleasant way, it caused Converse to dislike the state of the buffer.
When I tried to send the message I got an error message saying that I
should do M-X Regenerate Buffer and "try again."  Evidently M-X
Regenerate Buffer destroys whatever you have just spent five minutes
typing in, so I guess "try again" means "type everything in again."
(Naturally the destroyed text wasn't on the kill ring or anything.)

Perhaps the message should warn you that you are about to lose whatever
you were doing, or should say "Buffer evidently damaged; do M-X
Regenerate Buffer and I will erase your message for you," or should say
"Buffer evidently damaged; please cold-boot and go home."  Or perhaps
M-X Regenerate Buffer should be renamed to M-X Destroy Current Message.
 1-Nov-82 11:31:22-EST,328;000000000000
Date: Monday, 1 November 1982, 11:26-EST
From: Ken Church <kwc at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.29,
ZMail 47.9, microcode 187, ., on Lisp Machine Four:

terminal-d and terminal-e both fail.  The error message says that AI is not
a known address.
 1-Nov-82 11:54:56-EST,1954;000000000000
Date: 1 November 1982  11:30-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard Daniel Trachtman <HDT at MIT-MC>
To:   Ed Barton <EB at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ, bug-converse at MIT-OZ
In-reply-to: The message of 1 Nov 1982 09:15-EST from Ed Barton <EB at MIT-OZ>

    Date: Monday, 1 November 1982, 09:15-EST
    From: Ed Barton <EB at MIT-OZ>
    To:   BUG-LISPM at MIT-OZ

    In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System
    89.25, ZMail 47.8, microcode 183, ., on Lisp Machine Eighteen:

    I did Meta-Q in Converse to fill a paragraph of a long message.  That
    works sometimes, but this time, in addition to rearranging my text in a
    pleasant way, it caused Converse to dislike the state of the buffer.
    When I tried to send the message I got an error message saying that I
    should do M-X Regenerate Buffer and "try again."  Evidently M-X
    Regenerate Buffer destroys whatever you have just spent five minutes
    typing in, so I guess "try again" means "type everything in again."
    (Naturally the destroyed text wasn't on the kill ring or anything.)

Yes, this is a problem, and the text you just typed should be saved.
The lossage that is caused is by somehow the borders of a conversation
getting munged.  I am working (a little) on trying to make it very much
more difficult to edit the borders away.

    Perhaps the message should warn you that you are about to lose whatever
    you were doing, or should say "Buffer evidently damaged; do M-X
    Regenerate Buffer and I will erase your message for you," or should say
    "Buffer evidently damaged; please cold-boot and go home."  Or perhaps
    M-X Regenerate Buffer should be renamed to M-X Destroy Current Message.

I'll change the message soon, and maybe fix the problem later.
In general bugs in converse should go to bug-converse, unless
they are relevent for general bug-lispm or bug-zwei perusal.

 1-Nov-82 11:57:23-EST,787;000000000000
Date: 1 November 1982  11:32-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard Daniel Trachtman <HDT at MIT-MC>
To:   Ken Church <kwc at MIT-ML>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 1 Nov 1982 11:26-EST from Ken Church <kwc at MIT-ML>

    Date: Monday, 1 November 1982, 11:26-EST
    From: Ken Church <kwc at MIT-ML>
    To:   BUG-LISPM at MIT-OZ

    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.29,
    ZMail 47.9, microcode 187, ., on Lisp Machine Four:

    terminal-d and terminal-e both fail.  The error message says that AI is not
    a known address.

The AI chaosnet interface is broken, so neither the door nor
the elevator can be hacked as AI is no longer on the
chaosnet.  Thus, AI is an unknown chaosnet address.
 1-Nov-82 12:12:55-EST,421;000000000000
Mail-From: CYPHER created at  1-Nov-82 00:10:20
Date: 1 November 1982  00:10-EST (Monday)
Sender: CYPHER at MIT-OZ
From: D. Scott Cyphers <CYPHER at MIT-MC>
Subject: obsolete function idea
To:   bug-lispm at MIT-OZ

When the compiler warns about obsolete functions for which it knows
the correct replacement, could it be made to ask if you want the
source modified to the appropriate new format and then do it?
 1-Nov-82 14:08:17-EST,961;000000000000
Date: Monday, 1 November 1982, 13:56-EST
From: W. Eric L. Grimson <welg at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.0, MIT-Specific 10.0,
System 87.72, ZMail 46.10, microcode 183, try me,
on Lisp Machine Three:

This may not be going to the appropriate place, but for lack of any better idea, 
I'm sending it here.  I have the following problem:

while attempting to assemble a file of hand-coded microcode, (in particular, while
attempting to run (UA:ADD-ASSEMBLY ***)), I get an array-out-of-bounds error in the 
function CONS-LAP-PASS2 (called by CONS-LAP, which is called by ASSEMBLE).  Since this
seems to be related to the length of the microcode file (i.e. shortening the file
causes the error to occur at different points), is there some easy way of telling
the system to allocate a larger array before performing the assembly??? (I can't shorten
the microcode any more....)

thanks,
eric
 1-Nov-82 21:35:36-EST,694;000000000000
Date: Monday, 1 November 1982, 21:30-EST
From: Chris Hanson <HANSON at MIT-OZ>
To: Bug-Lispm-MIT at MIT-OZ


To all users of the DLA file system (Local-File version 40):

Don't use subdirectories!  The file system has a bug which under certain
circumstances will cause the information in subdirectories to become
completely lost.  This bug is sufficiently serious that it requires a
major rewrite to fix, which I am currently doing.

Normal top-level directories still work fine.  If there is sufficient
interest, I think that I could install a patch which would allow you to
use subdirectories, but version 41 will be available soon and it will
work correctly.

Chris Hanson
 2-Nov-82 06:00:26-EST,1131;000000000000
Mail-From: KMP created at  2-Nov-82 05:33:38
Date: Tuesday, 2 November 1982  05:33-EST
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   BUG-LISPM at MIT-OZ
Subject: Scheduler death

In System 210.128,...

I had a function that lost in the scheduler (something given to PROCESS-WAIT)
and I corrected the error. I typed ^Z to the scheduler and it "blasted" my
process to prevent iterative lossage. I think that was ok. I sent that process
a :RESET message to make it be able to run again and I lost on another
(unrelated error). This time, however, when I ^Z'd from the error and it 
restarted the scheduler, it blasted my my Chaos Background process and left
my machine dead (no run bar). I didn't lose much and I sort of expected
this sort of thing to happen since I was playing with PROCESS-WAIT, but I
still have the suspicion that the thing which decides what process to
"blast" may not be using a very reliable criterion. Its having attacked and
killed my Chaos process seems a little suspicious...

I tried this a second time and could not reproduce it. Nevertheless, I'm quite
sure it happened.

-kmp
 2-Nov-82 06:01:04-EST,539;000000000000
Mail-From: KMP created at  2-Nov-82 05:38:13
Date: Tuesday, 2 November 1982  05:38-EST
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   BUG-LISPM at MIT-OZ
Subject: Cold load stream trashing the screen

Is there any reason that the things which use the cold load stream have
to be so mean to the screen? Couldn't most things of this nature work like 
a temp window and blt all the screen's bits into safe keeping and restore 
them afterward? I hate cleaning up the mess that the cold load stream 
leaves all over everything... 
 2-Nov-82 06:02:12-EST,1309;000000000000
Mail-From: KMP created at  2-Nov-82 05:53:11
Date: Tuesday, 2 November 1982  05:53-EST
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   bug-lispm at MIT-OZ

(defmethod (queue :wait) (&optional (whostate "Idle"))
  (let ((flag nil))
    (process-wait whostate #'(lambda (flag-loc storage-loc)
			       (cond ((examine storage-loc) t)
				     (t
				      (cond ((not (examine flag-loc))
					     (make-noise-about ':idle)
					     (deposit flag-loc t)))
				      nil)))
		  (locf flag)
		  (locf storage))))

This function dies because (oddly enough), FLAG is unbound in the scheduler's
stack group. I used to write

(defmethod (queue :wait) (&optional (whostate "Idle"))
  (process-wait whostate #'(lambda (flag-cell storage-loc)
			     (cond ((examine storage-loc) t)
				   (t
				    (cond ((not (car flag-cell))
					   (make-noise-about ':idle)
					   (rplaca flag-cell t)))
				    nil)))
		(ncons nil)
		(locf storage)))

but someone on BUG-LISPM suggested to me that this could be written using
a locative to something on the stack. It's not readily obvious to me how
to do this. Can someone enlighten me? Thanks.

-kmp

ps Assume that EXAMINE is CDR, DEPOSIT is RPLACD, MAKE-NOISE-ABOUT just beeps,
   and STORAGE is one of QUEUE's instance variables.

 2-Nov-82 08:48:41-EST,1111;000000000000
Date: Tuesday, 2 November 1982, 08:43-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: KMP at MIT-MC
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 2 Nov 82 05:53-EST from KMP at MIT-MC

    Date: Tuesday, 2 November 1982  05:53-EST
    From: KMP at MIT-MC
    (defmethod (queue :wait) (&optional (whostate "Idle"))
      (let ((flag nil))
	(process-wait whostate #'(lambda (flag-loc storage-loc)
				   (cond ((examine storage-loc) t)
					 (t
					  (cond ((not (examine flag-loc))
						 (make-noise-about ':idle)
						 (deposit flag-loc t)))
					  nil)))
		      (locf flag)
		      (locf storage))))

    This function dies because (oddly enough), FLAG is unbound in the scheduler's
    stack group.
The only way the above function would work is if FLAG is not special.
If it is special (which it evidently is), the binding is only active
when the process (stack group) is running.

The above example would also work if FLAG were a closure variable (as
long as EVCPs are followed, which they are in 218, I don't remember what
LOCF does in 210), or an instance variable.
 2-Nov-82 09:18:53-EST,558;000000000000
Date: Tuesday, 2 November 1982, 09:06-EST
From: Chris Hanson <HANSON at MIT-OZ>
To: BUG-OZ at MIT-OZ
Cc: BUG-LISPM-MIT at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.29,
ZMail 47.9, microcode 187, ., on Lisp Machine Six:

When asked for the directory list of a pathname whose version is :NEWEST,
the file server is treating it exactly as if it were :WILD.  This causes
FS:FILE-PROPERTIES to return the plist of the wrong function.  As a
consequence, FS:COPY-FILE will copy the oldest instead of the newest file.
 2-Nov-82 14:40:10-EST,399;000000000000
Mail-From: RICH created at  2-Nov-82 08:09:14
Date: 2 November 1982  08:09-EST (Tuesday)
Sender: RICH at MIT-OZ
From: Charles Rich <RICH at MIT-MC>
To:   bug-oz at MIT-OZ, bug-lispm-mit at MIT-OZ
Subject: Power Interruption on Weds.

Would someone please make sure that someone goes around powering
down all the disks on the Lispm's before the power is randomly
turned off.
		Thanks, CR.
 2-Nov-82 16:46:32-EST,685;000000000000
Date: Tuesday, 2 November 1982, 16:06-EST
From: Mark J. Dulcey <DULCEY at FC>
Subject: Split Screen layout display
To: BUG-ZWEI at MIT-OZ, BUG-LISPM at OZ
Cc: RMS.G.Dulcey at OZ

In ZWEI in Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0,
System 89.29, ZMail 47.10, microcode 183, ., on Lisp Machine Nine:

The bug which caused split-screen in ZWEI to blow up sometimes is now
fixed.  This involved changes to (:METHOD TV:DISPLAY-LAYOUT-WINDOW
:MOVE-NEAR-WINDOW) in the file SYS: WINDOW; SYSMEN.LISP.

Note that these changes will sometimes cause the layout window to be
displayed in a different location than before.  This should not affect
anyone's programs.
 2-Nov-82 17:54:45-EST,354;000000000000
Date: Tuesday, 2 November 1982  16:22-EST
From: MOON at SCRC-TENEX
To:   KMP at MIT-MC
Cc:   BUG-LISPM at MIT-OZ
Subject: Scheduler death
In-reply-to: The message of 2 Nov 1982  05:33-EST from KMP at MIT-MC

All this process blasting lossage has been flushed.  Your suspicion that it
chose the process to blast at random appears to be accurate.
 2-Nov-82 19:46:43-EST,489;000000000000
Date: Tuesday, 2 November 1982, 19:43-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

I don't like it that it aborts loading my init file when it hits an
error.  In particular, the first thing in my init file is (load-patches)
and EE is down, so I don't get the rest of the file, which I want.
 3-Nov-82 07:17:25-EST,1193;000000000000
Mail-From: HDT created at  2-Nov-82 19:55:45
Date: 2 November 1982  19:55-EST (Tuesday)
Sender: HDT at MIT-OZ
From: Howard Daniel Trachtman <HDT at MIT-MC>
To:   David Chapman <ZVONA at MIT-OZ>
Cc:   BUG-lispm at MIT-OZ
In-reply-to: The message of 2 Nov 1982 19:43-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Tuesday, 2 November 1982, 19:43-EST
    From: David Chapman <ZVONA at MIT-OZ>
    To:   BUG-lispm at MIT-OZ

    In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
    LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

    I don't like it that it aborts loading my init file when it hits an
    error.  In particular, the first thing in my init file is (load-patches)
    and EE is down, so I don't get the rest of the file, which I want.
 System 89+ has a chaos:host-up-p function.  You could thus get around this
problem with something like:

(and (chaos:host-up-p #+symbolics 'ee #+mit 'oz) (load-patches))
 it your init file.  However, this would require the symbolics
systems to have such a function also.

Even with such a kludge, you can still get it to finish reading the file.
 3-Nov-82 08:09:38-EST,1277;000000000000
Date: Wednesday, 3 November 1982, 07:57-EST
From: David C. Plummer <DCP at SCRC-TENEX>
To: HDT at MIT-MC, ZVONA at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 2 Nov 82 19:55-EST from Howard Daniel Trachtman <HDT at MIT-MC>

    Date: 2 November 1982  19:55-EST (Tuesday)
    Sender: HDT at MIT-OZ
    From: Howard Daniel Trachtman <HDT at MIT-MC>
    To:   David Chapman <ZVONA at MIT-OZ>
    Cc:   BUG-lispm at MIT-OZ
    In-reply-to: The message of 2 Nov 1982 19:43-EST from David Chapman <ZVONA at MIT-OZ>

    (and (chaos:host-up-p #+symbolics 'ee #+mit 'oz) (load-patches))
     it your init file.  However, this would require the symbolics
    systems to have such a function also.

It's called chaos:host-up and is in the 210 release notes.  Anyway, the
whole thing is a kludge.  Load patches should be (further) NESed to
allow for the case that a host is down and have restart handlers to try
again with longer timeout, skip loading or load from another site (or
doesn't the site configuration allow this?).  I once had my login stop
because it got an error.  I disliked it.  I would much prefer to be put
in the error system so I can have a little control over what the machine
thinks I want to do (i.e., a little less DWYTIM).
 3-Nov-82 09:17:50-EST,1814;000000000000
Mail-From: IAN created at  3-Nov-82 09:15:55
Date: 3 November 1982  09:15-EST (Wednesday)
From: Ian G. Macky <Ian at MIT-OZ>
To:   RMS at MIT-OZ
Cc:   BUG-LISPM at MIT-OZ
Subject: [MOON: [HANSON: forwarded]  P.S.]

    Date: Tuesday, 2 November 1982, 09:06-EST
    From: Chris Hanson <HANSON>
    To:   BUG-OZ
    cc:   BUG-LISPM-MIT

    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.29,
    ZMail 47.9, microcode 187, ., on Lisp Machine Six:

    When asked for the directory list of a pathname whose version is :NEWEST,
    the file server is treating it exactly as if it were :WILD.  This causes
    FS:FILE-PROPERTIES to return the plist of the wrong function.  As a
    consequence, FS:COPY-FILE will copy the oldest instead of the newest file.

Date: Tuesday, 2 November 1982  21:49-EST
From: MOON at SCRC-TENEX
To:   Ian G. Macky <Ian at OZ>
Re:   [HANSON: forwarded]  P.S.

By the way, my diagnosis is deduced from Hanson's message.  Symbolics
software (or at least system 218) sends the correct string to the host; I
am assuming that only RMS Lisp machine software omits the ".0".

-------

I don't know what's going on here, but the FILE server doesn't know
anything about NEWEST or WILD or any of that -- they are not part of
the FILE protocol.  As it stands, it will default any field not
supplied: device and directory to the connected one; filename,
extension, and version# to "*"; account and protection to the login
defaults.

The LM's should be supplying the entire directory string, and not
letting any default (that is for lazies using CFTP so they needn't
type the *.*.* at the end).  If someone wants NEWEST, they should
ask for the directory listing of <dir>*.*.0, for WILD, <dir>*.*.*,
and so on.

Will someone fix this?
 3-Nov-82 11:23:43-EST,498;000000000000
Date: Wednesday, 3 November 1982, 10:44-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

I like the fast boot feature.

What is the replacement for :SET-HOST-USER-ID?

Would it be possible for NES to make it so that if you get an error
while doing a LOAD one of the options is just to punt that form?
 3-Nov-82 11:28:11-EST,1719;000000000000
Date: Wednesday, 3 November 1982, 09:50-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: LOAD-PATCHES from init file.
To: Howard Daniel Trachtman <HDT at MIT-MC>
Cc: David Chapman <ZVONA at MIT-OZ>, BUG-lispm at MIT-OZ
In-reply-to: The message of 2 Nov 82 19:55-EST from Howard Daniel Trachtman <HDT at MIT-MC>

    Date: 2 November 1982  19:55-EST (Tuesday)
    From: Howard Daniel Trachtman <HDT at MIT-MC>
	Date: Tuesday, 2 November 1982, 19:43-EST
	From: David Chapman <ZVONA at MIT-OZ>
	In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
	LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

	I don't like it that it aborts loading my init file when it hits an
	error.  In particular, the first thing in my init file is (load-patches)
	and EE is down, so I don't get the rest of the file, which I want.
     System 89+ has a chaos:host-up-p function.  You could thus get around this
    problem with something like:

    (and (chaos:host-up-p #+symbolics 'ee #+mit 'oz) (load-patches))
     it your init file.  However, this would require the symbolics
    systems to have such a function also.
It does.  It is called CHAOS:HOST-UP, just like I believe it's called
in the LMI/RMS system.
    Even with such a kludge, you can still get it to finish reading the file.
Alternatively, you could do it right, if you're using Symbolics software.

(CONDITION-CASE (.ERROR.)
     (LOAD-PATCHES)
  (SYS:HOST-NOT-RESPONDING-DURING-CONNECTION
     (FORMAT T "~&Sorry, can't load patches today:  ~A" .ERROR.)))

This isn't to say there isn't a bug behind all this; there is.
Also, maybe LOAD-PATCHES should do this itself.
 3-Nov-82 11:30:16-EST,385;000000000000
Date: Wednesday, 3 November 1982, 11:12-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

Compiling 

(defun foo nil (error '|foobar|))

complains that |foobar| is not a condition.  Random.
 3-Nov-82 13:31:11-EST,1096;000000000000
Date: Wednesday, 3 November 1982, 13:23-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: 105 FOOBAR ERROR
To: David Chapman <ZVONA at MIT-OZ>
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 3 Nov 82 11:12-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Wednesday, 3 November 1982, 11:12-EST
    From: David Chapman <ZVONA at MIT-OZ>
    In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
    LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

    Compiling 

    (defun foo nil (error '|foobar|))

    complains that |foobar| is not a condition.  Random.
Yes, it is random that it complains with the NES complaint
when you're using the MacLisp compatible form.  It should
instead warn you about obsolesence.

What's even more random, is that the MacLisp compatible form
isn't even MacLisp compatible!  In modern MacLisp, one would
write (ERROR "Yow, my program has a bug"), rather than
(ERROR '|Yow, my program has a bug").  The Lispm crock did
a erroneous SYMBOLP check, which I just fixed.
 3-Nov-82 13:35:59-EST,695;000000000000
Date: Wednesday, 3 November 1982, 13:32-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
To: ZVONA at MIT-OZ, BUG-lispm at MIT-OZ
In-reply-to: The message of 2 Nov 82 19:43-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Tuesday, 2 November 1982, 19:43-EST
    From: David Chapman <ZVONA at MIT-OZ>

    I don't like it that it aborts loading my init file when it hits an
    error.  In particular, the first thing in my init file is (load-patches)
    and EE is down, so I don't get the rest of the file, which I want.

Fixed and patched in 218.131, in a mild new-error-system grossout.  If
there are any other kinds of restarting that you think should be added,
let me know.
 3-Nov-82 13:42:19-EST,366;000000000000
Date: Wednesday, 3 November 1982, 13:41-EST
From: John Batali <Batali at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.31,
ZMail 47.10, microcode 183, 89.21.1, on Lisp Machine Apiary-2:

Trying to compile oz:<batali.ekg>ekgutil.lisp

I get the error

<batali.ekg>ekgutil.qfasl.4
file is not open
 3-Nov-82 13:43:17-EST,1181;000000000000
Mail-From: IAN created at  3-Nov-82 13:40:33
Date: 3 November 1982  13:40-EST (Wednesday)
From: Ian G. Macky <Ian at MIT-OZ>
To:   Info-LISPM at MIT-OZ
Cc:   HDT at MIT-OZ
Subject: OZ SPELL server...


I hacked up ISPELL on OZ to run as a server, so that poor LM's can feed it
text and have it spelling corrected.  What you do is...

Send it a data packet (opcode 200)at a time of words separated by
spaces or newlines, and you will get back 1-n data packets followed by
an EOF packet.  The results you get are, for each word, one of

	"T" if the word was found directly (as in SLOW) or indirectly
	    (as in SLOWLY or SLOWER)

	"(choice1 choice2 ... choiceN)" if the word was not found, but
	    ISPELL had some suggestions

or
	"NIL" if it was not found, and there were no close matches.

followed by a blank.

-------

If you send "now is the time for all good qgirhu to coem to"

you will get back

"T T T T T T T NIL T (POEM COME) T"

-------

When you are done sending text, just send an EOF packet and it will
go away (in fact, it will go away if it gets ANYTHING but a data
packet)



Does this scheme sound reasonable?


Ian
 3-Nov-82 13:46:06-EST,279;000000000000
Date: Wednesday, 3 November 1982, 13:45-EST
From: David Chapman <ZVONA at MIT-OZ>
To: bug-lispm at MIT-OZ

Can you tell me more about the peephole optimizer?  It seems to be
making compiling noticably slower.  How much will it help the object
code, and can I turn it off.
 3-Nov-82 15:43:26-EST,672;000000000000
Date: Wednesday, 3 November 1982, 15:32-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 3 Nov 82 10:44-EST from David Chapman <Zvona at MIT-OZ>

    Date: Wednesday, 3 November 1982, 10:44-EST
    From: David Chapman <Zvona at MIT-OZ>

    What is the replacement for :SET-HOST-USER-ID?
I don't understand this question.  The :SET-HOST-USER-ID message to
hosts is new in 218.  As far as I can tell, your init file works...

    Would it be possible for NES to make it so that if you get an error
    while doing a LOAD one of the options is just to punt that form?
Has been on my queue.
 3-Nov-82 17:08:11-EST,755;000000000000
Date: Wednesday, 3 November 1982, 16:18-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: OZ SPELL server...
To: Ian at MIT-OZ, Bug-LISPM at MIT-OZ
Cc: HDT at MIT-OZ
In-reply-to: The message of 3 Nov 82 13:40-EST from Ian G. Macky <Ian at MIT-OZ>


Sounds great. If you are into writing servers, how about a server
for listing OZ directories. It is now very slow to list an 
OZ directory from a Lispm, which DLA told me was for "good reasons".
So it might be preferable to have a server on OZ which could be
asked for a DIR type listing and just spit the bits to the Lispm.
I often find myself keeping a Supdup window logged in just
because a DIR command on OZ can show me the directory much
more quickly than a View Directory in Zwei.
 3-Nov-82 17:11:49-EST,850;000000000000
Date: Wednesday, 3 November 1982, 16:50-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: ZVONA at MIT-OZ
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 3 Nov 82 13:45-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Wednesday, 3 November 1982, 13:45-EST
    From: David Chapman <ZVONA at MIT-OZ>
    Can you tell me more about the peephole optimizer?  It seems to be
    making compiling noticably slower.  How much will it help the object
    code, and can I turn it off.
When I timed it (in system 210), it made the compiler 10-15% slower.
I'm not sure how much it speeds up code, although I imagine 5% is a good
answer.  You can turn it off by setting COMPILER:PEEP-ENABLE to NIL.

It could be faster if I ever decide to dike out all the code in QCP2
which tries to do the same thing (and fails).  This won't happen soon.
 3-Nov-82 17:13:54-EST,1516;000000000000
Date: Wednesday, 3 November 1982, 17:04-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

I tried to c-M a problem and got thrown into the cold load stream.  But
c-M worked there:

>>Error: Attempt to expose #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed> outside of its superior
While in the function APPLY  (:METHOD TV:SHEET :WHOPPER :EXPOSE)  (:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE)  (:METHOD TV:BASIC-TYPEOUT-WINDOW :EXPOSE-FOR-TYPEOUT)



(:METHOD TV:BASIC-TYPEOUT-WINDOW :EXPOSE-FOR-TYPEOUT): (P.C. = 52)
 (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
 Arg 0 (OPERATION): :EXPOSE-FOR-TYPEOUT


(:METHOD TV:BASIC-TYPEOUT-WINDOW :EXPOSE-FOR-TYPEOUT):  (P.C. = 52)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Arg 0 (OPERATION): :EXPOSE-FOR-TYPEOUT

(:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE-FOR-TYPEOUT):  (P.C. = 52)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Rest arg (.DAEMON-CALLER-ARGS.): (:EXPOSE-FOR-TYPEOUT)

(:METHOD TV:SHEET :OUTPUT-HOLD-EXCEPTION):  (P.C. = 52)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Arg 0 (OPERATION): :OUTPUT-HOLD-EXCEPTION
 3-Nov-82 17:16:14-EST,717;000000000000
Date: Wednesday, 3 November 1982, 17:07-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

eh-val doesn't seem to work.  It generally gives you some stack group.

The problem I just reported re c-M proceded to foul up the window system
completely doing all sorts of random things and finally hanging.

For the MIT site file, the place to send bugs should be changed to OZ,
since ee is down typically and there are more oz users than ee users by
a bunch. (I take it that this is settable independently of the sys
host.)
 3-Nov-82 17:18:08-EST,458;000000000000
Date: Wednesday, 3 November 1982, 17:12-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

c-X doesn't behave properly.  It initially sets break on exit, where it
should clear it, since break on exit is the default.

There should be a c-m-V analogous to c-m-F/L/A.
 3-Nov-82 20:45:28-EST,393;000000000000
Date: Wednesday, 3 November 1982, 20:35-EST
From: Richard B. Amster <RAMSTR at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.30,
ZMail 47.10, microcode 183, ., on Lisp Machine Nine:

When I try to read the file ML:MINSKY;LAB3A >
in emacs, it bombs saying subscript 54 beyond array length etc
is FS:FILE-HOST-ITS-MIXIN

foo.
 3-Nov-82 21:48:57-EST,549;000000000000
Date: Wednesday, 3 November 1982, 21:00-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: ZVONA at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 3 Nov 82 17:12-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Wednesday, 3 November 1982, 17:12-EST
    From: David Chapman <ZVONA at MIT-OZ>

    c-X doesn't behave properly.  It initially sets break on exit, where it
    should clear it, since break on exit is the default.
I don't know where you got that idea; usually when I do a function call
it doesn't break on exit.
 3-Nov-82 21:50:09-EST,443;000000000000
Date: Wednesday, 3 November 1982, 21:03-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: ZVONA at MIT-OZ, DOC-CHANGES at SCRC-TENEX
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 3 Nov 82 17:12-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Wednesday, 3 November 1982, 17:12-EST
    From: David Chapman <ZVONA at MIT-OZ>

    There should be a c-m-V analogous to c-m-F/L/A.
Installed in the source (will appear in rel 4).
 3-Nov-82 21:51:50-EST,1265;000000000000
Date: Wednesday, 3 November 1982, 21:05-EST
From: Knowledge Based Editor <KBE at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 210.128, ...

I am having trouble with getting panes in frames to be selectable. First I
had zillions of panes in the system menu. This wasn't good. So I started
using TV:DONT-SELECT-WITH-MOUSE-MIXIN which just sets up :NAME-FOR-SELECTION
to return NIL. That sort of works except it has the bug that if I have a
frame which doesn't want to show up in the system menu and a pane of it that
does, I have no way to do it. It seems that for something to show up in the
System menu, I have to put all its superiors in there as well. I say this
because changing only the superior frame's :NAME-FOR-SELECTION method to 
return something non-NIL, I get both the inferior and the superior then added
to the system menu. I would like the user for this particular kind of frame
not to be burdened with the information that he's got a frame at all. He should
think that it's just the one kind of window which is in fact a pane of that
frame. The rest of the frame's stuff should be invisible to him. Is there
a way I can win with this? I can construct code examples to illustrate the
problem if this description is not clear. --kmp
 3-Nov-82 22:01:22-EST,1423;000000000000
Date: Wednesday, 3 November 1982, 21:26-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: something is rotten in ...
To: BUG-LISPM at MIT-MC

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

I seem to be having a lot of trouble with Zmail!


>>Error: The object #<TENEX-OLD-MAIL-FILE "XX:PS:<HEWITT>HEWITT.BABYL" 27265130> received a NEW-MAIL-FILE message, which went unclaimed.
The rest of the message was (NIL NIL)
While in the function ZWEI:GET-NEW-MAIL-FOR-MAIL-FILE  ZWEI:COM-GET-NEW-MAIL-INTERNAL  ZWEI:COM-GET-NEW-MAIL



ZWEI:GET-NEW-MAIL-FOR-MAIL-FILE: (P.C. = 135)
 Arg 0 (MAIL-FILE): #<TENEX-OLD-MAIL-FILE "XX:PS:<HEWITT>HEWITT.BABYL" 27265130>
 Arg 1 (FROM-FILE): NIL
 Arg 2 (DELETE-P): NIL
 Arg 3 (TELL-BACKGROUND-P): NIL
Local 0 (MOVE-P): NIL
Local 1 (NEW-MAIL-FILE): NIL
Local 2 (APPEND-P): T
Local 3 (G6326): NIL
Local 4 (G6327): NIL


ZWEI:GET-NEW-MAIL-FOR-MAIL-FILE:  (P.C. = 135)
   Arg 0 (MAIL-FILE): #<TENEX-OLD-MAIL-FILE "XX:PS:<HEWITT>HEWITT.BABYL" 27265130>
   Arg 1 (FROM-FILE): NIL
   Arg 2 (DELETE-P): NIL
   Arg 3 (TELL-BACKGROUND-P): NIL

ZWEI:COM-GET-NEW-MAIL-INTERNAL:  (P.C. = 135)
   Arg 0 (FIRST-TIME-P): NIL
   --Defaulted args:--
   Arg 1 (FOR-FILE): #<TENEX-OLD-MAIL-FILE "XX:PS:<HEWITT>HEWITT.BABYL" 27265130>

ZWEI:COM-GET-NEW-MAIL:  (P.C. = 135)
 4-Nov-82 01:05:57-EST,1562;000000000000
Date:  3 NOV 1982 2058-PST
From: JONL at PARC-MAXC
Subject: 4th level indirection -- maybe you haven't yet seen this?
To:   info-lisp at MIT-AI, info-lispm at MIT-AI
cc:   gls at MIT-AI, rpg at MIT-MC

Date: 3 Nov. 1982 1:49 pm PST (Wednesday)
From: Treichel.PA
Subject: Lisp Song
To: CIS^
Reply-To: Treichel

Have you seen this?

			Jeanie

---------------------------

Date: 3 Nov. 1982 4:23 pm EST (Wednesday)
From: Gafter.Henr
Subject: LISP song
To: AllWhimsy^.pa, Language^, Gottwald, KAnderson
cc: Gafter

This was in the uucp bboard net.jokes recently.

-------------------------------------------------------

From decvax!utzoo!utcsrgv!roderick Mon Nov  1 14:24:35 1982

Another Glitch in the Call
------- ------ -- --- ----
   (Sung to the tune of a recent Pink Floyd song.)


We don't need no indirection
We don't need no flow control
No data typing or declarations
   Hey! Did you leave the lists alone?

Chorus:
   All in all, it's just a pure-LISP function call.

We don't need no side effect-ing
We don't need no scope control
No global variables for execution
   Hey! Did you leave those args alone?

(Chorus)

We don't need no allocation
We don't need no special nodes
No dark bit-flipping in the functions
   Hey! Did you leave the bits alone?

(Chorus)

We don't need no compilation
We don't need no load control
No link edit for external bindings
   Hey! Did you leave that source alone?

(Chorus, and repeat)


------------------------------------------------------------


 4-Nov-82 01:08:31-EST,416;000000000000
Date: Thursday, 4 November 1982, 00:25-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: Nobash in Zmail?
To: BUG-LISPM at MIT-MC
Cc: Hewitt at MIT-OZ

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

How about a Nobash feature in Zmail so that it is possible
to read a mail file without updating it?

--Carl
 4-Nov-82 01:38:22-EST,1063;000000000000
Date: Thursday, 4 November 1982, 01:17-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: Zmail strikes again
To: BUG-LISPM at MIT-MC

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

I am still having a few troubles.

>>Trap: The subscript, 16, was beyond the length, 15, in ZWEI:COM-GET-NEW-MAIL-INTERNAL
While in the function ZWEI:COM-GET-NEW-MAIL-INTERNAL  ZWEI:COM-GET-NEW-MAIL-INTERNAL  ZWEI:COM-GET-NEW-MAIL



ZWEI:COM-GET-NEW-MAIL-INTERNAL: (P.C. = 176)
 Arg 0 (FIRST-TIME-P): NIL
 Arg 1 (FOR-FILE): #<TOPS20-PATHNAME "XX:PS:<HEWITT>MAIL.TXT">
Local 0 (OTHER-FILE): NIL
Local 1 (OPTION): NIL
Local 2 (.SELECTQ-ITEM.): NIL


ZWEI:COM-GET-NEW-MAIL-INTERNAL:  (P.C. = 176)
   Arg 0 (FIRST-TIME-P): NIL
   Arg 1 (FOR-FILE): #<TOPS20-PATHNAME "XX:PS:<HEWITT>MAIL.TXT">

ZWEI:COM-GET-NEW-MAIL-INTERNAL:  (P.C. = 176)
   Arg 0 (FIRST-TIME-P): NIL
   --Defaulted args:--
   Arg 1 (FOR-FILE): NIL

ZWEI:COM-GET-NEW-MAIL:  (P.C. = 176)
 4-Nov-82 08:59:33-EST,448;000000000000
Date: Wednesday, 3 November 1982, 12:05-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-lispm at MIT-EECS

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

While compiling, I got an error.  The error flashed by instantaneously
and was replaced with a warning on top of the same line.  This is very
disturbing behavior.
 4-Nov-82 09:00:52-EST,434;000000000000
Date: Wednesday, 3 November 1982, 16:34-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Bug in directory listing
To: BUG-LISPM at MIT-EECS

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

Meta-X View Directory of OZ:PS:<ACTOR> results in

Unknown DIRECTORY option
for OZ:PS:<ACTOR>*.*.*

(METHOD FS:HOST-UNIT COMMAND)

 4-Nov-82 09:08:43-EST,1805;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  3 November 1982 04:11 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: More rubout handler bugs
Sender:  Margolin.Multics at MIT-MULTICS
To:  cwh at SCRC-TENEX
cc:  York at MIT-MULTICS, bug-lispm at MIT-EECS
Acknowledge-To:  Margolin.Multics at MIT-MULTICS
In-Reply-To:  Message of 3 November 1982 02:13 est from Carl W. Hoffman <CWH

Well, I don't know what the right thing to do in these cases is, either.
I will admit that they are not critical problems, as they reflect
extreme cases that are hardly likely to occur in practice.  The only
reason I ran into them is because Bill and I had been talking about what
the right thing to do in the Multics video system is, so I decided I
would see what "the other guy's" input editor does.  If you could do a
C-V and M-V, that would be pretty good.  If it helps, I will describe
the way in which the Multics video system deals with this.

First of all, in the current implementation, it is very unlikely to
occur, as the input line is limited to 512 characters.  Next, ours is
based upon a static redisplay, a la Emacs.  It computes what the result
would look like if the line were output, and then just displays that.
This gets around the MORE problem, as it does not output it serially,
but just paints the screen directly.  However, it has the problem that
in the case of overlap between two window-fulls, you will only see the
later portion, no matter where point is (this is similar to the LispM's
problem).

It would be interesting to get the opinions of other implementors.  I
believe that EAK has recently finished much of the Amber video system,
so he may have ideas.  Perhaps someone there could send him ccopies of
the discussion so far and ask for his input.
 4-Nov-82 09:44:50-EST,932;000000000000
Date: Wednesday, 3 November 1982, 16:54-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-lispm at MIT-EECS

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

In the debugger.  If there is some function in the stack further up that
is breakoned, and I abort, it traps at that function because it is a
throw through a marked frame.  This should be special cased perhaps.
Also, I've never tried c-D before, but it certainly doesn't do what I
expect on trivial examples.  And it certainly seems to be doing the
wrong thing.  And it often gets you into a state where it does <<error
printing value>>.  So I bet it is screwed up.

Can't it be made so redundant options are not displayed on s- keys?  It
is disturbing to see s-C, return to debugger; s-D, return to debugger;
s-E, return to debugger; ...
 4-Nov-82 10:10:04-EST,819;000000000000
Date: Thursday, 4 November 1982, 08:59-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: ZVONA at MIT-OZ, BUG-lispm at MIT-OZ
In-reply-to: The message of 3 Nov 82 17:12-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Wednesday, 3 November 1982, 17:12-EST
    From: David Chapman <ZVONA at MIT-OZ>
    c-X doesn't behave properly.  It initially sets break on exit, where it
    should clear it, since break on exit is the default.
Would you please clarify this?  "Break on exit" is a per-stack-frame bit
that causes the debugger to be entered when the frame attempts to return.
It most certainly isn't on by default or the debugger would be entered
by everything constantly; you have to turn it on explicitly and it is just
for debugging.  c-X is how you turn it on.  Actually I think it toggles it.
 4-Nov-82 11:12:53-EST,267;000000000000
Date: Thursday, 4 November 1982, 11:08-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: Directory listing
To: Ian at MIT-OZ
Cc: BUG-LISPM at MIT-OZ

Printing a filename with :NEWEST does include the .0
in system 89.  The problem must be something else.
 4-Nov-82 13:59:19-EST,951;000000000000
Mail-From: ZVONA created at  4-Nov-82 11:02:53
Date: Thursday, 4 November 1982  11:02-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BUG-lispm at MIT-OZ
In-reply-to: The message of 3 Nov 1982 21:00-EST from David L. Andre <DLA at SCRC-TENEX>

    Date: Wednesday, 3 November 1982, 21:00-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    To:   ZVONA
    cc:   BUG-lispm

        Date: Wednesday, 3 November 1982, 17:12-EST
        From: David Chapman <ZVONA at MIT-OZ>

        c-X doesn't behave properly.  It initially sets break on exit, where it
        should clear it, since break on exit is the default.
    I don't know where you got that idea; usually when I do a function call
    it doesn't break on exit.
Brain spazz.  I'm thinking about the case where you have just hit a
BREAKON trap.  THEN break on exit is set by default, and c-X tells you
that it has set it.
 4-Nov-82 14:01:13-EST,964;000000000000
Date: Thursday, 4 November 1982, 13:48-EST
From: Daniel L. Weinreb <dlw at scrc-tenex>
Subject: Bug in directory listing
To: Henry at mit-oz, BUG-LISPM at mit-eecs
In-reply-to: The message of 3 Nov 82 16:34-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Wednesday, 3 November 1982, 16:34-EST
    From: Henry Lieberman <Henry at MIT-OZ>
    In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

    Meta-X View Directory of OZ:PS:<ACTOR> results in

    Unknown DIRECTORY option
    for OZ:PS:<ACTOR>*.*.*

    (METHOD FS:HOST-UNIT COMMAND)

This happens on any directory on any TOPS-20.  The server needs to be
fixed to ignore "SORTED" (apparently it always returns sorted listings)
instead of complaining about it.

It would also be nice to fix that error message to say which option was
giving it trouble, but that's much less important.
 4-Nov-82 14:07:21-EST,355;000000000000
Date: Thursday, 4 November 1982, 14:00-EST
From: John Batali <Batali at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

Make-System on an undefined system forces you to log in on EE
before it gives an error message.
 4-Nov-82 15:01:44-EST,669;000000000000
Date: Thursday, 4 November 1982, 14:56-EST
From: Ed Barton <EB at MIT-OZ>
To: Bug-File-Server at MIT-OZ
Cc: BUG-LISPM at MIT-OZ

The file server, Chaosnet, or LISPM lossage that causes the file server
to get confused about filenames and give File Not Found or Invalid
Character in Filename errors does worse things than just making you type
a carriage return to try operations again.  Evidently I just got such an
error while MAKE-SYSTEM was trying to update the patch directory for a
system of mine.  MAKE-SYSTEM naturally got confused about whether the
patch directory existed and created a new one complete with an incorrect
system version number of 1.
 4-Nov-82 15:07:20-EST,162;000000000000
Date: Thursday, 4 November 1982, 15:04-EST
From: David Chapman <Zvona at MIT-OZ>
To: bug-lispm at MIT-OZ

Could :PRINT methods be inherited along :INCLUDEs?
 4-Nov-82 16:17:56-EST,461;000000000000
Date: 4 November 1982 15:41-EST
From: Alan Bawden <ALAN at MIT-MC>
To: Zvona at MIT-OZ
cc: bug-lispm at MIT-OZ

    Date: Thursday, 4 November 1982, 15:04-EST
    From: David Chapman <Zvona at MIT-OZ>
    To:   bug-lispm at MIT-OZ

    Could :PRINT methods be inherited along :INCLUDEs?

You mean in defstruct?  Unlike the TYPEP inheritance, defstruct could do
this entirely itself.  I'll add it to the (ever growing) queue of defstruct
features.
 4-Nov-82 19:23:40-EST,881;000000000000
Date: Thursday, 4 November 1982  17:14-EST
From: MOON at SCRC-TENEX
To:   David Chapman <ZVONA at MIT-OZ>
Cc:   BUG-lispm at MIT-EECS
In-reply-to: The message of 3 Nov 1982 16:54-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Wednesday, 3 November 1982, 16:54-EST
    From: David Chapman <ZVONA at MIT-OZ>
    To: BUG-lispm at MIT-EECS

    In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
    LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

    Can't it be made so redundant options are not displayed on s- keys?  It
    is disturbing to see s-C, return to debugger; s-D, return to debugger;
    s-E, return to debugger; ...

You have several levels of nested debugger, didn't you?

The message needs to be fixed to include a level number, to make it clear
that they aren't redundant.
 4-Nov-82 19:24:15-EST,1903;000000000000
Date: Wednesday, 3 November 1982, 00:21-EST
From: Carl W. Hoffman <CWH at scrc-pointer>
Subject: More rubout handler bugs
To: Margolin at mit-multics, BUG-LISPM at mit-eecs
Cc: York at mit-multics
In-reply-to: The message of 30 Oct 82 08:41-EDT from Margolin at MIT-MULTICS

    Date: Saturday, 30 October 1982, 08:41-EDT
    From:  <Margolin at MIT-MULTICS>
    In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
    microcode 896, site configuration 27, on Marvin:

    Next, there are problems if the input text does not fit in the window
    vertically.  1) If you say Meta-< you end up in the position that the
    first character would be, but the text located there is the
    wrapped-around text.

The current redisplay does not know how to deal with more input lines than
there are lines in the window.  I would welcome suggestions as to what should
be done in this case.  If the input fills up the entire window, should the
rubout handler behave just like Zwei, with C-V and M-V?  What happens when you
type off the bottom of the window.  Should it wrap around as it does now or
bump the text upwards, as Zwei does?

			  B. If you do a Clear-Screen you will get a
    ***MORE*** prompt; that would not be a problem except that the character
    used to respond (even SPACE) gets put in the input line as well.  3: It
    is confused about the vertical position of lines on the second
    screenful, it thinks that every line is one above where it shows on the
    screen; this problem goes away if More-processing is turned off for the
    window, so it seems like it is not taking the MORE line into account
    when counting lines.

This is a known problem in the interaction with (TV:SHEET :COMPUTE-MOTION) and
has been discussed at length on this list.  Probably the solution is for the
rubout handler never to trigger more processing.
 4-Nov-82 20:20:33-EST,664;000000000000
Date: Thursday, 4 November 1982, 17:09-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-EECS

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

I wish that an aref-beyond-end trap would tell you what the array was as well as what
its length was.

In the debugger, c-X doesn't seem to do anything at all.  I can't actually get it to
clear the break on exit flag.

In the debugger, there seems to be no way to get rid of numeric arguments you have typed
short of hitting abort.  Either rubout or c-G or both should work.
 4-Nov-82 20:44:59-EST,941;000000000000
Mail-From: HENRY created at  4-Nov-82 16:58:30
Date: Thursday, 4 November 1982  16:58-EST
Sender: HENRY at MIT-OZ
From: HENRY at MIT-MC
To:   Bug-Lispm at MIT-OZ

Date: Wednesday, 3 November 1982  22:26-EST
From: The Mailer Daemon <Mailer>
To:   Henry
Re:   Message of 31-Oct-82 22:06:03

Message undeliverable and dequeued after 3 days:
BUG-LISPM at MIT-EECS: Cannot connect to host.
            ------------
Date: Sunday, 31 October 1982, 22:05-EST
From: Henry Lieberman <Henry at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

(TV:MAKE-WINDOW 'ZWEI:ZMACS-FRAME
		':EDGES-FROM ':MOUSE
		':EXPOSE-P T
		':NUMBER-OF-MINI-BUFFER-LINES 1)

Gives "Zero line editor windows do not work".
Removing the :NUMBER-OF-MINI-BUFFER-LINES creates the window OK.
This worked fine in 210 and 89.
 5-Nov-82 01:20:35-EST,991;000000000000
Mail-From: KMP created at  5-Nov-82 01:17:17
Date: Friday, 5 November 1982  01:17-EST
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   BUG-LISPM at OZ
Subject: The :FQUERY signal

In System 210,...

I consider it a bug that the list which is received as the fourth argument
of a :FQUERY signal (or whatever signal one chooses in its place) is
stack-consed. It's bad enough that people have to worry about stack consed
&rest vectors without having to guess which non-&rest arguments were
probably stack consed. The thing in FQUERY that signals the condition
should definitely either COPYLIST the &REST vector or the conventions for
handling the :FQUERY signal should be changed to have this handler for a
:FQUERY signal take a variable number of args have the handler get
LEXPR-FUNCALLed instead of FUNCALLed.

This note may be non-applicable in 218 with the new error system. I haven't
investigated that yet, but I figured I'd get my gripe on record just in case.
--kmp
 5-Nov-82 03:29:52-EST,1208;000000000000
Mail-From: KMP created at  5-Nov-82 03:29:23
Date:  5 Nov 1982 0329-EST
From: KMP at MIT-OZ
Subject: :NAME-FOR-SELECTION troubles, 1st revision
To: RMS at MIT-OZ
cc: BUG-LISPM at MIT-OZ

I must have been asleep when I sent that last bug report. I completely
missed the mark on what was giving me grief. Let me start over:

I have a frame which I do NOT want to get in a system select menu. I only
want to get one of its panes to be in the system menu. Selecting that
pane will select the pane fine. However, the frame DOES want to be 
found by the system key facility. Unfortunately, if something does not
answer non-NIL to a :NAME-FOR-SELECTION, it isn't found by the system key
facility. So every time the guy types System K, he gets a new KBE frame
consed for him because the system thinks none of the existing KBE frames
are interested in being selected.

Personally, I think the system key facility should be wiling to select
any instance of the window flavor in TV:*SYSTEM-KEYS* if it's active and
only sending it a :DEACTIVATE or :KILL or something should remove it from
consideration.

Hope this makes the problem more clear. Sorry for the initial confusion.
--kmp
-------
 5-Nov-82 03:49:39-EST,398;000000000000
Date: Friday, 5 November 1982  03:17-EST
From: MOON at SCRC-TENEX
To:   KMP at MIT-OZ
Cc:   BUG-LISPM at MIT-OZ, RMS at MIT-OZ
Subject: :NAME-FOR-SELECTION troubles, 1st revision
In-reply-to: The message of 5 Nov 1982 0329-EST from KMP at MIT-OZ

Give your frame a :SELECTABLE-WINDOWS method that returns whatever you
want (presumably (LIST (CONS (SEND pane ':NAME-FOR-SELECTION) pane)).)
 5-Nov-82 09:37:57-EST,718;000000000000
Date: 5 November 1982 09:37-EST
From: Ken Church <KWC at MIT-ML>
Sender: KWC0 at MIT-ML
Subject: hash-tables
To: BUG-LISPM at MIT-ML

I'm getting a bit upset with the changes to hash-tables

(1) puthash was broken - (and fixed, but it took me a while to
    pin down the problem).
(2) (typep x  'si:equal-hash-table) was broken
(3) hash-tables dumped in old qfasl files are broken
(4) new hash-tables cannot be dumped into qfasl files (with
    compiler:fasd-symbol-value)

I really wish that there could be some more compatible way to
introduce changes such as this.  I have to give an important demo
soon.  I really didn't expect that I would have to redesign the
code at this late date.

- ken
 5-Nov-82 09:42:53-EST,531;000000000000
Date: Friday, 5 November 1982, 09:13-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Zvona at MIT-OZ, BUG-lispm at MIT-EECS
In-reply-to: The message of 4 Nov 82 17:09-EST from David Chapman <Zvona at MIT-OZ>

    Date: Thursday, 4 November 1982, 17:09-EST
    From: David Chapman <Zvona at MIT-OZ>
    In the debugger, there seems to be no way to get rid of numeric arguments you have typed
    short of hitting abort.  Either rubout or c-G or both should work.
c-G works fine for me.  What, exactly, are you typing?
 5-Nov-82 10:52:52-EST,1201;000000000000
Date: Friday, 5 November 1982, 10:47-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ, bug-zmail at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

I'm getting errors faster than I can report them.

In Zmail.  Got an error, NIL supplied to PLUSP.  Went into Background
Lock.  (lousy user interface.)  terminal 0 s to the pop up window.
Notification printed was something like

a number
[<time> PLUSP is unhappy with NIL as an argument.  It expected .]

Note how the argtype is printed in the wrong place.

Above error happens repeatedly 15% of the way through my mail file.  I
can't debug it because the pop-up window doesn't let me into the
debugger.

Then I got a NIL to LINE-BLANK-P.

I went into the editor to report all this lossage with m-X bug.  As I
was editing, the editor got an error.  I figured I'd c-M it.  That threw
me into the cold-load stream and completely wedged the window system so
I had to warm-boot.  Hypothesis: c-M never works when you are already in
the editor.  I don't particularly want to test this.
 5-Nov-82 11:28:01-EST,1932;000000000000
Date: Friday, 5 November 1982, 11:24-EST
From: David Chapman <Zvona at MIT-OZ>
To: bug-file at MIT-OZ, BUG-LISPM at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

m-X View Directory always does this.  (I've c-M'd this from the editor,
so if you get it my hypothesis about that is disconfirmed.) 

>>Error: Unknown DIRECTORY option
For OZ:PS:<ZVONA>*.*.*
While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:DIRECTORY-CHAOS  (METHOD FS:CHAOS-PATHNAME DIRECTORY-STREAM)



(METHOD FS:HOST-UNIT COMMAND): (P.C. = 344)
 (SELF = #<HOST-UNIT 23314151>)
 Arg 0 (OPERATION): COMMAND
 Arg 1 (MARK-P): NIL
 Arg 2 (STREAM-OR-HANDLE): "I1853"
 Arg 3 (SIMPLE-P): NIL
 Arg 4 (WHOSTATE): "Directory"
 Rest arg (COMMANDS): ("DIRECTORY" "" "" "" ...)
 Local 1 (HANDLE): "I1853"
 Local 2 (STREAM): NIL
 Local 3 (PKT): #<CHAOS Packet 35044607>
 Local 4 (SUCCESS): NIL
 Local 5 (STRING): "I1853 ERROR UUO F Unknown DIRECTORY option"
 Local 6 (TRANSACTION-ID): "T1856"
 Local 7 (FROM): 6
 Local 8 (CONDITION): NIL
 Local 9 (G1683): T
 Local 10 (G1684): (#<CASE-HANDLER 22650210> #<BIND-HANDLER 2475614> #<BIND-HANDLER 2650720>)


(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 344)
   (SELF = #<HOST-UNIT 23314151>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): NIL
   Arg 2 (STREAM-OR-HANDLE): "I1853"
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Directory"
   Rest arg (COMMANDS): ("DIRECTORY" "" "" "" ...)

FS:DIRECTORY-CHAOS:  (P.C. = 255)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (*COMMAND-PATHNAME*): #<TOPS20-PATHNAME "OZ:PS:<ZVONA>*.*.*">
   Arg 2 (OPTIONS): (SORTED)

(METHOD FS:CHAOS-PATHNAME DIRECTORY-STREAM):  (P.C. = 30)
   (SELF = #<TOPS20-PATHNAME "OZ:PS:<ZVONA>*.*.*">)
   Arg 0 (OPERATION): DIRECTORY-STREAM
   Arg 1 (OPTIONS): (SORTED)
 5-Nov-82 11:30:22-EST,565;000000000000
Date: Friday, 5 November 1982, 11:26-EST
From: John Batali <Batali at MIT-OZ>
To: BUG-LISPM at MIT-OZ
Cc: bug-oz at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.32,
ZMail 47.10, microcode 187, ., on Lisp Machine Four:

Editing away in ZWEI, I did a control-s (which I had done several of
already) and got:

File error LCK (Severity F), Invalid Simultaneous Access for
OZ:PS:<BATALI.EKG>CFEAT.LISP

And it then asked me for a new pathname.  Typing "cfeat.lisp" made it
stop complaining and write out the file nicely.
 5-Nov-82 11:38:10-EST,1914;000000000000
Date: Friday, 5 November 1982, 11:35-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ, bug-zmail at MIT-OZ, bug-zwei at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

This is the fifth time I've tried to send this.  You'll probably never
hear about the four bugs I had the other times...

By going into peek (bad user interface -- why isn't there a This Window
system menu item DEBUG?) I got this backtrace for the zmail problem.
This happens repeatedly 15% of the way through my mail file, which I
copied to <zvona.stuff>losing-mail._zmail_txt.

Why does c-M think it knows how many stack frames to include in the
report?  The last time I tried it, it was wrong.

Why is point put at the end of the text in a c-M, rather than at the
begginning?  This encourages people to put their text there, which is
presumably not where you want to see it.

>>Break: 
While in the function PROCESS-WAIT  (METHOD TV:SHEET OUTPUT-HOLD-EXCEPTION)  TV:SHEET-PREPARE-SHEET-INTERNAL



ZWEI:ZMAIL-BACKGROUND-LOAD-FILE: (P.C. = 134)
 Arg 0 (REQUEST): (ZWEI:ZMAIL-BACKGROUND-LOAD-FILE #<TENEX-NEW-MAIL-FILE "OZ:PS:<ZVONA>MAIL._ZMAIL_TXT" 35171034>)
 Local 0 (MAIL-FILE): #<TENEX-NEW-MAIL-FILE "OZ:PS:<ZVONA>MAIL._ZMAIL_TXT" 35171034>
 Local 1 (START): 1
 Local 2 (.ERROR.): #<WRONG-TYPE-ARGUMENT-TRAP 35171557>


ZWEI:ZMAIL-BACKGROUND-LOAD-FILE:  (P.C. = 134)
   Arg 0 (REQUEST): (ZWEI:ZMAIL-BACKGROUND-LOAD-FILE #<TENEX-NEW-MAIL-FILE "OZ:PS:<ZVONA>MAIL._ZMAIL_TXT" 35171034>)

ZWEI:ZMAIL-BACKGROUND-PERFORM:  (P.C. = 75)
   Arg 0 (CURRENT-REQUEST): (ZWEI:ZMAIL-BACKGROUND-LOAD-FILE #<TENEX-NEW-MAIL-FILE "OZ:PS:<ZVONA>MAIL._ZMAIL_TXT" 35171034>)

ZWEI:ZMAIL-BACKGROUND:  (P.C. = 163)
   Arg 0 (IO-BUFFER): #<IO-BUFFER 615703: empty, State: NIL>
 5-Nov-82 11:48:05-EST,754;000000000000
Date: Friday, 5 November 1982, 11:44-EST
From: Patrick Sobalvarro <pgs at MIT-OZ>
To: BUG-Lispm at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.31,
ZMail 47.10, microcode 183, upto date, on Lisp Machine Seven:

When trying to initialize a label after formatting a disk pack, I used ^I, and
put together my label, and then lost when trying to write it.  I lost because
of an attempt to divide by 0; the reason was that CC:BLOCKS-PER-CYLINDER was
set to 0.  I had to hand-set the various parameters (N-HEADS,
BLOCKS-PER-CYLINDER, N-CYLINDERS, BLOCKS-PER-CYLINDER) by hand to write out the
label; they were all set to zero.  Seems like when the label gets initialized,
these should be set to the right values.
 5-Nov-82 12:38:36-EST,2307;000000000000
Mail-From: IAN created at  5-Nov-82 12:37:32
Date: 5 November 1982  12:37-EST (Friday)
From: Ian G. Macky <Ian at MIT-OZ>
To:   John Batali <Batali at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ, Bug-FILE-Server at OZ


    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.32,
    ZMail 47.10, microcode 187, ., on Lisp Machine Four:

    Editing away in ZWEI, I did a control-s (which I had done several of
    already) and got:

    File error LCK (Severity F), Invalid Simultaneous Access for
    OZ:PS:<BATALI.EKG>CFEAT.LISP

    And it then asked me for a new pathname.  Typing "cfeat.lisp" made it
    stop complaining and write out the file nicely.

First off, I noticed a lot of these creatures:

 5-Nov-82 10:38:24 <==
	T1171 I1168 OPEN READ CHARACTER<NL>PS:<BATALI>Batali._ZMAIL_GMSGS<NL><EOP>
 5-Nov-82 10:38:24 ==>
	T1171 I1168 ERROR FNF F File not found<EOP>

Very strange!  Someone is trying to be clever and quoting lowercase letters.
Harmless, but strange...

Here's the problem:

 5-Nov-82 11:21:49 <==
	T1251 O1249 OPEN WRITE CHARACTER<NL>PS:<BATALI.EKG>CFEAT.LISP<NL><EOP>
 5-Nov-82 11:21:49 ==>
	T1251 O1249 ERROR LCK F Invalid simultaneous access<EOP>

Hmmm....

   Ps:<Batali.Ekg>
 Cfeat.Lisp.1;P777752     1 1478(7)     5-Nov-82 10:18:19 Batali    
      .2;P777752          1 1700(7)     5-Nov-82 10:56:29 Batali    
      .3;P777752          1 2171(7)     5-Nov-82 11:03:31 Batali    
      .4;P777752          1 2425(7)     5-Nov-82 11:05:18 Batali    
      .5;P777752          2 2921(7)     5-Nov-82 11:12:19 Batali    
      .6;P777752          2 2938(7)     5-Nov-82 11:13:26 Batali    
      .7;P777752          2 2938(7)     5-Nov-82 11:15:51 Batali    
      .8;P777752          0 0(0)        5-Nov-82 11:22:52 Batali    <== Urg
      .9;P777752          2 3036(7)     5-Nov-82 11:24:20 Batali    
      .10;P777752         2 3029(7)     5-Nov-82 11:28:48 Batali    

No version# was specified, so it defaulted to 0, meaning (when writing)
the next highest version number...  The code that drags in locking a file
only comes into play when the output file is NOT the next-highest
generation...

*Sigh*  I'm baffled...   I'll keep looking, but I don't have the slightest
idea what's going on.


Ian
 5-Nov-82 12:53:08-EST,808;000000000000
Mail-From: IAN created at  5-Nov-82 12:49:47
Date: 5 November 1982  12:49-EST (Friday)
From: Ian G. Macky <Ian at MIT-OZ>
To:   David Chapman <Zvona at MIT-OZ>
Cc:   bug-file at MIT-OZ, BUG-LISPM at MIT-OZ

    Date: Friday, 5 November 1982, 11:24-EST
    From: David Chapman <Zvona>
    To:   bug-file, BUG-LISPM

    In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

    m-X View Directory always does this.  (I've c-M'd this from the editor,
    so if you get it my hypothesis about that is disconfirmed.) 

    >>Error: Unknown DIRECTORY option
    For OZ:PS:<ZVONA>*.*.*
    ...

I added SORTED as a no-op option to the DIRECTORY command so this
would not barf
 5-Nov-82 13:53:04-EST,762;000000000000
Date: Friday, 5 November 1982, 11:38-EST
From: John Batali <Batali at MIT-OZ>
Subject: Make Undefined System
To: dlw at SCRC-TENEX, Batali at MIT-OZ, BUG-LISPM at MIT-EECS


The problem was that EE was down for the period when I couldn't
figure out where my system was.  So the machine would go into a
net-connect state that confused me because OZ was fine, and I had
mistakenly thought that the system had been defined.

It seems like the behaviour you are describing is just what the new
error handler is good for: when an undefined system is mentioned, it
should give a list of options, one of which is to try to search for the
declarations file -- which name can be supplied by the user if
necessary.

BTW: this has nothing to do with DPL.
 5-Nov-82 14:07:58-EST,1409;000000000000
Date: Friday, 5 November 1982, 11:11-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: More rubout handler bugs
To: CWH at scrc-pointer, Margolin at mit-multics, BUG-LISPM at mit-eecs
Cc: York at mit-multics
In-reply-to: The message of 3 Nov 82 00:21-EST from Carl W. Hoffman <CWH at scrc-pointer>

In previous editor-top-level implementations, we ran into this problem
("should it wrap or scroll?").  The problem is that if your normaly
typeout wraps (I realize this is only common on ITS and the Lisp
Machine, not TOPS-20 and VAXes, and everyone else thinks that wrapping
is weird; I don't know what the Multics video system defaults to), then
you want normal interactions to wrap.  However, when you are really
editing with the editor-top-level, it's somewhat unclear just what
happens if you c-P off of the earliest visible line; I suppose ideally
it should redisplay the logically previous line on the next higher line
on the screen.  That is, your redisplay algorithm keeps a new variable
that normal ZWEI doesn't keep, namely, "which physical-line of the
screen is the one that holds the earliest logical-line of text" (in
normal editors, it's always the first), and then you have to fix up your
recentering stuff in the redisplay (i.e., the code that is called in
when point seems to have moved out of the visible area of the window) to
maintain this variable optimally.
 5-Nov-82 14:08:36-EST,654;000000000000
Date: Friday, 5 November 1982, 09:00-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: The :FQUERY signal
To: KMP at MIT-MC, BUG-LISPM at MIT-OZ
In-reply-to: The message of 5 Nov 82 01:17-EST from KMP at MIT-MC

I went to look into your :CONDITION problem and found that the problem
has been "fixed in the new error system", namely, the :CONDITION
argument has been completely flushed, although it's still commented.  
This should solve your problem.

Just kidding.

Seriously, though, the argument does appear to have been flushed.  It
was documented in the LMMAN and apparently at least one person uses it.
Was this intentional?
 5-Nov-82 14:27:47-EST,939;000000000000
Date: Friday, 5 November 1982, 10:01-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Batali at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 4 Nov 82 14:00-EST from John Batali <Batali at MIT-OZ>

    Date: Thursday, 4 November 1982, 14:00-EST
    From: John Batali <Batali at MIT-OZ>
    Make-System on an undefined system forces you to log in on EE
    before it gives an error message.

This is because of a new feature in system 218.  If you do (make-system
'dpl) and it's never heard of dpl, it looks in SYS: SITE; DPL SITE in
hopes of finding out where DPL lives on your site.  Thus you have to log
into the sys host.  The only real problem here is just that you have a
sys host that you don't expect to log into.  Anyway, now that EE is
accessible again, Howie and I will actually be able to create such a
file.  As for genuine typoes, yes, they'll look in the file system; I
see no cure for this.
 5-Nov-82 15:24:34-EST,372;000000000000
Date: Friday, 5 November 1982, 15:17-EST
From: JCMa@MIT-OZ
Subject: putpropping on plist of flavor instance vars
To: bug-lispm@MIT-OZ

p. 73 of the Blue Lispm Manual says the plist manipulation functions
don't work on flavor instance vars, but claims that that will be fixed.
Has it been fixed?  If so, how do I use this feature? (specific
functions or methods?)
 5-Nov-82 15:25:38-EST,881;000000000000
Date: Friday, 5 November 1982, 15:21-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: The :FQUERY signal
To: dlw at SCRC-TENEX
Cc: KMP at MIT-MC, BUG-LISPM at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 5 Nov 82 09:00-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

Yes, in fact, I had a very good reason for flushing the :CONDITION
argument to FQUERY.  I had been up for about 24 hours building system
211 (remember, 1/2 NES), and had finally got to the FQUERY in DISK-SAVE
"Do you really want to clobber partition LOD1?", and it got an error
because of the lack of NES conversion.  Then chaos background got an
error because TAPE:TAPE-EXISTS-P was undefined.  Then the machine halted
with a microcode bug.

In a fit of rage, I fixed all three, and resigned myself for one more
hour pass at building a system.

I will look into re-installing it.
 5-Nov-82 16:34:36-EST,797;000000000000
Date: Friday, 5 November 1982, 16:31-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

The debugger doesn't deal well with stack overflow.  

(eval -)
[Growing PDL ...]
>> Trap: PDL overflow
SI:*EVAL:
[Growing PDL ...]
<<Error printing error message>>
c-N
SI:*EVAL:
[Growing PDL ...]
>> Trap: PDL overflow
DBG:FRAME-ACTIVE-P:
[Growing PDL ...]
<<Error printing error message>>
c-B

backtrace shows dbg:frame-active-p and dbg:next-active-frame calling 
each other recursively into infinity.

if (eh-val) exists, so should (eh-arg) and (eh-loc).  I'd be happier 
with (eh-vals), etc.
 5-Nov-82 16:36:30-EST,912;000000000000
Date: Friday, 5 November 1982, 16:31-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

I would like to be able to use instances as function-specs, so I would
be happier if validate-function-spec did the following instead:

(DEFUN VALIDATE-FUNCTION-SPEC (FUNCTION-SPEC &AUX HANDLER)
  (COND ((ATOM FUNCTION-SPEC)
	 (AND (NOT (NULL FUNCTION-SPEC)) (SYMBOLP FUNCTION-SPEC)))
	((and (listp function-spec)
	      (SYMBOLP (CAR FUNCTION-SPEC))
	      (SETQ HANDLER (GET (CAR FUNCTION-SPEC) 'FUNCTION-SPEC-HANDLER))
	      (FUNCALL HANDLER 'VALIDATE-FUNCTION-SPEC FUNCTION-SPEC))
	 (CAR FUNCTION-SPEC))
	((instancep function-spec)
         (send function-spec ':send-if-handles ':validate-function-spec))))

OK, scream and holler...
 5-Nov-82 16:48:49-EST,717;000000000000
Date: Friday, 5 November 1982, 16:44-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC


Addendum to earlier message, i "forgot" that (ATOM <instance>) ==> T.
So I also want to change ATOM --> SYMBOLP

(DEFUN VALIDATE-FUNCTION-SPEC (FUNCTION-SPEC &AUX HANDLER)
  (COND ((symbolp FUNCTION-SPEC)
	 (AND (NOT (NULL FUNCTION-SPEC)) (SYMBOLP FUNCTION-SPEC)))
	((AND (listp function-spec)
	      (SYMBOLP (CAR FUNCTION-SPEC))
	      (SETQ HANDLER (GET (CAR FUNCTION-SPEC) 'FUNCTION-SPEC-HANDLER))
	      (FUNCALL HANDLER 'VALIDATE-FUNCTION-SPEC FUNCTION-SPEC))
	 (CAR FUNCTION-SPEC))
	((instancep function-spec)
	 (send function-spec ':send-if-handles ':validate-function-spec))))

 5-Nov-82 18:00:50-EST,937;000000000000
Date: Friday, 5 November 1982  17:03-EST
From: MOON at SCRC-TENEX
To:   JCMa at MIT-OZ
Cc:   bug-lispm at MIT-OZ
Subject: putpropping on plist of flavor instance vars
In-reply-to: The message of 5 Nov 1982 15:17-EST from JCMa@MIT-OZ

    Date: Friday, 5 November 1982, 15:17-EST
    From: JCMa@MIT-OZ
    Subject: putpropping on plist of flavor instance vars
    To: bug-lispm@MIT-OZ

    p. 73 of the Blue Lispm Manual says the plist manipulation functions
    don't work on flavor instance vars, but claims that that will be fixed.

That is not what it says; it doesn't refer to instance variables.  What
it actually means is that if x is an instance of si:property-list-mixin,
(putprop x y z) should work, but it doesn't.  This is still true.

    Has it been fixed?  If so, how do I use this feature? (specific
    functions or methods?)

The messages for using property-list-mixin are documented on page 312.
 5-Nov-82 18:19:33-EST,559;000000000000
Date: Friday, 5 November 1982  17:06-EST
From: MOON at SCRC-TENEX
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   Batali at MIT-OZ, BUG-LISPM at MIT-EECS
Subject: SYS:SITE; system SITE
In-reply-to: The message of 5 Nov 1982 10:01-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

If it doesn't already, it should print a message to ERROR-OUTPUT telling you
that the system is unknown and it is looking for a definition on SYS:SITE;,
before it tries to open the file.
This would prevent Batali from being surprised when it asks him to log in to EE.
 5-Nov-82 19:09:18-EST,1878;000000000000
Date: Friday, 5 November 1982, 18:49-EST
From: Carl Hewitt <CARL at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.119, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

Attempting to load patches on AP1:

>>Error: Illegal request format
For EE:LIB:<LISPM.PATCH>SYSTEM-218-120.QBIN
While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:OPEN-CHAOS  (METHOD FS:CHAOS-PATHNAME OPEN)



(METHOD FS:HOST-UNIT COMMAND): (P.C. = 344)
 (SELF = #<HOST-UNIT 23123044>)
 Arg 0 (OPERATION): COMMAND
 Arg 1 (MARK-P): NIL
 Arg 2 (STREAM-OR-HANDLE): "I1603"
 Arg 3 (SIMPLE-P): NIL
 Arg 4 (WHOSTATE): "Open"
 Rest arg (COMMANDS): ("OPEN " READ " " DEFAULT ...)
Local 1 (HANDLE): "I1603"
Local 2 (STREAM): NIL
Local 3 (PKT): #<CHAOS Packet 23460527>
Local 4 (SUCCESS): NIL
Local 5 (STRING): "I1603 ERROR BUG F Illegal request format"
Local 6 (TRANSACTION-ID): "T1628"
Local 7 (FROM): 6
Local 8 (CONDITION): NIL
Local 9 (G1683): T
Local 10 (G1684): (#<CASE-HANDLER 22650210> #<CASE-HANDLER 2474205>)


(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 344)
   (SELF = #<HOST-UNIT 23123044>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): NIL
   Arg 2 (STREAM-OR-HANDLE): "I1603"
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Open"
   Rest arg (COMMANDS): ("OPEN " READ " " DEFAULT ...)

FS:OPEN-CHAOS:  (P.C. = 523)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-EECS>
   Arg 1 (*COMMAND-PATHNAME*): #<TOPS20-PATHNAME "EE:LIB:<LISPM.PATCH>SYSTEM-218-120.QBIN">
   Arg 2 (OPTIONS): (CHARACTERS DEFAULT)

(METHOD FS:CHAOS-PATHNAME OPEN):  (P.C. = 26)
   (SELF = #<TOPS20-PATHNAME "EE:LIB:<LISPM.PATCH>SYSTEM-218-120.QBIN">)
   Arg 0 (OPERATION): OPEN
   Arg 1 (PATHNAME): #<TOPS20-PATHNAME "EE:LIB:<LISPM.PATCH>SYSTEM-218-120.QBIN">
   Rest arg (OPTIONS): (CHARACTERS DEFAULT)
 5-Nov-82 22:38:51-EST,871;000000000000
Date: Friday, 5 November 1982, 22:29-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: [KLOTZ at MIT-MC: BUG-LISM -- didn't get to BUG-LISPM]
To: bug-lispm at MIT-MC
Cc: Hewitt at MIT-OZ

Date: Thursday, 4 November 1982  03:18-EST
From: Leigh L. Klotz <KLOTZ at MIT-MC>
Sender: KLOTZ at MIT-OZ
To:   hewitt at MIT-OZ
Re:   BUG-LISM -- didn't get to BUG-LISPM

Date: Wednesday, 3 November 1982  21:58-EST
From: Carl Hewitt <HEWITT at MIT-XX>
To:   ZVONA
cc:   Hewitt at MIT-XX, bug-lism at MIT-MC, bug-apiary-machines

David,

The only extra stuff in the 218 is the special customization
stuff for our machines which ought to be in the MIT
site file and in the per machine patch file that
will be in 220.  As soon as possible we will make
these adaptations and then will be able to have
more reasonable bands on these machines.

Cheers,

Carl
 6-Nov-82 01:52:31-EST,605;000000000000
Date: Saturday, 6 November 1982, 00:21-EST
From: Margolin at MIT-Multics
Sender: s.barmar at MIT-EECS
Subject: SET-CURRENT-BAND
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Marvin:

For some reason, SET-CURRENT-BAND wants me to login first.  This is
silly, since the reason I am doing SET-CURRENT-BAND is so I can reboot
the machine immediately afterwards.  I would be running a different band
now, except that I wanted the right information to show up in the header
of this message.
 6-Nov-82 01:53:59-EST,691;000000000000
Date: Saturday, 6 November 1982, 00:42-EST
From:  <Margolin at MIT-MULTICS>
Subject: SYS host
To: BUG-LISPM at EE

In Obsolete System 210.126, Obsolete ZMail 45.14, Obsolete LMFS 27.26,
Obsolete Tape 10.9, Obsolete Canon 14.2, microcode 896,
site configuration 19, on Marvin:

I did: (login "Margolin" 'multics)

My init file does a load-patches.  However, for some reason, it is
looking on Multics for the patch files, after translating the SYS:
logical pathnames to TOPS-20 pathnames.  That is why everything up there
is listed as obsolete.

I am going to give it a go again, in order to see whether it had to do
with the fact that it was being called from my init file.
 6-Nov-82 01:56:43-EST,769;000000000000
Date: Saturday, 6 November 1982, 01:17-EST
From:  <Margolin at MIT-MULTICS>
Subject: my previous bug report
To: BUG-LISPM at EE

In Obsolete System 210.126, Obsolete ZMail 45.14, Obsolete LMFS 27.26,
Obsolete Tape 10.9, Obsolete Canon 14.2, microcode 896,
site configuration 19, on Marvin:

Regarding my previous bug report, about LOAD-PATCHES looking on Multics
for patch files.  It seems to be a more general problem.  I just tried
to do an explicit (load "ee:<s.barmar>zmail.init").  It could not do
that.  By the way, I am determining the fact that these filenames are
being sent to Multics from the error message I am getting, which I
recognize as a Multics error message:
    Bad syntax in pathname.  Expanding pathname EE:PS:<S.BARMAR>ZMAIL.INIT
 6-Nov-82 02:04:56-EST,601;000000000000
Date: Saturday, 6 November 1982, 01:23-EST
From:  <Margolin at MIT-MULTICS>
Subject: Supdup's TTYOPT
To: BUG-LISPM at EE

In Obsolete System 210.126, Obsolete ZMail 45.14, Obsolete LMFS 27.26,
Obsolete Tape 10.9, Obsolete Canon 14.2, microcode 896,
site configuration 19, on Marvin:

Please change Supdup to set the TTYOPT flags that indicate that it can
do insert/delete characters and scroll-regions.  There are some systems,
Multics in particular, for which Chaosnet throughput is not very high,
so it would really help if it could minimize the amount that was
necessary to transmit.
 6-Nov-82 03:57:37-EST,598;000000000000
Date: Saturday, 6 November 1982, 02:39-EST
From: JCMa@MIT-OZ
Subject: No Back-Talk From Defsystem
To: bug-lispm@MIT-OZ

When compiling a system using ':batch (or some equivalent), defsystem
should allow the user a way to avoid the query for the file in which to
put compiler warnings.  218 is close to this behavior, as the file
defaults to a combination of the system pathname-default and the system
name; But it still asks for confirmation, apparently failing to make the
final step.  89 has yet to tackle this issue (not to mention the bug
hack for defsystem which is found in 218).
 6-Nov-82 03:58:23-EST,539;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  6 November 1982 02:38 est
From:  Barry Margolin at MIT-MULTICS
Subject:  full names
To:  bug-lispm at MIT-EECS
Acknowledge-To:  Margolin.Multics at MIT-MULTICS

What needs to be done on Multics so that the LispM will know my full
name, for putting in the From field of mail, when I
 (login "Margolin" 'multics)?

Also, is there something I can put in my init file so that "Margolin at
MIT-MULTICS" will always be put in the From field, rather than
"<user-id> at <login-host>".
 6-Nov-82 07:05:50-EST,568;000000000000
Date: Saturday, 6 November 1982, 07:00-EST
From: Chris Hanson <HANSON at MIT-OZ>
To: BUG-OZ at MIT-OZ, BUG-LISPM at MIT-OZ

In LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.31, ZMail 47.10,
Experimental Remote-File 20.0, Experimental Local-File 41.0,
microcode 183, Try Me, on Lisp Machine Six:

I have been losing network connections to at the rate of about one every
2 minutes.  I know that the band I'm running was working fine yesterday.
Either OZ is broken, my hardware is broken, or the net is sick.  Anyone
else having similar problems?

Chris
 6-Nov-82 07:25:46-EST,462;000000000000
Mail-From: CYPHER created at  6-Nov-82 07:20:59
Date: 6 November 1982  07:20-EST (Saturday)
Sender: CYPHER at MIT-OZ
From: D. Scott Cyphers <CYPHER at MIT-MC>
Subject: file connecitons
To:   bug-oz at MIT-OZ, bug-lispm at MIT-OZ

I have also been losing file connections fairly continuously since
about 3AM.  It seems to occur when the lispm has not been doing file
i/o for a few seconds or so, and was not happening earlier.  It only
happens for Oz.
 6-Nov-82 09:20:34-EST,1399;000000000000
Date: Saturday, 6 November 1982, 09:15-EST
From: Chris Hanson <HANSON at MIT-OZ>
To: INFO-LMFS at MIT-OZ, INFO-LISPM-MIT at MIT-OZ


Experimental Local-File version 41 is now available.  Bugs to BUG-LMFS.

In addition to fixing the problem of subdirectories not being correctly
saved, some changes were made:

* Undeletable files are now supported.  Deleted files don't go away
  unless explicitly expunged.  This means that booting the file system
  or the machine also doesn't expunge anything.  There is no current
  "system expunge" function implemented.

* The root directory is now a real directory.  It can be specified by
  either LM:; or LM:<>.  For compatibility reasons, it cannot contain
  arbitrary files, only other directories.

* A new function, FS:DBG-EDIT, has been implemented.  This function
  allows you to treewalk the file system directory structure and change
  certain things.  It is intended to help you when aborting out of a
  file operation leaves a file incorrectly closed or deleted, or just to
  examine the directory structure in a way independent of the pathname
  system.

* Some of the "user" functions, such as LM-CREATE-DIRECTORY, had their
  names changed.  This shouldn't affect anyone who only uses the
  standard pathname/stream interface.

For more information, see the updated documentation file
OZ:SRC:<L.FILE>FSDOC.TEXT.
 6-Nov-82 11:00:45-EST,324;000000000000
Date: Saturday, 6 November 1982, 10:55-EST
From: Chris Hanson <hanson at MIT-OZ>
To: RMS at MIT-OZ
Cc: BUG-LISPM at MIT-OZ


I think that the problem with :NEWEST files being treated wrong is not
the fault of the file server on OZ.  In fact specifying a version number
of 0 seems to work OK, while :NEWEST doesn't.
 6-Nov-82 14:13:41-EST,450;000000000000
Date: Saturday, 6 November 1982, 14:11-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

When your regular pdl is 63K big, it takes the debugger forever to 
find arguments to stack frames.  It must be doing a linear search or 
something.  Why doesn't it know where to look?



 6-Nov-82 16:25:30-EST,390;000000000000
Date: Saturday, 6 November 1982, 16:22-EST
From: Ken Church <kwc at MIT-ML>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, microcode 187, lsb, bold, on Lisp Machine Nineteen:

If I say meta-. on a function that I've deleted, I get a lisp
error inside zwei:compute-buffer-package (someone is taking
an aref of nil).
 6-Nov-82 17:07:44-EST,858;000000000000
Date: Saturday, 6 November 1982, 12:59-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: BUG-LISPM at MIT-EECS, BUG-FILE at MIT-OZ
Cc: CARL at MIT-OZ
In-reply-to: The message of 5 Nov 82 18:49-EST from Carl Hewitt <CARL at MIT-OZ>

    Date: Friday, 5 November 1982, 18:49-EST
    From: Carl Hewitt <CARL at MIT-OZ>
    In Experimental System 218.119, Zmail 65.36, LMFS 28.23, Tape 11.2,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

    Attempting to load patches on AP1:

    >>Error: Illegal request format
    For EE:LIB:<LISPM.PATCH>SYSTEM-218-120.QBIN
I have seen the TOPS-20 file server return bogus errors like "Illegal
request format" and "Invalid pathname syntax" not infrequently.  This
bug is not new, and the only other thing I know about it is that
repeating the command always seems to work.
 6-Nov-82 17:31:21-EST,1325;000000000000
Date: Saturday, 6 November 1982, 09:54-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Zvona at MIT-OZ, BUG-LISPM at MIT-OZ, bug-zmail at MIT-OZ,
    bug-zwei at MIT-OZ
In-reply-to: The message of 5 Nov 82 11:35-EST from David Chapman <Zvona at MIT-OZ>

    Date: Friday, 5 November 1982, 11:35-EST
    From: David Chapman <Zvona at MIT-OZ>
    Why isn't there a This Window system menu item DEBUG?
Because you don't debug windows, you debug processes.  However, the usual
try-to-find-a-process-for-this-window mechanism could be used.  I think
this would be a good thing; any opinions?

    Why does c-M think it knows how many stack frames to include in the
    report?  The last time I tried it, it was wrong.
Have you any suggestions as to how it could know?  A good heuristic would be
nice if anyone could suggest one.  Putting in all frames doesn't seem like
a good idea since there can be a LOT of frames under some circumstances.
We might want to just increase the number.

    Why is point put at the end of the text in a c-M, rather than at the
    begginning?  This encourages people to put their text there, which is
    presumably not where you want to see it.
Yes, this is scheduled to be fixed, along with a prompt asking the user
to report what was going on when the bug came up.
 6-Nov-82 17:32:12-EST,878;000000000000
Date: Saturday, 6 November 1982, 09:48-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: hash-tables
To: KWC at MIT-ML, BUG-LISPM at MIT-ML
In-reply-to: The message of 5 Nov 82 09:37-EST from Ken Church <KWC at MIT-ML>

I really don't understand some of the points in your hash table
complaint.  First of all, PLEASE always send the system version in bug
reports; use Meta-X Bug or Zmail's bug reporting command (click middle
on Mail).  The main question is whether this was in 210, 218, 86, 89, or
what.  Most of the things you report do not seem to be true in 218.
Furthermore, sending a report of the form "puthash was broken" is not
very helpful; if puthash were entirely broken, large pieces of the
system wouldn't work and it would be painfully and immediately obvious
to everybody.  Please try to be more specific.  Thanks very much for
your help.
 6-Nov-82 17:33:05-EST,1768;000000000000
Date: Saturday, 6 November 1982, 09:58-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Make Undefined System
To: Batali at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 5 Nov 82 11:38-EST from John Batali <Batali at MIT-OZ>

    Date: Friday, 5 November 1982, 11:38-EST
    From: John Batali <Batali at MIT-OZ>
    The problem was that EE was down for the period when I couldn't
    figure out where my system was.  So the machine would go into a
    net-connect state that confused me because OZ was fine, and I had
    mistakenly thought that the system had been defined.
It would be nice to replace the "Net Connect" whostate with "Connect EE".
Unfortunately, the only easy way to do this would entail an amount of
string-consing that might be unacceptable.  If anybody can think of
a cheap implementation, this should be done.

    It seems like the behaviour you are describing is just what the new
    error handler is good for: when an undefined system is mentioned, it
    should give a list of options, one of which is to try to search for the
    declarations file -- which name can be supplied by the user if
    necessary.
I disagree: the debugger should not be entered if nothing has gone wrong.
The debugger is for bugs.  Doing (make-system 'daedalus) in a band that knows
nothing about dpl should be able to load the whole thing up without
any special knowledge on the part of the user and without getting any
errors; that's the whole goal here.

    BTW: this has nothing to do with DPL.
Not on your part, I guess, but on my part.  The new feature is for the benefit
of such systems as DPL and Macsyma and CUBE and things like that, in general.
It has nothing to do with dpl/daedalus in particular.
 6-Nov-82 17:55:27-EST,629;000000000000
Date: Friday, 5 November 1982, 23:47-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Using instances as function specs
To: Gregor J. Kiczales <Gregor at MIT-MC>
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 5 Nov 82 16:44-EST from Gregor J. Kiczales <Gregor at MIT-MC>

You realize that there are a dozen other places that would have to be changed?
(Leaving aside the editor).
Also to be rational your instances would need to give themselves :PRINT-SELF
and :FASD-FORM method so that they can have a readable printed representation
and can be stored in compiled files.

What's the high-level goal here?
 6-Nov-82 19:05:27-EST,534;000000000000
Date: Saturday, 6 November 1982, 19:02-EST
From: Philippe Brou <PHILIP at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.32,
ZMail 47.10, microcode 183, !, on Lisp Machine Twenty-three:

Get an error due to a negative array access when
I try to redisplay a variable on a (scrolling) choose-variable-values
menu AND the line containing the variable is above the menu 
(in the MORE ABOVE region).
No problem if the line is scrolled out below the bottom of the menu.

 6-Nov-82 19:55:27-EST,677;000000000000
Date: Saturday, 6 November 1982, 10:54-EST
From: Daniel L. Weinreb <dlw at scrc-tenex>
Subject: SYS:SITE; system SITE
To: MOON at scrc-tenex
Cc: Batali at mit-oz, BUG-LISPM at mit-eecs
In-reply-to: The message of 5 Nov 82 17:06-EST from MOON at SCRC-TENEX

    Date: Friday, 5 November 1982  17:06-EST
    From: MOON at SCRC-TENEX
    If it doesn't already, it should print a message to ERROR-OUTPUT telling you
    that the system is unknown and it is looking for a definition on SYS:SITE;,
    before it tries to open the file.
    This would prevent Batali from being surprised when it asks him to log in to EE.
Good idea.  Fixed in the source, to be patched.
 6-Nov-82 21:45:41-EST,423;000000000000
Date: Saturday, 6 November 1982, 21:33-EST
From: Henry Lieberman <Henry at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

I have (LOGIN-SETQ ZWEI:TEXT-MODE-HOOK ....) in my init file.
This gives a illegal redefinition warning which didn't used to happen <
218. How do I flush it?

 6-Nov-82 23:40:58-EST,682;000000000000
Date: Saturday, 6 November 1982, 23:30-EST
From: Henry Lieberman <Henry at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

What do I type to the error handler, anologous to c-m-A to get a 
&REST argument returned? I can get the elements of the list one-by-one
by <N> c-m-A but is there anything that returns the whole list at once?

Also, now that we have APPLYHOOK as well as EVALHOOK, how bout having
a stepper option that evaluates all the arguments to the current form
without stepping, but steps thru the definition of the function.
 6-Nov-82 23:41:43-EST,1244;000000000000
Date: Saturday, 6 November 1982  21:04-EST
From: MOON at SCRC-TENEX
To:   Henry Lieberman <Henry at MIT-OZ>
Cc:   BUG-LISPM at MIT-EECS
Subject: your init file
In-reply-to: The message of 6 Nov 1982 21:33-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Saturday, 6 November 1982, 21:33-EST
    From: Henry Lieberman <Henry at MIT-OZ>
    To: BUG-LISPM at MIT-EECS

    In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

    I have (LOGIN-SETQ ZWEI:TEXT-MODE-HOOK ....) in my init file.
    This gives a illegal redefinition warning which didn't used to happen <
    218.

Since you didn't say what file is involved, and in fact there is no such
form in your init file, you shouldn't really get an answer.  I had a few minutes
to kill and I was curious so I looked around your directory.  SZWEI.QBIN.2
[not the latest version] contains a (DEFVAR TEXT-MODE-HOOK NIL) which comes
from your (DEFMAJOR COM-TEXT-MODE).  The LOGIN-SETQ of course has nothing to
do with it.

SYS:SYS1;UNFASL is the tool for finding out things like this.  Or you could
easily have debugged it by loading the interpreted version of the file.
 7-Nov-82 01:05:39-EST,2794;000000000000
Date: Sunday, 7 November 1982, 00:59-EST
From: Kenneth W. Church <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ
Cc: nlg.kwc at MIT-SPEECH, dph.kwc at MIT-OZ, kwc at MIT-ML, dph at MIT-EECS,
    eb at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, Experimental XRUP Reasoning Package 59.0, microcode 187,
lsb, bold, on Lisp Machine Nineteen:

I don't know who this stupid machine is going to claim is
sending this bug report.  I am Ed Barton, EB at MIT-OZ, and I am
not Ken Church.  I am not happy; I don't know whether Ken is
happy or not.

I walked up to this machine and no one was logged in on it.  I
don't remember whether it said "Cold-Booted" or not.  At any
rate it was displaying the usual list of system version numbers
and such and there was no user-id displayed in the who line.

I then proceeded to load up a bunch of files and do a couple of
compilations.  After that I did a make-system ':compile and was
rather perturbed to get the error Directory access privileges
required for one of my directories.  I looked into the matter
and found that the user and directory groups were set up
properly, just as they had always been.  I retried the operation
many times to no avail.

I considered it rather peculiar at this time that there was no
file job logged in as EB, even though I had logged in as EB and
given my password.  (The variable USER-ID is currently set to
"EB".)

I asked Marty for help and after about 45 minutes of looking
around, retrying operations, changing directory protections, and
logging out file jobs, we discovered that all the files I had
written had an author of DPH.KWC.  Also, @finger claimed that
EB, whose real name was supposed to be Kenneth W.  Church, was
logged in on this machine.  (I note also that at the present
time there are several other peculiar FINGER correspondences in
the Finger listing; for instance GAK, whose real name is
supposed to be Danny Hillis, is claimed to be logged into
CADR-22.)

Killing the file job and hence causing new file accesses to log
in a new one didn't help.

The following variable values are interesting:

user-id 
"EB"

fs:user-host-password-alist
NIL

fs:uname-password-alist
((#<TOPS20-CHAOS-HOST MIT-SPEECH> "nlg.kwc" "censored")
 (#<TOPS20-CHAOS-HOST MIT-OZ> "dph.kwc" "censored")
 (#<ITS-CHAOS-HOST MIT-ML> "kwc" "censored")
 (#<TOPS20-CHAOS-HOST MIT-EECS> "dph" "censored"))

The current operation of the password-remembering system seems a
trifle irresponsible, and the practice of logging someone in as
the person who saved the band seems to be confusing also.  Could
someone please fix this, AND REPAIR ALL THE BANDS THAT HAVE
PEOPLE'S PASSWORDS SAVED IN THEM, so I can stop being Ken
Church?
 7-Nov-82 01:15:42-EST,850;000000000000
Date: Sunday, 7 November 1982, 01:10-EST
From: Kenneth W. Church <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, Experimental XRUP Reasoning Package 59.0, microcode 187,
lsb, bold, on Lisp Machine Nineteen:

Postscript to previous message about logging in file jobs as
the wrong person:

I just set FS:UNAME-PASSWORD-ALIST to NIL.  Now both
FS:USER-HOST-PASSWORD-ALIST and FS:UNAME-PASSWORD-ALIST are NIL.
I am logging out DPH.KWC file jobs as fast as I can, but they
always come back as DPH.KWC, never as EB.  Evidently there is
bogus state somewhere besides on those lists.

Also, evidently there is no way I can think of to get my right
name back, besides cold-booting and spending another couple of
hours redoing what I am in the middle of doing.
 7-Nov-82 01:57:43-EST,444;000000000000
Date: Sunday, 7 November 1982  01:47-EST
From: HEWITT at MIT-XX
Subject: Illegal request format
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BUG-FILE at MIT-OZ, BUG-LISPM at MIT-EECS, Hewitt at MIT-XX
Reply-to:  Hewitt at MIT-XX
In-reply-to: The message of 6 Nov 1982 12:59-EST from David L. Andre <DLA at SCRC-TENEX>

Dave,

Thanks for the reply.  In the future I will
try repeating loading the file.

Cheers,

Carl
-------
 7-Nov-82 03:15:22-EST,924;000000000000
Date: Sunday, 7 November 1982, 03:10-EST
From: Kenneth W. Church <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, Experimental XRUP Reasoning Package 63.0, microcode 187,
lsb, bold, on Lisp Machine Nineteen:

I don't know how to reproduce this but it has happened several
times in the course of debugging my systems.  I just did a
make-system ':compile that compiled two files.  During the
compilation of the first file a warning about a free variable
was printed.  There were no warnings for the second file.  I had
previously edited warnings for both of the files.  After the
make-system finished I went to the editor and typed M-X Edit
Warnings, but the editor said that no files have warnings.
Someone who knows about the warnings code should try to imagine
how this might happen, since I can't reproduce the bug at will.

 7-Nov-82 11:34:07-EST,507;000000000000
Date: Sunday, 7 November 1982, 11:28-EST
From: Jonathan D. Taft <Taft at MIT-MC>
To: BUG-LISPM at MIT-OZ, BUG-LISPM-SCRC at SCRC

In LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34, ZMail 47.10,
Experimental Remote-File 20.0, Experimental Local-File 41.0,
microcode 183, LMFS 41.0, on Lisp Machine Six:

Trivia:
The Layouts feature in the window system (you know available as part of Edit-Screen)
would be a lot more useful if it automatically offerred to install the layout on a system key.
 7-Nov-82 11:54:03-EST,2887;000000000000
Date: 7 November 1982 11:48-EST
From: Ken Church <KWC at MIT-ML>
To: BUG-LISPM at MIT-ML, EB at MIT-OZ
cc: DPH at MIT-ML, KWC at MIT-ML

    Date: Sunday, 7 November 1982, 00:59-EST
    From: Kenneth W. Church <EB at MIT-OZ>
        eb at MIT-OZ

    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
    ZMail 47.10, Experimental XRUP Reasoning Package 59.0, microcode 187,
    lsb, bold, on Lisp Machine Nineteen:

    I don't know who this stupid machine is going to claim is
    sending this bug report.  I am Ed Barton, EB at MIT-OZ, and I am
    not Ken Church.  I am not happy; I don't know whether Ken is
    happy or not.

I think I know where the source of the problem lies.  I was probably
the last person before EB to use cadr-19.  I left cadr-19 last
night compiling a large number of files and then told it to log out
when it was done.  Ed probably came by after I was done.

I use a certain feature of DPH's which remembers login names and
passwords so that you don't have to log in to hosts if the file job
should be killed in some way.  It happened that DPH's name and
password for EE used to be on this list (I removed it today), since I
copied the alist from his code and didn't bother to edit out
the hosts that I don't use.

Unfortunately, the hack doesn't work so well when you want to log into
a host with a name other than the one that is on this alist.  (I have
been screwed with this before myself).  I'm sorry that it caused you
such difficulties.

It is possible that the password remembering scheme has migrated onto
cadr-19 and cadr-4.  (I don't think so).  Would the next person to log
into these machines please check the variable
"fs:uname-password-alist" and if it is bound to:

    ((#<TOPS20-CHAOS-HOST MIT-SPEECH> "nlg.kwc" "censored")
     (#<TOPS20-CHAOS-HOST MIT-OZ> "dph.kwc" "censored")
     (#<ITS-CHAOS-HOST MIT-ML> "kwc" "censored")
     (#<TOPS20-CHAOS-HOST MIT-EECS> "dph" "censored"))

please fix it?  I'm sorry for the damage that I might have caused.

Obviously there is a security problem with using this password
memoizing scheme, but it is also very annoying to have to tell it
your password all the time, and also with having to login to machines
in the middle of a very big compilation because the last file on the
list is on a supposedly secure machine.  It seems to me that it
is necessary to work out a scheme so that you wouldn't have to log
into more than one machine at mit.  Could we adopt an arrangement
so that if you are currently logged into a secure machine from an
MIT lispmachine, then the other machines will accept that, and log
you in as the same person on it, if you need to get files there?
Obviously, there is a problem with defining what "same person" means.
Perhaps this should be defined in your init, or in inquir somewhere.
 7-Nov-82 12:24:16-EST,5181;000000000000
Date: Sunday, 7 November 1982, 04:46-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Debugger bugs
To: Daniel L. Weinreb <dlw at SCRC-TENEX>, David Chapman <Zvona at MIT-OZ>,
    James E. Kulp <JEK at scrc-vixen>, MOON at SCRC-TENEX
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 6 Nov 82 09:54-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>,
             The message of 6 Nov 82 14:11-EST from David Chapman <Zvona at MIT-OZ>,
             The message of 6 Nov 82 12:07-EST from James E. Kulp <JEK at scrc-vixen>,
             The message of 5 Nov 82 11:35-EST from David Chapman <Zvona at MIT-OZ>,
             The message of 5 Nov 82 16:31-EST from David Chapman <Zvona at MIT-OZ>,
             The message of 4 Nov 82 17:14-EST from MOON at SCRC-TENEX,
             The message of 4 Nov 82 17:09-EST from David Chapman <Zvona at MIT-OZ>,
             The message of 3 Nov 82 16:54-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Saturday, 6 November 1982, 09:54-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>

	Date: Friday, 5 November 1982, 11:35-EST
	From: David Chapman <Zvona at MIT-OZ>

	Why does c-M think it knows how many stack frames to include in the
	report?  The last time I tried it, it was wrong.
    Have you any suggestions as to how it could know?  A good heuristic would be
    nice if anyone could suggest one.
I made it take a numeric argument, which is the number of frames to include.
It is also possible for the particular condition to control completely how its
bugs are reported.

	Why is point put at the end of the text in a c-M, rather than at the
	begginning?  This encourages people to put their text there, which is
	presumably not where you want to see it.
    Yes, this is scheduled to be fixed, along with a prompt asking the user
    to report what was going on when the bug came up.
Fixed.

    Date: Saturday, 6 November 1982, 14:11-EST
    From: David Chapman <Zvona at MIT-OZ>

    When your regular pdl is 63K big, it takes the debugger forever to 
    find arguments to stack frames.
Fixed.

    Date: Saturday, 6 November 1982, 12:07-EST
    From: James E. Kulp <JEK at scrc-vixen>

    I got screwed by this yesterday.  A DLW suggested, a numeric arg
    should do that many frames


    Date: Friday, 5 November 1982, 16:31-EST
    From: David Chapman <Zvona at MIT-OZ>

    The debugger doesn't deal well with stack overflow.  

This isn't fixed yet, but it will be (the bug is that pdl-overflow is
caught by (CATCH-ERROR-RESTART ((ERROR)...)).)

    backtrace shows dbg:frame-active-p and dbg:next-active-frame calling 
    each other recursively into infinity.
Fixed.

    if (eh-val) exists, so should (eh-arg) and (eh-loc).
They always have.  Renamed to DBG:ARG (etc.) in Release 4.

    Date: Thursday, 4 November 1982  17:14-EST
    From: MOON at SCRC-TENEX

	Date: Wednesday, 3 November 1982, 16:54-EST
	From: David Chapman <ZVONA at MIT-OZ>

	Can't it be made so redundant options are not displayed on s- keys?  It
	is disturbing to see s-C, return to debugger; s-D, return to debugger;
	s-E, return to debugger; ...

    You have several levels of nested debugger, didn't you?

    The message needs to be fixed to include a level number, to make it clear
    that they aren't redundant.
Fixed, also two redundant ones removed.

    Date: Thursday, 4 November 1982, 17:09-EST
    From: David Chapman <Zvona at MIT-OZ>

    I wish that an aref-beyond-end trap would tell you what the array was as well as what
    its length was.
It should.  It works on the L machine, but requires some small microcode changes
to work on the A machine.  We should do this.

    In the debugger, c-X doesn't seem to do anything at all.  I can't actually get it to
    clear the break on exit flag.

	Date: Thursday, 4 November 1982  11:02-EST
	Sender: ZVONA at MIT-OZ
    
	Brain spazz.  I'm thinking about the case where you have just hit a
	BREAKON trap.  THEN break on exit is set by default, and c-X tells you
	that it has set it.

I don't understand this exactly, but I think I fixed what was confusing you
(wrong frame selected).

    In the debugger, there seems to be no way to get rid of numeric arguments you have typed
    short of hitting abort.  Either rubout or c-G or both should work.

c-G works.  Rubout works too (in the source).

    Date: Wednesday, 3 November 1982, 16:54-EST
    From: David Chapman <ZVONA at MIT-OZ>

    In the debugger.  If there is some function in the stack further up that
    is breakoned, and I abort, it traps at that function because it is a
    throw through a marked frame.
Fixed (unless you were seeing a different bug than I was).

    Also, I've never tried c-D before, but it certainly doesn't do what I
    expect on trivial examples.  And it certainly seems to be doing the
    wrong thing.  And it often gets you into a state where it does <<error
    printing value>>.  So I bet it is screwed up.
That's for sure!  Fixed.



All these fixes are only in the source, however they should appear in Release 4.
It doesn't seem worth patching.
 7-Nov-82 12:25:26-EST,725;000000000000
Date: Saturday, 6 November 1982  22:37-EST
From: MOON at SCRC-TENEX
To:   Henry Lieberman <Henry at MIT-OZ>
Cc:   BUG-LISPM at MIT-EECS
In-reply-to: The message of 6 Nov 1982 23:30-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Saturday, 6 November 1982, 23:30-EST
    From: Henry Lieberman <Henry at MIT-OZ>

    What do I type to the error handler, anologous to c-m-A to get a 
    &REST argument returned?
Good point.  It happens by coincidence that c-m-L works on the A machine,
but it doesn't on the L machine (since it only worked by coincidence),
so before you get too used to it we should put in a command that asks for
this explicitly.

Now if debugger commands allowed negative arguments...
 7-Nov-82 12:43:58-EST,5045;000000000000
Date: 7 November 1982 12:36-EST
From: Ken Church <KWC at MIT-ML>
Subject: hash-tables, compiler:fasd-symbol-value, 
To: dlw at SCRC-TENEX
cc: BUG-LISPM at MIT-ML



    Date: Saturday, 6 November 1982, 09:48-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    In-reply-to: The message of 5 Nov 82 09:37-EST from Ken Church <KWC at MIT-ML>

    I really don't understand some of the points in your hash table
    complaint.  First of all, PLEASE always send the system version in bug
    reports; use Meta-X Bug or Zmail's bug reporting command (click middle
    on Mail).  The main question is whether this was in 210, 218, 86, 89, or
    what.  Most of the things you report do not seem to be true in
218.

My hashtable complaint were with respect to system 89, not 2xx.
I'm sorry that I didn't use any of the lispm bug reporting schemes,
but they don't work on ML, and my lispm was busy reformating the
dictionary, since the previous format depended on hash-tables which
were garbaged in the changes in system 89.

    Furthermore, sending a report of the form "puthash was broken" is not
    very helpful; if puthash were entirely broken, large pieces of the
    system wouldn't work and it would be painfully and immediately obvious
    to everybody.  Please try to be more specific.  Thanks very much for
    your help.

I had assumed that the puthash bug was well-known since it had already
been fixed.  I would have thought that puthash couldn't be broken
because of exactly what you say.  That was why it took me so long to
find the problem.  In fact, though, if you find a system 89.0-89.25,
you will find that:

(setq x (make-equal-hash-table))
(puthash 1 1 x)
(puthash 1 2 x)

will leave x with 2 keys: 1 and NIL.  RMS tells me that the bug had
something to do with a fence-post error in the case when you puthash
with a key that is already in the table.

This may have caused a lot of problems in the system, but not
as many as one might have thought.  I think the bug went unreported
for several days.

The problem was that hash-tables in 89 are implemented with a totally
different internal representation as they were in 87 (or as they
probably are in 2xx).  Also, (typep x 'si:equal-hash-table) generates
an error since equal-hash-table is no longer a type.  The changes
broke puthash (an error that I reported last week and which has
been fixed in 89.26), and the interaction between hash-tables and
compiler:fasd-symbol-value (an error that has not been fixed so far
as I know, and which may not be fixed since apparantly, there was
no reason to expect compiler:fasd-symbol-value to work on hash-tables,
and the mere fact that it used to work in most interesting cases was
purely an accident).

I don't know if anyone is working on compiler:fasd-symbol-value, but
this problem with hash-tables brings up some interesting points.
This is the obvious way to dump any large data base from a lispm.
It used to work on large arrays (like an array of 20,000 dictionary
entries), but someone once upon a time complained that
compiler:fasd-symbol-value didn't work on circular structure, so
someone fixed it so that it would, by hashing through a table.
Unfortunately, the table isn't big enough for my large dictionaries,
and hence it blows up.  And even if the table was big enough, the
effort involved in hashing through the table is so great, that it
turns out to be faster to read the dictionary in with readline.
Would it be possible to give compiler:fasd-symbol-value and load
a keyed argument so that the user could tell it that this is a large
data-base, and I promise that it won't be circular, so just do the
right thing?

Similarly, I have been told that I shouldn't expect
compiler:fasd-symbol-value to work on hash tables because SXHASH, EQ,
and EQUAL aren't going to return the same values in two different
environments.  However, if I restrict my hash-tables to strings,
numbers, and lists thereof, then I would expect SXHASH to work just
fine.  Thus, for my applications, it seems reasonable to expect
compiler:fasd-symbol value to work just fine.  It would be nice if
there was some way to say this.  Perhaps I should be able to give
compiler:fasd-symbol-value a flag saying, "I know that SXHASH won't
always work, but assume it anyways" and just put the hash-table into
the file with the hash codes that it has.  Alternatively, hash-tables
could have a method that stored them on disk as an alist and
reconstructed them when they get loaded back in.  This would of course
be much slower.

I think I would really like to have the
GOD-DAMN-IT-I-KNOW-WHAT-I-AM-DOING flags, so that I don't have to call
SXHASH on every entry in my dictionary, and so that I don't have to
check for circularities in my dictionaries.  Just as there are times
when you want to be able to turn off error checking, there are also
times when you might want to be able to turn off circularity checking
and relocatability checking.

- ken
 7-Nov-82 14:56:26-EST,706;000000000000
Date: 7 November 1982 14:48-EST
From: Christopher C. Stacy <CStacy at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Nine:

Rereading the system 210 release notes, I noticed that the fast-boot
feature (where not all the system is paged out of the LOD band) is
experimental, and that you wanted reaction on it from users to see if
it was liked.

I dont like it.  Booting fast is not important to me: I am going to
sitting here for a while, and booting gives me time to set down my
papers and open a coke. But I get freaked out when response
unexpectedly degrades later on.
 7-Nov-82 15:25:39-EST,1494;000000000000
Date: Sunday, 7 November 1982, 15:22-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.32,
ZMail 47.10, microcode 183, !, on Lisp Machine Eighteen:

There is lossage in the lisp reader rubout handler.

 Here is what I did:
 1) in the editor I erased a region containing the following:

(DEFTYPE (TYPE1)
  (SS1 SLOT)			      ;reg=2
  (SS2 SLOT 4)			      ;reg=4
  (SS3 SLOT 1)			      ;reg=1
  (FLAG1 FLAG 5)		      ;flag=5
  (PP1 POINTER)			      ;reg=3
  (PP2 POINTER 1)		      ;reg=1
  (PP3 POINTER 5)		      ;reg=5
  (BB1 BIT)			      ;reg=1, col=4
  (BB2 BIT 6)			      ;reg=1, col=6
  (BB3 BIT 0)			      ;reg=6, col=0
  (BB4 BIT NIL 1)		      ;reg=1, col=5
  (BB5 BIT NIL 6)		      ;reg=6, col=1
  (BB6 BIT 0 0)			      ;reg=0, col=0
  (BB7 BIT 3 6)			      ;reg=6, col=3
  (FF1 FIELD 10)		      ;reg=1, col=7, ecol=17
  (FF2 FIELD 10)		      ;reg=6, col=4, ecol=14
  (FF3 FIELD 3 16)		      ;reg=6, col=16, ecol=20
  (FF4 FIELD 3 NIL 1)		      ;reg=1, col=17, ecol=22
  )

 2) Got into the lisp listener and yanked the form back with control-c.  This 
    worked fine.

 3) Did some other stuff in the lisp listener
 
 4) tried to get back the DEFTYPE form with meta-c.  When it should have 
    yanked back the DEFTYPE, I got the following error message:

    ">>TRAP: The subscript, 1263, was beyond the length, 1000, in COPY-ARRAY-PORTION"


-Cliff
 7-Nov-82 16:37:04-EST,848;000000000000
Date: Sunday, 7 November 1982, 16:28-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-MC

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, microcode 183, !, on Lisp Machine Twenty-two:

1) Call tv:menu-choose with bogus arguments a few times.
Then, call it with any valid arguments.  It appears that
some default was set that causes you to get an error:

>>>>TRAP 2988. (ARGTYP CONS M-T T ...)
The argument to CDR, "foo", was of the wrong type.
The function expected a cons.
While in the function TV:MENU-MAX-WIDTH  TV:MENU-DEDUCE-PARAMETERS  TV:MENU-COMPUTE-GEOMETRY

TV:MENU-MAX-WIDTH:
   Arg 0 (ITEM-LIST): "foo"
Error level 2

2)  System-P goes into No selected Window state forever and trying to
call (peek) from a lisp listener shows that the window is locked.
 7-Nov-82 16:39:46-EST,1424;000000000000
Mail-From: ZVONA created at  7-Nov-82 16:36:44
Date: Sunday, 7 November 1982  16:36-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   David A. Moon <Moon at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, Daniel L. Weinreb <dlw at SCRC-TENEX>,
      James E. Kulp <JEK at scrc-vixen>
Subject: Debugger bugs
In-reply-to: The message of 7 Nov 1982 04:46-EST from David A. Moon <Moon at SCRC-TENEX>

        Date: Friday, 5 November 1982, 16:31-EST
        From: David Chapman <Zvona at MIT-OZ>

        The debugger doesn't deal well with stack overflow.  

    This isn't fixed yet, but it will be (the bug is that pdl-overflow is
    caught by (CATCH-ERROR-RESTART ((ERROR)...)).)

Well, it's screwing me pretty badly.

        if (eh-val) exists, so should (eh-arg) and (eh-loc).
    They always have.  Renamed to DBG:ARG (etc.) in Release 4.

Yes, but (unless I am spacing here -- I'm on OZ) they REQUIRE
arguments, whereas eh-val doesn't.  It would be useful if, by analogy,
dbg:arg and dbg:loc of no args would give you the list of all of them.
Better still would be if this somewhat weird convention were flushed
and dbg:foos or dbg:foo-list (for foo in {arg, loc, val}) were
introduced.  Also, re Henry's request for a way to get at the rest
argument, this would be very useful, but (let me guess) is impossible
becase of stack-consing?  Maybe it could actually cons a list at that
point?
 7-Nov-82 20:34:09-EST,1219;000000000000
Date: Saturday, 6 November 1982, 11:46-EST
From: James E. Kulp <JEK at scrc-vixen>
Subject: SORTED option to directory list
To: BUG-LISPM at mit-oz
In-reply-to: The message of 5 Nov 82 12:49-EST from Ian G. Macky <Ian at MIT-OZ>

    Date: 5 November 1982  12:49-EST (Friday)
    From: Ian G. Macky <Ian at MIT-OZ>
	Date: Friday, 5 November 1982, 11:24-EST
	From: David Chapman <Zvona>
	In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
	LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

	m-X View Directory always does this.  (I've c-M'd this from the editor,
	so if you get it my hypothesis about that is disconfirmed.) 

	>>Error: Unknown DIRECTORY option
	For OZ:PS:<ZVONA>*.*.*
	...

    I added SORTED as a no-op option to the DIRECTORY command so this
    would not barf.

Can we P*L*E*A*S*E* be more informative when we add things to the file
protocol?!?!?!?!?  I don't know how many times I have changed things in
my FILE server based on answers to bug reports like this.  I would try
to keep the document up to date myself except that I only here about
changes via bug reports on bug-lispm, which is a little late.
 7-Nov-82 21:19:25-EST,999;000000000000
Date: Sunday, 7 November 1982, 21:11-EST
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: CStacy at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: The message of 7 Nov 82 14:48-EST from Christopher C. Stacy <CStacy at MIT-MC>

    Date: 7 November 1982 14:48-EST
    From: Christopher C. Stacy <CStacy at MIT-MC>
    Rereading the system 210 release notes, I noticed that the fast-boot
    feature (where not all the system is paged out of the LOD band) is
    experimental, and that you wanted reaction on it from users to see if
    it was liked.

    I dont like it.  Booting fast is not important to me: I am going to
    sitting here for a while, and booting gives me time to set down my
    papers and open a coke. But I get freaked out when response
    unexpectedly degrades later on.

Could we arrange for c-m-c-m-Altmode or something to do a slow boot?  My
usual morning routine could have a step removed from it:

c-m-c-m-Rubout (disk-restore n t) (load-and-save-patches) ...
 7-Nov-82 21:29:13-EST,491;000000000000
Date:  7 Nov 1982 2122-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: CStacy at MIT-MC
cc: DLA at SCRC-TENEX, BUG-LISPM at MIT-MC
In-Reply-To: The message of 7 November 1982 14:48-EST from Christopher C. Stacy <CStacy at MIT-MC>

Fast booting doesn't degrade performance nearly as much as
expected when we wrote the 210 release notes.  In most cases,
it is no worse than 10% slower, and in many cases, it seems
to be faster (due to its special treatment of page-ahead).
-------
 7-Nov-82 21:46:03-EST,668;000000000000
Date: 7 November 1982 21:43-EST
From: Christopher C. Stacy <CStacy at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Nine:

I was running a program to hack directories on a file server.  It
bombed out in a re-tryable way, but I had left the terminal.  When I
came back, the file connection had timed out and I was no longer
logged in.  Of course, logging back in and proceeding the program
didn't work -- the program needed back the same control connection to
work.  I wonder if there is a good way to recover from situations like this.
 7-Nov-82 23:14:50-EST,259;000000000000
Date: 7 November 1982 23:08-EST
From: Christopher C. Stacy <CStacy at MIT-MC>
To: CWH at SCRC-TENEX
cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 7 Nov 82 21:11-EST from Carl W. Hoffman <CWH at SCRC-TENEX>

I sure like CWH's slow-boot idea alot!
 7-Nov-82 23:44:32-EST,2132;000000000000
Date:  7 Nov 1982 2335-EST
From: Ed Barton <EB at MIT-OZ>
To: KWC at MIT-ML
cc: BUG-LISPM at MIT-ML, DPH at MIT-ML, EB at MIT-OZ
In-Reply-To: Your message of 7-Nov-82 1154-EST

    Date: 7 November 1982 11:48-EST
    From: Ken Church <KWC at MIT-ML>
    To: BUG-LISPM at MIT-ML, EB at MIT-OZ
    cc: DPH at MIT-ML, KWC at MIT-ML
	Date: Sunday, 7 November 1982, 00:59-EST
	From: Kenneth W. Church <EB at MIT-OZ>
	    eb at MIT-OZ
	In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
	ZMail 47.10, Experimental XRUP Reasoning Package 59.0, microcode 187,
	lsb, bold, on Lisp Machine Nineteen:
	I don't know who this stupid machine is going to claim is
	sending this bug report.  I am Ed Barton, EB at MIT-OZ, and I am
	not Ken Church.  I am not happy; I don't know whether Ken is
	happy or not.
    I think I know where the source of the problem lies.  I was probably
    the last person before EB to use cadr-19.  I left cadr-19 last
    night compiling a large number of files and then told it to log out
    when it was done.  Ed probably came by after I was done.

The alist had the information in it right after cold booting; I
checked before I left this morning.

    I use a certain feature of DPH's which remembers login names and
    passwords so that you don't have to log in to hosts if the file job
    should be killed in some way.

That should not be necessary at all.  MIT systems (such as system 89)
remember the login names and passwords anyway, so you only have to log
in once per host even if the file job is killed many times.  They
clear things out so that the lossage that happened to me does not
happen with them, so far as I know.  You should remove the hack code
that is causing this trouble, since it does not do the right thing and
is redundant in system 89.  You would still have a problem if the last
file of a big compilation was a file on a machine not previously
referenced, but it would be easy to make a PROBEF of a file there
happen in the very beginning so you could log in there too before
going out for pizza or whatever.
-------
 8-Nov-82 00:14:43-EST,502;000000000000
Date: Monday, 8 November 1982  00:07-EST
From: MOON at SCRC-TENEX
To:   Carl W. Hoffman <CWH at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-MC, CStacy at MIT-MC
In-reply-to: The message of 7 Nov 1982 21:11-EST from Carl W. Hoffman <CWH at SCRC-TENEX>

    Date: Sunday, 7 November 1982, 21:11-EST
    From: Carl W. Hoffman <CWH at SCRC-TENEX>

    Could we arrange for c-m-c-m-Altmode or something to do a slow boot?
Not without changing the firmware in every keyboard.  It's fixed on the L machine.
 8-Nov-82 10:06:42-EST,632;000000000000
Date: Monday, 8 November 1982  09:56-EST
Sender: KWH at MIT-OZ
From: KWH at MIT-MC
To:   Ed Barton <EB at MIT-OZ>
Cc:   BUG-LISPM at MIT-ML, DPH at MIT-ML, KWC at MIT-ML
In-reply-to: The message of 7 Nov 1982  23:35-EST from Ed Barton <EB>


The Brand S systems do not have the "remember password" feature of 
the MIT systems;  for those systems it is neccessary to load
DPH's stuff, but it would probably be best to have that stuff define
the right initializations so it cleans itself up after a disk-save...

Doesn't MAKE-SYSTEM already do a PROBEF of all the files in its
DEFSYSTEM before doing anything?


Ken
 8-Nov-82 13:26:35-EST,1209;000000000000
Date: Monday, 8 November 1982, 13:21-EST
From: Eugene Ciccarelli <ECC at MIT-OZ>
Subject: Chaos trouble
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, microcode 183,                          ,
on Lisp Machine Apiary-1:

I have been having a lot of trouble with the Chaosnet connections since
I logged in.  While loading some file it "went into an illegal state".
I went up the stack a bit, to the LOAD, did a C-M-R to retry that
function, and it went on for a while.  Again an illegal state as it
tried to open a file (I think), I retried from a MAKE-SYSTEM, and it
attempted to read #<NIL -1.> from some location while inside
SI:DO-FILE-TRANSFORMATIONS.  Another retry of MAKE-SYSTEM and after a
while it attempted to read from a connection which was closed.  I
aborted, did a (chaos:reset) and manually did a load and make-system,
and it shortly got more of the errors.

I realize this isn't very specific, but since I don't have a scenario,
nor do I see anyone around that might come and look at the state of
things, I figured the best thing to do would be to give some general
idea of the trouble that is happening.
 8-Nov-82 13:31:28-EST,720;000000000000
Date: Monday, 8 November 1982, 13:28-EST
From: Eugene Ciccarelli <ECC at MIT-OZ>
Subject: Old-macro warnings
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, microcode 183,                          ,
on Lisp Machine Apiary-1:

I am getting a lot of warnings of the form "<function> has been
compiled with an old version of macro <macro>".  I cannot
understand what that means -- the file that defines my macros is
less recent than the qfasl I am loading.  Is that how it tries to
tell?  I certainly have not modified the macros it is warning
about in ages, other than move them from one file into another --
and I compiled AFTER doing that.
 8-Nov-82 13:41:21-EST,696;000000000000
Date: Monday, 8 November 1982, 13:38-EST
From: Eugene Ciccarelli <ECC at MIT-OZ>
Subject: Chaos connection problem - P.S.
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, microcode 183,                          ,
on Lisp Machine Apiary-1:

All that trouble I had with connections going into illegal states
and being closed was happening with files being loaded.  After
finally getting all them to load, I read about 16 large files
into the editor (the sources for those loaded) without any
trouble.  Perhaps there is a difference in the connections that
might make loading troublesome but not reading into the editor?
 8-Nov-82 13:47:01-EST,1234;000000000000
Date: Monday, 8 November 1982, 08:56-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: full names
To: Barry Margolin at MIT-MULTICS, bug-lispm at MIT-EECS
In-reply-to: The message of 6 Nov 82 02:38-EST from Barry Margolin at MIT-MULTICS

    Return-Path: <Margolin@MIT-MULTICS.ARPA>
    Date:  6 November 1982 02:38 est
    From:  Barry Margolin at MIT-MULTICS
    Subject:  full names
    To:  bug-lispm at MIT-EECS
    Acknowledge-To:  Margolin.Multics at MIT-MULTICS

    What needs to be done on Multics so that the LispM will know my full
    name, for putting in the From field of mail, when I
     (login "Margolin" 'multics)?

The Multics file server has to be hooked to INQUIR.  This raises 4 issues:
   1) If anyone (site) ever uses it who doesnt have inquir, special kludgery
      for the resulting linkage fault must be provided.
   2) Only "knowledgeable" people are in Multics INQUIR.  And not even
      all of them.
   3) It's already pretty damned slow logging in, this will make it so long
      it may well look like it's  broken when it logs in.
   4) There would be some remodularizations necessary to share code
      with the new same-process file-server debugging feature.
 8-Nov-82 13:47:29-EST,931;000000000000
Date: Monday, 8 November 1982, 08:58-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: full names
To: Barry Margolin at MIT-MULTICS, bug-lispm at MIT-EECS
In-reply-to: The message of 6 Nov 82 02:38-EST from Barry Margolin at MIT-MULTICS

    Return-Path: <Margolin@MIT-MULTICS.ARPA>
    Date:  6 November 1982 02:38 est
    From:  Barry Margolin at MIT-MULTICS
    Subject:  full names
    To:  bug-lispm at MIT-EECS
    Acknowledge-To:  Margolin.Multics at MIT-MULTICS

    What needs to be done on Multics so that the LispM will know my full
    name, for putting in the From field of mail, when I
     (login "Margolin" 'multics)?
Another interesting solution might be to take advantage of the fact that the
LOGIN command is processed in the MGP Daemon's process.  It could extract the
REAL name of the logee from the URF, and pass it on the server process.
This would not be a security violation.
 8-Nov-82 13:48:11-EST,1239;000000000000
Date: 8 Nov 1982 09:40:21-EST
From: hes@scrc-vixen
To: BUG-LISPM@mit-eecs, Batali@mit-oz, dlw@scrc-tenex

	From dlw@SCRC-TENEX  Fri Nov  5 14:25:01 1982
	Date: Friday, 5 November 1982, 10:01-EST
	From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	To: Batali at MIT-OZ, BUG-LISPM at MIT-EECS
	In-reply-to: The message of 4 Nov 82 14:00-EST from John Batali <Batali at MIT-OZ>
	
	    Date: Thursday, 4 November 1982, 14:00-EST
	    From: John Batali <Batali at MIT-OZ>
	    Make-System on an undefined system forces you to log in on EE
	    before it gives an error message.
	
	This is because of a new feature in system 218.  If you do (make-system
	'dpl) and it's never heard of dpl, it looks in SYS: SITE; DPL SITE in
	hopes of finding out where DPL lives on your site.  Thus you have to log
	into the sys host.  The only real problem here is just that you have a
	sys host that you don't expect to log into.  Anyway, now that EE is
	accessible again, Howie and I will actually be able to create such a
	file.  As for genuine typoes, yes, they'll look in the file system; I
	see no cure for this.
	
Actually it looks in sys; site; dpl system (just so people don't get
confused).  There is now such a definition on ee.
 8-Nov-82 15:27:45-EST,1538;000000000001
Mail-From: ECC created at  8-Nov-82 15:26:08
Date: Monday, 8 November 1982  15:26-EST
Sender: ECC at MIT-OZ
From: Eugene C. Ciccarelli <ECC at MIT-MC>
To:   BUG-OZ at MIT-OZ, BUG-LISPM at MIT-OZ
cc:   ECC at MIT-OZ, HEWITT at MIT-OZ, JBA at MIT-OZ
Subject: First part of file chopped

JBA and I have both saved files from a lisp machine and had the
first n characters in the file missing from the file written on
disk.  I don't yet know how many got chopped from my file
(SRC:<ECC.WEID>WEIDPN.LISP.92) but JBA lost 499 characters from
his file and when I wrote back <Hewitt>LISPM.INIT, 501 characters
were lost from the beginning.  In both JBA's case and my case
with <Hewitt>LISPM.INIT, Zwei's C-X C-S (save file) was used, and
I think my WEIDPN file was also saved essentially by the same
function.

If anyone has ideas on what is causing this, and how we could
avoid it (if it can't be found and fixed for a while), I'd like
to hear it.

One suggestion for the LISPM side:  could some function that does
the writing of the file and knows the length in bytes (someone
must, since we see it shown in the who-line), check after the
file is closed to see that what went to disk actually ended up
with the correct byte count?  Or, perhaps someone has other ideas
about how the Lispm side could really check the validity of the
file transfer.  Right now there is a lot of trusting to bug-free
transfer and the user doesn't here about the lossage until much
later.  (In my case, after reaping and expunging...)
 8-Nov-82 16:16:39-EST,1068;000000000000
Date: Monday, 8 November 1982, 16:00-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: dlw at SCRC-TENEX
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 6 Nov 82 09:58-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Saturday, 6 November 1982, 09:58-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	Date: Friday, 5 November 1982, 11:38-EST
	From: John Batali <Batali at MIT-OZ>
	The problem was that EE was down for the period when I couldn't
	figure out where my system was.  So the machine would go into a
	net-connect state that confused me because OZ was fine, and I had
	mistakenly thought that the system had been defined.
    It would be nice to replace the "Net Connect" whostate with "Connect EE".
    Unfortunately, the only easy way to do this would entail an amount of
    string-consing that might be unacceptable.  If anybody can think of
    a cheap implementation, this should be done.
If you honestly think this consing would be a problem, let every chaosnet host
have a fixed "Connect ~A" SELF instance variable.
 8-Nov-82 17:06:52-EST,1744;000000000000
Date: Monday, 8 November 1982  17:00-EST
From: MOON at SCRC-TENEX
To:   Eugene C. Ciccarelli <ECC at MIT-MC>, JBA at MIT-OZ
Cc:   BUG-LISPM at MIT-OZ, BUG-OZ at MIT-OZ, ECC at MIT-OZ,
      HEWITT at MIT-OZ
Subject: First part of file chopped
In-reply-to: The message of 8 Nov 1982  15:26-EST from Eugene C. Ciccarelli <ECC at MIT-MC>

Was this exactly one packet's-worth of characters lost from the front of your
file?  A full packet is 488 characters before expansion of carriage returns;
each carriage return is one character in the packet but two characters in a
pdp10 file.  Certain other characters that you probably aren't using because they
aren't in the pdp10 character set also expand into two characters (a rubout
followed by a character).

I've seen characters lost from the end of a file when writing to a pdp10,
such that the file was truncated to an integral multiple of a packet or to
zero length.  I've spent many hours on several occasions trying to learn more
about this, to no avail.  I've never seen characters lost from the front of
a file; if this is due to the same bug it would certainly be instructive, although
probably it is caused by something else.

Packets are sequence-numbered, so they can't get lost in the network proper.  But
the Lisp machine could be forgetting to launch them into the network, or the file
server could be forgetting to write them to the file.

I gather the host you were writing the file onto was Oz.  Since there are lots of
hosts with different software on them, you should say that explicitly.  This is
even more true for the Lisp machine end, since there are several major versions
maintained in some cases by different people, and any number of patches.
 9-Nov-82 00:20:31-EST,1631;000000000000
Date: Tuesday, 9 November 1982, 00:13-EST
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Chaos net errors
To: BUG-LISPM at MIT-EECS

In Experimental System 218.109, Zmail 65.36, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty-four:

When I do a MAKE-SYSTEM I consistently get a Chaos net error which does
not happen if I try to load the same files by hand.

>>Error: Connection #<CHAOS Connection for FILE 1 to OZ 2213701> went into illegal state while waiting for a transaction
While in the function FS:FILE-WAIT-FOR-TRANSACTION  FS:MULTIPLE-PLISTS-CHAOS  (METHOD FS:CHAOS-PATHNAME MULTIPLE-FILE-PLISTS)


FS:FILE-WAIT-FOR-TRANSACTION: (P.C. = 105)
 Arg 0 (TID): "T1830"
 Arg 1 (CONN): #<CHAOS Connection for FILE 1 to OZ 2213701>
 Arg 2 (WHOSTATE): "Probe"
Local 0 (ID): ("T1830" NIL NIL)


FS:FILE-WAIT-FOR-TRANSACTION:  (P.C. = 105)
   Arg 0 (TID): "T1830"
   Arg 1 (CONN): #<CHAOS Connection for FILE 1 to OZ 2213701>
   Arg 2 (WHOSTATE): "Probe"

FS:MULTIPLE-PLISTS-CHAOS:  (P.C. = 105)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (PATHNAMES): (#<TOPS20-PATHNAME "OZ:PS:<ACTOR>SIMULATOR-FACTORIAL.QBIN"> #<TOPS20-PATHNAME "OZ:PS:<ACTOR>SIMULATOR-FACTORIAL.LISP">)
   Arg 2 (OPTIONS): NIL

(METHOD FS:CHAOS-PATHNAME MULTIPLE-FILE-PLISTS):  (P.C. = 105)
   (SELF = #<TOPS20-PATHNAME "OZ:PS:<ACTOR>SIMULATOR-FACTORIAL.LISP">)
   Arg 0 (OPERATION): MULTIPLE-FILE-PLISTS
   Arg 1 (FILES): (#<TOPS20-PATHNAME "OZ:PS:<ACTOR>SIMULATOR-FACTORIAL.QBIN"> #<TOPS20-PATHNAME "OZ:PS:<ACTOR>SIMULATOR-FACTORIAL.LISP">)
   Arg 2 (OPTIONS): NIL
 9-Nov-82 00:27:31-EST,720;000000000000
Date: Tuesday, 9 November 1982, 00:21-EST
From: Gregor at MIT-MC, Hanson at MIT-MC
Sender: Gregor at MIT-MC
To: BUG-LISPM at MIT-MC


A Possible idea for speeding up code that uses defstruct (and 1-d arrays
in general). Imagine having instructions called: AR-1-0, AR-1-1 ... up to
AR-1-10 (or some other good number). Having these would optimize
accesses into constant offsets of an array i.e. defstruct. It might also
help to have AS-1-0 etc. But I don't really know:

 How much faster is a 1 arg misc than a 2 arg misc?

 How many people use defstruct?

Of course the flavor system already buys you this in its way, so it
might not be worth it. But on the other hand it wouldn't be very hard to
do.
 9-Nov-82 01:02:08-EST,254;000000000000
Date: Tuesday, 9 November 1982, 00:59-EST
From: Richard M. Stallman <RMS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, microcode 201,   , on Lisp Machine Five:


I win
 9-Nov-82 01:06:00-EST,254;000000000000
Date: Tuesday, 9 November 1982, 01:01-EST
From: Richard M. Stallman <RMS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
ZMail 47.10, microcode 201,   , on Lisp Machine Five:


I win
 9-Nov-82 01:41:11-EST,1473;000000000000
Date: Tuesday, 9 November 1982, 01:37-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: loosing connections right and left
To: bug-file at MIT-OZ, bug-oz at MIT-OZ, bug-lispm at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

This has been happening ALL evening long:

>>Error: Connection #<CHAOS Connection for FILE 1 to OZ 2473367> went into illegal state while waiting for a transaction
While in the function FS:FILE-WAIT-FOR-TRANSACTION  (METHOD FS:HOST-UNIT COMMAND)  FS:OPEN-CHAOS



FS:FILE-WAIT-FOR-TRANSACTION: (P.C. = 105)
 Arg 0 (TID): "T1824"
 Arg 1 (CONN): #<CHAOS Connection for FILE 1 to OZ 2473367>
 Arg 2 (WHOSTATE): "Open"
 Local 0 (ID): ("T1824" NIL NIL)


FS:FILE-WAIT-FOR-TRANSACTION:  (P.C. = 105)
   Arg 0 (TID): "T1824"
   Arg 1 (CONN): #<CHAOS Connection for FILE 1 to OZ 2473367>
   Arg 2 (WHOSTATE): "Open"

(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 226)
   (SELF = #<HOST-UNIT 23314133>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): NIL
   Arg 2 (STREAM-OR-HANDLE): "O1808"
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Open"
   Rest arg (COMMANDS): ("OPEN " WRITE " " CHARACTER ...)

FS:OPEN-CHAOS:  (P.C. = 523)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (*COMMAND-PATHNAME*): #<TOPS20-PATHNAME "OZ:PS:<DEJONG.CONCEPT>CONCEPT.MSS">
   Arg 2 (OPTIONS): (CHARACTERS T DIRECTION OUTPUT)
 9-Nov-82 01:55:07-EST,1666;000000000000
Mail-From: HANSON created at  9-Nov-82 01:52:01
Date: Tuesday, 9 November 1982  01:52-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   BUG-FILE at MIT-OZ
Cc:   BUG-LISPM at MIT-OZ
Subject: Losing connections right and left

    Date: Tuesday, 9 November 1982, 01:37-EST
    From: Carl Hewitt <Hewitt>
    To:   bug-file, bug-oz, bug-lispm
    Re:   loosing connections right and left

    In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

    This has been happening ALL evening long:

    >>Error: Connection #<CHAOS Connection for FILE 1 to OZ 2473367> went
    into illegal state while waiting for a transaction While in the
    function FS:FILE-WAIT-FOR-TRANSACTION  (METHOD FS:HOST-UNIT COMMAND)
     FS:OPEN-CHAOS



    FS:FILE-WAIT-FOR-TRANSACTION: (P.C. = 105)
     Arg 0 (TID): "T1824"
     Arg 1 (CONN): #<CHAOS Connection for FILE 1 to OZ 2473367>
     Arg 2 (WHOSTATE): "Open"
     Local 0 (ID): ("T1824" NIL NIL)

I am convinced that this is due to lossage in the OZ file server.
I was having exactly this problem this weekend and reported it.
Subsequent reports plus my own observations have shown the following:

1.  It happens only on OZ.

2.  It happens only from lisp machines.

3.  It is not in the chaos software itself, because supdup
    and the terminal concentrators all work fine.

4.  It is independent of the flavor of lisp machine system being run.

5.  All of the lost connections are FILE connections.

It is pretty obvious to me that the file server is at fault.
Please fix it!
 9-Nov-82 02:00:22-EST,1550;000000000000
Date: Tuesday, 9 November 1982, 01:51-EST
From: David A. Moon <Moon at SCRC-POINTER>
Subject: loosing connections right and left
To: Carl Hewitt <Hewitt at MIT-OZ>, Henry Lieberman <Henry at MIT-OZ>,
    Gren at MIT-OZ
Cc: bug-file at MIT-OZ, bug-oz at MIT-OZ, bug-lispm at MIT-OZ
In-reply-to: The message of 9 Nov 82 01:37-EST from Carl Hewitt <Hewitt at MIT-OZ>,
             The message of 9 Nov 82 00:13-EST from Henry Lieberman <Henry at MIT-OZ>

    Date: Tuesday, 9 November 1982, 01:37-EST
    From: Carl Hewitt <Hewitt at MIT-OZ>

    This has been happening ALL evening long:

    >>Error: Connection #<CHAOS Connection for FILE 1 to OZ 2473367> went into illegal state while waiting for a transaction
    While in the function FS:FILE-WAIT-FOR-TRANSACTION  (METHOD FS:HOST-UNIT COMMAND)  FS:OPEN-CHAOS

    Date: Tuesday, 9 November 1982, 00:13-EST
    From: Henry Lieberman <Henry at MIT-OZ>

    >>Error: Connection #<CHAOS Connection for FILE 1 to OZ 2213701> went into illegal state while waiting for a transaction
    While in the function FS:FILE-WAIT-FOR-TRANSACTION  FS:MULTIPLE-PLISTS-CHAOS  (METHOD FS:CHAOS-PATHNAME MULTIPLE-FILE-PLISTS)

Thank you for your bug reports.  Patch 218.142 fixes the error handling for this,
which enabled me to learn that the file server is getting a "quota exceeded"
error.  The most likely explanation for this is that Gren's patch which files
all file server operations to try to find the "illegal character in filename"
bug has used up the available disk space.
 9-Nov-82 02:30:28-EST,1924;000000000000
Date:  9 Nov 1982 0152-EST
From: HEDRICK at RUTGERS (Mgr DEC-20s/Dir LCSR Comp Facility)
Subject: Re: function specs
To: MOON at SCRC-TENEX at MIT-MC
cc: common-lisp at SU-AI
In-Reply-To: Your message of 8-Nov-82 2121-EST

I am perfectly willing to go with options A or B for DEFUN.  They seem
equally undesireable syntax.  However I would like to have someone define
what the construct for MACRO's, FEXPR's (if Common Lisp has such
things), and any other odd things that DEFUN can generate.  If it is not
possible to do that, then I think we would be better off using (PUTPROP
'FOO 'BAR '#(LAMBDA ...  Furthermore, I would like to request that the
this definition include a specification of the actual data structure to
be used for interpreted functions.  There are two good reasons for this:
  - One good thing about Lisp is supposed to be that programs can
	manipulate code, it seems bad to have functional objects (except
	for compiled code and possibly FUNARG's) be system-dependent.
	(The traditional representation is, of course, LAMBDA
	expressions.)  
  - It is one thing to hide the representation used by (DEFUN FOO, since
	the user can't directly access function definitions (unless he
	happens to know that EXPR properties are used in his
	implementation).  However by definition (DEFUN (:PROPERTY FOO BAR) ..
	is creating a user-visible data structure.  It would be a good
	practice to define what that data structure is.  Clearly in
	some cases (compiled code) it is not reasonable to do so, but
	for interpreted code I claim it is.

I think that in meeting this request you will find it necessary to
define either an MLAMBDA (a lambda for macro's) or a syntax like either
(LAMBDA (%MACRO L)... or (MACRO LAMBDA (L) ....  and the equivalent for
FEXPR's, etc. (if they exist).

This is the reason why I expessed some scepticism about the construct
initially.  

-------

 9-Nov-82 02:30:55-EST,365;000000000000
Date: 9 November 1982 02:06-EST
From: Gregor J. Kiczales <GREGOR at MIT-MC>
To: BUG-LISPM at MIT-MC


For both MIT and Symbolics systems:


(defflavor foo
      ((bar 1))
      ()
  :gettable-instance-variables)

(defmethod (foo :test-method) ()
   bar                 ;How much faster is this line???
   (send self ':bar)   ;Than this one???
   )
 9-Nov-82 02:50:03-EST,739;000000000000
Date: Tuesday, 9 November 1982, 02:01-EST
From: David A. Moon <Moon at SCRC-POINTER>
Subject: Faster defstruct access
To: Gregor at MIT-MC, Hanson at MIT-MC
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 9 Nov 82 00:21-EST from Gregor at MIT-MC

    Date: Tuesday, 9 November 1982, 00:21-EST
    From: Gregor at MIT-MC, Hanson at MIT-MC

    A Possible idea for speeding up code that uses defstruct (and 1-d arrays
    in general). Imagine having instructions called: AR-1-0, AR-1-1 ... up to
    AR-1-10 (or some other good number). Having these would optimize
    accesses into constant offsets of an array i.e. defstruct.
This is a good idea.  The L machine has these.  Actually it is an old Xerox
idea, I believe.
 9-Nov-82 03:29:54-EST,811;000000000000
Date: Tuesday, 9 November 1982, 03:24-EST
From: David A. Moon <Moon at SCRC-POINTER>
Subject: Supdup's TTYOPT
To: Margolin at MIT-MULTICS
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 6 Nov 82 01:23-EST from Margolin at MIT-MULTICS

    Date: Saturday, 6 November 1982, 01:23-EST
    From:  <Margolin at MIT-MULTICS>

    Please change Supdup to set the TTYOPT flags that indicate that it can
    do insert/delete characters and scroll-regions.  There are some systems,
    Multics in particular, for which Chaosnet throughput is not very high,
    so it would really help if it could minimize the amount that was
    necessary to transmit.

It does do scroll regions, at least in 218.  In the source I made it treat
Multics like WAITS, so insert/delete characters will get turned on.
 9-Nov-82 09:29:19-EST,918;000000000000
Date: Tuesday, 9 November 1982, 09:17-EST
From: Howard I. Cannon <HIC at SCRC-TENEX>
To: GREGOR at MIT-MC
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 9 Nov 82 02:06-EST from Gregor J. Kiczales <GREGOR at MIT-MC>

    Date: 9 November 1982 02:06-EST
    From: Gregor J. Kiczales <GREGOR at MIT-MC>
    To: BUG-LISPM at MIT-MC


    For both MIT and Symbolics systems:


    (defflavor foo
	  ((bar 1))
	  ()
      :gettable-instance-variables)

    (defmethod (foo :test-method) ()
       bar                 ;How much faster is this line???
       (send self ':bar)   ;Than this one???
       )

I would say that bar is on the order of several microseconds, whereas
(send self ':bar) is on the order of tens of microseconds.  In other
words, an order of magnitude difference or so.  After all, (send self
':bar) has to do at least "bar", plus all of the function calling
overhead.
 9-Nov-82 09:31:05-EST,2377;000000000000
Mail-From: EB created at  9-Nov-82 09:25:28
Date:  9 Nov 1982 0925-EST
From: Ed Barton <EB at MIT-OZ>
Subject: suggested feature
To: bug-lispm at MIT-OZ

I would like to see a system-supported macro, perhaps called
CURRENT-DEFUN-NAME, that expands into the function spec in whose
definition it appears.  Although a person presumably knows this when
he is typing a DEFUN or DEFMETHOD into the editor, it is harder for a
macro that wants that piece of information to get it.  At the moment I
implement an approximation to such a feature by advising
SI:PROCESS-DEFUN-BODY, COMPILER:QC-TRANSLATE-FUNCTION, and DEFSUBST.
The interface between this implementation and the system is, however,
a matter of great subtlety and fragility; it is evidently next to
impossible to maintain such a feature unless it is provided by the
system.

Here are some examples.  I provide them because early implementation
experience showed me several ways of expanding into the wrong thing.

(defmacro mess (format &rest args)
  `(format message-output "~%; Note from ~S:~%; ~1@{~:}~%"
	   (current-defun-name) ,format ,@ args))

(defun foo (x msg-p)
  (when msg-p (mess "Processing ~A." x))
    ;; expands into something containing 'FOO, whether currently
    ;; compiling FOO, or running FOO interpreted
  ...)

(defmethod (chocolate :marshmallow-data) ()
  (list (current-defun-name)   ;; expands into '(:METHOD CHOCOLATE :MARSHMALLOW-DATA);
			       ;; does not expand into 'LIST as my
			       ;; early Maclisp implementation did
	6. 8.))

(defmacro barf (x)
  (note-usage (current-defun-name)  ;; expands into BARF, even when
				    ;; FOO2 below is being compiled.
	      x)
  '(hairy-processor (current-defun-name)))

(defun foo2 ()
  (functionize (barf)))
;; When compiling:  Expands into something with a FOO2 in it, not a
;; BARF in it.  Interpreted:  Does the same thing.

(defun foo3 (&special x)
  (closure '(x)
    #'(lambda () (print (list (current-defun-name) x)))))
;; closure prints things like ((:INTERNAL FOO3 0) 65.), or
;; (FOO3 65.) if that's easier.

(print (current-defun-name))
==> "no enclosing defun"

My current implementation turns (defun foo (x) (declare ...) ...) into
(defun foo () (declare ...) (compiler-let ((defun-name 'foo)) ...))
and expands (current-defun-name) into `(quote ,defun-name).
-------
 9-Nov-82 11:24:46-EST,393;000000000000
Date: Tuesday, 9 November 1982, 11:17-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

feature suggestion:  what about if the inspector bound *, **, and *** to
the items in the three display windows?
 9-Nov-82 12:25:01-EST,819;000000000000
Date: Tuesday, 9 November 1982, 12:15-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

I hit sh-9 (``('') for sh-8 (``*'') at the end of variable names a lot.  Then it takes
about five seconds of crunching for the debugger to let me abort and try again.

Could read-eval-print-loops special-case unbound variable errors that result from
reading a symbol and simply abort?

I can't think of why you'd want to go into the debugger.  I realize that this is a
pretty weird contingent special case ugly hack that is only due to the fact that I am
on a machine without enough core, but it would save me a lot of annoyance.
 9-Nov-82 13:45:15-EST,1086;000000000000
Mail-From: ECC created at  9-Nov-82 13:41:49
Date: Tuesday, 9 November 1982  13:41-EST
Sender: ECC at MIT-OZ
From: Eugene C. Ciccarelli <ECC at MIT-MC>
To:   MOON at SCRC-TENEX
Cc:   BUG-LISPM at MIT-OZ, BUG-OZ at MIT-OZ, HEWITT at MIT-OZ,
      JBA at MIT-OZ
Subject: First part of file chopped
In-reply-to: The message of 8 Nov 1982  17:00-EST from MOON at SCRC-TENEX

First of all, yes, these are all OZ files.  Sorry for not
mentioning that.

The two files for which I can check exactly do indeed have
exactly one packet's worth of characters, 488, chopped.  JBA's
and Hewitt's chopped text both have 488 missing, when CRLFs are
considered to be just one character.

My file, for which I don't have an on-line older version handy,
seems to be missing more characters:  SRC:<ECC.WEID>WEIDPN.LISP
seems to be missing 1102 characters --
SRC:<ECC.WEID>ADD-TO-WEIDPN.LISP has those character that I typed
in by hand from a listing.  I will ask for a retrieval from
backup to be sure, but it looks like more than one but less than
two packet-worth of characters.
 9-Nov-82 19:45:09-EST,428;000000000000
Date: Tuesday, 9 November 1982, 19:42-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

Sometimes when you get a pdl overflow, the debugger gets repeated errors until you get
into a second level error handler with no handler for abort.
 9-Nov-82 20:10:37-EST,470;000000000000
Date: Tuesday, 9 November 1982, 19:47-EST
From: David A. Brown <David at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Arthur Dent:

This machine has hung twice whilst doing "(apropos 'blinker)" at the same spot:
It reaches "zwei:paren-blinker" and then DIES. (No clock update - no mouse)
Disk "light" is on when it hangs - warm boot revives it.
 9-Nov-82 20:14:51-EST,2271;000000000000
Date: Tuesday, 9 November 1982, 20:05-EST
From: Howard I. Cannon <HIC at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 9 Nov 82 12:15-EST from David Chapman <Zvona at MIT-OZ>

    Date: Tuesday, 9 November 1982, 12:15-EST
    From: David Chapman <Zvona at MIT-OZ>
    To: BUG-LISPM at MIT-EECS

    In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

    I hit sh-9 (``('') for sh-8 (``*'') at the end of variable names a lot.  Then it takes
    about five seconds of crunching for the debugger to let me abort and try again.

    Could read-eval-print-loops special-case unbound variable errors that result from
    reading a symbol and simply abort?

    I can't think of why you'd want to go into the debugger.  I realize that this is a
    pretty weird contingent special case ugly hack that is only due to the fact that I am
    on a machine without enough core, but it would save me a lot of annoyance.

It actually has only a very little to do with how much memory you has.
I get completely frustrated watching the thing page and page and page
and page for 10 seconds on a 512K machine when I can see the goddamned
typo on the screen, and I just want to type c-C and edit the misstyped
word.  This happens both when typing in variables and when typing in
calls to functions whose names I typo.

I have suggested the following to alleviate some of the problem:
Don't have package dwim run right away.  This accounts for a large amount
of the slowness, I believe.

There are several cases of interest:
A) I know what the typo is, and I want to fix it.  In this case, package dwim
   just wastes my time.
B) I know I want package dwim.  In this case, since I have to type c-sh-P to
   continue anyway, it might as well not do the package dwim until afterwards.
C) I don't know whether package dwim will work.  Well, I then want to option of
   trying or not, based upon the situation.  Again, having it done by choice
   is the right thing.

I therefore believe that doing it automatically is always inferior.  My
feeling is that a user-settable flag is in order.
 9-Nov-82 20:20:47-EST,502;000000000000
Date: Tuesday, 9 November 1982, 19:59-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-MC

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.35,
ZMail 47.12, microcode 183, !, on Lisp Machine Eighteen:


tv:notify should be nicer to me if I forget the first argument
and just have a string and format-args.  It could just check to see
if the first argument is a string.  It may or may not be right for
the first argument in that case to default to NIL
 9-Nov-82 21:01:16-EST,733;000000000000
Mail-From: KLOTZ created at  9-Nov-82 20:57:09
Date: Tuesday, 9 November 1982  20:57-EST
Sender: KLOTZ at MIT-OZ
From: Leigh L. Klotz <KLOTZ at MIT-MC>
To:   bug-lispm at MIT-OZ
Subject: [BATALI: forwarded]

Date: Tuesday, 9 November 1982, 18:23-EST
From: John Batali <BATALI>
To:   BUG-files

In files in LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.35,
ZMail 47.12, Experimental Remote-File 20.0, Experimental Local-File 41.0,
microcode 183, LMFS 41.0, on Lisp Machine Six:

Trying to save from Zwei, I get:

File error BUG (Severity F), File is not open for OZ:PS:<BATALI.EKG>CLASSIFY.LISP

This is a strange bug message.  The computer has in its power the ability to open 
any file it damn well pleases.
 9-Nov-82 22:28:35-EST,1180;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  9 November 1982 22:18 est
From:  Barry Margolin at MIT-MULTICS
To:  david at MIT-OZ
cc:  bug-lispm at MIT-OZ
In-Reply-To:  Message of 9 November 1982 20:27 est from David A. Brown <David

    Date:  Tuesday, 9 November 1982, 19:47-EST
    From:  David A. Brown <David at MIT-OZ at MIT-MC>

    In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
    System 87.63, ZMail 46.10, microcode 187, Try Me!, on Arthur Dent:

    This machine has hung twice whilst doing "(apropos 'blinker)" at the same spot:
    It reaches "zwei:paren-blinker" and then DIES. (No clock update - no mouse)
    Disk "light" is on when it hangs - warm boot revives it.




That machine has had that problem for as long as we have had it.  I
believe that there are bad spots on the disk, and it gets an error
trying to reference the data that is from those spots.  I once managed
to capture one of the entries on the obarray that was causing trouble; I
was able to determine that the pname string was of data-type ART-ERROR
instead of ART-STRING.  Referencing that string caused the machine to
die.
				barmar
10-Nov-82 00:40:53-EST,1034;000000000000
Mail-From: RG.JMTURN created at 10-Nov-82 00:34:10
Date: Wednesday, 10 November 1982  00:34-EST
Sender: RG.JMTURN at MIT-OZ
From: RG.JMTURN at MIT-MC
To:   bug-oz at MIT-OZ, bug-lispm at MIT-OZ
Subject: Information needed:

Two questions:
   1) Can OZ receive 8 bit ascii, and how do you tell a dialup you are
sending such. Specifically, do I have to send 8 data and no parity, and
set some flag in the system telling it to treat the parity bit as
data, or can I send 11-bit (1 start, 8 data, 1 parity, 1 stop)

   2) How does the LispM translate ASCII files when placed on FS:
For instance, if I open a serial line and read in characters from
a 'normal' site, I will get <CR><LF> at end of line. When passed through
a Lispm to an FS file by "(FUNCALL file ':TYO (FUNCALL stream ':TYI))",
I get a circle-cross and a lambda in the file where return is. Is there
any easy way to deal with this problem short of the ascii-translation
routines in the serial code, which will foul up check-sums and such.

					James
10-Nov-82 01:48:40-EST,597;000000000000
Mail-From: HENRY created at 10-Nov-82 01:46:06
Date: Wednesday, 10 November 1982  01:46-EST
Sender: HENRY at MIT-OZ
From: HENRY at MIT-MC
To:   Richard M. Stallman <RMS at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
In-reply-to: The message of 9 Nov 1982 01:01-EST from Richard M. Stallman <RMS>

    Date: Tuesday, 9 November 1982, 01:01-EST
    From: Richard M. Stallman <RMS>
    To:   BUG-LISPM

    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.34,
    ZMail 47.10, microcode 201,   , on Lisp Machine Five:


    I win
Congratulations, (but what did you win?)
10-Nov-82 03:29:08-EST,1940;000000000000
Date: Wednesday, 10 November 1982, 03:16-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: still wedged
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

This popped up in the middle of using Zmail:

>>Error: Destination file is not closed
For XX:PS:<HEWITT>MAIL.TXT.1
While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:RENAME-CHAOS  (METHOD FS:CHAOS-PATHNAME RENAME)



(METHOD FS:HOST-UNIT COMMAND): (P.C. = 344)
 (SELF = #<HOST-UNIT 26526154>)
 Arg 0 (OPERATION): COMMAND
 Arg 1 (MARK-P): NIL
 Arg 2 (STREAM-OR-HANDLE): NIL
 Arg 3 (SIMPLE-P): NIL
 Arg 4 (WHOSTATE): "Rename"
 Rest arg (COMMANDS): ("RENAME" 141. "PS:<HEWITT>MAIL.TXT.1" 141. ...)
 Local 1 (HANDLE): NIL
 Local 2 (STREAM): NIL
 Local 3 (PKT): #<CHAOS Packet 23316772>
 Local 4 (SUCCESS): NIL
 Local 5 (STRING): " ERROR BUG F Destination file is not closed"
 Local 6 (TRANSACTION-ID): "T1839"
 Local 7 (FROM): 1.
 Local 8 (CONDITION): NIL
 Local 9 (G1683): T
 Local 10 (G1684): (#<CASE-HANDLER 22650210> #<BIND-HANDLER 2651517> #<BIND-HANDLER 2662007>)


(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 344)
   (SELF = #<HOST-UNIT 26526154>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): NIL
   Arg 2 (STREAM-OR-HANDLE): NIL
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Rename"
   Rest arg (COMMANDS): ("RENAME" 141. "PS:<HEWITT>MAIL.TXT.1" 141. ...)

FS:RENAME-CHAOS:  (P.C. = 100)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-XX>
   Arg 1 (*COMMAND-PATHNAME*): #<TOPS20-PATHNAME "XX:PS:<HEWITT>MAIL.TXT.1">
   Arg 2 (NEW-PATHNAME): #<TOPS20-PATHNAME "XX:PS:<HEWITT>MAIL._ZMAIL_TXT.1">

(METHOD FS:CHAOS-PATHNAME RENAME):  (P.C. = 30)
   (SELF = #<TOPS20-PATHNAME "XX:PS:<HEWITT>MAIL.TXT.1">)
   Arg 0 (OPERATION): RENAME
   Arg 1 (NEW-PATHNAME): #<TOPS20-PATHNAME "XX:PS:<HEWITT>MAIL._ZMAIL_TXT.1">
10-Nov-82 07:07:42-EST,1103;000000000000
Date: Wednesday, 10 November 1982, 06:55-EST
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-OZ

In System 210.126, ... on Lisp Machine Apiary-2:

I just got the well-known Zwei silliness where I had visited a file
OZ:PS:<KBE.SOURCE>NZWEI.LISP and tried to save the file which failed
in some way that made it believe the file no longer existed. So c-X c-S
prompted me saying that the default was
OZ:PS:<KBE.SOURCE>NZWEI.LISP PS:<KBE.SOURCE> OZ:.LISP
or something equally silly because it tried to use the buffer name
as a default fn1. There is really no excuse for this. ZWEI should just
keep track of which buffer names were created as "text names" and which
are really "text representations of pathnames". Any time it tries to default
from the former, it should fill it in as an fn1, but any time it tries to
default from the latter, it should call the filename parser on it. so that
it can get a reasonable default. Whether it thinks this is now a non-existent
or inaccessible file should not affect whether it thinks the name itself
is already a full filespec.
10-Nov-82 10:03:29-EST,772;000000000000
Date: Wednesday, 10 November 1982, 09:55-EST
From: KMP at MIT-OZ
Sender: KBE at MIT-OZ
To: BUG-LISPM at MIT-OZ
Cc: KBE-I at MIT-OZ

In System 210.126, ...

TV:MULTIPLE-CHOOSE does not seem to protect itself very well from strings
that are too long for it to print in the allotted space. It seems hard for
me to know how it's going to lay out the window so I don't know how big
to make the strings. I think it should either truncate entries gracefully
(probably allowing the user a chance to write a handler for that truncation)
or hack wrapping long entries onto a second line somehow. Currently, you
just end up in the cold load stream due to the temporary menu window trying
to expose itself outside of TV:MOUSE-SHEET because the line is too long.
-kmp
10-Nov-82 18:05:33-EST,1696;000000000000
Date: Wednesday, 10 November 1982, 18:00-EST
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: EB at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 1 Nov 82 09:15-EST from Ed Barton <EB at MIT-OZ>

    Date: Monday, 1 November 1982, 09:15-EST
    From: Ed Barton <EB at MIT-OZ>
    In Remote-File 19.1, LMFILE-Remote 21.1, MIT-Specific 14.0, System
    89.25, ZMail 47.8, microcode 183, ., on Lisp Machine Eighteen:

    I did Meta-Q in Converse to fill a paragraph of a long message.  That
    works sometimes, but this time, in addition to rearranging my text in a
    pleasant way, it caused Converse to dislike the state of the buffer.
    When I tried to send the message I got an error message saying that I
    should do M-X Regenerate Buffer and "try again."  Evidently M-X
    Regenerate Buffer destroys whatever you have just spent five minutes
    typing in, so I guess "try again" means "type everything in again."
    (Naturally the destroyed text wasn't on the kill ring or anything.)

    Perhaps the message should warn you that you are about to lose whatever
    you were doing, or should say "Buffer evidently damaged; do M-X
    Regenerate Buffer and I will erase your message for you," or should say
    "Buffer evidently damaged; please cold-boot and go home."  Or perhaps
    M-X Regenerate Buffer should be renamed to M-X Destroy Current Message.

I remember being shafted by this bug.  Fortunately, it only gets you once.
You're usually too furious to forget it.

I changed the message in the source and as a patch to system 218 to warn you
to save recently typed text on the kill ring.  I hope this program is
rewritten sometime soon.
10-Nov-82 19:55:38-EST,700;000000000000
Date: Wednesday, 10 November 1982, 19:46-EST
From: Margolin at Multics
Sender: s.barmar at MIT-EECS
Subject: How's the New Activity System coming?
To: BUG-LISPM at EE

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 27, on Ford Prefect:

This happpened to me in ZMAIL, but I think that it is a more general
problem.

After typing <END> to send my mail, I did not feel like waiting for all
the mail-sending stuff to finish, so I typed System E to go back to the
editor.  After typing some stuff to the editor I was suddenly whisked
back to the main ZMAIL window, and had to do System E to go back to what
I was doing.
					barmar
10-Nov-82 20:20:33-EST,443;000000000000
Date: Wednesday, 10 November 1982, 20:10-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-lispm at MIT-EECS
In-reply-to: The message of 4 Nov 82 17:09-EST from David Chapman <Zvona at MIT-OZ>

    Date: Thursday, 4 November 1982, 17:09-EST
    From: David Chapman <Zvona at MIT-OZ>
    I wish that an aref-beyond-end trap would tell you what the array was as well as what
    its length was.
Fixed in rel 4.
10-Nov-82 21:51:23-EST,1101;000000000000
Mail-From: EB created at 10-Nov-82 21:47:11
Date: 10 Nov 1982 2147-EST
From: Ed Barton <EB at MIT-OZ>
Subject: Re: First part of file chopped
To: BUG-LISPM at MIT-OZ
In-Reply-To: Your message of 8-Nov-82 1527-EST

    From: Eugene C. Ciccarelli <ECC at MIT-MC>
    To:   BUG-OZ at MIT-OZ, BUG-LISPM at MIT-OZ
    Subject: First part of file chopped

    One suggestion for the LISPM side:  could some function that does
    the writing of the file and knows the length in bytes (someone
    must, since we see it shown in the who-line), check after the
    file is closed to see that what went to disk actually ended up
    with the correct byte count?  Or, perhaps someone has other ideas
    about how the Lispm side could really check the validity of the
    file transfer.  Right now there is a lot of trusting to bug-free
    transfer and the user doesn't here about the lossage until much
    later.  (In my case, after reaping and expunging...)

Since there seems to be no hope of fixing this bug soon, someone
should write patches to implement this suggestion.
-------
10-Nov-82 23:10:48-EST,536;000000000000
Date: Wednesday, 10 November 1982, 23:04-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: hash-tables, compiler:fasd-symbol-value, 
To: KWC at MIT-ML, dlw at SCRC-TENEX
Cc: BUG-LISPM at MIT-ML, BEE at SCRC-TENEX
In-reply-to: The message of 7 Nov 82 12:36-EST from Ken Church <KWC at MIT-ML>

Bruce and I discussed fasdumping of hash tables, and agreed that it
should work.  The binary file will essentially create the empty hash
table, and do all the :PUT-HASHes necessary.

I will do this unless Bruce beets me to it.
11-Nov-82 03:50:12-EST,2852;000000000000
Date: Thursday, 11 November 1982, 03:40-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: persistent little critter
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

Now the following pops up spontaneously on Tree Edit Root:

>>Error: The directory >printer does not exist.
For AP2:>printer
While in the function (METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER DIRECTORY-LIST)  (METHOD FS:LMFS-PATHNAME COMBINED DIRECTORY-LIST)  (METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER LIST-DIR-NO-SUBDIR-INFO)



(METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER DIRECTORY-LIST): (P.C. = 401)
 (SELF = #<LMFS-PATHNAME "AP2:>printer>*.*.*">)
 Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (INTERNAL (METHOD FS:LMFS-PATHNAME COMBINED DIRECTORY-LIST) 0.) 20753532>
 Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor FS:LMFS-PATHNAME -- 4. IV's, 8. FL's 14663452>
 Arg 2 (SELF-MAPPING-TABLE): #<Map to flavor FS:LOCAL-LMFS-PATHNAME-MIXIN -- 5. IV's, 2. FL's 2507146>
 Arg 3 (.OPERATION.): DIRECTORY-LIST
 Arg 4 (OPTIONS): (NO-DIR-INFO DELETED)
 Local 0 (SX): NIL
 Local 1 (FNAME): WILD
 Local 2 (FTYPE): WILD
 Local 3 (X): "printer"
 Local 4 (G2670): NIL
 Local 5 (G2671): NIL
 Local 6 (.LMFS-ERROR.): #<LMFS-DIRECTORY-NOT-FOUND 27360363>
 Local 7 (DIRLIST): NIL
 Local 8 (MAP-RESULT): NIL
 Local 9 (FLIST): NIL
 Local 10 (FNAME): NIL
 Local 11 (FTYPE): NIL
 Local 12 (FVERSION): NIL
 Local 13 (ANSWER): NIL


(METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER DIRECTORY-LIST):  (P.C. = 401)
   (SELF = #<LMFS-PATHNAME "AP2:>printer>*.*.*">)
   Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (INTERNAL (METHOD FS:LMFS-PATHNAME COMBINED DIRECTORY-LIST) 0.) 20753532>
   Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor FS:LMFS-PATHNAME -- 4. IV's, 8. FL's 14663452>
   Arg 2 (SELF-MAPPING-TABLE): #<Map to flavor FS:LOCAL-LMFS-PATHNAME-MIXIN -- 5. IV's, 2. FL's 2507146>
   Arg 3 (.OPERATION.): DIRECTORY-LIST
   Arg 4 (OPTIONS): (NO-DIR-INFO DELETED)

(METHOD FS:LMFS-PATHNAME COMBINED DIRECTORY-LIST):  (P.C. = 36)
   (SELF = #<LMFS-PATHNAME "AP2:>printer>*.*.*">)
   Rest arg (.DAEMON-CALLER-ARGS.): (DIRECTORY-LIST (NO-DIR-INFO DELETED))

(METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER LIST-DIR-NO-SUBDIR-INFO):  (P.C. = 67)
   (SELF = #<LMFS-PATHNAME "AP2:>printer>*.*.*">)
   Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (INTERNAL (METHOD FS:LMFS-PATHNAME COMBINED LIST-DIR-NO-SUBDIR-INFO) 0.) 20753471>
   Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor FS:LMFS-PATHNAME -- 4. IV's, 8. FL's 14663452>
   Arg 2 (SELF-MAPPING-TABLE): #<Map to flavor FS:LOCAL-LMFS-PATHNAME-MIXIN -- 5. IV's, 2. FL's 2507146>
   Arg 3 (.OPERATION.): LIST-DIR-NO-SUBDIR-INFO
   Rest arg (ARGS): (DELETED)
11-Nov-82 05:41:52-EST,891;000000000000
Mail-From: IAN created at 11-Nov-82 05:39:59
Date: 11 Nov 1982 0539-EST
From: Ian G. Macky <Ian at MIT-OZ>
Subject: FINGER vs NAME
To: Bug-LISPM at MIT-OZ


What is the story with these two means of requesting the status of LMs?

FINGER uses NAME, which appears to be a full blown connection, opened,
with the information passed back in a data packet... the results seem
to be a FINGER-like line of information.

NAME, on the other hand, is what CERBERUS tries to use to maintain the
LM information used in OZ's @FINGER /L operation.  This one seems to
be of the simple nature...  the problem is that I simply cannot get
any reasonable number of LMs to answer the NAME request.  I've been
screwing with this all night, and have only been able get to about
8 machines to answer...

Does anyone know what might be going on?  I can supply more details
if needed.
-------
11-Nov-82 06:06:34-EST,1736;000000000000
Date: Thursday, 11 November 1982, 05:56-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
To: BUG-LISPM at MIT-MC, bug-file at MIT-OZ

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

Happened again when I was trying to save a file:

>>Error: File is not opened for writing
For OZ:PS:<DEJONG.CONCEPT>BIBLIO.MSS
While in the function (DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK)  (DEFUN-METHOD FS:FILE-PROCESS-OUTPUT-ASYNC-MARK)  (METHOD FS:FILE-OUTPUT-STREAM-MIXIN SEND-OUTPUT-BUFFER)



(DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK): (P.C. = 63)
 (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<DEJONG.CONCEPT>BIBLIO.MSS" 32763343>)
 Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 14661325>
 Arg 1 (PKT): #<CHAOS Packet 32752107>
 Local 0 (STRING): "O2065 ERROR BUG R File is not opened for writing"


(DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK):  (P.C. = 63)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<DEJONG.CONCEPT>BIBLIO.MSS" 32763343>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 14661325>
   Arg 1 (PKT): #<CHAOS Packet 32752107>

(DEFUN-METHOD FS:FILE-PROCESS-OUTPUT-ASYNC-MARK):  (P.C. = 70)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<DEJONG.CONCEPT>BIBLIO.MSS" 32763343>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-OUTPUT-STREAM-MIXIN -- 6. IV's, 1. FL's 14661303>

(METHOD FS:FILE-OUTPUT-STREAM-MIXIN SEND-OUTPUT-BUFFER):  (P.C. = 117)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<DEJONG.CONCEPT>BIBLIO.MSS" 32763343>)
   Arg 0 (OPERATION): SEND-OUTPUT-BUFFER
   Rest arg (ARGS): ("" 488.)
11-Nov-82 06:11:49-EST,363;000000000000
Date: Thursday, 11 November 1982, 06:08-EST
From: Richard J. Mlynarik <daniel.g.mly at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Arthur Dent:

"resume" key is non-optimally functional. ie it produces nothing, not even a plaintive freep.
11-Nov-82 06:41:30-EST,1385;000000000000
Date: 11 November 1982 06:36-EST
From: Richard J. Mlynarik <MLY at MIT-ML>
To: bug-lispm at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Arthur Dent:

BARF!!!!! "(atan{2} 0 0)" gives a divide by zero error. I suppose this is stricly correct, but
	it is a pain.

(defun atan (y x)
  "Arctangent in radians of y//x, between - and .  Small flonum arg gets small flonum value."
  (let ((absx (abs (float x)))
	(absy (abs (float y)))
	(temp)
	(temp2)
	(ans -0.004054058))
(SETQ ANS (IF (AND (ZEROP X) (ZEROP Y)) 0)
(PROGN
    (setq temp (// (- absy absx) (+ absy absx))
	  temp2 (* temp temp))
    (do ((l '( 0.0218612288 -0.0559098861  0.0964200441
	      -0.139085335   0.1994653499 -0.3332985605 0.9999993329)
	    (cdr l)))
	((null l))
      (setq ans (+ (* ans temp2) (car l))))
    (setq ans (* ans temp))
    (setq temp (abs ans))
    (cond ((or (>= temp .7855) (< temp .7853))
	   (setq ans (+ ans 0.7853981634)))
	  ((< ans 0) (setq ans (// absy absx)))
	  (t (setq ans (+ (// absx absy) 1.5707963268))))
    (setq temp ans
	  ans (- 3.1415926536 ans))
    (if (>= x 0) (psetq temp ans ans temp))
    (setq temp (* temp 2))
))
    (if (< y 0) (setq ans (+ ans temp)))
    (if (and (small-floatp x) (small-floatp y))
	(small-float ans)
      ans)))
11-Nov-82 09:11:05-EST,972;000000000000
Date: Thursday, 11 November 1982, 09:01-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: persistent little critter
To: Hewitt at MIT-OZ, BUG-LISPM at MIT-MC
In-reply-to: The message of 11 Nov 82 03:40-EST from Carl Hewitt <Hewitt at MIT-OZ>

    Date: Thursday, 11 November 1982, 03:40-EST
    From: Carl Hewitt <Hewitt at MIT-OZ>
    In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

    Now the following pops up spontaneously on Tree Edit Root:

    >>Error: The directory >printer does not exist.
    For AP2:>printer
    While in the function (METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER DIRECTORY-LIST)  (METHOD FS:LMFS-PATHNAME COMBINED DIRECTORY-LIST)  (METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER LIST-DIR-NO-SUBDIR-INFO)

All this first-level directory bugginess was fixed in LMFS patch 28-31 two days ago,
which you should acquire.
11-Nov-82 12:15:10-EST,582;000000000000
Date: Thursday, 11 November 1982, 09:59-EST
From: D. Scott Cyphers <CYPHER at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, Spire 6.0, microcode 963, site configuration 27, on Lisp Machine Twelve:

In a buffer containing only

#| |#

with the cursor between the #| and the |#, Meta-. gives an error.  This
also happens in more complex situations involving #| ... |# 

Additionally, doing a Control-m in the error handler to send a bug
message from within the edititor doesn't do a reasonable thing.
11-Nov-82 15:31:33-EST,971;000000000000
Mail-From: RPK created at 11-Nov-82 15:29:53
Date: 11 November 1982  15:29-EST (Thursday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
To:   Ian G. Macky <Ian at MIT-OZ>
Cc:   Bug-LISPM at MIT-OZ
Subject: FINGER vs NAME
In-reply-to: The message of 11 Nov 1982  05:39-EST from Ian G. Macky <Ian>

I thought CERBERUS would use the ``FINGER'' contact name -- the response is a
packet, with various pieces of information separated by Lisp Machine
newlines.  (Of course, it can still look like a stream connection if you open
up the connection with a filename like CHA:LM1.FINGER.  NAME is a protocol
that many both Lisp and ``normal'' machines support: it is a full stream
connection, as you said (send a RFC, get OPN, DATA, and CLS); with FINGER,
which is only supported by Lisp Machines, all you get is a ANS.

You probably couldn't get many Lisp Machines to answer to NAME because many
of them are down.  It works, though.

``Bob''
11-Nov-82 15:36:34-EST,1843;000000000000
Mail-From: HENRY created at 11-Nov-82 15:33:45
Date: Thursday, 11 November 1982  15:33-EST
Sender: HENRY at MIT-OZ
From: HENRY at MIT-MC
To:   Ian G. Macky <Ian at MIT-OZ>, Bug-Lispm at MIT-OZ
Cc:   DLA at MIT-OZ, HDT at MIT-OZ
Subject: OZ SPELL server...
In-reply-to: The message of 7 Nov 1982  20:16-EST () from Ian G. Macky <Ian>

    Date: 7 November 1982  20:16-EST (Sunday)
    From: Ian G. Macky <Ian>
    To:   Henry Lieberman <Henry>
    cc:   HDT, DLA
    Re:   OZ SPELL server...

        Date: Wednesday, 3 November 1982, 16:18-EST
        From: Henry Lieberman <Henry>
        To:   Ian, Bug-LISPM
        cc:   HDT
        Re:   OZ SPELL server...

        Sounds great. If you are into writing servers, how about a server
        for listing OZ directories. It is now very slow to list an 
        OZ directory from a Lispm, which DLA told me was for "good reasons".
        So it might be preferable to have a server on OZ which could be
        asked for a DIR type listing and just spit the bits to the Lispm.
        I often find myself keeping a Supdup window logged in just
        because a DIR command on OZ can show me the directory much
        more quickly than a View Directory in Zwei.

    Directory listing is a function of the FILE server.  If you already
    have a file connection open (as I assume you would), then this really
    SHOULDN'T be taking much time - Why would it?  If the file connection
    has to be made, then yeah, it would take some time, about the same as
    it takes to comeplete the login process initially.

So what's the story, Lispm hackers? Is it OZ or the Lispm that's making
directory listing slow? Would there be any way to speed it up
(perhaps by asking for an abbreviated listing like OZ's DIR rather
than show all the info it does now?)
11-Nov-82 18:15:37-EST,743;000000000000
Date: Thursday, 11 November 1982, 15:57-EST
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: FINGER vs NAME
To: Ian at MIT-OZ, Bug-LISPM at MIT-OZ
In-reply-to: The message of 11 Nov 82 05:39-EST from Ian G. Macky <Ian at MIT-OZ>

I'm not sure I understand what you are talking about.  You are using
NAME and FINGER, for both the user program and the server program.  Do
you realize that there is a NAME server (implemented by just about
everybody) which opens a full connection and a FINGER server (only on
the LISPMs as far as I can tell) which sends back an ANS packet.
Contact name FINGER is supposed to be fast.  Look in the CHAOSnet
document under 'Higher level protocols' (I think) for a description of
FINGER (server).
11-Nov-82 18:55:20-EST,713;000000000000
Date: Thursday, 11 November 1982, 17:03-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: HIC at SCRC-TENEX
Cc: Zvona at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 9 Nov 82 20:05-EST from Howard I. Cannon <HIC at SCRC-TENEX>

    Date: Tuesday, 9 November 1982, 20:05-EST
    From: Howard I. Cannon <HIC at SCRC-TENEX>
    I have suggested the following to alleviate some of the problem:
    Don't have package dwim run right away.  This accounts for a large amount
    of the slowness, I believe.
You can see exactly how long it takes by timing the delay from when the
error message prints out until the proceed types start printing out.
That time is mostly spent doing package dwim.
11-Nov-82 22:45:25-EST,399;000000000000
Date: Thursday, 11 November 1982, 22:42-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.37,
ZMail 47.13, microcode 183, !, on Lisp Machine Eighteen:

SI:GET-SYSTEM-VERSION is documented to return NIL if a system is not
currently loaded.  It should not be asking me whether to look in SYS:
SITE; foo SYSTEM.
11-Nov-82 22:51:05-EST,194;000000000000
Date: 11 November 1982 22:07-EST
From: Bill Gosper <RWG at MIT-MC>
Subject: Barf
To: MLY at MIT-MC
cc: BUG-LISPM at MIT-MC

Since lim x -> 0, atan2 x x  =  pi/4, the answer is clearly 6.
12-Nov-82 01:03:05-EST,476;000000000000
Date: Friday, 12 November 1982, 00:46-EST
From: Henry Lieberman <Henry at MIT-OZ>
To: BUG-LISPM at MIT-EECS, Bug-OZ at MIT-OZ

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

Sometimes the "Don't Delete" bit gets set on files I write from a Lispm
to OZ, and I don't think I'm doing anything to cause it. It also happened
to files written by JBA on the <Actor> directory.
12-Nov-82 10:35:13-EST,1028;000000000000
Date: Friday, 12 November 1982, 10:30-EST
From: ??? <JMILLER at MIT-EECS>
To: BUG-LISPM at EE

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, JSMiller, on Lisp Machine Two:

In the editor, I tried to write a file to the local file
system (it took quite a while to figure out what it was
called, by the way).  It got an error since I had no
directory.  I built the directory (not easy, either, it
turns out; although once we realized that there was an
option to actually edit the root which must be invoked
after you pick the root to edit [what?] it became easy).
Then it reminded me that S-B would retry the opening of
the file ... so I typed S-B and it asked what file name
to use which is what S-C is supposed to do.

I admit I am confused.  Is S-B the same as S-C or do
I not know what I am talking about here?  If someone
wants to watch me, I can do it all again (probably) and
you can either debug me or the system.

--Jim Miller
12-Nov-82 11:59:34-EST,392;000000000000
Date: Friday, 12 November 1982, 11:55-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on
Lisp Machine Twenty-two: 

When the hardcopy background process dies trying to do a m-X Print File,
it should give you a restart option.
12-Nov-82 13:59:10-EST,261;000000000000
Date: Friday, 12 November 1982, 13:55-EST
From: David Chapman <Zvona at MIT-OZ>
To: bug-lispm at MIT-OZ

describe-defstruct returns nil.  It should return its argument like
describe.  (I suppose this won't matter much when there is a command
processor.)
12-Nov-82 14:00:49-EST,510;000000000000
Date: 12 Nov 1982 0904-EST
From: JMILLER at MIT-EECS
Subject: Symbolics 218.148 / Startup
To: Bug-LispM at MIT-EECS

After getting a copy of 218 and doing a (load-and-save-patches),
I tried logging in.  In the process, I forgot that OZ
was down, and of course the error handler got invoked and
asked what to do next.  I tried SUPER-C to change over
to EE, and it went into never-never land in the RUN
state with little paging.  I wound up rebooting the
machine.  Thoughts?

--Jim Miller
-------
12-Nov-82 15:11:29-EST,459;000000000000
Date: Friday, 12 November 1982, 15:08-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, needs new site info, 
on Lisp Machine Twenty-two: 

There should probably be a compiler optimizer s.t.
(memq foo '(a b c)) is compiled to the same code as
(or (eq foo 'a) (eq foo 'b) (eq foo 'c)).  That just has
to be faster.
12-Nov-82 18:44:09-EST,669;000000000000
Mail-From: JMILLER created at 12-Nov-82 16:39:33
Date: 12 Nov 1982 1639-EST
From: JMILLER at MIT-OZ
Subject: 218.148 + File System
To: BUg-LispM at MIT-OZ

[I didn't mean to spark off a DCP/BSG flame session on my last
message.  Here is an update.]

Using the file system editor, I tried to create a directory called
>JSMiller ... it accepted that as input, but made the thing
actually be >jsmiller (lower case).  Despite this, some parts of
the system remembered the actual case I used.  Very puzzling.

And I FIRMLY believe that it should use my case on display of the
directory name, but should be case insensitive on input.

--Jim Miller
-------
12-Nov-82 18:45:19-EST,1564;000000000000
Date: Friday, 12 November 1982, 16:54-EST
From: JCMa@MIT-OZ
To: BUG-LISPM@MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.39,
ZMail 47.13, microcode 201, foo!, on Lisp Machine Nine:

I was trying to document another bug with format tabbing when I got this:


(make-syntax-dictionary "this-crock")
Making syntax dictionary.
Mapping over the ANALOG package
Sending the results to the buffer this-crock
>>>>TRAP 7177. (TRANS-TRAP)
The variable ZWEI:*WINDOW* is unbound.
While in the function ZWEI:RECORD-BP-VALUES  ZWEI:UNDO-SAVE-NEW-SMALL-CHANGE  ZWEI:INSERT-LINE-WITH-LEADER

ZWEI:RECORD-BP-VALUES:
   Arg 0 (BP1): ("" 0. :NORMAL)
   Arg 1 (BP2): ("" 0. :MOVES)
   --Defaulted args:--
   Arg 2 (STARTING-ALIST): NIL
   Arg 3 (STARTING-COUNT): NIL
c-N 
ZWEI:UNDO-SAVE-NEW-SMALL-CHANGE:
   Arg 0 (BP1): ("" 0.)
   Arg 1 (BP2): ("" 0.)
c-N 
ZWEI:INSERT-LINE-WITH-LEADER:
   Arg 0 (LINE): ";-*- mode: lisp; package: analog; -*-"
   Arg 1 (AT-LINE): ""
c-N 
(:SELECT-METHOD ZWEI:INTERVAL-IO :LINE-OUT):
   Arg 0 (IGNORE): :LINE-OUT
   Arg 1 (LINE): ";-*- mode: lisp; package: analog; -*-"
c-N 
PRINT-LINES:
   Arg 0 (LIST-OF-STRINGS): (";-*- mode: lisp; package: analog; -*-" " " "; Beware: This file constructed under program control" " " ...)
   Arg 1 (STREAM): #<DTP-CLOSURE 30574166>
   --Defaulted args:--
   Arg 2 (CLEAR-SCREEN-P): NIL
c-N 
MAKE-SYNTAX-DICTIONARY:
   Arg 0 (BUFFER): "this-crock"
c-N 
SI:*EVAL:
   Arg 0 (FORM): (MAKE-SYNTAX-DICTIONARY "this-crock")
c-Z 
* 
12-Nov-82 18:46:09-EST,1043;000000000000
Date: Friday, 12 November 1982, 16:57-EST
From: JCMa@MIT-OZ
To: BUG-LISPM@MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.39,
ZMail 47.13, microcode 201, foo!, on Lisp Machine Nine:

This is the case I mentioned in my previous bug report.

(with-open-buffer (foo "test" ':out)
  (format foo "~&~2t"))
>>>>TRAP 3835. (SUBSCRIPT-OOB M-Q M-S)
The subscript, 0., was beyond the length, 0., in AR-1
While in the function (:SELECT-METHOD ZWEI:INTERVAL-IO :READ-CURSORPOS)  FORMAT:FORMAT-CTL-TAB  FORMAT:FORMAT-CTL-OP

(:SELECT-METHOD ZWEI:INTERVAL-IO :READ-CURSORPOS):
   Arg 0 (IGNORE): :READ-CURSORPOS
   Arg 1 (UNITS): CHARACTER
c-N 
FORMAT:FORMAT-CTL-TAB:
   Arg 0 (PARAMS): (2.)
c-N 
FORMAT:FORMAT-CTL-OP:
   Arg 0 (OP): T
   Arg 1 (ARGS): NIL
   Arg 2 (PARAMS): (2.)
c-N 
FORMAT:FORMAT-CTL-STRING:
   Arg 0 (ARGS): NIL
   Arg 1 (CTL-STRING): "~&~2t"
c-N 
FORMAT:
   Arg 0 (STREAM): #<DTP-CLOSURE 30604042>
   Arg 1 (CTL-STRING): "~&~2t"
   Rest arg (ARGS): NIL
c-Z 
* 
12-Nov-82 18:47:57-EST,454;000000000000
Date: Friday, 12 November 1982, 17:21-EST
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.63, ZMail 46.10, microcode 187, Try Me!, on Ford Prefect:

I just had the garbage collector tell me it was going to flip, and then
the machine hung in run with no bars on.  This machine is also gc-ing
and is running out of space fast.

Does the gc work?
12-Nov-82 18:51:28-EST,918;000000000000
Mail-From: RPK created at 12-Nov-82 15:35:18
Date: 12 November 1982  15:35-EST (Friday)
Sender: RPK at MIT-OZ
From: Robert P. Krajewski <RPK at MIT-MC>
To:   BUG-LISPM at MIT-OZ
Subject: Doing things after LOGIN

What is the best way to get forms evaluated *after* loading one's LISPM init
file (even though the forms are given in the init file itself) ?

One application:

Instead of having

(AND (Y-OR-N-P "Do you want to load up Daedalus ? ")
     (MAKE-SYSTEM 'DAEDALUS))

which keeps the file in which this form appears open for a long time, you
would say:

(EVAL-AFTER-LOGIN '(AND (Y-OR-N-P "Do you want to load up Daedalus ? ")
			(MAKE-SYSTEM 'DAEDALUS)))

Hmm, actually, you may want to have a form evaluated only after the file is
loaded for ANY random file; perhaps there should be a new time acceptable to
EVAL-WHEN, called :AFTER-LOAD ?

How much a kludge is this ?

``Bob''
12-Nov-82 21:16:37-EST,896;000000000000
Date: Friday, 12 November 1982, 21:10-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 12 Nov 82 15:08-EST from David Chapman <Zvona at MIT-OZ>

    Date: Friday, 12 November 1982, 15:08-EST
    From: David Chapman <Zvona at MIT-OZ>
    There should probably be a compiler optimizer s.t.
    (memq foo '(a b c)) is compiled to the same code as
    (or (eq foo 'a) (eq foo 'b) (eq foo 'c)).  That just has
    to be faster.
There is already an optimizer for (memq foo '(a)).  (memq foo '(a b)) is
about equal to (or (eq foo 'a) (eq foo 'bar)) on the A machine, if I
remember correctly, so I didn't install it.  Note that (memq (foo) '(a b))
would have to optimize into
(let ((g0001 (foo))) (or (eq g0001 'a) (eq g0001 'b)))
which probably is too expensive.

Remember that MEMQ is microcoded on the A machine.
12-Nov-82 23:26:39-EST,417;000000000000
Date: Friday, 12 November 1982, 23:24-EST
From: Philippe Brou <PHILIP at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.37,
ZMail 47.13, microcode 201,  , on Lisp Machine Four:

When trying to save a 2-d array.
I get "2-D array was given one subscript" in
compiler:fasd-array.
Is this a normal limitation of the system?
Can it be fixed?

Philippe
13-Nov-82 00:16:58-EST,629;000000000000
Date: Saturday, 13 November 1982, 00:13-EST
From:  <cypher at MIT-OZ>
To: BUG-LISPM at MIT-OZ, bug-lmman at oz

In Experimental LMFILE-Remote 18.1, MIT-Specific 10.0, System 87.70,
ZMail 46.10, Remote-File 15.4, Experimental Local-File 40.6,
Experimental FILE-Server 5.0, Spire 5.8, microcode 172, SpireB,
on Lisp Machine Twenty-six:

The function PROCESS-WAIT-WITH-TIMEOUT returns t and nil opposite to the
way documented in the lisp machine manual, i.e. if

(defun *nil* () nil)
(defun *true* () t)

(process-wait-with-timeout "foo" 3000. '*true*) ==> t
(process-wait-with-timeout "foo" 3000. '*nil*)  ==> nil
13-Nov-82 05:50:59-EST,623;000000000000
Date: Saturday, 13 November 1982, 01:59-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Alphabetic case in pathnames
To: JMILLER at MIT-OZ
Cc: BUg-LispM at MIT-OZ
In-reply-to: The message of 12 Nov 82 16:39-EST from JMILLER at MIT-OZ

    Date: 12 Nov 1982 1639-EST
    From: JMILLER at MIT-OZ

    And I FIRMLY believe that it should use my case on display of the
    directory name, but should be case insensitive on input.

You are right, of course.  However it requires a massive remodularization
to do this properly.  It isn't going to make it into release 4, but it is
planned for the next one.
13-Nov-82 05:53:28-EST,536;000000000000
Date: Saturday, 13 November 1982, 02:40-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: describe defstruct
To: David Chapman <Zvona at MIT-OZ>
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 12 Nov 82 13:55-EST from David Chapman <Zvona at MIT-OZ>

    Date: Friday, 12 November 1982, 13:55-EST
    From: David Chapman <Zvona at MIT-OZ>

    describe-defstruct returns nil.  It should return its argument like
    describe.
I fixed this and a couple of other trivial bugs in it in the source, for
both machines.
13-Nov-82 15:49:45-EST,588;000000000000
Date: Saturday, 13 November 1982, 14:45-EST
From: Bruce E. Edwards <BEE at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-lispm at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 12 Nov 82 15:08-EST from David Chapman <Zvona at MIT-OZ>

Of course (memq foo '(a b c)) can be optimized into 
(or (eq foo 'a)	(eq foo 'b) (eq foo 'c)) when compiled for predicate,
not for value. Also since OR has control structure associated with it,
it must be compiled into EQ BR EQ BR EQ BR so it is not completely clear
that it is superior to memq, which has the control transfer in microcode.
13-Nov-82 17:08:15-EST,1194;000000000000
Mail-From: JMILLER created at 13-Nov-82 16:06:53
Date: 13 Nov 1982 1606-EST
From: JMILLER at MIT-OZ
Subject: Various
To: Bug-LispM at MIT-OZ

(1) Seems that when I use ^X^W in the editor and tell it to
write to a new host (OZ instead of EE, for example) and
use ALTMODE to get it to complete a file name it blows up
with some flavor of "bad argument list" message.  If anyone
is interested and can't reproduce it from this description,
I will be glad to try to demonstrate: it has bagged me twice
so far.

(2) Not meaning to start a flame session, but I am trying to
get the LM to do something that seems obvious to me but I
don't see how to do it.  I have files that I compile both in
MACLisp and in ZetaLisp, and they have imbedded file names
for files they load.  To make things easier, I have defined
a logical device, VDD:, in my LOGIN.CMD file on the 20s.  I
can't seem to do the equivalent thing on the LM ... the file
server doesn't read the LOGIN.CMD file (of course), and there
doesn't seem any obvious way to do the equivalent thing at
the LM end (I want it to always map to a particular directory,
but that is parameterized by host name).

--Jim
-------
13-Nov-82 20:18:42-EST,423;000000000000
Date: Saturday, 13 November 1982, 17:37-EST
From: Ken Haase <KwH at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

While reading a form which had #+MIT conditionalizations in it,
the compiler barfed because the symbol sys:command-level was in the
conditionalized-out form.  

Ken
13-Nov-82 20:19:10-EST,528;000000000000
Date: Saturday, 13 November 1982, 17:46-EST
From: Ken Haase <KwH at MIT-OZ>
Subject: "Waiting for a re-entrant compiler"
To: BUG-LISPM at MIT-EECS

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

When I tried to send the last bug message, the machine hung in "Waiting
for resources", presumably (I would guess) waiting to get at the compiler
to munge some message which hasn't been compiled- -  (maybe in a patch?)

Ken
14-Nov-82 01:39:59-EST,800;000000000000
Mail-From: MARTY created at 14-Nov-82 01:36:51
Date: 14 November 1982  01:36-EST (Sunday)
Sender: MARTY at MIT-OZ
From: Martin David Connor <MARTY at MIT-MC>
To:   Bug-File at MIT-OZ, Bug-Lispm at MIT-OZ, Bug-Lispm-scrc at MIT-OZ
Subject: [PHILIP: Vision structure...]


Any ideas on how to fix this problem?  It may simply be a patch not
installed, but I thought I'd pass it along.

Date: 13 Nov 1982 2127-EST
From: PHILIP at MIT-OZ
Subject: Vision structure...

I just noticed that when I write files
from my lisp machine. It does not generate
a new version number (on ps: and vision:)
It writes the file but stays with the same number
whatever I do (I did not try Emacs on OZ to check).
The server is probably broken or I have something
wrong in my directory capabilities.

14-Nov-82 02:49:45-EST,769;000000000000
Date: Sunday, 14 November 1982, 02:45-EST
From: Margolin at Multics
Sender: s.barmar at MIT-EECS
Subject: Network-A and Network-M in Supdup
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.72, ZMail 46.10, microcode 187, Try Me!, on Ford Prefect:

Do Network-A (Send ATTN) and Network-M (Toggle MORE processing) have any
meaning in Supdup?  They both seem to be noops, so they should be
rejected and definitely not be listed by Network-Help.  I can't think of
anything for Network-A to do in Supdup, although Network-M might be
useful when talking to Unix hosts, which do not do more processing
without the user explicitly passing his output through a special filter
(yes, I know about ^S/^Q).
14-Nov-82 02:50:24-EST,876;000000000000
Date: Sunday, 14 November 1982, 02:47-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: defun
To: bug-lispm at oz

In System 210,...

(COMPILE (DEFUN TEST-1 () (DEFUN TEST-2 () NIL)))
#'TEST-2 => (NAMED-LAMBDA TEST-2 TYO 0. . 3145728.)

In System 218,...

Nearly, the same thing happens. The compiler warns that DEFUN
should not occur except at toplevel but still generates this
silly code.  Moon says that the call to DEFUN here is correctly
generated and that the right thing is for DEFUN to copylist its
arg vector.

I would like DEFUN to work inside other DEFUNs. I would be happy
if 
 (DEFUN name bvl . arglist)
had the semantics
 (SETF #'name #'(LAMBDA bvl . arglist))
when inside another DEFUN. No reason to worry about closures or anything
else, just do the obviously right thing. This would reduce inefficiency
in things DEFUN'd on the fly.
14-Nov-82 08:53:35-EST,864;000000000000
Date: Sunday, 14 November 1982, 08:47-EST
From: Margolin at Multics
Sender: S.BARMAR at MIT-EECS
Subject: apropos
To: BUG-LISPM at MIT-OZ

In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
System 87.72, ZMail 46.10, microcode 187, Try Me!, on Ford Prefect:

Suggestion for the apropos function: It would be nice if I could only
get a printout of the symbols of a specified type, i.e.
	(apropos 'some-symbol 'pkg ':type ':bound)

It's about time apropos were keyword-ified.

It would also be nice if there were a SYMBOL-APROPOS in the editor (the
editor command name APROPOS is taken unfortunately), as I am usually in
the editor when I wish to use apropos.  The editor could presumably
format its output more readably, by printing in multiple columns,
breaking and printing a heading every time the package changed, etc.
14-Nov-82 10:03:26-EST,1296;000000000000
Date: Sunday, 14 November 1982, 09:55-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: defun
To: kmp at MIT-MC
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 14 Nov 82 02:47-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Sunday, 14 November 1982, 02:47-EST
    From: Kent M. Pitman <kmp at MIT-MC>
    In System 210,...

    (COMPILE (DEFUN TEST-1 () (DEFUN TEST-2 () NIL)))
    #'TEST-2 => (NAMED-LAMBDA TEST-2 TYO 0. . 3145728.)

    In System 218,...

    Nearly, the same thing happens. The compiler warns that DEFUN
    should not occur except at toplevel but still generates this
    silly code.  Moon says that the call to DEFUN here is correctly
    generated and that the right thing is for DEFUN to copylist its
    arg vector.
The silly code is no longer generated in the source.  The warning still
is.

    I would like DEFUN to work inside other DEFUNs. I would be happy
    if 
     (DEFUN name bvl . arglist)
    had the semantics
     (SETF #'name #'(LAMBDA bvl . arglist))
    when inside another DEFUN. No reason to worry about closures or anything
    else, just do the obviously right thing. This would reduce inefficiency
    in things DEFUN'd on the fly.
I didn't do anything about this (it's not clear to me that it's right).
14-Nov-82 11:28:16-EST,884;000000000000
Date: Sunday, 14 November 1982, 11:20-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: "Waiting for a re-entrant compiler"
To: KwH at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 13 Nov 82 17:46-EST from Ken Haase <KwH at MIT-OZ>

    Date: Saturday, 13 November 1982, 17:46-EST
    From: Ken Haase <KwH at MIT-OZ>
    In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

    When I tried to send the last bug message, the machine hung in "Waiting
    for resources", presumably (I would guess) waiting to get at the compiler
    to munge some message which hasn't been compiled- -  (maybe in a patch?)
There are indeed a number of flavors whose methods weren't correctly
compiled in 218.  I believe I've found all of them, and they'll work in
221...
14-Nov-82 11:58:31-EST,660;000000000000
Date: Sunday, 14 November 1982, 11:53-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: KwH at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 13 Nov 82 17:37-EST from Ken Haase <KwH at MIT-OZ>

    Date: Saturday, 13 November 1982, 17:37-EST
    From: Ken Haase <KwH at MIT-OZ>
    In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

    While reading a form which had #+MIT conditionalizations in it,
    the compiler barfed because the symbol sys:command-level was in the
    conditionalized-out form.  
Fixed in the source (finally).
14-Nov-82 12:28:24-EST,1645;000000000000
Date: Sunday, 14 November 1982, 12:22-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Various
To: JMILLER at MIT-OZ
Cc: Bug-LispM at MIT-OZ
In-reply-to: The message of 13 Nov 82 16:06-EST from JMILLER at MIT-OZ

    Date: 13 Nov 1982 1606-EST
    From: JMILLER at MIT-OZ
    (1) Seems that when I use ^X^W in the editor and tell it to
    write to a new host (OZ instead of EE, for example) and
    use ALTMODE to get it to complete a file name it blows up
    with some flavor of "bad argument list" message.  If anyone
    is interested and can't reproduce it from this description,
    I will be glad to try to demonstrate: it has bagged me twice
    so far.
I cannot reproduce this in any combinations of machines I think you use.
Please use c-M in the debugger to include the correct error message in
your bug report.

    (2) Not meaning to start a flame session, but I am trying to
    get the LM to do something that seems obvious to me but I
    don't see how to do it.  I have files that I compile both in
    MACLisp and in ZetaLisp, and they have imbedded file names
    for files they load.  To make things easier, I have defined
    a logical device, VDD:, in my LOGIN.CMD file on the 20s.  I
    can't seem to do the equivalent thing on the LM ... the file
    server doesn't read the LOGIN.CMD file (of course), and there
    doesn't seem any obvious way to do the equivalent thing at
    the LM end (I want it to always map to a particular directory,
    but that is parameterized by host name).
What you want is logical hosts, I believe.  Refer to page 388 of the
Blue or Gray Chineuals.
14-Nov-82 14:11:57-EST,470;000000000000
Date: Sunday, 14 November 1982, 13:55-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-LISPM at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 12 Nov 82 11:55-EST from David Chapman <Zvona at MIT-OZ>

    Date: Friday, 12 November 1982, 11:55-EST
    From: David Chapman <Zvona at MIT-OZ>
    When the hardcopy background process dies trying to do a m-X Print File,
    it should give you a restart option.
Fixed in the source.
14-Nov-82 15:15:15-EST,517;000000000000
Date: Sunday, 14 November 1982, 15:12-EST
From: Eugene Ciccarelli <ECC at MIT-OZ>
Subject: SUPDUP Help key
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.37,
ZMail 47.13, microcode 183, !, on Lisp Machine Apiary-1:

 AND

in Experimental System 218.150, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

While SUPDUPing to OZ, the Help key no longer sends a Help -- it
just seems to send "H".
14-Nov-82 16:25:08-EST,1131;000000000000
Date: Sunday, 14 November 1982, 16:23-EST
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: SUPDUP Help key
To: ECC at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 14 Nov 82 15:12-EST from Eugene Ciccarelli <ECC at MIT-OZ>

    Date: Sunday, 14 November 1982, 15:12-EST
    From: Eugene Ciccarelli <ECC at MIT-OZ>
    Subject: SUPDUP Help key
    To: BUG-LISPM at MIT-OZ

    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.37,
    ZMail 47.13, microcode 183, !, on Lisp Machine Apiary-1:

     AND

    in Experimental System 218.150, Zmail 65.41, LMFS 28.32, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-2:

    While SUPDUPing to OZ, the Help key no longer sends a Help -- it
    just seems to send "H".

This wors for me in 218.150.  I assume you realize that Top+"H" is only
read correctly by programs that read full character input (emacs, for
example).  ITS did a special hack when reading HELP from an ascii
channel; it really did return HELP and programs are expected to deal
with it (DDT does).  20X has no such hack.
14-Nov-82 16:44:15-EST,393;000000000000
Date: Sunday, 14 November 1982, 16:40-EST
From: Taft at MIT-MC
Sender: Batali at MIT-OZ
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.40,
ZMail 47.13, microcode 187,  , on Lisp Machine Four:

Dired no longer seems to grock the fact that MC:FOO;BAR PLT is a SUDS
file and should get dplt'd not just printed. It prints gubbish instead.
14-Nov-82 19:14:12-EST,975;000000000000
Date: Sunday, 14 November 1982, 19:07-EST
From: David E. Goldfarb <DEG at SCRC-TENEX>
Subject: Doing things after LOGIN
To: RPK at MIT-MC, BUG-LISPM at MIT-OZ
Cc: DEG at SCRC-TENEX
In-reply-to: The message of 12 Nov 82 15:35-EST from Robert P. Krajewski <RPK at MIT-MC>

    Date: 12 November 1982  15:35-EST (Friday)
    From: Robert P. Krajewski <RPK at MIT-MC>
    What is the best way to get forms evaluated *after* loading one's LISPM init
    file (even though the forms are given in the init file itself) ?

    Hmm, actually, you may want to have a form evaluated only after the file is
    loaded for ANY random file; perhaps there should be a new time acceptable to
    EVAL-WHEN, called :AFTER-LOAD ?

Well, this is not exactly what you want, but I get similar functionality
by creating a background process to do things that I want done, but not
immediately.  I give this process a low priority, and things seem to
work nicely.

				- David
14-Nov-82 20:53:42-EST,815;000000000000
Date: Sunday, 14 November 1982  20:46-EST
From: MOON at SCRC-TENEX
To:   Margolin at Multics
Cc:   BUG-LISPM at MIT-OZ
Subject: apropos
In-reply-to: The message of 14 Nov 1982 08:47-EST from Margolin at Multics

    Date: Sunday, 14 November 1982, 08:47-EST
    From: Margolin at Multics

    It would also be nice if there were a SYMBOL-APROPOS in the editor (the
    editor command name APROPOS is taken unfortunately), as I am usually in
    the editor when I wish to use apropos.  The editor could presumably
    format its output more readably, by printing in multiple columns,
    breaking and printing a heading every time the package changed, etc.

m-x List Matching Symbols and m-x Function Apropos.  m-x Variable Apropos
is unfortunately for editor variables rather than Lisp variables.
14-Nov-82 21:03:34-EST,310;000000000000
Date: Sunday, 14 November 1982, 20:55-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.151, Zmail 65.41, LMFS 28.35, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

(string-right-trim #\space "a b c ") barfs out.
14-Nov-82 21:04:24-EST,936;000000000000
Date: Sunday, 14 November 1982, 20:55-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.151, Zmail 65.41, LMFS 28.35, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:


>>Trap: The argument to CAR, 32., was of the wrong type.
The function expected a cons.
While in the function MEM  STRING-REVERSE-SEARCH-NOT-SET  STRING-RIGHT-TRIM



MEM: (P.C. = 24)
 Arg 0 (PRED): #<DTP-U-ENTRY CHAR-EQUAL 254>
 Arg 1 (ITEM): 32.
 Arg 2 (LIST): 32.
 Local 0 (L): 32.


MEM:  (P.C. = 24)
   Arg 0 (PRED): #<DTP-U-ENTRY CHAR-EQUAL 254>
   Arg 1 (ITEM): 32.
   Arg 2 (LIST): 32.

STRING-REVERSE-SEARCH-NOT-SET:  (P.C. = 103)
   Arg 0 (CHAR-SET): 32.
   Arg 1 (STRING): "a b c d "
   --Defaulted args:--
   Arg 2 (FROM): 8.
   Arg 3 (TO): 0.

STRING-RIGHT-TRIM:  (P.C. = 27)
   Arg 0 (CHAR-SET): 32.
   Arg 1 (STRING): "a b c d "
14-Nov-82 21:05:10-EST,1788;000000000000
Date: Sunday, 14 November 1982, 20:57-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.151, Zmail 65.41, LMFS 28.35, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

While sending the last bug message, I typed a control-m to 
insert a transcript.  Someone must have *throw'd something bad:

>>Trap: There was no pending *CATCH for the tag #<DTP-LOCATIVE 30203556>.
The values being thrown were NIL, #<DTP-LOCATIVE 30203556>
While in the function (:METHOD DBG:ERROR-RESTART-HANDLER :HANDLE-CONDITION)  APPLY  DBG:FH-APPLIER



(:METHOD DBG:ERROR-RESTART-HANDLER :HANDLE-CONDITION): (P.C. = 31)
 (SELF = #<ERROR-RESTART-HANDLER 2473720>)
 Arg 0 (OPERATION): :HANDLE-CONDITION
 Arg 1 (CONDITION): #<WRONG-TYPE-ARGUMENT-TRAP 27033556>
 Arg 2 (TAG): #<DTP-LOCATIVE 30203556>


(:METHOD DBG:ERROR-RESTART-HANDLER :HANDLE-CONDITION):  (P.C. = 31)
   (SELF = #<ERROR-RESTART-HANDLER 2473720>)
   Arg 0 (OPERATION): :HANDLE-CONDITION
   Arg 1 (CONDITION): #<WRONG-TYPE-ARGUMENT-TRAP 27033556>
   Arg 2 (TAG): #<DTP-LOCATIVE 30203556>

APPLY:
   Arg 0 (FN): #<DTP-CLOSURE 30206560>
   Arg 1 (ARGS): (:HANDLE-CONDITION #<WRONG-TYPE-ARGUMENT-TRAP 27033556> #<DTP-LOCATIVE 30203556>)

DBG:FH-APPLIER:  (P.C. = 141)
   Arg 0 (FN): #<DTP-CLOSURE 30206560>
   Arg 1 (ARGS): (:HANDLE-CONDITION #<WRONG-TYPE-ARGUMENT-TRAP 27033556> #<DTP-LOCATIVE 30203556>)
   Arg 2 (+): (BUG)
   Arg 3 (*): T
   Arg 4 (++): (STRING-RIGHT-TRIM 32. "a b c d ")
   Arg 5 (**): T
   Arg 6 (+++): NIL
   Arg 7 (***): #<TOPS20-PATHNAME "OZ:PS:<HDT>ISPELL.INIT">
   Arg 8 (EH-FRAME): #<DTP-LOCATIVE 30204035>
   Arg 9 (SG): #<DTP-STACK-GROUP "DEBUGGER-SG-2" 26536413>
   Arg 10 (PREV-FH): NIL
14-Nov-82 21:48:26-EST,676;000000000000
Date: Sunday, 14 November 1982, 21:36-EST
From: David E. Goldfarb <DEG at SCRC-TENEX>
To: Hdt at MIT-OZ, BUG-LISPM at MIT-EECS
Cc: DEG at SCRC-TENEX
In-reply-to: The message of 14 Nov 82 20:55-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Sunday, 14 November 1982, 20:55-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    In Experimental System 218.151, Zmail 65.41, LMFS 28.35, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

    (string-right-trim #\space "a b c ") barfs out.

Of course it does.  See page 130 of the manual.  (I'll give you a hint..
#\space is neither a list nor a string.
				- David
14-Nov-82 22:26:56-EST,602;000000000000
Date: Sunday, 14 November 1982, 22:22-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.40,
ZMail 47.13, microcode 183, upto date, on Lisp Machine Twenty-four:


Page 334 of the #'Nual states that 
(read-from-string #"(a b c)#") => (a b c) and 7

In actuality, the values returned are (A B C) and 7
The cases are different.  As read usually reads things in
uppercase, this is probably just a documentation problem.

In anycase, how can I get read to preserve case without generating
a new rtc?
14-Nov-82 22:49:39-EST,1132;000000000000
Date: 14 November 1982  22:38-EST (Sunday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   David E. Goldfarb <DEG at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-EECS
In-reply-to: The message of 14 Nov 1982 21:36-EST from David E. Goldfarb <DEG at SCRC-TENEX>

    Date: Sunday, 14 November 1982, 21:36-EST
    From: David E. Goldfarb <DEG at SCRC-TENEX>
    To:   Hdt at MIT-OZ, BUG-LISPM at MIT-EECS
    cc:   DEG at SCRC-TENEX

        Date: Sunday, 14 November 1982, 20:55-EST
        From: Howard D. Trachtman <Hdt at MIT-OZ>
        In Experimental System 218.151, Zmail 65.41, LMFS 28.35, Tape 11.3,
        LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

        (string-right-trim #\space "a b c ") barfs out.

    Of course it does.  See page 130 of the manual.  (I'll give you a hint..
    #\space is neither a list nor a string.
    				- David

It's not a list or string of characters, but it could easily be coerced into one.

  (string-right-trim #\a "a b ca") => "a b c"
  It works right in 89.  Also, (string-right-trim 32. "a b c ") => "a b c"
  
14-Nov-82 23:04:30-EST,2301;000000000000
Date: Sunday, 14 November 1982, 22:53-EST
From: JCMa@MIT-OZ
To: bug-zmail@SCRC-TENEX
Remailed-date: 14 Nov 1982 2257-EST
Remailed-from: Robert W. Kerns <RWK at SCRC-TENEX>
Remailed-to: bug-lispm at MIT-OZ, gren at MIT-OZ

In Experimental System 218.151, Zmail 65.41, LMFS 28.35, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:


Don't know what this means, but it happened in zmail on read in of new mail.

>>Error: JFN is not assigned at 6064
For OZ:SRC:<JCMA.MAIL>JCMA.BABYL
While in the function (:METHOD FS:HOST-UNIT :COMMAND)  (:METHOD FS:FILE-DATA-STREAM-MIXIN :COMMAND)  (:METHOD FS:FILE-OUTPUT-STREAM-MIXIN :REAL-CLOSE)



(:METHOD FS:HOST-UNIT :COMMAND): (P.C. = 344)
 (SELF = #<HOST-UNIT 23314133>)
 Arg 0 (OPERATION): :COMMAND
 Arg 1 (MARK-P): :OUTPUT
 Arg 2 (STREAM-OR-HANDLE): #<FILE-OUTPUT-CHARACTER-STREAM "OZ:SRC:<JCMA.MAIL>JCMA.BABYL" 34343641>
 Arg 3 (SIMPLE-P): NIL
 Arg 4 (WHOSTATE): "Close"
 Rest arg (COMMANDS): ("CLOSE")
 Local 1 (HANDLE): "O2032"
 Local 2 (STREAM): #<FILE-OUTPUT-CHARACTER-STREAM "OZ:SRC:<JCMA.MAIL>JCMA.BABYL" 34343641>
 Local 3 (PKT): #<CHAOS Packet 26677377>
 Local 4 (SUCCESS): NIL
 Local 5 (STRING): "O2032 ERROR BUG F JFN is not assigned at 6064"
 Local 6 (TRANSACTION-ID): "T2136"
 Local 7 (FROM): 6.
 Local 8 (CONDITION): NIL
 Local 9 (G1683): T
 Local 10 (G1684): (#<CASE-HANDLER 22650210> #<BIND-HANDLER 2651517> #<BIND-HANDLER 2662007>)


(:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 344)
   (SELF = #<HOST-UNIT 23314133>)
   Arg 0 (OPERATION): :COMMAND
   Arg 1 (MARK-P): :OUTPUT
   Arg 2 (STREAM-OR-HANDLE): #<FILE-OUTPUT-CHARACTER-STREAM "OZ:SRC:<JCMA.MAIL>JCMA.BABYL" 34343641>
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Close"
   Rest arg (COMMANDS): ("CLOSE")

(:METHOD FS:FILE-DATA-STREAM-MIXIN :COMMAND):  (P.C. = 43)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:SRC:<JCMA.MAIL>JCMA.BABYL" 34343641>)
   Arg 0 (OPERATION): :COMMAND
   Arg 1 (MARK-P): T
   Arg 2 (WHOSTATE): "Close"
   Arg 3 (COM): "CLOSE"
   Rest arg (STRINGS): NIL

(:METHOD FS:FILE-OUTPUT-STREAM-MIXIN :REAL-CLOSE):  (P.C. = 134)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:SRC:<JCMA.MAIL>JCMA.BABYL" 34343641>)
   Arg 0 (OPERATION): :REAL-CLOSE
   Arg 1 (ABORTP): NIL
14-Nov-82 23:39:40-EST,190;000000000000
Date: Sunday, 14 November 1982, 23:34-EST
From: Eugene Ciccarelli <ECC at MIT-OZ>
Subject: SUPDUP Help key
To: BUG-LISPM at MIT-OZ

Sorry.  The problem seems to be in my dumped EMACS.
14-Nov-82 23:41:18-EST,822;000000000000
Date: Sunday, 14 November 1982, 23:31-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Hdt at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 14 Nov 82 20:57-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Sunday, 14 November 1982, 20:57-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    In Experimental System 218.151, Zmail 65.41, LMFS 28.35, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

    While sending the last bug message, I typed a control-m to 
    insert a transcript.  Someone must have *throw'd something bad:

    >>Trap: There was no pending *CATCH for the tag #<DTP-LOCATIVE 30203556>.
    The values being thrown were NIL, #<DTP-LOCATIVE 30203556>
This has been fixed in the source for a while, and will work in rel 4.
15-Nov-82 01:10:27-EST,1476;000000000000
Date: Monday, 15 November 1982, 00:59-EST
From: Daniel Brotsky <dcb at MIT-OZ>
Subject: inspecting recursive structures
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.37,
ZMail 47.13, microcode 183, !, on Lisp Machine Eighteen:

For a variety of reasons, I want to include a named structure
within itself, as in

(defstruct (foo :named)
  slot-1)

(defstruct (foo :named (:include foo))
  slot-2)

to get foo with slots slot-1 and slot-2.  This works fine except
in the inspector, where the function

(DEFUN TYPEP-STRUCTURE (X TYPE &AUX XNAME D)
  (COND ((SETQ XNAME (NAMED-STRUCTURE-P X))
	 (DO () ((EQ XNAME TYPE) T)
	   (OR (AND (SETQ D (GET XNAME 'DEFSTRUCT-DESCRIPTION))
		    (DEFSTRUCT-DESCRIPTION-NAMED-P D)
		    (SETQ XNAME (CAR (DEFSTRUCT-DESCRIPTION-INCLUDE D))))
	       (RETURN NIL))))
	((AND (SETQ D (GET TYPE 'DEFSTRUCT-DESCRIPTION))
	      (DEFSTRUCT-DESCRIPTION-NAMED-P D))
	 NIL)
	(T (TYPEP X TYPE))))

goes into an infinite loop.  (It loops because the line

        (SETQ XNAME (CAR (DEFSTRUCT-DESCRIPTION-INCLUDE D)))

just sets XNAME to be the included structure type which is
itself.)

I realize that this is not a bug in the sense that it was never
guaranteed to work.  However, the fix seems simple.  Are there
any objections to putting a circularity check in this function?
Does anybody immediately think of other functions which should be
changed?

	dan
15-Nov-82 01:13:17-EST,633;000000000000
Date: Monday, 15 November 1982, 01:06-EST
From: David C. Plummer <DCP at SCRC-TENEX>
To: HDT at MIT-MC, DEG at SCRC-TENEX
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 14 Nov 82 22:38-EST from Howard D. Trachtman <HDT at MIT-MC>

    Date: Sunday, 1 April 2002, 06:66-PDT
    From: Jack the Ripper <Ripper at MIT-Dark-Alley>
    In System 289.605, Hypernet 65.41,  macrocode 28.35, microcode 11.3,
    nanocode 20.4, site configuration 2^123, on Cobol Machine Cons-Breath:

    (car #\space) blows out because #\space is not a list.

Fixed in 289.666.  It's not a list, but it could easily be coerced into one.
15-Nov-82 01:18:15-EST,706;000000000000
Date: Monday, 15 November 1982, 01:13-EST
From: Daniel Brotsky <dcb at MIT-OZ>
Subject: recursive structure defs, an addendum
To: bug-lispm at MIT-OZ

Pursuant to my last node:

Rather than fixing a number of other functions to handle directly
recursive structure includes (it would probably be hard to handle
indirectly recursive ones), it might be easier to change
defstruct to handle such a case.  If a structure def includes a
prior def of the same type, the slots might be forwarded and the
prior definition completely discarded (with no record in the
include part of the structure description).  Perhaps it would not
be so hard to handle the indirect recursive case in this way,
too.
15-Nov-82 02:03:12-EST,1299;000000000000
Date: 15 November 1982 02:01-EST
From: Alan Bawden <ALAN at MIT-MC>
Subject:  recursive structure defs, an addendum
To: dcb at MIT-OZ
cc: bug-lispm at MIT-OZ

    Date: Monday, 15 November 1982, 01:13-EST
    From: Daniel Brotsky <dcb at MIT-OZ>
    To:   bug-lispm at MIT-OZ
    Re:   recursive structure defs, an addendum

    Pursuant to my last node:

    Rather than fixing a number of other functions to handle directly
    recursive structure includes (it would probably be hard to handle
    indirectly recursive ones), it might be easier to change
    defstruct to handle such a case.  If a structure def includes a
    prior def of the same type, the slots might be forwarded and the
    prior definition completely discarded (with no record in the
    include part of the structure description).  Perhaps it would not
    be so hard to handle the indirect recursive case in this way,
    too.

I don't see at all what a "recursive" defstruct can possibly mean.
defstruct is a purely declaritive/static construct, while I think you are
proposing to give it some procedural/dynamic meaning.  I think that my
proper response to all this should be to make defstruct check for
circularities in :include's and produce an error.  Can somebody convince me
otherwise?
15-Nov-82 02:28:19-EST,1775;000000000000
Mail-From: DCB created at 15-Nov-82 02:24:47
Date: 15 November 1982  02:24-EST (Monday)
Sender: DCB at MIT-OZ
From: Daniel Brotsky <DCB at MIT-MC>
To:   Alan Bawden <ALAN at MIT-OZ>
Cc:   bug-lispm at MIT-OZ
Subject: recursive structure defs, an addendum
In-reply-to: The message of 15 Nov 1982  02:01-EST from Alan Bawden <ALAN>

    Date: Monday, 15 November 1982  02:01-EST
    From: Alan Bawden <ALAN>

    I don't see at all what a "recursive" defstruct can possibly mean.
    defstruct is a purely declaritive/static construct, while I think you are
    proposing to give it some procedural/dynamic meaning.  I think that my
    proper response to all this should be to make defstruct check for
    circularities in :include's and produce an error.  Can somebody convince me
    otherwise?

I agree that it's a very strange use of the :include feature and
there are no "good" reasons why it should work.  (I don't quite
think that the problem centers around a procedural/declarative
distinction, but that's sort of beside the point.)

Think of it as a patch-like fix: I want to patch foo so that it
has all of its current structure plus a few more slots.  All I
mean by "include" is "make this thing start with all the slots
that foo does".  In this context, there is no question of
circularity; we have used an abbreviation device to shorten the
new definition of foo and the new definition supercedes the old
one.  In fact, in this context, there is no reason for the
defstruct-description of foo to point back to whatever foo
included (whether that was circular or not).

Perhaps, if no one else likes the idea of using :include this
way, I should just implement a new defstruct keyword
:initial-slots-from or some such.

	dan
15-Nov-82 03:13:02-EST,586;000000000000
Date: Monday, 15 November 1982, 03:07-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: recursive structure defs, an addendum
To: Daniel Brotsky <DCB at MIT-MC>
Cc: Alan Bawden <ALAN at MIT-OZ>, bug-lispm at MIT-OZ
In-reply-to: The message of 15 Nov 82 02:24-EST from Daniel Brotsky <DCB at MIT-MC>

    Date: 15 November 1982  02:24-EST (Monday)
    From: Daniel Brotsky <DCB at MIT-MC>

    Think of it as a patch-like fix: I want to patch foo so that it
    has all of its current structure plus a few more slots.

Isn't the proper tool for this job a text editor?
15-Nov-82 12:12:34-EST,759;000000000000
Date: 15 November 1982 09:53-EST
From: Christopher C. Stacy <CSTACY at MIT-MC>
Subject:  directory listings taking too long on the Lisp Machine
To: JCMA at MIT-MC, KMP at MIT-MC, ECC at MIT-MC, HENRY at MIT-MC
cc: CSTACY at MIT-MC
Redistributed-to: bug-lispm at MIT-OZ
Redistributed-by: JCMa at MIT-OZ
Redistributed-date: Monday, 15 November 1982, 12:09-EST

  "It turns out that the most frequent operation performed on
   on a user's file directory is to list it.  ...Also, users
   frequently examine several directories explicitly before
   actually deciding to read, write, or delete a file.  File
   directory design for an interactive system...should take
   this into account."
                         -- ITS Status Report, Feb 1972.
15-Nov-82 14:05:04-EST,850;000000000000
Date: Monday, 15 November 1982, 08:54-EST
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: MEMQ of constant
To: DLA at SCRC-TENEX, Zvona at MIT-OZ
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 12 Nov 82 21:10-EST from David L. Andre <DLA at SCRC-TENEX>

    Date: Friday, 12 November 1982, 21:10-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    There is already an optimizer for (memq foo '(a)).  (memq foo '(a b)) is
    about equal to (or (eq foo 'a) (eq foo 'bar)) on the A machine, if I
    remember correctly, so I didn't install it.  Note that (memq (foo) '(a b))
    would have to optimize into
    (let ((g0001 (foo))) (or (eq g0001 'a) (eq g0001 'b)))
    which probably is too expensive.
This is bogus.  Any optimizer doing things like this has to conditionalize the
LETting on the atomicity of (foo)/foo.
15-Nov-82 15:19:28-EST,428;000000000000
Date: Monday, 15 November 1982, 15:14-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.37, ZMail 47.13,
Experimental Remote-File 20.0, Experimental Local-File 41.0,
microcode 183, LMFS 41.0, on Lisp Machine Two:

Whenever I do a (DRIBBLE-START "dribble" T), I get an error:

Variable ZWEI:*WINDOW* is unbound in function ZWEI:RECORD-BP-VALUES.
15-Nov-82 15:24:37-EST,1642;000000000000
Date: Monday, 15 November 1982, 15:16-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: trouble saving in Zmail
To: BUG-LISPM at MIT-MC

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Apiary-1:

I tried buggin "save files" in Zmail and got this:

>>Error: File is not opened for writing
For OZ:PS:<HEWITT>JUNK.BABYL
While in the function (DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK)  (DEFUN-METHOD FS:FILE-PROCESS-OUTPUT-ASYNC-MARK)  (METHOD FS:FILE-OUTPUT-STREAM-MIXIN FINISH)



(DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK): (P.C. = 63)
 (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>JUNK.BABYL" 26651130>)
 Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 14661325>
 Arg 1 (PKT): #<CHAOS Packet 26633163>
 Local 0 (STRING): "O1768 ERROR BUG R File is not opened for writing"


(DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK):  (P.C. = 63)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>JUNK.BABYL" 26651130>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 14661325>
   Arg 1 (PKT): #<CHAOS Packet 26633163>

(DEFUN-METHOD FS:FILE-PROCESS-OUTPUT-ASYNC-MARK):  (P.C. = 70)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>JUNK.BABYL" 26651130>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-OUTPUT-STREAM-MIXIN -- 6. IV's, 1. FL's 14661303>

(METHOD FS:FILE-OUTPUT-STREAM-MIXIN FINISH):  (P.C. = 54)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>JUNK.BABYL" 26651130>)
   Arg 0 (OPERATION): FINISH
15-Nov-82 15:25:16-EST,785;000000000000
Date: Monday, 15 November 1982, 14:30-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Hdt at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 14 Nov 82 22:22-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Sunday, 14 November 1982, 22:22-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    Page 334 of the #'Nual states that 
    (read-from-string #"(a b c)#") => (a b c) and 7

    In actuality, the values returned are (A B C) and 7
    The cases are different.  As read usually reads things in
    uppercase, this is probably just a documentation problem.
Page 5 of the manual explains the case convention.

    In anycase, how can I get read to preserve case without generating
    a new rtc?
That won't be enough.  INTERN is case sensitive.
15-Nov-82 15:29:55-EST,351;000000000000
Date: Monday, 15 November 1982, 15:26-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

Now that who-calls works for macros, it would be nice if zwei new how to
compile callers.
15-Nov-82 17:03:48-EST,901;000000000000
Date: Monday, 15 November 1982, 16:53-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System
89.40, ZMail 47.13, microcode 183, !, on Lisp Machine Eighteen:

Here is the file OZ:PS:<EB.JUNK>BUG.LISP.  If I QC-FILE-LOAD it, then do
(funcall foo ':x), I get what seems to be the wrong answer, though it is
possible that I misunderstand something.

; -*- Mode:Lisp; Package:User -*-

(defflavor foo1
  (x)
  ()
  :initable-instance-variables
  :gettable-instance-variables)

(defflavor foo2
  (y)
  ()
  :initable-instance-variables)

(defmethod (foo2 :around :x) (continuation data1 data2)
  (list y (around-method-continue continuation data1 data2) y))

(defflavor foo
  ()
  (foo2 foo1))

(setq foo (make-instance 'foo ':x 1 ':y 2))

;; (funcall foo ':x) should be (2 1 2), but it is (2 1 1).

15-Nov-82 18:02:31-EST,816;000000000000
Mail-From: DCB created at 15-Nov-82 18:00:23
Date: 15 November 1982  18:00-EST (Monday)
Sender: DCB at MIT-OZ
From: Daniel Brotsky <DCB at MIT-MC>
To:   bug-lispm at MIT-OZ
Subject: recursive structure defs, an addendum

There are a variety of idiosyncratic reasons why (for my use in
this case) modifying the original structure def (instead of using
:include) is not acceptable; however, they are not very good
reasons and they certainly don't apply in the general case.
Thus, as I mentioned in my reply to Allan's message, I have no
objections to having recursive :include's be made illegal or
whatever.

The point of my bringing it up was merely to point out that
recursive includes seem to almost work, and to ask if people
objected to their entirely working.  It seems that people do.

	dan
15-Nov-82 18:38:40-EST,667;000000000000
Date: 15 November 1982 18:33-EST
From: Ken Church <KWC at MIT-ML>
Subject: hash-tables, compiler:fasd-symbol-value, 
To: DLA at SCRC-TENEX
cc: KWC at MIT-ML, BUG-LISPM at MIT-ML, dlw at SCRC-TENEX,
    BEE at SCRC-TENEX

    Date: Wednesday, 10 November 1982, 23:04-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    In-reply-to: The message of 7 Nov 82 12:36-EST from Ken Church <KWC at MIT-ML>

    Bruce and I discussed fasdumping of hash tables, and agreed that it
    should work.  The binary file will essentially create the empty hash
    table, and do all the :PUT-HASHes necessary.

    I will do this unless Bruce beets me to it.

great
15-Nov-82 23:33:54-EST,1703;000000000000
Date: Monday, 15 November 1982, 23:30-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: lost connect
To: BUG-LISPM at MIT-MC, bug-file at MIT-OZ

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, Experimental Omega 9.0, Experimental Omega-Presenter 12.0,
microcode 963, site configuration 27, Omega, on Lisp Machine Apiary-2:

I tried to save my Zmail file:

>>Error: File is not opened for writing
For OZ:PS:<HEWITT>ZMAIL.INIT
While in the function (DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK)  (DEFUN-METHOD FS:FILE-PROCESS-OUTPUT-ASYNC-MARK)  (:METHOD FS:FILE-OUTPUT-STREAM-MIXIN :FINISH)



(DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK): (P.C. = 63)
 (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>ZMAIL.INIT" 32507011>)
 Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 14661325>
 Arg 1 (PKT): #<CHAOS Packet 26530366>
 Local 0 (STRING): "O1885 ERROR BUG R File is not opened for writing"


(DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK):  (P.C. = 63)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>ZMAIL.INIT" 32507011>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 14661325>
   Arg 1 (PKT): #<CHAOS Packet 26530366>

(DEFUN-METHOD FS:FILE-PROCESS-OUTPUT-ASYNC-MARK):  (P.C. = 70)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>ZMAIL.INIT" 32507011>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-OUTPUT-STREAM-MIXIN -- 6. IV's, 1. FL's 14661303>

(:METHOD FS:FILE-OUTPUT-STREAM-MIXIN :FINISH):  (P.C. = 54)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>ZMAIL.INIT" 32507011>)
   Arg 0 (OPERATION): :FINISH
16-Nov-82 03:58:55-EST,413;000000000000
Date: 16 Nov 1982 0353-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Directory listing
To: bug-lispm at MIT-OZ

Lest anyone think that browbeating us is necessary, let me formally
announce that we KNOW that directory listing is slow, and speeding
it up IS high on our priority list of things to do - VERY high,
in fact.  We appreciate your concern and we are working on the
problem.
-------
16-Nov-82 09:33:27-EST,948;000000000000
Mail-From: HANSON created at 16-Nov-82 09:28:34
Date: Tuesday, 16 November 1982  09:28-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   BUG-LISPM-MIT at MIT-OZ


Because of the extreme crowding on the OZ:SRC: device, I purged the L
directory tree, leaving 10 versions of everything.  I don't think that
even that many should be necessary, but I wanted to be careful.  Note
that if I had only left 5 versions, almost 7000 more blocks would have
been reclaimed, which would double the available space to 15K blocks.

I realize that the tree had been uncleaned on purpose, but since the
SRC: device has been down to under 100 blocks of free storage at least
twice in the past week, I felt that it was necessary to do so.  Any
files that were really needed should be recoverable from tapes.  If
you really want to hang onto old versions of things, please rename
them -- it makes it much easier to identify what is valuable.
16-Nov-82 10:36:48-EST,2278;000000000000
Date: Tuesday, 16 November 1982, 10:29-EST
From: James S. Miller <JMILLER at MIT-OZ>
To: BUG-LISPM at MIT-EECS

As per instructions, I am trying C-M from the debugger.
What I was doing to provoke this was C-X C-W to write
out to a new file in a directory and device I haven't
accessed since logging in.  Beat's me what happened.

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, JSMiller, on Lisp Machine Two:


>>Error: File is not open at 6221
For OZ:PS:<JMILLER>VDD.LISP
While in the function (METHOD FS:HOST-UNIT COMMAND)  (METHOD FS:FILE-DATA-STREAM-MIXIN COMMAND)  (METHOD FS:FILE-OUTPUT-STREAM-MIXIN REAL-CLOSE)



(METHOD FS:HOST-UNIT COMMAND): (P.C. = 344)
 (SELF = #<HOST-UNIT 1632005>)
 Arg 0 (OPERATION): COMMAND
 Arg 1 (MARK-P): OUTPUT
 Arg 2 (STREAM-OR-HANDLE): #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<JMILLER>VDD.LISP" 23473565>
 Arg 3 (SIMPLE-P): NIL
 Arg 4 (WHOSTATE): "Close"
 Rest arg (COMMANDS): ("CLOSE")
 Local 1 (HANDLE): "O1879"
 Local 2 (STREAM): #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<JMILLER>VDD.LISP" 23473565>
 Local 3 (PKT): #<CHAOS Packet 23271531>
 Local 4 (SUCCESS): NIL
 Local 5 (STRING): "O1879 ERROR BUG F File is not open at 6221"
 Local 6 (TRANSACTION-ID): "T1892"
 Local 7 (FROM): 6
 Local 8 (CONDITION): NIL
 Local 9 (G1683): T
 Local 10 (G1684): (#<CASE-HANDLER 2734121> #<BIND-HANDLER 2507410> #<BIND-HANDLER 2506471>)


(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 344)
   (SELF = #<HOST-UNIT 1632005>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): OUTPUT
   Arg 2 (STREAM-OR-HANDLE): #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<JMILLER>VDD.LISP" 23473565>
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Close"
   Rest arg (COMMANDS): ("CLOSE")

(METHOD FS:FILE-DATA-STREAM-MIXIN COMMAND):  (P.C. = 43)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<JMILLER>VDD.LISP" 23473565>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): T
   Arg 2 (WHOSTATE): "Close"
   Arg 3 (COM): "CLOSE"
   Rest arg (STRINGS): NIL

(METHOD FS:FILE-OUTPUT-STREAM-MIXIN REAL-CLOSE):  (P.C. = 134)
   (SELF = #<FILE-OUTPUT-CHARACTER-STREAM "OZ:PS:<JMILLER>VDD.LISP" 23473565>)
   Arg 0 (OPERATION): REAL-CLOSE
   Arg 1 (ABORTP): ABORT
16-Nov-82 10:56:52-EST,868;000000000000
Date: 16 Nov 1982 0528-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: Symbolics 218.148 / Startup
To: JMILLER at MIT-EECS
cc: Bug-LispM at MIT-EECS
In-Reply-To: The message of 12 Nov 1982 0904-EST from JMILLER at MIT-EECSrnard S. Greenberg <BSG at SCRC-TENEX>

When a Lisp machine "goes into never-never land in the RUN
state", please let us know whether the time of day in the who-line
is moving or not, and whether the mouse is tracking or not; it
sounds like what happened to you was a hardware problem but it's
hard to tell without more information.  If the time isn't counting
and the mouse isn't tracking,then probably the machine has halted.
If the time is counting and the mouse is tracking, then you might
be in a Lisp-level infinite loop, and you can try typing c-m-Break
to enter the debugger and see what's going on.
-------
16-Nov-82 12:28:10-EST,588;000000000000
Date: Tuesday, 16 November 1982, 12:25-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System
89.40, ZMail 47.13, microcode 183, !, on Lisp Machine Eighteen:

The manual says that entities are just like closures, but this system
assumes they are classes, whatever those may be, and

	(typep (entity nil #'ignore)) 

blows up trying to do SYMEVAL of #'ignore.  That seems to mean that I
can't use any entities if I have a pretty-printer loaded, since
pretty-printers typically ask for typep of things.
16-Nov-82 16:36:56-EST,344;000000000000
Date: Tuesday, 16 November 1982, 16:31-EST
From: Richard M. Stallman <RMS at MIT-OZ>
To: HANSON at MIT-MC, BUG-LISPM-MIT at MIT-OZ

Don't EVER delete files automatically from the LISPM directories
in a way that deletes the oldest version!

The oldest version is often the most important thing to save.

I hope you haven't screwed me.
16-Nov-82 16:38:27-EST,478;000000000000
Date: Tuesday, 16 November 1982, 16:34-EST
From: Richard M. Stallman <RMS at MIT-OZ>
To: HANSON at MIT-MC, BUG-LISPM-MIT at MIT-OZ

There were many files on the LISPM directories that could safely be deleted,
but an automatic deletion based on version numbers is not acceptable.
Don't ever do this.

All you had to do was ask me to DIRED some directories.
(I have had no reason to list the directories lately and
I don't remember which ones I have direded recently).
16-Nov-82 16:41:59-EST,637;000000000000
Mail-From: HANSON created at 16-Nov-82 16:37:00
Date: Tuesday, 16 November 1982  16:36-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Richard M. Stallman <RMS at MIT-OZ>
Cc:   BUG-LISPM-MIT at MIT-OZ


    Date: Tuesday, 16 November 1982, 16:31-EST
    From: Richard M. Stallman <RMS>
    To:   HANSON, BUG-LISPM-MIT

    Don't EVER delete files automatically from the LISPM directories
    in a way that deletes the oldest version!

    The oldest version is often the most important thing to save.

    I hope you haven't screwed me.

I hope so too.  Please clean up your files if you want to keep them.
16-Nov-82 16:43:38-EST,244;000000000000
Date: Tuesday, 16 November 1982, 16:42-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: DRIBBLE-START bug
To: CAL at MIT-OZ, BUG-LISPM at MIT-OZ

This and other problems that resulted in *WINDOW* unbound errors
are fixed in 89.40.
16-Nov-82 16:54:40-EST,334;000000000000
Date: Tuesday, 16 November 1982, 16:52-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: directory listing
To: bug-lispm-mit at MIT-OZ

I already worked on the problem.
Directory listing is considerably faster in system 89,
probably faster than in 218.
Not fast enough, it's true.  Perhaps I can improve something else.
16-Nov-82 17:26:33-EST,1379;000000000000
Date: Tuesday, 16 November 1982, 16:34-EST
From: Carl Hewitt <Hewitt at MIT-OZ>
Subject: strange variable unbound in Zmail
To: BUG-LISPM at MIT-MC

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, Experimental Omega 9.0, Experimental Omega-Presenter 12.0,
microcode 963, site configuration 27, Omega, on Lisp Machine Apiary-2:

Trying to load my Zmail init from oz after the first attempt
at a chaos-connection time out.

>>Trap: The variable   is unbound.
While in the function SI:*EVAL  SI:READFILE-INTERNAL  SET-ZMAIL-USER



SI:*EVAL: (P.C. = 214)
 Arg 0 (FORM):  
 Local 0 (ARGNUM): 0.
 Local 1 (FCTN): NIL
 Local 2 (CFCTN): NIL
 Local 3 (ARGL): NIL
 Local 4 (MAX-ARGS): NIL
 Local 5 (N-ARGS): NIL
 Local 6 (ARG-DESC): NIL
 Local 7 (TEM): NIL
 Local 8 (COUNT): NIL
 Local 9 (QUOTE-STATUS): NIL
 Local 10 (REST-FLAG): NIL
 Local 11 (FEXPR-FLAG): NIL
 Local 12 (LAMBDA-LIST): NIL
 Local 13 (G3241): NIL
 Local 14 (G3242): NIL
 Local 15 (TEM1): NIL
 Local 16 (ARG-TYPE): NIL
 Local 17 (ITEM): NIL


SI:*EVAL:  (P.C. = 214)
   Arg 0 (FORM):  

SI:READFILE-INTERNAL:  (P.C. = 155)
   Arg 0 (STANDARD-INPUT): #<FILE-INPUT-CHARACTER-STREAM "OZ:PS:<HEWITT>ZMAIL.INIT" 27233315>
   Arg 1 (PKG): "ZWEI"
   Arg 2 (NO-MSG-P): T

SET-ZMAIL-USER:  (P.C. = 215)
   --Defaulted args:--
   Arg 0 (SILENT): NIL
16-Nov-82 17:35:09-EST,1046;000000000000
Mail-From: HANSON created at 16-Nov-82 17:31:24
Date: Tuesday, 16 November 1982  17:31-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   Richard M. Stallman <RMS at MIT-OZ>
Cc:   BUG-LISPM-MIT at MIT-OZ


    Date: Tuesday, 16 November 1982, 16:34-EST
    From: Richard M. Stallman <RMS>
    To:   HANSON, BUG-LISPM-MIT

    There were many files on the LISPM directories that could safely be
    deleted, but an automatic deletion based on version numbers is not
    acceptable.  Don't ever do this.

    All you had to do was ask me to DIRED some directories.
    (I have had no reason to list the directories lately and
    I don't remember which ones I have direded recently).

I would be happy to delete only those files that are not valuable.
However you are not always around when the crunch hits.  Please set
up a program to provide judgement on your files, or else keep the
trees clean.  I don't like purging out the files in that way, but
it isn't possible to get work done when there is no file space.
16-Nov-82 17:45:31-EST,400;000000000000
Mail-From: ZVONA created at 16-Nov-82 17:42:42
Date: Tuesday, 16 November 1982  17:42-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
to:   hanson at MIT-OZ
cc:   bug-lispm-mit at MIT-OZ

RMS tells me that you deleted microcode symbols for UCADR 183.  This
makes it impossible to debug broken machines.  Can you be in charge of
getting old microcode symbol versions back from tape?  Tnx.
16-Nov-82 18:59:36-EST,672;000000000000
Mail-From: HANSON created at 16-Nov-82 18:55:51
Date: Tuesday, 16 November 1982  18:55-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   ZVONA at MIT-OZ
Cc:   bug-lispm-mit at MIT-OZ

    Date: Tuesday, 16 November 1982  17:42-EST
    From: ZVONA
    To:   hanson
    cc:   bug-lispm-mit

    RMS tells me that you deleted microcode symbols for UCADR 183.  This
    makes it impossible to debug broken machines.  Can you be in charge of
    getting old microcode symbol versions back from tape?  Tnx.

I have restored all of the old UCADR files.  There is nothing for 183
except for the .LOCS file in the last full dump (although 123 is
there).
17-Nov-82 00:45:24-EST,667;000000000000
Date: Tuesday, 16 November 1982  23:09-EST
From: MOON at SCRC-TENEX
To:   Carl Hewitt <Hewitt at MIT-OZ>
Cc:   BUG-LISPM at MIT-MC
Subject: strange variable unbound in Zmail
In-reply-to: The message of 16 Nov 1982 16:34-EST from Carl Hewitt <Hewitt at MIT-OZ>

Well you have a center-dot (or null) character at the end of your file
OZ:PS:<HEWITT>ZMAIL.INIT, so the error is not surprising.  The fact that
the file's byte size is 36 is pretty suggestive of where the null came from;
you probably copied the file from one machine to another as a pdp10 binary
file rather than as an ascii text file, which rounded its size up to a
multiple of a pdp10 word.
17-Nov-82 05:57:03-EST,1047;000000000000
Date: Tuesday, 16 November 1982, 14:08-EST
From: Allan C. Wechsler <acw at scrc-vixen>
To: Hdt at mit-oz, BUG-LISPM at mit-oz
In-reply-to: The message of 14 Nov 82 22:22-EST from Howard D. Trachtman <Hdt at MIT-OZ>

The reader always changes lower-case letters to uppercase, except
when they are slashed.

The /manual/ always gives symbol names in lower case.  The manual sticks
to the following contract: 


	If you type what the manual says, it will work.


This means that even though the name of the division function is 

	/

the manual has to give it as 

	//

because the single slash won't work when you type it.

Maybe the manual should use upper-case.  But since it doesn't, the error
you pointed out isn't really an error.

If you really want to lose, you can try removing the case-change from
the readtable by saying:

(loop for i from #/a to #/z do (aset i readtable 2 i))

But you'd better press the caps lock key after that, because all the system
functions have upper-case names.

   --- Allan
17-Nov-82 10:21:54-EST,894;000000000000
Date: Wednesday, 17 November 1982, 10:17-EST
From: Web Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.37,
ZMail 47.13, microcode 183, Hit me, on Arthur Dent:

si:compare-band fails to init its first optional arg (subset-start) properly

****************************************************************
(si:compare-band 'cadr-5 'mcr1 'mcr1)
Comparing MCR1 with MCR1 from CADR-5: 148 blocks, UCADR 187

>>>>TRAP 12443 (ARGTYP NUMBER M-T 1 ...)
The second argument to *PLUS, NIL, was of the wrong type.
The function expected a number.
While in the function SI:COMPARE-BAND  SI:*EVAL  SI:LISP-TOP-LEVEL1

SI:COMPARE-BAND:
   Arg 0 (FROM-MACHINE): CADR-5
   Arg 1 (FROM-PART): MCR1
   Arg 2 (TO-PART): MCR1
   --Defaulted args:--
   Arg 3 (SUBSET-START): NIL
   Arg 4 (SUBSET-N-BLOCKS): NIL
 
* 
17-Nov-82 12:12:21-EST,634;000000000000
Date: Wednesday, 17 November 1982, 12:08-EST
From: John Bradstreet <Bradst at MIT-OZ>
Subject: Automatically-generated flavor methods busted.
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.41,
ZMail 47.13, microcode 183, ., on Lisp Machine Four:

  Something strange is occuring with the flavor system.

  Automatically-generated methods to set (or even get) instance variables do not
    appear to be working anymore.  They appear in the approriate place when
    I DESCRIBE the mixin I am creating, but they do not appear in the flavor that
    that mixin appears in.  
17-Nov-82 12:56:34-EST,468;000000000000
Date: Wednesday, 17 November 1982, 12:54-EST
From: John Bradstreet <Bradst at MIT-OZ>
Subject: More Automatically-generated methods aren't.
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.40,
ZMail 47.13, microcode 183, !, on Lisp Machine Four:

I'm still having problems with automatically generating methods to set and
get flavor instances in this system (89.40).  It didn't work in system
89.41 either.


17-Nov-82 13:20:33-EST,467;000000000000
Date: Wednesday, 17 November 1982, 13:17-EST
From: Bruce E. Edwards <BEE at SCRC-TENEX>
Subject: hash-tables, compiler:fasd-symbol-value, 
To: DLA at SCRC-TENEX, KWC at MIT-ML, dlw at SCRC-TENEX
Cc: BUG-LISPM at MIT-ML
In-reply-to: The message of 10 Nov 82 23:04-EST from David L. Andre <DLA>

I have made it possible to FASDUMP hash tables. I tested this out a bit
and it seems to work. I will patch it into system 218, and should make
it into system 221.
17-Nov-82 13:23:31-EST,618;000000000000
Date: Wednesday, 17 November 1982, 13:21-EST
From: John Bradstreet <Bradst at MIT-OZ>
Subject: Even More Auto-Generation of methods doesn't
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.31,
ZMail 47.10, microcode 183, upto date, on Lisp Machine Twenty-four:

  I just ran the same program that didn't run right in systems 89.40 and
  89.41 in this system (89.31), and it worked.  Methods that were supposed
  to be created by the automatic-generation of methods for set and get
  routines were created.   The problems I'm having must lie in systems
  40+.
17-Nov-82 15:57:21-EST,817;000000000000
Mail-From: DICK created at 17-Nov-82 15:46:52
Date: Wednesday, 17 November 1982  15:46-EST
Sender: DICK at MIT-OZ
From: Dick@MIT-MC
To:   *its at MIT-OZ, info-lispm at MIT-OZ, info-lisp at MIT-OZ
Subject: LetS -- a new looping macro for lisp


LetS is a new Lisp looping macro which makes it possible to
write a wide class of loops as simple expressions.  For example,
in order to sum up the positive elements of the one
dimensional array A one need only wirte:

(Rsum (Fgreater (Evector A)))

LetS is described fully in AIM-680 which has just appeared.
I will give a talk describing LetS in a few weeks.

LetS is compatably with both MacLisp and LispMachine Lisp.
It exists on the directories LIBSLP and LMLIB.

Try it you will like it.

				Dick Waters

Send all comments etc. to Dick@OZ.
17-Nov-82 16:03:05-EST,868;000000000000
Date: Wednesday, 17 November 1982, 15:59-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Various
To: JMILLER at MIT-OZ, Bug-LispM at MIT-OZ
In-reply-to: The message of 13 Nov 82 16:06-EST from JMILLER at MIT-OZ

    Date: 13 Nov 1982 1606-EST
    From: JMILLER at MIT-OZ
    (1) Seems that when I use ^X^W in the editor and tell it to
    write to a new host (OZ instead of EE, for example) and
    use ALTMODE to get it to complete a file name it blows up
    with some flavor of "bad argument list" message.
I can't reproduce the problem.  If you can give me a reproducible
test case, I'll try again; note that the case may depend on the
instantaneous state of the directory in question.  By the way,
please try to use the bug-reporting commands so that we can tell
what version of the software you were running; it often matters.
Thanks.
18-Nov-82 16:35:31-EST,431;000000000000
Date: Thursday, 18 November 1982, 16:33-EST
From: David Chapman <ZVONA at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Six:

Why does 

(defstruct (foo ...) ...)

define make-foo, 

whereas 

(defflavor foo ...)

requires (make-instance 'foo)?

Why is the "QBIN disassembler" called UNFASL?
18-Nov-82 17:00:46-EST,559;000000000000
Date: Thursday, 18 November 1982, 16:55-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at EE

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

DEALLOCATE-RESOURCE is absurdly slow. It seems that it is looping
through all the objects from the resource to make sure that the object
being deallocated is really from that resource. When you are dealing
with resources with si:resource-n-objects around 500 you can see the
trouble you get into.
18-Nov-82 18:45:25-EST,1151;000000000000
Date: Thursday, 18 November 1982, 18:30-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: ZVONA at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 18 Nov 82 16:33-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Thursday, 18 November 1982, 16:33-EST
    From: David Chapman <ZVONA at MIT-OZ>
    To: BUG-LISPM at MIT-OZ

    In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Six:

    Why does 

    (defstruct (foo ...) ...)

    define make-foo, 

    whereas 

    (defflavor foo ...)

    requires (make-instance 'foo)?

    Why is the "QBIN disassembler" called UNFASL?

These are great mysteries of the universe.

Just kidding.

In both cases the reasons are semi-historical.  There's no reason
structures could not be created by a function, if we were to redesign it
today, particularly given the existence of compiler optimizers, which
didn't exist when defstruct was first defined.  UNFASL is a historical
name like CAR and doesn't mean anything.  Note that it never used to be
called UNQFASL at any point.
18-Nov-82 22:08:35-EST,1988;000000000000
Date: Thursday, 18 November 1982, 22:00-EST
From: Ken Haase <KwH at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Six:

This broke when I tried to move into a real mail file I had created earlier.
Eariler, I had aborted a map-over move-to-file with this file (I hadn't
realized that it defaulted to a specfic file - Is that the right thing for
a MAP OVER of a temporary file.  Maybe my ABORT left things in a screwed state?


>>Trap: Some argument to AS-1, NIL, was of the wrong type.
The function expected an array.
While in the function AS-1  (DEFUN-METHOD ZWEI:SUMMARY-SCROLL-DISPLAY-ITEM-STEPPER)  ZWEI:SUMMARY-SCROLL-DISPLAY-ITEM-STEPPER  TV:SCROLL-MAINTAIN-LIST-UPDATE-FUNCTION



(DEFUN-METHOD ZWEI:SUMMARY-SCROLL-DISPLAY-ITEM-STEPPER): (P.C. = 145)
 (SELF = #<ZMAIL-SUMMARY-SCROLL-WINDOW Zmail Summary Scroll Window 1 17523733 exposed>)
 Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-SUMMARY-SCROLL-WINDOW -- 10. IV's, 21. FL's 14731317>
 Arg 1 (INDEX): 59.
 Local 0 (MAIL-FILE): #<BABYL-MAIL-FILE "OZ:SRC:<KWH>SPACE.XMAIL" 27276603>
 Local 1 (LENGTH): 60.
 Local 2 (OTHER-MAIL-FILE): NIL
 Local 3 (NEW-INDEX): NIL
 Local 4 (DISPLAYED-INDEX): 59.
 Local 5 (MSG): NIL


(DEFUN-METHOD ZWEI:SUMMARY-SCROLL-DISPLAY-ITEM-STEPPER):  (P.C. = 145)
   (SELF = #<ZMAIL-SUMMARY-SCROLL-WINDOW Zmail Summary Scroll Window 1 17523733 exposed>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-SUMMARY-SCROLL-WINDOW -- 10. IV's, 21. FL's 14731317>
   Arg 1 (INDEX): 59.

ZWEI:SUMMARY-SCROLL-DISPLAY-ITEM-STEPPER:  (P.C. = 64)
   Rest arg (ARGS): (59.)

TV:SCROLL-MAINTAIN-LIST-UPDATE-FUNCTION:  (P.C. = 113)
   Arg 0 (ITEM): ((PRE-PROCESS-FUNCTION #<DTP-FEF-POINTER ZWEI:SUMMARY-SCROLL-PRE-PROCESS-FUNCTION 6362052> FUNCTION NIL ...) #<ART-Q-4. 27415552> #<ART-Q-4. 27415647> #<ART-Q-4. 27415744> ...)

	
Ken
18-Nov-82 22:13:41-EST,452;000000000000
Date: Thursday, 18 November 1982  21:39-EST
From: DCP at SCRC-TENEX
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, ZVONA at MIT-OZ
In-reply-to: The message of 18 Nov 1982 18:30-EST from Daniel L. Weinreb <dlw>

				  Note that it never used to be
    called UNQFASL at any point.

probably because it's more than six characters so you weren't able to
put the source on AI without filename kludges!!  (More historics)
18-Nov-82 23:33:23-EST,631;000000000000
Date: Thursday, 18 November 1982, 23:31-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: ZVONA at MIT-OZ
Cc: BUG-LISPM at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 18 Nov 82 16:33-EST from David Chapman <ZVONA at MIT-OZ>

    Date: Thursday, 18 November 1982, 16:33-EST
    From: David Chapman <ZVONA at MIT-OZ>
    Why is the "QBIN disassembler" called UNFASL?
Flame Flame.  There are a thousand references to something called QFASL
in the system.  I don't feel that changing all the internals is correct.

Actually, UNFASL was a misnomer even when there were QFASL files.  But
it fit in six characters.
18-Nov-82 23:38:58-EST,1950;000000000000
Mail-From: KMP created at 18-Nov-82 23:38:03
Date: 18 Nov 1982 2338-EST
From: KMP at MIT-OZ
Subject: microcode
To: dla at SCRC-TENEX
cc: bug-lispm at MIT-OZ

Well, I'm very unhappy but don't know what I can do but restate the problem.
The problem is not that it can't be figured out what's what but rather that
it was not readily apparent to someone who doesn't know what he's doing. 
Basically, the partition comment should allow the maximum flexibility in
letting us label what is needed and what is not. I would like a "dont reap"
bit, but no one seems willing to give me that. The point is that someone
clobbered one good band and a different good microcode because (I assume)
they weren't smart enough to tell what was needed and what wasn't. If the
microcode could be better commented, this would be much less likely. The
disk partitions almost always represent a *lot* of work in construction and
are completely at the mercy of those who do disk-save/band-transfer operations.
There is not enough safeguard built into the system to keep people from doing
devastatingly foolish things. I am asking the absolute minimum reasonable
thing -- that there be some minimal flexibility for putting a comment in
the band. It might be that people could do describe-partitions, but they
apparently didn't. Otherwise I can't explain why they'd have clobbered a
necessary microcode. If they had come to me and ask them, I'd have told them
we had no free bands of any sort. But they didn't. They just did the minimal
thing and then proceeded to lose. Any kind of software to make it hard to
accidentally clobber bands or make it obvious that certain bands do not want
to be clobbered would be worth its weight in gold. Any kind of argument
about how people could always do something else may soothe your conscience
but it doesn't sell me one bit when I end up losing valuable environments
because of it. Sorry.
--kmp
-------
19-Nov-82 02:08:02-EST,1655;000000000000
Date: 19 Nov 1982 0201-EST
From: Joel A. Saks <SAKS at MIT-XX>
Subject: A problem with Zwei
To: bug-lispm at MIT-OZ

Dear Sirs:

     I believe I have found  a bug in ZMACS.  If  one attempts to
justify the paragraph below, when  ZMACS is in "Text  Fill" mode,
by marking the first column  of the top line  (CTRL-<space>), and
then moving the cursor down  to the character directly  after the
last period in the paragraph, and then by typing (CTRL-U META-Q),
an error is received.  I got this error when the fill column  was
equal to 65 (i.e., prior to  all this, I had typed  META-6 META-5
CTRL-X f).

     Xxxx xxx xxx xxxxxxxxxx, xxxxx xx xxx xxxxxx xxxx xxxx xxxx.
Yyy yyy yyyyy, yyyyy yyyy yy  yyyyy yy yyyyy yyy yyyyy  yyy yyyy.
Zzzzzzzz, zzz  zzzzzzzz  zz  zzzzz  zz  zzzzzzzzz  zzz zzzzzzz zz
zzzzzzz zzzzzzzzz, zzzzz zzzz zz zzz zzzz zz zzz zzzzzz zzzzz.

     The error involves  the first sentence.   It precisely fills
65 characters.  If, in the preceeding paragraph, the  indentation
is four  spaces  instead  of  five,  which  would  then cause the
preceeding paragraph to not be  justified, then the error  is not
obtained.  But then, of course, the indentation in the  JUSTIFIED
paragraph is four spaces and not  the standard five.  I would  be
curious if this is indeed a bug.  Would you please contact me  as
to your finding?

                         Sincerely,

                            Eric Lipson
                            48 Massachusetts Avenue
                            Cambridge, MA  02139
                            tel. 225-9639
                                 494-1479

-------
19-Nov-82 02:28:01-EST,423;000000000000
Date: Friday, 19 November 1982, 02:18-EST
From: Ken Haase <KwH at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.154, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, Experimental Hecate 6.0, microcode 963, site configuration 27, on Lisp Machine Six:

Is there a way to give patches multi-line descriptions?  This would be a nice feature
if it isn't already available--  (the MIT system has it)

Ken
19-Nov-82 13:01:16-EST,440;000000000000
Date: 19 November 1982 12:43-EST
From: Christopher C. Stacy <CSTACY at MIT-MC>
Subject: wish list
To: BUG-CRTSTY at MIT-MC
cc: BUG-LISPM at MIT-MC

The WHOLIN option of CRTSTY gives a nice wholine at the top
of the screen.  I wish there were a special place for a wholine
when that was part of the SUPDUP protocol, so I could have
a wholine (of my choice) on the top or bottom of my screen
when I supdup from a CADR or a MINITS.
19-Nov-82 13:22:14-EST,1367;000000000000
Date: Friday, 19 November 1982, 13:13-EST
From: John Bradstreet <Bradst at MIT-OZ>
Subject: 'Eval problem in tv:make-window
To: BUG-LISPM at MIT-EECS

In System 210.128, ZMail 45.14, Remote-File 103.0,
Experimental Knowledge-Based-Editor 53.0, microcode 903,
site configuration 25, Black Magic, on Lisp Machine Twenty-two:


  When attempting to compile the following code in system 210.128:

	 (setq frame (tv:make-window 
			 'tv:bordered-constraint-frame

			 ':panes
			 '((graphics-pane f-window-pane)
			   (message-pane tv:lisp-listener-pane)
			 
			 ':constraints
			 `((main . ((graphics-pane message-pane)
				    ((graphics-pane
				       :eval,
				       (MIN 600 (FIXR (// d-width f*y-streach)))))
				    ((message-pane
				       :even))))))))

  I get the  following error that does not occur in system 87,88, ... ect.:

>>ERROR: ATTEMPT TO :UNTYI something othet than last :TYI'ed
While in the function (SELECT-METHOD ZWIE-INTERVAL-IO:UNTYI) <- SI:XR-COMMA-MACRO <- PROPERTY.LIST SI:STATNDERD-READ-FUNCTION)

(SELECT-METHOD ZWIE:INTERVAL-TO-UNTYI):
  Arg 0 (**DEFSELECT-OP**): UNTYI
  Arg 1 (ch): 141

  It seems to be caused by the "eval" message in the macro.  When the
  eval message is removed from the graphics-pane statement, the code does
  compile.  Is this eval message implemented in this system ?
19-Nov-82 13:30:29-EST,801;000000000000
Date: Friday, 19 November 1982, 13:18-EST
From: John Bradstreet <Bradst at MIT-OZ>
Subject: More on Eval message in tv:make-window
To: BUG-LISPM at MIT-EECS

In System 210.128, ZMail 45.14, Remote-File 103.0,
Experimental Knowledge-Based-Editor 53.0, microcode 903,
site configuration 25, Black Magic, on Lisp Machine Twenty-two:

I just found a way to correct that stupid error I had in the macro call
in tv:make-window.  If you put the comma following the eval message on the
next line like so:

			 `((main . ((graphics-pane message-pane)
				    ((graphics-pane
				       :eval
				       ,(MIN 600 (FIXR (// d-width f*y-streach)))))
				    ((message-pane
				       :even)))))))


  it routine compiles.  Is the comma's position supposed to be so 
  position sensitive ?
19-Nov-82 13:37:41-EST,683;000000000000
Date: Friday, 19 November 1982, 12:36-EST
From: Henry Lieberman <Henry at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:


>>Error: The pointer given to QF-ARRAY-SETUP (NIL) was not an array pointer
While in the function QF-ARRAY-SETUP  QF-ARRAY-LEADER  QF-FIND-PACKAGE



QF-ARRAY-SETUP: (P.C. = 103)
 Arg 0 (Q): 257052752
 Local 0 (N): NIL


QF-ARRAY-SETUP:  (P.C. = 103)
   Arg 0 (Q): 257052752

QF-ARRAY-LEADER:  (P.C. = 44)
   Arg 0 (Q): 257052752
   Arg 1 (I): 4

QF-FIND-PACKAGE:  (P.C. = 121)
   Arg 0 (MSYMBOL): ZWEI
19-Nov-82 14:59:29-EST,739;000000000000
Date: Friday, 19 November 1982, 14:39-EST
From: Arthur L. Chin <ARTHUR at MIT-ML>
Subject: Strange errors...
To: bug-lispm at mit-oz



Hello.  I was loading in the file ml:router;pi > into the lisp-listener and had gotten about
70% of the way thru when suddenly the machine beeped at me with an error like this:

>>ERROR:  The special token CLOSE was read in at top level while in the function
	  READSI:READFILELOAD

This was at Cadr 24 at about 2:15 on Friday the 19th.  

I had just modified the file and editted it to run under the USER package instead of DPL.
The previous version of PI could only run on LISPmachines with a Daedalus band loaded in.

Could you help?

					Sincerely,

					Arthur@ML

		
19-Nov-82 15:38:14-EST,358;000000000000
Date: Friday, 19 November 1982, 15:30-EST
From: Ken Haase <KwH at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.156, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, Experimental Hecate 6.1, microcode 963, site configuration 27, on Lisp Machine Six:

Telnet to an ARPA site (SRI-KL precisely) from a LISPM tries to go through AI.

Ken
19-Nov-82 15:54:15-EST,372;000000000000
Date: Friday, 19 November 1982, 15:49-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Strange errors...
To: ARTHUR at MIT-ML, bug-lispm at mit-oz
In-reply-to: The message of 19 Nov 82 14:39-EST from Arthur L. Chin <ARTHUR at MIT-ML>

Your file has unbalanced paranetheses.  Try reading it into a Zmacs buffer
and using Meta-X Find Unbalanced Parentheses.
19-Nov-82 16:57:53-EST,754;000000000000
Date: Friday, 19 November 1982  16:49-EST
From: MOON at SCRC-TENEX
To:   John Bradstreet <Bradst at MIT-OZ>
Cc:   BUG-LISPM at MIT-EECS
Subject: 'Eval problem in tv:make-window
In-reply-to: The message of 19 Nov 1982 13:13-EST from John Bradstreet <Bradst at MIT-OZ>

    Date: Friday, 19 November 1982, 13:13-EST
    From: John Bradstreet <Bradst at MIT-OZ>

    In System 210.128
    >>ERROR: ATTEMPT TO :UNTYI something othet than last :TYI'ed
    While in the function (SELECT-METHOD ZWIE-INTERVAL-IO:UNTYI)

I fixed this class of bugs (:UNTYI near carriage returns when reading from
an editor buffer) in the source last spring.  Does it still happen in system
218, which MIT has?  (218 is not a released system and has other bugs.)
19-Nov-82 17:06:10-EST,609;000000000000
Date: Friday, 19 November 1982, 17:03-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental System 218.156, Zmail 65.37, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

#/( => 1450

#/( => 3050

I know I am supposed to use #\control-meta-/(, but this was old code.  
The double epsilons must have had to do with transfering from one host 
to another and screwy character translation lossage.

Anyway, #/( should barf.  (Probably #/( should barf too, but that is 
a different matter.)
19-Nov-82 17:42:24-EST,1410;000000000000
Date: Friday, 19 November 1982, 16:23-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Gregor at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 18 Nov 82 16:55-EST from Gregor J. Kiczales <Gregor at MIT-MC>

    Date: Thursday, 18 November 1982, 16:55-EST
    From: Gregor J. Kiczales <Gregor at MIT-MC>
    In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

    DEALLOCATE-RESOURCE is absurdly slow. It seems that it is looping
    through all the objects from the resource to make sure that the object
    being deallocated is really from that resource. When you are dealing
    with resources with si:resource-n-objects around 500 you can see the
    trouble you get into.
I changed DEALLOCATE-RESOURCE to search in the same order as
ALLOCATE-RESOURCE.  This should fix the problem you reported, provided
that the number of objects which are allocated at any one time is small.

What the code is actually doing is searching for the IN-USE-P slot
associated with the object you're using, so it can mark it as free.  It
does this rather than keep a free list to avoid consing and page faults.

If you are really dealing with such a large group of objects which are
constantly being allocated and deallocated, you should revert to a
thread scheme, such as the chaosnet uses.
19-Nov-82 17:49:16-EST,550;000000000000
Date: Friday, 19 November 1982, 17:35-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

Compiler optimization of (SEND SELF ...)?

I guess I don't really know how much overhead is involved in binding all
the stuff that has the effect of binding self (sys:self-mapping-table
etc.). But its seems to me that if this overhead is at all high it would
be worth optimizing this.
19-Nov-82 17:54:16-EST,418;000000000000
Date: Friday, 19 November 1982, 17:44-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: KwH at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 19 Nov 82 15:30-EST from Ken Haase <KwH at MIT-OZ>

    Date: Friday, 19 November 1982, 15:30-EST
    From: Ken Haase <KwH at MIT-OZ>
    Telnet to an ARPA site (SRI-KL precisely) from a LISPM tries to go through AI.
Fixed in MIT site configuration 28.
19-Nov-82 21:22:06-EST,1442;000000000000
Date: 19 November 1982 21:19-EST
From: Christopher C. Stacy <CStacy at MIT-MC>
To: BUG-CRTSTY at MIT-MC, BUG-LISPM at MIT-MC
cc: CSTACY at MIT-MC
In-reply-to: The message of 19 Nov 82 12:43-EST from Christopher C. Stacy <CSTACY>

    Date: 19 November 1982 12:43-EST
    From: Christopher C. Stacy <CSTACY>
    The WHOLIN option of CRTSTY gives a nice wholine at the top
    of the screen.  I wish there were a special place for a wholine
    when that was part of the SUPDUP protocol, so I could have
    a wholine (of my choice) on the top or bottom of my screen
    when I supdup from a CADR or a MINITS.

This slightly incoherent message I sent earlier today is supposed to
be suggesting that there be some sort of extension to the SUPDUP
protocol for handling wholines specially.

In order for the server system to follow protocol, the server would
pretend the user's page was one line less in longer (not wide) than
both sides know it really is.  A SUPDUP command character would shift
output to the start of the SUPDUP line, and another would shift back
to the normal output area.  Also, user hosts could do special things
with wholines.  As a random example: the LispM SUPDUP user could throw
away wholines until the SUPDUP window was exposed.

Gee, if you generalize this mechanism as switch-to-special-area, you
can have a primative window system.

Do people have any comments on these ideas?

Chris
19-Nov-82 21:41:39-EST,375;000000000000
Date: Friday, 19 November 1982, 21:36-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 19 Nov 82 17:03-EST from David Chapman <Zvona at MIT-OZ> 

    Date: Friday, 19 November 1982, 17:03-EST
    From: David Chapman <Zvona at MIT-OZ>

    #/( => 1450

    #/( => 3050
Fixed to barf in 221.6
19-Nov-82 22:06:29-EST,1188;000000000000
Date: Friday, 19 November 1982, 21:57-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: 'Eval problem in tv:make-window
To: Bradst at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 19 Nov 82 13:13-EST from John Bradstreet <Bradst at MIT-OZ>

    Date: Friday, 19 November 1982, 13:13-EST
    From: John Bradstreet <Bradst at MIT-OZ>
    In System 210.128, ZMail 45.14, Remote-File 103.0,
    Experimental Knowledge-Based-Editor 53.0, microcode 903,
    site configuration 25, Black Magic, on Lisp Machine Twenty-two:


      When attempting to compile the following code in system 210.128:

	     (setq frame (tv:make-window 
			     'tv:bordered-constraint-frame

			     ':panes
			     '((graphics-pane f-window-pane)
			       (message-pane tv:lisp-listener-pane)
			 
			     ':constraints
			     `((main . ((graphics-pane message-pane)
					((graphics-pane
					   :eval,
					   (MIN 600 (FIXR (// d-width f*y-streach)))))
					((message-pane
					   :even))))))))

      I get the  following error that does not occur in system 87,88, ... ect.:
The error doesn't occur in 221 either.  I remember it being fixed a
while back...
19-Nov-82 22:31:15-EST,1046;000000000000
Date: Friday, 19 November 1982  22:23-EST
From: MOON at SCRC-TENEX
To:   Gregor J. Kiczales <Gregor at MIT-MC>
Cc:   BUG-LISPM at MIT-MC
Subject:SEND SELF vs FUNCALL-SELF
In-reply-to: The message of 19 Nov 1982 17:35-EST from Gregor J. Kiczales <Gregor at MIT-MC>

    Date: Friday, 19 November 1982, 17:35-EST
    From: Gregor J. Kiczales <Gregor at MIT-MC>

    Compiler optimization of (SEND SELF ...)?

    I guess I don't really know how much overhead is involved in binding all
    the stuff that has the effect of binding self (sys:self-mapping-table
    etc.). But its seems to me that if this overhead is at all high it would
    be worth optimizing this.
self-mapping-table can be different for different methods.  I believe that
special-instance-variable binding is already optimized, in that it is not
repeated if the binding is already in place.  In any case most flavors
don't use special-instance-variables.  That leaves only the binding
of SELF, which is not a major portion of the cost of sending a message.
19-Nov-82 22:51:24-EST,533;000000000000
Date: Friday, 19 November 1982, 22:42-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: KwH at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 19 Nov 82 02:18-EST from Ken Haase <KwH at MIT-OZ>

    Date: Friday, 19 November 1982, 02:18-EST
    From: Ken Haase <KwH at MIT-OZ>
    Is there a way to give patches multi-line descriptions?  This would be a nice feature
    if it isn't already available--  (the MIT system has it)
221.6.  God forbid that the "MIT system" should have a feature that ours doesn't!
19-Nov-82 23:58:28-EST,901;000000000000
Date: Friday, 19 November 1982  23:53-EST
From: DCP at SCRC-TENEX
To:   Christopher C. Stacy <CStacy at MIT-MC>
Cc:   BUG-CRTSTY at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: The message of 19 Nov 1982  21:19-EST from Christopher C. Stacy <CStacy at MIT-MC>

I'm not familiar with what the CRTSTY wholine does.  I assume doesn't
gives you the time, date, user name and machine connected.  If it did,
then you wouldn't be complaining to BUG-LISPM because the LISPM
already shows you these.  

So is the server supposed to do it or what?  This doesn't sound right
either, since ITS has a wholine program whose only bug is that it
really tries to cause output on an idle window.

Perhaps you should completely describe your proposed idea?  Who does
what, what does it displays, who is responsible for displaying, and
what this would do that the ITS wholine program (for example) doesn't.
20-Nov-82 01:08:20-EST,808;000000000000
Date: Saturday, 20 November 1982, 01:03-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: directory listing
To: RMS at MIT-OZ
Cc: BUG-LISPM-MIT at MIT-OZ, DLA at SCRC-TENEX

    Date: Tuesday, 16 November 1982, 16:52-EST
    From: Richard M. Stallman <RMS at MIT-OZ>
    I already worked on the problem.
    Directory listing is considerably faster in system 89,
    probably faster than in 218.
    Not fast enough, it's true.  Perhaps I can improve something else.
I hate to start any sort of rivalry, but I metered system 89 versus
system 221 and could detect no difference in directory listing speed.
They are both equally unacceptably slow.

I suppose I should add in all fairness that directory listing (in DIRED)
is considerably faster in system 221 than system 218 (about 20%).
20-Nov-82 02:08:15-EST,1005;000000000000
Date: Saturday, 20 November 1982  02:00-EST
Sender: HANSON at MIT-OZ
From: HANSON at MIT-MC
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-EECS

    Date: Friday, 19 November 1982, 22:42-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    To:   KwH
    cc:   BUG-LISPM at MIT-EECS

        Date: Friday, 19 November 1982, 02:18-EST
        From: Ken Haase <KwH at MIT-OZ> 
	Is there a way to give patches multi-line descriptions?  This would be
	a nice feature if it isn't already available-- (the MIT system has it)

    221.6.  God forbid that the "MIT system" should have a feature that
    ours doesn't!

What a silly attitude!  The concept of MIT and Symbolics competing
over the development of software systems is completely ridiculous.
MIT is trying to do Artificial Intelligence research, and Symbolics is
trying to sell Lisp machines.  I don't understand why anyone would
consider competition between the two as a valid method of achieving
either goal.
20-Nov-82 02:43:31-EST,460;000000000000
Date: 20 November 1982  02:33-EST (Saturday)
Sender: FEINBERG at MIT-OZ
From: Chiron <FEINBERG at MIT-MC>
To:   Christopher C. Stacy <CStacy at MIT-OZ>
Subject:
Cc:   BUG-CRTSTY at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: The message of 19 Nov 1982  21:19-EST from Christopher C. Stacy <CStacy>

Howdy!
	I like an extension of your idea a lot.  Namely, I think it
would be a good time to add real windows to the SUPDUP protocol.  

						--Chiron
20-Nov-82 02:48:31-EST,459;000000000000
Date: Saturday, 20 November 1982, 02:47-EST
From: Clifford A. Lasser <CAL at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.41, ZMail 47.13,
Experimental Remote-File 20.0, Experimental Local-File 41.0,
microcode 183, LMFS 41.0, on Lisp Machine Two:

Every so often I get a "no region" message for a hyper-control-w in 
edit-warnings mode.  A second try always works.  Unfortunetly, I cannot 
deduce a pattern.
20-Nov-82 03:03:13-EST,1325;000000000000
Return-Path: <Margolin@MIT-MULTICS.ARPA>
Date:  20 November 1982 02:51 est
From:  Barry Margolin at MIT-MULTICS
To:  HANSON at MIT-MC
cc:  BUG-LISPM at MIT-EECS
In-Reply-To:  Message of 20 November 1982 02:29 est from HANSON

    Date:  Saturday, 20 November 1982  02:00-EST
    From:  HANSON at MIT-MC

        Date: Friday, 19 November 1982, 22:42-EST
        From: David L. Andre <DLA at SCRC-TENEX>
        To:   KwH
        cc:   BUG-LISPM at MIT-EECS

        221.6.  God forbid that the "MIT system" should have a feature that
        ours doesn't!

    What a silly attitude!  The concept of MIT and Symbolics competing
    over the development of software systems is completely ridiculous.
    MIT is trying to do Artificial Intelligence research, and Symbolics is
    trying to sell Lisp machines.  I don't understand why anyone would
    consider competition between the two as a valid method of achieving
    either goal.

Is not the "MIT System" also the "LMI System"?  In this case,
competition is certainly to be expected.  If I am wrong, let me know.
If I am right, then what is happening is that LMI is getting alot of
free labor at MIT's expense.  On the other hand, if MIT is getting
something, like free use of LMI software, then it could be an equitable
trade.
				barmar
20-Nov-82 03:48:21-EST,643;000000000000
Date: Saturday, 20 November 1982, 03:47-EST
From: Richard Mlynarik <Mly at MIT-OZ>
Subject: The Worm-trails demo
To: BUG-LISPM at MIT-OZ
Cc: gren at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.41,
ZMail 47.13, microcode 183,  , on Ford Prefect:

This shouldn't defvar, & hence create, a whole window ( hacks:*worm-pond* ) every time hacks
	is loaded.
(Its use of hacks:*blinker* also seems questionable.)

Sorry to burden bug-lispm with this trivia, but I'm loathe to perform any surgery
	myself, for fear of frightful vengance from the maintainers of the sacred source.

-------------------
20-Nov-82 05:12:53-EST,1000;000000000000
Date: Saturday, 20 November 1982  05:05-EST
From: DCP at SCRC-TENEX
To:   Chiron <FEINBERG at MIT-MC>
Cc:   BUG-CRTSTY at MIT-MC, BUG-LISPM at MIT-MC,
      Christopher C. Stacy <CStacy at MIT-OZ>
In-reply-to: The message of 20 Nov 1982  02:33-EST () from Chiron <FEINBERG at MIT-MC>

Look folks, how many of you have implemented user SUPDUP programs or
helped implement a server SUPDUP?  Do you even know what you are
talking about??  What does it mean to have windows in supdup?  How
does it interact with the server's operating system?  What does it
look like to user programs on the server machine?  What is the window
interaction mechanism from the user program (especially on an ASCII
terminal)?

Now for a good one: even if you could come up with a coherent model,
where would you implement it?  ITS is the only system that has a
prayer at the moment.  Multics is probably second in line.  20X,
forget it; it barely gets along with the current SUPDUP/VTS
interactions...

20-Nov-82 09:22:03-EST,348;000000000000
Date: Saturday, 20 November 1982  09:14-EST
Sender: DANIEL at MIT-OZ
From: DANIEL at MIT-MC
To:   Barry Margolin at MIT-MULTICS
Cc:   BUG-LISPM at MIT-EECS, HANSON at MIT-OZ
subject: Silly and Idiotic statements.

STOP IT!  I don't want my mailbox inundated with uninformed (or
informed) comments having nothing to do with bugs! STOP IT!!
20-Nov-82 13:23:16-EST,601;000000000000
Date: Saturday, 20 November 1982, 13:18-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.156, Zmail 65.37, LMFS 28.23, Tape 11.2,
LGP 20.4, microcode 963, site configuration 27, needs new site info, on Lisp Machine Twenty-two:

Re the fast cold boot feature, it would be useful if
there were a function you could call that would force
loading all the rest of the band, so you could safely
do a set-current-band.  (Or better still, if it would
not look at the current band, but at a gobal in the
virtual memory to see where to get stuff from.)
20-Nov-82 13:43:31-EST,356;000000000000
Date: Saturday, 20 November 1982, 13:33-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Silly and Idiotic statements
To: HANSON at MIT-MC, Barry Margolin at MIT-MULTICS, DANIEL at MIT-MC
Cc: BUG-LISPM at MIT-EECS

I guess I can't say anything on BUG-LISPM without being taken
completely seriously.  Suffice it to say that I agree with Chris.
20-Nov-82 16:24:08-EST,818;000000000000
Date: 20 Nov 1982 1614-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
To: HANSON at MIT-MC
cc: DLA at SCRC-TENEX, BUG-LISPM at MIT-EECS
In-Reply-To: Your message of 20-Nov-82 0206-EST

Mr. Hanson, I feel at this point that is is necessary to formally point
out that Mr. Andre is, as a rule, given to sarcastic humor and witty
comments.  Mr. Andre's recent comment, saying "God forbid that the 'MIT
system' should..." is but a typical example of Mr. Andre's irrepresible
humor.  Please be assured that the intention of Mr. Andre's comment
was merely to make light of the very silliness that your message so
accurately expounds.  All os us are in agreement on this point.  Thank
you for your patience, and my apologies for the unfortunately misunderstanding.

Yours very truly,
Daniel Weinreb
-------
20-Nov-82 18:14:15-EST,1122;000000000000
Date: Saturday, 20 November 1982, 18:10-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ, DOC-CHANGES at SCRC-TENEX
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 20 Nov 82 13:18-EST from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 20 November 1982, 13:18-EST
    From: David Chapman <Zvona at MIT-OZ>
    Re the fast cold boot feature, it would be useful if
    there were a function you could call that would force
    loading all the rest of the band, so you could safely
    do a set-current-band.
It is absolutely amazing how misunderstood fast booting is.  There are
absolutely no restrictions on SET-CURRENT-BAND due to fast booting.  As
of 218.57, there are absolutely no restrictions on ANYTHING due to fast
booting.  The only mention in the documentation about the effects of
fast booting should be:  

"DISK-SAVE will be much slower unless you boot the band you are saving
with (DISK-RESTORE x T).  This will be fixed in a future release.  If
you attempt to write into a partition which is currently being used for
paging, you will get an appropriate error."
20-Nov-82 18:49:01-EST,781;000000000000
Date: Saturday, 20 November 1982, 18:44-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

Is there a way to get the flavor method-combination stuff to provide the
functionality of putting a wrapper (better yet a whopper) around all the
methods of a particular flavor? Specifically, what I would like to be
able to have situation like the following:

(defflavor foo ()())

(defflavor bar () (foo))

and be able to put a wrapper around all the methods bar inherits from
foo. I would be content being able to put a wrapper around all bar's
methods instead of just those method's it inherits from foo.
20-Nov-82 19:13:24-EST,1575;000000000000
Date: 20 Nov 1982 1905-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
To: Gregor at MIT-MC, BUG-LISPM at MIT-MC
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 20-Nov-82 1849-EST

    Date: Saturday, 20 November 1982, 18:44-EST
    From: Gregor J. Kiczales <Gregor at MIT-MC>
    Is there a way to get the flavor method-combination stuff to provide the
    functionality of putting a wrapper (better yet a whopper) around all the
    methods of a particular flavor? Specifically, what I would like to be
    able to have situation like the following:

    (defflavor foo ()())

    (defflavor bar () (foo))

    and be able to put a wrapper around all the methods bar inherits from
    foo. I would be content being able to put a wrapper around all bar's
    methods instead of just those method's it inherits from foo.
Well, being able to put a wrapper around all bar's methods
would do the entire job, since you could instead have

(defflavor foo () ())
(defflavor foo-wrapped () (foo)		; Wrappers go here instead
  (:abstract-flavor))
(defflavor bar () (foo-wrapped))

I've seen applications for this kind of thing before.  But I think it's
unreasonable to tie it to a per-flavor basis rather than being able to
specify a set of methods to receive a single wrapper/whopper.  Obviously
the combined methods must be duplicated, but there's no reason to duplicate
the same whopper 100 times.

Actually, this isn't specific to wrappers and whoppers.  Many is the time
I've wanted to have 10 different messages run the same code.
-------
20-Nov-82 19:58:14-EST,733;000000000000
Date: Saturday, 20 November 1982  19:53-EST
From: MOON at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>, Gregor at MIT-MC
Cc:   BUG-LISPM at MIT-MC
In-reply-to: The message of 20 Nov 1982 1905-EST from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: 20 Nov 1982 1905-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>

    Actually, this isn't specific to wrappers and whoppers.  Many is the time
    I've wanted to have 10 different messages run the same code.

This is why Lisp offers function calling, and also is why DEFMETHOD allows
you to give a function to call in place of the body of the method.  That
doesn't answer Gregor's request for what amounts to an abbreviation for
a bunch of defwhopper forms.
20-Nov-82 20:13:32-EST,857;000000000000
Date: 20 Nov 1982 2009-EST
From: Ed Barton <EB at MIT-OZ>
To: MOON at SCRC-TENEX
cc: RWK at SCRC-TENEX, Gregor at MIT-MC, BUG-LISPM at MIT-MC
In-Reply-To: Your message of 20-Nov-82 1958-EST

    Date: Saturday, 20 November 1982  19:53-EST
    From: MOON at SCRC-TENEX
	Date: 20 Nov 1982 1905-EST
	From: Robert W. Kerns <RWK at SCRC-TENEX>
	Actually, this isn't specific to wrappers and whoppers.  Many is the time
	I've wanted to have 10 different messages run the same code.
    This is why Lisp offers function calling, and also is why DEFMETHOD allows
    you to give a function to call in place of the body of the method.

Doesn't the DEFMETHOD thing only work if the function spec you want
to give in place of the method body is an atom?  Suppose I wanted to
say something like (defmethod (foo :bar) (:method foo :bletch)) ?
-------
20-Nov-82 20:33:10-EST,869;000000000000
Date: 20 Nov 1982 2027-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
To: EB at MIT-OZ, MOON at SCRC-TENEX
cc: Gregor at MIT-MC, BUG-LISPM at MIT-MC, RWK at SCRC-TENEX
In-Reply-To: Your message of 20-Nov-82 2015-EST

    Date: 20 Nov 1982 2009-EST
    From: Ed Barton <EB at MIT-OZ>
      Suppose I wanted to
    say something like (defmethod (foo :bar) (:method foo :bletch)) ?
Now that I'm unwedged, I can answer that.  You turn (:method foo :bletch)
into a (defun-method bletch-function ...) and
(defmethod (foo :bletch) bletch-function)
(defmethod (foo :bar) bletch-function).

Of course, I do think this is clumsy, and I have never liked
DEFUN-METHOD.  In anything other than this, I just send an
internal message.  I'd love to not have to write DEFUN-METHOD
again.  I've tried to call DEFUN-METHODs as random functions too
many times.
-------
20-Nov-82 22:33:03-EST,667;000000000000
Date: 20 Nov 1982 2230-EST
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
To: DLA at SCRC-TENEX
cc: Zvona at MIT-OZ, DOC-CHANGES at SCRC-TENEX, BUG-lispm at MIT-OZ
In-Reply-To: Your message of 20-Nov-82 1820-EST

Well, also, as we said before, it's not a good idea to si:transmit-band
into a band on a target machine, if the user of the target machine has
fast-booted out of the very band that you're transmitting into.  Of course,
it was never an especially good idea to si:transmit-band into the
current band of a destination machine since the transmission might
fail half-way through, so this is not particularly a new restriction
of fast-boot.
-------
20-Nov-82 22:37:51-EST,561;000000000000
Date: 20 November 1982 22:27-EST
From: Christopher C. Stacy <CSTACY at MIT-MC>
To: DCP at SCRC-TENEX
cc: CSTACY at MIT-MC, BUG-CRTSTY at MIT-MC, BUG-LISPM at MIT-MC,
    FEINBERG at MIT-MC


I once implemented a simple user SUPDUP: a terminal program in
assembler for a microcomputer so that I could say :TCTYP SOFT to
ITS.  I will write up a formal description for the hackery I am
proposing, where and how t might be implemented, and I'd love to
get people's comments on it.  Are these mailing lists the right
forum for this discussion?

Chris
20-Nov-82 22:47:51-EST,636;000000000000
Date: Saturday, 20 November 1982, 22:42-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: DLW at SCRC-TENEX
Cc: Zvona at MIT-OZ, BUG-lispm at MIT-OZ
In-reply-to: The message of 20 Nov 82 22:30-EST from Daniel L. Weinreb <DLW at SCRC-TENEX>

    Date: 20 Nov 1982 2230-EST
    From: Daniel L. Weinreb <DLW at SCRC-TENEX>
    Well, also, as we said before, it's not a good idea to si:transmit-band
    into a band on a target machine, if the user of the target machine has
    fast-booted out of the very band that you're transmitting into.
The band transfer server checks for this, and returns the appropriate
error message.
20-Nov-82 23:27:46-EST,981;000000000000
Date: Saturday, 20 November 1982, 23:20-EST
From: David C. Plummer <DCP at SCRC-TENEX>
To: CSTACY at MIT-MC, DCP at SCRC-TENEX
Cc: BUG-CRTSTY at MIT-MC, BUG-LISPM at MIT-MC, FEINBERG at MIT-MC
In-reply-to: The message of 20 Nov 82 22:27-EST from Christopher C. Stacy <CSTACY at MIT-MC>

				Are these mailing lists the right
    forum for this discussion?

Several people on these lists may be interested, but I don't think the
lists themselves are appropriate.  I suggest you create
SUPDUP-EXTENSIONS@MC for this purposes.  Include you, me and Feinberg
and any other individuals you know of that have expressed an interest.
Perhaps there should be exactly one more message to the lists: that
message should come from you and should announce the mailing list and
it's purpose.  Then we should stop bothering bug-lispm and bug-crtsty
until we have convinced ourselves that what we want to do is feasible,
and then we can solicit comments from the larger audience.
21-Nov-82 01:17:42-EST,1137;000000000000
Mail-From: FEINBERG created at 21-Nov-82 01:16:51
Date: 21 November 1982  01:16-EST (Sunday)
From: Chiron <FEINBERG at MIT-MC>
To:   Bug-CRTSTY at MIT-OZ, Bug-LispM at MIT-OZ, Bug-Oz at MIT-OZ,
      Bug-Lisp at MIT-OZ
Subject: Two new mailing lists

Howdy!
	There are two new mailing lists at Oz:

Maclisp-Maintainers@MIT-OZ

	This purpose of this mailing list is to coordinate bug fixes
and day to day maintaince of Maclisp on Oz and perhaps other MIT
sites.  If anyone is planning to touch the <MACLISP> directory on Oz,
they should send a note to this list letting the experts know what is
up, so the experts have the opertunity to tell you if the planned
activities will interfere with the stability of Maclisp.  In
particular, any modifications to LISP.EXE or BBLISP.EXE at Oz should be
cleared through this list.

Supdup-Extentions@MIT-OZ

	The purpose of this mailing list is to discuss extentions to
the Supdup protocol.

If you are not familiar with the twenex mailbox system and would like
to be added to either of these mailing lists, send mail to
Feinberg@Oz, and I'll add you.

					--Chiron
21-Nov-82 01:32:37-EST,393;000000000000
Date: Sunday, 21 November 1982, 01:31-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

It sorta seems inconsistent to me that

(deff bar 'baz)

works, but

(deff (:method foo :bar) '(:method foo :baz))

doesn't.
21-Nov-82 01:47:47-EST,600;000000000000
Date: Sunday, 21 November 1982, 01:45-EST
From: JCMa@MIT-OZ
Subject: 218 fast-boot feature?
To: bug-lispm@MIT-OZ

Recently a lispm running 218 crashed ostensibly because the current band
and microcode had been changed to an 89 combination.  Apparently, the
running 218 tried to page in from the wrong band and lost.  If this is
the case, it would seem to be a bug that the running system uses the
value of the current band rather than remembering the band at boot time
(or something).  Also, salvaging editor buffers with cc:salvage-editor
in such circumstances is not exactly intuitive.
21-Nov-82 02:17:32-EST,919;000000000000
Date: Sunday, 21 November 1982  02:13-EST
From: MOON at SCRC-TENEX
To:   JCMa at MIT-OZ
Cc:   bug-lispm at MIT-OZ
Subject: 218 fast-boot feature?
In-reply-to: The message of 21 Nov 1982 01:45-EST from JCMa@MIT-OZ

    Date: Sunday, 21 November 1982, 01:45-EST
    From: JCMa@MIT-OZ

    Recently a lispm running 218 crashed ostensibly because the current band
    and microcode had been changed to an 89 combination.  Apparently, the
    running 218 tried to page in from the wrong band and lost.  If this is
    the case, it would seem to be a bug that the running system uses the
    value of the current band rather than remembering the band at boot time
    (or something).
Of course it would be a bug, which is why it doesn't do that.

What was the real reason that it crashed?

    Also, salvaging editor buffers with cc:salvage-editor
    in such circumstances is not exactly intuitive.
?
21-Nov-82 02:27:29-EST,571;000000000000
Date: Sunday, 21 November 1982  02:22-EST
From: MOON at SCRC-TENEX
To:   Chiron <FEINBERG at MIT-MC>
Cc:   Bug-CRTSTY at MIT-OZ, Bug-Lisp at MIT-OZ, Bug-LispM at MIT-OZ,
      Bug-Oz at MIT-OZ
Subject: Two new mailing lists
In-reply-to: The message of 21 Nov 1982  01:16-EST () from Chiron <FEINBERG at MIT-MC>

    Date: 21 November 1982  01:16-EST (Sunday)
    From: Chiron <FEINBERG at MIT-MC>

    Supdup-Extentions@MIT-OZ

It would be easier to remember the name of this mailing list if you would
follow normal English spelling.  That's "extensions".
21-Nov-82 02:29:05-EST,750;000000000000
Date: Sunday, 21 November 1982  02:21-EST
From: MOON at SCRC-TENEX
To:   Gregor J. Kiczales <Gregor at MIT-MC>
Cc:   BUG-LISPM at MIT-MC
Subject: Function specs are not functions
In-reply-to: The message of 21 Nov 1982 01:31-EST from Gregor J. Kiczales <Gregor at MIT-MC>

    Date: Sunday, 21 November 1982, 01:31-EST
    From: Gregor J. Kiczales <Gregor at MIT-MC>

    (deff bar 'baz)
    works, but
    (deff (:method foo :bar) '(:method foo :baz))
    doesn't.
That's because, as documented on page 136 of the manual, a list starting
with :METHOD is not a function.  Use #' instead of ' and it works.

Perhaps it was a mistake to make APPLY not accept function specs as well
as functions, but that's the way it is at present.
21-Nov-82 02:52:26-EST,848;000000000000
Date: 21 November 1982  02:47-EST (Sunday)
From: FEINBERG at CMU-CS-C at MIT-MC
To:   MOON at SCRC-TENEX
Cc:   Bug-CRTSTY at MIT-OZ, Bug-Lisp at MIT-OZ, Bug-LispM at MIT-OZ,
      Bug-Oz at MIT-OZ
Subject: Two new mailing lists

Howdy!
	    Date: Sunday, 21 November 1982  02:22-EST
    From: MOON at SCRC-TENEX
    To:   Chiron <FEINBERG at MIT-MC>
    cc:   Bug-CRTSTY at MIT-OZ, Bug-Lisp at MIT-OZ, Bug-LispM at MIT-OZ,
          Bug-Oz at MIT-OZ
    Re:   Two new mailing lists

        Date: 21 November 1982  01:16-EST (Sunday)
        From: Chiron <FEINBERG at MIT-MC>

        Supdup-Extentions@MIT-OZ

    It would be easier to remember the name of this mailing list if you would
    follow normal English spelling.  That's "extensions".

Right.  Now it is SUPDUP-EXTENSIONS@OZ.  It works for DM, MC, and ML,
too.
21-Nov-82 18:55:24-EST,808;000000000000
Date: Sunday, 21 November 1982, 18:50-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.157, Zmail 65.35, LMFS 28.20, Tape 11.1,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Eighteen:

I've just started using flavors seriously for the first time ever
and I am hating every minute of it.  I believe that flavors are 
the right thing, but the special form syntax and user interface 
is awful.  If you don't mind, I will point out some things that 
could be improved.

:method-combinations.  I often don't care what the order is.  I 
shouldn't have to specify it.  If I specify it as one or the other,
the reader has to guess if it matters or not.  Could putting NIL
for the order be equivalent to one or the other, unspecifiedly?
21-Nov-82 23:00:43-EST,720;000000000000
Date: Sunday, 21 November 1982, 22:56-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.41,
ZMail 47.13, microcode 187,   , on Lisp Machine Five:


This is certaintly strange behavior for trying to do something braindamaged.

(setq b nil)
NIL

(setq b (append "abcde"))
"abcde"

(setq b (append "abc"))

>>>>TRAP 2931. (BAD-CDR-CODE RMD)
A bad cdr-code was found in memory (at address 262754243)
While in the function SI:GRIND-LINEAR-FORM <- SI:GRIND-TRY <- SI:GRIND-FORM

Is trying to string-append instead really the right thing to do here?
  I think I should really be given a different sort of error.
21-Nov-82 23:45:23-EST,729;000000000000
Date: Sunday, 21 November 1982, 23:40-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

In the error handler, when you get an unclaimed-message error.  There
should be a newline after the

Message name to use instead of :LOSING-MESSAGE-NAME:

prompt, this would give me more room to type my new message name without
going off the end of the line (Note that undefined function and unbound
variable already do this). Also it would be nice if it would put the old
message name into the rubout-handler in such a way that CTRL-META-Y
would get it back.
22-Nov-82 00:55:17-EST,1095;000000000000
Date: Monday, 22 November 1982  00:50-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   BUG-lispm at MIT-OZ
Subject: Flavor method combination
In-reply-to: The message of 21 Nov 1982 18:50-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 21 November 1982, 18:50-EST
    From: David Chapman <Zvona at MIT-OZ>

    :method-combinations.  I often don't care what the order is.  I 
    shouldn't have to specify it.  If I specify it as one or the other,
    the reader has to guess if it matters or not.  Could putting NIL
    for the order be equivalent to one or the other, unspecifiedly?
Are you serious?  For every kind of method combination that is documented
in the manual the order affects both the returned value and the side effects,
and if you aren't depending on either the returned value or the side effects,
why are you sending a message at all?

If you want a suggestion, :base-flavor-last order is usually more intuitive.

By the way, I am most happy to hear suggestions for improvements.  Probably
everyone else here is also.
22-Nov-82 05:41:15-EST,255;000000000000
Date: Monday, 22 November 1982, 05:32-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: God forbid that the "MIT system" should have a feature that ours doesn't!
To: BUG-LISPM at MIT-EECS

You have a lot of work remaining if that is your goal.
22-Nov-82 05:46:15-EST,901;000000000000
Date: Monday, 22 November 1982, 05:43-EST
From: Richard M. Stallman <RMS at MIT-OZ>
To: Barry Margolin at MIT-MULTICS, bug-lispm at MIT-OZ

    Is not the "MIT System" also the "LMI System"?
No.  It does not belong to LMI.  Anyway, why quotes around "MIT system".
Does someone deny that it is MIT's system?  (Symbolics lawyers have
made such claims, at times, but MIT lawyers didn't agree).

    If I am right, then what is happening is that LMI is getting alot of
    free labor at MIT's expense.
This is true.  It is also true that everybody who uses EMACS got a lot
of free labor at MIT's expense.  I think that it is a good thing.  The more
people I can give a free saving of labor to, the more good I am doing in the world.

The world would be much better off if there were only one Lisp machine system
and no competition over it.  But Symbolics wouldn't let it be so.  Too bad.
22-Nov-82 08:52:09-EST,1558;000000000000
Date: Monday, 22 November 1982, 08:45-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Hdt at MIT-OZ, BUG-lispm at MIT-OZ
In-reply-to: The message of 21 Nov 82 22:56-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Sunday, 21 November 1982, 22:56-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    (setq b (append "abc"))
    >>>>TRAP 2931. (BAD-CDR-CODE RMD)

In system 218, I cannot reproduce this problem.  The "right thing" would
be for APPEND to immediately signal an error because one of its
arguments was not a list.  However, the code, as a special check at the
beginning, optimizes by knowing that "append of one argument should just
return that argument", and it doesn't actually do an explicit type-check
anywhere.  Since we have several compiler-optimizers in the system that
do this sort of thing, one might argue that putting in an explicit
type-check here isn't really called for, although strictly speaking
there should be one.  Anyway, in all cases I tried, append applied
to any one string returns the string and no errors are signalled.

    Is trying to string-append instead really the right thing to do here?

Well, if you're trying to append one string to itself,
character-by-character, yes.  string-append of one argument will, in
fact, copy a string, although I feel that it is slightly bad style to
depend on this; there really should be a function explicitly for copying
strings.  We don't have one now, and there isn't one in the latest
Common Lisp definition; probably there should be.
22-Nov-82 09:08:11-EST,2177;000000000000
Mail-From: HDT created at 22-Nov-82 09:05:14
Date: 22 November 1982  09:05-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-lispm at MIT-OZ
In-reply-to: The message of 22 Nov 1982 08:45-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 22 November 1982, 08:45-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    To:   Hdt at MIT-OZ, BUG-lispm at MIT-OZ

        Date: Sunday, 21 November 1982, 22:56-EST
        From: Howard D. Trachtman <Hdt at MIT-OZ>
        (setq b (append "abc"))
        >>>>TRAP 2931. (BAD-CDR-CODE RMD)

    In system 218, I cannot reproduce this problem.  The "right thing" would

I'm sorry.   Try that, and then (setq b (append b "def"))

    be for APPEND to immediately signal an error because one of its
    arguments was not a list.  However, the code, as a special check at the
    beginning, optimizes by knowing that "append of one argument should just
    return that argument", and it doesn't actually do an explicit type-check
    anywhere.  Since we have several compiler-optimizers in the system that
    do this sort of thing, one might argue that putting in an explicit
    type-check here isn't really called for, although strictly speaking
    there should be one.  Anyway, in all cases I tried, append applied
    to any one string returns the string and no errors are signalled.

I expected it to signal an error, I was suprised when it did not.

        Is trying to string-append instead really the right thing to do here?

    Well, if you're trying to append one string to itself,
That's not what I was trying to do, I was guessing (incorrectly) that
that was the optimization that it was trying to make.
    character-by-character, yes.  string-append of one argument will, in
    fact, copy a string, although I feel that it is slightly bad style to
    depend on this; there really should be a function explicitly for copying
    strings.  We don't have one now, and there isn't one in the latest
    Common Lisp definition; probably there should be.

Probably there should be.
22-Nov-82 09:43:00-EST,1229;000000000000
Date: Monday, 22 November 1982, 09:38-EST
From: JCMa@MIT-OZ
Subject: mail lossage at MC
To: BUG-LISPM@EE, bug-mail@mc, bug-file@mc


I can't send mail to mc, or the network via mc. Mc is up and is lying.
Why doesn't someone fix this lossage.  Note I can even report this
bug to mc directly.

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, on Lisp Machine Apiary-2:


>>Error: MIT-MC not responding to a FILE 1 request
While in the function CHAOS:CONNECT  (:METHOD FS:HOST-UNIT :VALIDATE-CONTROL-CONNECTION)  (:METHOD FS:FILE-HOST-MIXIN :GET-HOST-UNIT)



CHAOS:CONNECT: (P.C. = 265)
 Arg 0 (ADDRESS): #<ITS-CHAOS-HOST MIT-MC>
 Arg 1 (CONTACT-NAME): "FILE 1"
 Arg 2 (WINDOW-SIZE): 5.
   --Defaulted args:--
 Arg 3 (TIMEOUT): 600.
 Local 0 (CONN): #<CHAOS Connection for FILE 1 to MC 2225213>
 Local 1 (REAL-ADDRESS): 800.
 Local 2 (TRY): 1.
 Local 3: ("Retry connection to ~A at ~S with longer timeout" #<ITS-CHAOS-HOST MIT-MC> "FILE 1")
 Local 4: (#<ERROR-RESTART-HANDLER 26516064> #<DTP-LOCATIVE 20235443> #<DTP-LOCATIVE 11003305>)
 Local 5 (.SELECTQ-ITEM.): CHAOS:RFC-SENT-STATE
 Local 6 (PKT): NIL
 Local 7 (STR): NIL


22-Nov-82 10:03:33-EST,560;000000000000
Date: 22 Nov 1982 0955-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: mail lossage at MC
To: JCMa at MIT-OZ, BUG-LISPM at MIT-EECS, bug-mail at MIT-MC,
    bug-file at MIT-MC
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 22-Nov-82 0943-EST

MC was possibly out of job slots?  There's nothing you can do if the
host is used up, besides wait and try again.  I haven't looked at
the MIT site configuration file recently, but I'll bet your mail was
delivered via OZ in any event, and probably used OZ without even
trying MC.
-------
22-Nov-82 10:18:21-EST,607;000000000000
Date: Monday, 22 November 1982, 10:04-EST
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: mail lossage at MC
To: JCMa at MIT-OZ, BUG-LISPM at MIT-EECS, bug-mail at MIT-MC,
    bug-file at MIT-MC
In-reply-to: The message of 22 Nov 82 09:38-EST from JCMa at MIT-OZ

MC is having its terminal lines debugged.  When an ITS is being debugged
it will often answer simple requests from the network, but some servers
will refuse to work.  They refuse so you will not be led astray just to
learn that any work you do has no hope of being saved consistently.  I
suspect FILE is one of those servers. 
22-Nov-82 10:23:17-EST,1089;000000000000
Date: Monday, 22 November 1982, 10:14-EST
From: JCMa@MIT-OZ
Subject: Re: mail lossage at MC
To: RWK@SCRC-TENEX
Cc: JCMa@MIT-OZ, BUG-LISPM@MIT-EECS, bug-mail@MIT-MC, bug-file@MIT-MC
In-reply-to: The message of 22 Nov 82 09:55-EST from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: 22 Nov 1982 0955-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Subject: Re: mail lossage at MC
    To: JCMa at MIT-OZ, BUG-LISPM at MIT-EECS, bug-mail at MIT-MC,
	bug-file at MIT-MC
    cc: RWK at SCRC-TENEX
    In-Reply-To: Your message of 22-Nov-82 0943-EST

    MC was possibly out of job slots?  There's nothing you can do if the
    host is used up, besides wait and try again.  I haven't looked at
    the MIT site configuration file recently, but I'll bet your mail was
    delivered via OZ in any event, and probably used OZ without even
    trying MC.
    -------
I bet you're right that MC was out of job slots.  But, my mail wasn't sent via
oz. I had to send to foo@bar@ml to amke it win.  I would have used OZ, but
I figured it might lose with such a destination.
22-Nov-82 10:24:25-EST,1129;000000000000
Date: Monday, 22 November 1982, 10:18-EST
From: JCMa@MIT-OZ
Subject: mail lossage at MC
To: DCP@SCRC-TENEX
Cc: JCMa@MIT-OZ, BUG-LISPM@MIT-EECS, bug-mail@MIT-MC, bug-file@MIT-MC
In-reply-to: The message of 22 Nov 82 10:04-EST from David C. Plummer <DCP at SCRC-TENEX>

    Date: Monday, 22 November 1982, 10:04-EST
    From: David C. Plummer <DCP at SCRC-TENEX>
    Subject: mail lossage at MC
    To: JCMa at MIT-OZ, BUG-LISPM at MIT-EECS, bug-mail at MIT-MC,
	bug-file at MIT-MC
    In-reply-to: The message of 22 Nov 82 09:38-EST from JCMa at MIT-OZ

    MC is having its terminal lines debugged.  When an ITS is being debugged
    it will often answer simple requests from the network, but some servers
    will refuse to work.  They refuse so you will not be led astray just to
    learn that any work you do has no hope of being saved consistently.  I
    suspect FILE is one of those servers. 
Mc is now sending mail for me.  Does it mean your reason or rwk's is correct? Perhaps,
it is a combination of the two.  Can the lispm figure this out and try an alternate
approach (i.e., send via oz or ml)?
22-Nov-82 10:33:35-EST,310;000000000000
Date: 22 Nov 1982 10:23:00-EST
From: hes at scrc-vixen
To: Barry@scrc-tenex, DANIEL@MIT-MC, DLA@SCRC-TENEX, HANSON@MIT-MC, Margolin@MIT-MULTICS
Subject: Silly and Idiotic statements
Cc: BUG-LISPM@MIT-EECS

I think you should make a public statement to that effect and apologize
for causing the uproar.
22-Nov-82 10:58:55-EST,380;000000000000
Date: Monday, 22 November 1982, 10:54-EST
From: JCMa@MIT-OZ
Subject: First several lines of files being lost on write
To: bug-lispm@MIT-OZ, bug-file-@MIT-OZ, gren@MIT-OZ

Over the past week, I have found two cases in which a file that I
have written to oz has lost the first 5 or 6 lines.  This behavior
seems to be random; I write many files with no lossage.  Any ideas?
22-Nov-82 11:10:10-EST,1617;000000000000
Mail-From: ZVONA created at 22-Nov-82 11:02:54
Date: Monday, 22 November 1982  11:02-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   MOON at SCRC-TENEX
Cc:   BUG-lispm at MIT-OZ
Subject: Flavor method combination
In-reply-to: The message of 22 Nov 1982  00:50-EST from MOON at SCRC-TENEX

    Date: Monday, 22 November 1982  00:50-EST
    From: MOON at SCRC-TENEX
    To:   David Chapman <Zvona>
    cc:   BUG-lispm
    Re:   Flavor method combination

        Date: Sunday, 21 November 1982, 18:50-EST
        From: David Chapman <Zvona at MIT-OZ>

        :method-combinations.  I often don't care what the order is.  I
        shouldn't have to specify it.  If I specify it as one or the other,
        the reader has to guess if it matters or not.  Could putting NIL
        for the order be equivalent to one or the other, unspecifiedly?

    Are you serious?  For every kind of method combination that is
    documented in the manual the order affects both the returned value
    and the side effects, and if you aren't depending on either the
    returned value or the side effects, why are you sending a message
    at all?

Suppose I want to compute a predicate with :AND or :OR combination.
Several mixins could supply partial predicates to be booled together,
and I might not care what order they are executed in.

Similar things can happen with :PROGN combination if I want various
side-effects to occur, but the order doesn't matter, and I don't care
about the return value.

Both of the above actually occurred in my first tweleve hours of
flavor hacking.
22-Nov-82 13:16:59-EST,496;000000000000
Date: Monday, 22 November 1982, 13:13-EST
From: Ed Barton <EB at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System
89.42, ZMail 47.13, microcode 183, ., on Lisp Machine Eighteen:

In 89.41, I still lost some compiler warnings.  Make-system compiled
three files; the first file got a free variable warning and the other
two got no warnings.  I had done M-X Edit Warnings before, and when I
did it again, it said No files have warnings.
22-Nov-82 16:21:43-EST,1128;000000000000
Date: Monday, 22 November 1982, 14:01-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: HDT at MIT-MC
Cc: BUG-lispm at MIT-OZ
In-reply-to: The message of 22 Nov 82 09:05-EST from Howard D. Trachtman <HDT at MIT-MC>

    Date: 22 November 1982  09:05-EST (Monday)
    From: Howard D. Trachtman <HDT at MIT-MC>
	    (setq b (append "abc"))
	    >>>>TRAP 2931. (BAD-CDR-CODE RMD)
	In system 218, I cannot reproduce this problem.  The "right thing" would
    I'm sorry.   Try that, and then (setq b (append b "def"))
I did; I certainly don't get a bad-cdr-code trap.  It just gets an attempt
to apply LENGTH to a string, which you might expect; this is just the same
problem as the original one, that APPEND doesn't explicitly type-check its
arguments.  In the latter case, an internal implicit check goes off instead.

	Well, if you're trying to append one string to itself,
    That's not what I was trying to do, I was guessing (incorrectly) that
    that was the optimization that it was trying to make.
What were you trying to do, then?  Or did you just run into this while
trying to do something else?
22-Nov-82 16:32:04-EST,549;000000000000
Date: Monday, 22 November 1982, 16:11-EST
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

When I type Tags Search and I haven't designated a Tags Table, it prompts me for
a filename. I suppose this is minimally helpful, but in fact I never use Tags Files
with Zwei. I always just say Select System As Tags Table. It would be nice if it
said something like

 Select (A, B, F, S, or <Help>): <Help>
   A = All Buffers, B = Buffer, F = File, S = System
 Select (A, B, F, S, or <Help>): System.
 Select System:
 ...

--kmp
22-Nov-82 17:58:18-EST,1134;000000000000
Date: Monday, 22 November 1982  17:00-EST
From: MOON at SCRC-TENEX
To:   ZVONA at MIT-MC
Cc:   BUG-lispm at MIT-OZ
Subject: Flavor method combination
In-reply-to: The message of 22 Nov 1982  11:02-EST from ZVONA at MIT-MC

I see.  I've never seen any :AND/:OR/:PROGN's where the order didn't matter,
but I can believe that they can occur.  However, I still don't think it
is a good idea to leave the order up to the system to choose, for two reasons.
One is that nothing else in Lisp works this way; order of evaluation is always
specified by the language.  The other is that if the system ever changes its
order, this will cause bugs in things which only worked because of the order
of evaluation even though their original programmer thought the order didn't
matter, while if the system is never allowed to change its order then all we
have is a less clear way of saying the same thing.

I think you do have a point, but I think on the whole it would be
a disimprovement to change it.  Things are extensible enough that you
can change it for yourself if you really violently object to typing
:base-flavor-last.
22-Nov-82 18:02:13-EST,1235;000000000000
Date: Monday, 22 November 1982  17:25-EST
From: MOON at SCRC-TENEX
To:   JCMa at MIT-OZ
Cc:   bug-file at mc, BUG-LISPM at EE, bug-mail at mc
Subject: mail lossage at MC
In-reply-to: The message of 22 Nov 1982 09:38-EST from JCMa@MIT-OZ

    Date: Monday, 22 November 1982, 09:38-EST
    From: JCMa@MIT-OZ

    I can't send mail to mc, or the network via mc. Mc is up and is lying.
    Why doesn't someone fix this lossage.  Note I can even report this
    bug to mc directly.

    >>Error: MIT-MC not responding to a FILE 1 request

If MC was in being-debugged mode, it would refuse the request for connection
with a textual message saying why.  If it's up but not responding then either
someone de-installed the server or it is broken or it is up with the network
explicitly turned off.

I believe you can use Profile mode in Zmail to change your mail sending mode.
Or you can setq zwei:*mail-sending-mode*; look at zwei:*mail-sending-mode-alist*
for valid values (or use tv:menu-choose to choose from it).  You can also
adjust the variable zwei:*mail-chaos-hosts*.  Or, since your mailing mode
was evidently to mail through the machine you are logged in to, you could
log in to a machine that is working.
22-Nov-82 18:03:12-EST,419;000000000000
Date: Monday, 22 November 1982, 17:53-EST
From: Arthur L. Chin <arthur at MIT-ML>
Subject: Cowardly Cadr...
To: BUG-LISPM at MIT-OZ


Fails to type out the right characters!  Cadr-13, MARVIN, even after being cold-booted
seems to glitch and output weirrrrd stuff when ; : cntrl-F, clearscreen and others are pushed!
Sometimes they work (like now) but usually they dont, giving me garbage.

									arthur

22-Nov-82 21:36:18-EST,1576;000000000000
Date: 22 November 1982  18:35-EST (Monday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-lispm at MIT-OZ
In-reply-to: The message of 22 Nov 1982 14:01-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 22 November 1982, 14:01-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    To:   HDT at MIT-MC
    cc:   BUG-lispm at MIT-OZ

        Date: 22 November 1982  09:05-EST (Monday)
        From: Howard D. Trachtman <HDT at MIT-MC>
    	    (setq b (append "abc"))
    	    >>>>TRAP 2931. (BAD-CDR-CODE RMD)
    	In system 218, I cannot reproduce this problem.  The "right thing" would
        I'm sorry.   Try that, and then (setq b (append b "def"))
    I did; I certainly don't get a bad-cdr-code trap.  It just gets an attempt
    to apply LENGTH to a string, which you might expect; this is just the same
    problem as the original one, that APPEND doesn't explicitly type-check its
    arguments.  In the latter case, an internal implicit check goes off instead.

I guess you're right, no problem in 89.37 but problems in 89.41
    	Well, if you're trying to append one string to itself,
        That's not what I was trying to do, I was guessing (incorrectly) that
        that was the optimization that it was trying to make.
    What were you trying to do, then?  Or did you just run into this while
    trying to do something else?
I was not trying to do anything like this, but I noticed some
unusual behavior and discovered this strange case.
23-Nov-82 08:48:34-EST,273;000000000000
Mail-From: KRKN created at 23-Nov-82 08:46:10
Date: 23 Nov 1982 0846-EST
From: KRKN at MIT-OZ
Subject: dribble-start
To: bug-lispm-mit at MIT-OZ

"(dribble-start 'tst t)" results in the error variable not bound zwei-window or some such

on system 89.37

-------
23-Nov-82 15:10:20-EST,1426;000000000000
Mail-From: KMP created at 23-Nov-82 15:04:21
Date: Tuesday, 23 November 1982  15:04-EST
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   BUG-LISPM at MIT-OZ
cc:   Rees at YALE, Guy.Steele at CMUA, Daniel at OZ
Subject: LEXPR-FUNCALL

A curiosity I noted a long time ago is that 
 (LEXPR-FUNCALL f arg1 arg2 ... argN argL)
is the same as
 (LEXPR-FUNCALL #'FUNCALL f arg1 arg2 ... argN argL)
An implication thereof is that any number of #'FUNCALLs at the beginning are
optional. eg,
 (LEXPR-FUNCALL #'FUNCALL #'FUNCALL #'FUNCALL #'FUNCALL #'+ '(3 4)) => 7

However, an interesting case just came up. I was writing:
 (DEFUN A-FUNCALL-HANDLER (DATA)
   (LEXPR-FUNCALL (CAR DATA) (CDR DATA)))
and I thought -- gee, why shouldn't I just be able to write:
 (DEFUN A-FUNCALL-HANDLER (DATA)
   (LEXPR-FUNCALL DATA))
I tried running A-FUNCALL-HANDLER  on the LispM and sure enough, it erred.

Sadly,
 (LEXPR-FUNCALL '(+ 3 4))
gets a wrong number of args error even tho'
 (LEXPR-FUNCALL #'FUNCALL '(+ 3 4))
works. I find this sad and irregular.

Note that this does not make the 1-arg case the same as EVAL. Eg,
 (LEXPR-FUNCALL '(LIST A B))
should return (A B) without evaluating the A and B.

Hence, I put forth that the correct definition of LEXPR-FUNCALL
is that it be like FUNCALL in every respect except that the last
argument is spread. It would regularize the definition in a nice way.

-kmp
23-Nov-82 18:35:15-EST,450;000000000000
Date: Tuesday, 23 November 1982, 18:32-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, needs new site info, on Lisp Machine Twenty-two:

In the debugger, why is it that when I (breakon '(:method foo :bar)) 
it tells me SELF for the stack frame it breaks at, but not when I
(breakon '(:handler foo :bar))?
23-Nov-82 22:00:09-EST,688;000000000000
Date: Tuesday, 23 November 1982, 21:05-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Zvona at MIT-OZ, BUG-lispm at MIT-OZ
In-reply-to: The message of 23 Nov 82 18:32-EST from David Chapman <Zvona at MIT-OZ>

    Date: Tuesday, 23 November 1982, 18:32-EST
    From: David Chapman <Zvona at MIT-OZ>
    In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 28, needs new site info, on Lisp Machine Twenty-two:

    In the debugger, why is it that when I (breakon '(:method foo :bar)) 
    it tells me SELF for the stack frame it breaks at, but not when I
    (breakon '(:handler foo :bar))?
Fits in a horse.
23-Nov-82 22:09:49-EST,640;000000000000
Date: Tuesday, 23 November 1982, 22:03-EST
From:  <Margolin at MIT-MULTICS>
Subject: Meta-. LOGIN
To: BUG-LISPM at EE

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 28, on Marvin:

When I did Meta-. LOGIN on a freshly booted machine it tried to find it
in OZ:PS:<ACTOR>LOGIN.  I looked at the property list, and it has a
pretty strange 
(PREVIOUS-DEFINITION
 #<DTP-FEF-POINTER SET-CURRENT-BAND 7134332>
 SOURCE-FILE-NAME
 ((DEFUN
   #<TOPS20-PATHNAME "EE:PS:<LS.GUMBY>FASCIST">
   #<LMFS-PATHNAME "F:>LMPAT>System-210-61">
   #<LOGICAL-PATHNAME "SYS: IO; DLEDIT">)))
23-Nov-82 22:20:02-EST,688;000000000000
Date: Tuesday, 23 November 1982, 22:16-EST
From:  <Margolin at MIT-MULTICS>
Subject: Meta-. LOGIN (continued)
To: BUG-LISPM at EE

In System 210.128, ZMail 45.14, LMFS 27.26, Tape 10.9, Canon 14.2,
microcode 896, site configuration 28, on Marvin:

Sorry about the last message (typed Control-Alt, meant Control-X Alt).

As I was saying, LOGIN seems to have a strange SOURCE-FILE-NAME
property.  This is probably due to someone saving a band after using it.
Perhaps someone would be nice enough to resave a cleaner band.

This is the value of the SOURCE-FILE-NAME property of LOGIN:
 ((DEFUN #<TOPS20-PATHNAME "OZ:PS:<ACTOR>LOGIN"> #<LOGICAL-PATHNAME "SYS: SYS2; LOGIN">))
23-Nov-82 22:50:50-EST,650;000000000000
Date: Tuesday, 23 November 1982, 22:48-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.133, Zmail 65.40, LMFS 28.28, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

DEFWHOPPER generates bound but never used errors if there are no calls
to continue-whopper or lexpr-continue-whopper in it.

I realize that that isn't really the right way to use whoppers, but it
is an easy way without hacking method combinations to make sure that
flavor that include the flavor the defmethod is for won't be able to
redefine the method you are using a whopper for.
23-Nov-82 23:25:47-EST,328;000000000000
Date: Tuesday, 23 November 1982  23:16-EST
From: MOON at SCRC-TENEX
To:   <Margolin at MIT-MULTICS>
Cc:   BUG-LISPM at EE
Subject: Meta-. LOGIN (continued)
In-reply-to: The message of 23 Nov 1982 22:16-EST from <Margolin at MIT-MULTICS>

PRINT-LOGIN-HISTORY is how you find out who did it (unless they logged in as FOO)
24-Nov-82 00:15:44-EST,931;000000000000
Date: Wednesday, 24 November 1982  00:10-EST
From: MOON at SCRC-TENEX
To:   Gregor J. Kiczales <Gregor at MIT-MC>
Cc:   BUG-LISPM at MIT-MC
In-reply-to: The message of 23 Nov 1982 22:48-EST from Gregor J. Kiczales <Gregor at MIT-MC>

    Date: Tuesday, 23 November 1982, 22:48-EST
    From: Gregor J. Kiczales <Gregor at MIT-MC>

    DEFWHOPPER generates bound but never used errors if there are no calls
    to continue-whopper or lexpr-continue-whopper in it.

    I realize that that isn't really the right way to use whoppers, but it
    is an easy way without hacking method combinations to make sure that
    flavor that include the flavor the defmethod is for won't be able to
    redefine the method you are using a whopper for.
Unless they use a whopper themselves.

If you must do this, you can easily turn off the warnings by mentioning the
variables in question at the front of your whopper's body.
24-Nov-82 04:23:17-EST,242;000000000000
Mail-From: MOON created at 24-Nov-82 04:18:43
Date: 24 Nov 1982 0418-EST
From: MOON at MIT-OZ
Subject: Problems with lost characters when writing files to OZ
To: bug-twenex at MIT-OZ, bug-file at MIT-OZ, bug-lispm at MIT-OZ


-------
24-Nov-82 04:24:09-EST,813;000000000000
Date: Wednesday, 24 November 1982  04:09-EST
From: MOON at SCRC-TENEX
To:   bug-lispm at oz, bug-twenex at oz, bug-file at oz
Subject: Lost characters when writing files to OZ

First I have to apologize for the blank message I just sent to all of you.
I am trying again from a more reasonable mailing program.

I have installed a file server on Oz with bug traps for possible causes for
lost text when writing files.  If you get an error message "data packet being
discarded because...", please send mail to BUG-FILE@OZ containing the error
message and describing whatever you can about the circumstances.  Also write
your file again.

If this file server is broken, please DELETE SYSTEM:CHAOS.FILE.482 which
will de-install it and re-install the old one.  I have not tested it except
minimally.
24-Nov-82 10:25:25-EST,706;000000000000
Date: Wednesday, 24 November 1982, 08:55-EST
From: James S. Miller <JMILLER at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Six:

M-X Edit Compiler Warnings .... told me that the file the
errors were in was OZ:SRC:<JMILLER.VDD>SHARED.LSP (which
is correct) but then proceeded to try to load the file
.LISP instead, and of course can't find the definitions.

While I'm on the subject, is there a magic variable,
flavor, function, or whatever I can use to tell it that I
want "LISP source files" to be .LSP rather than .LISP?
Or the same more generally?

--Jim Miller
24-Nov-82 13:35:22-EST,694;000000000000
Mail-From: GUMBY created at 24-Nov-82 13:31:29
Date: 24 Nov 1982 1331-EST
From: GUMBY at MIT-OZ
Subject: lispms using the dover
To: bug-lispm at MIT-OZ
cc: gumby at MIT-OZ

Today, my files sat at the top of MC dover queue for over an hour
because someone was sending screens and files to the dover via a
lispmachine. This is really not the right behaviour; the lispm ought
to queue its documents just like everyone else. The only time it
should send directly is when the dover is idle or when MC is down.

If nobody has a real objection, I'll implement this and install it on
Monday. 

david

(I'm more pissed about it than the letter shows. I had a bus to
catch.)
-------
24-Nov-82 14:39:54-EST,1268;000000000000
Date: 24 Nov 1982 1421-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: JMILLER at MIT-OZ, BUG-LISPM at MIT-EECS
cc: DLA at SCRC-TENEX
In-Reply-To: The message of Wednesday, 24 November 1982, 08:55-EST from James S. Miller <JMILLER at MIT-OZ>

    Date: Wednesday, 24 November 1982, 08:55-EST
    From: James S. Miller <JMILLER at MIT-OZ>

    In Experimental System 218.148, Zmail 65.41, LMFS 28.32, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Six:

    M-X Edit Compiler Warnings .... told me that the file the
    errors were in was OZ:SRC:<JMILLER.VDD>SHARED.LSP (which
    is correct) but then proceeded to try to load the file
    .LISP instead, and of course can't find the definitions.
It would have only done that if it couldn't find the definition
in the .LSP file.  From looking at your file, that is because
your DEFUNs and DEFMACROs don't start at the beginning of lines.

    While I'm on the subject, is there a magic variable,
    flavor, function, or whatever I can use to tell it that I
    want "LISP source files" to be .LSP rather than .LISP?
    Or the same more generally?
You will probably have better luck with .LSP files in release 4,
which you should have soon.  (Sigh).
-------
24-Nov-82 19:41:29-EST,494;000000000000
Date: 24 Nov 1982 19:34:07-EST
From: jek at scrc-vixen
To: info-lispm@scrc, msgs@scrc-vixen
Subject: New UNIX file server



A new UNIX file server has been installed which includes the
new error codes and also includes a filename completer.
This has not been extensively tested, but seems to work ok.
Please tryout the completer if you have time and report problems.
Also, if the server is broken in someway, the old one can be
reinstalled - its in /usr/local/lib/chaos/FILE.bak.
24-Nov-82 20:20:58-EST,1265;000000000000
Date: Wednesday, 24 November 1982  19:59-EST
From: MOON at SCRC-TENEX
To:   Howard D. Trachtman <Hdt at MIT-OZ>
Cc:   BUG-FILE at MIT-OZ, bug-lispm at oz
In-reply-to: The message of 24 Nov 1982 08:42-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Wednesday, 24 November 1982, 08:42-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    To: BUG-FILE at MIT-OZ

    In FILE in Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0,
    System 89.42, ZMail 47.13, microcode 187,   , on Lisp Machine Three:

    I've been getting file not open errors a lot, and
    for some reason, the file server seems to be overwritting the 
    file with the same version number.

Perhaps system 89 is appending ".0" to the string-for-host of pathnames
whose version is :newest.  I am told that there is no GTJFN option that
will make Tops-20 parse this as "create a new version" rather than
"rewrite the existing version", without introducing other worse bugs.
If this is the problem, someone should patch system 89 to send pathnames
with no version rather than with a version of 0.  Check with Gren about
whether my diagnosis is correct.  Also if you mail the text of a file not
open error to BUG-FILE, perhaps something can be done about it.
25-Nov-82 02:51:24-EST,828;000000000000
Date: Thursday, 25 November 1982, 02:46-EST
From: Richard M. Stallman <RMS at MIT-OZ>
Subject: :newest in Twenex pathnames
To: bug-lispm at MIT-OZ, bug-file at MIT-OZ

In 89.35 I changed these pathnames to print out with ".0"
to make directory listing list only the newest version.

However, this caused opening files for output to rewrite the last
version, so I undid the change in 89.37.  I have seen it working
properly since then.  The directory listing problem was fixed another
way.

If you have an 89.35 or 89.36, you should load patches and dump again.
But I did this myself to all the machines that I knew needed it.

Meanwhile, this bug does not cause a "file not open" error message
unless the file server too has a bug.  Such bugs in the file server
certainly did exist then, and may still exist.
25-Nov-82 12:38:33-EST,1825;000000000000
Date: Thursday, 25 November 1982, 12:37-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
Subject: Does dwim dwim or dwym?? (Huh?) 
To: Lispm-features <BUG-LISPM at mit-oz>

When is there going to be some improvement in the time
for doing package DWIM??  It it is pretty slow, and it
is utilized fairly frequently.

It might be nice if I was first given a list of packages that
it found the object in before it starts asking me its questions.

It also would be nice if when its asking me if I want a particular
object, if I could type something to get the object's documention.
This might be particularily useful if the object is in GLOBAL: and
its name is potentially ambiguous as to what its function is.

Even with the risk of losing (potenially very big) every once in a while,
there probably should be an option so that package 
dwimification in the case where an object is in EXACTLY one
package, to assume without querying you that that's the
object that you want.  (That's what dwim means to me.)
   [Not seriously: Maybe there be a DWYM and a DWIDM
   (do what YOU mean and Do What I Don't Mean).]
This seems to imply there should be a defualt 
variable for this as well (with its default to
maintain the status quo).

As a related topic in DWIM, here's a suggestion for
the New New Error System:

Since Lispms are presumably used for AI research, lets 
put some AI into the user interface!!  How about letting
the machine build up a model of how I would answer a
particular question and if it's reasonably confident
that it knows how to DTRT, let it do it.  And if it
makes a mistake, fine just barf on your keyboard and
teach it why it just did the wrong thing so it'll
know next time.  The above questionable feature
should clearly not be installed as a default.

--Howard--
25-Nov-82 14:48:28-EST,1764;000000000000
Date: Thursday, 25 November 1982, 14:44-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.44,
ZMail 47.13, microcode 187, ., on Lisp Machine Twenty-five:


If the who line is modified in order to reflect what the
host being connected to is (such as Chaos Connect OZ as opposed 
to Chaos Connect) *comma* why not try to reflect the message sent to
a filename in the wholine as well?

Instead of File Data Connection you could see something like:
(combining to two ideas)
Oz File Data: Delete  -or-
EE File Data: File-properies  (or however much will fit)

  Boy isn't making frequent operations slower and using more
memory fun?

Bonus: A real live bug too.
I just tried to send the above message with a real live comma in in
where the *comma* is.  Something seemed to be looping forever with
a whostate of Run; and stuck at string-search-comma.   That's because
what I thought of as my message, it considered to be a system to
report a bug in.  (Post function calling attempt to DTRT allows 
me to get away with leaving out the argument that in this case where I 
should be have to explicitly say lispm
yet having it defualt to that anyway).

Extra bonus: while trying to make that correction, I con an error
in the rubout handler that the argument to copy-array-leader, 975.
was greater than 500.  I guess someone is trying to restrict the number of characters
that I can type and get full full rubout handling. (I had to go to 
the top of the input to fix the last change.)  I think I can see why, 
I am typing characters and having them not show up until significantly later.

Moral: User-editor-anyway when sending a bug report. 
25-Nov-82 21:22:44-EST,1269;000000000000
Mail-From: ZVONA created at 25-Nov-82 21:19:48
Date: Thursday, 25 November 1982  21:19-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   bug-lispm at MIT-OZ

Some scatterbrained ideas about compilation and efficiency.

Has anyone thought about writing a block compiler?  I often would be
willing to trade off some debuggablity for speed.  

If the new L compiler did flow analysis, it could compile out closures
and flavors.  In one of the Sussman/Steele papers they explain that
implementing CONS, CAR, and CDR with closures is not absurd if you
have a compiler that understands what is going on and turns CAR into
HLRZ as before.  The same thing could be done with flavors, turning
simple uses into arefs and asets.  Of course you could lose in cases
where adding some method makes it suddenly impossible to do less than
full flavor hair, but if you kept around backpointers, the lossage
would be restricted to waiting for some stuff to recompile and losing
old instances, both of which can happen (in less severe cases)
already.

In general, there are more methods per flavor than flavors per method.
This suggests that paging behavior could be improved if you associated
the hashtable with the message rather than with the instance.
26-Nov-82 18:20:53-EST,646;000000000000
Mail-From: PGS created at 26-Nov-82 15:59:50
Date: Friday, 26 November 1982  15:59-EST
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   info-lispm at MIT-OZ
Subject: CADR-19 moves

CADR-19 has moved to the third floor machine room.  The console remains in
301.  User will be amazed at the improvement in video quality.

If you should happen to need a dozen foot-long vitreous enamelled resistors,
or a 1000-watt light bulb, or two patches of fungus (or some crystalline
product of corrosion) in green and red, each about two feet across, or a
rotary pump that is not currently in use, look under the floor where CADR-19
used to be.
26-Nov-82 19:14:30-EST,501;000000000000
Date: Friday, 26 November 1982, 19:10-EST
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: Hdt at MIT-OZ, BUG-lispm at MIT-OZ
In-reply-to: The message of 25 Nov 82 14:44-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Thursday, 25 November 1982, 14:44-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>
    Extra bonus: while trying to make that correction, I con an error
    in the rubout handler that the argument to copy-array-leader ...

This has been fixed in 218+ for some time.
26-Nov-82 20:15:09-EST,1271;000000000000
Date: Friday, 26 November 1982, 20:08-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
Subject: Let's use them undefined keys up!
To: BUG-zwei at MIT-EECS, bug-lispm at MIT-OZ, info-lispm at MIT-OZ

In zwei in Experimental System 218.157, Zmail 65.41, LMFS 28.38,
Tape 11.3, LGP 20.4, microcode 963, site configuration 27, JSMiller, on Lisp Machine Two:

I realize that the <Delete> key does not normally do anything anywhere,
but perhaps some reasonable things could be done with when in ZWEI or
in the rubout handler.   Its not immediately clear (to me) what the right
thing is, but delete wiping out the last character in ZWEI and the input
buffer in the rubout handler even thought that's not compatable.

Anyone want to put in there two bits as to what this key should do?

What do people think that the <Quote> key should do in general
and in ZWEI?  I think it would be nice if all the keys which 
aren't defined do something, as it seems that for most of them
there's a reasonable thing for them to do.  Saving them for
a "great idea later to come" isn't a valid argument, for if
a much better use for them to be used for them is found, 
then that will be used if its really so much better.

Ok, everybody start flaming, but not all at once.
26-Nov-82 20:29:34-EST,910;000000000000
Date: Friday, 26 November 1982, 20:23-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: SET-CURRENT-BAND
To: Margolin at MIT-Multics
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 6 Nov 82 00:21-EST from Margolin at MIT-Multics

    Date: Saturday, 6 November 1982, 00:21-EST
    From: Margolin at MIT-Multics
    In Remote-File 14.0, Experimental LMFILE-Remote 18.1, MIT-Specific 10.0,
    System 87.63, ZMail 46.10, microcode 187, Try Me!, on Marvin:

    For some reason, SET-CURRENT-BAND wants me to login first.  This is
    silly, since the reason I am doing SET-CURRENT-BAND is so I can reboot
    the machine immediately afterwards.  I would be running a different band
    now, except that I wanted the right information to show up in the header
    of this message.
This is because the people at EE have installed a kludge to record who
sets the bands on their machines.
27-Nov-82 00:32:45-EST,578;000000000000
Mail-From: RG.JMTURN created at 27-Nov-82 00:30:40
Date: Saturday, 27 November 1982  00:30-EST
Sender: RG.JMTURN at MIT-OZ
From: RG.JMTURN at MIT-MC
To:   Howard D. Trachtman <Hdt at MIT-OZ>
Cc:   bug-lispm at MIT-OZ, BUG-zwei at MIT-EECS
Subject: Let's use them undefined keys up!
In-reply-to: The message of 26 Nov 1982 20:08-EST from Howard D. Trachtman <Hdt>

The quote key sounds like an excellent place to install control-q.
As for DELETE, perhaps it could be made synonymous with rubout, for people
used to the erase key being on the other side.

				James
27-Nov-82 03:24:12-EST,1308;000000000000
Mail-From: HDT created at 27-Nov-82 03:20:40
Date: 27 November 1982  03:20-EST (Saturday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   RG.JMTURN at MIT-MC
Cc:   info-lispm at MIT-OZ, BUG-zwei at MIT-EECS
Subject: Let's use them undefined keys up!
In-reply-to: The message of 27 Nov 1982  00:30-EST from RG.JMTURN at MIT-MC

    Date: Saturday, 27 November 1982  00:30-EST
    From: RG.JMTURN at MIT-MC
    To:   Howard D. Trachtman <Hdt at MIT-OZ>
    cc:   bug-lispm at MIT-OZ, BUG-zwei at MIT-EECS
    Re:   Let's use them undefined keys up!

    The quote key sounds like an excellent place to install control-q.
    As for DELETE, perhaps it could be made synonymous with rubout, for people
    used to the erase key being on the other side.

    				James

Great for ZWEI, but what should they do elsewhere?  It probably 
would be a win for quote in an input stream to insert the next 
character into the buffer, with all of its bucky bits.  That's
the same thing in zwei, except that it doesn't exactly do
a control-q.  

Now I suppose that Macro in ZWEI should do a ^X ( if you
are not typing in a kbd-macro and ^X ) if you are.
I suppose if you're in a macro already you could type
control-macro to recursively define a kbd-macro.

Commnets?
27-Nov-82 03:49:24-EST,553;000000000000
Mail-From: KMP created at 27-Nov-82 03:48:37
Date: 27 Nov 1982 0348-EST
From: KMP at MIT-OZ
Subject: Random key assignments
To: hdt at MIT-OZ, rg.jmturn at MIT-OZ
cc: bug-lispm at MIT-OZ, bug-zwei at MIT-OZ

(1) This discussion is exceedingly random. I do not think it is a good idea
    to go around trying to invent functionality for keys. There are much 
    better ways that you could spend your time.
(2) INFO-LISPM is not an appropriate discussion forum. I don't want this 
    kind of silliness cluttering my mailbox.
--kmp
-------
27-Nov-82 04:09:06-EST,2089;000000000000
Mail-From: HDT created at 27-Nov-82 04:04:04
Date: 27 November 1982  04:04-EST (Saturday)
Sender: HDT at MIT-OZ
From: Howard D. Trachtman <HDT at MIT-MC>
To:   KMP at MIT-OZ
Cc:   bug-lispm at MIT-OZ, bug-zwei at MIT-OZ
Subject: Random key assignments
In-reply-to: The message of 27 Nov 1982  03:48-EST from KMP at MIT-OZ

    Date: Saturday, 27 November 1982  03:48-EST
    From: KMP at MIT-OZ
    To:   hdt at MIT-OZ, rg.jmturn at MIT-OZ
    cc:   bug-lispm at MIT-OZ, bug-zwei at MIT-OZ
    Re:   Random key assignments

    (1) This discussion is exceedingly random. I do not think it is a good idea
        to go around trying to invent functionality for keys. There are much 
        better ways that you could spend your time.
    (2) INFO-LISPM is not an appropriate discussion forum. I don't want this 
        kind of silliness cluttering my mailbox.
    --kmp

1)  Maybe its random, but the keys must have been put on the lisp machine
for nothing.  Someone must have thought of something to use them for.
If its since been decided that those reasons are bad, then I'd be
interesting in knowing what those reasons are.   If you never use those
keys now (and I kinda doubt that you do), I don't see anything wrong
with making them do something, also long as it can't screw you.
I appreciate your concern for thinking that I'm wasting my time.
I think thinking is frequently more useful than doing for me, as
others seem to be able to DO better.

2)  I'm sorry if its not, but I remember  being told (cent, rms?) that 
info-lispm was where you ask people about what they think about making
some (perhaps major) change.  [Like terminal-v]  If I'm wrong, I'd like to know
what list is, as unfortunately there is no way to send mail to something
like bug-lispm, NOT-KMP (obviously not a good syntax for something like
that, but if there was, I would have done so on the next message.
I apologize to you and any others who don't want my mail in their
mailbox for this and the next message.  Why don't you write a filter
to ignore mail from me?
27-Nov-82 06:03:32-EST,1522;000000000000
Date: Saturday, 27 November 1982, 05:56-EST
From: Howard D. Trachtman <Hdt at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, JSMiller, on Lisp Machine Two:

I really like it how some of the process wait messages tell me
what machine its connecting to.  He's one example you missed.
I've noticed others, but I hesitate to find a message about each
one, if you really care, hit break when you see an example yourself.

>>Break: 
While in the function PROCESS-WAIT  CHAOS:WAIT  (METHOD FS:HOST-UNIT NEW-DATA-CONNECTION)



PROCESS-WAIT: (P.C. = 66)
 Arg 0 (WHOSTATE): "Net Wait"
 Arg 1 (FUNCTION): #<DTP-FEF-POINTER (INTERNAL CHAOS:WAIT 0.) 11562137>
 Rest arg (ARGUMENTS): (#<CHAOS Connection for O2268 to CHAOS|0 27661177> CHAOS:LISTENING-STATE 6627210. 1800.)
 Local 1 (STATE): 7.


PROCESS-WAIT:  (P.C. = 66)
   Arg 0 (WHOSTATE): "Net Wait"
   Arg 1 (FUNCTION): #<DTP-FEF-POINTER (INTERNAL CHAOS:WAIT 0.) 11562137>
   Rest arg (ARGUMENTS): (#<CHAOS Connection for O2268 to CHAOS|0 27661177> CHAOS:LISTENING-STATE 6627210. 1800.)

CHAOS:WAIT:  (P.C. = 72)
   Arg 0 (CONN): #<CHAOS Connection for O2268 to CHAOS|0 27661177>
   Arg 1 (STATE): CHAOS:LISTENING-STATE
   Arg 2 (TIMEOUT): 1800.
   --Defaulted args:--
   Arg 3 (WHOSTATE): "Net Wait"

(METHOD FS:HOST-UNIT NEW-DATA-CONNECTION):  (P.C. = 161)
   (SELF = #<HOST-UNIT 1632005>)
   Arg 0 (OPERATION): NEW-DATA-CONNECTION
27-Nov-82 11:57:32-EST,656;000000000000
Mail-From: BATALI created at 27-Nov-82 11:52:47
Date: Saturday, 27 November 1982  11:52-EST
Sender: BATALI at MIT-OZ
From: BATALI at MIT-MC
To:   Howard D. Trachtman <HDT at MIT-OZ>
Cc:   bug-lispm at MIT-OZ, bug-zwei at MIT-OZ, KMP at MIT-OZ
Subject: Random key assignments
In-reply-to: The message of 27 Nov 1982  04:04-EST () from Howard D. Trachtman <HDT>


    Date: 27 November 1982  04:04-EST (Saturday)
    From: Howard D. Trachtman <HDT>
    To:   KMP
    cc:   bug-lispm, bug-zwei
    Re:   Random key assignments
 ... Why don't you write a filter
    to ignore mail from me?

This sounds like a good assignment for HAND-DOWN.
27-Nov-82 12:12:23-EST,490;000000000000
Date: 27 November 1982 11:59-EST
From: Zigurd R. Mednieks <ZRM at MIT-MC>
Subject:  Let's use them undefined keys up!
To: Hdt at MIT-OZ
cc: BUG-zwei at MIT-EECS, bug-lispm at MIT-OZ

"Delete" is the mnemonic for cntl-D in emacs, and it would make sense
for the delete key to perform the same function. The quote key should
quote the next character.

However, I'm sure every heavy user of lispms has his own bindings.
Expect much bitching no matter what is done.

Cheers,
Zig
27-Nov-82 15:47:08-EST,824;000000000000
Date: Saturday, 27 November 1982  15:26-EST
From: MOON at SCRC-TENEX
To:   Howard D. Trachtman <Hdt at MIT-OZ>
Cc:   BUG-LISPM at MIT-EECS
Subject: CHAOS:WAIT who-line state
In-reply-to: The message of 27 Nov 1982 05:56-EST from Howard D. Trachtman <Hdt at MIT-OZ>

    Date: Saturday, 27 November 1982, 05:56-EST
    From: Howard D. Trachtman <Hdt at MIT-OZ>

    I really like it how some of the process wait messages tell me
    what machine its connecting to.  He's one example you missed.
     CHAOS:WAIT  (METHOD FS:HOST-UNIT NEW-DATA-CONNECTION)

That's because, believe it or not, it's not waiting for any particular host.
It's in a "listen" state for an incoming connection from any host, as far
as the NCP itself is concerned.  Of course the file protocol will lose if
the wrong host connects.
28-Nov-82 01:33:38-EST,4723;000000000000
Date: 28 November 1982 01:28-EST
From: Pandora B. Berman <CENT at MIT-ML>
Subject: Random key assignments (long)
To: HDT at MIT-MC
cc: bug-lispm at MIT-OZ

    Date: 27 November 1982  04:04-EST (Saturday)
    From: Howard D. Trachtman <HDT at MIT-MC>
    To:   KMP at MIT-OZ
    Cc:   bug-lispm at MIT-OZ, bug-zwei at MIT-OZ
    Subject: Random key assignments

	Date: Saturday, 27 November 1982  03:48-EST
	From: KMP at MIT-OZ
	To:   hdt at MIT-OZ, rg.jmturn at MIT-OZ
	cc:   bug-lispm at MIT-OZ, bug-zwei at MIT-OZ
	Re:   Random key assignments

	(1) This discussion is exceedingly random. I do not think it is a
	good idea to go around trying to invent functionality for keys.
	There are much better ways that you could spend your time.
    1) Maybe its random, but the keys must have been put on the lisp
    machine for nothing.  Someone must have thought of something to use
    them for.  If its since been decided that those reasons are bad, then
    I'd be interesting in knowing what those reasons are.  If you never use
    those keys now (and I kinda doubt that you do), I don't see anything
    wrong with making them do something, also long as it can't screw you.
    I appreciate your concern for thinking that I'm wasting my time.  I
    think thinking is frequently more useful than doing for me, as others
    seem to be able to DO better.

JLK put everything he could think of on the space cadet kbds (why do you
think they are called that?). i believe his intention was to provide extra
keys for the future, so when people would think of a new functionality that
would be convenient to have on one key, they wouldn't have to displace
something already there. for instance, the daedalus/dpl system uses the
super and hyper keys like anything; these didn't have anything special
attached to them when that system was written.  this does NOT mean that
dreaming up new random uses for these undefined keys would be a productive
use of your time. and as someone else has pointed out, adding lispm system
definitions for previously undefined keys must be done with care; users
may have already decided to bind those keys to private functions, may
not want to use the new lispm system definition, and may resent having to
rewrite their code to get around this.

	(2) INFO-LISPM is not an appropriate discussion forum. I don't want
	this kind of silliness cluttering my mailbox.
    2) I'm sorry if its not, but I remember being told (cent, rms?) that
    info-lispm was where you ask people about what they think about making
    some (perhaps major) change.  [Like terminal-v] If I'm wrong, I'd like
    to know what list is, as unfortunately there is no way to send mail to
    something like bug-lispm, NOT-KMP (obviously not a good syntax for
    something like that, but if there was, I would have done so on the next
    message.

the list to send random ideas for changes is BUG-LISPM. INFO-LISPM should
be used for user surveys only after all the bugs have been beaten out of
the idea in discussions on BUG-LISPM. e.g., if you had proposed putting the
ORDER-PIZZA function on the <QUOTE> key, had sent mail to BUG-LISPM
suggesting it, had through the superior logic of your position persuaded
the other lispm system people that it might be a good idea (via discussion
on BUG-LISPM), and had come up with an implementation (possibly as part of
your personal environment, for testing), THEN you might be justified in
sending a brief survey to INFO-LISPM, of the form "we are thinking of
installing the ORDER-PIZZA function on the <QUOTE> key.  if this will
greatly inconvenience you, or if you have any other comments please reply
to BUG-LISPM." not a rambling long half-formed idea, and additionally, you
shouldn't send out a survey on INFO-LISPM unless the change is a major one
and likely to interfere with the way many users are doing things -- if the
ORDER-PIZZA idea had come from several users sending mail to BUG-LISPM
asking for it, a survey on INFO-LISPM is probably not in order.

i don't know whether KMP is on BUG-LISPM (he probably is), but i think his
objections to your mail as trash was more that it was sent to INFO-LISPM
(the wrong list of the two) than that it was sent at all. sending to
INFO-LISPM means that lots of people, who only want to keep up with the
new system announcements (the major purpose of INFO-LISPM) had to read 
another piece of what to them was junk mail.

    I apologize to you and any others who don't want my mail in their
    mailbox for this and the next message.  Why don't you write a filter to
    ignore mail from me?
why don't you be more careful about sending mail? 
28-Nov-82 02:28:35-EST,1726;000000000000
Date: Sunday, 28 November 1982, 01:23-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Silly Putty
To: Kent M. Pitman <kmp at MIT-MC>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 10 Nov 82 06:55-EST from Kent M. Pitman <kmp at MIT-MC>

    Date: Wednesday, 10 November 1982, 06:55-EST
    From: Kent M. Pitman <kmp at MIT-MC>
    In System 210.126, ... on Lisp Machine Apiary-2:

    I just got the well-known Zwei silliness where I had visited a file
    OZ:PS:<KBE.SOURCE>NZWEI.LISP and tried to save the file which failed
    in some way that made it believe the file no longer existed. So c-X c-S
    prompted me saying that the default was
    OZ:PS:<KBE.SOURCE>NZWEI.LISP PS:<KBE.SOURCE> OZ:.LISP
    or something equally silly because it tried to use the buffer name
    as a default fn1. There is really no excuse for this. ZWEI should just
    keep track of which buffer names were created as "text names" and which
    are really "text representations of pathnames". Any time it tries to default
    from the former, it should fill it in as an fn1, but any time it tries to
    default from the latter, it should call the filename parser on it. so that
    it can get a reasonable default. Whether it thinks this is now a non-existent
    or inaccessible file should not affect whether it thinks the name itself
    is already a full filespec.
Not only have Zmacs buffers completely changed enough in
release 4 to make it unlikely that this bug has survived,
but pathnames also will not allow this kind of silliness
if it means creating an illegal pathname.

Plus, when Zmacs generates pathname defaults from a buffer name,
it does so by parsing the buffer name.
28-Nov-82 15:57:02-EST,997;000000000000
Date: Sunday, 28 November 1982, 15:49-EST
From: Ken Haase <KwH at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, Experimental Hecate 6.2, microcode 963, site configuration 28,
FPS, on Lisp Machine Six:

Sectionizing, when trying to intern #.TABLE, tries to evaluate TABLE, and
errs with TABLE being undefined.  This seems like the wrong thing.
Precisely, the form:

(DEFFRAME #.TABLE ()
  (WHEN (PROTECTED #.TABLE)
    (CLOBBER (PROTECTED #.TABLE))))

causes ZWEI to barf on reading.  Apparently, it tried to intern #.TABLE
to store be able to tell where it came from in the future.
Unfortunately, in interning, it tried to EVAL TABLE, breaking.  #.ing
should probably be turned off inside of sectionizing to prevent such
screws in the middle of reading files.  (Or better yet, LISP errors
inside of sectionizing should give up sectionizing (either over the
whole file or just a segment, if possible)

Ken
28-Nov-82 16:17:26-EST,430;000000000000
Date: Sunday, 28 November 1982, 16:14-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, needs new site info, on Lisp Machine Twenty-two:

I lost because as I was compiling in a lisp, I tried to send mail from 
zmacs, and zmacs-draft-message decided it was time to recompile some
method.
28-Nov-82 16:51:22-EST,525;000000000000
Date: Sunday, 28 November 1982, 16:48-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, needs new site info, on Lisp Machine Twenty-two:

(defflavor cm-cons (car cdr) nil
  :gettable-instance-variables)
 
(defmethod (cm-cons :print-self) (stream ignore ignore)
  (format stream "{~s . ~s}" car cdr))

(make-instance 'cm-cons)

gets recursive instance variable unbound errors.
28-Nov-82 16:52:27-EST,896;000000000000
Date: Sunday, 28 November 1982, 16:47-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: compilation during c-M
To: Zvona at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 28 Nov 82 16:14-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 28 November 1982, 16:14-EST
    From: David Chapman <Zvona at MIT-OZ>
    I lost because as I was compiling in a lisp, I tried to send mail from 
    zmacs, and zmacs-draft-message decided it was time to recompile some
    method.
Yeah, this is a known problem with 218: lots of compilations are missing.
DLA says he will make the compiler "recursive" so that this won't lose,
as a long-term solution (the L-machine compiler already doesn't have this
problem).  In the short term, we are being much more careful about making
sure these things are compiled in advance, for System 222, which we'll get
to you shortly.
28-Nov-82 17:19:32-EST,361;000000000000
Date: Sunday, 28 November 1982, 17:13-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-OZ

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, needs new site info, 
on Lisp Machine Twenty-two:

Mapping functions aren't open coded (when compiled from the editor, at
least).
28-Nov-82 18:51:00-EST,2885;000000000000
Date: Sunday, 28 November 1982, 18:43-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, needs new site info, on Lisp Machine Twenty-two:

Converse got an error while I was in the editor.  The error was
``connection does not exist at this end'' for the send connection.  I've
gotten that before -- and the send is lost.  Anyway, I saw that by
terminal 0 s, and so I did c-M, which threw me into the cold load stream:

>>Error: Attempt to expose #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed> outside of its superior
While in the function APPLY  (:METHOD TV:SHEET :WHOPPER :EXPOSE)  (:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE)  (:METHOD TV:BASIC-TYPEOUT-WINDOW :EXPOSE-FOR-TYPEOUT)



(:METHOD TV:SHEET :WHOPPER :EXPOSE): (P.C. = 262)
 (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
 Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (:INTERNAL (:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE) 0) 7600202>
 Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS -- 0. IV's, 15. FL's 14703326>
 Arg 2 (SELF-MAPPING-TABLE): TV:SHEET
 Arg 3 (.OPERATION.): :EXPOSE
 Arg 4 (TURN-ON-BLINKERS): NIL
 Arg 5 (BITS-ACTION): :NOOP
   --Defaulted args:--
 Arg 6 (X): 3
 Arg 7 (Y): 2
 Local 0 (*SHEETS-MADE-INVISIBLE-TO-MOUSE*): NIL
 Local 1 (VAL1): NIL
 Local 2 (VAL2): NIL
 Local 3 (VAL3): NIL
 Local 4 (.QUEUE-LEFT.): T
 Local 5 (DONE): NIL
 Local 6 (ERROR): (NIL "Attempt to expose ~S outside of its superior" #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
 Local 7: NIL
 Local 8 (SHEET): NIL
 Local 9 (E): NIL


(:METHOD TV:SHEET :WHOPPER :EXPOSE):  (P.C. = 262)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (:INTERNAL (:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE) 0) 7600202>
   Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS -- 0. IV's, 15. FL's 14703326>
   Arg 2 (SELF-MAPPING-TABLE): TV:SHEET
   Arg 3 (.OPERATION.): :EXPOSE
   Arg 4 (TURN-ON-BLINKERS): NIL
   Arg 5 (BITS-ACTION): :NOOP
   --Defaulted args:--
   Arg 6 (X): 3
   Arg 7 (Y): 2

(:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :EXPOSE):  (P.C. = 52)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Rest arg (.DAEMON-CALLER-ARGS.): (:EXPOSE NIL :NOOP)

(:METHOD TV:BASIC-TYPEOUT-WINDOW :EXPOSE-FOR-TYPEOUT):  (P.C. = 52)
   (SELF = #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 12 17520054 deexposed>)
   Arg 0 (OPERATION): :EXPOSE-FOR-TYPEOUT
28-Nov-82 19:31:18-EST,396;000000000000
Date: Sunday, 28 November 1982, 19:23-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, needs new site info, on Lisp Machine Twenty-two:

It would be useful if (breakon) told you what functions were broken on,
the way (trace) tells you what is traced.
28-Nov-82 20:07:14-EST,667;000000000000
Date: Sunday, 28 November 1982, 19:58-EST
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-EECS

In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 28, needs new site info, on Lisp Machine Twenty-two:

procede type A for quota exceeded error, ``retry this file operation'',
has a misleading name.  It suggests that you are going to retry writing
the file from the beginning.  A better name would be ``continue writing
file'', although I guess that isn't perfect either.

If I had my choice of one feature to add to the rubout handler, it would
be m-- m-C (by analogy with m-- m-y).
28-Nov-82 20:27:19-EST,1582;000000000000
Date: Sunday, 28 November 1982, 20:21-EST
From: Vinayak Wallace <Gumby at MIT-OZ>
Subject: weirdness
To: bug-lispm at MIT-OZ

(System 89.41)

This is actually three bugs.

The following message appeared in my mailbox (I've deleted the
irrelevent parts):

<the top of the message is normal>
.
.
.
I didnt get round to setting up the holocaust yet. The file listing
potential flushees will be genertaed towards the end of this week.
28-Nov-82 19:56:53-EST,5603;000000000000
Date: Sunday, 28 November 1982, 19:53-EST
From: Vinayak Wallace <Gumby at MIT-OZ>
Subject: The changing face of Micro-computing...
To: 
"William /"Chops/" Westfield"  <BillW at Sri-Kl>
Cc: human-nets at Mit-Mc,
    info-micro at brl,
    gumby at MIT-OZ

    From:  William "Chops" Westfield

.
.
.
<the rest of the concatenated message>

The first problem is that ZMAIL read the two messages as one.

The second problem is the crap in the header of the second message. It
was sent with the ZMAIL "reply" command. I edited the header to add the
string ", info-micro@brl" to the end of the line with "info-micro" in
it. My init also specifies a default-cc-list of "gumby" (no host). So I
guess the header parsing code did this. I hope it gets through.

The third problem is that there should have been a blank line between
the text of the message (beginning with the indented line "From: ..."
and the header. I have no control over this blank line; the headers and
text are in seperate buffers.

I hope this gets through. I'm sending it with ZMAIL too!

david
28-Nov-82 20:44:25-EST,759;000000000000
Date: Sunday, 28 November 1982, 20:42-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
ZMail 47.13, microcode 183, lsb, on Lisp Machine Nineteen:

I'm going to keep complaining about this until someone fixes it or tells me why
it can't be fixed.  I have complained about it twice to BUG-ZWEI and I haven't
gotten any responses, so I'm trying BUG-LISPM.

In Zwei, when I set my comment column in window A to something besides my
default comment column, if I visit window B where the comment column is
different, when I return to window A, my comment column has been reset to the
default.  This happens with fill columns, too.  Goddammit.  Goddammit.
29-Nov-82 02:52:20-EST,476;000000000000
Mail-From: KMP created at 29-Nov-82 02:48:32
Date: Monday, 29 November 1982  02:48-EST
Sender: KMP at MIT-OZ
From: KMP at MIT-MC
To:   BUG-LISPM at MIT-OZ
Subject: MAKE-SYN-STREAM

(MAKE-SYN-STREAM 'FOO) where FOO is an instance variable loses. Not that
I didn't expect it to. MAKE-SYN-STREAM should be allowed to take a locative
arg so that I can say (MAKE-SYN-STREAM (LOCF FOO)) and win. Allowing a 
locative arg would have other good applications as well. --kmp
29-Nov-82 03:59:17-EST,631;000000000000
Date: Monday, 29 November 1982, 03:57-EST
From:  <HANSON at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Experimental Remote-File 22.0, Experimental LMFILE-Remote 23.1,
Experimental MIT-Specific 16.0, Experimental System 91.4,
Experimental ZMail 48.1, Experimental Local-File 41.1, microcode 204,
LMFS 41, on Lisp Machine Eight:

After

(LOGIN 'HANSON)

I got the following error:

>>TRAP 3166 (FUNCTION-ENTRY)
Function FS:FILE-PROCESS-ERROR-NEW called with only 1 argument.

FS:LOGIN-HOST-UNIT ...

This is because my password is not "HANSON", and it tries that first,
then recovers by signalling an error condition.
29-Nov-82 06:49:14-EST,529;000000000000
Date: Monday, 29 November 1982, 06:44-EST
From: Eugene Ciccarelli <ECC at MIT-OZ>
Subject: Keyboard
To: BUG-LISPM at MIT-OZ

In LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45, ZMail 47.13,
Experimental Remote-File 20.0, Experimental Local-File 41.1,
microcode 183, LMFS 41.0, on Lisp Machine Six:

The left-hand Hyper key on this keyboard frequently fails to OR
in its bit.  If you type it consciously, determinedly, it does
work, but lots of times I type H-C-A or something, and just get
C-A.  (Or something.)
29-Nov-82 09:35:32-EST,674;000000000000
Date: Monday, 29 November 1982, 09:30-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: mapping functions
To: Zvona at MIT-OZ, BUG-lispm at MIT-OZ
In-reply-to: The message of 28 Nov 82 17:13-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 28 November 1982, 17:13-EST
    From: David Chapman <Zvona at MIT-OZ>
    To: BUG-lispm at MIT-OZ

    In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,
    LGP 20.4, microcode 963, site configuration 28, needs new site info, 
    on Lisp Machine Twenty-two:

    Mapping functions aren't open coded (when compiled from the editor, at
    least).
Works for me.  Test case, please?
29-Nov-82 09:43:19-EST,975;000000000000
Date: Monday, 29 November 1982, 09:32-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: converse problems
To: Zvona at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 28 Nov 82 18:43-EST from David Chapman <Zvona at MIT-OZ>

    Date: Sunday, 28 November 1982, 18:43-EST
    From: David Chapman <Zvona at MIT-OZ>
    In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,

    Converse got an error while I was in the editor.  
I'm not sure what you mean by that: were you in a breakpoint, were you
using Meta-Altmode, do you have a private m-X Qsend command?
						      The error was
    ``connection does not exist at this end'' for the send connection.  I've
    gotten that before -- and the send is lost.  
Have you tried looking for it in the Converse buffer?  I have not
seen this "connection does not exist" problem before (it never happens
to me); just out of curiosity, what were you sending to when you got
this?
29-Nov-82 09:53:30-EST,1129;000000000000
Date: Monday, 29 November 1982, 09:46-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Set Comment Column
To: PGS at MIT-OZ, BUG-LISPM at MIT-OZ
In-reply-to: The message of 28 Nov 82 20:42-EST from Patrick Sobalvarro <PGS at MIT-OZ>

    Date: Sunday, 28 November 1982, 20:42-EST
    From: Patrick Sobalvarro <PGS at MIT-OZ>
    In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
    ZMail 47.13, microcode 183, lsb, on Lisp Machine Nineteen:

    In Zwei, when I set my comment column in window A to something besides my
    default comment column, if I visit window B where the comment column is
    different, when I return to window A, my comment column has been reset to the
    default.  This happens with fill columns, too.  Goddammit.  Goddammit.

Are you sure this is what's happening?  I cannot reproduce the behavior
you describe, when trying it in System 222, but the actual behavior
seems to simply be that the Comment Column is a global mode; setting it
changes it for all windows and all buffers; it isn't per-anything.  Is
something different happening to you?
29-Nov-82 10:53:07-EST,373;000000000000
Date: Monday, 29 November 1982  10:46-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-EECS
Subject: converse problems
In-reply-to: The message of 29 Nov 1982 09:32-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

Um, I was GETTING the message, not sending it.  And it didn't show up
in Convers.
29-Nov-82 11:20:40-EST,1670;000000000000
Date: Monday, 29 November 1982  11:16-EST
Sender: DPH at MIT-OZ
From: DPH at MIT-MC
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-EECS, Zvona at MIT-OZ
Subject: converse problems
In-reply-to: The message of 29 Nov 1982 09:32-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 29 November 1982, 09:32-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    To:   Zvona, BUG-LISPM at MIT-EECS
    Re:   converse problems

        Date: Sunday, 28 November 1982, 18:43-EST
        From: David Chapman <Zvona at MIT-OZ>
        In Experimental System 218.157, Zmail 65.41, LMFS 28.38, Tape 11.3,

        Converse got an error while I was in the editor.  
    I'm not sure what you mean by that: were you in a breakpoint, were you
    using Meta-Altmode, do you have a private m-X Qsend command?
    						      The error was
        ``connection does not exist at this end'' for the send connection.  I've
        gotten that before -- and the send is lost.  
    Have you tried looking for it in the Converse buffer?  I have not
    seen this "connection does not exist" problem before (it never happens
    to me); just out of curiosity, what were you sending to when you got
    this?

This has happened to me as well, but since it's not reproducible I
couldn't produce a very coherent bug message.  The only bits that I
can add are that it seems to happen when someone on a 20x tries
sending you a message (which is probably why you haven't seen it).
The message never makes it into your converse buffer.  Whether you are
in the editor or not is irrelevant.  It happens from 20s other than oz
too.
29-Nov-82 12:17:06-EST,272;000000000000
Date: Monday, 29 November 1982, 12:12-EST
From: David Chapman <Zvona at MIT-OZ>
Subject: typecase
To: bug-lispm at MIT-OZ

Doesn't hack (t ...) compatibly with selectq et al.  There is an
argument that selectq shouldn't do this either, but that is not the
point. 
29-Nov-82 14:53:18-EST,850;000000000000
Date: Monday, 29 November 1982, 14:40-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: converse problems
To: ZVONA at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 29 Nov 82 10:46-EST from ZVONA at MIT-MC

    Date: Monday, 29 November 1982  10:46-EST
    From: ZVONA at MIT-MC
    Um, I was GETTING the message, not sending it.
OH.  Why dincha say so?  Well, what happened, apparently, is that the foreign
host connected to your machine, started sending a message, and then dropped
the connection.  I guess Converse should just condition-case these errors and
make the whole transaction invisible to you unless it completes successfully.
If this happens again, try to find the person who was sending you the message
and see what program he or she was running, and what that program said, if you
can.  Thanks.
29-Nov-82 14:58:07-EST,1233;000000000000
Date: Monday, 29 November 1982  14:52-EST
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-MC
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-EECS
Subject: converse problems
In-reply-to: The message of 29 Nov 1982 14:40-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 29 November 1982, 14:40-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    To:   ZVONA
    cc:   BUG-LISPM at MIT-EECS
    Re:   converse problems

        Date: Monday, 29 November 1982  10:46-EST
        From: ZVONA at MIT-MC
        Um, I was GETTING the message, not sending it.

    OH.  Why dincha say so?  Well, what happened, apparently, is that
    the foreign host connected to your machine, started sending a
    message, and then dropped the connection.  I guess Converse should
    just condition-case these errors and make the whole transaction
    invisible to you unless it completes successfully.  If this
    happens again, try to find the person who was sending you the
    message and see what program he or she was running, and what that
    program said, if you can.  Thanks.

Well, she was running SEND, and it claimed it had successfully sent
the message.  Should I bug Gren?
29-Nov-82 14:59:00-EST,1157;000000000000
Mail-From: PGS created at 29-Nov-82 14:55:07
Date: Monday, 29 November 1982  14:55-EST
Sender: PGS at MIT-OZ
From: PGS at MIT-MC
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ
Subject: Set Comment Column
In-reply-to: The message of 29 Nov 1982 09:46-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Monday, 29 November 1982, 09:46-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>

    Are you sure this is what's happening?  I cannot reproduce the behavior
    you describe, when trying it in System 222, but the actual behavior
    seems to simply be that the Comment Column is a global mode; setting it
    changes it for all windows and all buffers; it isn't per-anything.  Is
    something different happening to you?

I don't deny that this may be what is wrong, but what would cause it to be
reset when going to another window?  If Comment Column were simply global,
then setting it in window A would change it in window B.  It wouldn't cause
going to window B and then back to window A to change Comment Column to
something different than what it was originally, which is what happens to me.
29-Nov-82 15:28:05-EST,784;000000000000
Date: Monday, 29 November 1982, 15:07-EST
From: Gregor J. Kiczales <Gregor at MIT-MC>
To: BUG-LISPM at MIT-MC

In Experimental System 218.154, Zmail 65.41, LMFS 28.38, Tape 11.3,
LGP 20.4, microcode 963, site configuration 27, on Lisp Machine Twenty:

In ZWEI, the secitonization code doesn't like it when I define a macro
called defmethods. The problem is that zwei:symbol-from-string thinks
that any line that starts with "(DEFMETHOD" must be a defmethod, I guess
it should really check:

				((OR (%STRING-EQUAL LINE 0 "(DEFMETHOD " 0 13)
				     (%STRING-EQUAL LINE 0 "(DEFMETHOD(" 0 13))
				 ':ALWAYS-METHOD)

instead of:

				((%STRING-EQUAL LINE 0 "(DEFMETHOD" 0 12)
				 ':ALWAYS-METHOD)

I know this isn't right, but it is simple and works (I think).
29-Nov-82 15:29:53-EST,1615;000000000000
Date: 29 Nov 1982 1521-EST
From: Ed Barton <EB at MIT-OZ>
Subject: Re: converse problems
To: ZVONA at MIT-MC
cc: dlw at SCRC-TENEX, BUG-LISPM at MIT-EECS, bug-send at MIT-OZ
In-Reply-To: Your message of 29-Nov-82 1457-EST

    Date: Monday, 29 November 1982  14:52-EST
    Sender: ZVONA at MIT-OZ
    From: ZVONA at MIT-MC
    To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
    Cc:   BUG-LISPM at MIT-EECS
    Subject: converse problems
	Date: Monday, 29 November 1982, 14:40-EST
	From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	To:   ZVONA
	cc:   BUG-LISPM at MIT-EECS
	Re:   converse problems
	    Date: Monday, 29 November 1982  10:46-EST
	    From: ZVONA at MIT-MC
	    Um, I was GETTING the message, not sending it.
	OH.  Why dincha say so?  Well, what happened, apparently, is that
	the foreign host connected to your machine, started sending a
	message, and then dropped the connection.  I guess Converse should
	just condition-case these errors and make the whole transaction
	invisible to you unless it completes successfully.  If this
	happens again, try to find the person who was sending you the
	message and see what program he or she was running, and what that
	program said, if you can.  Thanks.
    Well, she was running SEND, and it claimed it had successfully sent
    the message.  Should I bug Gren?

The same thing has happened to me a lot.  In the cases where I was
able to find out who sent me something, SEND claimed to have sent the
message.  This has also happened with SEND from EE to OZ where no
Lispm is involved, so I suspect that SEND is buggy.
-------
29-Nov-82 16:33:17-EST,999;000000000000
Date: Monday, 29 November 1982  16:21-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   bug-lispm at MIT-OZ
Subject: typecase
In-reply-to: The message of 29 Nov 1982 12:12-EST from David Chapman <Zvona at MIT-OZ>

    Date: Monday, 29 November 1982, 12:12-EST
    From: David Chapman <Zvona at MIT-OZ>

    Doesn't hack (t ...) compatibly with selectq et al.  There is an
    argument that selectq shouldn't do this either, but that is not the
    point. 
Since this is a Common Lisp function and it says in the Common Lisp manual
that T is equivalent to OTHERWISE in TYPECASE, I guess we have to change it.
The fix will not make it into Release 4, however.

On the other hand, the reason T is equivalent to OTHERWISE is because in
Common Lisp T is the universal type that includes all objects.  On the third
hand, the CASE construct in Common Lisp explicltly allows T as a synonym for
OTHERWISE.  Personally I think using T this way is utterly mindless.
29-Nov-82 17:08:22-EST,556;000000000000
Date: Monday, 29 November 1982, 16:53-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Gregor at MIT-MC
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 29 Nov 82 15:07-EST from Gregor J. Kiczales <Gregor at MIT-MC>

    Date: Monday, 29 November 1982, 15:07-EST
    From: Gregor J. Kiczales <Gregor at MIT-MC>
    In ZWEI, the secitonization code doesn't like it when I define a macro
    called defmethods. The problem is that zwei:symbol-from-string thinks
    that any line that starts with "(DEFMETHOD" must be a defmethod
Fixed in 222.
29-Nov-82 18:21:10-EST,1395;000000000000
Date: Monday, 29 November 1982, 18:14-EST
From: Robert P. Krajewski <RPK at MIT-OZ>
Subject: Renaming files
To: BUG-LISPM at MIT-OZ, BUG-FILE at MIT-OZ
Fcc: OZ:PS:<RPK.MAIL>CC.XMAIL

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
ZMail 47.13, microcode 187, Hit me, on Marvin:

This has only happened to me in ZMail, but I don't think that this is a ZMail
bug.  After selecting one of my BABYL files from the directory <RPK.MAIL>, I
mouse ``Get New Mail'' to read in the new mail box (which is a Tenex format
file, also in the directory <RPK.MAIL>).  This command is supposed to open
the file (assuming I have new mail) and rename it to something else (the type
is _ZMAIL_TXT) before actually reading it in.  The whostate changes as
follows:

   <Mouse ``Get New Mail''>
	Open
	Run
	Open
	Run
	Open
	Run
	Rename
	Run

It is at this point that FS:FILE-WAIT-FOR-TRANSACTION will bomb out when
#<Chaos Connection to MIT-OZ FILE 1 254334> or whatever goes into an illegal
state.  Afterwards, the Lisp Machine must log a FILE job back into OZ if I
want to access files there.  This does not happen when I read my regular mail
file <RPK>RPK.BABYL which has <RPK>MAIL.TXT as the new mail box.

This has happened to me three times before.  I have not yet tried this with
any other Twenex FILE servers or with the Symbolics ZMail.

``Bob''
29-Nov-82 18:24:52-EST,998;000000000000
Date: Monday, 29 November 1982, 18:14-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-OZ, BUG-FILE-SERVER at MIT-OZ

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
ZMail 47.13, microcode 183, lsb, on Lisp Machine Nineteen:

I tried copying a file from Zwei by doing M-X Copy File.  The arguments I gave
were PGS.BABYL and BREAK.ZMAIL .  I got an error that said something like
I120 FNF No such generation number?
I imagine it was doing something stupid because the file BREAK.ZMAIL didn't
exist already.  The Lisp Machine and this file server seems to be conspiring to
keep people from getting work done.

I wanted to copy the file in the first place because my Babyl file seems to
have confused Zmail.  It does not divide it into messages; instead, it shows me
the whole thing.  If I move around, however, it redisplays and does the right
thing (move around here means type 5 spaces and 5 M-Vs).  The file is
OZ:PS:<PGS>BREAK.ZMAIL.
29-Nov-82 18:28:34-EST,496;000000000000
Date: Monday, 29 November 1982, 18:27-EST
From: Robert P. Krajewski <RPK at MIT-OZ>
Subject: Hostat
To: BUG-LISPM at MIT-OZ
Fcc: OZ:PS:<RPK.MAIL>CC.XMAIL

In Remote-File 19.1, LMFILE-Remote 21.2, MIT-Specific 14.0, System 89.45,
ZMail 47.13, microcode 187, Hit me, on Marvin:

Terminal-H causes the CHAOS background process to error out: Connection table
full.

Also, itwouldbeniceif the debugger could insert a stack backtrace into a bug
report (like those other guys).

``Bob''
29-Nov-82 18:47:03-EST,789;000000000000
Date: Monday, 29 November 1982, 18:48-EST
From: Patrick Sobalvarro <PGS at MIT-OZ>
Subject: help yourself!
To: info-lispm at MIT-OZ

Got a broken mouse?  A broken keyboard?  Don't tell us.  Get instant relief
instead.

If your mouse breaks, go to John Purbrick's office, room 908, and give it to
him and get a working one.  If he is not there (like in the middle of the
night), attach a note to the broken mouse describing the symptoms, leave it,
and take a working one.

If your keyboard breaks, go find Ron Wicken in the machine shop, room 916.
Ron is in in the daytime, from about 8:00am to about 4:00pm every day.  Give
him your broken keyboard and take a working one.  If it is not daytime when
your keyboard breaks, you'll have to make do until the daytime.  Sorry.
