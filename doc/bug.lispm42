 2-Jun-87 14:35:55-EDT,1917;000000000000
Return-Path: <MLY%AI.AI.MIT.EDU@XX.LCS.MIT.EDU>
Received: from XX.LCS.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Tue 2 Jun 87 14:35:49-EDT
Received: from TOHUTMOS-III.AI.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 2 Jun 87 13:49-EDT
Date: Tue, 2 Jun 87 13:49 EDT
From: Richard Mlynarik <MLY@AI.AI.MIT.EDU>
Subject: seems like genera 7.1 cannot find my handlers
To: toto@VERMITHRAX.SCH.Symbolics.COM,
    sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870602084948.9.TOTO@PUFF.SCH.Symbolics.COM>
Message-ID: <870602134909.3.MLY@TOHUTMOS-III.AI.MIT.EDU>

    Date: Tue, 2 Jun 87 08:49 PDT
    From: Kyra Lowther <toto@VERMITHRAX.SCH.Symbolics.COM>

    I mentioned these problems to the developers and they were curious
    whether there might be a handler-table update pending.  Are there any
    notifications pending?  What is the state of the updating process?  Did
    it get an error?

Huh?  After I reported this bug (which is trivial to reproduce in 7.1,
and not at all intermittent) 7thson@scrc said that it had been fixed `in
the development system,' but that extracting a patch for me might be
hard.  I don't have the message-id --- you should look though the
customer-reports archives if you're interested.

It sounded like a clear bug which had clearly been fix.  Perhaps you've
been talking to different people?  (Maybe news travels slowly to CA)

BTW, I don't know how to find out anything about the `updating process.'
Not having sources, it's hard to even figure out what that means.  Do
you mean the thing which displays a progress-note saying `Updating mouse
<foobar> in background'?  If so, I haven't seen that running when my
presentation-to-command-translators weren't being found; whether it
should be running or not is something I have little way of knowing.
 2-Jun-87 18:29:47-EDT,1424;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 2 Jun 87 18:29-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 42429; Tue 2-Jun-87 18:31:15 EDT
Date: Tue, 2 Jun 87 18:31 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Correct my confusion about defsetf
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870602183139.3.CJL@OTIS.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30124,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:

One would think that

(defsetf bar1 (x y) (z)
  `(list '(,x ,y) ,z))

and

(defsetf bar2 (x y) (z)
  `(list `(,,x ,,y) ,z))

do the same thing.

well

(setf (bar1 a b) c)

macroexpands to 

(progn b a (list '('#:g7436 '#:g7437) c))

and 

(setf (bar2 a b) c)

macroexpands to 

(list (list a b) c)

Why? I thought that both would expand to the latter expansion, not to some
form with gensyms in it.
 2-Jun-87 18:31:22-EDT,1472;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 2 Jun 87 18:31-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 42431; Tue 2-Jun-87 18:32:08 EDT
Date: Tue, 2 Jun 87 18:32 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Correct my confusion about defsetf
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Supersedes: <870602183139.3.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870602183238.4.CJL@OTIS.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30124,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:

One would think that

(defsetf bar1 (x y) (z)
  `(list '(,x ,y) ,z))

and

(defsetf bar2 (x y) (z)
  `(list `(,,x ,,y) ,z))

do the same thing.

well

(setf (bar1 a b) c)

macroexpands to 

(progn b a (list '(#:g7445 #:g7446) c))

and 

(setf (bar2 a b) c)

macroexpands to 

(list (list a b) c)

Why? I thought that both would expand to the latter expansion, not to some
form with gensyms in it.
 3-Jun-87 03:23:26-EDT,7786;000000000000
Received: from EDDIE.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 3 Jun 87 03:23-EDT
Received: by EDDIE.MIT.EDU with sendmail-5.31/4.7 
	id <AA13952@EDDIE.MIT.EDU>; Wed, 3 Jun 87 03:22:51 EDT
Received: by ATHENA (5.45/4.7)
	id AA16256; Wed, 3 Jun 87 03:25:55 EDT
Received: from PANDA.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 3702; Tue 2-Jun-87 18:46:07 EDT
Date: Tue, 2 Jun 87 18:46 EDT
From: Sean Tierney <sr.tierney%SPEECH.MIT.EDU@ATHENA.MIT.EDU>
Subject: seems like genera 7.1 cannot find my handlers
To: toto@VERMITHRAX.SCH.Symbolics.COM,
        sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
Cc: BUG-LISPM%OZ.AI.MIT.EDU@ATHENA.MIT.EDU,
        customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
        jrg%SPEECH.MIT.EDU@ATHENA.MIT.EDU
In-Reply-To: <870602084948.9.TOTO@PUFF.SCH.Symbolics.COM>
Message-Id: <870602184618.1.TIERNEY@PANDA.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:JESS :BOLD :LARGE) "JESS14B")
Fonts: CPTFONT, JESS14B

There were no notifications pending.  I don't think the handler table was
updating since, the run bar was not flashing.  There was no error, there
was just no indication (in the mouse documentation line for instance)
that my handler was defined. The presentation was not
highlighted, and there was no way to activate the handler with the mouse.




    Date: Tue, 2 Jun 87 08:49 PDT
    From: Kyra Lowther <toto@VERMITHRAX.SCH.Symbolics.COM>
    Subject: seems like genera 7.1 cannot find my handlers
    To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
    Cc: BUG-LISPM%OZ.AI.MIT.EDU@ATHENA.MIT.EDU,
	    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
    In-Reply-To: <870529172405.2.TIERNEY@KOALA.MIT.EDU>,
		 <870513122929.1.TIERNEY@GRIZZLY.MIT.EDU>,
		 <870512154314.3.TIERNEY@BOO-BOO.MIT.EDU>
    Message-Id: <870602084948.9.TOTO@PUFF.SCH.Symbolics.COM>
    Character-Type-Mappings: (1 0 (NIL 0) (:JESS :BOLD :LARGE) "JESS14B")
    Fonts: CPTFONT, JESS14B

    I mentioned these problems to the developers and they were curious
    whether there might be a handler-table update pending.  Are there any
    notifications pending?  What is the state of the updating process?  Did
    it get an error?

    - kyra

	Date: Fri, 29 May 87 17:24 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.2, IP-TCP 52.16,
	7-1-Patches 1.7, Speech Printers 2.0, SPIRE 18.3,
	Experimental SEARCH 4.13, Experimental 1Laminar0 4.2,
	Experimental APACHIE 1.8, microcode 3600-MIC 396, FEP 127,
	FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	World load FEP0:>Zoo-7-1-D-SEARCH.load.1, on Lisp Machine Koala (I hate Qantas):

	I tried to define the following

	(dw:define-presentation-to-command-translator describe-spectrum-peak
	    (dw:no-type :tester
	      ((ignore &key window) (typep window 'spectrum-window))
	      :gesture :middle
	      :blank-area nil)
	  ()
	  '(com-describe-spectrum-peak))

	While in the presentation inspector, I typed Show Handler Applicability
	LAMINAR::DESCRIBE-SPECTRUM-PEAK, the presentation inspector replied that
	the handler succeeded but was not found in any handler tables.

	I have run into this problem many times before, and have reported it
	already.  It seems that a good tool such as the mouse-handler facility
	is either poorly documented or downright broken.  I would very much
	appreciate a reply describing a fix or a workaround; these problems are
	severely impairing my productivity.

	Thank  you for your attention.

    - - - - - - - - -

	Date: Wed, 13 May 87 12:29 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.2, IP-TCP 52.16,
	7-1-Patches 1.10, Speech Printers 2.0, SPIRE 18.3,
	Experimental Perceptual Experiment Facility 6.1, microcode 3600-MIC 396,
	FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	World load FEP0:>zoo-7-1-d-patches-a.load.1, on Lisp Machine Grizzly:

	I sent this along for additional information.  While in the presentation inspector, I used
	the Show Handler Applicability command, which displayed the following information:


	 Handler PEF::PLAY-STIMULUS PEF::STIMULUS (object), SYS:EXPRESSION (presentation)  T
	  The handler succeeded.
	  *** This handler was not found in the handler tables
	  *** under these types.  This would indicate a defect in
	  *** the handler tables or the cache.  Please report this
	  *** bug.


	Received: from BOO-BOO.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 3146; Tue 12-May-87 15:43:06 EDT
	Date: Tue, 12 May 87 15:43 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
	Subject: genera 7.1 lost my handlers
	To: customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
	    bug-lispm@OZ.AI.MIT.EDU
	cc: sr.tierney@SPEECH.MIT.EDU
	Message-ID: <870512154314.3.TIERNEY@BOO-BOO.MIT.EDU>

	Genera 7.1 seems to be losing my handlers.  All this stuff worked in
	7.0, but now in 7.1 none of the handlers I define work.  I used the
	presentation inspector, which said that my handler succeeded, but that
	it was not in any of the handler tables.  I tried recompiling the
	patches of code included below, but that did not help.

	(define-presentation-type stimulus (() &key (print-simply t))
	      :history t
	      :no-deftype t
	      :parser ((stream)
		       (dw:completing-from-suggestions (stream :type `stimulus)
			 (loop for stimulus in *all-stimuli*
			       for name =  (stimulus-name stimulus)
			       do (dw:suggest (stimulus-name stimulus) stimulus))))

	      :parser ((stream)
		       (dw:completing-from-suggestions (stream :type `stimulus)
			 (loop for stimulus in *all-stimuli*
			       for name =  (stimulus-name stimulus)
			       do (dw:suggest (stimulus-name stimulus) stimulus))))


	(define-presentation-action play-stimulus
	   (stimulus t :gesture :shift-middle :documentation "Plays this stimulus")
	   (stimulus)
	  (play-stimulus-now stimulus))


	It would seem that this code is ok, since it worked in 7.0, but I can't
	get it to work in 7.1.  I am really at a loss, since I would like to use
	many of the nice features of 7.1, but need to use 7.0 for these handlers
	to be defined.

    - - - - - - - - -

	Date: Tue, 12 May 87 15:43 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	Genera 7.1 seems to be losing my handlers.  All this stuff worked in
	7.0, but now in 7.1 none of the handlers I define work.  I used the
	presentation inspector, which said that my handler succeeded, but that
	it was not in any of the handler tables.  I tried recompiling the
	patches of code included below, but that did not help.

	(define-presentation-type stimulus (() &key (print-simply t))
	      :history t
	      :no-deftype t
	      :parser ((stream)
		       (dw:completing-from-suggestions (stream :type `stimulus)
			 (loop for stimulus in *all-stimuli*
			       for name =  (stimulus-name stimulus)
			       do (dw:suggest (stimulus-name stimulus) stimulus))))


	      :description "a stimulus"
	      :printer ((object stream) (print-stimulus object stream
							nil :print-simply
							print-simply))) 



	(define-presentation-action play-stimulus
	   (stimulus t :gesture :shift-middle :documentation "Plays this stimulus")
	   (stimulus)
	  (play-stimulus-now stimulus))


	It would seem that this code is ok, since it worked in 7.0, but I can't
	get it to work in 7.1.  I am really at a loss, since I would like to use
	many of the nice features of 7.1, but need to use 7.0 for these handlers
	to be defined.





 3-Jun-87 20:00:21-EDT,5835;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 3 Jun 87 20:00-EDT
Received: from CROCE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 42822; Wed 3-Jun-87 20:02:12 EDT
Date: Wed, 3 Jun 87 20:01 EDT
From: Peng Wu <pwu@HT.AI.MIT.EDU>
Subject: bug report
To: Bug-LispM@OZ.AI.MIT.EDU, bug-joshua@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870603200152.1.PWU@CROCE.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

I redefined some system function with 1FS:DEFINE-TCP-FTP-METHOD0 for r7.1 in order to uninteruptedly
load file from tcp host.  Patch file is b:>pwu>lispm>sys-patch.lisp.
Now 1FS:DEFINE-TCP-FTP-METHOD0 is not defined.

In Symbolics 3650 Experimental System 364.114,
Experimental Utilities 19.9, Experimental Metering 15.2,
Experimental Server Utilities 19.0, Experimental Hardcopy 110.3,
Experimental Zmail 156.16, Experimental LMFS 93.4,
Experimental Tape 73.3, Experimental Basic Sage 51.11,
Experimental Extended Help 10.0,
Experimental Documentation Database 38.21,
Experimental Logical Pathnames Translation Files NEWEST,
Jericho Distribution 1.0, Joshua Distribution 1.0, cold load 12,
microcode 3650-MIC 400, FEP 206, FEP0:>g206-lisp.flod(14),
FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
FEP0:>g206-info.flod(14), Machine serial number 30085, on Lisp Machine Jim Croce:



1Trap: The function FS:DEFINE-TCP-FTP-METHOD is undefined.
0While in the function   SI:READFILE-INTERNAL

The condition signalled was DBG:UNDEFINED-FUNCTION-TRAP

1SI:READFILE-INTERNAL0:  (P.C. = 112)
   Arg 0: #<SI:INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>sys-patch.lisp.newest" 44000034>
   Arg 1 (SI:PKG): NIL
   Arg 2 (SI:NO-MSG-P): NIL

1FS:LOAD-STREAM0:  (P.C. = 35)
   Arg 0 (FS:STREAM): #<SI:INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>sys-patch.lisp.newest" 44000034>
   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NO-MSG-P): NIL

1CLI::LOAD-FROM-STREAM0:  (P.C. = 12)
   Arg 0 (STREAM): #<SI:INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>sys-patch.lisp.newest" 44000034>
   Arg 1 (PACKAGE): NIL
   Arg 2 (CLI::VERBOSE): T
   Arg 3 (PRINT): NIL

1LOAD0:  (P.C. = 176)
   Arg 0 (CLI::FILENAME): "b:>pwu>lispm>sys-patch"
   Local 0 (CLI::FILENAME): #P"B:>pwu>lispm>sys-patch"
   Rest arg: NIL

1SI:READFILE-INTERNAL0:  (P.C. = 112)
   Arg 0: #<SI:INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>init.lisp.newest" 44000146>
   Arg 1 (SI:PKG): NIL
   Arg 2 (SI:NO-MSG-P): NIL

1FS:LOAD-STREAM0:  (P.C. = 35)
   Arg 0 (FS:STREAM): #<SI:INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>init.lisp.newest" 44000146>
   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NO-MSG-P): NIL

1ZL:LOAD0:  (P.C. = 106)
   Arg 0 (PATHNAME): "b:>pwu>lispm>init"
   Local 0 (PATHNAME): #P"B:>pwu>lispm>init"
2   --Defaulted args:--
0   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NONEXISTENT-OK-FLAG): NIL
   Arg 3 (FS:DONT-SET-DEFAULT-P): NIL
   Arg 4 (FS:NO-MSG-P): NIL

1SI:READFILE-INTERNAL0:  (P.C. = 112)
   Arg 0: #<SI:INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm-init.lisp.newest" 44000115>
   Arg 1 (SI:PKG): NIL
   Arg 2 (SI:NO-MSG-P): NIL

1FS:LOAD-STREAM0:  (P.C. = 35)
   Arg 0 (FS:STREAM): #<SI:INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm-init.lisp.newest" 44000115>
2   --Defaulted args:--
0   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NO-MSG-P): NIL

1ZL:LOGIN0:  (P.C. = 522)
   Arg 0 (SI:USER-NAME): #<NETI:NAME AI|PWU 11710737>
   Local 0 (SI:USER-NAME): "AI|PWU"
   Rest arg: (:HOST NIL :LOAD-INIT-FILE T)

1SI:COM-LOGIN0:  (P.C. = 44)
   Arg 0 (NET:USER): #<NET:USER PWU 11710746>
   Local 0 (NET:USER): #<NETI:NAME AI|PWU 11710737>
   Rest arg: NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 37)
   Arg 0 (CP::FORM): (SI:COM-LOGIN (QUOTE #<NET:USER PWU 11710746>))
   Rest arg: NIL

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<SI:PROCESS Dynamic Lisp Listener 1 2374343>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<SYS:GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 7604247>
   Arg 3 (SI:CONTINUATION): #<SYS:LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 135034206>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<SYS:LEXICAL-CLOSURE (:INTERNAL # 0) 135034151>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 41)
   Arg 0 (SELF): #<SI:PROCESS Dynamic Lisp Listener 1 2374343>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<SYS:GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 7604240>
   Arg 3 (SI:CONTINUATION): #<SYS:LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 135034113>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 115)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1117134 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1117134 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
   Arg 0 (IGNORE): NIL

   Special *APPLYHOOK*: NIL
   Special *EVALHOOK*: NIL
 4-Jun-87 07:42:41-EDT,2015;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Jun 87 07:42-EDT
Received: from ALDERAAN.SCRC.Symbolics.COM (ALDERAAN.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 42864; 4 Jun 87 07:44:38 EDT
Received: from PLUTO.SCRC.Symbolics.COM by ALDERAAN.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 88504; Thu 4-Jun-87 07:37:18 EDT
Date: Thu, 4 Jun 87 07:37 EDT
From: Charles Hornig <Hornig@ALDERAAN.SCRC.Symbolics.COM>
Subject: bug report
To: Peng Wu <pwu@HT.AI.MIT.EDU>, Bug-LispM@OZ.AI.MIT.EDU, bug-joshua@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870603200152.1.PWU@CROCE.AI.MIT.EDU>
Message-ID: <870604073715.8.HORNIG@PLUTO.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 3 Jun 87 20:01 EDT
    From: Peng Wu <pwu@HT.AI.MIT.EDU>

    I redefined some system function with 1FS:DEFINE-TCP-FTP-METHOD0 for r7.1 in order to uninteruptedly
    load file from tcp host.  Patch file is b:>pwu>lispm>sys-patch.lisp.
    Now 1FS:DEFINE-TCP-FTP-METHOD0 is not defined.

    In Symbolics 3650 Experimental System 364.114,
    Experimental Utilities 19.9, Experimental Metering 15.2,
    Experimental Server Utilities 19.0, Experimental Hardcopy 110.3,
    Experimental Zmail 156.16, Experimental LMFS 93.4,
    Experimental Tape 73.3, Experimental Basic Sage 51.11,
    Experimental Extended Help 10.0,
    Experimental Documentation Database 38.21,
    Experimental Logical Pathnames Translation Files NEWEST,
    Jericho Distribution 1.0, Joshua Distribution 1.0, cold load 12,
    microcode 3650-MIC 400, FEP 206, FEP0:>g206-lisp.flod(14),
    FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
    FEP0:>g206-info.flod(14), Machine serial number 30085, on Lisp Machine Jim Croce:

    1Trap: The function FS:DEFINE-TCP-FTP-METHOD is undefined.
0    While in the function   SI:READFILE-INTERNAL

That's because you don't have the IP-TCP system loaded.

 4-Jun-87 07:52:46-EDT,1405;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Jun 87 07:52-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 42867; Thu 4-Jun-87 07:54:38 EDT
Date: Thu, 4 Jun 87 07:54 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: *lgp2-output-stream-prologue* should begin with %!PS-Adobe-1.0
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870604075438.5.CJL@OTIS.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30124,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:

*lgp2-output-stream-prologue* should begin with %!PS-Adobe-1.0

Some print spoolers (Adobe's transcript) require it in order to print it as
PostScript, and not ascii text.

(defconst1 *lgp2-output-stream-prologue*0 "%!PS-Adobe-1.0
statusdict //waittimeout 60 3 mul put
...
")
 4-Jun-87 09:34:57-EDT,6671;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Jun 87 09:34-EDT
Date: Thu, 4 Jun 87 09:35 EDT
From: RWS@ZERMATT.LCS.MIT.EDU
Sender: File-Server@ZERMATT.LCS.MIT.EDU
Subject: random LMFS lossage
To: Customer-Reports@STONY-BROOK.SCRC.SYMBOLICS.COM,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870604093517.6.FILE-SERVER@ZERMATT.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.13, MAC 11.1, Experimental X-Window-System 17.4,
microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
fep0:>g206-info.flod(14), Machine serial number 30100,
Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
Network-Security patch (from Z:>File-Server>network-security.lisp.4),
Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

A daemon just trying to tell me something...

1Trap: The first argument given to the ZL:AR-1 instruction, NIL, was not an array.
0While in the function LMFS:DOWNREFERENCE-FILE-BUFFER  (FLAVOR:METHOD :ESTABLISH-ADDRESSOR LMFS:LMFS-OPENING-MIXIN)  (FLAVOR:METHOD :NEW-OUTPUT-BUFFER LMFS:LMFS-OPENING-MIXIN)

The condition signalled was DBG:WRONG-TYPE-ARGUMENT-TRAP

1LMFS:DOWNREFERENCE-FILE-BUFFER0:  (P.C. = 10)
   Arg 0 (LMFS:BUF): NIL

1(FLAVOR:METHOD :ESTABLISH-ADDRESSOR LMFS:LMFS-OPENING-MIXIN)0:  (P.C. = 414)
   Arg 0 (SELF): #<LMFS-BINARY-OUTPUT-OPENING "Z:>File-Server>Updater>log.text" 524012221>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor LMFS:LMFS-OPENING-MIXIN 234077764>
   Arg 2 (FLAVOR::.GENERIC.): :ESTABLISH-ADDRESSOR
   Arg 3 (LMFS:FOR-OUTPUT): T

1(FLAVOR:METHOD :NEW-OUTPUT-BUFFER LMFS:LMFS-OPENING-MIXIN)0:  (P.C. = 12)
   Arg 0 (SELF): #<LMFS-BINARY-OUTPUT-OPENING "Z:>File-Server>Updater>log.text" 524012221>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor LMFS:LMFS-OPENING-MIXIN 234077764>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-OUTPUT-BUFFER

1(FLAVOR:METHOD :SETUP-NEW-OUTPUT-BUFFER SI:BASIC-BUFFERED-OUTPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<LMFS-BINARY-OUTPUT-OPENING "Z:>File-Server>Updater>log.text" 524012221>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-OUTPUT-STREAM 234077706>
   Arg 2 (FLAVOR::.GENERIC.): :SETUP-NEW-OUTPUT-BUFFER

1(FLAVOR:COMBINED :SETUP-NEW-OUTPUT-BUFFER LMFS:LMFS-BINARY-OUTPUT-OPENING)0:  (P.C. = 11)
   Arg 0 (SELF): #<LMFS-BINARY-OUTPUT-OPENING "Z:>File-Server>Updater>log.text" 524012221>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor LMFS:LMFS-BINARY-OUTPUT-OPENING 234077732>
   Arg 2 (FLAVOR::.GENERIC.): :SETUP-NEW-OUTPUT-BUFFER
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:METHOD :STRING-OUT SI:BUFFERED-FAST-STRING-OUT-MIXIN)0:  (P.C. = 24)
   Arg 0 (SELF): #<LMFS-BINARY-OUTPUT-OPENING "Z:>File-Server>Updater>log.text" 524012221>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BUFFERED-FAST-STRING-OUT-MIXIN 234077720>
   Arg 2 (FLAVOR::.GENERIC.): :STRING-OUT
   Arg 3 (STRING): #<ART-8B-27 355300001>
   Arg 4 (SI:START): 0
   Arg 5 (SI:END): 27

1(FLAVOR:METHOD :DUMP-STRING-INTERNAL SI:BASIC-DUMPING-STREAM)0:  (P.C. = 173)
   Arg 0 (SELF): #<INDIRECT-ESCAPE-OUTPUT-STREAM "Z:>File-Server>Updater>log.text" 527355216>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-DUMPING-STREAM 234012402>
   Arg 2 (FLAVOR::.GENERIC.): :DUMP-STRING-INTERNAL
   Arg 3 (STRING): "Failed to complete scan of ~A.~%    ~~A~~%"
   Arg 4 (SI:START-INDEX): 0
   Arg 5 (SI:FINAL-INDEX): 27

1(FLAVOR:METHOD :DUMP-SIMPLE-STRING SI:ESCAPE-DUMPING-STREAM-MIXIN)0:  (P.C. = 14)
   Arg 0 (SELF): #<INDIRECT-ESCAPE-OUTPUT-STREAM "Z:>File-Server>Updater>log.text" 527355216>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:ESCAPE-DUMPING-STREAM-MIXIN 234012316>
   Arg 2 (FLAVOR::.GENERIC.): :DUMP-SIMPLE-STRING
   Arg 3 (STRING): "Failed to complete scan of ~A.~%    ~~A~~%"
   Arg 4 (SI:START-INDEX): 0
   Arg 5 (SI:FINAL-INDEX): 27

1(FLAVOR:METHOD :STRING-OUT SI:ESCAPE-DUMPING-STREAM-MIXIN)0:  (P.C. = 111)  2(from SYS:PATCH;SYSTEM-349-171)
0   Arg 0 (SELF): #<INDIRECT-ESCAPE-OUTPUT-STREAM "Z:>File-Server>Updater>log.text" 527355216>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:ESCAPE-DUMPING-STREAM-MIXIN 234012316>
   Arg 2 (FLAVOR::.GENERIC.): :STRING-OUT
   Arg 3 (STRING): "Failed to complete scan of ~A.~%    ~~A~~%"
   Arg 4 (SI:START-INDEX): 0
   Arg 5 (SI:FINAL-INDEX): 27

1FORMAT:FORMAT-CTL-STRING0:  (P.C. = 37)
   Arg 0 (ZL:ARGS): (#P"B:>Facilities>**>" #<TCP-DESTINATION-UNREACHABLE-DURING-CONNECTION 160062006>)
   Arg 1: "Failed to complete scan of ~A.~%    ~~A~~%"

1(:INTERNAL FORMAT:FORMAT-INTERNAL 0 FORMAT:DO-IT)0:  (P.C. = 21)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 427100142>

1FORMAT:FORMAT-INTERNAL0:  (P.C. = 120)
   Arg 0 (FORMAT:STREAM): #<INDIRECT-ESCAPE-OUTPUT-STREAM "Z:>File-Server>Updater>log.text" 527355216>
   Arg 1: "Failed to complete scan of ~A.~%    ~~A~~%"
   Rest arg (ZL:ARGS): (#P"B:>Facilities>**>" #<TCP-DESTINATION-UNREACHABLE-DURING-CONNECTION 160062006>)

1FORMAT0:  (P.C. = 17)
   Arg 0 (CLI::DESTINATION): #<INDIRECT-ESCAPE-OUTPUT-STREAM "Z:>File-Server>Updater>log.text" 527355216>
   Arg 1 (CLI::CONTROL-STRING): "Failed to complete scan of ~A.~%    ~~A~~%"
   Rest arg (CLI::ARGS): (#P"B:>Facilities>**>" #<TCP-DESTINATION-UNREACHABLE-DURING-CONNECTION 160062006>)

1UPDATER:LOG-FORMAT0:  (P.C. = 27)  2(from Z:>File-Server>update-daemon)
0   Rest arg (UPDATER:ARGS): ("Failed to complete scan of ~A.~%    ~~A~~%" #P"B:>Facilities>**>" #<TCP-DESTINATION-UNREACHABLE-DURING-CONNECTION 160062006>)

1UPDATER:FULL-SCAN0:  (P.C. = 105)  2(from Z:>File-Server>update-daemon)
0   Arg 0 (UPDATER:UPDATE): #S(UPDATER:UPDATE-INFO :HOST #<LISPM-HOST REAGAN 1101023> :DIR-SPEC #P"Z:>Facilities>**>" :IMMEDIATE-P T :SIMULATE-P NIL :FILE-TYPES ...)

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): T
   Arg 1 (FUNCTION): UPDATER:FULL-SCAN
   Rest arg (ZL:ARGS): (#S(UPDATER:UPDATE-INFO :HOST #<LISPM-HOST REAGAN 1101023> :DIR-SPEC #P"Z:>Facilities>**>" :IMMEDIATE-P T :SIMULATE-P NIL :FILE-TYPES ...))

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL

   Special LMFS:*DBG-CHECK-ARG-TYPES*: NIL
 4-Jun-87 14:17:11-EDT,1548;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Jun 87 14:17-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 42939; 4 Jun 87 14:15:38 EDT
Received: from OOGLE-BOID.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 135017; Thu 4-Jun-87 13:50:49 EDT
Date: Thu, 4 Jun 87 13:50 EDT
From: Chris Jones <clj@SAPSUCKER.SCRC.Symbolics.COM>
Subject: bug in FEP pathnames
To: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>, Bug-Lispm@OZ.AI.MIT.EDU
In-Reply-To: <870209234901.1.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870604135008.4.CLJ@OOGLE-BOID.SCRC.Symbolics.COM>

    Date: Mon, 9 Feb 87 23:49 EST
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.0G1, IP-TCP 52.0, 7-0-Patches 1.17, MAC 6.5,
    Fortran 6.3, Pascal 25.3, Prolog 17.0, microcode 3650-MIC 394, FEP 206,
    FEP0:>g206-lisp.flod(6), FEP0:>g206-loaders.flod(6),
    FEP0:>g206-debug.flod(1), FEP0:>g206-info.flod(6),
    Machine serial number 30124, on Lisp Machine Otis Redding:

    There's a bug in fep pathnames that causes :pathname-as-directory to not be
    the inverse of :directory-pathname-as-file:

    (send (send (fs:parse-pathname "fep0:>") :directory-pathname-as-file)
	  :pathname-as-directory)

    gives

    #P"FEP0:>ROOT-DIRECTORY>"

    it should give

    #P"FEP0:>"

This is fixed in 7.2 (I can't remember if you've already been sent this reply, but
I'm cleaning up some loose ends now).

 4-Jun-87 17:52:01-EDT,6876;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Jun 87 17:51-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 55254; 4 Jun 87 17:53:01 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 4 Jun 87 17:50-EDT
Date: Thu, 4 Jun 87 17:50 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: IWBNI TCP were more lenient
To: customer-reports@stony-brook.scrc.symbolics.com,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870604175059.0.RWS@KILLINGTON.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

There are FTP servers out there that probably don't quite meet
spec in terms of reporting "500 Unknown command" instead of
"502 Command not implemented", like for ALLO (does the spec
really require particular error returns?).  It would be nice
if the FTP code didn't blow into the debugger in such cases.

1Error: Error reported by foreign host: 500 Unknown command
0While in the function (DEFUN-IN-FLAVOR FS:TCP-FTP-CHECK-COMMAND-RESPONSE FS:TCP-FTP-CONN)  (FLAVOR:METHOD FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-CONN)  (FLAVOR:METHOD FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-FILE-ACCESS-PATH)

The condition signalled was FS:TCP-FTP-UNRECOGNIZED-COMMAND

1(DEFUN-IN-FLAVOR FS:TCP-FTP-CHECK-COMMAND-RESPONSE FS:TCP-FTP-CONN)0:  (P.C. = 172)  2(from SYS:IP-TCP;PATCH;IP-TCP-52-7)
0   Arg 0 (SELF): #<TCP-FTP-CONN 474053146>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:TCP-FTP-CONN 2160320>
   Arg 2 (FS:EXPECTED-VALUE): (200 202 502)
   Arg 3 (FS:CTL-STRING): "ALLO ~D"
   Rest arg (ZL:ARGS): (15)
   Local 5: SYS:UNWIND-PROTECT-TAG
   Local 6: #<DTP-ODD-PC 260106702>
   Local 7: #<DTP-LOCATIVE 500062>
   Local 8: #<DTP-LOCATIVE 601023>
   Local 9 (FS:OLD-STATE): :ALLOCATED
   Local 10 (FS:NUM): 500
   Local 11 (FS:LINE): "500 Unknown command"
   Local 12 (FS:ELEM): (500 FS:TCP-FTP-UNRECOGNIZED-COMMAND FS:FILE-SYSTEM-BUG)
   Local 13: #<CASE-HANDLER 160143334>
   Local 14: (#<LEXICAL-CLOSURE (:INTERNAL ZL:COPYF 0) 600416> #<CASE-HANDLER 120033624>)
   Local 15: (#<CASE-HANDLER 160143334> #<LEXICAL-CLOSURE (:INTERNAL ZL:COPYF 0) 600416> #<CASE-HANDLER 120033624>)
   Special DBG:*BOUND-HANDLERS*: (#<CASE-HANDLER 160143334> #<LEXICAL-CLOSURE (:INTERNAL ZL:COPYF 0) 600416> #<CASE-HANDLER 120033624>)

1(FLAVOR:METHOD FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-CONN)0:  (P.C. = 76)
   Arg 0 (SELF): #<TCP-FTP-CONN 474053146>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:TCP-FTP-CONN 2160320>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION FS:FILE-ACCESS-PATH-OPEN 6716325>
   Arg 3 (FS:TRANSLATED): #P"NEMC-GW:c:/foo.bar"
   Arg 4 (PATHNAME): #P"NEMC-GW:c:/foo.bar"
   Rest arg: (:FAKE-CHARACTERS T :DIRECTION :OUTPUT :ELEMENT-TYPE CHARACTER :IF-EXISTS :SUPERSEDE :IF-DOES-NOT-EXIST :CREATE ...)

1(FLAVOR:METHOD FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-FILE-ACCESS-PATH)0:  (P.C. = 12)
   Arg 0 (SELF): #<TCP-FTP-FILE-ACCESS-PATH NEMC-GW using TCP-FTP 474053102>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:TCP-FTP-FILE-ACCESS-PATH 2160076>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION FS:FILE-ACCESS-PATH-OPEN 6716325>
   Rest arg (ZL:ARGS): (#P"NEMC-GW:c:/foo.bar" #P"NEMC-GW:c:/foo.bar" :FAKE-CHARACTERS T :DIRECTION :OUTPUT :ELEMENT-TYPE CHARACTER :IF-EXISTS :SUPERSEDE ...)

1(:INTERNAL (FLAVOR:COMBINED FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-FILE-ACCESS-PATH) 0)0:  (P.C. = 10)
   Arg 0 (SELF): #<TCP-FTP-FILE-ACCESS-PATH NEMC-GW using TCP-FTP 474053102>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:TCP-FTP-FILE-ACCESS-PATH 2160076>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION FS:FILE-ACCESS-PATH-OPEN 6716325>
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#P"NEMC-GW:c:/foo.bar" #P"NEMC-GW:c:/foo.bar" :FAKE-CHARACTERS T :DIRECTION :OUTPUT :ELEMENT-TYPE CHARACTER :IF-EXISTS :SUPERSEDE ...)

1(:INTERNAL (FLAVOR:WHOPPER FS:FILE-ACCESS-PATH-OPEN FS:FONT-ENCAPSULATING-ACCESS-PATH-MIXIN) 0 FS:CONTINUE)0:  (P.C. = 23)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600675>
   Arg 1 (FS:FORCE-BINARY-P): T

1(FLAVOR:WHOPPER FS:FILE-ACCESS-PATH-OPEN FS:FONT-ENCAPSULATING-ACCESS-PATH-MIXIN)0:  (P.C. = 156)  2(from SYS:PATCH;SYSTEM-349-171)
0   Arg 0 (SELF): #<TCP-FTP-FILE-ACCESS-PATH NEMC-GW using TCP-FTP 474053102>
   Arg 1 (SYS:SELF-MAPPING-TABLE): FS:FONT-ENCAPSULATING-ACCESS-PATH-MIXIN
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-FILE-ACCESS-PATH) 0) 260076400>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor FS:TCP-FTP-FILE-ACCESS-PATH 2160076>
   Arg 4 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION FS:FILE-ACCESS-PATH-OPEN 6716325>
   Arg 5 (FS:REAL-PATHNAME): #P"NEMC-GW:c:/foo.bar"
   Arg 6 (FS:COMMAND-PATHNAME): #P"NEMC-GW:c:/foo.bar"
   Rest arg (FS:REST-LIST): (:DIRECTION :OUTPUT :ELEMENT-TYPE CHARACTER :IF-EXISTS :SUPERSEDE :IF-DOES-NOT-EXIST :CREATE :ESTIMATED-LENGTH 15 ...)

1(FLAVOR:COMBINED FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-FILE-ACCESS-PATH)0:  (P.C. = 13)
   Arg 0 (SELF): #<TCP-FTP-FILE-ACCESS-PATH NEMC-GW using TCP-FTP 474053102>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:TCP-FTP-FILE-ACCESS-PATH 2160076>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION FS:FILE-ACCESS-PATH-OPEN 6716325>
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#P"NEMC-GW:c:/foo.bar" #P"NEMC-GW:c:/foo.bar" :DIRECTION :OUTPUT :ELEMENT-TYPE CHARACTER :IF-EXISTS :SUPERSEDE :IF-DOES-NOT-EXIST :CREATE ...)

1OPEN0:  (P.C. = 542)
   Arg 0 (PATHNAME): #P"NEMC-GW:c:/foo.bar"
   Rest arg (FS:ALL-ARGUMENTS): (:DIRECTION :OUTPUT :ELEMENT-TYPE CHARACTER :IF-EXISTS :SUPERSEDE :ESTIMATED-LENGTH 15 FS:%RETURN-BINARY-STREAM-FOR-CHARACTER-FILE T)

1ZL:COPYF0:  (P.C. = 463)  2(from SYS:PATCH;SYSTEM-349-231)
0   Arg 0 (FS:FROM-PATHNAME): #P"KILLINGTON:>foo.text.newest"
   Local 0 (FS:FROM-PATHNAME): #P"KILLINGTON:>foo.text.1"
   Arg 1 (FS:TO-PATHNAME): #P"NEMC-GW:/foo.bar"
   Local 1 (FS:TO-PATHNAME): #P"NEMC-GW:c:/foo.bar"
   Rest arg: (:BYTE-SIZE NIL :CHARACTERS :DEFAULT :COPY-CREATION-DATE T :COPY-AUTHOR T :CREATE-DIRECTORIES :QUERY ...)
 4-Jun-87 19:15:35-EDT,5038;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Jun 87 19:15-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 42975; Thu 4-Jun-87 19:17:31 EDT
Date: Thu, 4 Jun 87 19:17 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Bug in TOPS-20 Pathnames
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870604191731.8.CJL@OTIS.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30124,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:
Processes forcibly aborted:
  Dynamic Lisp Listener 1 aborted with the following warning:
    The function DIS:WRITE-DISTRIBUTION-PLAN-FILES-TO-TAPE is executing a cleanup form.
    Aborting before the cleanup is complete could leave the program in
    an inconsistent state and cause it to operate incorrectly later.

(send (send (fs:parse-pathname "OZ:OZ:<ROOT-DIRECTORY>")
            :directory-pathname-as-file)	
      :pathname-as-directory)

1Error: "ROOT-DIRECTORY" is an invalid directory component for OZ (a TOPS-20 host).
0While in the function (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)  (FLAVOR:METHOD :VALIDATE PATHNAME)  (FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)

The condition signalled was FS:INVALID-PATHNAME-COMPONENT

1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 41)  2(from SYS:PATCH;SYSTEM-349-212)
0   Arg 0 (SELF): #P"OZ:OZ:<FOO>"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220142540>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
   Arg 3 (FS:TEST-ARG): "ROOT-DIRECTORY"
   Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 352732070>
   Arg 5 (FS:VALID-MSG): :RAW-DIRECTORY
   Arg 6 (FS:TEST-MSG): :VALID-DIRECTORY-P
   Arg 7 (FS:CASE-MSG): :CASE-DIRECTORY
   Arg 8 (FS:UNCASE-MSG): :UNCASE-DIRECTORY
   Arg 9 (FS:COMPONENT): :DIRECTORY
   Arg 10 (FS:PRETTY-NAME): "directory component"

1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 61)
   Arg 0 (SELF): #P"OZ:OZ:<FOO>"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220142540>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

1(FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)0:  (P.C. = 62)  2(from SYS:PATCH;SYSTEM-349-24)
0   Arg 0 (SELF): #<CASE-SENSITIVE-PATHNAME-HASH-TABLE OZ>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN 250401040>
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (FS:DEV): "OZ"
   Arg 4 (FS:DIR): "ROOT-DIRECTORY"
   Arg 5 (FS:NAM): NIL
   Arg 6 (FS:TYP): NIL
   Arg 7 (FS:VRS): NIL
   Arg 8 (FS:OTHERS): NIL
   Arg 9 (FS:KEY): ("OZ" "ROOT-DIRECTORY" NIL NIL NIL)

1(FLAVOR:METHOD :GET-PATHNAME NET:PATHNAME-HOST-MIXIN)0:  (P.C. = 27)
   Arg 0 (SELF): #H"OZ"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor NET:PATHNAME-HOST-MIXIN 250230515>
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (NETI:DEV): "OZ"
   Arg 4 (NETI:DIR): "ROOT-DIRECTORY"
   Arg 5 (NETI:NAM): NIL
   Arg 6 (NETI:TYP): NIL
   Arg 7 (NETI:VRS): NIL
   Arg 8 (NETI:OTHERS): NIL

1FS:MAKE-PATHNAME-10:  (P.C. = 604)  2(from SYS:PATCH;SYSTEM-349-109)
0   Arg 0 (FS:ACTOR): #P"OZ:OZ:<ROOT-DIRECTORY>ROOT-DIRECTORY.DIRECTORY"
   Rest arg (FS:OPTIONS): (:DEFAULT-HOST #H"OZ" :DEFAULT-DEVICE "OZ" :DEFAULT-DIRECTORY :ROOT :DEFAULT-NAME "ROOT-DIRECTORY" :DEFAULT-TYPE "DIRECTORY" ...)

1(FLAVOR:METHOD :NEW-PATHNAME PATHNAME)0:  (P.C. = 22)
   Arg 0 (SELF): #P"OZ:OZ:<ROOT-DIRECTORY>ROOT-DIRECTORY.DIRECTORY"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220142540>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
   Rest arg (FS:OPTIONS): (:RAW-DIRECTORY "ROOT-DIRECTORY" :RAW-NAME NIL :RAW-TYPE NIL :VERSION NIL)

1(FLAVOR:COMBINED :NEW-PATHNAME PATHNAME)0:  (P.C. = 67)
   Arg 0 (SELF): #P"OZ:OZ:<ROOT-DIRECTORY>ROOT-DIRECTORY.DIRECTORY"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220142540>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (:RAW-DIRECTORY "ROOT-DIRECTORY" :RAW-NAME NIL :RAW-TYPE NIL :VERSION NIL)

1(FLAVOR:METHOD :PATHNAME-AS-DIRECTORY FS:HIERARCHICAL-DIRECTORY-NO-PATCH-MIXIN)0:  (P.C. = 33)
   Arg 0 (SELF): #P"OZ:OZ:<ROOT-DIRECTORY>ROOT-DIRECTORY.DIRECTORY"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:HIERARCHICAL-DIRECTORY-NO-PATCH-MIXIN 220142471>
   Arg 2 (FLAVOR::.GENERIC.): :PATHNAME-AS-DIRECTORY

 5-Jun-87 10:03:02-EDT,2013;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Jun 87 10:02-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 55364; 5 Jun 87 10:02:48 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 5 Jun 87 10:02-EDT
Date: Fri, 5 Jun 87 10:01 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: :show printer status and local namespace caching
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870605100146.4.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

VanillaUser boots a world that has locally cached information about a
printer named Gi, naming its HOST as Nutmeg, but the locally cached
information about host Nutmeg doesn't include SPOOLED-PRINTER Gi
(although that property has since been added to the namespace).  Of
course, what is cached is not known by VanillaUser.

VanillaUser does :Show Printer Status Gi, and is informed:

Error getting status of Gi:
  No hosts spool for printer Gi.

VanillaUser asks Maintainer what's wrong.  Maintainer does :Show
Namespace Object Printer Gi, sees that Nutmeg is the HOST, does :Show
Namespace Object Host Nutmeg, sees that it (now) states SPOOLED-PRINTER
Gi, is perplexed, and tries :Show Printer Status Gi again, and it works.
Maintainer begins walking the code, but quickly gives up and just
decides to report the bug, and perhaps build a new world to get around
the problem for now.
 5-Jun-87 10:05:45-EDT,1169;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Jun 87 10:05-EDT
Received: from DARTH-VADER.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 43009; Fri 5-Jun-87 10:05:52 EDT
Date: Fri, 5 Jun 87 10:05 EDT
From: Allen Ward <award@HEPHAESTUS.AI.MIT.EDU>
Subject: Recursive errors on unbound arguments
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870605100552.1.AWARD@DARTH-VADER.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.15, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(3), FEP0:>g206-info.flod(12),
Machine serial number 30083,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Darth Vader:

On function calls with unbound arguments, e.g. (+ 2 asdfasdf) LISP
now warns on many errors and going to to cold-load stream, breaks
because of too many errors, and suggests using the emergency
debugger.
 5-Jun-87 11:10:31-EDT,1178;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Jun 87 11:10-EDT
Date: Fri, 5 Jun 87 11:10 EDT
From: rws@ZERMATT.LCS.MIT.EDU
Sender: File-Server@ZERMATT.LCS.MIT.EDU
Subject: IWBNI I could dump my file server
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    Bug-Lispm@ZERMATT.LCS.MIT.EDU
Message-ID: <870605111014.1.FILE-SERVER@ZERMATT.LCS.MIT.EDU>

In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.14, MAC 11.1, Experimental X-Window-System 17.4,
microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
fep0:>g206-info.flod(14), Machine serial number 30100,
Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
Network-Security patch (from Z:>File-Server>network-security.lisp.4),
Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

This losing system crashed into the FEP again, with a page fault
on an unallocated VMA, while trying to set dump dates during an
on-line incremental dump.  This is getting to be pretty pathetic.
 5-Jun-87 20:25:46-EDT,1285;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Jun 87 20:25-EDT
Received: from PIGPEN.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 43135; Fri 5-Jun-87 20:26:04 EDT
Date: Fri, 5 Jun 87 20:26 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Screen dimming.
To: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870605202607.3.ALAN@PIGPEN.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.15, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30096,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Pigpen:

On this machine (Pigpen) the screen dimming feature has never worked in
release 7.  Apparently it works on other machines around the Lab running
the same world load.  After some experimentation, I discovered that doing

  (tv:blank-screen-establish-timer)

(for example, by putting it in my init file) would fix the problem.
 8-Jun-87 13:56:41-EDT,2792;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jun 87 13:56-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 43288; 8 Jun 87 13:57:02 EDT
Received: from LETHE.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 167025; Mon 8-Jun-87 13:55:10 EDT
Date: Mon, 8 Jun 87 13:55 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: seems like genera 7.1 cannot find my handlers
To: MLY@AI.AI.MIT.EDU
cc: toto@VERMITHRAX.SCH.Symbolics.COM, sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    BUG-LISPM@OZ.AI.MIT.EDU, customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870602134909.3.MLY@TOHUTMOS-III.AI.MIT.EDU>
Message-ID: <870608135540.4.7THSON@LETHE.SCRC.Symbolics.COM>
Moon: 4 days, 18 hours, 36 minutes since the first quarter of the moon.

    Date: Tue, 2 Jun 87 13:49 EDT
    From: Richard Mlynarik <MLY@AI.AI.MIT.EDU>

	Date: Tue, 2 Jun 87 08:49 PDT
	From: Kyra Lowther <toto@VERMITHRAX.SCH.Symbolics.COM>

	I mentioned these problems to the developers and they were curious
	whether there might be a handler-table update pending.  Are there any
	notifications pending?  What is the state of the updating process?  Did
	it get an error?

    Huh?  After I reported this bug (which is trivial to reproduce in 7.1,
    and not at all intermittent) 7thson@scrc said that it had been fixed `in
    the development system,' but that extracting a patch for me might be
    hard.  I don't have the message-id --- you should look though the
    customer-reports archives if you're interested.

    It sounded like a clear bug which had clearly been fix.  Perhaps you've
    been talking to different people?  (Maybe news travels slowly to CA)

Sorry to say, it isn't a clear bug which had clearly been fixed.  At the
time that I sent you that message, I hadn't tried to duplicate the
problem in 7.1 and had only failed to reproduce it in the next world,
and foolishly assumed that was because it had been fixed.  I have since
discovered that nobody here has been able to reproduce it in 7.1 either.
~sigh~ Anyway, I have learned my lesson and now have a 7.1 machine at my
disposal.

    BTW, I don't know how to find out anything about the `updating process.'
    Not having sources, it's hard to even figure out what that means.  Do
    you mean the thing which displays a progress-note saying `Updating mouse
    <foobar> in background'?  If so, I haven't seen that running when my
    presentation-to-command-translators weren't being found; whether it
    should be running or not is something I have little way of knowing.

 8-Jun-87 18:16:25-EDT,3946;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jun 87 18:16-EDT
Received: from DIAMOND.S4CC.Symbolics.COM (DIAMOND.S4CC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 43350; 8 Jun 87 18:16:49 EDT
Received: from THUNDERBIRD.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 93902; Mon 8-Jun-87 18:15:25 EDT
Date: Mon, 8 Jun 87 18:14 EDT
From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
Subject: Correct my confusion about defsetf
To: CJL@REAGAN.AI.MIT.EDU, Bug-Lispm@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870602183238.4.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870608181426.7.GREENWALD@THUNDERBIRD.S4CC.Symbolics.COM>

    Date: Tue, 2 Jun 87 18:32 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,

    One would think that

    (defsetf bar1 (x y) (z)
      `(list '(,x ,y) ,z))

    and

    (defsetf bar2 (x y) (z)
      `(list `(,,x ,,y) ,z))

    do the same thing.

I don't think so, although it's possible I misunderstand your confusion.

First, 

(defun bar1 (x y z)
  '(list '(,x ,y) ,z))

and 

(defun bar2 (x y z)
  `(list `(,,x ,,y) ,z))

aren't the same.

The first says:

(list 'list (list 'quote (list x y)) z)

and the second

(list 'list (list `list x y) z).

So it isn't surprising that after being macroexpanded the corresponding
forms in your DEFSETFs are still different.

Second: I was a bit surprised that you had a side-effect free setf
method, so I assume that this might be a contrived "minimum" test case.
If not, (and this is really the functionality you want), then I'm
curious; why do you use the SETF syntax to convert something to (list
'(x y) z), or whatever?

    well

    (setf (bar1 a b) c)

    macroexpands to 

    (progn b a (list '(#:g7445 #:g7446) c))

    and 

    (setf (bar2 a b) c)

    macroexpands to 

    (list (list a b) c)

    Why? I thought that both would expand to the latter expansion, not to some
    form with gensyms in it.

The first form has the arguments quoted, so that the macroexpansion
fails to evaluate the arguments to the setf.  The reason they are
gensym's rather than the subforms of the original expression (A and B in
your case) is because:

According to CLtL pg. 103, the @I[body] forms (in this type of DEFSETF)
can be written "as if" the variables in the lambda list were bound to
subforms of the call on @I[access-fn] and the @i[store-variable] were
bound to the second subform of setf.  

This is what you have done.

However, the next sentence explains: "However, this is not actually the
case.  During the evaluation of the @i[body] forms, these variables are
bound to names of temporary variables, generated as if by @b[gensym] or
@b[gentemp], that will be bound by the expansion of setf to the values
of those subforms."

Well you evaluate X and Y in the context of the macroexpansion.  That
returns the gensyms, which are bound to subforms of your expression. 
But X and Y (now #:G7445 and #:G7446) are inside a quoted list, and so
aren't evaluated when you return them from the macro.

I assume what you really wanted was something like:

(defsetf bar3 (x y) (z)
  `(list (list ,x ,y) ,z))

which is the same as BAR2, but a little clearer to read.  (Again,
assuming this is really the functionality you want.)



As far as I can tell there were no bugs here; First, there was some
confusion about what backquote was doing (the two forms weren't
equivalent, and the first one was wrong).  Second, the fact that the
quotes revealed an intermediate stage of the SETF process seemed as if
something complicated was going on, when in fact it was behavior that
conformed to CLtL pg 102-104.

Does this cover everything?  Or did I misunderstand your report?

 8-Jun-87 18:50:48-EDT,2791;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jun 87 18:50-EDT
Received: from PANDA.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 3901; Mon 8-Jun-87 18:50:19 EDT
Date: Mon, 8 Jun 87 18:49 EDT
From: sr.tierney@SPEECH.MIT.EDU
Sender: Lisp-Machine@REAGAN.AI.MIT.EDU
Subject: Lost handlers in Genera 7.1
To: 7thson@STONY-BROOK.SCRC.Symbolics.COM
cc: bug-lispm@OZ.AI.MIT.EDU, sr.jrg@SPEECH.MIT.EDU,
    sr.tierney@SPEECH.MIT.EDU, zue@SPEECH.MIT.EDU
Message-ID: <870608184927.1.LISP-MACHINE@PANDA.MIT.EDU>

In Symbolics 3675 Genera 7.1, Hacks 3.0, Zoo 7.1, IP-TCP 52.16,
7-1-Patches 1.7, Speech Printers 2.0, microcode 3675-FPA-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 7541, World load FEP0:>zoo-7-1-d-minimal.load.1, on Lisp Machine Panda:

It looks like Genera 7.1 is not the main reason that mouse handlers are
not being found.  I tried some very simple code in a world that
contained no local systems, and things seemed to work o.k..

Here is the code:
(defstruct (bogus-thing :named)
  first-name
  last-name)

(define-presentation-type bogus-thing ()
   :no-deftype t)

(define-presentation-translator print-last-name
   (bogus-thing t :documentation "Last name")
   (object)
  (bogus-thing-last-name object))

When I evaluated (make-bogus-thing :last-name "foo") in a listener,
several interesting things happened.  First off the object was
displayed, and then the wholine displayed the message 
"Updating mouse sensitivity process in the background"

This message DOES NOT APPEAR in the world described by this header, or
in any world I have tried that is built on top of this world.

I have several suspicions:

-- A patch to the 7-1-patches system on reagan.
   1.6  (Mly)  (created 4/30 10:33) 
    Putting the past in the future tomorrow.
   . . . 
   Function (FLAVOR:METHOD DW::PRESENTATION-PRESENT-SELF DW::TEXT-DISPLAYED-PRESENTATION):
      Don't blow out on terminal newlines. (7-0 34 HOSS via Mly)
    . . .

    This seems likely because both AI and the speech group seem to have
    same bug.  I looked at the code for that patch and it did not do
    anything obviously brain-damaged, but these things are hard to track
    down without any source code.

-- Something  in the IP-TCP system (not in bare system)
-- Something in Hacks
-- Something in Essential Zoo, or Speech Printers (not likely to cause
   AI's problems)


I have not yet figured out how to not load the system 7-1-patches
without building a new world, I'll try to figure that stuff out
tomorrow.  Any suggestions or comments to point me in the right
direction would be appreciated.

Thanks,
Sean
 8-Jun-87 20:12:54-EDT,3629;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jun 87 20:12-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 43390; 8 Jun 87 20:13:21 EDT
Received: from LETHE.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 167520; Mon 8-Jun-87 20:09:10 EDT
Date: Mon, 8 Jun 87 20:09 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: Lost handlers in Genera 7.1
To: sr.tierney@SPEECH.MIT.EDU
cc: bug-lispm@OZ.AI.MIT.EDU, sr.jrg@SPEECH.MIT.EDU, zue@SPEECH.MIT.EDU, 7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870608184927.1.LISP-MACHINE@PANDA.MIT.EDU>
Message-ID: <870608200928.4.7THSON@LETHE.SCRC.Symbolics.COM>
Moon: 5 days, 0 hours, 50 minutes since the first quarter of the moon.

    Date: Mon, 8 Jun 87 18:49 EDT
    From: sr.tierney@SPEECH.MIT.EDU

    In Symbolics 3675 Genera 7.1, Hacks 3.0, Zoo 7.1, IP-TCP 52.16,
    7-1-Patches 1.7, Speech Printers 2.0, microcode 3675-FPA-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 7541, World load FEP0:>zoo-7-1-d-minimal.load.1, on Lisp Machine Panda:

    It looks like Genera 7.1 is not the main reason that mouse handlers are
    not being found.  I tried some very simple code in a world that
    contained no local systems, and things seemed to work o.k..

Thanks for trying this in a clean world, it saves me quite a bit of work
investigating your local files like I promised I would and I'll be able
to investigate a few other problems instead.  Good luck finding the
culprit.

    Here is the code:
    (defstruct (bogus-thing :named)
      first-name
      last-name)

    (define-presentation-type bogus-thing ()
       :no-deftype t)

    (define-presentation-translator print-last-name
       (bogus-thing t :documentation "Last name")
       (object)
      (bogus-thing-last-name object))

    When I evaluated (make-bogus-thing :last-name "foo") in a listener,
    several interesting things happened.  First off the object was
    displayed, and then the wholine displayed the message 
    "Updating mouse sensitivity process in the background"

    This message DOES NOT APPEAR in the world described by this header, or
    in any world I have tried that is built on top of this world.

    I have several suspicions:

    -- A patch to the 7-1-patches system on reagan.
       1.6  (Mly)  (created 4/30 10:33) 
	Putting the past in the future tomorrow.
       . . . 
       Function (FLAVOR:METHOD DW::PRESENTATION-PRESENT-SELF DW::TEXT-DISPLAYED-PRESENTATION):
	  Don't blow out on terminal newlines. (7-0 34 HOSS via Mly)
	. . .

	This seems likely because both AI and the speech group seem to have
	same bug.  I looked at the code for that patch and it did not do
	anything obviously brain-damaged, but these things are hard to track
	down without any source code.

    -- Something  in the IP-TCP system (not in bare system)

We have IP-TCP in all our worlds here and couldn't reproduce it, so I'd
rule it out.

    -- Something in Hacks
    -- Something in Essential Zoo, or Speech Printers (not likely to cause
       AI's problems)


    I have not yet figured out how to not load the system 7-1-patches
    without building a new world, I'll try to figure that stuff out
    tomorrow.  Any suggestions or comments to point me in the right
    direction would be appreciated.

    Thanks,
    Sean


 9-Jun-87 18:46:15-EDT,4960;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Jun 87 18:46-EDT
Received: from FLUTE.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 56269; Tue 9-Jun-87 18:46:16 EDT
Date: Tue, 9 Jun 87 18:45 EDT
From: Laura Bagnall <LAURA@VX.LCS.MIT.EDU>
Subject: :complete-help and the input editor
To: Bug-Lispm@ZERMATT.LCS.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870609184556.4.LAURA@FLUTE.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.15, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Multilisp 14.0,
Experimental Multilisp Compiler 7, Experimental Bounce 1,
Experimental LUNIX 1, New Bfly 11.3, Experimental Basic Graph 1.0,
microcode 3640-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
FEP0:>v127-info.flod(55), Machine serial number 4597,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
This fixes several bugs with :draw-string.  Will be superseded by 7.1 (from GRAPH!:TOOLS;DRAW-STRING-PATCH.LISP.1), on Flute:

I'm pretty confused.  I am using a command loop that at some level uses
cp:read-command-or-form and I wish to override the help message.  So I
wrapped (with-input-editing-options ((:complete-help <my-help-function>)
...) around my command loop.  Lo and behold, when I type HELP, I get the
regular help message.  I've managed to isolate a test case, which
follows.  In each case, I first typed the HELP key, then "()".
When I use READ, I get the expected help message, but when I use
CP:READ-COMMAND-OR-FORM I get the system help message instead.

(with-input-editing-options ((:complete-help  "help")) (read))
help()


NIL
  (with-input-editing-options ((:complete-help  "help")) (cp:read-command-or-form))
You are being asked to enter a command or form.
Use the :Help :Format Detailed command to see a full list of command names.

These are the possible command names:
  Add Paging File      Distribute Systems          LaTeX                   Rm
  Append               Edit ... (8)                Load ... (3)            Rmdir
  Append Out           Enable ... (5)              Login                   Rsh
  BibTeX               Execute Pascal              Logout                  Save ... (4)
  Boot                 Expdir                      Ls                      Select Activity
  Cat                  Explain Facility            Mkdir                   Send ... (2)
  Cd                   Expunge Directory           Monitor Variable        Set ... (17)
  Choose Facilities    Fgrep                       Mv                      Show ... (57)
  Clean File           Find ... (2)                New Show FEP Directory  SliTeX
  Clear ... (3)        Flush Process               Optimize World          Start ... (3)
  Close File           Format File                 Out                     Tail
  Compare Directories  Grep                        Pd                      TeX
  Compile ... (2)      Halt ... (4)                Ping                    Undelete File
  Copy ... (4)         Hardcopy File               Pipe                    Unmonitor Variable
  Cp                   Head                        Popd                    Update Facilities
  Create ... (4)       Help                        Pwd                     VIRTeX
  Debug Process        In                          Rename File             Wc
  Delete ... (2)       Initialize ... (3)          Report Bug              Whois
  Demonstrate Hacks    Inspect                     Reset ... (3)           Xemacs
  Dirs                 Install Distribution World  Restart ... (2)         Xterm
  Disable ... (5)      Kill Process                Restore Distribution    YTeX

Control characters are interpreted as commands to edit input.
Type Control- for a list of input editor commands.
Type Symbol- for a list of special function keys and special character keys.
Type   for a list of programs.
Type   for a list of asynchronous and window operations.
Hold down Shift and click the rightmost mouse button to select the System Menu of programs and window operations.Command: 

         ()
NIL
((SYS:FORM) :ENVIRONMENT NIL)

The documentation for with-input-editing-options claims that the scope
of the options specifications is dynamic unless the :override keyword is
given, so from this I presume that whoever is doing this has specified
:override.  By using List Callers, I believe that it is something in the
depths of dw::accept-2 (called by dw::accept-1, called by accept, called
by cp:read-command-or-form) that is rebinding the :complete-help option,
but without sources I'm stuck.  Can you tell me what's going on, and
what I might do about it?

Thanks,
Laura Bagnall
 9-Jun-87 20:00:42-EDT,4360;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Jun 87 20:00-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 43565; 9 Jun 87 20:01:11 EDT
Received: from LETHE.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 168767; Tue 9-Jun-87 19:58:25 EDT
Date: Tue, 9 Jun 87 19:59 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: Lost handlers in Genera 7.1
To: sr.tierney@SPEECH.MIT.EDU
cc: bug-lispm@OZ.AI.MIT.EDU, sr.jrg@SPEECH.MIT.EDU, zue@SPEECH.MIT.EDU, 7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870608184927.1.LISP-MACHINE@PANDA.MIT.EDU>
Supersedes: <870608200928.4.7THSON@LETHE.SCRC.Symbolics.COM>
Comments: Additional comments added at the bottom
Message-ID: <870609195908.2.7THSON@LETHE.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB
Moon: 6 days, 0 hours, 40 minutes since the first quarter of the moon.

    Date: Mon, 8 Jun 87 18:49 EDT
    From: sr.tierney@SPEECH.MIT.EDU

    In Symbolics 3675 Genera 7.1, Hacks 3.0, Zoo 7.1, IP-TCP 52.16,
    7-1-Patches 1.7, Speech Printers 2.0, microcode 3675-FPA-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 7541, World load FEP0:>zoo-7-1-d-minimal.load.1, on Lisp Machine Panda:

    It looks like Genera 7.1 is not the main reason that mouse handlers are
    not being found.  I tried some very simple code in a world that
    contained no local systems, and things seemed to work o.k..

Thanks for trying this in a clean world, it saves me quite a bit of work
investigating your local files like I promised I would and I'll be able
to investigate a few other problems instead.  Good luck finding the
culprit.

    Here is the code:
    (defstruct (bogus-thing :named)
      first-name
      last-name)

    (define-presentation-type bogus-thing ()
       :no-deftype t)

    (define-presentation-translator print-last-name
       (bogus-thing t :documentation "Last name")
       (object)
      (bogus-thing-last-name object))

    When I evaluated (make-bogus-thing :last-name "foo") in a listener,
    several interesting things happened.  First off the object was
    displayed, and then the wholine displayed the message 
    "Updating mouse sensitivity process in the background"

    This message DOES NOT APPEAR in the world described by this header, or
    in any world I have tried that is built on top of this world.

    I have several suspicions:

    -- A patch to the 7-1-patches system on reagan.
       1.6  (Mly)  (created 4/30 10:33) 
	Putting the past in the future tomorrow.
       . . . 
       Function (FLAVOR:METHOD DW::PRESENTATION-PRESENT-SELF DW::TEXT-DISPLAYED-PRESENTATION):
	  Don't blow out on terminal newlines. (7-0 34 HOSS via Mly)
	. . .

	This seems likely because both AI and the speech group seem to have
	same bug.  I looked at the code for that patch and it did not do
	anything obviously brain-damaged, but these things are hard to track
	down without any source code.

    -- Something  in the IP-TCP system (not in bare system)

We have IP-TCP in all our worlds here and couldn't reproduce it, so I'd
rule it out.

    -- Something in Hacks
    -- Something in Essential Zoo, or Speech Printers (not likely to cause
       AI's problems)


    I have not yet figured out how to not load the system 7-1-patches
    without building a new world, I'll try to figure that stuff out
    tomorrow.  Any suggestions or comments to point me in the right
    direction would be appreciated.

    Thanks,
    Sean

Additional comments from the back room:


The most likely culprit is someone doing surgery on
1dw:with-type-handler-tables-valid-internal0.

The next most likely is having some process running continuously,
so the handler-table updating process never gets to run at all.

Of course, as I've said before, they should be found even then,
and I need to track down that bug.  But it looks like you've got
some situation that turns a small bug into a large one, so if you
can solve that you can get quick relief.

10-Jun-87 03:40:43-EDT,5762;000000000000
Received: from EDDIE.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jun 87 03:40-EDT
Received: by EDDIE.MIT.EDU with sendmail-5.31/4.7 
	id <AA20613@EDDIE.MIT.EDU>; Wed, 10 Jun 87 03:37:59 EDT
Received: by ATHENA (5.45/4.7)
	id AA29068; Wed, 10 Jun 87 03:25:28 EDT
Received: from GRIZZLY.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 3911; Wed 10-Jun-87 02:52:18 EDT
Date: Wed, 10 Jun 87 02:52 EDT
From: Sean Tierney <sr.tierney%SPEECH.MIT.EDU@ATHENA.MIT.EDU>
Subject: Lost handlers in Genera 7.1
To: 7thSon@STONY-BROOK.SCRC.Symbolics.COM
Cc: sr.tierney%SPEECH.MIT.EDU@ATHENA.MIT.EDU,
        bug-lispm%OZ.AI.MIT.EDU@ATHENA.MIT.EDU,
        sr.jrg%SPEECH.MIT.EDU@ATHENA.MIT.EDU,
        zue%SPEECH.MIT.EDU@ATHENA.MIT.EDU
In-Reply-To: <870609195908.2.7THSON@LETHE.SCRC.Symbolics.COM>
Message-Id: <870610025244.1.TIERNEY@GRIZZLY.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Tue, 9 Jun 87 19:59 EDT
    From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
    Subject: Lost handlers in Genera 7.1
    To: sr.tierney%SPEECH.MIT.EDU@ATHENA.MIT.EDU
    Cc: bug-lispm%OZ.AI.MIT.EDU@ATHENA.MIT.EDU,
	    sr.jrg%SPEECH.MIT.EDU@ATHENA.MIT.EDU,
	    zue%SPEECH.MIT.EDU@ATHENA.MIT.EDU,
	    7thSon@STONY-BROOK.SCRC.Symbolics.COM
    In-Reply-To: <870608184927.1.LISP-MACHINE@PANDA.MIT.EDU>
    Supersedes: <870608200928.4.7THSON@LETHE.SCRC.Symbolics.COM>
    Comments: Additional comments added at the bottom
    Message-Id: <870609195908.2.7THSON@LETHE.SCRC.Symbolics.COM>
    Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
    Fonts: CPTFONT, CPTFONTCB
    Moon: 6 days, 0 hours, 40 minutes since the first quarter of the moon.

	Date: Mon, 8 Jun 87 18:49 EDT
	From: sr.tierney@SPEECH.MIT.EDU

	In Symbolics 3675 Genera 7.1, Hacks 3.0, Zoo 7.1, IP-TCP 52.16,
	7-1-Patches 1.7, Speech Printers 2.0, microcode 3675-FPA-MIC 396,
	FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	Machine serial number 7541, World load FEP0:>zoo-7-1-d-minimal.load.1, on Lisp Machine Panda:

I floundered about a bit and built a few incremental worlds using some
tool in Essential Zoo. I have a world up and running with 7-1-patches,
Essential
Zoo, Hacks and Speech Printers all in it.  The boring test code above
does what it is supposed to do.  I also built a new spire world that has
a few bugs in it, but seems to find all the handlers I write.  This
stuff has me quite confused, because I can not see any differences
between the worlds.

I looked at the dissassembled code for
1dw:with-type-handler-tables-valid-internal0 in both the old and new
worlds and could not discern any differences.  I also checked the Peek
window for any random processes, but could not see anything I thought
suspicious.

	It looks like Genera 7.1 is not the main reason that mouse handlers are
	not being found.  I tried some very simple code in a world that
	contained no local systems, and things seemed to work o.k..

    Thanks for trying this in a clean world, it saves me quite a bit of work
    investigating your local files like I promised I would and I'll be able
    to investigate a few other problems instead.  Good luck finding the
    culprit.

	Here is the code:
	(defstruct (bogus-thing :named)
	  first-name
	  last-name)

	(define-presentation-type bogus-thing ()
	   :no-deftype t)

	(define-presentation-translator print-last-name
	   (bogus-thing t :documentation "Last name")
	   (object)
	  (bogus-thing-last-name object))

	When I evaluated (make-bogus-thing :last-name "foo") in a listener,
	several interesting things happened.  First off the object was
	displayed, and then the wholine displayed the message 
	"Updating mouse sensitivity process in the background"

	This message DOES NOT APPEAR in the world described by this header, or
	in any world I have tried that is built on top of this world.

	I have several suspicions:

	-- A patch to the 7-1-patches system on reagan.
	   1.6  (Mly)  (created 4/30 10:33) 
	    Putting the past in the future tomorrow.
	   . . . 
	   Function (FLAVOR:METHOD DW::PRESENTATION-PRESENT-SELF DW::TEXT-DISPLAYED-PRESENTATION):
	      Don't blow out on terminal newlines. (7-0 34 HOSS via Mly)
	    . . .

	    This seems likely because both AI and the speech group seem to have
	    same bug.  I looked at the code for that patch and it did not do
	    anything obviously brain-damaged, but these things are hard to track
	    down without any source code.

	-- Something  in the IP-TCP system (not in bare system)

    We have IP-TCP in all our worlds here and couldn't reproduce it, so I'd
    rule it out.

	-- Something in Hacks
	-- Something in Essential Zoo, or Speech Printers (not likely to cause
	   AI's problems)


	I have not yet figured out how to not load the system 7-1-patches
	without building a new world, I'll try to figure that stuff out
	tomorrow.  Any suggestions or comments to point me in the right
	direction would be appreciated.

	Thanks,
	Sean

    Additional comments from the back room:


    The most likely culprit is someone doing surgery on
    1dw:with-type-handler-tables-valid-internal0.

    The next most likely is having some process running continuously,
    so the handler-table updating process never gets to run at all.

    Of course, as I've said before, they should be found even then,
    and I need to track down that bug.  But it looks like you've got
    some situation that turns a small bug into a large one, so if you
    can solve that you can get quick relief.


10-Jun-87 09:40:10-EDT,1720;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jun 87 09:40-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 43643; Wed 10-Jun-87 09:39:18 EDT
Date: Wed, 10 Jun 87 09:39 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: with-open-file in Common Lisp
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870610093911.1.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.15, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


;;; Files are only supposed to be deleted on an abort if they are NEW
;;; output files.

(defun file-update-bug (filename)
  (let ((truename nil))

    ;; write a file
    (with-open-file (file filename :direction :output))
    
    ;; now open it, but lose in the middle and abort out of the error
    (with-open-file (file filename
			  :direction :output
			  :if-exists :overwrite)
      ;; remember its exact name
      (setq truename (truename file))

      ;; say an error happens and causes an abort ...
      (close file :abort t))
    
    ;; and it is gone!
    (if (not (probe-file truename))
	(error "Abort Close deleted the file ~S" truename))
    ))

(file-update-bug "b:>glr>foo.bar")
10-Jun-87 14:48:49-EDT,921;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jun 87 14:48-EDT
Received: from ALDERAAN.SCRC.Symbolics.COM (ALDERAAN.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 56384; 10 Jun 87 14:36:42 EDT
Received: from FLIGHTLESS-WATERFOWL.SCRC.Symbolics.COM by ALDERAAN.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 90427; Wed 10-Jun-87 10:58:36 EDT
Date: Wed, 10 Jun 87 10:58 EDT
From: Crawley@ALDERAAN.SCRC.Symbolics.COM
To: BUG-LISPM@ZERMATT.LCS.MIT.EDU
Subject: :show printer status and local namespace caching
References: <870605100146.4.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870610105831.1.CRAWLEY@FLIGHTLESS-WATERFOWL.SCRC.Symbolics.COM>

[The referenced message has been redirected:
  show-printer-status-internal should send each printer object a 
  :check-validity message to avoid this.
    BUG-LISPM has been removed;
    bug-hardcopy has been added.]

10-Jun-87 15:32:03-EDT,3990;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jun 87 15:31-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 56399; 10 Jun 87 15:28:05 EDT
Received: from CARDINAL.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 136612; Wed 10-Jun-87 11:52:25 EDT
Date: Wed, 10 Jun 87 11:52 EDT
From: William M. York <York@SAPSUCKER.SCRC.Symbolics.COM>
Subject: :complete-help and the input editor
To: LAURA@VX.LCS.MIT.EDU, Bug-Lispm@ZERMATT.LCS.MIT.EDU, customer-reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870609184556.4.LAURA@FLUTE.LCS.MIT.EDU>
Message-ID: <870610115204.0.YORK@CARDINAL.SCRC.Symbolics.COM>

    Date: Tue, 9 Jun 87 18:45 EDT
    From: Laura Bagnall <LAURA@VX.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,

    I'm pretty confused.  I am using a command loop that at some level uses
    cp:read-command-or-form and I wish to override the help message.  So I
    wrapped (with-input-editing-options ((:complete-help <my-help-function>)
    ...) around my command loop.  Lo and behold, when I type HELP, I get the
    regular help message.  I've managed to isolate a test case, which
    follows.  In each case, I first typed the HELP key, then "()".
    When I use READ, I get the expected help message, but when I use
    CP:READ-COMMAND-OR-FORM I get the system help message instead.

    (with-input-editing-options ((:complete-help  "help")) (read))
    help()

      (with-input-editing-options ((:complete-help  "help")) (cp:read-command-or-form))
    You are being asked to enter a command or form.
    Use the :Help :Format Detailed command to see a full list of command names.

    These are the possible command names:
      Add Paging File      Distribute Systems          LaTeX                   Rm
[...]
	     ()
    NIL
    ((SYS:FORM) :ENVIRONMENT NIL)

    The documentation for with-input-editing-options claims that the scope
    of the options specifications is dynamic unless the :override keyword is
    given, so from this I presume that whoever is doing this has specified
    :override.  By using List Callers, I believe that it is something in the
    depths of dw::accept-2 (called by dw::accept-1, called by accept, called
    by cp:read-command-or-form) that is rebinding the :complete-help option,
    but without sources I'm stuck.  Can you tell me what's going on, and
    what I might do about it?

Well, the situation is confusing.  ACCEPT supplies :complete-help
:override so that the help message that is established for each ACCEPT
context will supplant the standard top-level help message (the one that
tells you about all the various Help gestures).  Unfortunately this also
stomps on a user-supplied :complete-help option.  The input editor
option mechanism provides a way for a called context to override a
calling context's options, but it doesn't provide a way for a caller to
say that it doesn't want to be overridden.

The reason that ACCEPT overrides the :complete-help option is to install
its own help mechanism.  This mechanism is controlled via the
WITH-ACCEPT-HELP macro and is used by presentation types to construct
their help info. WITH-ACCEPT-HELP provides more options to resolve these
kinds of outer/inner context conflicts (see the documentation).  Since
the CP is based on ACCEPT these days, you can use WITH-ACCEPT-HELP to
control your help messages.

(dw:with-accept-help (((:top-level-help :override) "top-level")
		      ((:subhelp :override) "subhelp"))
  (cp:read-command-or-form *query-io* :prompt "foo: "))

Unfortunately, if you actually want to call READ you will have to also
establish a :complete-help handler, since READ is at a lower level than
ACCEPT.  Of course, you could instead use (accept 'sys:form), which will
participate in the WITH-ACCEPT-HELP scheme.

10-Jun-87 18:32:12-EDT,2602;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jun 87 18:32-EDT
Received: from LIVE-OAK.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 56463; Wed 10-Jun-87 18:28:17 EDT
Received: from ROCKY-GRAZIANO.LCS.MIT.EDU by LIVE-OAK.LCS.MIT.EDU.ARPA via CHAOS with CHAOS-MAIL id 46496; Wed 10-Jun-87 17:30:33-EDT
Date: Wed, 10 Jun 87 17:29 EDT
From: Philip Greenspun <philg@REAGAN.AI.MIT.EDU>
Subject: Zmacs loss
To: BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870610172935.1.PHILG@ROCKY-GRAZIANO.LCS.MIT.EDU>

In Symbolics 3640 Release 6.G2, IP-TCP 29.13, Release-6-7 6.0,
6-1-Patches 1.27, MAC 5.2, Macsyma 396.42,
microcode TMC5-IO4-COL-MIC 388, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
FEP0:>v127-info.flod(54), on Lisp Machine Rocky Graziano:

I typed Meta-J by mistake and got this ...

>>Trap: The argument given to the ZEROP instruction, NIL, was not a number.
While in the function ZWEI:CHANGE-FONT-INTERVAL  ZWEI:COM-CHANGE-FONT-WORD  ZWEI:COMMAND-EXECUTE

ZWEI:CHANGE-FONT-INTERVAL:  (P.C. = 37)
   Arg 0 (ZWEI:START-BP): ("program is readily understood by a novice." 42 :NORMAL)
   Arg 1 (ZWEI:END-BP): (" and, due to the complexity of interaction among" 4)
   Arg 2 (ZWEI:IN-ORDER-P): NIL
   Arg 3 (ZWEI:FONT-NUM): NIL
   Local 4 (ZWEI:LINE): "program is readily understood by a novice."
   Local 5 (ZWEI:LIMIT-LINE): " and, due to the complexity of interaction among"
   Local 6 (ZWEI:START-INDEX): 42
   Local 7 (ZWEI:LAST-LINE-P): NIL

ZWEI:COM-CHANGE-FONT-WORD:  (P.C. = 22)

ZWEI:COMMAND-EXECUTE:  (P.C. = 57)
   Arg 0 (ZWEI:COMMAND): ZWEI:COM-CHANGE-FONT-WORD
   Arg 1 (ZWEI:CHAR): 586
   Arg 2 (ZWEI:PREFIX-CHAR): NIL
   Arg 3 (ZWEI:HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
   Arg 0 (ZWEI:CH): 586

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 233)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 34272127>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 12. IV's, 0. FL's 40057107>
   Arg 2 (SI:OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (ZWEI:TOP-LEVEL-P): T
   Arg 4 (ZWEI:DESCRIPTION): NIL

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 60)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 34272127>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 40057073>
   Arg 2 (SI:.OPERATION.): :EDIT
   Rest arg (SI:.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 51)

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
10-Jun-87 23:44:02-EDT,3554;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jun 87 23:43-EDT
Received: from APIARY-9.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 43793; Wed 10-Jun-87 23:40:33 EDT
Date: Wed, 10 Jun 87 23:40 EDT
From: Paul Krause <T.PFKRAUSE@DEEP-THOUGHT.MIT.EDU>
Subject: Defstruct Slot-Options (Steele 19.4)
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870610234033.1.PFKRAUSE@APIARY-9.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI


When expanding the struct:

(defstruct parse-datum
	sentence
	(words :type integer)
	...)

the :type slot-option is lost by the use of zl:pop in the defstruct-parse-one-cl-field code:

(defun defstruct-parse-one-cl-field (name number rest packed conc-name)
  (let ((mname (if conc-name (append-symbols conc-name name) name))
	(init-code (if (null rest) (make-empty) (pop rest)))
	(byte nil)
	(type 't)
	(plist nil))
    (do () ((null rest))
      (selectq (car rest)
	(:type (setq type (cadr rest)))
	(:byte (unless packed
		 (defstruct-error ":BYTE is illegal in non-packed defstruct slot" name))
	       (setq byte (cadr rest)))
	(:initialized (when (null (cadr rest))
			(setq init-code (make-empty))))
	(otherwise
	 (if (and (symbolp (car rest)) (get (car rest) 'defstruct-slot-property))
	     (putprop (locf plist) (cadr rest) (car rest))
	     (defstruct-error "Unrecognized slot option" (car rest) 'in 'slot name))))
      (setq rest (cddr rest))) ... ))

... so that nothing matches the selectq.

In Symbolics 3600 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.15, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3600-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(54),
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Apiary-9:



1Error: Unrecognized slot option: INTEGER in slot WORDS
0While in the function 

The condition signalled was ZL:FERROR

1SI:DEFSTRUCT-PARSE-ONE-CL-FIELD0:  2(from B:>sys>r7>sys2>struct)
0   Arg 0 (SI:NAME): WORDS
   Arg 1 (NUMBER): 1
   Arg 2 (SI:REST): (:TYPE INTEGER)
   Arg 3 (SI:PACKED): NIL
   Arg 4 (SI:CONC-NAME): PARSE-DATUM-

1SI:DEFSTRUCT-PARSE-CL-ITEMS0:  (P.C. = 201)
   Arg 0 (SI:ITEMS): (SENTENCE (WORDS :TYPE INTEGER) (TIME-START :TYPE INTEGER) (TIME-FINISH :TYPE INTEGER) (PARSES :TYPE INTEGER) PARSE-LIST)
   Arg 1 (SI:DESCRIPTION): (SI:ONE :NAMED-ARRAY NIL NIL T ((MAKE-PARSE-DATUM)) NIL NIL NIL NIL ...)

1DEFSTRUCT0:  (P.C. = 35)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SI:.FORM.): (DEFSTRUCT PARSE-DATUM SENTENCE (WORDS :TYPE INTEGER) (TIME-START :TYPE INTEGER) (TIME-FINISH :TYPE INTEGER) (PARSES :TYPE INTEGER) PARSE-LIST)
   Arg 1 (SI:.ENV.): NIL

1SI:EVAL-MACRO0:  (P.C. = 37)
   Arg 0 (SI:EXPANDER): #<DTP-COMPILED-FUNCTION DEFSTRUCT 144440132>
   Arg 1 (SYS:FORM): (DEFSTRUCT PARSE-DATUM SENTENCE (WORDS :TYPE INTEGER) (TIME-START :TYPE INTEGER) (TIME-FINISH :TYPE INTEGER) (PARSES :TYPE INTEGER) PARSE-LIST)
   Arg 2 (SI:ENV): NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (DEFSTRUCT PARSE-DATUM SENTENCE (WORDS :TYPE INTEGER) (TIME-START :TYPE INTEGER) (TIME-FINISH :TYPE INTEGER) (PARSES :TYPE INTEGER) PARSE-LIST)
11-Jun-87 15:53:07-EDT,2464;000000000000
Received: from LIVE-OAK.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 11 Jun 87 15:52-EDT
Received: from PALLADIAN-JASPER.DialNet.Symbolics.COM by LIVE-OAK.LCS.MIT.EDU.ARPA via DIAL with SMTP id 46687; 11 Jun 87 15:54:27-EDT
Received: from CHUGACH.Palladian.COM by JASPER.Palladian.COM via INTERNET with SMTP id 2303; 11 Jun 87 15:12:45-EDT
Date: Thu, 11 Jun 87 15:12 EDT
From: Jeff Gibbons <jeff@JASPER.PALLADIAN.COM>
Subject: Defstruct Slot-Options (Steele 19.4)
To: Paul Krause <T.PFKRAUSE@DEEP-THOUGHT.MIT.EDU>,
    Bug-LispM@OZ.AI.MIT.EDU
In-Reply-To: <870610234033.1.PFKRAUSE@APIARY-9.AI.MIT.EDU>
Message-ID: <870611151232.3.JEFF@CHUGACH.PALLADIAN.COM>
Reply-To: Jeff Gibbons <JEFF%JASPER@LIVE-OAK.LCS.MIT.EDU>

    Date: Wed, 10 Jun 87 23:40 EDT
    From: Paul Krause <T.PFKRAUSE@DEEP-THOUGHT.MIT.EDU>


    When expanding the struct:

    (defstruct parse-datum
	    sentence
	    (words :type integer)
	    ...)

    the :type slot-option is lost by the use of zl:pop in the defstruct-parse-one-cl-field code:

    (defun defstruct-parse-one-cl-field (name number rest packed conc-name)
      (let ((mname (if conc-name (append-symbols conc-name name) name))
	    (init-code (if (null rest) (make-empty) (pop rest)))
	    (byte nil)
	    (type 't)
	    (plist nil))
	(do () ((null rest))
	  (selectq (car rest)
	    (:type (setq type (cadr rest)))
	    (:byte (unless packed
		     (defstruct-error ":BYTE is illegal in non-packed defstruct slot" name))
		   (setq byte (cadr rest)))
	    (:initialized (when (null (cadr rest))
			    (setq init-code (make-empty))))
	    (otherwise
	     (if (and (symbolp (car rest)) (get (car rest) 'defstruct-slot-property))
		 (putprop (locf plist) (cadr rest) (car rest))
		 (defstruct-error "Unrecognized slot option" (car rest) 'in 'slot name))))
	  (setq rest (cddr rest))) ... ))

    ... so that nothing matches the selectq.

Note that the last line on the bottom of page 310 of CLtL states:

"Note that it is impossible to specify a slot-option unless a default value is
specified first."

The syntax for slot-descriptions on page 308 also demonstrates this.

In your example, the slot WORDS is taking the :TYPE as the initial value and then
trying to parse the remainder of the list as slot-options. If you look carefully at
the code above, you will see that the POP you refer to is providing the value for the
INIT-CODE variable in the LET.

jeff


12-Jun-87 12:37:14-EDT,7478;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 12:37-EDT
Received: from LIVE-OAK.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 56901; Fri 12-Jun-87 11:45:25 EDT
Received: from ZERMATT.LCS.MIT.EDU.ARPA by LIVE-OAK.LCS.MIT.EDU.ARPA via INTERNET with SMTP id 46827; 12 Jun 87 11:43:59-EDT
Date: Fri, 12 Jun 87 11:39 EDT
From: rws@ZERMATT.LCS.MIT.EDU
Sender: File-Server@ZERMATT.LCS.MIT.EDU
Subject: the mailer ought to provide better "outs" than this
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870612113955.1.FILE-SERVER@ZERMATT.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.16, MAC 11.2, Experimental X-Window-System 17.4,
microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
fep0:>g206-info.flod(14), Machine serial number 30100,
Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
Network-Security patch (from Z:>File-Server>network-security.lisp.4),
Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

The only proceed options provided are to "reboot", which are unlikely to
help in this case.  It really ought to offer to ignore the address, so
that the mailer can at least come up.

1Error: 
       In "KEVIN@FUNGUS.MIT.EDU",
                 
       The host named #<NAME MIT|FUNGUS 11064514> was not found.
       No host with that name is already known by the local machine,
       but it is not certain that there is no such host.
       Some namespace server did not respond.
0While in the function ZWEI:PARSE-DOMAIN-OR-HOST-TOKEN  ZWEI:ADDRESS-DOMAIN-HOST-INDICATOR  ZWEI:PARSE-DRIVER

The condition signalled was ZWEI:DOMAIN-SYNTAX-PARSE-ERROR

1ZWEI:PARSE-DOMAIN-OR-HOST-TOKEN0:  (P.C. = 103)
   Arg 0 (ZWEI:DOMAIN-OR-HOST-TOKEN): (("FUNGUS" "MIT" "EDU") ("KEVIN@FUNGUS.MIT.EDU" 6) ("KEVIN@FUNGUS.MIT.EDU" 20))
   Local 1 (ZWEI:DOMAIN-OR-HOST): ("FUNGUS" "MIT" "EDU")
   Local 2 (ZWEI:START-BP): ("KEVIN@FUNGUS.MIT.EDU" 6)
   Local 3 (ZWEI:END-BP): ("KEVIN@FUNGUS.MIT.EDU" 20)
   Local 4 (ZWEI:.ERROR.): #<OBJECT-NOT-FOUND-IN-NAMESPACE 31514567>

1ZWEI:ADDRESS-DOMAIN-HOST-INDICATOR0:  (P.C. = 13)
   Arg 0 (ZWEI:ATSIGN): (ZWEI:ATSIGN #\@ ("KEVIN@FUNGUS.MIT.EDU" 6))
   Arg 1 (ZWEI:HOST): (("FUNGUS" "MIT" "EDU") ("KEVIN@FUNGUS.MIT.EDU" 6) ("KEVIN@FUNGUS.MIT.EDU" 20))

1ZWEI:PARSE-DRIVER0:  (P.C. = 241)
   Arg 0 (LIST): ((ATOM "KEVIN" ("KEVIN@FUNGUS.MIT.EDU" 0) ("KEVIN@FUNGUS.MIT.EDU" 5)) (ZWEI:ATSIGN #\@ ("KEVIN@FUNGUS.MIT.EDU" 6)) (ATOM "FUNGUS" ("KEVIN@FUNGUS.MIT.EDU" 6) ("KEVIN@FUNGUS.MIT.EDU" 12)) (ZWEI:PERIOD #\. ("KEVIN@FUNGUS.MIT.EDU" 13)) (ATOM ("FUNGUS" "MIT" "EDU") ("KEVIN@FUNGUS.MIT.EDU" 6) ("KEVIN@FUNGUS.MIT.EDU" 20)) (ZWEI:PERIOD #\. ("KEVIN@FUNGUS.MIT.EDU" 17)) (ATOM "EDU" ("KEVIN@FUNGUS.MIT.EDU" 17) ("KEVIN@FUNGUS.MIT.EDU" 20)) (ZWEI:EOF NIL ("KEVIN@FUNGUS.MIT.EDU" 20)))
   Local 0 (LIST): ((ZWEI:EOF NIL ("KEVIN@FUNGUS.MIT.EDU" 20)))
   Arg 1 (ZWEI:GRAMMAR): #S(ZWEI:PARSE-GRAMMAR :NAME ZWEI:ADDRESSES :TERMINALS (ZWEI:EOF ZWEI:LEFT-BRACKET ZWEI:RIGHT-BRACKET ZWEI:ATSIGN ZWEI:COMMA ZWEI:SEMI ZWEI:COLON ZWEI:QUOTED-STRING ZL:COMMENT ZL:CLOSE ...) :SYMBOLS (ZWEI:AT ZWEI:AT-HOST ZWEI:PATH-HOST-INDICATOR ZWEI:SUB-DOMAIN ZWEI:DOMAIN-HOST-INDICATOR ZWEI:HOST-INDICATOR ZWEI:PHRASE-FOR-HOST ZWEI:HOST-PHRASE ZWEI:WORD ZWEI:PHRASE ...) :PRODUCTIONS (#<ART-Q-4 120366653> #<ART-Q-4 120366660> #<ART-Q-4 120366665> #<ART-Q-4 120366672> #<ART-Q-4 120366677> #<ART-Q-4 120366704> #<ART-Q-4 120366711> #<ART-Q-4 120366716> #<ART-Q-4 120366723> #<ART-Q-4 120366730> ...) :TOP-LEVEL-PRODUCTION ...)

1ZWEI:PARSE-ADDRESSES-INTERVAL0:  (P.C. = 56)
   Arg 0 (ZWEI:START-BP): ("KEVIN@FUNGUS.MIT.EDU" 0)
   Arg 1 (ZWEI:END-BP): ("KEVIN@FUNGUS.MIT.EDU" 20)
   Arg 2 (ZWEI:IN-ORDER-P): T

1ZWEI:PARSE-ADDRESSES0:  (P.C. = 32)
   Arg 0 (STRING): "KEVIN@FUNGUS.MIT.EDU"
   Arg 1 (ZWEI:START): 0
   Arg 2 (ZWEI:END): NIL
   Local 2 (ZWEI:END): 20

1ZWEI:PARSE-ONE-ADDRESS0:  (P.C. = 12)
   Arg 0 (STRING): "KEVIN@FUNGUS.MIT.EDU"
2   --Defaulted args:--
0   Arg 1 (ZWEI:START): 0
   Arg 2 (ZWEI:END): NIL
   Arg 3 (ZWEI:ALLOW-ZERO): NIL

1MAILER:PARSE-MAILBOX0:  (P.C. = 12)
   Arg 0 (STRING): "KEVIN@FUNGUS.MIT.EDU"

1MAILER:MAILBOX-EVAL0:  (P.C. = 31)
   Arg 0 (SYS:FORM): "KEVIN@FUNGUS.MIT.EDU"
2   --Defaulted args:--
0   Arg 1 (MAILER:PARSE-FUNCTION): NIL

1(:PROPERTY LIST MAILER:MAILBOX-EVAL)0:  (P.C. = 20)
   Arg 0 (SYS:FORM): (LIST "Cerys" "CJL" "CWH-MIT" "DARTH" "HAROLD" "JRL" "NLM" "Qobi" "RWS" ...)

1MAILER:MAILBOX-EVAL0:  (P.C. = 76)
   Arg 0 (SYS:FORM): (LIST "Cerys" "CJL" "CWH-MIT" "DARTH" "HAROLD" "JRL" "NLM" "Qobi" "RWS" ...)
2   --Defaulted args:--
0   Arg 1 (MAILER:PARSE-FUNCTION): NIL

1MAILER:DEFINE-INTERNAL0:  (P.C. = 15)
   Arg 0 (SYS:FORM): (MAILER:DEFINE "SLUG-LOCAL" (LIST "Cerys" "CJL" "CWH-MIT" "DARTH" "HAROLD" "JRL" "NLM" "Qobi" "RWS" ...))
   Arg 1 (MAILER:LOCAL?): NIL

1(:PROPERTY MAILER:DEFINE MAILER:MAILBOX-EVAL)0:  (P.C. = 4)
   Arg 0 (SYS:FORM): (MAILER:DEFINE "SLUG-LOCAL" (LIST "Cerys" "CJL" "CWH-MIT" "DARTH" "HAROLD" "JRL" "NLM" "Qobi" "RWS" ...))

1MAILER:MAILBOX-EVAL0:  (P.C. = 76)
   Arg 0 (SYS:FORM): (MAILER:DEFINE "SLUG-LOCAL" (LIST "Cerys" "CJL" "CWH-MIT" "DARTH" "HAROLD" "JRL" "NLM" "Qobi" "RWS" ...))
2   --Defaulted args:--
0   Arg 1 (MAILER:PARSE-FUNCTION): NIL

1MAILER:MAILBOX-TABLE-READ-FILE0:  (P.C. = 117)
   Arg 0 (MAILER:PATHNAME): #P"Z:>Mail>Static>Mailboxes.text.newest"
   Arg 1 (MAILER:CREATION-DATE-SYMBOL): MAILER:LOCAL-MAILBOXES-CREATION-DATE
   Arg 2 (MAILER:TRUENAME-SYMBOL): MAILER:LOCAL-MAILBOXES-TRUENAME
   Arg 3 (MAILER:TRANSITION?): NIL
   Arg 4 (MAILER:TYPE): "local mailboxes"

1MAILER:MAILBOX-TABLE-READ0:  (P.C. = 54)
   Arg 0 (MAILER:FORCE?): T
   Special DBG:*BOUND-HANDLERS*: (#<CASE-HANDLER 161600470> #<LEXICAL-CLOSURE (:INTERNAL MAILER:TOP-LEVEL 0) 233300101>)

1(:PROPERTY MAILER:MAILBOXES MAILER:COLD-BOOT)0:  (P.C. = 3)

1(:INTERNAL (:INTERNAL MAILER:FOREGROUND-TOP-LEVEL 0 FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST) 0)0:  (P.C. = 31)
   Arg 0 (MAILER:PROCESS-INFO): #S(MAILER:PROCESS-INFO :PROCESS #<PROCESS Mail Foreground 15434501> :DESCRIPTION "foreground" :COMMAND-CELL :STOP :COMMAND-PROCESS #<PROCESS Mail Foreground 15434501>)

1MAILER:TOP-LEVEL0:  (P.C. = 150)
   Arg 0 (MAILER:LOG-PROCESS-ID): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL (:INTERNAL MAILER:FOREGROUND-TOP-LEVEL 0 FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST) 0) 260144155>
   Rest arg (ZL:ARGS): NIL

1(:INTERNAL MAILER:FOREGROUND-TOP-LEVEL 0 FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST)0:  (P.C. = 4)

1FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST-INTERNAL0:  (P.C. = 30)  2(from SYS:PATCH;SYSTEM-349-221)
0   Arg 0 (FS:CONTINUATION): #<DTP-COMPILED-FUNCTION (:INTERNAL MAILER:FOREGROUND-TOP-LEVEL 0 FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST) 260144111>

1MAILER:FOREGROUND-TOP-LEVEL0:  (P.C. = 7)  2(from SYS:MAILER;PATCH;ML-5-3)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL

12-Jun-87 14:31:50-EDT,2222;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 14:31-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 56935; 12 Jun 87 14:30:28 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 171596; 12 Jun 87 14:19:02 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 53644; Fri 12-Jun-87 11:18:01 PDT
Date: Fri, 12 Jun 87 11:18 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: IWBNI I could dump my file server
To: rws%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-Lispm%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870605111014.1.FILE-SERVER@ZERMATT.LCS.MIT.EDU>
Message-ID: <870612111802.0.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Fri, 5 Jun 87 11:10 EDT
    From: rws@ZERMATT.LCS.MIT.EDU

    In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.14, MAC 11.1, Experimental X-Window-System 17.4,
    microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
    fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
    fep0:>g206-info.flod(14), Machine serial number 30100,
    Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
    Network-Security patch (from Z:>File-Server>network-security.lisp.4),
    Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
    Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

    This losing system crashed into the FEP again, with a page fault
    on an unallocated VMA, while trying to set dump dates during an
    on-line incremental dump.  This is getting to be pretty pathetic.


Hello,
Does it always get the page faults during incremental dumps, or
does it seem to happen randomly?  Is the VMA always the same?
Generally, this is not reproducible.  If it happens frequently, it
may be a hardware problem (I believe that MC's have been known 
to do this at times.)  

Steve Trever
  


12-Jun-87 14:39:58-EDT,2563;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 14:39-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44105; 12 Jun 87 14:39:11 EDT
Received: from COCKATIEL.SCRC.Symbolics.COM (COCKATIEL.SCRC.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 171633; 12 Jun 87 14:38:23 EDT
Date: Fri, 12 Jun 87 14:38 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: Reagan Crash
To: CJL@REAGAN.AI.MIT.EDU
cc: Bug-Symbolics-hardware@OZ.AI.MIT.EDU, bug-lispm@OZ.AI.MIT.EDU, customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870527155102.1.FILE-SERVER@REAGAN.AI.MIT.EDU>
Message-ID: <870612143813.1.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Moon: 1 day, 10 hours, 8 minutes since the full moon.

    Date: Wed, 27 May 87 15:51 EDT
    From: CJL@REAGAN.AI.MIT.EDU

    In Symbolics 3650 Symbolics-hardware in Genera 7.1, Mailer 5.13,
    IP-TCP 52.16, ILA-NFS 3.2, 7-1-Patches 1.12, MAC 11.1,
    Experimental X-Window-System 17.4, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30093,
    Rodent Free Namespace Editor (from B:>facilities>r7>ned.lisp.15),
    Network-Security patch (from B:>File-Server>network-security.lisp.4),
    Server-Finger patch (from B:>file-server>server-finger.lisp.183),
    Update-Internet-Namespace patch (from B:>file-server>update-internet-namespace.lisp.115),
    Dynamic Update Daemon (from B:>File-Server>update-daemon.lisp.31), on Lisp Machine Ronald Reagan:

    Reagan keeps crashing with this error status. I can't figure out what it
    means.

I've never seen it before either.  It doesn't appear to be a hardware
problem.  Does the FEP Debugger tell you anything interesting?

      Sequencer status: OPCA 33, NOP, UIR stop, Spec halt, Single step done

      Control stack info: CSP 13, current task 0, requesting task 4

      3600 program counters:
	Macro PC/ (Even)144453006, VMA/ 304016710, FP/ 233301064, SP/ 233301112
       CPC/     0
	OPC+0/ 33440      OPC+10/  3175
	OPC+1/ 34167      OPC+11/ 10503
	OPC+2/ 10715      OPC+12/ 50502
	OPC+3/  3163      OPC+13/ 10502
	OPC+4/  1645      OPC+14/  6622
	OPC+5/ 10714      OPC+15/  4230
	OPC+6/ 50000      OPC+16/ 14000
	OPC+7/  3176      OPC+17/ 14000





















12-Jun-87 15:26:39-EDT,2667;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 15:26-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 56944; 12 Jun 87 15:25:13 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 12 Jun 87 14:46-EDT
Date: Fri, 12 Jun 87 14:47 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: IWBNI I could dump my file server
To: trev@VERMITHRAX.SCH.Symbolics.COM
cc: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-Lispm@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870612111802.0.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870612144700.0.RWS@KILLINGTON.LCS.MIT.EDU>

    Date: Fri, 12 Jun 87 11:18 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>

	Date: Fri, 5 Jun 87 11:10 EDT
	From: rws@ZERMATT.LCS.MIT.EDU

	In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
	7-1-Patches 1.14, MAC 11.1, Experimental X-Window-System 17.4,
	microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
	fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
	fep0:>g206-info.flod(14), Machine serial number 30100,
	Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
	Network-Security patch (from Z:>File-Server>network-security.lisp.4),
	Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
	Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

	This losing system crashed into the FEP again, with a page fault
	on an unallocated VMA, while trying to set dump dates during an
	on-line incremental dump.  This is getting to be pretty pathetic.


    Hello,
    Does it always get the page faults during incremental dumps, or
    does it seem to happen randomly?  Is the VMA always the same?
    Generally, this is not reproducible.  If it happens frequently, it
    may be a hardware problem (I believe that MC's have been known 
    to do this at times.)  

It is *not* random, it very *definitely* happens in conjunction with
(incremental) dumps.  It seems almost certain to happen any time we do a
dump (in fact I'm not sure we've been able to do a dump recently without
it happening), although the more file server activity going on the
higher the probability.  It seems most likely to do it while setting
backup dates, but it sometimes happens during the dump.  It isn't always
the dumper process that dies; it is sometimes an NFILE server.  It seems
pretty consistently to be some corrupted LMFS:FILE-BUFFER.  I do not
believe the VMA is always the same, although I don't have them written
down (I'm not always the one around when it dies).
12-Jun-87 16:18:48-EDT,2075;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 16:18-EDT
Received: from VALLECITO.SCRC.Symbolics.COM (VALLECITO.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44141; 12 Jun 87 15:34:31 EDT
Received: from ROBIN.SCRC.Symbolics.COM by VALLECITO.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 133371; Fri 12-Jun-87 15:27:02 EDT
Date: Fri, 12 Jun 87 15:26 EDT
From: Kalman Reti <Reti@STONY-BROOK.SCRC.Symbolics.COM>
Subject: Reagan Crash
To: 7thSon@STONY-BROOK.SCRC.Symbolics.COM, CJL@REAGAN.AI.MIT.EDU
cc: Bug-Symbolics-hardware@OZ.AI.MIT.EDU, bug-lispm@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870612143813.1.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Message-ID: <870612152601.8.RETI@ROBIN.SCRC.Symbolics.COM>

    Date: Fri, 12 Jun 87 14:38 EDT
    From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
    Subject: Reagan Crash

	Date: Wed, 27 May 87 15:51 EDT
	From: CJL@REAGAN.AI.MIT.EDU

	Reagan keeps crashing with this error status. I can't figure out what it
	means.

    I've never seen it before either.  It doesn't appear to be a hardware
    problem.  Does the FEP Debugger tell you anything interesting?

	  Sequencer status: OPCA 33, NOP, UIR stop, Spec halt, Single step done

	  Control stack info: CSP 13, current task 0, requesting task 4

	  3600 program counters:
	    Macro PC/ (Even)144453006, VMA/ 304016710, FP/ 233301064, SP/ 233301112
	   CPC/     0
	    OPC+0/ 33440      OPC+10/  3175
	    OPC+1/ 34167      OPC+11/ 10503
	    OPC+2/ 10715      OPC+12/ 50502
	    OPC+3/  3163      OPC+13/ 10502
	    OPC+4/  1645      OPC+14/  6622
	    OPC+5/ 10714      OPC+15/  4230
	    OPC+6/ 50000      OPC+16/ 14000
	    OPC+7/  3176      OPC+17/ 14000
This looks (from the OPCs) like a recursive transport trap.  The microcycle that halted
checks for this by looking at the value of sys:%transport-in-progress and halting if
non-NIL.  It would be instructive to know the value of that cell at the time of the halt.

12-Jun-87 16:19:18-EDT,1163;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 16:19-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 44143; Fri 12-Jun-87 15:48:00 EDT
Date: Fri, 12 Jun 87 15:48 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: The pretty printer gets confused with backquote
To: Bug-Lispm@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870612154810.1.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


'`(let ,(foo) nil)

prints out as

`(let (gprint::comma foo) nil)




'`(do () () A B C D)

prints out as

`(do NIL
     NIL
  ABCD)

12-Jun-87 16:19:43-EDT,2656;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 16:19-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 44144; Fri 12-Jun-87 15:48:59 EDT
Date: Fri, 12 Jun 87 15:48 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Reagan Crash
To: Reti@STONY-BROOK.SCRC.Symbolics.COM
cc: 7thSon@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-Symbolics-hardware@OZ.AI.MIT.EDU, bug-lispm@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870612152601.8.RETI@ROBIN.SCRC.Symbolics.COM>
Message-ID: <870612154857.2.CJL@OTIS.AI.MIT.EDU>

    Date: Fri, 12 Jun 87 15:26 EDT
    From: Kalman Reti <Reti@STONY-BROOK.SCRC.Symbolics.COM>

	Date: Fri, 12 Jun 87 14:38 EDT
	From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
	Subject: Reagan Crash

	    Date: Wed, 27 May 87 15:51 EDT
	    From: CJL@REAGAN.AI.MIT.EDU

	    Reagan keeps crashing with this error status. I can't figure out what it
	    means.

	I've never seen it before either.  It doesn't appear to be a hardware
	problem.  Does the FEP Debugger tell you anything interesting?

	      Sequencer status: OPCA 33, NOP, UIR stop, Spec halt, Single step done

	      Control stack info: CSP 13, current task 0, requesting task 4

	      3600 program counters:
		Macro PC/ (Even)144453006, VMA/ 304016710, FP/ 233301064, SP/ 233301112
	       CPC/     0
		OPC+0/ 33440      OPC+10/  3175
		OPC+1/ 34167      OPC+11/ 10503
		OPC+2/ 10715      OPC+12/ 50502
		OPC+3/  3163      OPC+13/ 10502
		OPC+4/  1645      OPC+14/  6622
		OPC+5/ 10714      OPC+15/  4230
		OPC+6/ 50000      OPC+16/ 14000
		OPC+7/  3176      OPC+17/ 14000
    This looks (from the OPCs) like a recursive transport trap.  The microcycle that halted
    checks for this by looking at the value of sys:%transport-in-progress and halting if
    non-NIL.  It would be instructive to know the value of that cell at the time of the halt.

A couple of other machines (all 3650's) get this too. I ran the fep debugger
on one of them and an error was being signalled while consing was not allowed,
the error being I believe the scavenger encountering a bad data type in
memory. My memory of it is vague, so I told GLR (his machine gets this
problem), to write down the specific problem that the scavenger was having.

":Show Crash Data" is a really nifty command.  It would be nice for the fep
debugger to have some similar feature. For example it sure would be nice for
there to be a fep debugger command that writes the stack trace into a fep
file, instead of us having to copy it to paper. 
12-Jun-87 16:49:02-EDT,2500;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 16:49-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 56964; 12 Jun 87 16:44:54 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 171826; 12 Jun 87 16:45:06 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 53716; Fri 12-Jun-87 13:44:08 PDT
Date: Fri, 12 Jun 87 13:44 PDT
From: toto@VERMITHRAX.SCH.Symbolics.COM
Sender: trev@VERMITHRAX.SCH.Symbolics.COM
Subject: IWBNI TCP were more lenient
To: RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-LispM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870604175059.0.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870612134407.1.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Thu, 4 Jun 87 17:50 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

    There are FTP servers out there that probably don't quite meet
    spec in terms of reporting "500 Unknown command" instead of
    "502 Command not implemented", like for ALLO (does the spec
    really require particular error returns?).  It would be nice
    if the FTP code didn't blow into the debugger in such cases.

    1Error: Error reported by foreign host: 500 Unknown command
0    While in the function (DEFUN-IN-FLAVOR FS:TCP-FTP-CHECK-COMMAND-RESPONSE FS:TCP-FTP-CONN)  (FLAVOR:METHOD FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-CONN)  (FLAVOR:METHOD FS:FILE-ACCESS-PATH-OPEN FS:TCP-FTP-FILE-ACCESS-PATH)

[...]

I agree.  I've mentioned this to the developers so they can take care of
it.  Thanks for the report.

- kyra


12-Jun-87 17:01:04-EDT,2176;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 17:01-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44162; 12 Jun 87 16:57:23 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 171839; 12 Jun 87 16:54:54 EDT
Received: from CALYPSO.SCH.Symbolics.COM (CALYPSO.SCH.Symbolics.COM) by VERMITHRAX.SCH.Symbolics.COM via INTERNET with SMTP id 53722; 12 Jun 87 13:53:55 PDT
Date: Fri, 12 Jun 87 13:53 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: *lgp2-output-stream-prologue* should begin with %!PS-Adobe-1.0
To: CJL%REAGAN.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-Lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870604075438.5.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870612135353.4.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Thu, 4 Jun 87 07:54 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
    FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30124,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:

    *lgp2-output-stream-prologue* should begin with %!PS-Adobe-1.0

    Some print spoolers (Adobe's transcript) require it in order to print it as
    PostScript, and not ascii text.

    (defconst1 *lgp2-output-stream-prologue*0 "%!PS-Adobe-1.0
    statusdict //waittimeout 60 3 mul put
    ...
    ")


Thanks for pointing this out; I've forwarded it to the developers.

Steve Trever



12-Jun-87 17:19:14-EDT,1439;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 17:19-EDT
Received: from ATHENA.MIT.EDU by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 56975; 12 Jun 87 17:15:09 EDT
Received: by ATHENA (5.45/4.7)
	id AA06813; Fri, 12 Jun 87 17:16:49 EDT
Date: Fri, 12 Jun 87 17:14 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: why does Zmail "expunge" so often?
To: Customer-Reports@stony-brook.scrc.symbolics.com,
        BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-Id: <870612171425.1.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

Why is it so frequent when I [Save] in Zmail, that I sit and watch the
who-line telling me that it is busy expunging the dozen or so buffers I
have around, when *I* know I haven't modified them (and probably haven't
even looked at them) since the last time I did a [Save]?  I keep a fair
number of fairly large buffers around, and the process takes a while.

12-Jun-87 19:25:38-EDT,1151;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jun 87 19:25-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 44186; Fri 12-Jun-87 19:14:52 EDT
Date: Fri, 12 Jun 87 19:15 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: (open pathname :direction :io) does not follow Common Lisp Spec
To: Bug-Lispm@OZ.AI.MIT.EDU
Message-ID: <870612191509.2.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


(with-open-file (file "b:>glr>foo.bar" :direction :io)
  )

produces

Error bidirection streams only supported for :direct

:direct is not a common lisp option to open.
13-Jun-87 17:28:02-EDT,8084;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 13 Jun 87 17:27-EDT
Received: from SINATRA.AI.MIT.EDU (SINATRA.AI.MIT.EDU) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44314; 13 Jun 87 17:00:21 EDT
Date: Sat, 13 Jun 87 17:00 EDT
From: Peng Wu <pwu@HT.AI.MIT.EDU>
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870613170019.1.PWU@SINATRA.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3600 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.17, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3600-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Frank Sinatra:

1Rule-based0 1Antecedent0 1Reasoning0 1System0 is a component system of TG guided VLSI
DFT system.  The version number of TG guided VLSI DFT system IS 22 but that of
1Rule-based0 1Antecedent0 1Reasoning0 1System0 is different.  I don't understand why 
THIS machine requires version 22 of 1Rule-based0 1Antecedent0 1Reasoning0 1System0.

1Error: Version number 22 of Rule-based Antecedent Reasoning System was not found
0While in the function SCT:GET-SYSTEM-VERSION-FILES  SCT:LOAD-SYSTEM-DECLARATION-IF-NECESSARY  SCT:RELOAD-SYSTEM-DECLARATION-IF-NECESSARY

The condition signalled was ZL:FERROR

1SCT:GET-SYSTEM-VERSION-FILES0:  (P.C. = 53)
   Arg 0 (SCT:NAME): #<SYSTEM ARK 63050255>
   Arg 1 (SCT:VERSION): 22
   Arg 2 (SCT:COMPONENT-TYPE): :DEFSYSTEM
   Rest arg: NIL
   Local 4 (SCT:NO-ERROR-P): NIL
   Local 5 (SCT:NO-SOURCES): NIL
   Local 6 (SCT:NO-OBJECTS): NIL
   Local 7 (SCT:|3600|): T
   Local 8 (SCT:LM-2): NIL
   Local 9 (IGNORE): #P"B:>Mhs>ark-r7>patch>ark.system-dir.4"
   Local 10 (IGNORE): "ARK"
   Local 11 (ZL:PLIST): ("ARK" :LATEST 2)
   Local 12 (SCT:VERSIONS): ((2 (:|3600| (:COMPONENT-DIRECTORY #))) (1 (:|3600| (:COMPONENT-DIRECTORY #))))
   Local 13 (SCT:VERSION-STRUCTURE): NIL

1SCT:LOAD-SYSTEM-DECLARATION-IF-NECESSARY0:  (P.C. = 311)  2(from SYS:PATCH;SYSTEM-349-140)
0   Arg 0 (SCT:SYSTEM-NAME): :ARK
   Arg 1 (SCT:VERSION): 22

1SCT:RELOAD-SYSTEM-DECLARATION-IF-NECESSARY0:  (P.C. = 14)  2(from SYS:PATCH;SYSTEM-349-109)
0   Arg 0 (SCT:SYSTEM): #<SYSTEM ARK 63050255>
   Arg 1 (SCT:VERSION): 22

1(:INTERNAL SCT:MAKE-PLAN-FOR-COMPONENT-SYSTEMS 0)0:  (P.C. = 36)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (:LOAD "Load" NIL NIL (:RELOAD NIL :ORIGINAL-SYSTEM-OP :LOAD :RECOMPILE NIL :ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM ...))
   Arg 1 (SCT:SYSTEM): "ARK"
   Arg 2 (IGNORE): NIL
   Arg 3 (IGNORE): #<SYSTEM-MODULE MOTHER 63033456>
   Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

1SCT:MAP-OVER-INPUTS-AND-OUTPUTS0:  (P.C. = 46)
   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL SCT:MAKE-PLAN-FOR-COMPONENT-SYSTEMS 0) 40661375>
   Arg 1 (SCT:INPUTS): ("ARK")
   Arg 2 (SCT:OUTPUTS): NIL
   Arg 3 (SCT:MODULE): #<SYSTEM-MODULE MOTHER 63033456>
   Arg 4 (SCT:INCREMENTAL): NIL
   Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

1(FLAVOR:METHOD SCT:EXECUTE-PLAN SCT:PLAN)0:  (P.C. = 113)
   Arg 0 (SELF): #<PLAN 63051736>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SCT:PLAN 250163416>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SCT:EXECUTE-PLAN 6723125>
   Arg 3 (FUNCTION): NIL
   Arg 4 (SCT:PLAN-STRING): NIL
   Arg 5 (SCT:INCREMENTAL): NIL
   Arg 6 (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

1SCT:FLATTEN-PLANS-FOR-COMPONENTS0:  (P.C. = 35)
   Arg 0 (SCT:PLANS): (#<PLAN 63051736> #<PLAN 63051747> #<PLAN 63051760> #<PLAN 63051771> #<PLAN 63052002> #<PLAN 63052013> #<PLAN 63052024> #<PLAN 63052035> #<PLAN 63052046> #<PLAN 63052057> ...)
   Arg 1 (SCT:DEFAULT-DRIVER): NIL
   Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

1SCT:CONSTRUCT-SYSTEM-INTERNAL0:  (P.C. = 224)  2(from SYS:PATCH;SYSTEM-349-187)
0   Arg 0 (SCT:SYSTEM-OP): :LOAD
   Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)
   Local 1 (SCT:KEYS): (:QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL :RELOAD NIL ...)

1LOAD-SYSTEM0:  (P.C. = 456)  2(from SYS:PATCH;SYSTEM-349-277)
0   Arg 0 (SCT:SYSTEM-NAME): ARKTESTDFT
   Rest arg (SCT:KEYS): (:QUERY :NO-CONFIRM)

1SI:READFILE-INTERNAL0:  (P.C. = 113)
   Arg 0: #<INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>init.lisp" 310044330>
   Arg 1 (SI:PKG): NIL
   Arg 2 (SI:NO-MSG-P): NIL

1FS:LOAD-STREAM0:  (P.C. = 16)
   Arg 0 (FS:STREAM): #<INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>init.lisp" 310044330>
   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NO-MSG-P): NIL

1ZL:LOAD0:  (P.C. = 106)
   Arg 0 (PATHNAME): "b:>pwu>lispm>init"
   Local 0 (PATHNAME): #P"B:>pwu>lispm>init"
2   --Defaulted args:--
0   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NONEXISTENT-OK-FLAG): NIL
   Arg 3 (FS:DONT-SET-DEFAULT-P): NIL
   Arg 4 (FS:NO-MSG-P): NIL

1SI:READFILE-INTERNAL0:  (P.C. = 113)
   Arg 0: #<INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm-init.lisp" 310044404>
   Arg 1 (SI:PKG): NIL
   Arg 2 (SI:NO-MSG-P): NIL

1FS:LOAD-STREAM0:  (P.C. = 16)
   Arg 0 (FS:STREAM): #<INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm-init.lisp" 310044404>
2   --Defaulted args:--
0   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NO-MSG-P): NIL

1ZL:LOGIN0:  (P.C. = 525)
   Arg 0 (SI:USER-NAME): #<NAME AI|PWU 1113337>
   Local 0 (SI:USER-NAME): "AI|PWU"
   Rest arg: (:HOST NIL :LOAD-INIT-FILE T)

1SI:COM-LOGIN0:  (P.C. = 45)
   Arg 0 (NET:USER): #<USER PWU 1113346>
   Local 0 (NET:USER): #<NAME AI|PWU 1113337>
   Rest arg: NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (SI:COM-LOGIN (QUOTE #<USER PWU 1113346>))

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)

14-Jun-87 16:57:12-EDT,6432;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 14 Jun 87 16:57-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44451; 14 Jun 87 16:53:19 EDT
Received: from COCKATIEL.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 172453; Sun 14-Jun-87 16:52:50 EDT
Date: Sun, 14 Jun 87 16:52 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: Bug in TOPS-20 Pathnames
To: CJL@REAGAN.AI.MIT.EDU
cc: Bug-LispM@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870604191731.8.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870614165234.2.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI
Moon: 3 days, 12 hours, 22 minutes since the full moon.

    Date: Thu, 4 Jun 87 19:17 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.14, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
    FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30124,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:
    Processes forcibly aborted:
      Dynamic Lisp Listener 1 aborted with the following warning:
	The function DIS:WRITE-DISTRIBUTION-PLAN-FILES-TO-TAPE is executing a cleanup form.
	Aborting before the cleanup is complete could leave the program in
	an inconsistent state and cause it to operate incorrectly later.

    (send (send (fs:parse-pathname "OZ:OZ:<ROOT-DIRECTORY>")
		:directory-pathname-as-file)	
	  :pathname-as-directory)

This seems to fix the problem, and I don't think it breaks this case for
other types of hosts.

fs:
;;; By default, a directory is stored as a file in the superior directory whose name gives
;;; the name of the component at this level.
(DEFMETHOD (:PATHNAME-AS-DIRECTORY HIERARCHICAL-DIRECTORY-NO-PATCH-MIXIN) ()
  (SEND SELF ':NEW-PATHNAME ':RAW-DIRECTORY (IF (EQ DIRECTORY ':ROOT)
						(if (string-equal name
								  (send self :root-directory-name))
						    :root
						    NAME)
						(APPEND (IF (LISTP DIRECTORY) DIRECTORY
							    (NCONS DIRECTORY))
							(NCONS NAME)))
	':RAW-NAME NIL ':RAW-TYPE NIL ':VERSION NIL))


    1Error: "ROOT-DIRECTORY" is an invalid directory component for OZ (a TOPS-20 host).
0    While in the function (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)  (FLAVOR:METHOD :VALIDATE PATHNAME)  (FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)

    The condition signalled was FS:INVALID-PATHNAME-COMPONENT

    1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 41)  2(from SYS:PATCH;SYSTEM-349-212)
0       Arg 0 (SELF): #P"OZ:OZ:<FOO>"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220142540>
       Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
       Arg 3 (FS:TEST-ARG): "ROOT-DIRECTORY"
       Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 352732070>
       Arg 5 (FS:VALID-MSG): :RAW-DIRECTORY
       Arg 6 (FS:TEST-MSG): :VALID-DIRECTORY-P
       Arg 7 (FS:CASE-MSG): :CASE-DIRECTORY
       Arg 8 (FS:UNCASE-MSG): :UNCASE-DIRECTORY
       Arg 9 (FS:COMPONENT): :DIRECTORY
       Arg 10 (FS:PRETTY-NAME): "directory component"

    1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 61)
       Arg 0 (SELF): #P"OZ:OZ:<FOO>"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220142540>
       Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

    1(FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)0:  (P.C. = 62)  2(from SYS:PATCH;SYSTEM-349-24)
0       Arg 0 (SELF): #<CASE-SENSITIVE-PATHNAME-HASH-TABLE OZ>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN 250401040>
       Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
       Arg 3 (FS:DEV): "OZ"
       Arg 4 (FS:DIR): "ROOT-DIRECTORY"
       Arg 5 (FS:NAM): NIL
       Arg 6 (FS:TYP): NIL
       Arg 7 (FS:VRS): NIL
       Arg 8 (FS:OTHERS): NIL
       Arg 9 (FS:KEY): ("OZ" "ROOT-DIRECTORY" NIL NIL NIL)

    1(FLAVOR:METHOD :GET-PATHNAME NET:PATHNAME-HOST-MIXIN)0:  (P.C. = 27)
       Arg 0 (SELF): #H"OZ"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor NET:PATHNAME-HOST-MIXIN 250230515>
       Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
       Arg 3 (NETI:DEV): "OZ"
       Arg 4 (NETI:DIR): "ROOT-DIRECTORY"
       Arg 5 (NETI:NAM): NIL
       Arg 6 (NETI:TYP): NIL
       Arg 7 (NETI:VRS): NIL
       Arg 8 (NETI:OTHERS): NIL

    1FS:MAKE-PATHNAME-10:  (P.C. = 604)  2(from SYS:PATCH;SYSTEM-349-109)
0       Arg 0 (FS:ACTOR): #P"OZ:OZ:<ROOT-DIRECTORY>ROOT-DIRECTORY.DIRECTORY"
       Rest arg (FS:OPTIONS): (:DEFAULT-HOST #H"OZ" :DEFAULT-DEVICE "OZ" :DEFAULT-DIRECTORY :ROOT :DEFAULT-NAME "ROOT-DIRECTORY" :DEFAULT-TYPE "DIRECTORY" ...)

    1(FLAVOR:METHOD :NEW-PATHNAME PATHNAME)0:  (P.C. = 22)
       Arg 0 (SELF): #P"OZ:OZ:<ROOT-DIRECTORY>ROOT-DIRECTORY.DIRECTORY"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220142540>
       Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
       Rest arg (FS:OPTIONS): (:RAW-DIRECTORY "ROOT-DIRECTORY" :RAW-NAME NIL :RAW-TYPE NIL :VERSION NIL)

    1(FLAVOR:COMBINED :NEW-PATHNAME PATHNAME)0:  (P.C. = 67)
       Arg 0 (SELF): #P"OZ:OZ:<ROOT-DIRECTORY>ROOT-DIRECTORY.DIRECTORY"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220142540>
       Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
       Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (:RAW-DIRECTORY "ROOT-DIRECTORY" :RAW-NAME NIL :RAW-TYPE NIL :VERSION NIL)

    1(FLAVOR:METHOD :PATHNAME-AS-DIRECTORY FS:HIERARCHICAL-DIRECTORY-NO-PATCH-MIXIN)0:  (P.C. = 33)
       Arg 0 (SELF): #P"OZ:OZ:<ROOT-DIRECTORY>ROOT-DIRECTORY.DIRECTORY"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:HIERARCHICAL-DIRECTORY-NO-PATCH-MIXIN 220142471>
       Arg 2 (FLAVOR::.GENERIC.): :PATHNAME-AS-DIRECTORY



14-Jun-87 20:46:43-EDT,1406;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 14 Jun 87 20:46-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 44477; Sun 14-Jun-87 20:43:07 EDT
Date: Sun, 14 Jun 87 20:43 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: adventures in :probe-directory land
To: bug-lispm@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870614204300.6.CJL@OTIS.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTI, CPTFONTCB

So what's this supposed to return?:

(send (open 1some-existing-file0 :direction :probe-directory) :truename)

On QFILE to TOPS-20 and ITS, it returns a truename similar to that the
:pathname message would result in, that is with the directory component trued,
with the name type and version the same. I personally think this the right
value that should be returned.

On NFILE to a lisp machine and QFILE to a UNIX, it returns the truename of the
directory in .directory.1 format, not of the file, even though sending it the
:pathname message returns the pathname of the file, not the pathname of the
directory.

on FTP to UNIX it blows out with an error:
2Error: Unknown direction PROBE-DIRECTORY
0Indicating the typical bugginess of the FTP code.

14-Jun-87 21:35:06-EDT,4049;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 14 Jun 87 21:35-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44484; 14 Jun 87 21:31:30 EDT
Received: from COCKATIEL.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 172586; Sun 14-Jun-87 21:31:03 EDT
Date: Sun, 14 Jun 87 21:30 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: The pretty printer gets confused with backquote
To: GLR@OZ.AI.MIT.EDU
cc: Bug-Lispm@OZ.AI.MIT.EDU, customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870612154810.1.GLR@MOSCOW-CENTRE.AI.MIT.EDU>
Message-ID: <870614213050.4.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Moon: 3 days, 17 hours, 0 minutes since the full moon.

    Date: Fri, 12 Jun 87 15:48 EDT
    From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30088,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


    '`(let ,(foo) nil)

    prints out as

    `(let (gprint::comma foo) nil)

I've dug through the pretty printer code and I can't figure out a fix
for this that doesn't break other things.  I'll let you know if anybody
else comes up with one.


    '`(do () () A B C D)

    prints out as

    `(do NIL
	 NIL
      ABCD)


This one is better with a recent fix, but still needs a little work.
Here's the recent fix:

;;; -*- Mode: LISP; Syntax: Zetalisp; Package: SYSTEM-INTERNALS; Base: 10; Patch-File: T -*-
;;; Patch file for SYSTEM version 365.49
;;; Function GPRINT::FORMAT-PROG-INTERNAL:  Don't make run-on sentences
;;; Written by SWM, 5/21/87 18:44:48
;;; while running on Evening Grosbeak from FEP0:>scrc-365-14-from-ih-sys365-14.load.1
;;; with Experimental System 365.47, Experimental Utilities 20.1,
;;; Experimental Metering 16.0, Experimental Server Utilities 20.1,
;;; Experimental Hardcopy 111.1, Experimental Zmail 157.5, Experimental LMFS 94.0,
;;; Experimental Tape 74.0, Experimental Basic Sage 52.0,
;;; Experimental Extended Help 11.0, Experimental Documentation Database 38.38,
;;; Experimental Hacks 9.0, Experimental Logical Pathnames Translation Files NEWEST,
;;; Experimental Writer Tools 41.0, Experimental IP-TCP 60.0, Experimental DNA 36.1,
;;; Experimental Statice 30.0, Unique-ID 1.1, DBFS 34.14, Statice-Index 6.0,
;;; Statice-Record 14.1, Statice-Model 27.48, Statice Documentation 1.0,
;;; DBFS-directory 9.8, Statice-Utilities 2.5, Experimental Version Control 46.3,
;;; Experimental Compare Merge 14.0, Lock Simple 14.2, VC Documentation 3.11,
;;; Symbolics In-House 8.2, Symbolics Boston 9.2, SCRC 29.0, cold load 1,
;;; microcode 3645-MIC 400, FEP 127, FEP0:>V127-lisp.flod(44),
;;; FEP0:>V127-loaders.flod(44), FEP0:>V127-microcode.flod(6),
;;; FEP0:>V127-info.flod(44), FEP0:>v127-debug.flod(31), Machine serial number 10129.



(SYSTEM-INTERNALS:FILES-PATCHED-IN-THIS-PATCH-FILE 
  "SYS:GPRINT;FORMATS.LISP.19")


;=====================================
(SYSTEM-INTERNALS:BEGIN-PATCH-SECTION)
(SYSTEM-INTERNALS:PATCH-SECTION-SOURCE-FILE "SYS:GPRINT;FORMATS.LISP.19")
(SYSTEM-INTERNALS:PATCH-SECTION-ATTRIBUTES
  "-*- Mode: LISP; Package: GPrint; Syntax: Common-Lisp; Lowercase: Yes -*-")

(defun format-prog-internal (item)
  (when (or (not *was-tag*) (atom item))
    (gformat "!"))
  (cond ((atom item)
	 (setq *was-tag* t)
	 (gformat "~#*~" (- -1 (flatsize item)) item))
	(t
	 (setq *was-tag* nil)
	 (gformat "*" item))))

15-Jun-87 10:43:15-EDT,1828;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 15 Jun 87 10:43-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 44568; Mon 15-Jun-87 10:39:30 EDT
Date: Mon, 15 Jun 87 10:39 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: When is a stream not a stream? When it's a file-probe-stream.
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870615103902.7.CJL@OTIS.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.0,
7-1-Patches 1.17, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental XGrok 3.0,
microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
FEP0:>g206-info.flod(14), Machine serial number 30124,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:

File-probe-streams should be counted as stream for the truename operation,
since sending them :truename works (well, sort of).

1Error: The first argument (X) to TRUENAME, #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>, was of the wrong type.
       The function expected PATHNAME, a string, or a symbol or a stream.
0While in the function TRUENAME

The condition signalled was DBG:WRONG-TYPE-DATUM

1TRUENAME0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-182)
0   Arg 0 (CLI::X): #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>
   Local 1: #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>
15-Jun-87 11:08:04-EDT,5850;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 15 Jun 87 11:07-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44577; 15 Jun 87 11:04:14 EDT
Received: from EVENING-GROSBEAK.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 137754; Mon 15-Jun-87 10:40:53 EDT
Date: Mon, 15 Jun 87 10:40 EDT
From: Scott McKay <SWM@SAPSUCKER.SCRC.Symbolics.COM>
To: pwu@HT.AI.MIT.EDU, Bug-LispM@OZ.AI.MIT.EDU
In-Reply-To: <870613170019.1.PWU@SINATRA.AI.MIT.EDU>
Message-ID: <870615104015.3.SWM@EVENING-GROSBEAK.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Sat, 13 Jun 87 17:00 EDT
    From: Peng Wu <pwu@HT.AI.MIT.EDU>

    In Symbolics 3600 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.17, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3600-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Frank Sinatra:

I vaguely remember fixing a bug just like this in the development system
many months ago, which of course doesn't do you any good now.  I don't
exactly see how to diagnose this, except to look at the component
directories for all the systems involved here.  There may be something
you can do to bludgeon SCT into cooperating, but I can't remember what
it is.

    1Rule-based0 1Antecedent0 1Reasoning0 1System0 is a component system of TG guided VLSI
    DFT system.  The version number of TG guided VLSI DFT system IS 22 but that of
    1Rule-based0 1Antecedent0 1Reasoning0 1System0 is different.  I don't understand why 
    THIS machine requires version 22 of 1Rule-based0 1Antecedent0 1Reasoning0 1System0.

    1Error: Version number 22 of Rule-based Antecedent Reasoning System was not found
0    While in the function SCT:GET-SYSTEM-VERSION-FILES  SCT:LOAD-SYSTEM-DECLARATION-IF-NECESSARY  SCT:RELOAD-SYSTEM-DECLARATION-IF-NECESSARY

    The condition signalled was ZL:FERROR

    1SCT:GET-SYSTEM-VERSION-FILES0:  (P.C. = 53)
       Arg 0 (SCT:NAME): #<SYSTEM ARK 63050255>
       Arg 1 (SCT:VERSION): 22
       Arg 2 (SCT:COMPONENT-TYPE): :DEFSYSTEM
       Rest arg: NIL
       Local 4 (SCT:NO-ERROR-P): NIL
       Local 5 (SCT:NO-SOURCES): NIL
       Local 6 (SCT:NO-OBJECTS): NIL
       Local 7 (SCT:|3600|): T
       Local 8 (SCT:LM-2): NIL
       Local 9 (IGNORE): #P"B:>Mhs>ark-r7>patch>ark.system-dir.4"
       Local 10 (IGNORE): "ARK"
       Local 11 (ZL:PLIST): ("ARK" :LATEST 2)
       Local 12 (SCT:VERSIONS): ((2 (:|3600| (:COMPONENT-DIRECTORY #))) (1 (:|3600| (:COMPONENT-DIRECTORY #))))
       Local 13 (SCT:VERSION-STRUCTURE): NIL

    1SCT:LOAD-SYSTEM-DECLARATION-IF-NECESSARY0:  (P.C. = 311)  2(from SYS:PATCH;SYSTEM-349-140)
0       Arg 0 (SCT:SYSTEM-NAME): :ARK
       Arg 1 (SCT:VERSION): 22

    1SCT:RELOAD-SYSTEM-DECLARATION-IF-NECESSARY0:  (P.C. = 14)  2(from SYS:PATCH;SYSTEM-349-109)
0       Arg 0 (SCT:SYSTEM): #<SYSTEM ARK 63050255>
       Arg 1 (SCT:VERSION): 22

    1(:INTERNAL SCT:MAKE-PLAN-FOR-COMPONENT-SYSTEMS 0)0:  (P.C. = 36)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (:LOAD "Load" NIL NIL (:RELOAD NIL :ORIGINAL-SYSTEM-OP :LOAD :RECOMPILE NIL :ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM ...))
       Arg 1 (SCT:SYSTEM): "ARK"
       Arg 2 (IGNORE): NIL
       Arg 3 (IGNORE): #<SYSTEM-MODULE MOTHER 63033456>
       Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

    1SCT:MAP-OVER-INPUTS-AND-OUTPUTS0:  (P.C. = 46)
       Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL SCT:MAKE-PLAN-FOR-COMPONENT-SYSTEMS 0) 40661375>
       Arg 1 (SCT:INPUTS): ("ARK")
       Arg 2 (SCT:OUTPUTS): NIL
       Arg 3 (SCT:MODULE): #<SYSTEM-MODULE MOTHER 63033456>
       Arg 4 (SCT:INCREMENTAL): NIL
       Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

    1(FLAVOR:METHOD SCT:EXECUTE-PLAN SCT:PLAN)0:  (P.C. = 113)
       Arg 0 (SELF): #<PLAN 63051736>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SCT:PLAN 250163416>
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SCT:EXECUTE-PLAN 6723125>
       Arg 3 (FUNCTION): NIL
       Arg 4 (SCT:PLAN-STRING): NIL
       Arg 5 (SCT:INCREMENTAL): NIL
       Arg 6 (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

    1SCT:FLATTEN-PLANS-FOR-COMPONENTS0:  (P.C. = 35)
       Arg 0 (SCT:PLANS): (#<PLAN 63051736> #<PLAN 63051747> #<PLAN 63051760> #<PLAN 63051771> #<PLAN 63052002> #<PLAN 63052013> #<PLAN 63052024> #<PLAN 63052035> #<PLAN 63052046> #<PLAN 63052057> ...)
       Arg 1 (SCT:DEFAULT-DRIVER): NIL
       Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

    1SCT:CONSTRUCT-SYSTEM-INTERNAL0:  (P.C. = 224)  2(from SYS:PATCH;SYSTEM-349-187)
0       Arg 0 (SCT:SYSTEM-OP): :LOAD
       Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)
       Local 1 (SCT:KEYS): (:QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL :RELOAD NIL ...)

    1LOAD-SYSTEM0:  (P.C. = 456)  2(from SYS:PATCH;SYSTEM-349-277)
0       Arg 0 (SCT:SYSTEM-NAME): ARKTESTDFT
       Rest arg (SCT:KEYS): (:QUERY :NO-CONFIRM)

15-Jun-87 11:08:25-EDT,4378;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 15 Jun 87 11:08-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44578; 15 Jun 87 11:04:46 EDT
Received: from EVENING-GROSBEAK.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 137758; Mon 15-Jun-87 10:55:07 EDT
Date: Mon, 15 Jun 87 10:54 EDT
From: Scott McKay <SWM@SAPSUCKER.SCRC.Symbolics.COM>
Subject: The pretty printer gets confused with backquote
To: 7thSon@STONY-BROOK.SCRC.Symbolics.COM, GLR@OZ.AI.MIT.EDU
cc: Bug-Lispm@OZ.AI.MIT.EDU, customer-reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870614213050.4.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Message-ID: <870615105433.5.SWM@EVENING-GROSBEAK.SCRC.Symbolics.COM>

    Date: Sun, 14 Jun 87 21:30 EDT
    From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>

	Date: Fri, 12 Jun 87 15:48 EDT
	From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

	In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
	7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
	FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
	FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
	Machine serial number 30088,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


	'`(let ,(foo) nil)

	prints out as

	`(let (gprint::comma foo) nil)

    I've dug through the pretty printer code and I can't figure out a fix
    for this that doesn't break other things.  I'll let you know if anybody
    else comes up with one.

The "fixes" I have made for this break other things, too.

	'`(do () () A B C D)

	prints out as

	`(do NIL
	     NIL
	  ABCD)


    This one is better with a recent fix, but still needs a little work.
    Here's the recent fix:

Hardly seems worth fixing to me, since this case is pretty degenerate
anyway.  That's why I didn't bother.

    ;;; -*- Mode: LISP; Syntax: Zetalisp; Package: SYSTEM-INTERNALS; Base: 10; Patch-File: T -*-
    ;;; Patch file for SYSTEM version 365.49
    ;;; Function GPRINT::FORMAT-PROG-INTERNAL:  Don't make run-on sentences
    ;;; Written by SWM, 5/21/87 18:44:48
    ;;; while running on Evening Grosbeak from FEP0:>scrc-365-14-from-ih-sys365-14.load.1
    ;;; with Experimental System 365.47, Experimental Utilities 20.1,
    ;;; Experimental Metering 16.0, Experimental Server Utilities 20.1,
    ;;; Experimental Hardcopy 111.1, Experimental Zmail 157.5, Experimental LMFS 94.0,
    ;;; Experimental Tape 74.0, Experimental Basic Sage 52.0,
    ;;; Experimental Extended Help 11.0, Experimental Documentation Database 38.38,
    ;;; Experimental Hacks 9.0, Experimental Logical Pathnames Translation Files NEWEST,
    ;;; Experimental Writer Tools 41.0, Experimental IP-TCP 60.0, Experimental DNA 36.1,
    ;;; Experimental Statice 30.0, Unique-ID 1.1, DBFS 34.14, Statice-Index 6.0,
    ;;; Statice-Record 14.1, Statice-Model 27.48, Statice Documentation 1.0,
    ;;; DBFS-directory 9.8, Statice-Utilities 2.5, Experimental Version Control 46.3,
    ;;; Experimental Compare Merge 14.0, Lock Simple 14.2, VC Documentation 3.11,
    ;;; Symbolics In-House 8.2, Symbolics Boston 9.2, SCRC 29.0, cold load 1,
    ;;; microcode 3645-MIC 400, FEP 127, FEP0:>V127-lisp.flod(44),
    ;;; FEP0:>V127-loaders.flod(44), FEP0:>V127-microcode.flod(6),
    ;;; FEP0:>V127-info.flod(44), FEP0:>v127-debug.flod(31), Machine serial number 10129.



    (SYSTEM-INTERNALS:FILES-PATCHED-IN-THIS-PATCH-FILE 
      "SYS:GPRINT;FORMATS.LISP.19")


    ;=====================================
    (SYSTEM-INTERNALS:BEGIN-PATCH-SECTION)
    (SYSTEM-INTERNALS:PATCH-SECTION-SOURCE-FILE "SYS:GPRINT;FORMATS.LISP.19")
    (SYSTEM-INTERNALS:PATCH-SECTION-ATTRIBUTES
      "-*- Mode: LISP; Package: GPrint; Syntax: Common-Lisp; Lowercase: Yes -*-")

    (defun format-prog-internal (item)
      (when (or (not *was-tag*) (atom item))
	(gformat "!"))
      (cond ((atom item)
	     (setq *was-tag* t)
	     (gformat "~#*~" (- -1 (flatsize item)) item))
	    (t
	     (setq *was-tag* nil)
	     (gformat "*" item))))


15-Jun-87 15:33:37-EDT,2841;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 15 Jun 87 15:33-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44702; 15 Jun 87 15:30:14 EDT
Received: from COCKATIEL.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 173199; Mon 15-Jun-87 15:29:33 EDT
Date: Mon, 15 Jun 87 15:29 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: When is a stream not a stream? When it's a file-probe-stream.
To: CJL@REAGAN.AI.MIT.EDU
cc: Bug-LispM@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870615103902.7.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870615152910.9.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI
Moon: 4 days, 10 hours, 59 minutes since the full moon.

    Date: Mon, 15 Jun 87 10:39 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.0,
    7-1-Patches 1.17, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental XGrok 3.0,
    microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
    FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
    FEP0:>g206-info.flod(14), Machine serial number 30124,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:

    File-probe-streams should be counted as stream for the truename operation,
    since sending them :truename works (well, sort of).

    1Error: The first argument (X) to TRUENAME, #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>, was of the wrong type.
0	   1The function expected PATHNAME, a string, or a symbol or a stream.
0    While in the function TRUENAME

    The condition signalled was DBG:WRONG-TYPE-DATUM

    1TRUENAME0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-182)
0       Arg 0 (CLI::X): #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>
       Local 1: #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>

I suppose you're right.  I suppose the fix is to check to see if the
object handles the 1:truename0 message rather than checking it's type, or
something like that.  I'm sure you can come up with a fix if you have
the source to the original function.

(defun truename (x)
  (ctypecase x
    ((or pathname string symbol)
     (send (open (pathname x) :direction :probe :if-does-not-exist :error) :truename))
    (stream
      (send x :truename))))

15-Jun-87 16:04:14-EDT,2242;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 15 Jun 87 16:03-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 44708; 15 Jun 87 16:00:47 EDT
Received: from OOGLE-BOID.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 137944; Mon 15-Jun-87 16:00:41 EDT
Date: Mon, 15 Jun 87 15:59 EDT
From: Chris Jones <clj@SAPSUCKER.SCRC.Symbolics.COM>
Subject: (open pathname :direction :io) does not follow Common Lisp Spec
To: Jerry Roylance <GLR@OZ.AI.MIT.EDU>, Bug-Lispm@OZ.AI.MIT.EDU
In-Reply-To: <870612191509.2.GLR@MOSCOW-CENTRE.AI.MIT.EDU>
Message-ID: <870615155951.2.CLJ@OOGLE-BOID.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (SAGE:SANS-SERIF-BODY SAGE::LISP :NORMAL) "HL12B")
                         (2 0 (NIL 0) (SAGE:SANS-SERIF-BODY :ROMAN :NORMAL) "HL12")
Fonts: CPTFONT, HL12B, HL12

    Date: Fri, 12 Jun 87 19:15 EDT
    From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30088,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


    (with-open-file (file "b:>glr>foo.bar" :direction :io)
      )

    produces

    Error bidirection streams only supported for :direct

    :direct is not a common lisp option to open.

This is a documented feature of LMFS.

1:io0             2The file is being opened for
0                2intermixed input and output.
0                2Bidirectionality is supported only if
0                2the stream is to be a direct stream,
0                2that is, 1:direct t2 is given as well.
0                2See the section "Direct Access File
0                2Streams".

0:direct is a Symbolics extension to Common Lisp.

16-Jun-87 15:22:35-EDT,2948;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 16 Jun 87 15:22-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 57433; 16 Jun 87 15:16:37 EDT
Received: from COCKATIEL.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 174358; Tue 16-Jun-87 15:15:41 EDT
Date: Tue, 16 Jun 87 15:15 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: random LMFS lossage
To: RWS@ZERMATT.LCS.MIT.EDU
cc: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Bug-LispM@ZERMATT.LCS.MIT.EDU,
    7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870604093517.6.FILE-SERVER@ZERMATT.LCS.MIT.EDU>
Message-ID: <870616151524.8.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB
Moon: 5 days, 10 hours, 45 minutes since the full moon.

    Date: Thu, 4 Jun 87 09:35 EDT
    From: RWS@ZERMATT.LCS.MIT.EDU

    In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.13, MAC 11.1, Experimental X-Window-System 17.4,
    microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
    fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
    fep0:>g206-info.flod(14), Machine serial number 30100,
    Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
    Network-Security patch (from Z:>File-Server>network-security.lisp.4),
    Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
    Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

    A daemon just trying to tell me something...

This is very strange because every call to
1lmfs:downreference-file-buffer0 in 1(flavor:method :establish-addressor
lmfs:lmfs-opening-mixin)0 is of this form:

     [7.1 sources]
     (if cur-addressor
	 (with-fs-locked (downreference-addressor
			   (prog1 cur-addressor (setq cur-addressor nil)))))

Now, can you tell me how 1lmfs:downreference-file-buffer0 could get called
with a nil argument?

    1Trap: The first argument given to the ZL:AR-1 instruction, NIL, was not an array.
0    While in the function LMFS:DOWNREFERENCE-FILE-BUFFER  (FLAVOR:METHOD :ESTABLISH-ADDRESSOR LMFS:LMFS-OPENING-MIXIN)  (FLAVOR:METHOD :NEW-OUTPUT-BUFFER LMFS:LMFS-OPENING-MIXIN)

    The condition signalled was DBG:WRONG-TYPE-ARGUMENT-TRAP

    1LMFS:DOWNREFERENCE-FILE-BUFFER0:  (P.C. = 10)
       Arg 0 (LMFS:BUF): NIL

    1(FLAVOR:METHOD :ESTABLISH-ADDRESSOR LMFS:LMFS-OPENING-MIXIN)0:  (P.C. = 414)
       Arg 0 (SELF): #<LMFS-BINARY-OUTPUT-OPENING "Z:>File-Server>Updater>log.text" 524012221>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor LMFS:LMFS-OPENING-MIXIN 234077764>
       Arg 2 (FLAVOR::.GENERIC.): :ESTABLISH-ADDRESSOR
       Arg 3 (LMFS:FOR-OUTPUT): T

[ Wiped out backtrace ]

16-Jun-87 17:28:51-EDT,3173;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 16 Jun 87 17:28-EDT
Received: from Think.COM (THINK.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 57459; 16 Jun 87 17:25:41 EDT
Received: from occam by Think.COM via CHAOS; Tue, 16 Jun 87 17:12:46 EDT
Date: Tue, 16 Jun 87 17:10 EDT
From: Barry Margolin <barmar@Think.COM>
Subject: random LMFS lossage
To: Christopher Garrigues <7thSon@stony-brook.scrc.symbolics.com>
Cc: RWS@zermatt.lcs.mit.edu, Customer-Reports@stony-brook.scrc.symbolics.com,
        Bug-LispM@zermatt.lcs.mit.edu
In-Reply-To: <870616151524.8.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Message-Id: <870616171041.7.BARMAR@OCCAM.THINK.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Tue, 16 Jun 87 15:15 EDT
    From: Christopher Garrigues <7thSon@stony-brook.scrc.symbolics.com>

	Date: Thu, 4 Jun 87 09:35 EDT
	From: RWS@ZERMATT.LCS.MIT.EDU

	In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
	7-1-Patches 1.13, MAC 11.1, Experimental X-Window-System 17.4,
	microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
	fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
	fep0:>g206-info.flod(14), Machine serial number 30100,
	Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
	Network-Security patch (from Z:>File-Server>network-security.lisp.4),
	Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
	Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

	A daemon just trying to tell me something...

    This is very strange because every call to
    1lmfs:downreference-file-buffer0 in 1(flavor:method :establish-addressor
0    1lmfs:lmfs-opening-mixin)0 is of this form:

	 [7.1 sources]
	 (if cur-addressor
	     (with-fs-locked (downreference-addressor
			       (prog1 cur-addressor (setq cur-addressor nil)))))

    Now, can you tell me how 1lmfs:downreference-file-buffer0 could get called
    with a nil argument?

Since 1cur-addressor0 is an instance variable, not a local variable,
another process could be setting it to NIL after this process has read
it but before it has grabbed the lock.  Try:

	(with-fs-locked
	  (when cur-addressor
	    (downreference-addressor
	      (prog1 cur-addressor (setq cur-addressor nil)))))

	1Trap: The first argument given to the ZL:AR-1 instruction, NIL, was not an array.
0	While in the function LMFS:DOWNREFERENCE-FILE-BUFFER  (FLAVOR:METHOD :ESTABLISH-ADDRESSOR LMFS:LMFS-OPENING-MIXIN)  (FLAVOR:METHOD :NEW-OUTPUT-BUFFER LMFS:LMFS-OPENING-MIXIN)

	The condition signalled was DBG:WRONG-TYPE-ARGUMENT-TRAP

	1LMFS:DOWNREFERENCE-FILE-BUFFER0:  (P.C. = 10)
	   Arg 0 (LMFS:BUF): NIL

	1(FLAVOR:METHOD :ESTABLISH-ADDRESSOR LMFS:LMFS-OPENING-MIXIN)0:  (P.C. = 414)
	   Arg 0 (SELF): #<LMFS-BINARY-OUTPUT-OPENING "Z:>File-Server>Updater>log.text" 524012221>
	   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor LMFS:LMFS-OPENING-MIXIN 234077764>
	   Arg 2 (FLAVOR::.GENERIC.): :ESTABLISH-ADDRESSOR
	   Arg 3 (LMFS:FOR-OUTPUT): T

    [ Wiped out backtrace ]


16-Jun-87 17:35:53-EDT,2477;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 16 Jun 87 17:35-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 57465; 16 Jun 87 17:32:51 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 16 Jun 87 17:32-EDT
Date: Tue, 16 Jun 87 17:32 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: random LMFS lossage
To: 7thSon@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870616151524.8.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Message-ID: <870616173245.4.RWS@KILLINGTON.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Tue, 16 Jun 87 15:15 EDT
    From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>

	Date: Thu, 4 Jun 87 09:35 EDT
	From: RWS@ZERMATT.LCS.MIT.EDU

	In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
	7-1-Patches 1.13, MAC 11.1, Experimental X-Window-System 17.4,
	microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
	fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
	fep0:>g206-info.flod(14), Machine serial number 30100,
	Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
	Network-Security patch (from Z:>File-Server>network-security.lisp.4),
	Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
	Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

	A daemon just trying to tell me something...

    This is very strange because every call to
    1lmfs:downreference-file-buffer0 in 1(flavor:method :establish-addressor
0    1lmfs:lmfs-opening-mixin)0 is of this form:

	 [7.1 sources]
	 (if cur-addressor
	     (with-fs-locked (downreference-addressor
			       (prog1 cur-addressor (setq cur-addressor nil)))))

    Now, can you tell me how 1lmfs:downreference-file-buffer0 could get called
    with a nil argument?

LMFS sources are apparently a bit difficult for us mere customers to come by,
so I'm at a bit of a disadvantage, but the code above certainly looks suspect,
given that cur-addressor is checked *outside* the critical section.  Seems
perfectly plausible to see that it is non-nil, then go blocked on the locked
and have somebody else set it to nil in the interim.  Am I missing something,
or are you?

    [ Wiped out backtrace ]

16-Jun-87 17:41:30-EDT,22974;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 16 Jun 87 17:41-EDT
Received: from PANDA.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 3984; Tue 16-Jun-87 17:34:31 EDT
Date: Tue, 16 Jun 87 17:34 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: bug in the document examiner
To: customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    bug-lispm@OZ.AI.MIT.EDU
In-Reply-To: <870616170236.1.TIERNEY@PANDA.MIT.EDU>
Message-ID: <870616173444.6.TIERNEY@PANDA.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    In Symbolics 3675 Genera 7.1, Hacks 3.0, Zoo 7.3, IP-TCP 52.16,
    7-1-Patches 1.17, Speech Printers 2.0, SPIRE 18.3,
    microcode 3675-FPA-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
    FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
    FEP0:>v127-debug.flod(34), Machine serial number 7541,
    World load FEP0:>dw-SPIRE.load.1, on Lisp Machine Panda:

    I was reading the  7.1 patch notes section in the doc examiner and it blew up.
    Rather annoying that the document examiner must now be magically reset

    1Error: "Y" is not a known file server host.
0    While in the function FS:GET-PATHNAME-HOST  FS:PARSE-PATHNAME-FIND-COLON  FS:PARSE-PATHNAME

    The condition signalled was FS:UNKNOWN-PATHNAME-HOST

    1FS:GET-PATHNAME-HOST0:  (P.C. = 62)
       Arg 0 (FS:HOST-NAME): "Y"
       2--Defaulted args:--
0       Arg 1 (FS:NO-ERROR-P): NIL
       Arg 2 (FS:NO-AUTO-ADD-P): NIL
       Local 3 (FS:HOST): NIL

    1FS:PARSE-PATHNAME-FIND-COLON0:  (P.C. = 31)
       Arg 0 (STRING): "Y:>RWK>MAIL.TEXT.1"

    1FS:PARSE-PATHNAME0:  (P.C. = 41)
       Arg 0 (FS:THING): "Y:>RWK>MAIL.TEXT.1"
       2--Defaulted args:--
0       Arg 1 (FS:WITH-RESPECT-TO-HOST): NIL
       Arg 2 (FS:DEFAULTS): ((#<LISPM-HOST GOLDILOCKS 1101046> . #P"GOLDY:>TIERNEY>foo.lisp.newest") (#<LISPM-HOST REAGAN 1101142> . #P"B:>foo>foo.lisp.newest") (NIL . #P"GOLDY:>TIERNEY>foo.lisp.newest"))

    1SI:XR-CL-#P-MACRO0:  (P.C. = 15)
       Arg 0 (SI:LIST-SO-FAR): :TOPLEVEL
       Arg 1 (SI:STREAM): #<LEXICAL-CLOSURE CLI::STRING-INPUT-STREAM 231301615>

    1(:INTERNAL SI:READ-INTERNAL 0 SI:READ-INTERNAL-INTERNAL)0:  (P.C. = 25)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 231301644>
       Arg 1 (SI:STREAM): #<LEXICAL-CLOSURE CLI::STRING-INPUT-STREAM 231301615>

    1(:INTERNAL (:INTERNAL SI:READ-INTERNAL 1) 0)0:  (P.C. = 27)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 231301753>

    1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 231302012>

    1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-169)
0       Arg 0 (STREAM): #<LEXICAL-CLOSURE CLI::STRING-INPUT-STREAM 231301615>
       Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 231301754>
       Arg 2 (CLI::ACTIVATORS): NIL
       Arg 3 (CLI::LINE-P): NIL

    1(:INTERNAL SI:READ-INTERNAL 1)0:  (P.C. = 131)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 231301644>

    1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 231301666>

    1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-169)
0       Arg 0 (STREAM): #<LEXICAL-CLOSURE CLI::STRING-INPUT-STREAM 231301615>
       Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:READ-INTERNAL 1) 231301650>
       Arg 2 (CLI::ACTIVATORS): (#\End)
       Arg 3 (CLI::LINE-P): NIL

    1SI:READ-INTERNAL0:  (P.C. = 47)  2(from SYS:PATCH;SYSTEM-349-169)
0       Arg 0 (FUNCTION): ZL:READ
       Rest arg (SI:READ-ARGS): (#<LEXICAL-CLOSURE CLI::STRING-INPUT-STREAM 231301615>)

    1READ0:  (P.C. = 30)
       Arg 0 (CLI::INPUT-STREAM): #<LEXICAL-CLOSURE CLI::STRING-INPUT-STREAM 231301615>
       Arg 1 (CLI::EOF-ERRORP): T
       Arg 2 (CLI::EOF-VALUE): NIL
       2--Defaulted args:--
0       Arg 3 (CLI::RECURSIVE-P): NIL

    1READ-FROM-STRING0:  (P.C. = 55)
       Arg 0 (STRING): "#P\"Y:>RWK>MAIL.TEXT.1\""
       Arg 1 (CLI::EOF-ERRORP): T
       Arg 2 (CLI::EOF-VALUE): NIL
       Rest arg: (:START 0)

    1SAGE:CONVERT-PHONY-FUNCTION-SPEC-STRING0:  (P.C. = 144)
       Arg 0 (STRING): "#P\"Y:>RWK>MAIL.TEXT.1\""
       Arg 1 (SAGE:CANONICALIZE-P): NIL
       Arg 2 (SAGE:SLASHIFY-P): T

    1SAGE:DISPLAY-STRING-FROM-L-COMMAND0:  (P.C. = 32)
       Arg 0 (SAGE:COMMAND-OR-STRING): "#P\"Y:>RWK>MAIL.TEXT.1\""
       2--Defaulted args:--
0       Arg 1 (SAGE:CASE): SAGE:LOWERCASE

    1(:PROPERTY SAGE:L SAGE:COMMAND-SPLICER)0:  (P.C. = 20)
       Arg 0 (SAGE:COMMAND): #<@L[("#P\"Y:>RWK>MAIL.TEXT.1\"")] 40040543>
       Arg 1 (SAGE:PREDECESSOR): #<STRING-GBOX 40045471>
       Arg 2 (SAGE:ENVIRONMENT): #<ENVIRONMENT TEXT 24717542>

    1(FLAVOR:METHOD :SPLICE-GBOX-SELF SAGE:SAGE-COMMAND)0:  (P.C. = 13)
       Arg 0 (SELF): #<@L[("#P\"Y:>RWK>MAIL.TEXT.1\"")] 40040543>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:SAGE-COMMAND 254154634>
       Arg 2 (FLAVOR::.GENERIC.): :SPLICE-GBOX-SELF
       Arg 3 (SAGE:PREDECESSOR): #<STRING-GBOX 40045471>
       Arg 4 (SAGE:ENVIRONMENT): #<ENVIRONMENT TEXT 24717542>

    1SAGE:SPLICE-CONTENTS-LIST0:  (P.C. = 104)
       Arg 0 (SAGE:PREDECESSOR): #<NEWLINE-GBOX 40043227>
       Local 0 (SAGE:PREDECESSOR): #<STRING-GBOX 40045471>
       Arg 1 (SAGE:ENVIRONMENT): #<ENVIRONMENT TEXT 24717542>
       Arg 2 (SAGE:CONTENTS-LIST): ("
    " #<@FORMAT("
    Show Handler Applicability " #<@I("Handler-name") 40040364> " " #<@I("keyword") 40040371> "
    ") 40040376> "

    Shows what contexts this handler does and does not apply to for the current
    presentation, and why.  (To set the current presentation, " #<@REFERENCE((SAGE:TOPIC DOC:|SHOW PRESENTATION HIERARCHY PRESENTATION INSPECTOR COMMAND|) (SAGE:TYPE SAGE:FRAGMENT) (SAGE:VIEW ("CrossRef"))) 40040403> ")

    " #<@DESCRIPTION("
    " #<@I("Handler-name") 40040407> #<@TAB-TO-TAB-STOP 40040414> "The name of a handler to be investigated.

    " #<@I("keyword") 40040417> #<@TAB-TO-TAB-STOP 40040424> ":Detailed
    ") 40040427> "
    " #<@DESCRIPTION[((INDENT (- 14 CHARACTERS)))]("
    :Detailed" #<@TAB-TO-TAB-STOP 40040434> "{Yes No} If Yes, show additional detail.  The default is No, unless :Detailed is
    mentioned.
    ") 40040437> "

    For each context in the context hierarchy (see the title pane), shows
    whether the handler is applicable, and if not, why.  A couple of examples
    will help you decode the format:

    " #<@EXAMPLE[((LEFTMARGIN (+ 0 CHARACTERS)) (LONGLINES KEEP))]("
    Show Handler Applicability si:com-show-file
    For context SI:INPUT-EDITOR-BUFFER: 
     Handler SI:COM-SHOW-FILE PATHNAME (presentation)  CP:COMMAND
      The handler failed because it failed to match the context and displayed presentation types.
     Handler SI:COM-SHOW-FILE PATHNAME (object), EXPRESSION (presentation)  CP:COMMAND
      The handler failed because it failed to match the context presentation type.
    For context ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 100214200> :DISPATCH-MODE ...)): 
     Handler SI:COM-SHOW-FILE PATHNAME (presentation)  CP:COMMAND
      The handler failed because it failed to match the displayed presentation type.
     Handler SI:COM-SHOW-FILE PATHNAME (object), EXPRESSION (presentation)  CP:COMMAND
      The handler succeeded and returned values:(SI:COM-SHOW-FILE (#P\"Y:>rwk>mail.text.1\"))

    For context SI:INPUT-EDITOR-BUFFER: 
     Handler SI:COM-SHOW-FILE PATHNAME (presentation)  CP:COMMAND
      The handler failed because it failed to match the context and displayed presentation types.
     Handler SI:COM-SHOW-FILE PATHNAME (object), EXPRESSION (presentation)  CP:COMMAND
      The handler failed because it failed to match the context presentation type.
    For context " #<@I("<null context>") 40040444> ": 
     Handler SI:COM-SHOW-FILE PATHNAME (presentation)  CP:COMMAND
      The handler failed because it failed to match the context and displayed presentation types.
     Handler SI:COM-SHOW-FILE PATHNAME (object), EXPRESSION (presentation)  CP:COMMAND
      The handler failed because it failed to match the context and displayed presentation types.
    ") 40040451> ...)

    1(FLAVOR:METHOD :SPLICE-FIELD SAGE:CONCEPT-DOC-RECORD SAGE:CONTENTS)0:  (P.C. = 6)
       Arg 0 (SELF): #<CONCEPT-DOC-RECORD 25006707>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:CONCEPT-DOC-RECORD 250416403>
       Arg 2 (FLAVOR::.GENERIC.): :SPLICE-FIELD
       Arg 3 (SAGE:PREDECESSOR): #<NEWLINE-GBOX 40043227>
       Arg 4 (SAGE:ENVR): #<ENVIRONMENT TEXT 24717542>

    1(FLAVOR:COMBINED :SPLICE-FIELD SAGE:CONCEPT-DOC-RECORD)0:  (P.C. = 45)
       Arg 0 (SELF): #<CONCEPT-DOC-RECORD 25006707>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:CONCEPT-DOC-RECORD 250416403>
       Arg 2 (FLAVOR::.GENERIC.): :SPLICE-FIELD
       Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (SAGE:CONTENTS #<NEWLINE-GBOX 40043227> #<ENVIRONMENT TEXT 24717542>)

    1(FLAVOR:METHOD :SPLICE-EVERYTHING SAGE:CONCEPT-DOC-RECORD)0:  (P.C. = 23)
       Arg 0 (SELF): #<CONCEPT-DOC-RECORD 25006707>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:CONCEPT-DOC-RECORD 250416403>
       Arg 2 (FLAVOR::.GENERIC.): :SPLICE-EVERYTHING
       Arg 3 (SAGE:PREDECESSOR): #<DOUBLY-LINKED-LIST-HEAD 25012245>
       Local 3 (SAGE:PREDECESSOR): #<NEWLINE-GBOX 40043227>
       Arg 4 (SAGE:ENVR): #<ENVIRONMENT TEXT 24717542>

    1(FLAVOR:METHOD :REFERENCE-EXPAND-SELF SAGE:UNEXPANDED-REFERENCE-GBOX)0:  (P.C. = 76)
       Arg 0 (SELF): #<UNEXPANDED-REFERENCE-GBOX 40013515>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:UNEXPANDED-REFERENCE-GBOX 250574052>
       Arg 2 (FLAVOR::.GENERIC.): :REFERENCE-EXPAND-SELF

    1(FLAVOR:METHOD :EXPAND-REFERENCES SAGE:UNEXPANDED-REFERENCE-LINE-HBOX)0:  (P.C. = 34)
       Arg 0 (SELF): #<UNEXPANDED-REFERENCE-LINE-HBOX 40014354>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:UNEXPANDED-REFERENCE-LINE-HBOX 254011446>
       Arg 2 (FLAVOR::.GENERIC.): :EXPAND-REFERENCES

    1(FLAVOR:METHOD :TAKE-LINE SAGE:SOURCE-OF-FORMATTED-SAGE-LINES)0:  (P.C. = 32)
       Arg 0 (SELF): #<SOURCE-OF-FORMATTED-SAGE-RECORD-LINES 24730230>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:SOURCE-OF-FORMATTED-SAGE-LINES 254104055>
       Arg 2 (FLAVOR::.GENERIC.): :TAKE-LINE

    1(FLAVOR:METHOD :TAKE-LINE SAGE:DEX-ITEM)0:  (P.C. = 4)
       Arg 0 (SELF): #<DEX-ITEM "Changes to the User Interface and UI Programming Facilities in Genera 7.1" 24730214>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX-ITEM 251000747>
       Arg 2 (FLAVOR::.GENERIC.): :TAKE-LINE

    1(FLAVOR:METHOD :DISPLAY-VERTICAL-HEIGHT SAGE:DEX-ITEM)0:  (P.C. = 26)
       Arg 0 (SELF): #<DEX-ITEM "Changes to the User Interface and UI Programming Facilities in Genera 7.1" 24730214>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX-ITEM 251000747>
       Arg 2 (FLAVOR::.GENERIC.): :DISPLAY-VERTICAL-HEIGHT
       Arg 3 (SAGE:PANE): #<DEX-VIEWER-PANE Dex Viewer Pane 1 1621041 exposed>
       Arg 4 (SAGE:HEIGHT): 626
       Local 4 (SAGE:HEIGHT): 258
       Arg 5 (SAGE:LINE-HBOX): #<LINE-HBOX 40040051>

    1(FLAVOR:METHOD :DISPLAY-FROM-ITEM SAGE:DEX-VIEWER-PANE)0:  (P.C. = 35)
       Arg 0 (SELF): #<DEX-VIEWER-PANE Dex Viewer Pane 1 1621041 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX-VIEWER-PANE 174057411>
       Arg 2 (FLAVOR::.GENERIC.): :DISPLAY-FROM-ITEM
       Arg 3 (SAGE:VERTICAL-HEIGHT): 626
       Arg 4 (SAGE:ITEM): #<DEX-ITEM "Changes to the User Interface and UI Programming Facilities in Genera 7.1" 24730214>
       Arg 5 (SAGE:HBOX): #<LINE-HBOX 40040051>

    1(FLAVOR:METHOD :REFRESH-WHOLE-VIEWER SAGE:DEX-VIEWER-PANE)0:  (P.C. = 75)
       Arg 0 (SELF): #<DEX-VIEWER-PANE Dex Viewer Pane 1 1621041 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX-VIEWER-PANE 174057411>
       Arg 2 (FLAVOR::.GENERIC.): :REFRESH-WHOLE-VIEWER

    1(FLAVOR:METHOD :REFRESH-DISPLAY SAGE:DEX-VIEWING-CONTEXT)0:  (P.C. = 20)
       Arg 0 (SELF): #<DEX-VIEWING-CONTEXT "Default Viewer" 121045321>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX-VIEWING-CONTEXT 250160727>
       Arg 2 (FLAVOR::.GENERIC.): :REFRESH-DISPLAY
       Arg 3 (SAGE:FRAME): #<DEX-FRAME Dex Frame 1 1620540 exposed>

    1(FLAVOR:METHOD :COM-REFRESH SAGE:DEX)0:  (P.C. = 5)
       Arg 0 (SELF): #<DEX-FRAME Dex Frame 1 1620540 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX 174432531>
       Arg 2 (FLAVOR::.GENERIC.): :COM-REFRESH
       Arg 3 (IGNORE): NIL

    1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
       Arg 0 (SELF): #<PROCESS Dex Frame 1 15056031>
       Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
       Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 231301055>
       Rest arg: NIL

    1(:INTERNAL (FLAVOR:METHOD :COMMAND-CHAR SAGE:DEX) 0 FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST)0:  (P.C. = 31)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 231301015>

    1FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST-INTERNAL0:  (P.C. = 30)  2(from SYS:PATCH;SYSTEM-349-221)
0       Arg 0 (FS:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST) 231301022>

    1(FLAVOR:METHOD :COMMAND-CHAR SAGE:DEX)0:  (P.C. = 22)  2(from SYS:SAGE;PATCH;BASIC-SAGE-42-9)
0       Arg 0 (SELF): #<DEX-FRAME Dex Frame 1 1620540 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX 174432531>
       Arg 2 (FLAVOR::.GENERIC.): :COMMAND-CHAR
       Arg 3 (SAGE:CHAR): #\Refresh
       Arg 4 (SAGE:NUMERIC-ARG): NIL

    1SAGE:DEX-IE-COMMAND0:  (P.C. = 10)
       Arg 0 (SAGE:STREAM): #<DEX-COMMAND-PANE Dex Command Pane 1 1621770 exposed>
       Arg 1 (SAGE:CODE): #\Refresh

    1(FLAVOR:METHOD SI:INPUT-EDITOR-TYI SI:DISPLAY-INPUT-EDITOR)0:  (P.C. = 512)  2(from SYS:PATCH;SYSTEM-349-196)
0       Arg 0 (SELF): #<DEX-COMMAND-PANE Dex Command Pane 1 1621770 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:DISPLAY-INPUT-EDITOR 210210517>
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:INPUT-EDITOR-TYI 6724471>
       Arg 3: NIL

    1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
       Arg 0 (SELF): #<PROCESS Dex Frame 1 15056031>
       Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
       Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 231300660>
       Rest arg: NIL

    1(FLAVOR:WHOPPER :ANY-TYI SI:INTERACTIVE-STREAM)0:  (P.C. = 22)
       Arg 0 (SELF): #<DEX-COMMAND-PANE Dex Command Pane 1 1621770 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 210210466>
       Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :ANY-TYI TV:WINDOW) 0) 147003200>
       Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor TV:WINDOW 210210446>
       Arg 4 (FLAVOR::.GENERIC.): :ANY-TYI
       2--Defaulted args:--
0       Arg 5 (SI:EOF): NIL

    1(FLAVOR:COMBINED :ANY-TYI TV:WINDOW)0:  (P.C. = 13)
       Arg 0 (SELF): #<DEX-COMMAND-PANE Dex Command Pane 1 1621770 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:WINDOW 210210446>
       Arg 2 (FLAVOR::.GENERIC.): :ANY-TYI
       Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

    1SAGE:TYI-CLOSING-OPEN-STREAMS-AT-TIMEOUT0:  (P.C. = 11)

    1(:INTERNAL (FLAVOR:METHOD :READ-COMPLETED-STRING SAGE:DEX) 0)0:  (P.C. = 10)
       Arg 0: #<DEX-FRAME Dex Frame 1 1620540 exposed>

    1(DEFUN-IN-FLAVOR SI:INPUT-EDITOR-READ SI:INTERACTIVE-STREAM)0:  (P.C. = 54)
       Arg 0 (SELF): #<DEX-COMMAND-PANE Dex Command Pane 1 1621770 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 210210466>
       Arg 2 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 231300323>
       Arg 3 (SI:READ-ARGS): NIL

    1(FLAVOR:METHOD :INPUT-EDITOR SI:INTERACTIVE-STREAM)0:  (P.C. = 160)
       Arg 0 (SELF): #<DEX-COMMAND-PANE Dex Command Pane 1 1621770 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 210210466>
       Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
       Arg 3 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 231300323>
       Rest arg (SI:READ-ARGS): NIL

    1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 220)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 231300407>

    1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
       Arg 0 (SELF): #<PROCESS Dex Frame 1 15056031>
       Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
       Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 231300415>
       Rest arg: NIL

    1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0       Arg 0 (STREAM): NIL
       Local 0 (STREAM): #<DEX-COMMAND-PANE Dex Command Pane 1 1621770 exposed>
       Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 231300323>
       Arg 2 (CLI::ACTIVATORS): NIL
       Arg 3 (CLI::LINE-P): NIL

    1(FLAVOR:METHOD :READ-COMPLETED-STRING SAGE:DEX)0:  (P.C. = 253)  2(from SYS:SAGE;PATCH;BASIC-SAGE-42-6)
0       Arg 0 (SELF): #<DEX-FRAME Dex Frame 1 1620540 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX 174432531>
       Arg 2 (FLAVOR::.GENERIC.): :READ-COMPLETED-STRING
       Rest arg (ARGLIST): (:ALIST (("Beginning of Topic" "Shows the current topic from the beginning." :COM-DISPLAY-ITEM :BEGINNING) ("Document Examiner Documentation" "Shows the full Document Examiner documentation." :COM-DEX-SELF-DOCUMENTATION) ("End of Topic" "Shows the last screen displayed for the current topic." :COM-DISPLAY-ITEM :END) ("Find Any Candidates" "Finds all topics whose names or keywords contain a string (or strings) anywhere." :COM-DOC-MATCH) ("Find Initial Substring Candidates" "Finds all topics whose names or keywords start with any string(s)." :COM-INITIAL-SUBSTRING-DOC-MATCH) ("Find Table of Contents" "Fills the current candidates list with the table of contents for a topic." :COM-TABLE-OF-CONTENTS) ("Find Whole Word Candidates" "Finds all topics that contain any word(s) in their names or keywords." :COM-WHOLE-WORD-DOC-MATCH) ("Hardcopy Documentation" "Hardcopies a topic from the documentation set to a supported printer." :COM-HARDCOPY-DOCUMENTATION) ("Hardcopy Private Document" "Sends the topics in a private document to a printer." :COM-HARDCOPY-PRIVATE-DOCUMENT) ("Hardcopy Viewer" "Sends the topics in the viewer to a printer." :COM-HARDCOPY-VIEWER) ...) :IMPOSSIBLE-IS-OK NIL :PROMPT SAGE:DEFAULT-DEX-PROMPT)

    1(FLAVOR:METHOD :READ-COMMAND SAGE:DEX)0:  (P.C. = 22)
       Arg 0 (SELF): #<DEX-FRAME Dex Frame 1 1620540 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX 174432531>
       Arg 2 (FLAVOR::.GENERIC.): :READ-COMMAND

    1(:INTERNAL (FLAVOR:METHOD :COMMAND-LOOP SAGE:DEX) 0 SAGE:DOIT)0:  (P.C. = 11)
       Arg 0: #<DEX-FRAME Dex Frame 1 1620540 exposed>

    1(FLAVOR:METHOD :COMMAND-LOOP SAGE:DEX)0:  (P.C. = 27)  2(from SYS:SAGE;PATCH;BASIC-SAGE-42-9)
0       Arg 0 (SELF): #<DEX-FRAME Dex Frame 1 1620540 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX 174432531>
       Arg 2 (FLAVOR::.GENERIC.): :COMMAND-LOOP

    1(:INTERNAL (FLAVOR:METHOD :TOPLEVEL SAGE:DEX) 1)0:  (P.C. = 121)
       Arg 0: #<DEX-FRAME Dex Frame 1 1620540 exposed>

    1(FLAVOR:METHOD :WITH-DEVICE-PREPARED SAGE:DEX-OUTPUT-DEVICE)0:  (P.C. = 51)
       Arg 0 (SELF): #<DEX-OUTPUT-DEVICE 24705157>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX-OUTPUT-DEVICE 250633343>
       Arg 2 (FLAVOR::.GENERIC.): :WITH-DEVICE-PREPARED
       Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 1) 231300113>
       Rest arg (ZL:ARGS): NIL

    1(:INTERNAL SAGE:WITH-SAGE-DEVICE-INTERNAL 0 SAGE:DOIT)0:  (P.C. = 23)
       Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 231300130>
       Arg 1 (SAGE:DEV): #<DEX-OUTPUT-DEVICE 24705157>

    1SAGE:WITH-SAGE-DEVICE-INTERNAL0:  (P.C. = 120)
       Arg 0: #<DEX-VIEWER-PANE Dex Viewer Pane 1 1621041 exposed>
       Arg 1 (SAGE:TYPE): :DEX
       Arg 2 (SAGE:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 1) 231300113>
       Rest arg (SAGE:OPTIONS): NIL

    1(FLAVOR:METHOD :TOPLEVEL SAGE:DEX)0:  (P.C. = 67)
       Arg 0 (SELF): #<DEX-FRAME Dex Frame 1 1620540 exposed>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SAGE:DEX 174432531>
       Arg 2 (FLAVOR::.GENERIC.): :TOPLEVEL

    1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
       Arg 0 (SELF): #<PROCESS Dex Frame 1 15056031>
       Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
       Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SAGE:DEX-TOPLEVEL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 231300042>
       Rest arg: NIL

    1SAGE:DEX-TOPLEVEL0:  (P.C. = 17)
       Arg 0 (SAGE:FRAME): #<DEX-FRAME Dex Frame 1 1620540 exposed>

    1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
       Arg 0 (IGNORE): NIL

       Special FS:*LOGICAL-PATHNAME-HOST-LIST*: (#<LOGICAL-HOST SYS> #<LOGICAL-HOST SPIRE>
						 #<LOGICAL-HOST TIMIT>)
       Special FS:*PATHNAME-HOST-LIST*: 
    (#<LISPM-HOST GOLDILOCKS 1101046> #<TOPS20-HOST SPEECH 1103527> #<LISPM-HOST REAGAN 1101142>
     #<LISPM-HOST ZERMATT 1100705> #<FEP-FILE-HOST FEP0> #<FEP-FILE-HOST SMOKEY|FEP0>
     #<LISPM-HOST PANDA 1104235> #<FEP-FILE-HOST FEP3> #<FEP-FILE-HOST FEP2>
     #<FEP-FILE-HOST FEP1> ...)
       Special NET:*LOCAL-HOST*: #<LISPM-HOST PANDA 1104235>
17-Jun-87 09:32:47-EDT,6361;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 09:32-EDT
Date: Wed, 17 Jun 87 09:22 EDT
From: rws@ZERMATT.LCS.MIT.EDU
Sender: File-Server@ZERMATT.LCS.MIT.EDU
Subject: yet another VMA problem
To: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870617092253.2.FILE-SERVER@ZERMATT.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.17, MAC 11.2, Experimental X-Window-System 17.4,
microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
fep0:>g206-info.flod(14), Machine serial number 30100,
Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
Network-Security patch (from Z:>File-Server>network-security.lisp.4),
Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

This time, the server was freshly booted (only up about an hour),
and no dumps had been performed.  Should I suspect hardware or
software?

1Error: Page fault on unallocated VMA 27127411, %other-pc #<DTP-EVEN-PC 145345156>, 
       %other-frame-pointer #<DTP-LOCATIVE 331700436>, %other-stack-pointer #<DTP-LOCATIVE 331700447>
0While in the function NETI:FIND-OBJECT-FROM-PROPERTY-LIST-COMPARE  (:INTERNAL NETI:FIND-OBJECTS-FROM-PROPERTY-LIST-IN-NAMESPACE 1)  (FLAVOR:METHOD :MAP-OVER-OBJECTS-OF-CLASS NETI:NAMESPACE)

The condition signalled was ZL:FERROR

1NETI:FIND-OBJECT-FROM-PROPERTY-LIST-COMPARE0:  (P.C. = 22)
   Arg 0 (NET:OBJECT): #<UNIX-HOST HT 1141103>
   Arg 1 (NETI:CLASS): :HOST
   Arg 2 (NETI:PROPERTY-LIST): (:ADDRESS ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53")))
   Local 3 (NETI:OBJECT-PROPERTY-LIST): #<DTP-LOCATIVE 1141104>
   Local 4 (NETI:IND): :ADDRESS
   Local 5 (NETI:VAL): ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53"))
   Local 6: (:ADDRESS ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53")))
   Local 7 (NETI:OVAL): NIL

1(:INTERNAL NETI:FIND-OBJECTS-FROM-PROPERTY-LIST-IN-NAMESPACE 1)0:  (P.C. = 5)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 331700325>
   Arg 1 (NET:OBJECT): #<UNIX-HOST HT 1141103>

1(FLAVOR:METHOD :MAP-OVER-OBJECTS-OF-CLASS NETI:NAMESPACE)0:  (P.C. = 45)
   Arg 0 (SELF): #<NAMESPACE AI 1100743>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor NETI:NAMESPACE 250324452>
   Arg 2 (FLAVOR::.GENERIC.): :MAP-OVER-OBJECTS-OF-CLASS
   Arg 3 (NETI:IN-CLASS): :HOST
   Arg 4 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL NETI:FIND-OBJECTS-FROM-PROPERTY-LIST-IN-NAMESPACE 1) 331700332>
   Rest arg (ZL:ARGS): NIL

1NETI:MAP-OVER-OBJECTS-OF-CLASS-IN-NAMESPACE0:  (P.C. = 10)
   Arg 0 (NETI:NAMESPACE): #<NAMESPACE AI 1100743>
   Arg 1 (NETI:CLASS): :HOST
   Arg 2 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL NETI:FIND-OBJECTS-FROM-PROPERTY-LIST-IN-NAMESPACE 1) 331700332>
   Rest arg (ZL:ARGS): NIL

1NETI:FIND-OBJECTS-FROM-PROPERTY-LIST-IN-NAMESPACE0:  (P.C. = 211)
   Arg 0 (NETI:CLASS): :HOST
   Arg 1 (NETI:NAMESPACE): #<NAMESPACE AI 1100743>
   Rest arg (NETI:PROPERTY-LIST): (:ADDRESS ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53")))

1NETI:FINDING-OBJECTS0:  (P.C. = 27)
   Arg 0 (NETI:CLASS): :HOST
   Arg 1 (NETI:PROPERTY-LIST): (:ADDRESS ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53")))
   Arg 2 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL NET:FIND-OBJECT-FROM-PROPERTY-LIST 0) 331700257>
   Rest arg (NETI:OTHER-ARGS): NIL

1NET:FIND-OBJECT-FROM-PROPERTY-LIST0:  (P.C. = 27)
   Arg 0 (NETI:CLASS): :HOST
   Rest arg (NETI:PROPERTY-LIST): (:ADDRESS ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53")))
<<Error printing frame's specials>>
1NETI:GET-HOST-FROM-NETWORK-ADDRESS0:  (P.C. = 31)  2(from SYS:7-1-PATCHES;PATCH;7-1-PATCHES-1-14)
0   Arg 0 (NETI:ADDRESS): "128.52.22.53"
   Arg 1 (NET:NETWORK): #<INTERNET-NETWORK INTERNET 1101312>
   Arg 2 (NETI:NO-CREATE-P): T
   Rest arg (NETI:ADDITIONAL-ATTRIBUTES): NIL

1NET:GET-HOST-FROM-ADDRESS0:  (P.C. = 24)
   Arg 0 (NETI:ADDRESS): -2144070091
   Arg 1 (NET:NETWORK): #<INTERNET-NETWORK INTERNET 1101312>
   Arg 2 (NETI:NO-CREATE-P): T
   Rest arg (NETI:ADDITIONAL-ATTRIBUTES): NIL

1(:INTERNAL (FLAVOR:METHOD :BACKGROUND-ROUTING TCP::IP-PROTOCOL) 0)0:  (P.C. = 33)
   Arg 0: #<IP-PROTOCOL 244000073>
   Arg 1: -2144070091
   Local 1#<Map to flavor TCP::IP-PROTOCOL 24167430>
   Arg 2 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<IP-ROUTE (128.52.22.53) via 18.30.0.10 (MOSS)>
   Local 2 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<IP-PROTOCOL 244000073> #<Map to flavor TCP::IP-PROTOCOL 24167430> NIL)

1MAP0:  (P.C. = 142)  2(from SYS:PATCH;SYSTEM-349-197)
0   Arg 0 (CLI::RESULT-TYPE): NIL
   Arg 1 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 26142700>
   Rest arg (CLI::SEQUENCES): (#<ART-Q-31 22500001> #<ART-Q-31 22500042>)

1TCP::MAPHASH-SNAPSHOT0:  (P.C. = 51)  2(from SYS:IP-TCP;PATCH;IP-TCP-52-6)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 26142700>
   Arg 1 (TCP::TABLE): #<OPEN-SCATTER-INTERRUPT-LOCKING-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 244000120>

1(FLAVOR:METHOD :BACKGROUND-ROUTING TCP::IP-PROTOCOL)0:  (P.C. = 16)  2(from SYS:IP-TCP;PATCH;IP-TCP-52-4)
0   Arg 0: #<IP-PROTOCOL 244000073>
   Arg 1: #<Map to flavor TCP::IP-PROTOCOL 24167430>
   Arg 2 (FLAVOR::.GENERIC.): :BACKGROUND-ROUTING

1(FLAVOR:METHOD :BACKGROUND-TOP-LEVEL TCP::IP-PROTOCOL)0:  (P.C. = 22)
   Arg 0: #<IP-PROTOCOL 244000073>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::IP-PROTOCOL 24167430>
   Arg 2 (FLAVOR::.GENERIC.): :BACKGROUND-TOP-LEVEL

1(:INTERNAL (FLAVOR:METHOD :BACKGROUND-TOP-LEVEL TCP::IP-PROTOCOL) 0)0:  (P.C. = 4)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<IP-PROTOCOL 244000073>)

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 26105510>
   Rest arg (ZL:ARGS): NIL

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL
17-Jun-87 09:53:03-EDT,1078;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 09:52-EDT
Received: from SLUGGO.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 45017; Wed 17-Jun-87 09:50:17 EDT
Date: Wed, 17 Jun 87 09:50 EDT
From: Patrick A. O'Donnell <PAO@DEEP-THOUGHT.MIT.EDU>
Subject: Here we go again.
To: BUG-LISPM@OZ.AI.MIT.EDU, Customer-Reports@SYMBOLICS.COM
Message-ID: <870617095020.1.PAO@SLUGGO.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
7-1-Patches 1.17, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30086,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Mr. Sluggo:

GPRINT::FORMAT-MULTIDIMENSIONAL-ARRAY-DIMENSION does not obey
*print-level* or *print-length*.

		- Pat
17-Jun-87 10:24:36-EDT,7357;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 10:24-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 57704; 17 Jun 87 10:20:59 EDT
Received: from COCKATIEL.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 175130; Wed 17-Jun-87 10:19:50 EDT
Date: Wed, 17 Jun 87 10:19 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: random LMFS lossage
To: RWS@ZERMATT.LCS.MIT.EDU
cc: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Bug-LispM@ZERMATT.LCS.MIT.EDU,
    7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870616173245.4.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870617101930.3.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB
Moon: 6 days, 5 hours, 49 minutes since the full moon.

    Date: Tue, 16 Jun 87 17:32 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

	Date: Tue, 16 Jun 87 15:15 EDT
	From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>

	    Date: Thu, 4 Jun 87 09:35 EDT
	    From: RWS@ZERMATT.LCS.MIT.EDU

	    In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
	    7-1-Patches 1.13, MAC 11.1, Experimental X-Window-System 17.4,
	    microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
	    fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
	    fep0:>g206-info.flod(14), Machine serial number 30100,
	    Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
	    Network-Security patch (from Z:>File-Server>network-security.lisp.4),
	    Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
	    Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

	    A daemon just trying to tell me something...

	This is very strange because every call to
	1lmfs:downreference-file-buffer0 in 1(flavor:method :establish-addressor
0	1lmfs:lmfs-opening-mixin)0 is of this form:

	     [7.1 sources]
	     (if cur-addressor
		 (with-fs-locked (downreference-addressor
				   (prog1 cur-addressor (setq cur-addressor nil)))))

	Now, can you tell me how 1lmfs:downreference-file-buffer0 could get called
	with a nil argument?

    LMFS sources are apparently a bit difficult for us mere customers to come by,
    so I'm at a bit of a disadvantage, but the code above certainly looks suspect,
    given that cur-addressor is checked *outside* the critical section.  Seems
    perfectly plausible to see that it is non-nil, then go blocked on the locked
    and have somebody else set it to nil in the interim.  Am I missing something,
    or are you?

	[ Wiped out backtrace ]

I think I was.  A long day, you know.  Here's the source to
1(:establish-addressor lmfs-opening-mixin)0.  Have fun: 

(defmethod (:establish-addressor lmfs-opening-mixin) (&optional for-output)
  (declare (special *default-implicated-object*))
  ;; We were called because either
  ;;   (1) There is no current addressor. Includes just-opened case.
  ;;   (2) There are reputed to be no bytes left (r or w as appropr.)
  ;;      in the current block.
  ;;   (3) Maybe a set ptr was done too -- will flush addressor

  ;; It might also be the end of file, but that's ok if we just return.

  ;; Let's check for EOF case first...


  (prog ((*default-implicated-object* (or file truename))
	 saved-addressor)
    (if (and (memq mode '(:io :input))
	     (not for-output))
	(when ( cur-byte-address bytes-in-file)	;eof
	  (if cur-addressor
	      (with-fs-locked (downreference-addressor
				(prog1 cur-addressor (setq cur-addressor nil)))))
	  (return nil)))
    (selectq mode
      ((:io :output :append :input))
      (:closed (ferror "Cannot do I//O on closed file - ~A" self))
      (t (ferror "Cannot do I//O on ~S opening - ~A" mode self)))

    ;; Compute exactly what bit, byte, and word
    ;; the wanted pointer means, and exactly how many of each of those things
    ;; it means are left in the current block.

    (let* ((cur-bits (* using-byte-size cur-byte-address))
	   (dwpb (partt-dataw-per-block (fd-partition-desc file)))
	   (cur-word (// cur-bits *BITS-PER-WORD*))
	   (cur-block (// cur-word dwpb))
	   (cur-blockbase (* cur-block dwpb))
	   (blockbase-bits (* cur-blockbase *BITS-PER-WORD*))
	   (blockbase-bytes (// blockbase-bits using-byte-size))
	   (byte-offset (- cur-byte-address blockbase-bytes))
	   (blockend-words (+ dwpb cur-blockbase))
	   (blockend-bits (* blockend-words *BITS-PER-WORD*))
	   (blockend-bytes (// blockend-bits using-byte-size))
	   (true-end-bytes (selectq mode
			     (:io (if for-output
				      blockend-bytes
				      (min blockend-bytes bytes-in-file)))
			     (:input (min blockend-bytes bytes-in-file))
			     (:append blockend-bytes)
			     (:output blockend-bytes)))
	   (block-bytes-left (- true-end-bytes cur-byte-address)))
      
      ;; Figure out if this doesnt correspond to whatever record we were
      ;; keeping track of.  It is important to write out and downreference
      ;; it before attempting to allocate another one, so we may be able
      ;; to reuse this one.

      (when (not (null cur-buffer))
	(cond ((and (>= cur-word (fb-lowest-data-addr cur-buffer))	;in here
			    (< cur-word (fb-highest-data-addr+1 cur-buffer)))
	       (when cur-addressor
		 (rplac-buffer-addressor cur-addressor nil cur-buffer cur-blockbase)
		 (setq saved-addressor t)))
	      (t
	       (with-fs-locked
		 ;; If there is a current addressor, it can't be worth anything. Flush it.
		 ;; Keep a hold on cur-buffer --
		 (if cur-addressor
		     (downreference-addressor (prog1 cur-addressor
						     (setq cur-addressor nil))))
		 (if (and cur-buffer		;No problem if there isn't one.
			  (fb-modified cur-buffer)
			  (or (not *WRITE-BEHIND*)
			      (memq ':direct options)
			      (not (minusp (fb-lowest-header-addr cur-buffer)))
			      (let ((dwpr (partt-dataw-per-record (fd-partition-desc file))))
				( 0
				   (\ (fb-lowest-data-addr cur-buffer)
				      (* (1+ *WRITE-BEHIND-COUNT*) dwpr))
				   dwpr))))
		     (flush-buffers-for-file file t))	;dont write header
		 ;;idea here is seeking, not consistency.
		 (downreference-file-buffer (prog1 cur-buffer (setq cur-buffer nil)))))))

      ;; do these now in case addressing fails

      (setq cur-word-addressor-base cur-blockbase
	    cur-byte-addressor-base blockbase-bytes
	    bytes-left-in-block	    block-bytes-left
	    cur-byte-offset	    byte-offset)

      (unless saved-addressor
	(setq cur-addressor
	      (with-fs-locked-restartable	;!!
		(get-file-data-block-regardless file cur-word-addressor-base))))

      (cond ((null cur-buffer)
	     (setq cur-buffer (buffer-from-addressor cur-addressor))
	     (upreference-file-buffer cur-buffer)
	     (if (neq mode ':input)
		 (set-buffer-modified cur-buffer))))
      (setq bytes-left-in-block block-bytes-left)
      ;;in case we were the grow-invalidator

      (lmfs-change-indirect-array cur-data-addressor (fb-array cur-buffer)
				  (* (8bldr-word-displacement cur-addressor)
				     (// *BITS-PER-WORD* using-byte-size))))))

17-Jun-87 13:23:00-EDT,4080;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 13:22-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 57731; 17 Jun 87 13:19:38 EDT
Received: from OOGLE-BOID.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 138632; Wed 17-Jun-87 13:19:23 EDT
Date: Wed, 17 Jun 87 13:18 EDT
From: Chris Jones <clj@SAPSUCKER.SCRC.Symbolics.COM>
Subject: random LMFS lossage
To: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>, Barry Margolin <barmar@Think.COM>,
    RWS@ZERMATT.LCS.MIT.EDU, bug-lmfs@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870616151524.8.7THSON@COCKATIEL.SCRC.Symbolics.COM>,
             <870616171041.7.BARMAR@OCCAM.THINK.COM>,
             <870617102205.4.7THSON@COCKATIEL.SCRC.Symbolics.COM>,
             <870617101930.3.7THSON@COCKATIEL.SCRC.Symbolics.COM>,
             The message of 17 Jun 87 11:04 EDT from Bernard S. Greenberg <bsg@PEGASUS.SCRC.Symbolics.COM>
Message-ID: <870617131827.7.CLJ@OOGLE-BOID.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Tue, 16 Jun 87 17:10 EDT
    From: Barry Margolin <barmar@Think.COM>

	Date: Tue, 16 Jun 87 15:15 EDT
	From: Christopher Garrigues <7thSon@stony-brook.scrc.symbolics.com>

	    Date: Thu, 4 Jun 87 09:35 EDT
	    From: RWS@ZERMATT.LCS.MIT.EDU

	    In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
	    7-1-Patches 1.13, MAC 11.1, Experimental X-Window-System 17.4,
	    microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
	    fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
	    fep0:>g206-info.flod(14), Machine serial number 30100,
	    Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
	    Network-Security patch (from Z:>File-Server>network-security.lisp.4),
	    Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
	    Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

	    A daemon just trying to tell me something...

	This is very strange because every call to
	1lmfs:downreference-file-buffer0 in 1(flavor:method :establish-addressor
0	1lmfs:lmfs-opening-mixin)0 is of this form:

	     [7.1 sources]
	     (if cur-addressor
		 (with-fs-locked (downreference-addressor
				   (prog1 cur-addressor (setq cur-addressor nil)))))

	Now, can you tell me how 1lmfs:downreference-file-buffer0 could get called
	with a nil argument?

    Since 1cur-addressor0 is an instance variable, not a local variable,
    another process could be setting it to NIL after this process has read
    it but before it has grabbed the lock.  Try:

Yes, another process could be setting it, but it better not be.  LMFS openings are
per-process, not shared.  The locking is done because downreference-addressor calls
downreference-file-buffer, and file-buffers are shared among processes.

	    (with-fs-locked
	      (when cur-addressor
		(downreference-addressor
		  (prog1 cur-addressor (setq cur-addressor nil)))))

	    1Trap: The first argument given to the ZL:AR-1 instruction, NIL, was not an array.
0	    While in the function LMFS:DOWNREFERENCE-FILE-BUFFER  (FLAVOR:METHOD :ESTABLISH-ADDRESSOR LMFS:LMFS-OPENING-MIXIN)  (FLAVOR:METHOD :NEW-OUTPUT-BUFFER LMFS:LMFS-OPENING-MIXIN)

	    The condition signalled was DBG:WRONG-TYPE-ARGUMENT-TRAP

	    1LMFS:DOWNREFERENCE-FILE-BUFFER0:  (P.C. = 10)
	       Arg 0 (LMFS:BUF): NIL

	    1(FLAVOR:METHOD :ESTABLISH-ADDRESSOR LMFS:LMFS-OPENING-MIXIN)0:  (P.C. = 414)
	       Arg 0 (SELF): #<LMFS-BINARY-OUTPUT-OPENING "Z:>File-Server>Updater>log.text" 524012221>
	       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor LMFS:LMFS-OPENING-MIXIN 234077764>
	       Arg 2 (FLAVOR::.GENERIC.): :ESTABLISH-ADDRESSOR
	       Arg 3 (LMFS:FOR-OUTPUT): T

	[ Wiped out backtrace ]

17-Jun-87 13:37:02-EDT,1619;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 13:36-EDT
Received: from REAGAN.AI.MIT.EDU (REAGAN.AI.MIT.EDU) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 57736; 17 Jun 87 13:33:43 EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 45047; Wed 17-Jun-87 13:32:40 EDT
Date: Wed, 17 Jun 87 13:32 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: random LMFS lossage
To: clj@SAPSUCKER.SCRC.Symbolics.COM
cc: 7thSon@STONY-BROOK.SCRC.Symbolics.COM, barmar@Think.COM,
    RWS@ZERMATT.LCS.MIT.EDU, bug-lmfs@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870617131827.7.CLJ@OOGLE-BOID.SCRC.Symbolics.COM>
Message-ID: <870617133235.2.CJL@OTIS.AI.MIT.EDU>

    Date: Wed, 17 Jun 87 13:18 EDT
    From: Chris Jones <clj@SAPSUCKER.SCRC.Symbolics.COM>

    Yes, another process could be setting it, but it better not be.  LMFS openings are
    per-process, not shared.  The locking is done because downreference-addressor calls
    downreference-file-buffer, and file-buffers are shared among processes.

Why do you say that LMFS openings are per-process? I never knew this. There's
no enforcement. I thought that a LMFS opening is what you get back from
calling OPEN, and it could be quite possible for two processes to be
manipulating the same stream. Granted, it's highly risky due to the
implementation of streams for two processes to be manipulating the same
stream, but not it's unheard-of. And it shouldn't cause your machine to crash.

17-Jun-87 14:54:11-EDT,3774;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 14:53-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 45060; 17 Jun 87 14:51:13 EDT
Received: from COCKATIEL.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 175531; Wed 17-Jun-87 14:49:48 EDT
Date: Wed, 17 Jun 87 14:49 EDT
From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: distribution loader blows up restoring a file of length zero
To: CJL@REAGAN.AI.MIT.EDU
cc: Bug-LispM@OZ.AI.MIT.EDU, Customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    7thSon@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870508000336.5.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870617144935.8.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI
Moon: 6 days, 10 hours, 19 minutes since the full moon.

    Date: Fri, 8 May 87 00:03 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.0,
    7-1-Patches 1.10, MAC 10.0, Fortran 6.27, Pascal 25.10, Prolog 17.12,
    Experimental X-Window-System 17.4, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30124, on Lisp Machine Otis Redding:

    When the distribution loader encounters a file of length zero on the
    distribution tape, it gets this error. Files of length zero are allowed to
    exist on filesystems, and the distribution dumper dumps the file, so the
    loader should be able to load the file.

Sorry I took so long to get back to you on this, but it somehow kept
looking less interesting than other problems in the backlog.  I'll let
you know if we have a fix or other interesting comments.

    1Error: No EOV after double EOF
0    2While in the function DIS:PEEK-STREAM-FOR-EOV  (FLAVOR:METHOD DIS:TAPE-ACCESS-PATH-OPEN-FILE DIS:EMBEDDED-LENGTH-DISTRIBUTION-TAPE-ACCESS-PATH)  DIS:SKIP-FILE-FROM-TAPE

0    2The condition signalled was ZL:FERROR

0    1DIS:PEEK-STREAM-FOR-EOV2:  (P.C. = 61)
0       2Arg 0 (STREAM): #<EMBEDDED-LENGTH-8-BIT-INPUT-STREAM 274146211>
0       2Local 1: "No EOV after double EOF"
0       2Local 2: #<DTP-LOCATIVE 600515>
0       2Local 3: #<DTP-LOCATIVE 600515>

0    1(FLAVOR:METHOD DIS:TAPE-ACCESS-PATH-OPEN-FILE DIS:EMBEDDED-LENGTH-DISTRIBUTION-TAPE-ACCESS-PATH)2:  (P.C. = 41)
0       2Arg 0 (SELF): #<EMBEDDED-LENGTH-DISTRIBUTION-TAPE-ACCESS-PATH 274054124>
0       2Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DIS:EMBEDDED-LENGTH-DISTRIBUTION-TAPE-ACCESS-PATH 25131460>
0       2Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DIS:TAPE-ACCESS-PATH-OPEN-FILE 7001227>
0       2Rest arg: (:FILE-IDENTIFIER NIL)
0       2Special DBG:*BOUND-HANDLERS*: (#<CASE-HANDLER 120034566>)

0    1DIS:SKIP-FILE-FROM-TAPE2:  (P.C. = 7)
0       2Arg 0 (DIS:TAPE-ACCESS-PATH): #<EMBEDDED-LENGTH-DISTRIBUTION-TAPE-ACCESS-PATH 274054124>

0    1DIS:RESTORE-FILE-FROM-TAPE2:  (P.C. = 10)  (from SYS:PATCH;UTILITIES-10-18)
0       2Arg 0 (DIS:TAPE-ACCESS-PATH): #<EMBEDDED-LENGTH-DISTRIBUTION-TAPE-ACCESS-PATH 274054124>
0       2Arg 1 (PATHNAME): :NOWHERE

0    1DIS:RESTORE-DISTRIBUTION-FROM-TAPE2:  (P.C. = 275)  (from SYS:PATCH;UTILITIES-10-38)
0       2Rest arg: (:USE-DISK NIL :SKIP-IF-ALREADY-EXISTS T :MENU NIL)

0    1DIS:COM-RESTORE-DISTRIBUTION2:  (P.C. = 114)  (from SYS:PATCH;UTILITIES-10-30)
0       2Rest arg: NIL




17-Jun-87 15:44:06-EDT,3083;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 15:43-EDT
Received: from DIAMOND.S4CC.Symbolics.COM (DIAMOND.S4CC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 57805; 17 Jun 87 15:40:33 EDT
Received: from TANAGER.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 97132; Wed 17-Jun-87 15:08:17 EDT
Date: Wed, 17 Jun 87 15:08 EDT
From: Kenneth H. Sinclair <khs@DIAMOND.S4CC.Symbolics.COM>
Subject: yet another VMA problem
To: rws@ZERMATT.LCS.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870617092253.2.FILE-SERVER@ZERMATT.LCS.MIT.EDU>
Message-ID: <870617150832.6.KHS@TANAGER.S4CC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 17 Jun 87 09:22 EDT
    From: rws@ZERMATT.LCS.MIT.EDU

    In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.17, MAC 11.2, Experimental X-Window-System 17.4,
    microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
    fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
    fep0:>g206-info.flod(14), Machine serial number 30100,
    Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
    Network-Security patch (from Z:>File-Server>network-security.lisp.4),
    Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
    Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

    This time, the server was freshly booted (only up about an hour),
    and no dumps had been performed.  Should I suspect hardware or
    software?

At this point I'm pretty sure its hardware.  Since all the previous
problems seemed to be related to LMFS buffer allocation, it was a little
harder to believe then.  I suspected that part of the LMFS code was
damaged in your world, but last night I checksummed Zermatt's world
against one of ours and it seems OK.

The NBS processor board is the most likely to be at fault.

    1Error: Page fault on unallocated VMA 27127411, %other-pc #<DTP-EVEN-PC 145345156>, 
0	   1%other-frame-pointer #<DTP-LOCATIVE 331700436>, %other-stack-pointer #<DTP-LOCATIVE 331700447>
0    While in the function NETI:FIND-OBJECT-FROM-PROPERTY-LIST-COMPARE  (:INTERNAL NETI:FIND-OBJECTS-FROM-PROPERTY-LIST-IN-NAMESPACE 1)  (FLAVOR:METHOD :MAP-OVER-OBJECTS-OF-CLASS NETI:NAMESPACE)

    The condition signalled was ZL:FERROR

    1NETI:FIND-OBJECT-FROM-PROPERTY-LIST-COMPARE0:  (P.C. = 22)
       Arg 0 (NET:OBJECT): #<UNIX-HOST HT 1141103>
       Arg 1 (NETI:CLASS): :HOST
       Arg 2 (NETI:PROPERTY-LIST): (:ADDRESS ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53")))
       Local 3 (NETI:OBJECT-PROPERTY-LIST): #<DTP-LOCATIVE 1141104>
       Local 4 (NETI:IND): :ADDRESS
       Local 5 (NETI:VAL): ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53"))
       Local 6: (:ADDRESS ((#<INTERNET-NETWORK INTERNET 1101312> "128.52.22.53")))
       Local 7 (NETI:OVAL): NIL

17-Jun-87 15:44:23-EDT,3178;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 15:44-EDT
Received: from DIAMOND.S4CC.Symbolics.COM (DIAMOND.S4CC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 57806; 17 Jun 87 15:40:35 EDT
Received: from TANAGER.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 97141; Wed 17-Jun-87 15:26:55 EDT
Date: Wed, 17 Jun 87 15:27 EDT
From: Kenneth H. Sinclair <khs@DIAMOND.S4CC.Symbolics.COM>
Subject: random LMFS lossage
To: 7thSon@STONY-BROOK.SCRC.Symbolics.COM, RWS@ZERMATT.LCS.MIT.EDU
cc: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870617101930.3.7THSON@COCKATIEL.SCRC.Symbolics.COM>
Message-ID: <870617152709.7.KHS@TANAGER.S4CC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 17 Jun 87 10:19 EDT
    From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>

	Date: Tue, 16 Jun 87 17:32 EDT
	From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

	    Date: Tue, 16 Jun 87 15:15 EDT
	    From: Christopher Garrigues <7thSon@STONY-BROOK.SCRC.Symbolics.COM>

		Date: Thu, 4 Jun 87 09:35 EDT
		From: RWS@ZERMATT.LCS.MIT.EDU

		In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
		7-1-Patches 1.13, MAC 11.1, Experimental X-Window-System 17.4,
		microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
		fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
		fep0:>g206-info.flod(14), Machine serial number 30100,
		Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
		Network-Security patch (from Z:>File-Server>network-security.lisp.4),
		Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
		Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

		A daemon just trying to tell me something...

	    This is very strange because every call to
	    1lmfs:downreference-file-buffer0 in 1(flavor:method :establish-addressor
0	    1lmfs:lmfs-opening-mixin)0 is of this form:

		 [7.1 sources]
		 (if cur-addressor
		     (with-fs-locked (downreference-addressor
				       (prog1 cur-addressor (setq cur-addressor nil)))))

	    Now, can you tell me how 1lmfs:downreference-file-buffer0 could get called
	    with a nil argument?

	LMFS sources are apparently a bit difficult for us mere customers to come by,
	so I'm at a bit of a disadvantage, but the code above certainly looks suspect,
	given that cur-addressor is checked *outside* the critical section.  Seems
	perfectly plausible to see that it is non-nil, then go blocked on the locked
	and have somebody else set it to nil in the interim.  Am I missing something,
	or are you?

	    [ Wiped out backtrace ]

I don't know much about LMFS, but while this code does seem at first
glance to have multiprocessing problems (for more state than just
cur-addressor), the problem would only arise if you had two processes
hacking the same LMFS stream.  I don't think that's common usage and I
don't think that's what happened here; this should be chalked up to
hardware error.

17-Jun-87 16:32:21-EDT,2120;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jun 87 16:32-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 57821; 17 Jun 87 16:28:58 EDT
Received: from OOGLE-BOID.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 138744; Wed 17-Jun-87 16:20:18 EDT
Date: Wed, 17 Jun 87 16:19 EDT
From: Chris Jones <clj@SAPSUCKER.SCRC.Symbolics.COM>
Subject: random LMFS lossage
To: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
cc: barmar@Think.COM, RWS@ZERMATT.LCS.MIT.EDU, bug-lmfs@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870617133235.2.CJL@OTIS.AI.MIT.EDU>,
             The message of 17 Jun 87 13:52 EDT from Bernard S. Greenberg <bsg@PEGASUS.SCRC.Symbolics.COM>
Message-ID: <870617161927.0.CLJ@OOGLE-BOID.SCRC.Symbolics.COM>

    Date: Wed, 17 Jun 87 13:32 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

	Date: Wed, 17 Jun 87 13:18 EDT
	From: Chris Jones <clj@SAPSUCKER.SCRC.Symbolics.COM>

	Yes, another process could be setting it, but it better not be.  LMFS openings are
	per-process, not shared.  The locking is done because downreference-addressor calls
	downreference-file-buffer, and file-buffers are shared among processes.

    Why do you say that LMFS openings are per-process? I never knew this. There's
    no enforcement. I thought that a LMFS opening is what you get back from
    calling OPEN, and it could be quite possible for two processes to be
    manipulating the same stream. Granted, it's highly risky due to the
    implementation of streams for two processes to be manipulating the same
    stream, but not it's unheard-of. And it shouldn't cause your machine to crash.

As Bernie said to me in separate mail,
    Date: Wed, 17 Jun 87 13:52:45 edt
    From: Bernard S. Greenberg <bsg@scrc-pegasus>

    Nothing in the stream system will wrk multiple-process, LMFS or not
    (I suspect).  If he wants to do that, he should lock against himself.

18-Jun-87 14:16:17-EDT,3225;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 18 Jun 87 14:16-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 45179; 18 Jun 87 14:13:30 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 176640; 18 Jun 87 14:12:59 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 55661; Thu 18-Jun-87 11:11:36 PDT
Date: Thu, 18 Jun 87 11:11 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: distribution dumper lossage
To: CJL%REAGAN.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-Lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870528204214.6.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870618111134.7.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Thu, 28 May 87 20:42 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.12, MAC 11.1, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    SliTeX 1.0, YTeX 1.0, Macsyma 412.45, LaTeX 1.0, microcode 3650-MIC 396,
    FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30124,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:
    Processes forcibly aborted:
      Dynamic Lisp Listener 1 aborted 5 times with the following warning:
	The function DIS:WRITE-DISTRIBUTION-PLAN-FILES-TO-TAPE is executing a cleanup form.
	Aborting before the cleanup is complete could leave the program in
	an inconsistent state and cause it to operate incorrectly later.

    The distribution dumper really loses when the tape host wedges for some
    reason, which happens a lot. If you type c-abort, it then proceeds to say

    Tape mounted on drive CART.[Abort all]
     Reel #1 written, rewinding.

    and still sits there, still wedged. so I type

    [Abort all]

    And I get that truly helpful all purpose "You lose" message:

    Process Dynamic Lisp Listener 1 cannot safely be aborted at this time.
      The function DIS:WRITE-DISTRIBUTION-PLAN-FILES-TO-TAPE is executing a cleanup form.
      Aborting before the cleanup is complete could leave the program in
      an inconsistent state and cause it to operate incorrectly later.
    Do you want to Skip, Abort, or Debug? (press  for help) Abort


    tape-access-path-close should have an optional abort flag.

    write-distribution-plan-files-to-tape should have an unwind-protect-case
    instead of an unwind-protect that closes the tape-access-path with abort if
    I'm aborting.

    Actually, even better is to have an error-restart in
    write-distribution-plan-files-to-tape so that there's a proceed option in
    errors to write the tape over again.

This has been added to the next release; the dumper aborts more gracefully.

-trev


18-Jun-87 15:53:00-EDT,2284;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 18 Jun 87 15:52-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 45198; 18 Jun 87 15:50:18 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 176780; 18 Jun 87 15:49:30 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 55710; Thu 18-Jun-87 12:48:25 PDT
Date: Thu, 18 Jun 87 12:48 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: Not a very robust way for the mailer to behave
To: CJL%REAGAN.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870530194929.7.FILE-SERVER@REAGAN.AI.MIT.EDU>
Message-ID: <870618124822.9.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Sat, 30 May 87 19:49 EDT
    From: CJL@REAGAN.AI.MIT.EDU

    In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.14, MAC 11.1, Experimental X-Window-System 17.4,
    microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
    FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
    FEP0:>g206-info.flod(14), Machine serial number 30093,
    Rodent Free Namespace Editor (from B:>facilities>r7>ned.lisp.15),
    Network-Security patch (from B:>File-Server>network-security.lisp.4),
    Server-Finger patch (from B:>file-server>server-finger.lisp.183),
    Update-Internet-Namespace patch (from B:>file-server>update-internet-namespace.lisp.115),
    Dynamic Update Daemon (from B:>File-Server>update-daemon.lisp.31), on Lisp Machine Ronald Reagan:

    1Error: The symbol NIL has an invalid function definition
0    While in the function   MAILER:MAKE-FOREIGN-RECIPIENT  (:INTERNAL MAILER:FIND-FOREIGN-RECIPIENT 0 MAILER:ADD-FOREIGN-RECIPIENT)

    The condition signalled was SYS:INVALID-FUNCTION

[...]

This looks like a problem with the forwarding table readers.
It's on the "fix list" for the next release.

-trev


19-Jun-87 15:38:46-EDT,3109;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 19 Jun 87 15:38-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 58618; 19 Jun 87 15:35:44 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 19 Jun 87 14:00-EDT
Date: Fri, 19 Jun 87 14:00 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: VMA problem still persists with new processor board?
To: khs@DIAMOND.S4CC.Symbolics.COM,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870617150832.6.KHS@TANAGER.S4CC.Symbolics.COM>
Message-ID: <870619140048.0.RWS@KILLINGTON.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 17 Jun 87 15:08 EDT
    From: Kenneth H. Sinclair <khs@DIAMOND.S4CC.Symbolics.COM>

	Date: Wed, 17 Jun 87 09:22 EDT
	From: rws@ZERMATT.LCS.MIT.EDU

	In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.2,
	7-1-Patches 1.17, MAC 11.2, Experimental X-Window-System 17.4,
	microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
	fep0:>g206-loaders.flod(14), fep0:>g206-debug.flod(4),
	fep0:>g206-info.flod(14), Machine serial number 30100,
	Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
	Network-Security patch (from Z:>File-Server>network-security.lisp.4),
	Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
	Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.31), on Zermatt:

	This time, the server was freshly booted (only up about an hour),
	and no dumps had been performed.  Should I suspect hardware or
	software?

    At this point I'm pretty sure its hardware.  Since all the previous
    problems seemed to be related to LMFS buffer allocation, it was a little
    harder to believe then.  I suspected that part of the LMFS code was
    damaged in your world, but last night I checksummed Zermatt's world
    against one of ours and it seems OK.

    The NBS processor board is the most likely to be at fault.

	1Error: Page fault on unallocated VMA 27127411, %other-pc #<DTP-EVEN-PC 145345156>, 
0	       1%other-frame-pointer #<DTP-LOCATIVE 331700436>, %other-stack-pointer #<DTP-LOCATIVE 331700447>


0[13:10:01 From ZERMATT: Dialnet setup: Error in process Mail Foreground of type FERROR
                         Page fault on unallocated VMA 25601722, %other-pc #<DTP-ODD-PC 144520736>, 
                         %other-frame-pointer #<DTP-LOCATIVE 232700227>, %other-stack-pointer #<DTP-LOCATIVE 232700232>]

Just after booting the machine, the mailer's mailbox setup failed on
some domain name.  Someone edited the mailbox file and rebooted the
mailer.  The setup again failed on the same domain name later in the
file.  The file was again edited, and the mailer was in the process of
booting again, when this happened.  It crashed into the FEP on this same
VMA while someone attempted to look at the problem.

I don't know if this is at all related to the previous VMA faults.
19-Jun-87 15:48:09-EDT,2295;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 19 Jun 87 15:48-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 45607; 19 Jun 87 15:45:03 EDT
Received: from OOGLE-BOID.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 139524; Fri 19-Jun-87 15:24:26 EDT
Date: Fri, 19 Jun 87 15:23 EDT
From: Chris Jones <clj@SAPSUCKER.SCRC.Symbolics.COM>
Subject: When is a stream not a stream? When it's a file-probe-stream.
To: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>, Bug-LispM@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870615103902.7.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870619152333.2.CLJ@OOGLE-BOID.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Mon, 15 Jun 87 10:39 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.0,
    7-1-Patches 1.17, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental XGrok 3.0,
    microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
    FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
    FEP0:>g206-info.flod(14), Machine serial number 30124,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Otis Redding:

    File-probe-streams should be counted as stream for the truename operation,
    since sending them :truename works (well, sort of).

    1Error: The first argument (X) to TRUENAME, #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>, was of the wrong type.
0	   1The function expected PATHNAME, a string, or a symbol or a stream.
0    While in the function TRUENAME

    The condition signalled was DBG:WRONG-TYPE-DATUM

    1TRUENAME0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-182)
0       Arg 0 (CLI::X): #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>
       Local 1: #<FILE-PROBE-STREAM "OZ:PS:<GLR>LOGIN.CMD" 73227501>

Fixed in release 7.2.

20-Jun-87 13:28:40-EDT,5424;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 20 Jun 87 13:28-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 58734; 20 Jun 87 13:25:49 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 20 Jun 87 13:25-EDT
Date: Sat, 20 Jun 87 13:26 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: MSDOS root :directory-pathname-as-file
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870620132625.0.RWS@KILLINGTON.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

I assume this shouldn't happen.

1Error: "" is an invalid name component for MEDG-GW (a MSDOS host).
0While in the function (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)  (FLAVOR:METHOD :VALIDATE PATHNAME)  (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)

The condition signalled was FS:INVALID-PATHNAME-COMPONENT

1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 41)  2(from SYS:PATCH;SYSTEM-349-212)
0   Arg 0 (SELF): #P"MEDG-GW:c:/foo.lsp"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
   Arg 3 (FS:TEST-ARG): ""
   Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 324240736>
   Arg 5 (FS:VALID-MSG): :RAW-NAME
   Arg 6 (FS:TEST-MSG): :VALID-NAME-P
   Arg 7 (FS:CASE-MSG): :CASE-NAME
   Arg 8 (FS:UNCASE-MSG): :UNCASE-NAME
   Arg 9 (FS:COMPONENT): :NAME
   Arg 10 (FS:PRETTY-NAME): "name component"

1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 45)
   Arg 0 (SELF): #P"MEDG-GW:c:/foo.lsp"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-212)
0   Arg 0 (SELF): #P"MEDG-GW:c:/foo.lsp"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
   Arg 3 (FS:TEST-ARG): ""
   Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 324240737>
   Arg 5 (FS:VALID-MSG): :RAW-TYPE
   Arg 6 (FS:TEST-MSG): :VALID-TYPE-P
   Arg 7 (FS:CASE-MSG): :CASE-TYPE
   Arg 8 (FS:UNCASE-MSG): :UNCASE-TYPE
   Arg 9 (FS:COMPONENT): :TYPE
   Arg 10 (FS:PRETTY-NAME): "type component"

1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 31)
   Arg 0 (SELF): #P"MEDG-GW:c:/foo.lsp"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

1(FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)0:  (P.C. = 62)  2(from SYS:PATCH;SYSTEM-349-24)
0   Arg 0 (SELF): #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE MEDG-GW>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN 250374440>
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (FS:DEV): "c"
   Arg 4 (FS:DIR): :ROOT
   Arg 5 (FS:NAM): ""
   Arg 6 (FS:TYP): ""
   Arg 7 (FS:VRS): :UNSPECIFIC
   Arg 8 (FS:OTHERS): NIL
   Arg 9 (FS:KEY): ("c" :ROOT "" "")

1(FLAVOR:METHOD :GET-PATHNAME NET:NO-VERSION-HOST-MIXIN)0:  (P.C. = 25)
   Arg 0 (SELF): #<MSDOS-HOST MEDG-GW 1131662>
   Arg 1 (SYS:SELF-MAPPING-TABLE): NET:NO-VERSION-HOST-MIXIN
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (NETI:DEV): "c"
   Arg 4 (NETI:DIR): :ROOT
   Arg 5 (NETI:NAM): ""
   Arg 6 (NETI:TYP): ""
   Arg 7 (NETI:VRS): :UNSPECIFIC
   Arg 8 (NETI:OTHERS): NIL

1FS:MAKE-PATHNAME-10:  (P.C. = 604)  2(from SYS:PATCH;SYSTEM-349-109)
0   Arg 0 (FS:ACTOR): #P"MEDG-GW:c:/*.*"
   Rest arg (FS:OPTIONS): (:DEFAULT-HOST #<MSDOS-HOST MEDG-GW 1131662> :DEFAULT-DEVICE "c" :DEFAULT-DIRECTORY :ROOT :DEFAULT-NAME :WILD :DEFAULT-TYPE :WILD ...)

1(FLAVOR:METHOD :NEW-PATHNAME PATHNAME)0:  (P.C. = 22)
   Arg 0 (SELF): #P"MEDG-GW:c:/*.*"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
   Rest arg (FS:OPTIONS): (:RAW-DIRECTORY :ROOT :RAW-NAME "" :RAW-TYPE "" :VERSION :UNSPECIFIC)

1(FLAVOR:COMBINED :NEW-PATHNAME PATHNAME)0:  (P.C. = 67)
   Arg 0 (SELF): #P"MEDG-GW:c:/*.*"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (:RAW-DIRECTORY :ROOT :RAW-NAME "" :RAW-TYPE "" :VERSION :UNSPECIFIC)

1(FLAVOR:METHOD :DIRECTORY-PATHNAME-AS-FILE FS:UNIX-FAMILY-PATHNAME-MIXIN)0:  (P.C. = 110)
   Arg 0 (SELF): #P"MEDG-GW:c:/*.*"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:UNIX-FAMILY-PATHNAME-MIXIN 220160527>
   Arg 2 (FLAVOR::.GENERIC.): :DIRECTORY-PATHNAME-AS-FILE

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (SEND #P"MEDG-GW:c:/*.*" :DIRECTORY-PATHNAME-AS-FILE)
21-Jun-87 13:52:05-EDT,8271;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 21 Jun 87 13:52-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 58823; 21 Jun 87 13:49:11 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 21 Jun 87 13:49-EDT
Date: Sun, 21 Jun 87 13:48 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: tcp:tcp-listen and listening in general
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870621134826.1.RWS@KILLINGTON.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

Doing

    (tcp:tcp-listen nil nil 1500 :wait-for-syn nil)
    (tcp:open-tcp-stream net:*local-host* 1500 nil)

results in the following, followed immediately by the same blowout in
TCP Background (ending up in the cold load stream).  The problem is that
no local-address has been filled into the tcb.  Is it supposed to be
possible to listen on a port with an "any" destination, or do I really
have to use the net:define-server stuff?  I would rather not, since I
need an arbitrary number of ports, chosen dynamically.


1Trap: The second argument given to the SYS:INTERNAL-= instruction, NIL, was not a single-precision floating-point number, a fixnum, or an extended number.
0While in the function TCP::FIND-TCB-FOR-SEG  (FLAVOR:METHOD :RECEIVE-TCP-SEGMENT TCP::TCP-PROTOCOL)  (FLAVOR:METHOD :RECEIVE-IP-PACKET TCP::TCP-PROTOCOL)

The condition signalled was DBG:WRONG-TYPE-ARGUMENT-TRAP

1TCP::FIND-TCB-FOR-SEG0:  (P.C. = 62)
   Arg 0 (TCP::SEG): #<TCP Segment 107110671>
   Local 1 (TCP::SOURCE-ADDRESS): 303956038
   Local 2 (TCP::SOURCE-PORT): 1067
   Local 3 (TCP::DEST-ADDRESS): 303956038
   Local 4 (TCP::DEST-PORT): 1500
   Local 5 (TCP::TCB): #<TCP connection to NIL NIL, local port 1500 16406121>
   Local 6: (#<TCP connection to ZERMATT 59 (:NFILE), local port 1056 16405773>)

1(FLAVOR:METHOD :RECEIVE-TCP-SEGMENT TCP::TCP-PROTOCOL)0:  (P.C. = 3)
   Arg 0 (SELF): #<TCP-PROTOCOL 161200256>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::TCP-PROTOCOL 2074017>
   Arg 2 (FLAVOR::.GENERIC.): :RECEIVE-TCP-SEGMENT
   Arg 3 (TCP::SEG): #<TCP Segment 107110671>

1(FLAVOR:METHOD :RECEIVE-IP-PACKET TCP::TCP-PROTOCOL)0:  (P.C. = 150)
   Arg 0 (SELF): #<TCP-PROTOCOL 161200256>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::TCP-PROTOCOL 2074017>
   Arg 2 (FLAVOR::.GENERIC.): :RECEIVE-IP-PACKET
   Arg 3 (TCP::SEG): #<TCP Segment 107110671>
   Arg 4 (TCP::TOTAL-LENGTH): 28
   Arg 5 (TCP::SOURCE): 303956038
   Arg 6 (TCP::DESTINATION): 303956038

1(FLAVOR:COMBINED :RECEIVE-IP-PACKET TCP::TCP-PROTOCOL)0:  (P.C. = 17)
   Arg 0 (SELF): #<TCP-PROTOCOL 161200256>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::TCP-PROTOCOL 2074017>
   Arg 2 (FLAVOR::.GENERIC.): :RECEIVE-IP-PACKET
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<TCP Segment 107110671> 28 303956038 303956038)

1(DEFUN-IN-FLAVOR TCP::IP-RECEIVE-RAW TCP::IP-PROTOCOL)0:  (P.C. = 43)
   Arg 0 (SELF): #<IP-PROTOCOL 161177350>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::IP-PROTOCOL 2410077>
   Arg 2 (TCP::IP): #S(TCP::IP-HEADER :VERSION 4 :IHL 5 :TYPE-OF-SERVICE 0 :LENGTH-HIGH 0 :LENGTH-LOW ...)
   Local 2 (TCP::IP): #<ART-8B-1942 107110400>
   Arg 3 (TCP::HEADER-LENGTH): 20
   Arg 4 (TCP::TOTAL-LENGTH): 48
   Arg 5 (TCP::SOURCE): 303956038
   Arg 6 (TCP::DESTINATION): 303956038
   Arg 7 (TCP::FREE-FLAG): NIL
   Local 7 (TCP::FREE-FLAG): T

1(DEFUN-IN-FLAVOR TCP::IP-RECEIVE TCP::IP-PROTOCOL)0:  (P.C. = 35)
   Arg 0 (SELF): #<IP-PROTOCOL 161177350>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::IP-PROTOCOL 2410077>
   Arg 2 (TCP::IP): #S(TCP::IP-HEADER :VERSION 4 :IHL 5 :TYPE-OF-SERVICE 0 :LENGTH-HIGH 0 :LENGTH-LOW ...)
   Arg 3 (TCP::HEADER-LENGTH): 20
   Arg 4 (TCP::TOTAL-LENGTH): 48
   Arg 5 (TCP::SOURCE): 303956038
   Arg 6 (TCP::DESTINATION): 303956038
   Arg 7 (TCP::FREE-FLAG): NIL

1(DEFUN-IN-FLAVOR TCP::IP-RETRANSMIT-PACKET TCP::IP-PROTOCOL)0:  (P.C. = 127)
   Arg 0 (SELF): #<IP-PROTOCOL 161177350>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::IP-PROTOCOL 2410077>
   Arg 2 (TCP::IP): #S(TCP::IP-HEADER :VERSION 4 :IHL 5 :TYPE-OF-SERVICE 0 :LENGTH-HIGH 0 :LENGTH-LOW ...)
   Arg 3 (TCP::HEADER-LENGTH): 20
   Arg 4 (TCP::TOTAL-LENGTH): 48
   Arg 5 (TCP::SOURCE): 303956038
   Arg 6 (TCP::DESTINATION): 303956038
   Arg 7 (TCP::ROUTE): #<IP-ROUTE KILLINGTON (18.30.0.70) via LOCAL>
   Arg 8 (TCP::SOURCE-INTERFACE): NIL
   Arg 9 (TCP::FREE-FLAG): NIL

1(FLAVOR:METHOD :TRANSMIT-PACKET TCP::IP-PROTOCOL)0:  (P.C. = 231)
   Arg 0 (SELF): #<IP-PROTOCOL 161177350>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::IP-PROTOCOL 2410077>
   Arg 2 (FLAVOR::.GENERIC.): :TRANSMIT-PACKET
   Arg 3 (TCP::PKT): #<TCP Segment 6233234>
   Arg 4 (LENGTH): 28
   Arg 5 (TCP::PROTOCOL): 6
   Arg 6 (TCP::ROUTE): #<IP-ROUTE KILLINGTON (18.30.0.70) via LOCAL>
   Arg 7 (TCP::SOURCE): 303956038
   Arg 8 (TCP::DESTINATION): 303956038
   Arg 9 (TCP::FREE-FLAG): NIL

1(FLAVOR:METHOD :TRANSMIT-IP-PACKET TCP::IP-PROTOCOL-MIXIN)0:  (P.C. = 17)
   Arg 0 (SELF): #<TCP-PROTOCOL 161200256>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::IP-PROTOCOL-MIXIN 2074025>
   Arg 2 (FLAVOR::.GENERIC.): :TRANSMIT-IP-PACKET
   Arg 3 (TCP::PKT): #<TCP Segment 6233234>
   Arg 4 (LENGTH): 28
   Arg 5 (TCP::ROUTE): #<IP-ROUTE KILLINGTON (18.30.0.70) via LOCAL>
   Arg 6 (TCP::SOURCE): 303956038
   Arg 7 (TCP::DESTINATION): 303956038
   Arg 8 (TCP::FREE-FLAG): NIL

1(FLAVOR:METHOD :TRANSMIT-TCP-SEGMENT TCP::TCP-PROTOCOL)0:  (P.C. = 105)
   Arg 0 (SELF): #<TCP-PROTOCOL 161200256>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::TCP-PROTOCOL 2074017>
   Arg 2 (FLAVOR::.GENERIC.): :TRANSMIT-TCP-SEGMENT
   Arg 3 (TCP::SEG): #<TCP Segment 6233234>
   Arg 4 (TCP::TOTAL-LENGTH): 28
   Arg 5 (TCP::ROUTE): #<IP-ROUTE KILLINGTON (18.30.0.70) via LOCAL>

1TCP::TRANSMIT-SEG-FOR-TCB0:  (P.C. = 306)
   Arg 0 (TCP::TCB): #<TCP connection to KILLINGTON 1500, local port 1067 16406174>
   Arg 1 (TCP::SEG): #<TCP Segment 6233234>

1TCP::SEND-DATA-SEG-FOR-TCB0:  (P.C. = 170)
   Arg 0 (TCP::TCB): #<TCP connection to KILLINGTON 1500, local port 1067 16406174>
   Arg 1 (TCP::SEG): #<TCP Segment 6233234>
2   --Defaulted args:--
0   Arg 2 (TCP::PUSH-P): NIL
   Arg 3 (TCP::URGENT-P): NIL

1TCP::SEND-SYN-FOR-TCB0:  (P.C. = 112)
   Arg 0 (TCP::TCB): #<TCP connection to KILLINGTON 1500, local port 1067 16406174>
   Arg 1 (TCP::SEG): #<TCP Segment 6233234>
   Arg 2 (TCP::NEW-STATE): :SYN-SENT
   Arg 3 (TCP::NEW-SUBSTATE): :ACTIVE

1TCP::OPEN-TCB0:  (P.C. = 163)
   Arg 0 (TCP::ACTIVE-P): T
   Arg 1 (TCP::HOST): #<LISPM-HOST KILLINGTON 1104132>
   Arg 2 (TCP::PORT): 1500
   Arg 3 (TCP::LOCAL-PORT): NIL
   Local 3 (TCP::LOCAL-PORT): 1067
   Rest arg: (:TIMEOUT 1200)

1TCP:OPEN-TCP-STREAM0:  (P.C. = 233)
   Arg 0 (TCP::HOST): #<LISPM-HOST KILLINGTON 1104132>
   Arg 1 (TCP::PORT): 1500
   Arg 2 (TCP::LOCAL-PORT): NIL
   Rest arg: NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (SETQ STREAM (TCP:OPEN-TCP-STREAM NET:*LOCAL-HOST* 1500 NIL))

   Special TCP::*TCB-LIST*: (#<TCP connection to KILLINGTON 1500, local port 1067 16406174>
                             #<TCP connection to NIL NIL, local port 1500 16406121>
                             #<TCP connection to ZERMATT 59 (:NFILE), local port 1056 16405773>
                             )
23-Jun-87 09:40:16-EDT,1267;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 23 Jun 87 09:40-EDT
Received: from DARTH-VADER.AI.MIT.EDU (DARTH-VADER.AI.MIT.EDU) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 45917; 23 Jun 87 09:37:28 EDT
Date: Tue, 23 Jun 87 09:37 EDT
From: Karl T. Ulrich <ulrich@HEPHAESTUS.AI.MIT.EDU>
Subject: defstruct compiler bug
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870623093724.1.ULRICH@DARTH-VADER.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(3), FEP0:>g206-info.flod(12),
Machine serial number 30083,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Darth Vader:

When I compile a zmacs buffer, the defstructs don't seem to get compiled.  So, when a defvar or defun uses a make-... 
procedure,  the compiler gives an error: "make-... undefined".  When I compile the defstruct using control-shift c, then compile
the buffer, things work fine.

-Karl


23-Jun-87 11:28:20-EDT,817;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 23 Jun 87 11:27-EDT
Received: from ALDERAAN.SCRC.Symbolics.COM (ALDERAAN.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 45944; 23 Jun 87 11:24:59 EDT
Received: from WINTER.SCRC.Symbolics.COM by ALDERAAN.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 94733; Tue 23-Jun-87 10:58:23 EDT
Date: Tue, 23 Jun 87 10:57 EDT
From: Hornig@ALDERAAN.SCRC.Symbolics.COM
To: BUG-LISPM@OZ.AI.MIT.EDU
Subject: defstruct compiler bug
References: <870623093724.1.ULRICH@DARTH-VADER.AI.MIT.EDU>
Message-ID: <870623105756.9.HORNIG@WINTER.SCRC.Symbolics.COM>

[The referenced message has been redirected:
  I thought mail from MIT was not going to Bug-LispM any more.
    bug-lispm has been removed;
    customer-reports has been added.]

23-Jun-87 18:00:26-EDT,7822;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 23 Jun 87 18:00-EDT
Received: from CROSBY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 46016; Tue 23-Jun-87 17:58:04 EDT
Date: Tue, 23 Jun 87 17:58 EDT
From: Peng Wu <pwu@HT.AI.MIT.EDU>
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870623175801.1.PWU@CROSBY.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Color Demo 314.1, Color 329.6,
Color Support 9.4, Images 308.4, Color Editor 311.3,
Experimental X-Window-System 17.4, S-Paint 13.5, Tablet 2.3, Bsfonts 1.0,
S-Render 20.5, S-Geometry 9.5, Live Window 315.3, S-Dynamics 9.9,
microcode 3640-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
FEP0:>v127-info.flod(55), Machine serial number 5230,
Bug Report Recipient (from GRAPHICS:GLIB;REL-7;BUG-REPORT-RECIPIENT.LISP.1), on Lisp Machine Bing Crosby:

In my lispm init file, I try to load the system TG guided DFT system, which is
currently at version count 38.  This system uses another system as component,
which is currently at version 2.  The lispm wants the component to be version
38 too, and this is the problem.  Sometimes when I retry load the init file,
the problem goes away.

1Error: Version number 38 of Rule-based Antecedent Reasoning System was not found
0While in the function SCT:GET-SYSTEM-VERSION-FILES  SCT:LOAD-SYSTEM-DECLARATION-IF-NECESSARY  SCT:RELOAD-SYSTEM-DECLARATION-IF-NECESSARY

The condition signalled was ZL:FERROR

1(:INTERNAL SCT:MAKE-PLAN-FOR-COMPONENT-SYSTEMS 0)0:  (P.C. = 36)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (:LOAD "Load" NIL NIL (:RELOAD NIL :ORIGINAL-SYSTEM-OP :LOAD :RECOMPILE NIL :ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM ...))
   Arg 1 (SCT:SYSTEM): "ARK"
   Arg 2 (IGNORE): NIL
   Arg 3 (IGNORE): #<SYSTEM-MODULE MOTHER 72710122>
   Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)
   Local 5 (SCT:ORIGINAL-SYSTEM-OP): :LOAD
   Local 6: #<UNBUFFERED-INDENTING-STREAM 122610216>
   Local 7: #<UNBUFFERED-INDENTING-STREAM 122610216>
   Local 8: SYS:UNWIND-PROTECT-TAG
   Local 9: #<DTP-ODD-PC 145706125>
   Local 10: #<DTP-LOCATIVE 500224>
   Local 11: #<DTP-LOCATIVE 601327>
   Local 12 (SCT:COMPONENT): #<SYSTEM ARK 72726746>
   Local 13 (SCT:VERSION): 38
   Lexical 0 (SCT:SYSTEM-OP): :LOAD
   Lexical 1 (SCT:NO-RELOAD-SYSTEM-DECLARATION): NIL
   Special SCT:*VERSION*: 38
   Special SCT:*SYSTEM*: #<SYSTEM ARK 72726746>
   Special *STANDARD-OUTPUT*: #<UNBUFFERED-INDENTING-STREAM 122610216>

1SCT:MAP-OVER-INPUTS-AND-OUTPUTS0:  (P.C. = 46)
   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL SCT:MAKE-PLAN-FOR-COMPONENT-SYSTEMS 0) 62007646>
   Arg 1 (SCT:INPUTS): ("ARK")
   Arg 2 (SCT:OUTPUTS): NIL
   Arg 3 (SCT:MODULE): #<SYSTEM-MODULE MOTHER 72710122>
   Arg 4 (SCT:INCREMENTAL): NIL
   Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

1(FLAVOR:METHOD SCT:EXECUTE-PLAN SCT:PLAN)0:  (P.C. = 113)
   Arg 0 (SELF): #<PLAN 72730041>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SCT:PLAN 250163416>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SCT:EXECUTE-PLAN 6723125>
   Arg 3 (FUNCTION): NIL
   Arg 4 (SCT:PLAN-STRING): NIL
   Arg 5 (SCT:INCREMENTAL): NIL
   Arg 6 (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

1SCT:FLATTEN-PLANS-FOR-COMPONENTS0:  (P.C. = 35)
   Arg 0 (SCT:PLANS): (#<PLAN 304060701> #<PLAN 304060712> #<PLAN 304060723> #<PLAN 304060734> #<PLAN 304060745> #<PLAN 304060756> #<PLAN 304060767> #<PLAN 304061000> #<PLAN 304061011> #<PLAN 304061022> ...)
   Arg 1 (SCT:DEFAULT-DRIVER): NIL
   Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)

1SCT:CONSTRUCT-SYSTEM-INTERNAL0:  (P.C. = 224)  2(from SYS:PATCH;SYSTEM-349-187)
0   Arg 0 (SCT:SYSTEM-OP): :LOAD
   Rest arg (SCT:KEYS): (:ORIGINAL-SYSTEM-OP :LOAD :QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL ...)
   Local 1 (SCT:KEYS): (:QUERY :NO-CONFIRM :SILENT NIL :BATCH NIL :NO-WARN NIL :RELOAD NIL ...)

1LOAD-SYSTEM0:  (P.C. = 456)  2(from SYS:PATCH;SYSTEM-349-277)
0   Arg 0 (SCT:SYSTEM-NAME): ARKTESTDFT
   Rest arg (SCT:KEYS): (:QUERY :NO-CONFIRM)

1SI:READFILE-INTERNAL0:  (P.C. = 113)
   Arg 0: #<INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>init.lisp" 304027567>
   Arg 1 (SI:PKG): NIL
   Arg 2 (SI:NO-MSG-P): NIL

1FS:LOAD-STREAM0:  (P.C. = 16)
   Arg 0 (FS:STREAM): #<INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm>init.lisp" 304027567>
   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NO-MSG-P): NIL

1ZL:LOAD0:  (P.C. = 106)
   Arg 0 (PATHNAME): "b:>pwu>lispm>init"
   Local 0 (PATHNAME): #P"B:>pwu>lispm>init"
2   --Defaulted args:--
0   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NONEXISTENT-OK-FLAG): NIL
   Arg 3 (FS:DONT-SET-DEFAULT-P): NIL
   Arg 4 (FS:NO-MSG-P): NIL

1SI:READFILE-INTERNAL0:  (P.C. = 113)
   Arg 0: #<INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm-init.lisp" 304027616>
   Arg 1 (SI:PKG): NIL
   Arg 2 (SI:NO-MSG-P): NIL

1FS:LOAD-STREAM0:  (P.C. = 16)
   Arg 0 (FS:STREAM): #<INDIRECT-ESCAPE-INPUT-STREAM "B:>pwu>lispm-init.lisp" 304027616>
2   --Defaulted args:--
0   Arg 1 (FS:PKG): NIL
   Arg 2 (FS:NO-MSG-P): NIL

1ZL:LOGIN0:  (P.C. = 525)
   Arg 0 (SI:USER-NAME): #<NAME AI|PWU 1113572>
   Local 0 (SI:USER-NAME): "AI|PWU"
   Rest arg: (:HOST NIL :LOAD-INIT-FILE T)

1SI:COM-LOGIN0:  (P.C. = 45)
   Arg 0 (NET:USER): #<USER PWU 1113601>
   Local 0 (NET:USER): #<NAME AI|PWU 1113572>
   Rest arg: NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (SI:COM-LOGIN (QUOTE #<USER PWU 1113601>))

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)
24-Jun-87 10:57:21-EDT,6106;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jun 87 10:57-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 59363; 24 Jun 87 10:46:37 EDT
Received: from OOGLE-BOID.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 140667; Wed 24-Jun-87 10:40:36 EDT
Date: Wed, 24 Jun 87 10:39 EDT
From: Chris Jones <clj@SAPSUCKER.SCRC.Symbolics.COM>
Subject: MSDOS root :directory-pathname-as-file
To: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870620132625.0.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870624103914.6.CLJ@OOGLE-BOID.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Sat, 20 Jun 87 13:26 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

    I assume this shouldn't happen.

Right.  It's fixed in the current development system.

    1Error: "" is an invalid name component for MEDG-GW (a MSDOS host).
0    While in the function (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)  (FLAVOR:METHOD :VALIDATE PATHNAME)  (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)

    The condition signalled was FS:INVALID-PATHNAME-COMPONENT

    1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 41)  2(from SYS:PATCH;SYSTEM-349-212)
0       Arg 0 (SELF): #P"MEDG-GW:c:/foo.lsp"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
       Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
       Arg 3 (FS:TEST-ARG): ""
       Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 324240736>
       Arg 5 (FS:VALID-MSG): :RAW-NAME
       Arg 6 (FS:TEST-MSG): :VALID-NAME-P
       Arg 7 (FS:CASE-MSG): :CASE-NAME
       Arg 8 (FS:UNCASE-MSG): :UNCASE-NAME
       Arg 9 (FS:COMPONENT): :NAME
       Arg 10 (FS:PRETTY-NAME): "name component"

    1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 45)
       Arg 0 (SELF): #P"MEDG-GW:c:/foo.lsp"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
       Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

    1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-212)
0       Arg 0 (SELF): #P"MEDG-GW:c:/foo.lsp"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
       Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
       Arg 3 (FS:TEST-ARG): ""
       Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 324240737>
       Arg 5 (FS:VALID-MSG): :RAW-TYPE
       Arg 6 (FS:TEST-MSG): :VALID-TYPE-P
       Arg 7 (FS:CASE-MSG): :CASE-TYPE
       Arg 8 (FS:UNCASE-MSG): :UNCASE-TYPE
       Arg 9 (FS:COMPONENT): :TYPE
       Arg 10 (FS:PRETTY-NAME): "type component"

    1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 31)
       Arg 0 (SELF): #P"MEDG-GW:c:/foo.lsp"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
       Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

    1(FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)0:  (P.C. = 62)  2(from SYS:PATCH;SYSTEM-349-24)
0       Arg 0 (SELF): #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE MEDG-GW>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN 250374440>
       Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
       Arg 3 (FS:DEV): "c"
       Arg 4 (FS:DIR): :ROOT
       Arg 5 (FS:NAM): ""
       Arg 6 (FS:TYP): ""
       Arg 7 (FS:VRS): :UNSPECIFIC
       Arg 8 (FS:OTHERS): NIL
       Arg 9 (FS:KEY): ("c" :ROOT "" "")

    1(FLAVOR:METHOD :GET-PATHNAME NET:NO-VERSION-HOST-MIXIN)0:  (P.C. = 25)
       Arg 0 (SELF): #<MSDOS-HOST MEDG-GW 1131662>
       Arg 1 (SYS:SELF-MAPPING-TABLE): NET:NO-VERSION-HOST-MIXIN
       Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
       Arg 3 (NETI:DEV): "c"
       Arg 4 (NETI:DIR): :ROOT
       Arg 5 (NETI:NAM): ""
       Arg 6 (NETI:TYP): ""
       Arg 7 (NETI:VRS): :UNSPECIFIC
       Arg 8 (NETI:OTHERS): NIL

    1FS:MAKE-PATHNAME-10:  (P.C. = 604)  2(from SYS:PATCH;SYSTEM-349-109)
0       Arg 0 (FS:ACTOR): #P"MEDG-GW:c:/*.*"
       Rest arg (FS:OPTIONS): (:DEFAULT-HOST #<MSDOS-HOST MEDG-GW 1131662> :DEFAULT-DEVICE "c" :DEFAULT-DIRECTORY :ROOT :DEFAULT-NAME :WILD :DEFAULT-TYPE :WILD ...)

    1(FLAVOR:METHOD :NEW-PATHNAME PATHNAME)0:  (P.C. = 22)
       Arg 0 (SELF): #P"MEDG-GW:c:/*.*"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
       Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
       Rest arg (FS:OPTIONS): (:RAW-DIRECTORY :ROOT :RAW-NAME "" :RAW-TYPE "" :VERSION :UNSPECIFIC)

    1(FLAVOR:COMBINED :NEW-PATHNAME PATHNAME)0:  (P.C. = 67)
       Arg 0 (SELF): #P"MEDG-GW:c:/*.*"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220160554>
       Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
       Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (:RAW-DIRECTORY :ROOT :RAW-NAME "" :RAW-TYPE "" :VERSION :UNSPECIFIC)

    1(FLAVOR:METHOD :DIRECTORY-PATHNAME-AS-FILE FS:UNIX-FAMILY-PATHNAME-MIXIN)0:  (P.C. = 110)
       Arg 0 (SELF): #P"MEDG-GW:c:/*.*"
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:UNIX-FAMILY-PATHNAME-MIXIN 220160527>
       Arg 2 (FLAVOR::.GENERIC.): :DIRECTORY-PATHNAME-AS-FILE

    1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
       Arg 0 (CP::FORM): (SEND #P"MEDG-GW:c:/*.*" :DIRECTORY-PATHNAME-AS-FILE)

24-Jun-87 18:18:11-EDT,2200;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jun 87 18:18-EDT
Date: Wed, 24 Jun 87 18:15 EDT
From: CJL@REAGAN.AI.MIT.EDU
Sender: File-Server@REAGAN.AI.MIT.EDU
Subject: Mailer trashing the namespace
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870624181526.0.FILE-SERVER@REAGAN.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Experimental X-Window-System 17.4,
microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
FEP0:>g206-info.flod(14), Machine serial number 30093,
Rodent Free Namespace Editor (from B:>facilities>r7>ned.lisp.15),
Network-Security patch (from B:>File-Server>network-security.lisp.4),
Server-Finger patch (from B:>file-server>server-finger.lisp.183),
Update-Internet-Namespace patch (from B:>file-server>update-internet-namespace.lisp.115),
Dynamic Update Daemon (from B:>File-Server>update-daemon.lisp.31), on Lisp Machine Ronald Reagan:

I think the mailer goes around trashing the namespace.

Currently on reagan (and hence transmitted to user machines, since
reagan is the primary namespace server for the internet namespace) the
namespace object for scrc-pegasus looks like this:

View in namespace INTERNET:
HOST SCRC-PEGASUS
NICKNAME PEGASUS.SCRC.SYMBOLICS.COM
SITE SCRC
INTERNET-DOMAIN-NAME PEGASUS.SCRC.SYMBOLICS.COM
MACHINE-TYPE VAX-11/780
SYSTEM-TYPE UNIX42
ADDRESS INTERNET 192.10.41.18
SERVICE STORE-AND-FORWARD-MAIL TCP SMTP
SERVICE MAIL-TO-USER TCP SMTP

However in the namespace files scrc-pegasus looks like this:

HOST SCRC-PEGASUS
NICKNAME PEGASUS.SCRC.SYMBOLICS.COM
SITE SCRC
INTERNET-DOMAIN-NAME PEGASUS.SCRC.SYMBOLICS.COM
MACHINE-TYPE VAX-11/780
SYSTEM-TYPE UNIX42
ADDRESS INTERNET 192.10.41.18
SERVICE FILE TCP TCP-FTP
SERVICE LOGIN TCP TELNET
SERVICE SHOW-USERS TCP ASCII-NAME

Note that services are different between the in-core object and the
in-file object.

It's highly unlikely that someone ran the namespace editor locally and
changed the object in this way. Much more likely the mailer is to blame.
24-Jun-87 18:44:52-EDT,1152;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jun 87 18:44-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 46137; Wed 24-Jun-87 18:42:38 EDT
Date: Wed, 24 Jun 87 18:42 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: CL:Format off by a factor of 10 on Floating Point Numbers
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870624184241.1.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


(cl:format t "~8e" 0.99999e0)  ->  1.000e-1    (should be 1.0000e0!)

(zl:format t "~3e" 0.99999e0)  ->  1.0e0       (correct)
24-Jun-87 19:44:41-EDT,4552;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jun 87 19:43-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 46142; Wed 24-Jun-87 19:41:20 EDT
Date: Wed, 24 Jun 87 19:41 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: UNIX pathname bug
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870624194115.1.CJL@OTIS.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, IP-TCP 52.16, 7-1-Patches 1.19, MAC 11.2,
ILA-NFS 4.0, microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
FEP0:>g206-info.flod(14), Machine serial number 30124, on Lisp Machine Otis Redding:

(send #P"wh:/wh/cjl/../foo" :directory-pathname-as-file)

1Error: :UP is an invalid name component for WHEATIES (a UNIX42 host).
0While in the function (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)  (FLAVOR:METHOD :VALIDATE PATHNAME)  (FLAVOR:COMBINED :VALIDATE FS:UNIX42-PATHNAME)

The condition signalled was FS:INVALID-PATHNAME-COMPONENT

1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 41)  2(from SYS:PATCH;SYSTEM-349-212)
0   Arg 0 (SELF): #P"WH:/wh/cjl/foo"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220054205>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
   Arg 3 (FS:TEST-ARG): :UP
   Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 35670030>
   Arg 5 (FS:VALID-MSG): :RAW-NAME
   Arg 6 (FS:TEST-MSG): :VALID-NAME-P
   Arg 7 (FS:CASE-MSG): :CASE-NAME
   Arg 8 (FS:UNCASE-MSG): :UNCASE-NAME
   Arg 9 (FS:COMPONENT): :NAME
   Arg 10 (FS:PRETTY-NAME): "name component"

1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 45)
   Arg 0 (SELF): #P"WH:/wh/cjl/foo"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220054205>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

1(FLAVOR:COMBINED :VALIDATE FS:UNIX42-PATHNAME)0:  (P.C. = 11)
   Arg 0 (SELF): #P"WH:/wh/cjl/foo"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:UNIX42-PATHNAME 220054103>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)0:  (P.C. = 62)  2(from SYS:PATCH;SYSTEM-349-24)
0   Arg 0 (SELF): #<CASE-SENSITIVE-PATHNAME-HASH-TABLE WHEATIES>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN 250401040>
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (FS:DEV): :UNSPECIFIC
   Arg 4 (FS:DIR): ("wh" "cjl")
   Arg 5 (FS:NAM): :UP
   Arg 6 (FS:TYP): :UNSPECIFIC
   Arg 7 (FS:VRS): NIL
   Arg 8 (FS:OTHERS): :UNSPECIFIC
   Arg 9 (FS:KEY): (("wh" "cjl") :UP :UNSPECIFIC)

1(FLAVOR:METHOD :GET-PATHNAME NET:NO-DEVICE-OR-VERSION-HOST-MIXIN)0:  (P.C. = 24)
   Arg 0 (SELF): #H"WHEATIES"
   Arg 1 (SYS:SELF-MAPPING-TABLE): NET:NO-DEVICE-OR-VERSION-HOST-MIXIN
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (NETI:DEV): :UNSPECIFIC
   Arg 4 (NETI:DIR): ("wh" "cjl")
   Arg 5 (NETI:NAM): :UP
   Arg 6 (NETI:TYP): :UNSPECIFIC
   Arg 7 (NETI:OTHERS): :UNSPECIFIC
   Arg 8 (NETI:VRS): NIL

1FS:MAKE-PATHNAME-10:  (P.C. = 604)  2(from SYS:PATCH;SYSTEM-349-109)
0   Arg 0 (FS:ACTOR): #P"WH:/wh/cjl/../foo"
   Rest arg (FS:OPTIONS): (:DEFAULT-HOST #H"WHEATIES" :DEFAULT-DEVICE :UNSPECIFIC :DEFAULT-DIRECTORY ("wh" "cjl" :UP) :DEFAULT-NAME "foo" :DEFAULT-TYPE :UNSPECIFIC ...)

1(FLAVOR:METHOD :NEW-PATHNAME PATHNAME)0:  (P.C. = 22)
   Arg 0 (SELF): #P"WH:/wh/cjl/../foo"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220054205>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
   Rest arg (FS:OPTIONS): (:RAW-DIRECTORY ("wh" "cjl") :RAW-NAME :UP :RAW-TYPE :UNSPECIFIC :VERSION :UNSPECIFIC)

1(FLAVOR:COMBINED :NEW-PATHNAME PATHNAME)0:  (P.C. = 67)
   Arg 0 (SELF): #P"WH:/wh/cjl/../foo"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220054205>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (:RAW-DIRECTORY ("wh" "cjl") :RAW-NAME :UP :RAW-TYPE :UNSPECIFIC :VERSION :UNSPECIFIC)

1(FLAVOR:METHOD :DIRECTORY-PATHNAME-AS-FILE FS:UNIX-FAMILY-PATHNAME-MIXIN)0:  (P.C. = 110)
   Arg 0 (SELF): #P"WH:/wh/cjl/../foo"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:UNIX-FAMILY-PATHNAME-MIXIN 220054170>
   Arg 2 (FLAVOR::.GENERIC.): :DIRECTORY-PATHNAME-AS-FILE
25-Jun-87 10:44:21-EDT,1890;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jun 87 10:44-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 46185; 25 Jun 87 10:43:47 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 181815; 25 Jun 87 10:42:29 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 57737; Thu 25-Jun-87 07:41:17 PDT
Date: Thu, 25 Jun 87 07:41 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: CL:Format off by a factor of 10 on Floating Point Numbers
To: GLR%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-Lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870624184241.1.GLR@MOSCOW-CENTRE.AI.MIT.EDU>
Message-ID: <870625074118.1.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Wed, 24 Jun 87 18:42 EDT
    From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30088,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


    (cl:format t "~8e" 0.99999e0)  ->  1.000e-1    (should be 1.0000e0!)

    (zl:format t "~3e" 0.99999e0)  ->  1.0e0       (correct)

Looks like it does this only when rounding-off numbers.
Thanks for the report; I'll turn it in today.

-trev


25-Jun-87 18:10:55-EDT,2566;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jun 87 18:10-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 59616; 25 Jun 87 18:09:50 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 182433; 25 Jun 87 18:10:05 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 57944; Thu 25-Jun-87 15:09:08 PDT
Date: Thu, 25 Jun 87 15:09 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: why does Zmail "expunge" so often?
To: RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    trev@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870612171425.1.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870625150904.6.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Fri, 12 Jun 87 17:14 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
    7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

    Why is it so frequent when I [Save] in Zmail, that I sit and watch the
    who-line telling me that it is busy expunging the dozen or so buffers I
    have around, when *I* know I haven't modified them (and probably haven't
    even looked at them) since the last time I did a [Save]?  I keep a fair
    number of fairly large buffers around, and the process takes a while.


This is new to me (perhaps I don't keep enough buffers open to
have noticed).  Zmail should be able to tell when a file hasn't
been modified.  I've asked the bug people for clarification.
As a workaround, I have the following forms in my zmail-init:

(set-comtab *zmail-comtab*
	    '(#/m-d com-zmail-delete-conversation-by-references
	      #/m-m com-zmail-redistribute-msg
	      #/m-s com-zmail-save-current-buffer
	      #/m-k com-zmail-kill-current-sequence))

m-s is quicker and easier to use than the "Save" menu.  More later...

-trev


26-Jun-87 13:42:33-EDT,2235;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 26 Jun 87 13:42-EDT
Received: from Think.COM (THINK.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 59878; 26 Jun 87 13:39:17 EDT
Received: from ueberweg by Think.COM via CHAOS; Fri, 26 Jun 87 13:40:32 EDT
Date: Fri, 26 Jun 87 13:38 EDT
From: Barry Margolin <barmar@Think.COM>
Subject: why does Zmail "expunge" so often?
To: Steve Trever <trev@vermithrax.sch.symbolics.com>
Cc: RWS@zermatt.lcs.mit.edu, BUG-LISPM@zermatt.lcs.mit.edu
In-Reply-To: <870625150904.6.TREV@CALYPSO.SCH.Symbolics.COM>
Message-Id: <870626133817.0.BARMAR@UEBERWEG.THINK.COM>

    Date: Thu, 25 Jun 87 15:09 PDT
    From: Steve Trever <trev@vermithrax.sch.symbolics.com>

	Date: Fri, 12 Jun 87 17:14 EDT
	From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

	In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
	7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
	FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	Machine serial number 5085,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

	Why is it so frequent when I [Save] in Zmail, that I sit and watch the
	who-line telling me that it is busy expunging the dozen or so buffers I
	have around, when *I* know I haven't modified them (and probably haven't
	even looked at them) since the last time I did a [Save]?  I keep a fair
	number of fairly large buffers around, and the process takes a while.


    This is new to me (perhaps I don't keep enough buffers open to
    have noticed).  Zmail should be able to tell when a file hasn't
    been modified.  I've asked the bug people for clarification.

I've also noticed this.  I assumed that it was due to the use of the
profile option that causes it to put forwarding references into
conversations when intermediate messages are deleted.  When saving, it
probably has to go through all the buffers to see if any messages need
such fixing.

						barmar
26-Jun-87 13:55:56-EDT,2463;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 26 Jun 87 13:55-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 59881; 26 Jun 87 13:52:51 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 26 Jun 87 13:48-EDT
Date: Fri, 26 Jun 87 13:49 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: why does Zmail "expunge" so often?
To: barmar@Think.COM, trev@vermithrax.sch.symbolics.com
cc: BUG-LISPM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870626133817.0.BARMAR@UEBERWEG.THINK.COM>
Message-ID: <870626134954.9.RWS@KILLINGTON.LCS.MIT.EDU>

    Date: Fri, 26 Jun 87 13:38 EDT
    From: Barry Margolin <barmar@Think.COM>

	Date: Thu, 25 Jun 87 15:09 PDT
	From: Steve Trever <trev@vermithrax.sch.symbolics.com>

	    Date: Fri, 12 Jun 87 17:14 EDT
	    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

	    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.2,
	    7-1-Patches 1.16, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
	    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
	    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
	    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	    Machine serial number 5085,
	    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

	    Why is it so frequent when I [Save] in Zmail, that I sit and watch the
	    who-line telling me that it is busy expunging the dozen or so buffers I
	    have around, when *I* know I haven't modified them (and probably haven't
	    even looked at them) since the last time I did a [Save]?  I keep a fair
	    number of fairly large buffers around, and the process takes a while.


	This is new to me (perhaps I don't keep enough buffers open to
	have noticed).  Zmail should be able to tell when a file hasn't
	been modified.  I've asked the bug people for clarification.

    I've also noticed this.  I assumed that it was due to the use of the
    profile option that causes it to put forwarding references into
    conversations when intermediate messages are deleted.  When saving, it
    probably has to go through all the buffers to see if any messages need
    such fixing.

I don't use this option.  I only make use of the most basic, vanilla
features of Zmail.
26-Jun-87 18:17:55-EDT,1364;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 26 Jun 87 18:16-EDT
Received: from Xerox.COM (XEROX.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 59935; 26 Jun 87 18:13:18 EDT
Received: from Semillon.ms by ArpaGateway.ms ; 26 JUN 87 14:10:17 PDT
Date: Fri, 26 Jun 87 14:08 PDT
From: Siskind.pa@Xerox.COM
Subject: bug in Dynamic windows
To: BUG-LISPM@Zermatt.lcs.mit.edu
Message-ID: <870626140805.3.SISKIND@IDEFIX.isl.parc.xerox.com>
Line-fold: no

In Symbolics 3650 Genera 7.1, Experimental Ether 3.18, IP-TCP 52.16,
Local-Mods 5.1, SPIRE 18.2, Spire-Local 1.23,
Experimental Prolog-ALR 1.0, Experimental Things 13.0,
Experimental ConLog 20.0, Experimental Remote 2.0,
microcode 3650-FPA-MIC 396, FEP 206, Fep0:>g206-lisp.flod(14),
Fep0:>g206-loaders.flod(14), Fep0:>g206-info.flod(14),
Fep0:>g206-debug.flod(4), Machine serial number 30033, on IDEFIX:

If I am at the end of a dynamic window such as a lisp listener and
quickly type m-scroll several times in succession rather than go
back several pages it instead jumps back to the first page of
output. It also gets into loop there where the Run light/status
stays on. I tried to send a stack trace by suspending and c-m
but it got into a secondary error trying to disassemble some code
so I gave up trying to send a stack trace.
        Jeff (Qobi)
-------
28-Jun-87 01:29:22-EDT,1392;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 28 Jun 87 01:29-EDT
Received: from MARLEY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 46523; Sun 28-Jun-87 01:27:05 EDT
Date: Sun, 28 Jun 87 01:27 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: Adding Instance Vars To Flavors
To: Bug-Lispm@REAGAN.AI.MIT.EDU
Message-ID: <870628012702.6.JCMA@MARLEY.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI, CPTFONTI

In Symbolics 3640 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 1Relatus Natural Language System0 168.2,
Experimental Reference 6.2, Experimental Jcma 1,
Experimental 2Semantic Inversion0 6.0, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5229, on Lisp Machine Bob Marley:
Warm booted from: Chaos background.

I added some instance variables at the end of an existing flavor that has
ordered instance variables, and I get the warning that accesses will be
inefficient.  This should not be a problem (it wasn't before).  I add new
IVS to the end for just this reason.  The flavor system should detect this
case and do the right thing.
28-Jun-87 17:02:44-EDT,1101;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 28 Jun 87 17:02-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 46551; Sun 28-Jun-87 17:00:27 EDT
Date: Sun, 28 Jun 87 17:00 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: LSB of (RANDOM float) isn't
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870628170027.1.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:

(evenp (integer-decode-float (random 1.0)))
(evenp (integer-decode-float (random 1.0d0)))

are always true
29-Jun-87 00:08:51-EDT,4760;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jun 87 00:08-EDT
Received: from DIAMOND.S4CC.Symbolics.COM (DIAMOND.S4CC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 46578; 29 Jun 87 00:06:24 EDT
Received: from SWALLOW.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 100922; Mon 29-Jun-87 00:05:24 EDT
Date: Mon, 29 Jun 87 00:04 EDT
From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
Subject: LSB of (RANDOM float) isn't
To: GLR@OZ.AI.MIT.EDU, Bug-Lispm@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870628170027.1.GLR@MOSCOW-CENTRE.AI.MIT.EDU>
Message-ID: <870629000434.3.GREENWALD@SWALLOW.S4CC.Symbolics.COM>

    Date: Sun, 28 Jun 87 17:00 EDT
    From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, ....

    (evenp (integer-decode-float (random 1.0)))
    (evenp (integer-decode-float (random 1.0d0)))

    are always true

Right.  Because of the seed.
(EVENP (INTEGER-DECODE-FLOAT (RANDOM (FLOAT 1/3)))) will alternate
between T and NIL about 50% of the time.  

I assume that what worries you is that this might imply that the numbers
aren't "random" enough, or aren't uniformly distributed.  (If not, then
this whole message misses the mark.)

I'm sorry if this message isn't particularly clear, or gets too
pedantic.

(RANDOM num) returns uniformly distributed random numbers between 0
(inclusive) and num (exclusive).  There's nothing that says that the
sequence of bits are random, or that each individual bit is evenly
distributed between 0 and 1.  (It's certainly not true for the higher
order bits in integers: look at bit 7 (the 128's place) in 
(RANDOM 129.), which will be 0 over 99% of the time.)

SCL:RANDOM, With a seed of 1.0, happens to yield numbers whose least
significant N bits aren't used for values less than 2 to the 1-N.
(In other words:
(LOOP REPEAT 1000
      ALWAYS (MULTIPLE-VALUE-BIND (FRACTION EXP SIGN)
		 (INTEGER-DECODE-FLOAT (RANDOM 1.0))
	       (ZEROP (MOD FRACTION (EXPT 2 (- -23 EXP))))))
which is even a stronger statement than yours.)

This is nothing to boast of, but I believe it is intrinsic (the 23 will
vary depending on the precision of the floating point representation) in
the definition of CL:RANDOM proposed in the Good Book. 
In any case, SCL:RANDOM is implemented according to CLtL pg 229, the
paragraph beginning with "With a hidden-bit representation ...."

An intermediate stage is random numbers in the range [1.0 2.0).  When
you subtract 1.0 from numbers in this range, I think you are guaranteed
to lose a (at least one) bit of precision at the low-end, because
subtracting one is simply (1) strip off leading zeros and first 1,
padding at the trailing end, and (2) subtract
<the-number-of-stripped-bits> from the exponent.

The intermediate number is then multiplied by the seed (M in the second
paragraph on pg 229. [X = N/M, therefore N = X*M]).  So to get ones in
the LSB of the result, you need to get them from the mantissa of M.
This will never happen by multiplcation by 1.0.  (You need a mantissa
that can yield 1's in bit 23rd most significant bit of the integer
product with another mantissa that starts off with trailing zeros.  1.0
has a mantissa of all 0's (with an implied "hidden bit" of 1.) so it
just shifts the random (zero-tailed) mantissa.)

In any case, I think the short answer is: RANDOM, as specified by CLtL,
doesn't provide random *bits*, but, instead, approximately uniformly
distributed random numbers.

Of course, this doesn't mean that there isn't also a need for other
random number generators.  And, it doesn't mean that RANDOM can't be
modified (at a cost in performance, if that matters) to be better than
CLtL, by inserting random bits after the subtraction by 1.0.  (Being
careful, of course, to only add the random bits into the padded zeros,
and not into places that are significantly zero.)  But I don't know if
this is worthwhile.

A side note:  I don't think the paragraph in CLtL 229, starting "Again,
if the low-order bits are not random enough, then ..." refers to this
problem, since ROTL #7,T (if I remember my VAX assembly language)
doesn't help this case.  I think he's referring to the random integer
"if the 36 random bits came from a congruential random-number generator,
the high-order bits tend to be 'more random' than the low-order ones,
....".

(Just out of curiousity, why do you need the LSB of
(INTEGER-DECODE-FLOAT (RANDOM 1.0)) to be random?)

Someone more competent will respond, I'm sure, (I hope), because I'm
not particularly knowledgable about the trade-offs in our implementation
of RANDOM. 


29-Jun-87 00:10:33-EDT,4918;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jun 87 00:10-EDT
Received: from DIAMOND.S4CC.Symbolics.COM (DIAMOND.S4CC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 46580; 29 Jun 87 00:08:07 EDT
Received: from SWALLOW.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 100923; Mon 29-Jun-87 00:07:19 EDT
Date: Mon, 29 Jun 87 00:06 EDT
From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
Subject: LSB of (RANDOM float) isn't
To: GLR@OZ.AI.MIT.EDU, Bug-Lispm@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
cc: Numerics@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870628170027.1.GLR@MOSCOW-CENTRE.AI.MIT.EDU>
Supersedes: <870629000434.3.GREENWALD@SWALLOW.S4CC.Symbolics.COM>
Comments: Numerics added
Message-ID: <870629000640.4.GREENWALD@SWALLOW.S4CC.Symbolics.COM>

[Numerics added]

    Date: Sun, 28 Jun 87 17:00 EDT
    From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, ....

    (evenp (integer-decode-float (random 1.0)))
    (evenp (integer-decode-float (random 1.0d0)))

    are always true

Right.  Because of the seed.
(EVENP (INTEGER-DECODE-FLOAT (RANDOM (FLOAT 1/3)))) will alternate
between T and NIL about 50% of the time.  

I assume that what worries you is that this might imply that the numbers
aren't "random" enough, or aren't uniformly distributed.  (If not, then
this whole message misses the mark.)

I'm sorry if this message isn't particularly clear, or gets too
pedantic.

(RANDOM num) returns uniformly distributed random numbers between 0
(inclusive) and num (exclusive).  There's nothing that says that the
sequence of bits are random, or that each individual bit is evenly
distributed between 0 and 1.  (It's certainly not true for the higher
order bits in integers: look at bit 7 (the 128's place) in 
(RANDOM 129.), which will be 0 over 99% of the time.)

SCL:RANDOM, With a seed of 1.0, happens to yield numbers whose least
significant N bits aren't used for values less than 2 to the 1-N.
(In other words:
(LOOP REPEAT 1000
      ALWAYS (MULTIPLE-VALUE-BIND (FRACTION EXP SIGN)
		 (INTEGER-DECODE-FLOAT (RANDOM 1.0))
	       (ZEROP (MOD FRACTION (EXPT 2 (- -23 EXP))))))
which is even a stronger statement than yours.)

This is nothing to boast of, but I believe it is intrinsic (the 23 will
vary depending on the precision of the floating point representation) in
the definition of CL:RANDOM proposed in the Good Book. 
In any case, SCL:RANDOM is implemented according to CLtL pg 229, the
paragraph beginning with "With a hidden-bit representation ...."

An intermediate stage is random numbers in the range [1.0 2.0).  When
you subtract 1.0 from numbers in this range, I think you are guaranteed
to lose a (at least one) bit of precision at the low-end, because
subtracting one is simply (1) strip off leading zeros and first 1,
padding at the trailing end, and (2) subtract
<the-number-of-stripped-bits> from the exponent.

The intermediate number is then multiplied by the seed (M in the second
paragraph on pg 229. [X = N/M, therefore N = X*M]).  So to get ones in
the LSB of the result, you need to get them from the mantissa of M.
This will never happen by multiplcation by 1.0.  (You need a mantissa
that can yield 1's in bit 23rd most significant bit of the integer
product with another mantissa that starts off with trailing zeros.  1.0
has a mantissa of all 0's (with an implied "hidden bit" of 1.) so it
just shifts the random (zero-tailed) mantissa.)

In any case, I think the short answer is: RANDOM, as specified by CLtL,
doesn't provide random *bits*, but, instead, approximately uniformly
distributed random numbers.

Of course, this doesn't mean that there isn't also a need for other
random number generators.  And, it doesn't mean that RANDOM can't be
modified (at a cost in performance, if that matters) to be better than
CLtL, by inserting random bits after the subtraction by 1.0.  (Being
careful, of course, to only add the random bits into the padded zeros,
and not into places that are significantly zero.)  But I don't know if
this is worthwhile.

A side note:  I don't think the paragraph in CLtL 229, starting "Again,
if the low-order bits are not random enough, then ..." refers to this
problem, since ROTL #7,T (if I remember my VAX assembly language)
doesn't help this case.  I think he's referring to the random integer
"if the 36 random bits came from a congruential random-number generator,
the high-order bits tend to be 'more random' than the low-order ones,
....".

(Just out of curiousity, why do you need the LSB of
(INTEGER-DECODE-FLOAT (RANDOM 1.0)) to be random?)

Someone more competent will respond, I'm sure, (I hope), because I'm
not particularly knowledgable about the trade-offs in our implementation
of RANDOM. 


29-Jun-87 16:09:03-EDT,901;000000000000
Received: from HADAMARD.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jun 87 16:08-EDT
Date: Mon, 29 Jun 87 16:06 EDT
From: Carl G. de Marcken <CGDEMARC@OZ.AI.MIT.EDU>
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870629160654.2.CGDEMARC@HADAMARD.AI.MIT.EDU>

In Symbolics 3640 Release 6.G2, IP-TCP 29.13, Release-6-7 6.0,
6-1-Patches 1.27, MAC 5.2, Macsyma 396.42, FORTRAN 49.4, PASCAL 31.0,
Prolog 12.13, Illustrate 10.27, Experimental X-Window-System 42.0,
microcode TMC5-IO4-COL-MIC 388, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
FEP0:>v127-info.flod(55), Basic TeX, CM-SOFTWARE-VERSION-F5,
*LISP on the PARIS SIMULATOR, on Lisp Machine Hadamard:

Lisp Machine Hadamard terminal has problems with loose
vertical control towards the bottom of the screen.
All text in the bottom part of the screen bounces around
enough to be unreadable.
29-Jun-87 17:06:47-EDT,4979;000000000000
Mail-From: GLR created at 29-Jun-87 17:06:41
Date: Mon, 29 Jun 1987  17:06 EDT
Message-ID: <GLR.12314444991.BABYL@MIT-OZ>
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
To:   Michael Greenwald <Greenwald@SCRC-STONY-BROOK.ARPA>
Cc:   Bug-Lispm@OZ.AI.MIT.EDU, Customer-Reports@SCRC-STONY-BROOK.ARPA,
      Numerics@SCRC-STONY-BROOK.ARPA
Subject: LSB of (RANDOM float) isn't
In-reply-to: Msg of 29 Jun 1987  00:06-EDT from Michael Greenwald <Greenwald at STONY-BROOK.SCRC.Symbolics.COM>

    Date: Monday, 29 June 1987  00:06-EDT
    From: Michael Greenwald <Greenwald at STONY-BROOK.SCRC.Symbolics.COM>
    Supersedes: <870629000434.3.GREENWALD@SWALLOW.S4CC.Symbolics.COM>

        Date: Sun, 28 Jun 87 17:00 EDT
        From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

        In Symbolics 3650 Genera 7.1, ....

        (evenp (integer-decode-float (random 1.0)))
        (evenp (integer-decode-float (random 1.0d0)))

        are always true

    Right.  Because of the seed.
    (EVENP (INTEGER-DECODE-FLOAT (RANDOM (FLOAT 1/3)))) will alternate
    between T and NIL about 50% of the time.  

No.  First, 1.0 is not the seed.  Second, you are being faked out.
(RANDOM (FLOAT 1/3)) = (* (RANDOM 1.0) (FLOAT 1/3))
(FLOAT 1/3) has more than two bits in its representation, so the multiplication
ends up shifting some of the higher order bits on top of the LSB.

    I assume that what worries you is that this might imply that the numbers
    aren't "random" enough, or aren't uniformly distributed.  (If not, then
    this whole message misses the mark.)

Yes, the numbers are not as random as they could be.  In fact, the
numbers could be twice as random (there would be twice as many random
numbers) if the lsb wiggled a little bit.  I presume the numbers are
essentially uniform.

    (RANDOM num) returns uniformly distributed random numbers between 0
    (inclusive) and num (exclusive).  There's nothing that says that the
    sequence of bits are random, or that each individual bit is evenly
    distributed between 0 and 1.  (It's certainly not true for the higher
    order bits in integers: look at bit 7 (the 128's place) in 
    (RANDOM 129.), which will be 0 over 99% of the time.)

    SCL:RANDOM, With a seed of 1.0, happens to yield numbers whose least
    significant N bits aren't used for values less than 2 to the 1-N.
    (In other words:
    (LOOP REPEAT 1000
          ALWAYS (MULTIPLE-VALUE-BIND (FRACTION EXP SIGN)
    		 (INTEGER-DECODE-FLOAT (RANDOM 1.0))
    	       (ZEROP (MOD FRACTION (EXPT 2 (- -23 EXP))))))
    which is even a stronger statement than yours.)

This is due the method of construction; it would be nice if these bits
were also random, but exponential fewer numbers are affected here.  The
trivial method
(scale-float (float (cli:random-internal *random-state*)))
solves both problems, but is 10 percent slower.

    This is nothing to boast of, but I believe it is intrinsic (the 23 will
    vary depending on the precision of the floating point representation) in
    the definition of CL:RANDOM proposed in the Good Book. 
    In any case, SCL:RANDOM is implemented according to CLtL pg 229, the
    paragraph beginning with "With a hidden-bit representation ...."

    An intermediate stage is random numbers in the range [1.0 2.0).  When
    you subtract 1.0 from numbers in this range, I think you are guaranteed
    to lose a (at least one) bit of precision at the low-end, because
    subtracting one is simply (1) strip off leading zeros and first 1,
    padding at the trailing end, and (2) subtract
    <the-number-of-stripped-bits> from the exponent.

Gee, I looked at page 229 in my copy, and it had a note penned in that
this would cause the LSB to always be zero.  Yes, this is how the lsb is
lost.

    The intermediate number is then multiplied by the seed (M in the second
    paragraph on pg 229. [X = N/M, therefore N = X*M]).  So to get ones in
    the LSB of the result, you need to get them from the mantissa of M.
    This will never happen by multiplcation by 1.0.  (You need a mantissa
    that can yield 1's in bit 23rd most significant bit of the integer
    product with another mantissa that starts off with trailing zeros.  1.0
    has a mantissa of all 0's (with an implied "hidden bit" of 1.) so it
    just shifts the random (zero-tailed) mantissa.)

This does not make the lsb more random; half of the possible numbers are
still not present.

    (Just out of curiousity, why do you need the LSB of
    (INTEGER-DECODE-FLOAT (RANDOM 1.0)) to be random?)

I just happened to notice.  It does make some difference when computing
other distributions (eg, exponential), but 32bit floats are pitiful things
and 64bit floats solve the problem.

    Someone more competent will respond, I'm sure, (I hope), because I'm
    not particularly knowledgable about the trade-offs in our implementation
    of RANDOM. 
29-Jun-87 17:55:56-EDT,1121;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jun 87 17:55-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 46748; Mon 29-Jun-87 17:53:56 EDT
Date: Mon, 29 Jun 87 17:53 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: More mailer & domain resolver lossage
To: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-Lispm@OZ.AI.MIT.EDU
Message-ID: <870629175325.6.CJL@OTIS.AI.MIT.EDU>

The mailer refuses mail from machines that HELO with domain-style hostnames,
but arent in the namespace corresponding to the domain in the hostname.

This is not reasonable behavior.

Sending letter ... hungry-people@oz.ai.mit.edu... Connecting to oz.ai.mit.edu.tcp...
220  REAGAN.AI.MIT.EDU SMTP service ready.
>>> HELO garp.mit.edu
250  REAGAN.AI.MIT.EDU
>>> MAIL From:<henry@garp.mit.edu>
501- The host named #<NAME MIT|GARP 12510050> was not found.
501- No host with that name is already known by the local machine,
501- but it is not certain that there is no such host.
501  Some namespace server did not respond..
>>> QUIT
221  Goodbye.
29-Jun-87 19:21:53-EDT,10470;000000000000
Return-Path: <@XX.LCS.MIT.EDU,@DIAMOND.S4CC.Symbolics.COM:Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
Received: from XX.LCS.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Mon 29 Jun 87 19:21:49-EDT
Received: from DIAMOND.S4CC.Symbolics.COM ([128.81.51.3].#Internet) by XX.LCS.MIT.EDU with TCP/SMTP; Mon 29 Jun 87 19:17:09-EDT
Received: from SWALLOW.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 101254; Mon 29-Jun-87 19:06:18 EDT
Date: Mon, 29 Jun 87 19:05 EDT
From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
Subject: LSB of (RANDOM float) isn't
To: GLR%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU, Greenwald@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-Lispm%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Numerics@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <GLR.12314444991.BABYL@MIT-OZ>
Message-ID: <870629190541.2.GREENWALD@SWALLOW.S4CC.Symbolics.COM>

    Date: Mon, 29 Jun 1987  17:06 EDT
    From: Jerry Roylance <GLR%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU>

	Date: Monday, 29 June 1987  00:06-EDT
	From: Michael Greenwald <Greenwald at STONY-BROOK.SCRC.Symbolics.COM>
	Supersedes: <870629000434.3.GREENWALD@SWALLOW.S4CC.Symbolics.COM>

	    Date: Sun, 28 Jun 87 17:00 EDT
	    From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

	    In Symbolics 3650 Genera 7.1, ....

	    (evenp (integer-decode-float (random 1.0)))
	    (evenp (integer-decode-float (random 1.0d0)))

	    are always true

	Right.  Because of the seed.
	(EVENP (INTEGER-DECODE-FLOAT (RANDOM (FLOAT 1/3)))) will alternate
	between T and NIL about 50% of the time.  

    No.  First, 1.0 is not the seed.  
Right.  The argument.  Sorry.
					Second, you are being faked out.
    (RANDOM (FLOAT 1/3)) = (* (RANDOM 1.0) (FLOAT 1/3))
    (FLOAT 1/3) has more than two bits in its representation, so the multiplication
    ends up shifting some of the higher order bits on top of the LSB.

Right.  That's why I chose it.  That's the only way to get the LSB
non-zero.  That's what I meant by:
	"

							(You need a mantissa
	that can yield 1's in bit 23rd most significant bit of the integer
	product with another mantissa that starts off with trailing zeros.  1.0
	has a mantissa of all 0's (with an implied "hidden bit" of 1.) so it
	just shifts the random (zero-tailed) mantissa.)
	"

Clear as mud, huh?

It's true that the numbers with an argument of 1/3 aren't any more
random (i.e. the range of (RANDOM (FLOAT 1/3)) has the same cardinality
as (RANDOM 1.0)), but the LSB *is* more random, in that it alternates
between 0 and 1.

(But I only made that comment because I had assumed that for some reason
you *wanted* the LSB (and not necessarily the number) to be more random.
I realize that was a pretty stupid assumption on my part.)

	I assume that what worries you is that this might imply that the numbers
	aren't "random" enough, or aren't uniformly distributed.  (If not, then
	this whole message misses the mark.)

    Yes, the numbers are not as random as they could be.  In fact, the
    numbers could be twice as random (there would be twice as many random
    numbers) if the lsb wiggled a little bit.  

Right. (Well, more than twice: 127 "times as random" (that's an
interesting way of phrasing it))  But you'd have to add in random bits
after the subtraction by 1.0 into the padded bits, changing the CLtL
algorithm.  I suggested that in the part of the message you deleted.
You probably didn't notice, because I just mentioned it in passing, and
didn't emphasize it as a way out of this problem. 

						I presume the numbers are
    essentially uniform.

Essentially.

	(RANDOM num) returns uniformly distributed random numbers between 0
	(inclusive) and num (exclusive).  There's nothing that says that the
	sequence of bits are random, or that each individual bit is evenly
	distributed between 0 and 1.  (It's certainly not true for the higher
	order bits in integers: look at bit 7 (the 128's place) in 
	(RANDOM 129.), which will be 0 over 99% of the time.)

	SCL:RANDOM, With a seed of 1.0, happens to yield numbers whose least
seed ==> argument
	significant N bits aren't used for values less than 2 to the 1-N.
	(In other words:
	(LOOP REPEAT 1000
	      ALWAYS (MULTIPLE-VALUE-BIND (FRACTION EXP SIGN)
		     (INTEGER-DECODE-FLOAT (RANDOM 1.0))
		   (ZEROP (MOD FRACTION (EXPT 2 (- -23 EXP))))))
	which is even a stronger statement than yours.)

    This is due the method of construction; 

Right, same as the pathological behavior of the LSB.  It's the same
cause, and same behavior.
						it would be nice if these bits
    were also random, 

They are the same bits; they include the LSB.  I'm saying it isn't just
the lowest bit, but the lowest N bits.  Yeah, it would be nice if these
bits were also random.

		      but exponential fewer numbers 
actually, exponentially greater numbers, I think.  Exponentially smaller
significance (and therefore, exponentially smaller part of the
distribution), yeah.
						    are affected here. The 
    trivial method
    (scale-float (float (cli:random-internal *random-state*)))
I'm not sure I understand this.  
    solves both problems, but is 10 percent slower.
So does adding the random bits into the padding after the subtraction by
1.0.  But this probably adds more than 10 percent since we need another
call to random internal to furnish the bits.

Hmm.  Wait, we only need a second call when the number happens to be
less than (expt 2 -9), since we still have the top 9 random bits we
masked off to get the original mantissa, and since more than half the
time the exponent will be around -1, we get the bits for the cost of a
dpb (with a variable bytespec, since the width will depend on the
exponent).

	This is nothing to boast of, but I believe it is intrinsic (the 23 will
	vary depending on the precision of the floating point representation) in
	the definition of CL:RANDOM proposed in the Good Book. 
	In any case, SCL:RANDOM is implemented according to CLtL pg 229, the
	paragraph beginning with "With a hidden-bit representation ...."

	An intermediate stage is random numbers in the range [1.0 2.0).  When
	you subtract 1.0 from numbers in this range, I think you are guaranteed
	to lose a (at least one) bit of precision at the low-end, because
	subtracting one is simply (1) strip off leading zeros and first 1,
	padding at the trailing end, and (2) subtract
	<the-number-of-stripped-bits> from the exponent.

    Gee, I looked at page 229 in my copy, and it had a note penned in that
    this would cause the LSB to always be zero.  Yes, this is how the lsb is
    lost.

	The intermediate number is then multiplied by the seed (M in the second
	paragraph on pg 229. [X = N/M, therefore N = X*M]).  So to get ones in
	the LSB of the result, you need to get them from the mantissa of M.
	This will never happen by multiplcation by 1.0.  (You need a mantissa
	that can yield 1's in bit 23rd most significant bit of the integer
	product with another mantissa that starts off with trailing zeros.  1.0
	has a mantissa of all 0's (with an implied "hidden bit" of 1.) so it
	just shifts the random (zero-tailed) mantissa.)

    This does not make the lsb more random; 
It makes the LSB *itself* more random -- it isn't always 0 -- but it
doesn't make the number any more random. 
					   half of the possible numbers are 
    still not present.  
Right. More than half (see next paragraph) of all the possible numbers
for (RANDOM 1.0), but *all* of the possible values of the LSB are
present, now: 0 and 1.  

(More than half, actually, I think it's closer to 126/127 of the
possible numbers aren't there.  But maybe my heads on backwards at the
moment:

For an exponent of -N the low order N bits are zero, so we only get
1/2^N of the possible numbers with that exponent.  There are K=2^23
possible numbers with each exponent.  There are about 127 possible
exponents between least-positive-single-float and 1.0.  Hmm, but (random
1.0) will never generate least-positive-single-float, since it gets its
exponent from trimming zeros off, so we're only interested in 23
exponents.  So, the total number of possible random numbers for a single
float argument is:  sum(for i from 1 to 23) of (1/2^i)*K.  Which is
almost K.  But there are really 23*K single floats expressible between
(expt 2 -23) and 1.0, so we only cover 1/23 of the possible numbers.

So 22/23 of the possible numbers aren't there.

Does that make sense?

(And, for larger arguments, there's the possibility that after the
multiplication by the argument *more* spaces have opened up (because now
we are allowed to use all the exponents above 1.0).  In fact, for
(RANDOM most-positive-single-float) we only use 1/256 of the available
numbers.)

Well, should we care about the "missing" (it's a little bizarre to talk
about "missing" floating point numbers) numbers?

The vast majority of these missing numbers are in "sparse" regions of
the range, so "they'll never be missed".  What I mean is that even
though there are twice as many missing numbers with exponent -2 as with
exponent -1, it is *twice* as likely that a number with exponent -1 will
be chosen than that a number with exponent -2 will be chosen.

The numbers with 2 missing bits are half as likely to be generated as a
number with 1 missing bit, and twice as likely as a number with 3
missing bits.  And so on.  So the expected value of "missing bits per
number generated by (random 1.0)" is a less than 2 bits.  So the biggest
pay-off would be to make sure those 2 bits are still random and
significant.

Well, we get up to 9 bits for the cost of a DPB and change, by folding
back in the top 9 bits of the original result of random-internal, so we
should probably do (at least) that.

	(Just out of curiousity, why do you need the LSB of
	(INTEGER-DECODE-FLOAT (RANDOM 1.0)) to be random?)

    I just happened to notice.  
Thanks for bringing it up to discussion.  It'll be improved.
				It does make some difference when computing
    other distributions (eg, exponential), but 32bit floats are pitiful things
    and 64bit floats solve the problem.

	Someone more competent will respond, I'm sure, (I hope), because I'm
	not particularly knowledgable about the trade-offs in our implementation
	of RANDOM. 

30-Jun-87 02:09:06-EDT,7841;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jun 87 02:08-EDT
Received: from MARLEY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 46802; Tue 30-Jun-87 02:09:49 EDT
Date: Tue, 30 Jun 87 02:09 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: 1Error: Flavor DW:MARGIN-LABEL does not handle the init keyword :CHARACTER-STYLE0 
To: Bug-LispM@REAGAN.AI.MIT.EDU
Message-ID: <870630020918.7.JCMA@MARLEY.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (3 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI, CPTFONTI

In Symbolics 3640 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 2Relatus Natural Language System0 168.2,
Experimental Reference 6.2, Experimental Jcma 1,
Experimental 3Semantic Inversion0 6.0, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5229, on Lisp Machine Bob Marley:
Warm booted from: Notification Delivery, Chaos background.


Inconsistent with the documentation for 1DW:MARGIN-LABEL0 in docex.

1Error: Flavor DW:MARGIN-LABEL does not handle the init keyword :CHARACTER-STYLE
0While in the function MAKE-INSTANCE  (FLAVOR:METHOD :PARSE-MARGIN-COMPONENTS-SPEC DW:MARGIN-MIXIN)  (DEFUN-IN-FLAVOR TV:ADJUST-MARGINS TV:ESSENTIAL-WINDOW)

The condition signalled was CLI::DEFAULT-ERROR

1MAKE-INSTANCE0:  (P.C. = 376)  3(from SYS:PATCH;SYSTEM-349-177)
0   Arg 0 (SYS:FLAVOR-NAME): DW:MARGIN-LABEL
   Rest arg (FLAVOR::INIT-OPTIONS): (:WINDOW #<HYSTERETIC-TEMPORARY-MOMENTARY-DYNAMIC-WINDOW-RESOURCE Hysteretic Temporary Momentary Dynamic Window Resource 13 6540417 deactivated> :MARGIN :BOTTOM :CENTERED-P T :STRING "Description" :CHARACTER-STYLE (:FIX :BOLD :LARGE))
   Local 2: NIL
   Local 3 (FLAVOR::FL): #<FLAVOR DW:MARGIN-LABEL 250660436>
   Local 4 (FLAVOR::VARIABLES-INITIALIZED-MASK): 0
   Local 5 (FLAVOR::MAX-STACK-CONSING): 52
   Local 6 (FLAVOR::TEM): NIL
   Local 7 (FLAVOR::TEM1): NIL
   Local 8 (SCL:INSTANCE): #<MARGIN-LABEL 25755033>
   Local 9 (FLAVOR::VARIABLE-INIT-KEYWORDS): ((:STRING 5) (:STYLE 6) (:MARGIN 7) (:BACKGROUND-GRAY 8) (:BOX 9) (:BOX-THICKNESS 10) (:EXTEND-BOX-P 11) (:CENTERED-P 12) (:LABEL-NEEDS-UPDATING 13))
   Local 10 (FLAVOR::OTHER-INIT-KEYWORDS): (:WINDOW)
   Local 11 (FLAVOR::AREA-KEYWORD): :AREA
   Local 12 (FLAVOR::UNHANDLED-KEYWORDS): (:CHARACTER-STYLE)
   Local 13 (FLAVOR::ALLOW-OTHER-KEYS): NIL
   Local 14 (FLAVOR::REQUIRED-KEYWORDS): NIL

1(FLAVOR:METHOD :PARSE-MARGIN-COMPONENTS-SPEC DW:MARGIN-MIXIN)0:  (P.C. = 47)
   Arg 0 (SELF): #<HYSTERETIC-TEMPORARY-MOMENTARY-DYNAMIC-WINDOW-RESOURCE Hysteretic Temporary Momentary Dynamic Window Resource 13 6540417 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:MARGIN-MIXIN 174274546>
   Arg 2 (FLAVOR::.GENERIC.): :PARSE-MARGIN-COMPONENTS-SPEC
   Arg 3 (DW::SPEC): ((DW:MARGIN-BORDERS :THICKNESS 2) (DW:MARGIN-WHITE-BORDERS :THICKNESS 2) (DW:MARGIN-SCROLL-BAR :MARGIN :LEFT :VISIBILITY :NORMAL) (DW:MARGIN-SCROLL-BAR :MARGIN :BOTTOM :VISIBILITY :NORMAL) (DW:MARGIN-LABEL :MARGIN :BOTTOM :CENTERED-P T :STRING "Description" :CHARACTER-STYLE (:FIX :BOLD :LARGE)))
   Arg 4 (DW::LEFT-MARGIN): 0
   Local 4 (DW::LEFT-MARGIN): 18
   Arg 5 (DW::TOP-MARGIN): 0
   Local 5 (DW::TOP-MARGIN): 4
   Arg 6 (DW::RIGHT-MARGIN): 0
   Local 6 (DW::RIGHT-MARGIN): 4
   Arg 7 (DW::BOTTOM-MARGIN): 0
   Local 7 (DW::BOTTOM-MARGIN): 18

1(DEFUN-IN-FLAVOR TV:ADJUST-MARGINS TV:ESSENTIAL-WINDOW)0:  (P.C. = 73)
   Arg 0 (SELF): #<HYSTERETIC-TEMPORARY-MOMENTARY-DYNAMIC-WINDOW-RESOURCE Hysteretic Temporary Momentary Dynamic Window Resource 13 6540417 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:ESSENTIAL-WINDOW
   Arg 2 (SYS:INSTANCE-VARIABLE): DW::MARGIN-COMPONENTS
   Arg 3 (TV:PARSING-MESSAGE): :PARSE-MARGIN-COMPONENTS-SPEC
   Arg 4 (PLIST): #<DTP-LOCATIVE 600416>
   Arg 5 (TV:PLIST-KEYWORD): :MARGIN-COMPONENTS

1(FLAVOR:METHOD :REDEFINE-MARGINS DW:MARGIN-MIXIN :BEFORE)0:  (P.C. = 12)
   Arg 0 (SELF): #<HYSTERETIC-TEMPORARY-MOMENTARY-DYNAMIC-WINDOW-RESOURCE Hysteretic Temporary Momentary Dynamic Window Resource 13 6540417 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:MARGIN-MIXIN 174274546>
   Arg 2 (FLAVOR::.GENERIC.): :REDEFINE-MARGINS
   Arg 3 (DW::PLIST): #<DTP-LOCATIVE 600416>

1(FLAVOR:COMBINED :REDEFINE-MARGINS DW:DYNAMIC-WINDOW)0:  (P.C. = 11)
   Arg 0 (SELF): #<HYSTERETIC-TEMPORARY-MOMENTARY-DYNAMIC-WINDOW-RESOURCE Hysteretic Temporary Momentary Dynamic Window Resource 13 6540417 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174274302>
   Arg 2 (FLAVOR::.GENERIC.): :REDEFINE-MARGINS
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<DTP-LOCATIVE 600416>)

1(FLAVOR:METHOD :SET-MARGIN-COMPONENTS DW:MARGIN-MIXIN)0:  (P.C. = 12)
   Arg 0 (SELF): #<HYSTERETIC-TEMPORARY-MOMENTARY-DYNAMIC-WINDOW-RESOURCE Hysteretic Temporary Momentary Dynamic Window Resource 13 6540417 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:MARGIN-MIXIN 174274546>
   Arg 2 (FLAVOR::.GENERIC.): :SET-MARGIN-COMPONENTS
   Arg 3 (DW::NEW-COMPONENTS): ((DW:MARGIN-BORDERS :THICKNESS 2) (DW:MARGIN-WHITE-BORDERS :THICKNESS 2) (DW:MARGIN-SCROLL-BAR :MARGIN :LEFT :VISIBILITY :NORMAL) (DW:MARGIN-SCROLL-BAR :MARGIN :BOTTOM :VISIBILITY :NORMAL) (DW:MARGIN-LABEL :MARGIN :BOTTOM :CENTERED-P T :STRING "Description" :CHARACTER-STYLE (:FIX :BOLD :LARGE)))

1RF:DESCRIBE-IN-MOMENTARY-WINDOW0:  (P.C. = 47)  3(from B:>relatus>rel-7>gnoscere>reference>display)
0   Arg 0 (RF:X): #<PREFERENCE-CONSTRAINT PMSUBJECT-RELATION 105741743>

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (RF:DESCRIBE-IN-MOMENTARY-WINDOW X)

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600212>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600155>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600120>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL20:  (P.C. = 5)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
   Arg 0 (IGNORE): NIL
30-Jun-87 02:18:21-EDT,1179;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jun 87 02:18-EDT
Received: from MARLEY.AI.MIT.EDU (MARLEY.AI.MIT.EDU) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 46805; 30 Jun 87 02:18:51 EDT
Date: Tue, 30 Jun 87 02:18 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: DW:MARGIN-LABEL
To: Bug-Lispm@REAGAN.AI.MIT.EDU
Message-ID: <870630021826.8.JCMA@MARLEY.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI, CPTFONTI

In Symbolics 3640 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 1Relatus Natural Language System0 168.2,
Experimental Reference 6.2, Experimental Jcma 1,
Experimental 2Semantic Inversion0 6.0, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5229, on Lisp Machine Bob Marley:
Warm booted from: Notification Delivery, Chaos background.

The :centered-p t and the :box :outside options do no work correctly wwith
:margin :bottom.

30-Jun-87 19:15:14-EDT,1354;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jun 87 19:15-EDT
Received: from KOALA.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 4252; Tue 30-Jun-87 19:15:22 EDT
Date: Tue, 30 Jun 87 19:15 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: accept-values panes are impossible to refresh
To: BUG-LISPM@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870630191508.9.TIERNEY@KOALA.MIT.EDU>

In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.3, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.0, SPIRE 18.3,
microcode 3600-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
FEP0:>v127-info.flod(55), World load FEP0:>zoo-7-1-f-spire.load.1, on Lisp Machine Koala:

I have a program framework set up with two accept values panes.
Often, [whenever the user types help or the input extends more than one line] the display in that window gets screwed up.
This makes the window impossible to use since there are many lines written over each other.   Using  the key FUNCTION-REFRESH
does not help at all, this merely hides all the mess away from the user.  FUNCTION-REFRESH erases all visible prompts and values 
in the panes.  The mouse still thinks that the values are there, but they are otherwise utterly invisible.
30-Jun-87 20:10:57-EDT,2296;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jun 87 20:10-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 47031; 30 Jun 87 20:11:26 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 185804; 30 Jun 87 20:10:52 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 59824; Tue 30-Jun-87 17:09:55 PDT
Date: Tue, 30 Jun 87 17:09 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: accept-values panes are impossible to refresh
To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870630191508.9.TIERNEY@KOALA.MIT.EDU>
Message-ID: <870630170956.7.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Tue, 30 Jun 87 19:15 EDT
    From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

    In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.3, IP-TCP 52.16,
    7-1-Patches 1.19, Speech Printers 2.0, SPIRE 18.3,
    microcode 3600-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
    FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
    FEP0:>v127-info.flod(55), World load FEP0:>zoo-7-1-f-spire.load.1, on Lisp Machine Koala:

    I have a program framework set up with two accept values panes.
    Often, [whenever the user types help or the input extends more than one line] the display in that window gets screwed up.
    This makes the window impossible to use since there are many lines written over each other.   Using  the key FUNCTION-REFRESH
    does not help at all, this merely hides all the mess away from the user.  FUNCTION-REFRESH erases all visible prompts and values 
    in the panes.  The mouse still thinks that the values are there, but they are otherwise utterly invisible.


Hello,
Is your set-up small enough to send as mail, or do you have
a minimal test-case?  I think I know what you're talking 
about, but need something concrete to play with.  Do you want
a method for re-constructing the garbled values, or have the 
mouse forget the entire history?

-trev


 1-Jul-87 04:19:38-EDT,13207;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 1 Jul 87 04:19-EDT
Received: from Xerox.COM (XEROX.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 61043; 1 Jul 87 04:19:16 EDT
Received: from Semillon.ms by ArpaGateway.ms ; 01 JUL 87 01:18:55 PDT
Date: Wed, 1 Jul 87 01:16 PDT
From: Siskind.pa@Xerox.COM
Subject: this happens when I use format-graph-from-root
To: Bug-LispM@zermatt.lcs.mit.edu
Message-ID: <870701011617.1.SISKIND@IDEFIX.isl.parc.xerox.com>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                          (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI
Line-fold: no

In Symbolics 3650 Genera 7.1, Experimental Ether 3.18, IP-TCP 52.16,
Local-Mods 5.1, SPIRE 18.2, Spire-Local 1.23,
Experimental Prolog-ALR 1.0, Experimental Things 13.0,
Experimental ConLog 21.0, Experimental Remote 2.0,
microcode 3650-FPA-MIC 396, FEP 206, Fep0:>g206-lisp.flod(14),
Fep0:>g206-loaders.flod(14), Fep0:>g206-info.flod(14),
Fep0:>g206-debug.flod(4), Machine serial number 30033, on IDEFIX:



Error: The generic function DW::BOX-CENTER-Y was applied to the argument NIL.
       The argument was not of the correct type.
       The function is implemented by the flavor DW::BOX.
While in the function DW::DRAW-GRAPH-NODE-CONNECTION  (FLAVOR:METHOD DW::REDISPLAY-PIECE-DISPLAY-PHASE DW::REDISPLAY-PIECE-GRAPH :AFTER)  (FLAVOR:COMBINED DW::REDISPLAY-PIECE-DISPLAY-PHASE DW::REDISPLAY-PIECE-GRAPH)

The condition signalled was SYS:UNCLAIMED-MESSAGE

SYS:GENERIC-APPLIED-TO-NON-INSTANCE:  (P.C. = 16)
   Arg 0 (FLAVOR:GENERIC): #<GENERIC-FUNCTION DW::BOX-CENTER-Y 6754271>
   Arg 1 (FLAVOR::OBJECT): NIL
   Rest arg (FLAVOR::ARGUMENTS): NIL

DW::DRAW-GRAPH-NODE-CONNECTION:  (P.C. = 70)
   Arg 0 (STREAM): #<REDISPLAY-HELPER-STREAM 61720446>
   Arg 1 (DW::GRAPH-CONNECTION): (#<REDISPLAY-PIECE-GRAPH-NODE 61742703> #<REDISPLAY-PIECE-GRAPH-NODE 61742642> :VERTICAL :ARROW)

(FLAVOR:METHOD DW::REDISPLAY-PIECE-DISPLAY-PHASE DW::REDISPLAY-PIECE-GRAPH :AFTER):  (P.C. = 13)
   Arg 0 (SELF): #<REDISPLAY-PIECE-GRAPH 61720464>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-PIECE-GRAPH 250342046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDISPLAY-PIECE-DISPLAY-PHASE 6753267>
   Arg 3 (STREAM): #<REDISPLAY-HELPER-STREAM 61720446>

(FLAVOR:COMBINED DW::REDISPLAY-PIECE-DISPLAY-PHASE DW::REDISPLAY-PIECE-GRAPH):  (P.C. = 17)
   Arg 0 (SELF): #<REDISPLAY-PIECE-GRAPH 61720464>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-PIECE-GRAPH 250342046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDISPLAY-PIECE-DISPLAY-PHASE 6753267>
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<REDISPLAY-HELPER-STREAM 61720446>)

DW::REDISPLAY-PIECE-REDISPLAY-OR-DISPLAY:  (P.C. = 24)
   Arg 0 (DW::PIECE): #<REDISPLAY-PIECE-GRAPH 61720464>
   Arg 1 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 61720446>

(FLAVOR:METHOD :DISPLAY-INTERNAL DW::REDISPLAY-HELPER-STREAM):  (P.C. = 227)
   Arg 0 (SELF): #<REDISPLAY-HELPER-STREAM 61720446>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-HELPER-STREAM 250357446>
   Arg 2 (FLAVOR::.GENERIC.): :DISPLAY-INTERNAL
   Arg 3 (DW::DISPLAYER): #<LEXICAL-CLOSURE (:INTERNAL FORMAT-GRAPH-FROM-ROOT 1 FORMATTING-GRAPH) 27232343>
   Arg 4 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 61720446>
   Rest arg: (:PIECE-FLAVOR DW::REDISPLAY-PIECE-GRAPH :PIECE-HOOK #<LEXICAL-CLOSURE (:INTERNAL # 0) 601044>)

(FLAVOR:METHOD :FORMAT-GRAPH-CONTENTS DW::REDISPLAY-HELPER-STREAM):  (P.C. = 25)
   Arg 0 (SELF): #<REDISPLAY-HELPER-STREAM 61720446>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-HELPER-STREAM 250357446>
   Arg 2 (FLAVOR::.GENERIC.): :FORMAT-GRAPH-CONTENTS
   Arg 3 (DW::OPTIONS): (:ORIENTATION :VERTICAL :BALANCE-EVENLY NIL :DEFAULT-DRAWING-MODE :ARROW :ROW-SPACING 40 :WITHIN-ROW-SPACING 20 ...)
   Arg 4 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL FORMAT-GRAPH-FROM-ROOT 1 FORMATTING-GRAPH) 27232343>

(:INTERNAL DW::FORMAT-GRAPH-INTERNAL 0 DW:REDISPLAYER):  (P.C. = 6)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL FORMAT-GRAPH-FROM-ROOT 1 FORMATTING-GRAPH) 27232343> (:ORIENTATION :VERTICAL :BALANCE-EVENLY NIL :DEFAULT-DRAWING-MODE :ARROW :ROW-SPACING 40 :WITHIN-ROW-SPACING 20 ...))
   Arg 1 (IGNORE): NIL
   Arg 2 (STREAM): #<REDISPLAY-HELPER-STREAM 61720446>
   Arg 3 (IGNORE): #<REDISPLAY-PIECE 61720427>

(FLAVOR:METHOD DW::REDISPLAY-PIECE-CALL-DISPLAYER DW::REDISPLAY-PIECE):  (P.C. = 6)
   Arg 0 (SELF): #<REDISPLAY-PIECE 61720427>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-PIECE 250472446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDISPLAY-PIECE-CALL-DISPLAYER 6753227>
   Arg 3 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 61720446>

(FLAVOR:METHOD DW::REDISPLAY-PIECE-CALL-DISPLAYER-FOR-DISPLAY-PHASE DW::REDISPLAY-PIECE):  (P.C. = 4)
   Arg 0 (SELF): #<REDISPLAY-PIECE 61720427>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-PIECE 250472446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDISPLAY-PIECE-CALL-DISPLAYER-FOR-DISPLAY-PHASE 6753527>
   Arg 3 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 61720446>

(FLAVOR:METHOD :DOING-DISPLAY-PHASE DW::REDISPLAY-HELPER-STREAM):  (P.C. = 20)
   Arg 0 (SELF): #<REDISPLAY-HELPER-STREAM 61720446>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-HELPER-STREAM 250357446>
   Arg 2 (FLAVOR::.GENERIC.): :DOING-DISPLAY-PHASE
   Arg 3 (DW::PIECE): #<REDISPLAY-PIECE 61720427>
   Arg 4 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 61720446>

(:INTERNAL (FLAVOR:METHOD DW::REDISPLAY-PIECE-DISPLAY-PHASE DW::REDISPLAY-PIECE) 0 DW:WITH-OUTPUT-AS-PRESENTATION):  (P.C. = 6)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<REDISPLAY-PIECE 61720427> #<Map to flavor DW::REDISPLAY-PIECE 250472446>)
   Arg 1 (STREAM): #<REDISPLAY-HELPER-STREAM 61720446>

(FLAVOR:METHOD :PRESENTATION-OUTPUT-INTERNAL DW:DYNAMIC-WINDOW):  (P.C. = 47)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :PRESENTATION-OUTPUT-INTERNAL
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:WITH-OUTPUT-AS-PRESENTATION) 27327572>
   Arg 4 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 61720446>
   Arg 5 (DW::PRESENTATION-OPTIONS): (:OBJECT #<REDISPLAY-PIECE 61720427> :TYPE DW::REDISPLAY-STRUCTURE)
   --Defaulted args:--
   Arg 6 (DW::NO-END-PRESENTATION-OUTPUT): NIL

(FLAVOR:METHOD :OUTPUT-AS-PRESENTATION DW:DYNAMIC-WINDOW):  (P.C. = 70)  (from SYS:PATCH;SYSTEM-349-222)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :OUTPUT-AS-PRESENTATION
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:WITH-OUTPUT-AS-PRESENTATION) 27327572>
   Arg 4 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 61720446>
   Rest arg (DW::OBJECT-OPTIONS): (:OBJECT #<REDISPLAY-PIECE 61720427> :TYPE DW::REDISPLAY-STRUCTURE)

(FLAVOR:METHOD :OUTPUT-AS-PRESENTATION DW::REDISPLAY-HELPER-STREAM):  (P.C. = 14)  (from SYS:PATCH;SYSTEM-349-18)
   Arg 0 (SELF): #<REDISPLAY-HELPER-STREAM 61720446>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-HELPER-STREAM 250357446>
   Arg 2 (FLAVOR::.GENERIC.): :OUTPUT-AS-PRESENTATION
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:WITH-OUTPUT-AS-PRESENTATION) 27327572>
   Arg 4 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 61720446>
   Rest arg (DW::ARGS): (:OBJECT #<REDISPLAY-PIECE 61720427> :TYPE DW::REDISPLAY-STRUCTURE)

(FLAVOR:METHOD DW::REDISPLAY-PIECE-DISPLAY-PHASE DW::REDISPLAY-PIECE):  (P.C. = 40)  (from SYS:PATCH;SYSTEM-349-18)
   Arg 0: #<REDISPLAY-PIECE 61720427>
   Arg 1: #<Map to flavor DW::REDISPLAY-PIECE 250472446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDISPLAY-PIECE-DISPLAY-PHASE 6753267>
   Arg 3 (STREAM): #<REDISPLAY-HELPER-STREAM 61720446>

(:INTERNAL (FLAVOR:METHOD DW:DO-REDISPLAY DW::REDISPLAY-PIECE) 1 DW::DO-REAL-OUTPUT):  (P.C. = 72)
   Arg 0: #<REDISPLAY-PIECE 61720427>
   Arg 1: #:TERMINAL-IO-SYN-STREAM
   Local 1#<Map to flavor DW::REDISPLAY-PIECE 250472446>

(:INTERNAL (FLAVOR:METHOD DW:DO-REDISPLAY DW::REDISPLAY-PIECE) 2):  (P.C. = 32)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600470>
   Arg 1 (STREAM): #:TERMINAL-IO-SYN-STREAM

(FLAVOR:METHOD :WITH-OUTPUT-TRUNCATION TV:SHEET):  (P.C. = 103)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :WITH-OUTPUT-TRUNCATION
   Arg 3 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600477>
   Arg 4 (TV:XSTREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg (TV:OPTIONS): (:HORIZONTAL T :VERTICAL T)

(FLAVOR:COMBINED :WITH-OUTPUT-TRUNCATION DW:DYNAMIC-WINDOW):  (P.C. = 17)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :WITH-OUTPUT-TRUNCATION
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600477> #:TERMINAL-IO-SYN-STREAM :HORIZONTAL T :VERTICAL T)

DW::WITH-OUTPUT-TRUNCATION-INTERNAL:  (P.C. = 15)
   Arg 0 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 1 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600477>
   Arg 2 (DW::XSTREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg (DW::OPTIONS): (:HORIZONTAL T :VERTICAL T)

(FLAVOR:METHOD DW:DO-REDISPLAY DW::REDISPLAY-PIECE):  (P.C. = 207)  (from SYS:PATCH;SYSTEM-349-107)
   Arg 0 (SELF): #<REDISPLAY-PIECE 61720427>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-PIECE 250472446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW:DO-REDISPLAY 6753177>
   Arg 3 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg: (:TRUNCATE-P T)

DW::FORMAT-GRAPH-INTERNAL:  (P.C. = 36)
   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL FORMAT-GRAPH-FROM-ROOT 1 FORMATTING-GRAPH) 27232343>
   Arg 1 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg: (:ORIENTATION :VERTICAL :BALANCE-EVENLY NIL :DEFAULT-DRAWING-MODE :ARROW :ROW-SPACING 40 :WITHIN-ROW-SPACING 20 ...)

FORMAT-GRAPH-FROM-ROOT:  (P.C. = 137)
   Arg 0 (DW::ROOT-OBJECT): (CONLOG::TRACE-ALL CONLOG::TRACE-NONE CONLOG::PRINT-TABLE CONLOG::MULTI-TABLE-REMOVE! (FLAVOR:METHOD :PRINT-SELF CONLOG::CLAUSE-SET) (FLAVOR:METHOD CONLOG::DOCUMENTATION-STRING CONLOG::CLAUSE-SET) (FLAVOR:METHOD CONLOG::CLAUSES CONLOG::CLAUSE-SET) (FLAVOR:METHOD CONLOG::CLEAR-ALL-CLAUSES! CONLOG::CLAUSE-SET) (FLAVOR:METHOD CONLOG::ADD-CLAUSE! CONLOG::CLAUSE-SET) (FLAVOR:METHOD CONLOG::DELETE-CLAUSE! CONLOG::CLAUSE-SET) ...)
   Arg 1: #<DTP-COMPILED-FUNCTION (:INTERNAL PROGRAM-GRAPH 0) 260572712>
   Arg 2: #<LEXICAL-CLOSURE (:INTERNAL PROGRAM-GRAPH 1) 27232324>
   Rest arg: (:STREAM #:TERMINAL-IO-SYN-STREAM :DONT-DRAW-DUPLICATES T :KEY #<DTP-COMPILED-FUNCTION FDEFINITION 144606345> :TEST #<DTP-COMPILED-FUNCTION EQ 144004667> :ROOT-IS-SEQUENCE T ...)

PROGRAM-GRAPH:  (P.C. = 56)  (from BD:>siskind>lispm>profile)

CP::COMMAND-LOOP-EVAL-FUNCTION:  (P.C. = 25)
   Arg 0 (CP::FORM): (PROGRAM-GRAPH)

(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS):  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

TV:WITH-NOTIFICATION-MODE-INTERNAL:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS):  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

SI:LISP-COMMAND-LOOP:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

SI:LISP-TOP-LEVEL1:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

SI:LISP-TOP-LEVEL-WARM:  (P.C. = 10)
-------
 1-Jul-87 10:47:46-EDT,2883;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 1 Jul 87 10:47-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 61078; 1 Jul 87 10:47:46 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 1 Jul 87 10:48-EDT
Date: Wed, 1 Jul 87 10:47 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: interpreter (and debugger?) bug
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870701104728.2.RWS@KILLINGTON.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

Tried typing (funcall (flet ((stub (name) name)) #'stub) "foo").  This is a
simple reduction of a hairy case that's screwing me.  IWBNI there was a patch
for this release.

I note that (funcall #'(lambda () (funcall (flet ((stub (name) name)) #'stub) "foo"))) works.

I also note that the debugger will let me c-P up from the STUB frame, and shows
two intervening frames SYS:CALL-FUNNY-FUNCTION and SI:APPLY-LAMBDA before the
SIGNAL frame, but that c-N back down skips them, and c-M doesn't include them.
And if I c-N down from STUB, I see FUNCALL, SI:*EVAL* and EVAL frames before
CP::COMMAND-LOOP-EVAL-FUNCTION, and c-P back up also shows them, but c-M
doesn't include them.  Since those frames seemed fairly important in this case
(particularly before I was able to generate a simple failure case, since it
would be nice for you to see the expansion of the macro I was calling), IWBNI I
knew how to make them show up in a bug report.

1Error: The function STUB was called with too few arguments.
0While in the function   STUB

The condition signalled was SYS:TOO-FEW-ARGUMENTS

1SIGNAL0:  (P.C. = 23)
   Arg 0 (SYS:FLAVOR): SYS:TOO-FEW-ARGUMENTS
   Rest arg (DBG:INIT-OPTIONS): (:FUNCTION (SI:DIGESTED-LAMBDA (ZL:NAMED-LAMBDA STUB (NAME) NAME) (STUB) 2305 262401 NIL (NAME) NIL (BLOCK STUB NAME)) :NARGS 0 :PROCEED-TYPES (:ADDITIONAL-ARGUMENTS :VALUES))
   Special SYS:DEFAULT-CONS-AREA: 4

1STUB0:
   Arg 0 (NAME)
2   Extraneous Rest Arg: 0NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (FUNCALL (FLET ((STUB # NAME)) (FUNCTION STUB)) "foo")
 1-Jul-87 11:38:32-EDT,3943;000000000000
Return-Path: <PAO%DEEP-THOUGHT.MIT.EDU@XX.LCS.MIT.EDU>
Received: from XX.LCS.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Wed 1 Jul 87 11:38:24-EDT
Received: from REAGAN.AI.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 1 Jul 87 11:39-EDT
Received: from MACH.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 47103; Wed 1-Jul-87 11:38:34 EDT
Date: Wed, 1 Jul 87 11:38 EDT
From: Patrick A. O'Donnell <PAO@DEEP-THOUGHT.MIT.EDU>
Subject: LSB of (RANDOM float) isn't
To: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
cc: GLR%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU,
    Bug-Lispm%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Numerics@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870629190541.2.GREENWALD@SWALLOW.S4CC.Symbolics.COM>
Message-ID: <870701113817.2.PAO@MACH.AI.MIT.EDU>

    Date: Mon, 29 Jun 87 19:05 EDT
    From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
    
	[...]

    For an exponent of -N the low order N bits are zero, so we only get
    1/2^N of the possible numbers with that exponent.  There are K=2^23
    possible numbers with each exponent.  There are about 127 possible
    exponents between least-positive-single-float and 1.0.  Hmm, but (random
    1.0) will never generate least-positive-single-float, since it gets its
    exponent from trimming zeros off, so we're only interested in 23
    exponents.  So, the total number of possible random numbers for a single
    float argument is:  sum(for i from 1 to 23) of (1/2^i)*K.  Which is
    almost K.  But there are really 23*K single floats expressible between
    (expt 2 -23) and 1.0, so we only cover 1/23 of the possible numbers.
    
    So 22/23 of the possible numbers aren't there.
    
    Does that make sense?
    
No.  You were right the first time.  The implementation produces 2^23
numbers in the interval [1.0, 2.0), with approximately uniform
probability, and with uniform density (all the possible numbers are
2^-23 apart).  Subtracting 1.0 does not change either of these
properties.  There are 127*2^23 possible floating point numbers in the
interval [0.0, 1.0), including denormalized numbers (127 exponents each
with 23 fraction bits).  Thus (RANDOM 1.0) produces 126/127 of the
numbers possible. 

	[...]

    The vast majority of these missing numbers are in "sparse" regions of
    the range, so "they'll never be missed".  What I mean is that even
    though there are twice as many missing numbers with exponent -2 as with
    exponent -1, it is *twice* as likely that a number with exponent -1 will
    be chosen than that a number with exponent -2 will be chosen.
    
    The numbers with 2 missing bits are half as likely to be generated as a
    number with 1 missing bit, and twice as likely as a number with 3
    missing bits.  And so on.  So the expected value of "missing bits per
    number generated by (random 1.0)" is a less than 2 bits.  So the biggest
    pay-off would be to make sure those 2 bits are still random and
    significant.

		[...]

I think it's misleading to talk about "missing bits".  (RANDOM n), where
n is a single float, one of 2^23 possible numbers in the interval [0, n)
with each number having approximate probability 2^-23 (except when n is
a denormalized number).  These numbers are uniformly dense in the
interval, with a nearly constant distance between numbers of
approximately n*2^-23.  These properties are perhaps useful for some
applications.  Another implmentation could, of course, supply more than
2^23 random numbers with non-uniform density while maintaining the
property that P(Random(n)  [a, b)) is approximately (b-a)/n when b-a is
sufficiently large compared to the local density.  Some applications
might find these properties useful.  I don't think it's possible to say
which implmentation produces numbers with more randomness.

		- Pat
 1-Jul-87 11:41:08-EDT,4418;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 1 Jul 87 11:41-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 47104; 1 Jul 87 11:41:34 EDT
Received: from GOLDILOCKS.MIT.EDU (MIT-GOLDILOCKS.ARPA) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 186111; 1 Jul 87 11:39:12 EDT
Received: from SMOKEY.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 4257; Wed 1-Jul-87 11:36:28 EDT
Date: Wed, 1 Jul 87 11:36 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: accept-values panes are impossible to refresh
To: trev@VERMITHRAX.SCH.Symbolics.COM,
    sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870630170956.7.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870701113625.1.TIERNEY@SMOKEY.MIT.EDU>

    Received: by EDDIE.MIT.EDU with sendmail-5.31/4.7 
	    id <AA15168@EDDIE.MIT.EDU>; Tue, 30 Jun 87 20:34:57 EDT
    Received: by ATHENA.MIT.EDU (5.45/4.7)
	    id AA07990; Tue, 30 Jun 87 20:36:40 EDT
    Received: by ACHILLES (5.45/4.7)
	    id AA05517; Tue, 30 Jun 87 20:36:30 EDT
    Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 185804; 30 Jun 87 20:10:52 EDT
    Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 59824; Tue 30-Jun-87 17:09:55 PDT
    Date: Tue, 30 Jun 87 17:09 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
    Subject: accept-values panes are impossible to refresh
    To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
    Cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
	    customer-reports@VERMITHRAX.SCH.Symbolics.COM
    In-Reply-To: <870630191508.9.TIERNEY@KOALA.MIT.EDU>
    Message-Id: <870630170956.7.TREV@CALYPSO.SCH.Symbolics.COM>

	Date: Tue, 30 Jun 87 19:15 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.3, IP-TCP 52.16,
	7-1-Patches 1.19, Speech Printers 2.0, SPIRE 18.3,
	microcode 3600-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
	FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
	FEP0:>v127-info.flod(55), World load FEP0:>zoo-7-1-f-spire.load.1, on Lisp Machine Koala:

	I have a program framework set up with two accept values panes.
	Often, [whenever the user types help or the input extends more than one line] the display in that window gets screwed up.
	This makes the window impossible to use since there are many lines written over each other.   Using  the key FUNCTION-REFRESH
	does not help at all, this merely hides all the mess away from the user.  FUNCTION-REFRESH erases all visible prompts and values 
	in the panes.  The mouse still thinks that the values are there, but they are otherwise utterly invisible.


    Hello,
    Is your set-up small enough to send as mail, or do you have
    a minimal test-case?  I think I know what you're talking 
    about, but need something concrete to play with.  Do you want
    a method for re-constructing the garbled values, or have the 
    mouse forget the entire history?

    -trev


A decent example sits in sys:examples;define-program-framework.lisp
Try this, click on any value in the avv pane and press the help key.
This garbles my screen sufficiently.

Essentially I am looking for some method of reconstructing the garbled
values, so that the user can continue to use these panes as
accept-values panes.

In addition I am looking for a method to set these values under program
control and then have it displayed.  An example of this sort of thing
for the test framework is below.

(define-avv-pane-test-command (default-stuff)
    ()
   (setq half-life (do-some-smart-defaulting))
   (setq log-file #p"au:>tierney>foo.file"))

(defun do-some-smart-defaulting ()
	;; do some funky magical stuff
	;; voila
	678)

This code works if the user invokes the command Default Stuff before
messing around in the avv-pane.  However, if the user has already
entered a value in the avv-pane Default Stuff has no effect.  (I think
something in the redisplay code sets the instance variables to whatever
is displayed)

Thanks 

Sean


 1-Jul-87 12:06:02-EDT,2797;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 1 Jul 87 12:05-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 61115; 1 Jul 87 12:05:59 EDT
Received: from EVENING-GROSBEAK.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 143108; Wed 1-Jul-87 11:35:18 EDT
Date: Wed, 1 Jul 87 11:34 EDT
From: Scott McKay <SWM@SAPSUCKER.SCRC.Symbolics.COM>
Subject: interpreter (and debugger?) bug
To: RWS@ZERMATT.LCS.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870701104728.2.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870701113419.4.SWM@EVENING-GROSBEAK.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 1 Jul 87 10:47 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

    Tried typing (funcall (flet ((stub (name) name)) #'stub) "foo").  This is a
    simple reduction of a hairy case that's screwing me.  IWBNI there was a patch
    for this release.

    I note that (funcall #'(lambda () (funcall (flet ((stub (name) name)) #'stub) "foo"))) works.

    I also note that the debugger will let me c-P up from the STUB frame, and shows
    two intervening frames SYS:CALL-FUNNY-FUNCTION and SI:APPLY-LAMBDA before the
    SIGNAL frame, but that c-N back down skips them, and c-M doesn't include them.
    And if I c-N down from STUB, I see FUNCALL, SI:*EVAL* and EVAL frames before
    CP::COMMAND-LOOP-EVAL-FUNCTION, and c-P back up also shows them, but c-M
    doesn't include them.  Since those frames seemed fairly important in this case
    (particularly before I was able to generate a simple failure case, since it
    would be nice for you to see the expansion of the macro I was calling), IWBNI I
    knew how to make them show up in a bug report.

This all seems to work in the devo system.  I have no idea what is
involved in making a 7.1 patch, but maybe Hornig does.

    1Error: The function STUB was called with too few arguments.
0    While in the function   STUB

    The condition signalled was SYS:TOO-FEW-ARGUMENTS


 3-Jul-87 15:20:13-EDT,3854;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 3 Jul 87 15:20-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 47357; 3 Jul 87 11:14:21 EDT
Received: from GOLDILOCKS.MIT.EDU (MIT-GOLDILOCKS.ARPA) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 187566; 3 Jul 87 11:13:14 EDT
Received: from GRIZZLY.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 4653; Fri 3-Jul-87 11:12:03 EDT
Date: Fri, 3 Jul 87 11:11 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: accept-values panes are impossible to refresh
To: trev@VERMITHRAX.SCH.Symbolics.COM
cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870630170956.7.TREV@CALYPSO.SCH.Symbolics.COM> 
Message-ID: <870703111155.1.TIERNEY@GRIZZLY.MIT.EDU>

I sent this out a couple of days ago, but it seems to have gotten lost in a mailer.

    Date: Tue, 30 Jun 87 17:09 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
    Subject: accept-values panes are impossible to refresh
    To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
    Cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
	    customer-reports@VERMITHRAX.SCH.Symbolics.COM
    In-Reply-To: <870630191508.9.TIERNEY@KOALA.MIT.EDU>
    Message-Id: <870630170956.7.TREV@CALYPSO.SCH.Symbolics.COM>

	Date: Tue, 30 Jun 87 19:15 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.3, IP-TCP 52.16,
	7-1-Patches 1.19, Speech Printers 2.0, SPIRE 18.3,
	microcode 3600-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
	FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
	FEP0:>v127-info.flod(55), World load FEP0:>zoo-7-1-f-spire.load.1, on Lisp Machine Koala:

	I have a program framework set up with two accept values panes.
	Often, [whenever the user types help or the input extends more than one line] the display in that window gets screwed up.
	This makes the window impossible to use since there are many lines written over each other.   Using  the key FUNCTION-REFRESH
	does not help at all, this merely hides all the mess away from the user.  FUNCTION-REFRESH erases all visible prompts and values 
	in the panes.  The mouse still thinks that the values are there, but they are otherwise utterly invisible.


    Hello,
    Is your set-up small enough to send as mail, or do you have
    a minimal test-case?  I think I know what you're talking 
    about, but need something concrete to play with.  Do you want
    a method for re-constructing the garbled values, or have the 
    mouse forget the entire history?

    -trev


A decent example sits in sys:examples;define-program-framework.lisp
Try this, click on any value in the avv pane and press the help key.
This garbles my screen sufficiently.

Essentially I am looking for some method of reconstructing the garbled
values, so that the user can continue to use these panes as
accept-values panes.

In addition I am looking for a method to set these values under program
control and then have it displayed.  An example of this sort of thing
for the test framework is below.

(define-avv-pane-test-command (default-stuff)
    ()
   (setq half-life (do-some-smart-defaulting))
   (setq log-file #p"au:>tierney>foo.file"))

(defun do-some-smart-defaulting ()
	;; do some funky magical stuff
	;; voila
	678)

This code works if the user invokes the command Default Stuff before
messing around in the avv-pane.  However, if the user has already
entered a value in the avv-pane Default Stuff has no effect.  (I think
something in the redisplay code sets the instance variables to whatever
is displayed)

Thanks 

Sean


-------


 4-Jul-87 20:10:13-EDT,1981;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Jul 87 20:10-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 47566; Sat 4-Jul-87 20:10:48 EDT
Date: Sat, 4 Jul 87 20:10 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: File-Position and Append don't get along
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-NFS@REAGAN.AI.MIT.EDU
Message-ID: <870704201058.2.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.0,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:

;;; -*- Syntax: Common-Lisp; Package: USER; Base: 10; Mode: LISP -*-

(defun file-bug (fn)
  (let ((position 0))
    
    ;; write a new file that is 5 characters long and remember its length
    (with-open-file (file fn :direction :output)
      (format file "ABCDE")
      (setq position (file-position file))
      nil)
    
    ;; reopen it in append mode and see where the fileposition is
    (with-open-file (file fn :direction :output :if-exists :append)
      (if (not (= position (file-position file)))
	  (error "File position not right at EOF: is ~d instead of ~d"
		 (file-position file) position)))
    ))

;;; These work (QFile)
(file-bug "OZ:OZ:<glr>foo.bar")
(file-bug "prep:/u/glr/foo.bar")

;;; This doesn't work (NFILE)
;;;   says file position is 45 instead of 5
(file-bug "B:>glr>foo.bar")

;;; This doesn't work (ILA-NFS)
;;;   says file position is 0 instead of 5
(file-bug "WH:/wh/glr/foo.bar") 
 5-Jul-87 10:22:18-EDT,5030;000000000000
Return-Path: <@XX.LCS.MIT.EDU,@DIAMOND.S4CC.Symbolics.COM:Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
Received: from XX.LCS.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Sun 5 Jul 87 10:22:14-EDT
Received: from DIAMOND.S4CC.Symbolics.COM by XX.LCS.MIT.EDU with TCP/SMTP; Sun 5 Jul 87 10:23:06-EDT
Received: from SWALLOW.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 102659; Sun 5-Jul-87 10:21:13 EDT
Date: Sun, 5 Jul 87 10:20 EDT
From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
Subject: LSB of (RANDOM float) isn't
To: PAO@DEEP-THOUGHT.MIT.EDU, Greenwald@STONY-BROOK.SCRC.Symbolics.COM
cc: GLR%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU, Bug-Lispm%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Numerics@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870701113817.2.PAO@MACH.AI.MIT.EDU>
Message-ID: <870705102027.7.GREENWALD@SWALLOW.S4CC.Symbolics.COM>

    Date: Wed, 1 Jul 87 11:38 EDT
    From: Patrick A. O'Donnell <PAO@DEEP-THOUGHT.MIT.EDU>

	Date: Mon, 29 Jun 87 19:05 EDT
	From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
    
	    [...]

	For an exponent of -N the low order N bits are zero, so we only get
	1/2^N of the possible numbers with that exponent.  There are K=2^23
	possible numbers with each exponent.  There are about 127 possible
	exponents between least-positive-single-float and 1.0.  Hmm, but (random
	1.0) will never generate least-positive-single-float, since it gets its
	exponent from trimming zeros off, so we're only interested in 23
	exponents.  So, the total number of possible random numbers for a single
	float argument is:  sum(for i from 1 to 23) of (1/2^i)*K.  Which is
	almost K.  But there are really 23*K single floats expressible between
	(expt 2 -23) and 1.0, so we only cover 1/23 of the possible numbers.
    
	So 22/23 of the possible numbers aren't there.
    
	Does that make sense?
    
    No.  You were right the first time.  The implementation produces 2^23
    numbers in the interval [1.0, 2.0), with approximately uniform
    probability, and with uniform density (all the possible numbers are
    2^-23 apart).  Subtracting 1.0 does not change either of these
    properties.  There are 127*2^23 possible floating point numbers in the
    interval [0.0, 1.0), including denormalized numbers (127 exponents each
    with 23 fraction bits).  Thus (RANDOM 1.0) produces 126/127 of the
    numbers possible. 

Not that it's important, but...

If your reasoning is correct, then (RANDOM 1.0) produces 1/127 of the
numbers possible, not 126/127 (2^23 / (127*2^23)).

But the (trivial) point of my paragraph above was that (RANDOM 1.0)
*really* only produces numbers in the interval 
{1.0 U [(1.0 + 2^-23), 2.0)},
rather than [1.0, 2.0), so that when you subtract 1.0, there are only 23
possible exponents; so 1/23 of the representable numbers are produced,
rather than 1/127.

	    [...]

	The vast majority of these missing numbers are in "sparse" regions of
	the range, so "they'll never be missed".  What I mean is that even
	though there are twice as many missing numbers with exponent -2 as with
	exponent -1, it is *twice* as likely that a number with exponent -1 will
	be chosen than that a number with exponent -2 will be chosen.
    
	The numbers with 2 missing bits are half as likely to be generated as a
	number with 1 missing bit, and twice as likely as a number with 3
	missing bits.  And so on.  So the expected value of "missing bits per
	number generated by (random 1.0)" is a less than 2 bits.  So the biggest
	pay-off would be to make sure those 2 bits are still random and
	significant.

		    [...]

    I think it's misleading to talk about "missing bits".  (RANDOM n), where
    n is a single float, one of 2^23 possible numbers in the interval [0, n)
    with each number having approximate probability 2^-23 (except when n is
    a denormalized number).  These numbers are uniformly dense in the
    interval, with a nearly constant distance between numbers of
    approximately n*2^-23.  These properties are perhaps useful for some
    applications.  Another implmentation could, of course, supply more than
    2^23 random numbers with non-uniform density while maintaining the
    property that P(Random(n)  [a, b)) is approximately (b-a)/n when b-a is
    sufficiently large compared to the local density.  Some applications
    might find these properties useful.  I don't think it's possible to say
    which implmentation produces numbers with more randomness.

True.  I don't know what "more randomness" means in this context.  But,
I think GLR was pointing out that we can increase the cardinality of
the range of RANDOM, and the precision of the numbers returned.
Although it doesn't "increase the randomness", it's hard to argue that
GLR's suggested behavior isn't an improvement.  Since the cost of
improving RANDOM is negligible, why not do it?

		    - Pat


 5-Jul-87 21:27:33-EDT,3268;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Jul 87 21:27-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 47613; Sun 5-Jul-87 21:28:10 EDT
Date: Sun, 5 Jul 87 21:28 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: File-Position and Append don't get along
To: GLR@OZ.AI.MIT.EDU
cc: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-NFS@REAGAN.AI.MIT.EDU
In-Reply-To: The message of 4 Jul 87 20:10 EDT from Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Message-ID: <870705212816.9.CJL@OTIS.AI.MIT.EDU>

    Date: Sat, 4 Jul 87 20:10 EDT
    From: Jerry Roylance <GLR@OZ>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.0,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30088,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:

    ;;; -*- Syntax: Common-Lisp; Package: USER; Base: 10; Mode: LISP -*-

    (defun file-bug (fn)
      (let ((position 0))
    
	;; write a new file that is 5 characters long and remember its length
	(with-open-file (file fn :direction :output)
	  (format file "ABCDE")
	  (setq position (file-position file))
	  nil)
    
	;; reopen it in append mode and see where the fileposition is
	(with-open-file (file fn :direction :output :if-exists :append)
	  (if (not (= position (file-position file)))
	      (error "File position not right at EOF: is ~d instead of ~d"
		     (file-position file) position)))
	))

    ;;; These work (QFile)
    (file-bug "OZ:OZ:<glr>foo.bar")
    (file-bug "prep:/u/glr/foo.bar")

    ;;; This doesn't work (NFILE)
    ;;;   says file position is 45 instead of 5
    (file-bug "B:>glr>foo.bar")

    ;;; This doesn't work (ILA-NFS)
    ;;;   says file position is 0 instead of 5
    (file-bug "WH:/wh/glr/foo.bar") 

Well, I fixed a bug in NFS to get the file-position to be 45 instead of 0 (so
now it's just like NFILE). The 45 problem seems to be that
INDIRECT-ESCAPE-OUTPUT-STREAM, when opening an existing file in :append mode,
before any characters are output, writes to the file the 40-character string
"D,#TD1PsT[Begin using 006 escapes]". (I wonder whether ZMAIL will be
able to handle having that string in mail files without blowing up. This will
be a test, I guess.)  This looks to me like character-style-hacking stuff. It
seems to me that this character-style-hacking prelude isn't called for here,
as no characters have even been output yet, let alone any characters with
special character styles.

Anyway, It's my understanding that file-position isn't supposed to be
guaranteed to do anything reasonable for character files, but I think its a
good idea to try.  I know that GLR will never use character styles, and yet
here he is paying the price for them anyway.  This doesn't seem in the spirit
of this extension to characters.


 7-Jul-87 10:45:22-EDT,4254;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 7 Jul 87 10:45-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 47820; 7 Jul 87 10:46:01 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 188901; 7 Jul 87 10:33:31 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 60955; Tue 7-Jul-87 07:32:32 PDT
Date: Tue, 7 Jul 87 07:32 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: accept-values panes are impossible to refresh
To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870703111155.1.TIERNEY@GRIZZLY.MIT.EDU>
Message-ID: <870707073227.3.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Fri, 3 Jul 87 11:11 EDT
    From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	    I have a program framework set up with two accept values panes.
	    Often, [whenever the user types help or the input extends more than one line] the display in that window gets screwed up.
	    This makes the window impossible to use since there are many lines written over each other.   Using  the key FUNCTION-REFRESH
	    does not help at all, this merely hides all the mess away from the user.  FUNCTION-REFRESH erases all visible prompts and values 
	    in the panes.  The mouse still thinks that the values are there, but they are otherwise utterly invisible.


	Hello,
	Is your set-up small enough to send as mail, or do you have
	a minimal test-case?  I think I know what you're talking 
	about, but need something concrete to play with.  Do you want
	a method for re-constructing the garbled values, or have the 
	mouse forget the entire history?

	-trev


    A decent example sits in sys:examples;define-program-framework.lisp
    Try this, click on any value in the avv pane and press the help key.
    This garbles my screen sufficiently.

Here's the redisplay function as it appears in the next release...it cleans
things up a lot.

;;; -*- Mode: LISP; Syntax: Common-lisp; Package: DW; Base: 10; Lowercase: Yes -*-

(defun make-accept-values-pane-redisplay-function (accept-values-function)
  (let ((accept-values-stream nil)
	(displayer nil))
    (lambda (program stream)
      (when (or (null displayer)
     (let ((presentation (redisplay-piece-displayed-presentation displayer)))
       (and presentation
	    (not (find presentation (send stream :displayed-presentations))))))

	(setq displayer (redisplayer (stream)
			  (funcall accept-values-function program stream))))
      (when (null accept-values-stream)
	(setq accept-values-stream (make-instance 'accept-values-stream)))
      (unless (eq (accept-values-stream-stream accept-values-stream) stream)
	(send accept-values-stream :initialize stream))
      (do-redisplay displayer accept-values-stream))))


    Essentially I am looking for some method of reconstructing the garbled
    values, so that the user can continue to use these panes as
    accept-values panes.

    In addition I am looking for a method to set these values under program
    control and then have it displayed.  An example of this sort of thing
    for the test framework is below.

    (define-avv-pane-test-command (default-stuff)
	()
       (setq half-life (do-some-smart-defaulting))
       (setq log-file #p"au:>tierney>foo.file"))

    (defun do-some-smart-defaulting ()
	    ;; do some funky magical stuff
	    ;; voila
	    678)

This is a little harder; it involves redefining several functions.
It's already been re-written for the development world, if that's
any consolation.

    This code works if the user invokes the command Default Stuff before
    messing around in the avv-pane.  However, if the user has already
    entered a value in the avv-pane Default Stuff has no effect.  (I think
    something in the redisplay code sets the instance variables to whatever
    is displayed)

    Thanks 

    Sean


    -------





 7-Jul-87 13:12:03-EDT,1397;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 7 Jul 87 13:11-EDT
Received: from SLUGGO.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 47845; Tue 7-Jul-87 13:12:30 EDT
Date: Tue, 7 Jul 87 13:12 EDT
From: Patrick A. O'Donnell <PAO@DEEP-THOUGHT.MIT.EDU>
Subject: CL:WARN calls ZL:FORMAT
To: Customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870707131233.3.PAO@SLUGGO.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30086,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Mr. Sluggo:

1(warn "This number is not right: '~4,'0X'" 1234)
0Warning: This number is not right: '    '

1(format nil "This number is not right: '~4,'0X'" 1234)
0"This number is not right: '04D2'"

1(zl:format nil "This number is not right: '~4,'0X'" 1234)
0"This number is not right: '    '"

		- Pat
 7-Jul-87 13:41:44-EDT,46339;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 7 Jul 87 13:41-EDT
Received: from FLUTE.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 61897; Tue 7-Jul-87 13:41:48 EDT
Date: Tue, 7 Jul 87 13:41 EDT
From: Laura Bagnall <LAURA@VX.LCS.MIT.EDU>
Subject: specifying alternate style to LGP2 blows out
To: Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870707134131.1.LAURA@FLUTE.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Multilisp 14.0,
Experimental Multilisp Compiler 7, Experimental Bounce 1,
Experimental LUNIX 1, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Machine serial number 4597,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Flute:

In attempting to hardcopy a file to a LGP2 printer while specifying an
alternate font, I typed the following:

:Hardcopy File VX:/usr/laura/people Pulp :Body Character Style fix.

 I got as far as typing the period after "fix" when it blew out.  The
same incantation works fine on an Impress printer (Charmin).

1Error: The value of (FIRST SPEC) in SI:GET-FONT, "Times-Bold", was of the wrong type.
       The function expected one of :STYLE or :FONT.
0While in the function SI:GET-FONT  DW::CHARACTER-STYLE-VALID?  (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)

The condition signalled was DBG:WRONG-TYPE-DATUM

1SI:GET-FONT0:  (P.C. = 214)  2(from SYS:PATCH;SYSTEM-349-243)
0   Arg 0 (SI:DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 1 (SI:CHARACTER-SET): NIL
   Local 1 (SI:CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>
   Arg 2 (SI:STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 3 (SI:ERROR-P): NIL
   Arg 4 (SI:INQUIRY-ONLY): T
   Local 5: #<DTP-LOCATIVE 606061>
   Local 6: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 0 SI:RECURSE) 145563702>
   Local 7: #<DTP-LOCATIVE 606061>
   Local 8: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 2) 145563666>
   Local 9: #<DTP-LOCATIVE 606061>
   Local 10: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 4) 145563655>
   Local 11 (SI:.RECURSE-FUNCTION-CELL.): #<LEXICAL-CLOSURE (:INTERNAL SI:GET-FONT 0 SI:RECURSE) 606066>
   Local 12 (SI:SPEC): ("Times-Bold" "" 10.5 1.11)
   Local 13: "Times-Bold"

1DW::CHARACTER-STYLE-VALID?0:  (P.C. = 114)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (DW::STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 1 (DW::AGAINST-DEFAULT): NIL
   Arg 2 (DW::DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>

1(:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL # 1) 25731364> #<LGP2-DISPLAY-DEVICE 120212277> #<ART-BOOLEAN-16 20000347> NIL)
   Arg 1 (DW::DISPLAY-DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 2 (DW::CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>
   Arg 3 (CHARACTER-STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 4 (DW::TRANSLATION): ("Times-Bold" "" 10.5 1.11)

1(:INTERNAL (:INTERNAL (FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE) 0 SI:DOIT) 0 MAPHASH)0:  (P.C. = 13)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((#<LGP2-DISPLAY-DEVICE 120212277> #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 25731372>) #<STANDARD-CHARACTER-SET 120007637>)
   Arg 1 (CHARACTER-STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 2 (SI:TRANSLATION): ("Times-Bold" "" 10.5 1.11)

1(FLAVOR:METHOD CLI::INTERNAL-MAPHASH CLI::ARRAY-TABLE-MIXIN)0:  (P.C. = 75)  2(from SYS:PATCH;SYSTEM-349-234)
0   Arg 0 (SELF): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CLI::ARRAY-TABLE-MIXIN 250327471>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CLI::INTERNAL-MAPHASH 6700615>
   Arg 3 (CLI::INT-REPRESENTATION): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 111 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 167 :ENTRIES-PER-BUCKET 1 :GROWTH-FACTOR ...)
   Arg 4 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0 MAPHASH) 324000160>
   Arg 5 (CLI::RESULT-TYPE): NIL
   Rest arg (CLI::ARGS): NIL

1(FLAVOR:METHOD MAPHASH CLI::BASIC-TABLE)0:  (P.C. = 6)
   Arg 0 (SELF): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>
   Arg 1 (SYS:SELF-MAPPING-TABLE): CLI::BASIC-TABLE
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION MAPHASH 6700535>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0 MAPHASH) 324000160>

1(:INTERNAL (FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE) 0 SI:DOIT)0:  (P.C. = 20)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 324000240>)
   Arg 1: #<STANDARD-CHARACTER-SET 120007637>
   Arg 2 (SI:TABLE): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>

1(FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE)0:  (P.C. = 25)  2(from SYS:PATCH;SYSTEM-349-243)
0   Arg 0: #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:DISPLAY-DEVICE 254024452>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS 6717337>
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 324000240>
   Arg 4 (SI:LIMITED-TO-CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>

1SI:MAP-OVER-CHARACTER-STYLE-TRANSLATIONS0:  (P.C. = 20)
   Arg 0 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 324000240>
   Rest arg: (:DISPLAY-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :CHARACTER-SET #<STANDARD-CHARACTER-SET 120007637>)

1DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES0:  (P.C. = 100)
   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL # 1) 324000271>
   Rest arg: (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL)

1(:INTERNAL (:INTERNAL (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 1) 0)0:  (P.C. = 35)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> NIL NIL)
   Arg 1 (DW::.STRING.): "fix"
   Arg 2: #<LEXICAL-CLOSURE (:INTERNAL DW::COMPLETE-STRING-INTERNAL 0) 605537>

1DW::COMPLETE-STRING-INTERNAL0:  (P.C. = 102)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STRING): "fix"
   Arg 1 (DW::DELIMITERS): "- "
   Arg 2 (DW::POSSIBILITY-GENERATOR): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324010451>
   Arg 3 (DW::ACTION): :COMPLETE

1DW::SUGGESTION-COMPLETER-INTERNAL0:  (P.C. = 26)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STRING): "fix"
   Arg 1 (DW::GENERATOR): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324010451>
   Rest arg: (:ACTION :COMPLETE)

1(:INTERNAL (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 1)0:  (P.C. = 11)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> NIL NIL)
   Arg 1 (DW::.STRING.): "fix"
   Arg 2 (DW::.ACTION.): :COMPLETE

1DW:COMPLETE-INPUT0:  (P.C. = 1101)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: #<LEXICAL-CLOSURE (:INTERNAL # 1) 324003420>
   Rest arg: (:TYPE ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) :INITIALLY-DISPLAY-POSSIBILITIES NIL)

1(DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER)0:  (P.C. = 120)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 2 (DW::ORIGINAL-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 3 (IGNORE): NIL
   Arg 4 (DW::INITIALLY-DISPLAY-POSSIBILITIES): NIL

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 605001>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 605116>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 605124>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 605011>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 604511>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 152212447>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 604526> NIL #<DTP-LOCATIVE 604631>) (DW::CHARACTER-STYLE-FAMILY #<LGP2-DISPLAY-DEVICE 120212277> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324021032>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 604526> NIL #<DTP-LOCATIVE 604631>)
   Arg 1: (DW::CHARACTER-STYLE-FAMILY #<LGP2-DISPLAY-DEVICE 120212277> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::KEY-GENERATOR)0:  (P.C. = 52)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324021062>
   Arg 1: DW::CHARACTER-STYLE-FAMILY
   Rest arg: (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR DW::CHARACTER-STYLE-FAMILY 7103060>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324021062>
   Arg 4 (DW::TYPE-NAME): DW::CHARACTER-STYLE-FAMILY
   Rest arg (DW::DATA-ARGS): (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 604526>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL ...)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1DW::READ-CHARACTER-STYLE-COMPONENT0:  (P.C. = 30)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW::COMPONENT-DEFAULT): NIL
   Arg 2 (DW::PROVIDE-DEFAULT): NIL
   Arg 3 (DW::DOT-P): T
   Arg 4 (DW::P-T-NAME): DW::CHARACTER-STYLE-FAMILY
   Rest arg (DW::P-T-DATA-ARGS): (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1(:INTERNAL (DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER) 2 DW::READ-CHARACTER-STYLE)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> NIL #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> NIL NIL 63 NIL NIL NIL ...)

1(DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER)0:  (P.C. = 343)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 2 (IGNORE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 3: NIL
   Rest arg (IGNORE): (NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 604012>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 604127>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 604135>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 604022>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 603520>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER) 152212714>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603535> NIL #<DTP-LOCATIVE 603640>) (CHARACTER-STYLE-FOR-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324021046>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603535> NIL #<DTP-LOCATIVE 603640>)
   Arg 1: (CHARACTER-STYLE-FOR-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::KEY-GENERATOR)0:  (P.C. = 64)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324021042>
   Arg 1: CHARACTER-STYLE-FOR-DEVICE
   Rest arg: (:ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CHARACTER-STYLE-FOR-DEVICE 7102464>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324021042>
   Arg 4 (DW::TYPE-NAME): CHARACTER-STYLE-FOR-DEVICE
   Rest arg (DW::DATA-ARGS): (:ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603535>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE ...)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL)

1CP::NORMAL-ARG-PARSER0:  (P.C. = 320)
   Arg 0 (CP::PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (CP::KEYWORD-ARGS): (:CLASS :KEYWORD-VALUE :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL :DOCUMENTATION "Character style in which to print contents of file")
   Local 1 (CP::KEYWORD-ARGS): (:QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL)
   Special DBG:*BOUND-HANDLERS*: (#<CASE-HANDLER 120033550> #<LEXICAL-CLOSURE (:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 4) 603233> #<LEXICAL-CLOSURE (:INTERNAL # 6) 601254> #<CASE-HANDLER 120032607>)

1(:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 2 CP::PARSER)0:  (P.C. = 6)
   Arg 0 (CP::PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (CP::ARGS): (:CLASS :KEYWORD-VALUE :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL :DOCUMENTATION "Character style in which to print contents of file")

1(:INTERNAL (CP::COMMAND-PARSER HCI::COM-HARDCOPY-FILE) 0 CP:READ-COMMAND-ARGUMENT)0:  (P.C. = 34)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 603270>
   Arg 1 (CP::PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (CP::OPTIONS): (:CLASS :KEYWORD-VALUE :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL :DOCUMENTATION "Character style in which to print contents of file")

1(:INTERNAL (CP::COMMAND-PARSER HCI::COM-HARDCOPY-FILE) 1 CP::KEYWORD-PARSER)0:  (P.C. = 6)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((:BODY-CHARACTER-STYLE) #<LEXICAL-CLOSURE (:INTERNAL # 0 CP:READ-COMMAND-ARGUMENT) 603272>)
   Arg 1 (CP::PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (CP::ARGS): (:CLASS :KEYWORD-VALUE :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL :DOCUMENTATION "Character style in which to print contents of file")

1(CP::COMMAND-PARSER HCI::COM-HARDCOPY-FILE)0:  (P.C. = 211)  2(from SYS:7-1-PATCHES;PATCH;7-1-PATCHES-1-9)
0   Arg 0 (CP::ARGUMENT-PARSER): #<DTP-COMPILED-FUNCTION (:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 2 CP::PARSER) 147131705>

1CP::PARSE-COMMAND-ARGUMENTS0:  (P.C. = 107)
   Arg 0 (CP:COMMAND-NAME): HCI::COM-HARDCOPY-FILE
   Arg 1: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1(DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::PARSER)0:  (P.C. = 160)  2(from SYS:PATCH;SYSTEM-349-50)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg (IGNORE): (((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602646>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602763>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 602771>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 602656>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602356>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::PARSER) 152214613>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602373> NIL #<DTP-LOCATIVE 602476>) (CP::COMMAND-ARGUMENTS HCI::COM-HARDCOPY-FILE #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): (:WAIT-FOR-ACTIVATION T)

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324016702>
   Arg 1 (DW::KEY): (:WAIT-FOR-ACTIVATION T)

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602373> NIL #<DTP-LOCATIVE 602476>)
   Arg 1: (CP::COMMAND-ARGUMENTS HCI::COM-HARDCOPY-FILE #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::KEY-GENERATOR)0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-50)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324016676>
   Arg 1: CP::COMMAND-ARGUMENTS
   Rest arg: (:COMMAND-NAME HCI::COM-HARDCOPY-FILE)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP::COMMAND-ARGUMENTS 7104160>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324016676>
   Arg 4 (DW::TYPE-NAME): CP::COMMAND-ARGUMENTS
   Rest arg (DW::DATA-ARGS): (:COMMAND-NAME HCI::COM-HARDCOPY-FILE)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602373>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1(DW::PRESENTATION-FUNCTION CP:COMMAND DW::PARSER)0:  (P.C. = 305)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (IGNORE): (((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 601723>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602040>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 602046>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 601733>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 601437>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND DW::PARSER) 152214143>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601454> NIL #<DTP-LOCATIVE 601557>) (CP:COMMAND #<COMMAND-TABLE User 120216052>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324012115>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601454> NIL #<DTP-LOCATIVE 601557>)
   Arg 1: (CP:COMMAND #<COMMAND-TABLE User 120216052>)

1(DW::PRESENTATION-FUNCTION CP:COMMAND DW::KEY-GENERATOR)0:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324012111>
   Arg 1 (CP::TYPE-NAME): CP:COMMAND
   Rest arg: (:COMMAND-TABLE #<COMMAND-TABLE User 120216052>)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP:COMMAND 7104334>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324012111>
   Arg 4 (DW::TYPE-NAME): CP:COMMAND
   Rest arg (DW::DATA-ARGS): (:COMMAND-TABLE #<COMMAND-TABLE User 120216052>)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601454>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1(DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::PARSER)0:  (P.C. = 152)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (IGNORE): (((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600625>

1(DEFUN-IN-FLAVOR SI:INPUT-EDITOR-READ SI:INTERACTIVE-STREAM)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>
   Arg 3 (SI:READ-ARGS): NIL

1(FLAVOR:METHOD :INPUT-EDITOR SI:INTERACTIVE-STREAM)0:  (P.C. = 160)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Arg 3 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>
   Rest arg (SI:READ-ARGS): NIL

1(:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>)

1(FLAVOR:WHOPPER :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0) 147371366>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (DW::ARGS): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>)

1(FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>)

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 220)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600742>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600750>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600335>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::PARSER) 152215515>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600352> NIL #<DTP-LOCATIVE 600455>) (CP:COMMAND-OR-FORM #<COMMAND-TABLE User 120216052> :FORM-PREFERRED))
   Arg 1 (DW::PRKEY): (:ENVIRONMENT NIL)

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324010045>
   Arg 1 (DW::KEY): (:ENVIRONMENT NIL)

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600352> NIL #<DTP-LOCATIVE 600455>)
   Arg 1: (CP:COMMAND-OR-FORM #<COMMAND-TABLE User 120216052> :FORM-PREFERRED)

1(DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::KEY-GENERATOR)0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324010041>
   Arg 1: CP:COMMAND-OR-FORM
   Rest arg: (:COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP:COMMAND-OR-FORM 7106204>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324010041>
   Arg 4 (DW::TYPE-NAME): CP:COMMAND-OR-FORM
   Rest arg (DW::DATA-ARGS): (:COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600352>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454> :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM ...)
<<Error printing frame's specials>>
1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454> :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454> :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454> :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1CP:READ-COMMAND-OR-FORM0:  (P.C. = 225)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg: (:DISPATCH-MODE :FORM-PREFERRED :BLANK-LINE-MODE :REPROMPT :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454>)

1CP::COMMAND-LOOP-READ-FUNCTION0:  (P.C. = 13)

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)

   Special SI:*UNDEFINED-CHARACTER-STYLE*: #<CHARACTER-STYLE STANDIN-FOR-UNDEFINED-STYLES.ROMAN.NORMAL 110607015>
 7-Jul-87 15:03:59-EDT,2234;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 7 Jul 87 15:03-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 47871; 7 Jul 87 15:04:39 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 189187; 7 Jul 87 15:04:10 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 61062; Tue 7-Jul-87 12:02:46 PDT
Date: Tue, 7 Jul 87 12:02 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: CL:WARN calls ZL:FORMAT
To: PAO%DEEP-THOUGHT.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870707131233.3.PAO@SLUGGO.AI.MIT.EDU>
Message-ID: <870707120244.7.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

    Date: Tue, 7 Jul 87 13:12 EDT
    From: Patrick A. O'Donnell <PAO@DEEP-THOUGHT.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
    FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30086,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Mr. Sluggo:

    1(warn "This number is not right: '~4,'0X'" 1234)
0    Warning: This number is not right: '    '

    1(format nil "This number is not right: '~4,'0X'" 1234)
0    "This number is not right: '04D2'"

    1(zl:format nil "This number is not right: '~4,'0X'" 1234)
0    "This number is not right: '    '"

		    - Pat


Correct; COMPILER:WARN does double-duty as CL:WARN.  Do
you have the source code for this (>SYS>SYS2>CWARNS.lisp)?
It's supposed to be done right in the next release.

-trev


 7-Jul-87 15:33:00-EDT,3890;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 7 Jul 87 15:32-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 47875; 7 Jul 87 15:33:07 EDT
Received: from GOLDILOCKS.MIT.EDU (MIT-GOLDILOCKS.ARPA) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 189222; 7 Jul 87 15:32:25 EDT
Received: from PANDA.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 5008; Tue 7-Jul-87 15:01:20 EDT
Date: Tue, 7 Jul 87 15:00 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: accept-values panes are impossible to refresh
To: trev@VERMITHRAX.SCH.Symbolics.COM
cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870707073227.3.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870707150045.1.TIERNEY@PANDA.MIT.EDU>

    Received: by EDDIE.MIT.EDU with sendmail-5.31/4.7 
	    id <AA18679@EDDIE.MIT.EDU>; Tue, 7 Jul 87 10:54:39 EDT
    Received: by ATHENA.MIT.EDU (5.45/4.7)
	    id AA27045; Tue, 7 Jul 87 10:55:25 EDT
    Received: by ACHILLES (5.45/4.7)
	    id AA21211; Tue, 7 Jul 87 10:55:44 EDT
    Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 188901; 7 Jul 87 10:33:31 EDT
    Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 60955; Tue 7-Jul-87 07:32:32 PDT
    Date: Tue, 7 Jul 87 07:32 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
    Subject: accept-values panes are impossible to refresh
    To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
    Cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
	    customer-reports@VERMITHRAX.SCH.Symbolics.COM
    In-Reply-To: <870703111155.1.TIERNEY@GRIZZLY.MIT.EDU>
    Message-Id: <870707073227.3.TREV@CALYPSO.SCH.Symbolics.COM>

	Date: Fri, 3 Jul 87 11:11 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	[...]


    Here's the redisplay function as it appears in the next release...it cleans
    things up a lot.

    ;;; -*- Mode: LISP; Syntax: Common-lisp; Package: DW; Base: 10; Lowercase: Yes -*-

    (defun make-accept-values-pane-redisplay-function (accept-values-function)
      (let ((accept-values-stream nil)
	    (displayer nil))
	(lambda (program stream)
	  (when (or (null displayer)
	 (let ((presentation (redisplay-piece-displayed-presentation displayer)))
	   (and presentation
		(not (find presentation (send stream :displayed-presentations))))))

	    (setq displayer (redisplayer (stream)
			      (funcall accept-values-function program stream))))
	  (when (null accept-values-stream)
	    (setq accept-values-stream (make-instance 'accept-values-stream)))
	  (unless (eq (accept-values-stream-stream accept-values-stream) stream)
	    (send accept-values-stream :initialize stream))
	  (do-redisplay displayer accept-values-stream))))

Thanks, this works somewhat.  Unfortunately, function-refresh causes all
the prompts to be printed in parentheses.  This can be remedied by
writing a refresh command such as:

(define-avv-pane-test-command (com-refresh-avv)
    ()
   (send dw:*program-frame* :redisplay-pane 'avv t))

This is not the "right" way for things to happen, but seems to
be workable, as long as the user does not often screw up the display.

While I'm on a roll, when the user presses the help key, the window
seems to clear several lines (it seems to always be 4).  The help
message is then written.
Unfortunately, if there is any information on a line > 5 lines away then
that info is written over.  When the user is done entering some value,
only the top four lines are partially redisplayed.  Characters are
written, but kruft at the end of the line remains.


 8-Jul-87 00:25:11-EDT,4737;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 00:25-EDT
Received: from INTERLAKEN.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 62035; Wed 8-Jul-87 00:20:20 EDT
Date: Wed, 8 Jul 87 00:20 EDT
From: Peng Wu <pwu@HT.AI.MIT.EDU>
To: BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870708002013.1.PWU@INTERLAKEN.LCS.MIT.EDU>

In Symbolics 3600 Release 6.1, IP-TCP 29.13, Release-6-7 6.0,
6-1-Patches 1.27, MAC 3.0, Macsyma 318.23, Illustrate 10.20,
Experimental X-Window-System 42.0, microcode TMC5-IO4-COL-MIC 353,
FEP 127, fep0:>v127-lisp.flod(55), fep0:>v127-loaders.flod(55),
fep0:>v127-info.flod(55), fep0:>v127-rdbg.flod(1),
fep0:>v127-lcons.flod(1), fep0:>v127-tests.flod(55),
fep0:>v127-rel7.flod(55), fep0:>v127-disk.flod(34),
fep0:>v127-debug.flod(34), Basic TeX, Starlisp-simulator-F9, on Interlaken:

Problem apeared when I use zwei:find-file to load file into zmacs
buffers.

>>Trap: The variable ZWEI:*TYPEIN-WINDOW* is unbound.
While in the function ZWEI:TYPEIN-LINE  (:DEFUN-METHOD ZWEI:REVERT-FROM-STREAM)  (:METHOD
                                                                                    ZWEI:FILE-BUFFER-MIXIN
                                                                                    :REVERT)

ZWEI:TYPEIN-LINE:  (P.C. = 2)
   Arg 0 (STRING): "Reading ~A "
   Rest arg (ARGS): (#<UNIX42-PATHNAME "HT: //u//pwu//ms//proposal//testcon-abstract.text">)

(:DEFUN-METHOD ZWEI:REVERT-FROM-STREAM):  (P.C. = 10)  (from SYS: REL-6-7; REL-7-FILES)
   Arg 0 (SELF): #<FILE-BUFFER "testcon-abstract.text //u//pwu//ms//proposal// HT:" 116400611>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:FILE-BUFFER-MIXIN -- 9. IV's, 0. FL's 170424075>
   Arg 2 (ZWEI:STREAM): #<FTP-STREAM-MODE-CHARACTER-INPUT-STREAM "HT: //u//pwu//ms//proposal//testcon-abstract.text" 17145025>

(:METHOD ZWEI:FILE-BUFFER-MIXIN :REVERT):  (P.C. = 114)
   Arg 0 (SELF): #<FILE-BUFFER "testcon-abstract.text //u//pwu//ms//proposal// HT:" 116400611>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:FILE-BUFFER-MIXIN -- 9. IV's, 0. FL's 170424075>
   Arg 2 (SI:OPERATION): :REVERT

(:METHOD ZWEI:FILE-BUFFER :COMBINED :REVERT):  (P.C. = 11)  (from B:>pwu>lispm-r6>outline-mode)
   Arg 0 (SELF): #<FILE-BUFFER "testcon-abstract.text //u//pwu//ms//proposal// HT:" 116400611>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:FILE-BUFFER -- 3. IV's, 2. FL's 170424113>
   Arg 2 (SI:.OPERATION.): :REVERT
   Rest arg (SI:.DAEMON-CALLER-ARGS.): NIL

ZWEI:FIND-FILE:  (P.C. = 155)
   Arg 0 (ZWEI:PATHNAME): "ht://u//pwu//ms//proposal//testcon-abstract.text"
   Local 0 (ZWEI:PATHNAME): #<UNIX42-PATHNAME "HT: //u//pwu//ms//proposal//testcon-abstract.text">
   Arg 1 (ZWEI:SELECT-P): NIL

(LAMBDA (USER:FILE #:G0620)
  (PROG ()
   SI:NEXT-LOOP (AND ** **) 
        (SETQ USER:FILE **) 
        (SETQ #:G0620 **) ...)):
   Arg 0 (USER:FILE): (NIL NIL NIL NIL NIL NIL NIL)
   Arg 1 (#:G0620): NIL
   --Extraneous args:--
   Arg 2: ("ht://u//pwu//ms//proposal//testcon-abstract.text"
           "ht://u//pwu//ms//proposal//testcon-outline2.text"
           "ht://u//pwu//ms//proposal//testcon-outline1.text"
           "ht://u//pwu//ms//thesis//oral//oral-slides.tex"
           "ht://u//pwu//ms//thesis//oral//oral-slides.bak4"
           "ht://u//pwu//ms//thesis//oral//oral.outline"
           "ht://u//pwu//ms//thesis//testcon//itc.tex"
           "ht://u//pwu//ms//thesis//testcon//testcon-outline.text"
           "ht://u//pwu//ms//thesis//testcon//section-dft.tex"
           "ht://u//pwu//ms//thesis//testcon//outline" ...)

USER:LOAD-THESIS:  (from B:>pwu>lispm-r6>init)

SI:*EVAL:  (P.C. = 401)
   Arg 0 (SI:FORM): (USER:LOAD-THESIS)
   Local 0 (SI:FORM): NIL
   --Defaulted args:--
   Arg 1 (SI:ENV): NIL
   Arg 2 (SI:HOOK): NIL

(:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0):  (P.C. = 152)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 500047>

TV:WITH-NOTIFICATION-MODE-INTERNAL:  (P.C. = 16)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0) 500054>

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 54)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL

SI:LISP-COMMAND-LOOP:  (P.C. = 67)
   Arg 0: #<LISP-LISTENER Lisp Listener 1 43200064 exposed>
   Rest arg: (:NAME "Lisp Top Level")

SI:LISP-TOP-LEVEL1:  (P.C. = 5)
   Arg 0 (SI:STREAM): #<LISP-LISTENER Lisp Listener 1 43200064 exposed>

SI:LISP-TOP-LEVEL:  (P.C. = 7)
 8-Jul-87 04:20:15-EDT,1225;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 04:20-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48023; Wed 8-Jul-87 04:21:02 EDT
Date: Wed, 8 Jul 87 04:20 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: Catastrophic failure due to flavor bug
To: Bug-Lispm@REAGAN.AI.MIT.EDU
Message-ID: <870708042056.1.JCMA@MORRISON.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

In Symbolics 3650 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 1Relatus Natural Language System0 168.5,
Experimental Reference 6.2, Experimental Jcma 2, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30080, on Lisp Machine Jim Morrison:

Try defining a defgeneric form with a compatible message of :get, as an
automatic conversion program might do.  Then stand back. Better save
everything first.

This class of bug was reported long ago at SCRC but not fixed in 7.1

Catastrophic failure like this is not so good for the reliability image.
 8-Jul-87 07:15:10-EDT,9436;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 07:15-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48030; Wed 8-Jul-87 07:15:57 EDT
Date: Wed, 8 Jul 87 07:15 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: 1Trap: The SYS:RESTART-TRAPPED-CALL microcode ran into a FLAVOR-HASH-MASK that was not a fixnum.0
To: Bug-LispM@REAGAN.AI.MIT.EDU
Message-ID: <870708071546.2.JCMA@MORRISON.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (3 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI, CPTFONTI

In Symbolics 3650 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 2Relatus Natural Language System0 168.5,
Experimental Reference 6.2, Experimental Jcma 2, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30080, on Lisp Machine Jim Morrison:

Things were working and then I hacked a few functions and now they don't.  No
obvious correlation with this error. (?)

1Trap: The SYS:RESTART-TRAPPED-CALL microcode ran into a FLAVOR-HASH-MASK that was not a fixnum.
0While in the function %INIT-RELATION  (FLAVOR:METHOD %PUT-SUBJECT-RELATION ST-NODE-MAGIC-UNDER-CARRIAGE-MIXIN)  %PUT-SUBJECT-RELATION

The condition signalled was DBG:WRONG-INTERNAL-TYPE-TRAP

1%INIT-RELATION0:  3(from B:>RELATUS>REL-7>JOURNAL>relatus-168>relatus-168-6)
0   Arg 0: #<DTP-EVEN-PC 25222>
   Arg 1: NIL
   Arg 2: #<Error printing object DTP-INSTANCE 125102150>
   Arg 3: #<BELIEF-SYSTEM ARPA 274000000>
   Arg 4: SUPERPOWER
   Arg 5: BE
   Arg 6: POWER
   Arg 7: NIL
   Local 0: #<DTP-EVEN-PC 25222>
   Local 1: NIL

1(FLAVOR:METHOD %PUT-SUBJECT-RELATION ST-NODE-MAGIC-UNDER-CARRIAGE-MIXIN)0:  (P.C. = 360)  3(from B:>RELATUS>REL-7>JOURNAL>relatus-168>relatus-168-6)
0   Arg 0 (SELF): #<ST-NODE SUPERPOWER 125102100>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ST-NODE-MAGIC-UNDER-CARRIAGE-MIXIN 107315026>
   Arg 2 (FLAVOR::.GENERIC.): :%PUT-SUBJECT-RELATION
   Arg 3 (RELATION): BE
   Arg 4 (OBJECT): POWER
   Arg 5 (CONSTRAINTS): NIL

1%PUT-SUBJECT-RELATION0:  (P.C. = 6)  3(from B:>RELATUS>REL-7>JOURNAL>relatus-168>relatus-168-6)
0   Arg 0 (SELF): #<ST-NODE SUPERPOWER 125102100>
   Rest arg (FLAVOR::ARGS): (BE POWER NIL)

1(FLAVOR:METHOD :%INTERN BELIEF-SYSTEM-ACTIVATION-MIXIN)0:  (P.C. = 27)  3(from B:>RELATUS>REL-7>JOURNAL>relatus-168>relatus-168-6)
0   Arg 0 (SELF): #<BELIEF-SYSTEM ARPA 274000000>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor BELIEF-SYSTEM-ACTIVATION-MIXIN 107406547>
   Arg 2 (FLAVOR::.GENERIC.): :%INTERN
   Arg 3 (SUBJECT): SUPERPOWER
   Arg 4 (RELATION): BE
   Arg 5 (OBJECT): POWER
   Arg 6 (CONSTRAINTS): (#<MANDATORY-CONSTRAINT TRUE 105760754> #<PREFERENCE-CONSTRAINT PMSUBJECT-RELATION 105744177> #<PREFERENCE-CONSTRAINT PMSUBJECT-RELATION 105744141>)

1(FLAVOR:METHOD RF:REFERENCE RF:REF-SPEC)0:  (P.C. = 374)  3(from RL:REFERENCE;REFSPEC)
0   Arg 0 (SELF): #<REF-SPEC BE 105730774>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor RF:REF-SPEC 27435732>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION RF:REFERENCE 7065527>
   Arg 3 (RF:MY-BELIEF-SYSTEM): NIL

1(FLAVOR:METHOD RF:REFERENCE-AND-SET-REFERENCE-TIME RF:REF-SPEC)0:  (P.C. = 5)  3(from RL:REFERENCE;REFSPEC)
0   Arg 0 (SELF): #<REF-SPEC BE 105730774>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor RF:REF-SPEC 27435732>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION RF:REFERENCE-AND-SET-REFERENCE-TIME 7065557>
3   --Defaulted args:--
0   Arg 3 (RF:MY-BELIEF-SYSTEM): NIL

1(FLAVOR:METHOD :REFERENCE SENTENCE-CONSTRAINT-POSTING-MIXIN)0:  (P.C. = 174)  3(from RL:POSITER;SENTENCE)
0   Arg 0 (SELF): #<SENTENCE ARPA 67003364>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SENTENCE-CONSTRAINT-POSTING-MIXIN 27720673>
   Arg 2 (FLAVOR::.GENERIC.): :REFERENCE
   Rest arg (IGNORE): NIL

1(:INTERNAL (FLAVOR:COMBINED :REFERENCE SENTENCE) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<SENTENCE ARPA 67003364>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SENTENCE 27722431>
   Arg 2 (FLAVOR::.GENERIC.): :REFERENCE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:WHOPPER :REFERENCE SENTENCE-CONSTRAINT-POSTING-MIXIN)0:  (P.C. = 71)  3(from RL:POSITER;SENTENCE)
0   Arg 0 (SELF): #<SENTENCE ARPA 67003364>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SENTENCE-CONSTRAINT-POSTING-MIXIN 27720673>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :REFERENCE SENTENCE) 0) 261066667>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor SENTENCE 27722431>
   Arg 4 (FLAVOR::.GENERIC.): :REFERENCE
   Rest arg (IGNORE): (#<BELIEF-SYSTEM ARPA 274000000>)

1(FLAVOR:COMBINED :REFERENCE SENTENCE)0:  (P.C. = 13)
   Arg 0 (SELF): #<SENTENCE ARPA 67003364>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SENTENCE 27722431>
   Arg 2 (FLAVOR::.GENERIC.): :REFERENCE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<BELIEF-SYSTEM ARPA 274000000>)

1(FLAVOR:METHOD :PARSE BELIEF-SYSTEM-IO-MIXIN)0:  (P.C. = 165)  3(from RL:GNOSCERE;IOMIXIN)
0   Arg 0 (SELF): #<BELIEF-SYSTEM ARPA 274000000>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor BELIEF-SYSTEM-IO-MIXIN 107406637>
   Arg 2 (FLAVOR::.GENERIC.): :PARSE
   Arg 3 (SENTENCE): ((:DECLARATIVE (A :UPPERCASE) SUPERPOWER IS A POWER) (:DECLARATIVE (A :UPPERCASE) SUPERPOWER IS A COUNTRY) (:DECLARATIVE (ALL :CAPITALIZED) GREAT POWERS ARE COUNTRIES) (:DECLARATIVE (LESSER :CAPITALIZED) POWERS ARE COUNTRIES) (:DECLARATIVE (MINOR :CAPITALIZED) POWERS ARE COUNTRIES) (:DECLARATIVE (MINOR :CAPITALIZED) POWERS ARE NOT GREAT POWERS) (:DECLARATIVE (LESSER :CAPITALIZED) POWERS ARE NOT GREAT POWERS) (:DECLARATIVE (GREAT :CAPITALIZED) POWERS ARE NOT SUPERPOWERS) (:DECLARATIVE (WAR :CAPITALIZED) IS CONFLICT) (:DECLARATIVE (INTERVENTION :CAPITALIZED) IS CONFLICT) ...)

1ZWEI:RELATUS-READ-FROM-BUFFER0:  (P.C. = 116)  3(from RL:GNOSCERE;DEIXIS-INTERFACE)
0   Arg 0 (ZWEI:BUFFER): "RL:INTERVENTION;XBACKGROUND.TEXT"
   Local 0 (ZWEI:BUFFER): #P"RL:INTERVENTION;XBACKGROUND.TEXT.NEWEST"
3   --Defaulted args:--
0   Arg 1 (ZWEI:SET-GLOBAL-DEFAULTS-P): NIL

1PROCESS-PUNCTUATION-MAPPING0:  (P.C. = 167)  3(from RL:PARSER;PUNCTUATI)
0   Arg 0 (STREAM): #<INTERVAL-STREAM 126616224>

1PREPARSE0:  (P.C. = 54)  3(from RL:PARSER;PUNCTUATI)
0   Arg 0 (SENTENCE): #<INTERVAL-STREAM 126616224>

1ZWEI:RELATUS-READ-FROM-BUFFER0:  (P.C. = 75)  3(from RL:GNOSCERE;DEIXIS-INTERFACE)
0   Arg 0 (ZWEI:BUFFER): "rl:int;xhun4.text"
   Local 0 (ZWEI:BUFFER): #P"RL:INT;XHUN4.TEXT.NEWEST"
3   --Defaulted args:--
0   Arg 1 (ZWEI:SET-GLOBAL-DEFAULTS-P): NIL

1TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP0:  (P.C. = 76)  3(from RL:UTILS;WMAGIC)
0   Arg 0 (SYS:FORM): (WITH-FORM-TIMED NIL (READ-BUFFER "rl:int;xhun4.text"))

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Relatus Listener 1 15660125>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 232700211>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 232700154>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Relatus Listener 1 15660125>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232700117>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Relatus Listener 1"
   Arg 1 (SI:ABORT-FUNCTION): TV:MOUSE-SENSITIVE-ABORT-FUNCTION-FOR-LISP-COMMAND-LOOP
   Arg 2 (SI:READ-FUNCTION): TV:RELATUS-LISTENER-CP-COMMAND-LOOP-READ-FUNCTION
   Arg 3 (SI:EVAL-FUNCTION): TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP
   Arg 4 (SI:PRINT-FUNCTION): TV:MOUSE-SENSITIVE-PRINT-FOR-LISP-COMMAND-LOOP
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<RELATUS-LISTENER Relatus Listener 1 725347 exposed>
   Rest arg: (:NAME "Relatus Listener 1" :ABORT-FUNCTION TV:MOUSE-SENSITIVE-ABORT-FUNCTION-FOR-LISP-COMMAND-LOOP :READ-FUNCTION TV:RELATUS-LISTENER-CP-COMMAND-LOOP-READ-FUNCTION :EVAL-FUNCTION TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP :PRINT-FUNCTION TV:MOUSE-SENSITIVE-PRINT-FOR-LISP-COMMAND-LOOP)

1TV:RELATUS-LISTENER-TOP-LEVEL10:  (P.C. = 31)  3(from RL:UTILS;WMAGIC)
0   Arg 0: #<RELATUS-LISTENER Relatus Listener 1 725347 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
3   --Defaulted args:--
0   Arg 0 (IGNORE): NIL
 8-Jul-87 08:20:48-EDT,2990;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 08:20-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48033; Wed 8-Jul-87 08:21:37 EDT
Date: Wed, 8 Jul 87 08:21 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: Compiler Warning about Constant form left unoptimized: 
To: Bug-Lispm@REAGAN.AI.MIT.EDU
Message-ID: <870708082137.4.JCMA@MORRISON.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

In Symbolics 3650 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 1Relatus Natural Language System0 168.5,
Experimental Reference 6.2, Experimental Jcma 2, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30080, on Lisp Machine Jim Morrison:

I received a bunch of compiler warnings while compiling a patch file relatus
168.6 which I didn't receive while compiling the buffer.  It looks as if some
optimizer may be getting following by a load macro.  One example follows.

For Function %MAKE-ST-NODE
  While compiling 
    (FLAVOR::%BLOCK-COPY-ALLOW-NULL (FLAVOR::FLAVOR-TEMPLATE-INSTANCE '(#:EVAL-AT-LOAD-TIME-MAR
KER
                                                                        FLAVOR::LOAD-TIME-FIND-
FLAVOR
                                                                        'ST-NODE 10))
                                    #:G7957
                                    10):
    Constant form left unoptimized: 
    (AREF '(#:EVAL-AT-LOAD-TIME-MARKER FLAVOR::LOAD-TIME-FIND-FLAVOR 'ST-NODE 10) 22)
    because: The first argument (ARRAY) to SYS:%LEXPR-AREF, (#:EVAL-AT-LOAD-TIME-MARKER
                                                             FLAVOR::LOAD-TIME-FIND-FLAVOR
                                                             'ST-NODE 10), was of the wrong typ
e.
             The function expected an array.
For Function (FLAVOR:METHOD %INIT-SUBJECT-NODE ST-NODE-MAGIC-UNDER-CARRIAGE-MIXIN)
  While compiling 
    (FLAVOR::%BLOCK-COPY-ALLOW-NULL (FLAVOR::FLAVOR-TEMPLATE-INSTANCE '(#:EVAL-AT-LOAD-TIME-MAR
KER
                                                                        FLAVOR::LOAD-TIME-FIND-
FLAVOR
                                                                        'ST-NODE 10))
                                    #:G8101
                                    10):
    Constant form left unoptimized: 
    (AREF '(#:EVAL-AT-LOAD-TIME-MARKER FLAVOR::LOAD-TIME-FIND-FLAVOR 'ST-NODE 10) 22)
    because: The first argument (ARRAY) to SYS:%LEXPR-AREF, (#:EVAL-AT-LOAD-TIME-MARKER
                                                             FLAVOR::LOAD-TIME-FIND-FLAVOR
                                                             'ST-NODE 10), was of the wrong typ
e.
             The function expected an array.
  
 8-Jul-87 08:53:05-EDT,16090;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 08:53-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48038; Wed 8-Jul-87 08:53:41 EDT
Date: Wed, 8 Jul 87 08:53 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: 1Trap: The variable DW:*PROGRAM* is unbound.0
To: Bug-LispM@REAGAN.AI.MIT.EDU
Message-ID: <870708085331.2.JCMA@MORRISON.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (3 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI, CPTFONTI

In Symbolics 3650 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 2Relatus Natural Language System0 168.6,
Experimental Reference 6.2, Experimental Jcma 2, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30080, on Lisp Machine Jim Morrison:

Blew out in a more break when I clicked on an option presented by the CP command :SET GC OPTIONS

1Trap: The variable DW:*PROGRAM* is unbound.
0While in the function (CP::COMMAND-PARSER DW::COM-ACCEPT-VALUES-CHOOSE-VALUE)  CP::PARSE-COMMAND-ARGUMENTS  (DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS SYS:PRINTER)

The condition signalled was DBG:UNBOUND-SYMBOL-TRAP

1(CP::COMMAND-PARSER DW::COM-ACCEPT-VALUES-CHOOSE-VALUE)0:  (P.C. = 2)
   Arg 0 (CP::ARGUMENT-PARSER): #<DTP-COMPILED-FUNCTION (:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 2 CP::PARSER) 147131705>

1CP::PARSE-COMMAND-ARGUMENTS0:  (P.C. = 107)
   Arg 0 (CP:COMMAND-NAME): DW::COM-ACCEPT-VALUES-CHOOSE-VALUE
   Arg 1: #:TERMINAL-IO-SYN-STREAM

1(DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS SYS:PRINTER)0:  (P.C. = 112)  3(from SYS:PATCH;SYSTEM-349-50)
0   Arg 0 (CP::ARGUMENTS): (#S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE (# #) :SELECT-ACTION #<DTP-COMPILED-FUNCTION (:INTERNAL DW::ACCEPT-VALUES-CHOOSE-FROM-SEQUENCE 0) 147443046>) :CHOICE ("Off") :VALUE NIL))
   Arg 1 (CL:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2: ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL)
   Arg 3 (IGNORE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL)
   Arg 4 (CP::ACCEPTABLY): NIL

1(:INTERNAL (:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD) 0 DW::PRESENT-INTERNAL)0:  (P.C. = 16)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((#S(DW::ACCEPT-VALUES-CHOICE :CHOICES # :CHOICE # :VALUE NIL)) ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL) (:STREAM #:TERMINAL-IO-SYN-STREAM :ACCEPTABLY NIL) #:TERMINAL-IO-SYN-STREAM NIL T) ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL) #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS SYS:PRINTER) 152215022>)
   Arg 1 (CL:STREAM): #:TERMINAL-IO-SYN-STREAM

1(FLAVOR:METHOD :PRESENTATION-OUTPUT-INTERNAL DW:DYNAMIC-WINDOW)0:  (P.C. = 47)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :PRESENTATION-OUTPUT-INTERNAL
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 DW::PRESENT-INTERNAL) 72770135>
   Arg 4 (DW::XSTREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 5 (DW::PRESENTATION-OPTIONS): (:OBJECT (#S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE # :SELECT-ACTION #<DTP-COMPILED-FUNCTION # 147443046>) :CHOICE ("Off") :VALUE NIL)) :TYPE ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL))
3   --Defaulted args:--
0   Arg 6 (DW::NO-END-PRESENTATION-OUTPUT): NIL

1(FLAVOR:METHOD :OUTPUT-AS-PRESENTATION DW:DYNAMIC-WINDOW)0:  (P.C. = 70)  3(from SYS:PATCH;SYSTEM-349-222)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :OUTPUT-AS-PRESENTATION
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 DW::PRESENT-INTERNAL) 72770135>
   Arg 4 (DW::XSTREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg (DW::OBJECT-OPTIONS): (:OBJECT (#S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE # :SELECT-ACTION #<DTP-COMPILED-FUNCTION # 147443046>) :CHOICE ("Off") :VALUE NIL)) :TYPE ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL))

1(:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD)0:  (P.C. = 44)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((#S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE # :SELECT-ACTION #<DTP-COMPILED-FUNCTION # 147443046>) :CHOICE ("Off") :VALUE NIL)) ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL) (:STREAM #:TERMINAL-IO-SYN-STREAM :ACCEPTABLY NIL) #:TERMINAL-IO-SYN-STREAM NIL T)
   Arg 1: ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL)
   Arg 2: #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS SYS:PRINTER) 152215022>
   Arg 3 (IGNORE): (:PROPERTY SYS:PRINTER DW::COMPAT-KLUDGE)
   Arg 4 (IGNORE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL) SYS:PRINTER T #<LEXICAL-CLOSURE (:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD) 72770110> NIL #<DTP-LOCATIVE 600672>) (CP::COMMAND-ARGUMENTS DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): (:WAIT-FOR-ACTIVATION NIL)

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  3(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 72770124>
   Arg 1 (DW::KEY): (:WAIT-FOR-ACTIVATION NIL)

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL) SYS:PRINTER T #<LEXICAL-CLOSURE (:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD) 72770110> NIL #<DTP-LOCATIVE 600672>)
   Arg 1: (CP::COMMAND-ARGUMENTS DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::KEY-GENERATOR)0:  (P.C. = 40)  3(from SYS:PATCH;SYSTEM-349-50)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 72770120>
   Arg 1: CP::COMMAND-ARGUMENTS
   Rest arg: (:COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  3(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP::COMMAND-ARGUMENTS 7104160>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 72770120>
   Arg 4 (DW::TYPE-NAME): CP::COMMAND-ARGUMENTS
   Rest arg (DW::DATA-ARGS): (:COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  3(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL)
   Arg 1: SYS:PRINTER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD) 72770110>

1SCL:PRESENT0:  (P.C. = 46)  3(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0: (#S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE (# #) :SELECT-ACTION #<DTP-COMPILED-FUNCTION (:INTERNAL DW::ACCEPT-VALUES-CHOOSE-FROM-SEQUENCE 0) 147443046>) :CHOICE ("Off") :VALUE NIL))
   Arg 1: ((CP::COMMAND-ARGUMENTS :COMMAND-NAME DW::COM-ACCEPT-VALUES-CHOOSE-VALUE) :WAIT-FOR-ACTIVATION NIL)
   Rest arg: (:STREAM #:TERMINAL-IO-SYN-STREAM :ACCEPTABLY NIL)

1(DW::PRESENTATION-FUNCTION CP:COMMAND SYS:PRINTER)0:  (P.C. = 265)  3(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (CP:COMMAND): (DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE (# #) :SELECT-ACTION #<DTP-COMPILED-FUNCTION (:INTERNAL DW::ACCEPT-VALUES-CHOOSE-FROM-SEQUENCE 0) 147443046>) :CHOICE ("Off") :VALUE NIL))
   Arg 1 (CL:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2: CP:COMMAND
   Arg 3 (IGNORE): CP:COMMAND
   Arg 4 (CP::ACCEPTABLY): NIL

1(:INTERNAL (:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD) 0 DW::PRESENT-INTERNAL)0:  (P.C. = 16)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #S(DW::ACCEPT-VALUES-CHOICE :CHOICES # :CHOICE # :VALUE NIL)) CP:COMMAND (:FOR-CONTEXT-TYPE CP:COMMAND-OR-FORM) #:TERMINAL-IO-SYN-STREAM NIL T) CP:COMMAND #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND SYS:PRINTER) 152214376>)
   Arg 1 (CL:STREAM): #:TERMINAL-IO-SYN-STREAM

1(FLAVOR:METHOD :PRESENTATION-OUTPUT-INTERNAL DW:DYNAMIC-WINDOW)0:  (P.C. = 47)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :PRESENTATION-OUTPUT-INTERNAL
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 DW::PRESENT-INTERNAL) 72770032>
   Arg 4 (DW::XSTREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 5 (DW::PRESENTATION-OPTIONS): (:OBJECT (DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE # :SELECT-ACTION #<DTP-COMPILED-FUNCTION # 147443046>) :CHOICE ("Off") :VALUE NIL)) :TYPE CP:COMMAND)
3   --Defaulted args:--
0   Arg 6 (DW::NO-END-PRESENTATION-OUTPUT): NIL

1(FLAVOR:METHOD :OUTPUT-AS-PRESENTATION DW:DYNAMIC-WINDOW)0:  (P.C. = 70)  3(from SYS:PATCH;SYSTEM-349-222)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :OUTPUT-AS-PRESENTATION
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 DW::PRESENT-INTERNAL) 72770032>
   Arg 4 (DW::XSTREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg (DW::OBJECT-OPTIONS): (:OBJECT (DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE # :SELECT-ACTION #<DTP-COMPILED-FUNCTION # 147443046>) :CHOICE ("Off") :VALUE NIL)) :TYPE CP:COMMAND)

1(:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD)0:  (P.C. = 44)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE # :SELECT-ACTION #<DTP-COMPILED-FUNCTION # 147443046>) :CHOICE ("Off") :VALUE NIL)) CP:COMMAND (:FOR-CONTEXT-TYPE CP:COMMAND-OR-FORM) #:TERMINAL-IO-SYN-STREAM NIL T)
   Arg 1: CP:COMMAND
   Arg 2: #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND SYS:PRINTER) 152214376>
   Arg 3 (IGNORE): (:PROPERTY SYS:PRINTER DW::COMPAT-KLUDGE)
   Arg 4 (IGNORE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((CP:COMMAND SYS:PRINTER T #<LEXICAL-CLOSURE (:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD) 72770005> NIL #<DTP-LOCATIVE 600402>) CP:COMMAND)
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  3(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 72770021>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (CP:COMMAND SYS:PRINTER T #<LEXICAL-CLOSURE (:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD) 72770005> NIL #<DTP-LOCATIVE 600402>)
   Arg 1: CP:COMMAND

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 175)  3(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: CP:COMMAND
   Arg 1: SYS:PRINTER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL SCL:PRESENT 0 DW::WITH-TYPE-METHOD) 72770005>

1SCL:PRESENT0:  (P.C. = 46)  3(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0: (DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE (# #) :SELECT-ACTION #<DTP-COMPILED-FUNCTION (:INTERNAL DW::ACCEPT-VALUES-CHOOSE-FROM-SEQUENCE 0) 147443046>) :CHOICE ("Off") :VALUE NIL))
   Arg 1: CP:COMMAND
   Rest arg: (:FOR-CONTEXT-TYPE CP:COMMAND-OR-FORM)

1(:INTERNAL CP::ECHO-AND-RETURN-COMMAND-OR-FORM-BLIP 0 CP::ECHO-BLIP)0:  (P.C. = 33)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600337>

1CP::ECHO-AND-RETURN-COMMAND-OR-FORM-BLIP0:  (P.C. = 20)  3(from SYS:PATCH;SYSTEM-349-46)
0   Arg 0 (CP::BLIP): (CP:COMMAND #\Mouse-L (DW::COM-ACCEPT-VALUES-CHOOSE-VALUE #S(DW::ACCEPT-VALUES-CHOICE :CHOICES #S(DW::ACCEPT-VALUES-CHOICES :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 115537600> :SEQUENCE # :SELECT-ACTION #<DTP-COMPILED-FUNCTION # 147443046>) :CHOICE ("Off") :VALUE NIL)))
3   --Defaulted args:--
0   Arg 1 (CP::START-LOC): NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 30)
   Arg 0 (CP::FORM): (SI:COM-SET-GC-OPTIONS)

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600212>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600155>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600120>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL20:  (P.C. = 5)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
   Arg 0 (IGNORE): NIL

   Special DW:*PROGRAM*: "unbound"
 8-Jul-87 08:56:23-EDT,9356;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 08:56-EDT
Received: from JONES.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48040; Wed 8-Jul-87 08:57:02 EDT
Date: Wed, 8 Jul 87 08:56 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: Follow up on compiler warnings about optimizations
To: Bug-LispM@REAGAN.AI.MIT.EDU
Message-ID: <870708085650.1.JCMA@JONES.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (3 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 1Relatus Natural Language System0 168.6,
Experimental Reference 6.2, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(44), FEP0:>v127-debug.flod(31),
Machine serial number 5234, on Lisp Machine Brian Jones:

Can't execute the resulting binary. Lose, lose.

2Error: Compile-time version of constructor function called.  It cannot
       operate correctly until it has been dumped to a BIN file and loaded again.
0While in the function (FLAVOR:METHOD %PUT-SUBJECT-RELATION ST-NODE-MAGIC-UNDER-CARRIAGE-MIXIN)  %PUT-SUBJECT-RELATION  (FLAVOR:METHOD :%INTERN BELIEF-SYSTEM-ACTIVATION-MIXIN)

The condition signalled was FERROR

2(FLAVOR:METHOD %PUT-SUBJECT-RELATION ST-NODE-MAGIC-UNDER-CARRIAGE-MIXIN)0:  (P.C. = 253)  3(from RL:JOURNAL;RELATUS-168-6)
0   Arg 0 (SELF): #<ST-NODE SUPERPOWER 116202111>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ST-NODE-MAGIC-UNDER-CARRIAGE-MIXIN 107310041>
   Arg 2 (FLAVOR::.GENERIC.): :%PUT-SUBJECT-RELATION
   Arg 3 (RELATION): BE
   Arg 4 (OBJECT): POWER
   Arg 5 (CONSTRAINTS): NIL
   Local 6: 61
   Local 7: NIL
   Local 8 (R-P-OBJECT): "Compile-time version of constructor function called.  It cannot~@
	operate correctly until it has been dumped to a BIN file and loaded again."
   Special DEFAULT-CONS-AREA: 61

2%PUT-SUBJECT-RELATION0:  (P.C. = 6)  3(from RL:JOURNAL;RELATUS-168-6)
0   Arg 0 (SELF): #<ST-NODE SUPERPOWER 116202111>
   Rest arg (FLAVOR::ARGS): (BE POWER NIL)

2(FLAVOR:METHOD :%INTERN BELIEF-SYSTEM-ACTIVATION-MIXIN)0:  (P.C. = 27)  3(from RL:JOURNAL;RELATUS-168-6)
0   Arg 0 (SELF): #<BELIEF-SYSTEM ARPA 340000000>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor BELIEF-SYSTEM-ACTIVATION-MIXIN 107330523>
   Arg 2 (FLAVOR::.GENERIC.): :%INTERN
   Arg 3 (SUBJECT): SUPERPOWER
   Arg 4 (RELATION): BE
   Arg 5 (OBJECT): POWER
   Arg 6 (CONSTRAINTS): (#<MANDATORY-CONSTRAINT TRUE 105740253> #<PREFERENCE-CONSTRAINT PMSUBJECT-RELATION 105744204> #<PREFERENCE-CONSTRAINT PMSUBJECT-RELATION 105744211>)

2(FLAVOR:METHOD RF:REFERENCE RF:REF-SPEC)0:  (P.C. = 374)  3(from RL:REFERENCE;REFSPEC)
0   Arg 0 (SELF): #<REF-SPEC BE 105731740>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor RF:REF-SPEC 27435732>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION RF:REFERENCE 7065527>
   Arg 3 (RF:MY-BELIEF-SYSTEM): NIL

2(FLAVOR:METHOD RF:REFERENCE-AND-SET-REFERENCE-TIME RF:REF-SPEC)0:  (P.C. = 5)  3(from RL:REFERENCE;REFSPEC)
0   Arg 0 (SELF): #<REF-SPEC BE 105731740>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor RF:REF-SPEC 27435732>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION RF:REFERENCE-AND-SET-REFERENCE-TIME 7065557>
3   --Defaulted args:--
0   Arg 3 (RF:MY-BELIEF-SYSTEM): NIL

2(FLAVOR:METHOD :REFERENCE SENTENCE-CONSTRAINT-POSTING-MIXIN)0:  (P.C. = 174)  3(from RL:POSITER;SENTENCE)
0   Arg 0 (SELF): #<SENTENCE ARPA 161753327>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SENTENCE-CONSTRAINT-POSTING-MIXIN 27720673>
   Arg 2 (FLAVOR::.GENERIC.): :REFERENCE
   Rest arg (IGNORE): NIL

2(:INTERNAL (FLAVOR:COMBINED :REFERENCE SENTENCE) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<SENTENCE ARPA 161753327>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SENTENCE 27722431>
   Arg 2 (FLAVOR::.GENERIC.): :REFERENCE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

2(FLAVOR:WHOPPER :REFERENCE SENTENCE-CONSTRAINT-POSTING-MIXIN)0:  (P.C. = 71)  3(from RL:POSITER;SENTENCE)
0   Arg 0 (SELF): #<SENTENCE ARPA 161753327>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SENTENCE-CONSTRAINT-POSTING-MIXIN 27720673>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :REFERENCE SENTENCE) 0) 261066667>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor SENTENCE 27722431>
   Arg 4 (FLAVOR::.GENERIC.): :REFERENCE
   Rest arg (IGNORE): (#<BELIEF-SYSTEM ARPA 340000000>)

2(FLAVOR:COMBINED :REFERENCE SENTENCE)0:  (P.C. = 13)
   Arg 0 (SELF): #<SENTENCE ARPA 161753327>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SENTENCE 27722431>
   Arg 2 (FLAVOR::.GENERIC.): :REFERENCE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<BELIEF-SYSTEM ARPA 340000000>)

2(FLAVOR:METHOD :PARSE BELIEF-SYSTEM-IO-MIXIN)0:  (P.C. = 165)  3(from RL:GNOSCERE;IOMIXIN)
0   Arg 0 (SELF): #<BELIEF-SYSTEM ARPA 340000000>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor BELIEF-SYSTEM-IO-MIXIN 107330613>
   Arg 2 (FLAVOR::.GENERIC.): :PARSE
   Arg 3 (SENTENCE): ((:DECLARATIVE (A :UPPERCASE) SUPERPOWER IS A POWER) (:DECLARATIVE (A :UPPERCASE) SUPERPOWER IS A COUNTRY) (:DECLARATIVE (ALL :CAPITALIZED) GREAT POWERS ARE COUNTRIES) (:DECLARATIVE (LESSER :CAPITALIZED) POWERS ARE COUNTRIES) (:DECLARATIVE (MINOR :CAPITALIZED) POWERS ARE COUNTRIES) (:DECLARATIVE (MINOR :CAPITALIZED) POWERS ARE NOT GREAT POWERS) (:DECLARATIVE (LESSER :CAPITALIZED) POWERS ARE NOT GREAT POWERS) (:DECLARATIVE (GREAT :CAPITALIZED) POWERS ARE NOT SUPERPOWERS) (:DECLARATIVE (WAR :CAPITALIZED) IS CONFLICT) (:DECLARATIVE (INTERVENTION :CAPITALIZED) IS CONFLICT) ...)

2ZWEI:RELATUS-READ-FROM-BUFFER0:  (P.C. = 116)  3(from RL:GNOSCERE;DEIXIS-INTERFACE)
0   Arg 0 (ZWEI:BUFFER): #P"RL:INTERVENTION;XBACKGROUND.TEXT.NEWEST"
3   --Defaulted args:--
0   Arg 1 (ZWEI:SET-GLOBAL-DEFAULTS-P): NIL

2ZWEI:RELATUS-READ-FROM-BUFFER0:  (P.C. = 160)  3(from RL:GNOSCERE;DEIXIS-INTERFACE)
0   Arg 0 (ZWEI:BUFFER): "RL:INTERVENTION;XBACKGROUND.TEXT"
   Local 0 (ZWEI:BUFFER): #P"RL:INTERVENTION;XBACKGROUND.TEXT.NEWEST"
3   --Defaulted args:--
0   Arg 1 (ZWEI:SET-GLOBAL-DEFAULTS-P): NIL

2PROCESS-PUNCTUATION-MAPPING0:  (P.C. = 167)  3(from RL:PARSER;PUNCTUATI)
0   Arg 0 (STREAM): #<INTERVAL-STREAM 61724320>

2PREPARSE0:  (P.C. = 54)  3(from RL:PARSER;PUNCTUATI)
0   Arg 0 (SENTENCE): #<INTERVAL-STREAM 61724320>

2ZWEI:RELATUS-READ-FROM-BUFFER0:  (P.C. = 75)  3(from RL:GNOSCERE;DEIXIS-INTERFACE)
0   Arg 0 (ZWEI:BUFFER): "rl:int;xhun4.text"
   Local 0 (ZWEI:BUFFER): #P"RL:INT;XHUN4.TEXT.NEWEST"
3   --Defaulted args:--
0   Arg 1 (ZWEI:SET-GLOBAL-DEFAULTS-P): NIL

2TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP0:  (P.C. = 76)  3(from RL:UTILS;WMAGIC)
0   Arg 0 (SYS:FORM): (READ-BUFFER "rl:int;xhun4.text")

2(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Relatus Listener 1 15512405>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 232700212>
   Rest arg: NIL

2TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 232700155>

2(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Relatus Listener 1 15512405>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232700120>
   Rest arg: NIL

2SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Relatus Listener 1"
   Arg 1 (SI:ABORT-FUNCTION): TV:MOUSE-SENSITIVE-ABORT-FUNCTION-FOR-LISP-COMMAND-LOOP
   Arg 2 (SI:READ-FUNCTION): TV:RELATUS-LISTENER-CP-COMMAND-LOOP-READ-FUNCTION
   Arg 3 (SI:EVAL-FUNCTION): TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP
   Arg 4 (SI:PRINT-FUNCTION): TV:MOUSE-SENSITIVE-PRINT-FOR-LISP-COMMAND-LOOP
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

2SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<RELATUS-LISTENER Relatus Listener 1 725220 exposed>
   Rest arg: (:NAME "Relatus Listener 1" :ABORT-FUNCTION TV:MOUSE-SENSITIVE-ABORT-FUNCTION-FOR-LISP-COMMAND-LOOP :READ-FUNCTION TV:RELATUS-LISTENER-CP-COMMAND-LOOP-READ-FUNCTION :EVAL-FUNCTION TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP :PRINT-FUNCTION TV:MOUSE-SENSITIVE-PRINT-FOR-LISP-COMMAND-LOOP)

2TV:RELATUS-LISTENER-TOP-LEVEL10:  (P.C. = 31)  3(from RL:UTILS;WMAGIC)
0   Arg 0: #<RELATUS-LISTENER Relatus Listener 1 725220 exposed>

2SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
   Arg 0 (IGNORE): NIL
 8-Jul-87 09:02:28-EDT,14254;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 09:02-EDT
Received: from JONES.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48043; Wed 8-Jul-87 09:03:15 EDT
Date: Wed, 8 Jul 87 09:03 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: flavor constructors: 1Error: Cannot dump #<DTP-LOCATIVE 107301651>, decodes as :RANDOM #<DTP-LOCATIVE 107301651>0 
To: Bug-lispm@REAGAN.AI.MIT.EDU
Message-ID: <870708090309.2.JCMA@JONES.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (3 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
                         (4 0 (NIL 0) (:FIX :ROMAN :NORMAL) "CPTFONT")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI, CPTFONTI, CPTFONT

In Symbolics 3640 Compiler in Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 2Relatus Natural Language System0 168.6,
Experimental Reference 6.2, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(44), FEP0:>v127-debug.flod(31),
Machine serial number 5234, on Lisp Machine Brian Jones:

hmmm, this more trouble related to flavor constructor functions.  The compilers
warnings would seem to be related as well.

1Error: Cannot dump #<DTP-LOCATIVE 107301651>, decodes as :RANDOM #<DTP-LOCATIVE 107301651>
0While in the function SI:DUMP-LOCATIVE  SI:DUMP-OBJECT  SI:DUMP-ARRAY

The condition signalled was FERROR

1SI:DUMP-LOCATIVE0:  (P.C. = 36)
   Arg 0 (SI:LOCATIVE): #<DTP-LOCATIVE 107301651>
   Arg 1 (SI:STREAM): #<NFILE-OUTPUT-WIDE-BINARY-STREAM "RL:JOURNAL;RELATUS-168-6.BIN.NEWEST" 274046075>
   Local 2 (SI:OBJECT): #<DTP-LOCATIVE 107301651>
   Local 3 (SI:TYPE): :RANDOM

1SI:DUMP-OBJECT0:  (P.C. = 167)
   Arg 0 (SI:OBJECT): #<DTP-LOCATIVE 107301651>
   Arg 1 (SI:STREAM): #<NFILE-OUTPUT-WIDE-BINARY-STREAM "RL:JOURNAL;RELATUS-168-6.BIN.NEWEST" 274046075>

1SI:DUMP-ARRAY0:  (P.C. = 317)
   Arg 0 (ZL:ARRAY): #<FLAVOR RL:ST-NODE 26020742>
   Arg 1 (SI:STREAM): #<NFILE-OUTPUT-WIDE-BINARY-STREAM "RL:JOURNAL;RELATUS-168-6.BIN.NEWEST" 274046075>

1SI:DUMP-OBJECT0:  (P.C. = 223)
   Arg 0 (SI:OBJECT): #<FLAVOR RL:ST-NODE 26020742>
   Arg 1 (SI:STREAM): #<NFILE-OUTPUT-WIDE-BINARY-STREAM "RL:JOURNAL;RELATUS-168-6.BIN.NEWEST" 274046075>

1SI:DUMP-COMPILED-FUNCTION0:  (P.C. = 113)
   Arg 0 (FUNCTION): #<DTP-COMPILED-FUNCTION RL:%MAKE-ST-NODE 124423165>
   Arg 1 (SI:STREAM): #<NFILE-OUTPUT-WIDE-BINARY-STREAM "RL:JOURNAL;RELATUS-168-6.BIN.NEWEST" 274046075>

1SI:DUMP-OBJECT0:  (P.C. = 177)
   Arg 0 (SI:OBJECT): #<DTP-COMPILED-FUNCTION RL:%MAKE-ST-NODE 124423165>
   Arg 1 (SI:STREAM): #<NFILE-OUTPUT-WIDE-BINARY-STREAM "RL:JOURNAL;RELATUS-168-6.BIN.NEWEST" 274046075>

1SI:DUMP-FUNCTION-DEFINITION0:  (P.C. = 13)
   Arg 0 (SYS:FUNCTION-SPEC): RL:%MAKE-ST-NODE
   Arg 1 (SI:DEFINITION): #<DTP-COMPILED-FUNCTION RL:%MAKE-ST-NODE 124423165>
   Arg 2 (SI:STREAM): #<NFILE-OUTPUT-WIDE-BINARY-STREAM "RL:JOURNAL;RELATUS-168-6.BIN.NEWEST" 274046075>

1(:INTERNAL COMPILER:COMPILE-TO-FILE 0 (:DUMP-DEFINITION))0:  (P.C. = 11)
   Arg 0 (SI:**DEFSELECT-OP**): :DUMP-DEFINITION
   Arg 1 (EXP): (DEFUN RL:%MAKE-ST-NODE (&OPTIONAL (RL:AREA SYS:WORKING-STORAGE-AREA)) "2Makes and instance of 0ST-NODE2 in AREA.0" (DECLARE (SYS:FUNCTION-PARENT RL:%MAKE-ST-NODE RL:DEFGSUBST)) (DECLARE (SYS:FUNCTION-PARENT RL:DEFINE-IN-AREA-CONSTRUCTOR-FUNCTION)) (RL-ZL:WITH-CONS-AREA RL:AREA (RL:%%MAKE-ST-NODE)))

1COMPILER:COMPILE-TO-FILE0:  (P.C. = 15)
   Arg 0 (SI:OPERATION): :DUMP-DEFINITION
   Rest arg (SI:SELECT-METHOD-ARGS): ((DEFUN RL:%MAKE-ST-NODE (&OPTIONAL (RL:AREA SYS:WORKING-STORAGE-AREA)) "2Makes and instance of 0ST-NODE2 in AREA.0" (DECLARE (SYS:FUNCTION-PARENT RL:%MAKE-ST-NODE RL:DEFGSUBST)) (DECLARE (SYS:FUNCTION-PARENT RL:DEFINE-IN-AREA-CONSTRUCTOR-FUNCTION)) (RL-ZL:WITH-CONS-AREA RL:AREA (RL:%%MAKE-ST-NODE))))
   Local 1 (SI:SELECT-METHOD-ARGS): NIL

1COMPILER:COMPILE-FORM-FUNCTION0:  (P.C. = 41)
   Arg 0 (SYS:FORM): (DEFUN RL:%MAKE-ST-NODE (&OPTIONAL (RL:AREA SYS:WORKING-STORAGE-AREA)) "2Makes and instance of 0ST-NODE2 in AREA.0" (DECLARE (SYS:FUNCTION-PARENT RL:%MAKE-ST-NODE RL:DEFGSUBST)) (DECLARE (SYS:FUNCTION-PARENT RL:DEFINE-IN-AREA-CONSTRUCTOR-FUNCTION)) (RL-ZL:WITH-CONS-AREA RL:AREA (RL:%%MAKE-ST-NODE)))
   Arg 1 (COMPILER:COMPILE-TIME-P): NIL
   Arg 2 (COMPILER:LOAD-TIME-P): T

1COMPILER:COMPILE-FROM-STREAM-10:  (P.C. = 347)
   Arg 0 (SYS:FORM): (DEFUN RL:%MAKE-ST-NODE (&OPTIONAL (RL:AREA SYS:WORKING-STORAGE-AREA)) "2Makes and instance of 0ST-NODE2 in AREA.0" (DECLARE (SYS:FUNCTION-PARENT RL:%MAKE-ST-NODE RL:DEFGSUBST)) (DECLARE (SYS:FUNCTION-PARENT RL:DEFINE-IN-AREA-CONSTRUCTOR-FUNCTION)) (RL-ZL:WITH-CONS-AREA RL:AREA (RL:%%MAKE-ST-NODE)))
   Arg 1 (COMPILER:COMPILE-TIME-TOO): NIL

1COMPILER:COMPILE-FROM-STREAM-10:  (P.C. = 214)
   Arg 0 (SYS:FORM): (DEFSUBST RL:%MAKE-ST-NODE (&OPTIONAL (RL:AREA SYS:WORKING-STORAGE-AREA)) "2Makes and instance of 0ST-NODE2 in AREA.0" (DECLARE (SYS:FUNCTION-PARENT RL:%MAKE-ST-NODE RL:DEFGSUBST)) (DECLARE (SYS:FUNCTION-PARENT RL:DEFINE-IN-AREA-CONSTRUCTOR-FUNCTION)) (RL-ZL:WITH-CONS-AREA RL:AREA (RL:%%MAKE-ST-NODE)))
   Local 0 (SYS:FORM): (PROGN (PROCLAIM (QUOTE (INLINE RL:%MAKE-ST-NODE))) (DEFUN RL:%MAKE-ST-NODE (&OPTIONAL (RL:AREA SYS:WORKING-STORAGE-AREA)) "2Makes and instance of 0ST-NODE2 in AREA.0" (DECLARE (SYS:FUNCTION-PARENT RL:%MAKE-ST-NODE RL:DEFGSUBST)) (DECLARE (SYS:FUNCTION-PARENT RL:DEFINE-IN-AREA-CONSTRUCTOR-FUNCTION)) (RL-ZL:WITH-CONS-AREA RL:AREA (RL:%%MAKE-ST-NODE))))
   Arg 1 (COMPILER:COMPILE-TIME-TOO): NIL

1COMPILER:COMPILE-FROM-STREAM-10:  (P.C. = 214)
   Arg 0 (SYS:FORM): (RL:DEFINE-IN-AREA-CONSTRUCTOR-FUNCTION RL:%MAKE-ST-NODE RL:ST-NODE RL:%%MAKE-ST-NODE)
   Local 0 (SYS:FORM): (PROGN (QUOTE COMPILE) (SI:DISPLACED (COND-EVERY (# #) (# #)) (LET (# #) (AND # #) (AND # #) #:G2966)) (RECORD-SOURCE-FILE-NAME (QUOTE RL:%MAKE-ST-NODE) (QUOTE RL:DEFGSUBST)) (DEFSUBST RL:%MAKE-ST-NODE (&OPTIONAL (RL:AREA SYS:WORKING-STORAGE-AREA)) "2Makes and instance of 0ST-NODE2 in AREA.0" (DECLARE (SYS:FUNCTION-PARENT RL:%MAKE-ST-NODE RL:DEFGSUBST)) (DECLARE (SYS:FUNCTION-PARENT RL:DEFINE-IN-AREA-CONSTRUCTOR-FUNCTION)) (RL-ZL:WITH-CONS-AREA RL:AREA (RL:%%MAKE-ST-NODE))))
3   --Defaulted args:--
0   Arg 1 (COMPILER:COMPILE-TIME-TOO): NIL

1COMPILER:PROCESS-FORMS-FROM-STREAM0:  (P.C. = 115)
   Arg 0 (COMPILER:INPUT-STREAM): #<INDIRECT-ESCAPE-INPUT-STREAM "RL:JOURNAL;RELATUS-168-6.LISP.NEWEST" 274046046>
   Arg 1 (COMPILER:PROCESS-FUNCTION): COMPILER:COMPILE-FROM-STREAM-1
   Arg 2 (COMPILER:FOR-FILE): T
   Arg 3 (COMPILER:AREA-FOR-READING): 4

1COMPILER:COMPILE-FROM-STREAM0:  (P.C. = 231)
   Arg 0 (COMPILER:INPUT-STREAM): #<INDIRECT-ESCAPE-INPUT-STREAM "RL:JOURNAL;RELATUS-168-6.LISP.NEWEST" 274046046>
   Arg 1 (COMPILER:GENERIC-PATHNAME): #P"RL:JOURNAL;RELATUS-168-6"
   Arg 2: COMPILER:COMPILE-TO-FILE
   Arg 3 (COMPILER:ADDITIONAL-BINDINGS): NIL

1COMPILER:COMPILE-FILE0:  (P.C. = 233)
   Arg 0 (COMPILER:INFILE): #P"RL:JOURNAL;RELATUS-168-6.LISP.NEWEST"
   Arg 1 (COMPILER:OUTFILE): #P"RL:JOURNAL;RELATUS-168-6.BIN.NEWEST"
3   --Defaulted args:--
0   Arg 2 (COMPILER:IN-PACKAGE): NIL
   Arg 3 (COMPILER:DONT-SET-DEFAULT-P): NIL

1SCT:COMPILE-PATCH0:  (P.C. = 34)  3(from SYS:PATCH;SYSTEM-349-277)
0   Arg 0 (SCT:PATCH-SYSTEM): ("RELATUS" 168 :EXPERIMENTAL ((6 "Big patch to the gnoscere undercarriage to improve performance." "JCMa" 2761706015) (5 "4Macro0 RL:WITH-OUTPUT-TO-MOMENTARY-WINDOW:  new macro.
4Function0 RL:DESCRIBE-IN-MOMENTARY-WINDOW:  new function using it." "JCMa" 2761022124) (4 "DEF-SYS-FUN ZWEI:INSPECT-LAST-SENTENTIAL-REF-SPEC:  fix extraneous argument bug." "JCMa" 2760829643) (3 "Function (FLAVOR:METHOD :PREPOSITION-P RL:NODE-LEXICAL-MIXIN):  handle gennames." "JCMa" 2760736533) (2 "DEF-SYS-FUN ZWEI:%ENSURE-COMPLETION-AARRAY:  kludge up some more.
DEF-SYS-MACRO ZWEI:WITH-COMPELETION-AARRAY:  update.
DEF-SYS-FUN ZWEI:RELATUS-TYPEIN-LINE-COMPLETING-READ:  update.
DEF-SYS-FUN ZWEI:ZMACS-READ-BELIEF-SYSTEM:  extend.
DEF-RELATUS-COM ZWEI:COM-ERASE-BELIEF-SYSTEM:  fix bug.
interface function to graph-parse.
Gavan's new parse graphing code.
install ref-spec graphing.
Function RL:MOUSE-RIGHT-ALIST-FOR-SENTENCE-OBJECT:  graph ref-specs." "JCMa" 2756828299) (1 "DEFINE-CHARACTER-STYLE-FAMILIES LGP:*LGP2-PRINTER*:  allow hardcopy onto LGP2's (e.g. le-monde)
DEF-SYS-FUN ZWEI:%ENSURE-COMPLETION-AARRARY:  new hack to fix completion on alists.
DEF-SYS-MACRO ZWEI:WITH-COMPELETION-AARAY:  macro wrapper.
DEF-SYS-FUN ZWEI:RELATUS-TYPEIN-LINE-COMPLETING-READ:  use the alist completion hack.
DEF-SYS-MACRO ZWEI:WITH-COMPELETION-AARAY:  no return-array.
Function (FLAVOR:METHOD RL:MENU-CHOICE-ITEM RL:LEXICAL-CATEGORY):  make
string-capitalize use the rl package." "JCMa" 2756681172) (0 "RELATUS version 168 loaded." "JCMa" 2756539511 NIL)))
   Arg 1 (SCT:NUMBER): 6

1SCT:CONSUMMATE-PATCH0:  (P.C. = 7)
   Arg 0 (SCT:PATCH-SYSTEM): ("RELATUS" 168 :EXPERIMENTAL ((6 "Big patch to the gnoscere undercarriage to improve performance." "JCMa" 2761706015) (5 "4Macro0 RL:WITH-OUTPUT-TO-MOMENTARY-WINDOW:  new macro.
4Function0 RL:DESCRIBE-IN-MOMENTARY-WINDOW:  new function using it." "JCMa" 2761022124) (4 "DEF-SYS-FUN ZWEI:INSPECT-LAST-SENTENTIAL-REF-SPEC:  fix extraneous argument bug." "JCMa" 2760829643) (3 "Function (FLAVOR:METHOD :PREPOSITION-P RL:NODE-LEXICAL-MIXIN):  handle gennames." "JCMa" 2760736533) (2 "DEF-SYS-FUN ZWEI:%ENSURE-COMPLETION-AARRAY:  kludge up some more.
DEF-SYS-MACRO ZWEI:WITH-COMPELETION-AARRAY:  update.
DEF-SYS-FUN ZWEI:RELATUS-TYPEIN-LINE-COMPLETING-READ:  update.
DEF-SYS-FUN ZWEI:ZMACS-READ-BELIEF-SYSTEM:  extend.
DEF-RELATUS-COM ZWEI:COM-ERASE-BELIEF-SYSTEM:  fix bug.
interface function to graph-parse.
Gavan's new parse graphing code.
install ref-spec graphing.
Function RL:MOUSE-RIGHT-ALIST-FOR-SENTENCE-OBJECT:  graph ref-specs." "JCMa" 2756828299) (1 "DEFINE-CHARACTER-STYLE-FAMILIES LGP:*LGP2-PRINTER*:  allow hardcopy onto LGP2's (e.g. le-monde)
DEF-SYS-FUN ZWEI:%ENSURE-COMPLETION-AARRARY:  new hack to fix completion on alists.
DEF-SYS-MACRO ZWEI:WITH-COMPELETION-AARAY:  macro wrapper.
DEF-SYS-FUN ZWEI:RELATUS-TYPEIN-LINE-COMPLETING-READ:  use the alist completion hack.
DEF-SYS-MACRO ZWEI:WITH-COMPELETION-AARAY:  no return-array.
Function (FLAVOR:METHOD RL:MENU-CHOICE-ITEM RL:LEXICAL-CATEGORY):  make
string-capitalize use the rl package." "JCMa" 2756681172) (0 "RELATUS version 168 loaded." "JCMa" 2756539511 NIL)))
   Arg 1 (SCT:NUMBER): 6
   Arg 2 (SCT:MESSAGE): "Big patch to the gnoscere undercarriage to improve performance."
   Arg 3 (SCT:AUTHOR): "JCMa"
   Arg 4 (SCT:WARNINGS-STREAM): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 3 1506637 exposed>

1ZWEI:CONSUMMATE-PATCH0:  (P.C. = 72)
   Arg 0 (ZWEI:STATE): #<PATCH-STATE 274071657>
3   --Defaulted args:--
0   Arg 1 (ZWEI:WARNINGS-STREAM): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 3 1506637 exposed>

1ZWEI:FINISH-PATCH-INTERNAL0:  (P.C. = 100)
   Arg 0 (ZWEI:PATCH-STATE): #<PATCH-STATE 274071657>

1ZWEI:COM-FINISH-PATCH0:  (P.C. = 7)

1ZWEI:COM-EXTENDED-COMMAND0:  (P.C. = 17)

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<COROUTINING-PROCESS ZMACS-WINDOWS 15056313>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL ZWEI:COMMAND-EXECUTE 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 52700307>
   Rest arg: NIL

1ZWEI:COMMAND-EXECUTE0:  (P.C. = 57)
   Arg 0 (ZWEI:COMMAND): ZWEI:COM-EXTENDED-COMMAND
   Arg 1 (ZWEI:CHAR): #\m-X
   Arg 2 (ZWEI:PREFIX-CHAR): NIL
   Arg 3 (ZWEI:HOOK-LIST): NIL

1ZWEI:PROCESS-COMMAND-CHAR0:  (P.C. = 14)
   Arg 0 (ZWEI:CH): #\m-X

1(FLAVOR:METHOD :EDIT ZWEI:EDITOR)0:  (P.C. = 316)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 122146505>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR 250045243>
   Arg 2 (FLAVOR::.GENERIC.): :EDIT
3   --Defaulted args:--
0   Arg 3 (ZWEI:TOP-LEVEL-P): T
   Arg 4 (ZWEI:DESCRIPTION): NIL

1(:INTERNAL (FLAVOR:COMBINED :EDIT ZWEI:ZMACS-TOP-LEVEL-EDITOR) 1)0:  (P.C. = 20)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 122146505>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMACS-TOP-LEVEL-EDITOR 250045054>
   Arg 2 (FLAVOR::.GENERIC.): :EDIT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<COROUTINING-PROCESS ZMACS-WINDOWS 15056313>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 52700111>
   Rest arg: NIL

1(FLAVOR:WHOPPER :EDIT ZWEI:EDITOR)0:  (P.C. = 20)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 122146505>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR 250045243>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :EDIT ZWEI:ZMACS-TOP-LEVEL-EDITOR) 1) 150176730>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor ZWEI:ZMACS-TOP-LEVEL-EDITOR 250045054>
   Arg 4 (FLAVOR::.GENERIC.): :EDIT
   Rest arg (ZWEI:ARGUMENTS): NIL

1(FLAVOR:COMBINED :EDIT ZWEI:ZMACS-TOP-LEVEL-EDITOR)0:  (P.C. = 317)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 122146505>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMACS-TOP-LEVEL-EDITOR 250045054>
   Arg 2 (FLAVOR::.GENERIC.): :EDIT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1ZWEI:ZMACS-WINDOW-TOP-LEVEL0:  (P.C. = 55)  3(from SYS:PATCH;SYSTEM-349-88)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
   Arg 0 (IGNORE): NIL

   Special SI:BIN-OP-VALUE-CELL-LOCATION: 61472
   Special SI:BIN-OP-FDEFINITION-LOCATION: 61473
 8-Jul-87 09:50:46-EDT,2326;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 09:50-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48051; Wed 8-Jul-87 09:51:33 EDT
Date: Wed, 8 Jul 87 09:51 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: Follow up on compiler warnings about optimizations
To: JCMA@AI.AI.MIT.EDU
cc: Bug-LispM@REAGAN.AI.MIT.EDU
In-Reply-To: <870708085650.1.JCMA@JONES.AI.MIT.EDU>
Message-ID: <870708095126.5.JCMA@MORRISON.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTI, CPTFONTCB

    Date: Wed, 8 Jul 87 08:56 EDT
    From: John C. Mallery <JCMA@AI.AI.MIT.EDU>

    In Symbolics 3640 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2,
    Experimental 1Relatus Natural Language System0 168.6,
    Experimental Reference 6.2, microcode 3640-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(44), FEP0:>v127-debug.flod(31),
    Machine serial number 5234, on Lisp Machine Brian Jones:

    Can't execute the resulting binary. Lose, lose.

This seems to a 3650 problem because recompilation on a 3640 succeeded (both
running 7.1)  The relevant files are:

B:>RELATUS>REL-7>JOURNAL>relatus-168>*.*.*
  454 free, 276486/276940 used (99%, 6 partitions) (LMFS records, 1 = 4544. 8-bit bytes)
  133 blocks in the files listed, including 16 deleted blocks
     2 relatus-168-6.bin.1   16  34646(16) !   07/08/87 08:16:27 (07/08/87) JCMa
0      relatus-168-6.bin.2   16  34145(16) !   07/08/87 09:09:01 (07/08/87) JCMa
      relatus-168-6.lisp.5   15  64639(8) !   07/08/87 08:12:17 (07/08/87) JCMa
      relatus-168-6.lisp.6   15  65143(8) !   07/08/87 08:58:47 (07/08/87) JCMa

The file in bold is the broken binary.

    2Error: Compile-time version of constructor function called.  It cannot
0	   2operate correctly until it has been dumped to a BIN file and loaded again.
0    While in the function (FLAVOR:METHOD %PUT-SUBJECT-RELATION ST-NODE-MAGIC-UNDER-CARRIAGE-MIXIN)  %PUT-SUBJECT-RELATION  (FLAVOR:METHOD :%INTERN BELIEF-SYSTEM-ACTIVATION-MIXIN)

    The condition signalled was FERROR
[deleted backtrace]
 8-Jul-87 11:03:54-EDT,1312;000000000000
Received: from BACH.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 11:03-EDT
Date: Wed, 8 Jul 87 11:04 EDT
From: Heinrich H. Bulthoff <hhb@OZ.AI.MIT.EDU>
Subject: Serial Unit 1 locked
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870708110431.1.HHB@BACH.AI.MIT.EDU>

In Symbolics 3600 Genera 7.1, Print Spooler 3.11, Hacks 3.0,
IP-TCP 52.16, ILA-NFS 3.3, 7-1-Patches 1.19, MAC 11.2, Color Demo 314.1,
Color 329.6, Color Support 9.4, Images 308.4, Color Editor 311.3,
Experimental X-Window-System 17.4, S-Paint 13.5, Tablet 2.3, Bsfonts 1.0,
S-Render 20.5, S-Geometry 9.5, Live Window 315.3, S-Dynamics 9.9,
microcode 3600-MIC 396, FEP 127, fep0:>v127-lisp.flod(55),
fep0:>v127-loaders.flod(55), fep0:>v127-debug.flod(34),
fep0:>v127-info.flod(55),
Bug Report Recipient (from GRAPHICS:GLIB;REL-7;BUG-REPORT-RECIPIENT.LISP.1), on Lisp Machine Anna Magdalena Bach:

If Bach is booted without the LGP2 Printer (Apple Laserprinter Plus) turned on 
one gets always : Serial Unit 1 Locked
One can reset this process but I could not figure out a way to restart the printer
without getting again into the locked state.
The only way out of this problem is to reboot the machine which is rather annoying.

thanks for any help

Heinrich Bulthoff
MIT, E25-201
Cambridge, Ma 02139

(617) 253-0549
 8-Jul-87 13:43:37-EDT,1473;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 13:43-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 62108; 8 Jul 87 13:43:55 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 8 Jul 87 13:43-EDT
Date: Wed, 8 Jul 87 13:43 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: DWIS m-.
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    bug-lispm@ZERMATT.LCS.MIT.EDU
Message-ID: <870708134324.1.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

I did a m-. on METER:REPORT, and then sat around wondering while it
stood on its ear doing some moby grinding.  Finally it read the file and
showed me the code, and informed me there were 416 more definitions I
could choose from.  Naturally, it had decided I should also be
interested in the DBG:REPORT generic function and its 400+ methods.  If
had cared about DBG:REPORT, I would have said so.
 8-Jul-87 16:31:25-EDT,8168;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 16:31-EDT
Received: from KOALA.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 5130; Wed 8-Jul-87 16:06:23 EDT
Date: Wed, 8 Jul 87 16:06 EDT
From: Hirak Mitra <sr.mitra@SPEECH.MIT.EDU>
Subject: GRAPHICS:DRAW-CUBIC-SPLINE is broken
To: Bug-LispM@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870708160617.2.MITRA@KOALA.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
Experimental SEARCH 6.3, microcode 3600-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
World load FEP0:>zoo-7-1-f-search.load.1, on Lisp Machine Koala:

I tried to draw a cubic spline through three points.  Looks like it's falling off the
end of an array.  Yow!

1Trap: The subscript given to the ZL:AR-1 instruction, 3 (from local variable DW::I), on #<ART-Q-3 21400001> was beyond the length, 3.
0While in the function DW::XS-AND-YS-BOX  (FLAVOR:METHOD DW::GRAPHICS-DISPLAYED-PRESENTATION-BOX-EDGES DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION)  (FLAVOR:METHOD MAKE-INSTANCE DW::GRAPHICS-DISPLAYED-PRESENTATION :AFTER)

The condition signalled was DBG:SUBSCRIPT-OUT-OF-BOUNDS-TRAP

1DW::XS-AND-YS-BOX0:  (P.C. = 27)
   Arg 0 (DW::PX): #<ART-Q-3 21400001>
   Arg 1 (DW::PY): #<ART-Q-3 21400005>
   Arg 2 (DW::END): 20
   Local 3: 20
   Local 4 (DW::I): 3
   Local 5 (DW::X): 50
   Local 6 (DW::Y): 30
   Local 7 (DW::LEFT): 10
   Local 8: NIL
   Local 9 (DW::TOP): 20
   Local 10: NIL
   Local 11 (DW::RIGHT): 50
   Local 12: NIL
   Local 13 (DW::BOTTOM): 40
   Local 14: NIL

1(FLAVOR:METHOD DW::GRAPHICS-DISPLAYED-PRESENTATION-BOX-EDGES DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION)0:  (P.C. = 6)
   Arg 0 (SELF): #<CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 404707075>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 250464406>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::GRAPHICS-DISPLAYED-PRESENTATION-BOX-EDGES 6756241>
   Arg 3 (IGNORE): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed>
   Arg 4 (DW::PX): #<ART-Q-3 21400001>
   Arg 5 (DW::PY): #<ART-Q-3 21400005>
   Arg 6 (DW::Z): 20
   Arg 7 (DW::CURVE-WIDTH): 1
   Arg 8 (DW::ALU): 7
   Arg 9 (DW::C1): :RELAXED
   Arg 10 (DW::C2): :RELAXED
   Arg 11 (DW::P1-PRIME-X): NIL
   Arg 12 (DW::P1-PRIME-Y): NIL
   Arg 13 (DW::PN-PRIME-X): NIL
   Arg 14 (DW::PN-PRIME-Y): NIL

1(FLAVOR:METHOD MAKE-INSTANCE DW::GRAPHICS-DISPLAYED-PRESENTATION :AFTER)0:  (P.C. = 12)
   Arg 0 (SELF): #<CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 404707075>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::GRAPHICS-DISPLAYED-PRESENTATION 250464425>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION MAKE-INSTANCE 6700025>
   Rest arg: (:WINDOW #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed> :ARGUMENTS (#<ART-Q-3 21400001> #<ART-Q-3 21400005> 20 1 7 :RELAXED :RELAXED NIL NIL NIL ...) :SUPERIOR NIL)

1(FLAVOR:COMBINED MAKE-INSTANCE DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION)0:  (P.C. = 27)
   Arg 0 (SELF): #<CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 404707075>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 250464406>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION MAKE-INSTANCE 6700025>
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (:WINDOW #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed> :ARGUMENTS (#<ART-Q-3 21400001> #<ART-Q-3 21400005> 20 1 7 :RELAXED :RELAXED NIL NIL NIL ...) :SUPERIOR NIL)

1MAKE-INSTANCE0:  (P.C. = 572)  2(from SYS:PATCH;SYSTEM-349-177)
0   Arg 0 (SYS:FLAVOR-NAME): DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION
   Rest arg (FLAVOR::INIT-OPTIONS): (:WINDOW #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed> :ARGUMENTS (#<ART-Q-3 21400001> #<ART-Q-3 21400005> 20 1 7 :RELAXED :RELAXED NIL NIL NIL ...) :SUPERIOR NIL)

1(FLAVOR:METHOD :ADD-GRAPHICS-PRESENTATION DW:DYNAMIC-WINDOW)0:  (P.C. = 15)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :ADD-GRAPHICS-PRESENTATION
   Arg 3 (SYS:FLAVOR-NAME): DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION
   Arg 4 (DW::ARGUMENTS): (#<ART-Q-3 21400001> #<ART-Q-3 21400005> 20 1 7 :RELAXED :RELAXED NIL NIL NIL ...)

1(FLAVOR:WHOPPER :DRAW-CUBIC-SPLINE DW:DYNAMIC-WINDOW)0:  (P.C. = 44)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :DRAW-CUBIC-SPLINE DW:DYNAMIC-WINDOW) 0) 146743433>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :DRAW-CUBIC-SPLINE
   Arg 5 (DW::PX): #<ART-Q-3 21400001>
   Arg 6 (DW::PY): #<ART-Q-3 21400005>
   Arg 7 (DW::Z): 20
   Arg 8 (DW::CURVE-WIDTH): 1
   Arg 9 (DW::ALU): 7
   Arg 10 (DW::C1): :RELAXED
   Arg 11 (DW::C2): :RELAXED
2   --Defaulted args:--
0   Arg 12 (DW::P1-PRIME-X): NIL
   Arg 13 (DW::P1-PRIME-Y): NIL
   Arg 14 (DW::PN-PRIME-X): NIL
   Arg 15 (DW::PN-PRIME-Y): NIL

1(FLAVOR:COMBINED :DRAW-CUBIC-SPLINE DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :DRAW-CUBIC-SPLINE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<ART-Q-3 21400001> #<ART-Q-3 21400005> 20 1 7 :RELAXED :RELAXED)

1GRAPHICS:DRAW-CUBIC-SPLINE0:  (P.C. = 162)
   Arg 0 (GRAPHICS::POINTS): (10 20 30 40 50 30)
   Rest arg: NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (GRAPHICS:DRAW-CUBIC-SPLINE (QUOTE (10 20 30 40 50 30)))

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 2 15444637>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 232500205>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 232500150>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 2 15444637>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232500113>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 7204407 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
   Arg 0 (IGNORE): NIL
 8-Jul-87 16:44:52-EDT,2327;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 16:44-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 62142; 8 Jul 87 16:45:07 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 190099; 8 Jul 87 16:44:57 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 61388; Wed 8-Jul-87 13:39:58 PDT
Date: Wed, 8 Jul 87 13:39 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: DWIS m-.
To: RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    bug-zwei@VERMITHRAX.SCH.Symbolics.COM,
    bug-lispm%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870708134324.1.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870708133958.3.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Wed, 8 Jul 87 13:43 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

    I did a m-. on METER:REPORT, and then sat around wondering while it
    stood on its ear doing some moby grinding.  Finally it read the file and
    showed me the code, and informed me there were 416 more definitions I
    could choose from.  Naturally, it had decided I should also be
    interested in the DBG:REPORT generic function and its 400+ methods.  If
    had cared about DBG:REPORT, I would have said so.

Gee, I only get 380 definitions.  I see what you mean, though.
Sometimes a package search can be helpful, but there should be
some explicit way to override this useful feature.  I'll ask
if anything exists; if not I will write up a feature request.


 8-Jul-87 17:51:32-EDT,2057;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 17:51-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 62152; 8 Jul 87 17:51:50 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 8 Jul 87 17:52-EDT
Date: Wed, 8 Jul 87 17:51 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: make-sequence nit(?)
To: Customer-Reports@stony-brook.src.symbolics.com,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870708175120.3.RWS@KILLINGTON.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental X-Remote-Screen 21.0,
Experimental Illustrate 11.0, TeX 1.0, LaTeX 1.0, SliTeX 1.0, YTeX 1.0,
Macsyma 412.45, Experimental Mercury 6.0, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
New Activity System (from X-WINDOWS:X;ACTIVITY-PATCH.LISP.9), on Killington:

I won't try to argue that this should work (should it?), but the error
message isn't quite accurate, since (subtypep 'sequence 'sequence) is
true.

1Error: SEQUENCE is not a subtype of SEQUENCE.
0While in the function MAKE-SEQUENCE

The condition signalled was ZL:FERROR

1MAKE-SEQUENCE0:  (P.C. = 111)  2(from SYS:PATCH;SYSTEM-349-197)
0   Arg 0 (TYPE): SEQUENCE
   Arg 1 (SYS:SIZE): 1
   Rest arg (CLI::KEYWORDS): NIL
   Local 3 (IGNORE): (OR (VECTOR * *) LIST)
   Local 4 (CLI::TYPE-NAME): OR
   Local 5 (CLI::TYPE-ARGS): ((VECTOR * *) LIST)

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (MAKE-SEQUENCE (QUOTE SEQUENCE) 1)
 8-Jul-87 18:34:38-EDT,2327;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 18:34-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 48142; 8 Jul 87 18:35:26 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 190213; 8 Jul 87 18:34:42 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 61450; Wed 8-Jul-87 15:33:29 PDT
Date: Wed, 8 Jul 87 15:33 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: GRAPHICS:DRAW-CUBIC-SPLINE is broken
To: sr.mitra%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870708160617.2.MITRA@KOALA.MIT.EDU>
Message-ID: <870708153323.5.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 8 Jul 87 16:06 EDT
    From: Hirak Mitra <sr.mitra@SPEECH.MIT.EDU>

    In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
    7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
    Experimental SEARCH 6.3, microcode 3600-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
    World load FEP0:>zoo-7-1-f-search.load.1, on Lisp Machine Koala:

    I tried to draw a cubic spline through three points.  Looks like it's falling off the
    end of an array.  Yow!

Yes, this was one of the major graphics surprises of 7.1.  It's been re-fixed
for the next release.  If you really need the function, you can use the method,
or use the 7.0 version (do you have the source there?).

-trev

    1Trap: The subscript given to the ZL:AR-1 instruction, 3 (from local variable DW::I), on #<ART-Q-3 21400001> was beyond the length, 3.
0    While in the function DW::XS-AND-YS-BOX  (FLAVOR:METHOD DW::GRAPHICS-DISPLAYED-PRESENTATION-BOX-EDGES DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION)  (FLAVOR:METHOD MAKE-INSTANCE DW::GRAPHICS-DISPLAYED-PRESENTATION :AFTER)

    The condition signalled was DBG:SUBSCRIPT-OUT-OF-BOUNDS-TRAP

[...]


 8-Jul-87 18:38:11-EDT,15887;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 18:38-EDT
Received: from WINNIE-THE-POOH.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 5141; Wed 8-Jul-87 18:37:27 EDT
Date: Wed, 8 Jul 87 18:37 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: 1Trap: The SYS:%BITBLT-SHORT-ROW microcode ran into a DESTINATION-OFFSET that was not a fixnum.0
To: customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    bug-lispm@OZ.AI.MIT.EDU
Message-ID: <870708183716.1.TIERNEY@WINNIE-THE-POOH.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
Experimental SPIRE Extensions 2.0, microcode 3650-MIC 396, FEP 206,
Fep0:>g206-lisp.flod(14), Fep0:>g206-loaders.flod(14),
Fep0:>g206-info.flod(14), Fep0:>g206-debug.flod(4),
Machine serial number 30421, World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Winnie the Pooh:

As I moved over a graphical presentation I had just created, I received
the message that the scheduler was ignoring the an error in a periodic
action.  The first stack frames are from that error.  Twice before I
continued past this error with too much of a care and after playing
around a little more, [perhaps trying to run the presentation inspector]
was blown into the cold load stream because every time I tried to
deexpose the current window, this error appeared, the stack frames from
one of these errors follows *** 

1Trap: The SYS:%BITBLT-DECODE-ARRAYS microcode ran into an ARRAY-INDEX-OFFSET that was not a fixnum.
0While in the function BITBLT  (FLAVOR:METHOD :DEEXPOSE TV:SHEET)  (:INTERNAL (FLAVOR:COMBINED :DEEXPOSE DW:DYNAMIC-WINDOW) 0)

The condition signalled was DBG:WRONG-INTERNAL-TYPE-TRAP

First indication of trouble:

[18:17:13 Scheduler: ignoring an error in a periodic
action: 

       1Trap: The SYS:%BITBLT-SHORT-ROW microcode ran into a DESTINATION-OFFSET that was not a fixnum.
0       While in the function TV:%DRAW-RECTANGLE-INTERNAL  (FLAVOR:METHOD :%DRAW-RECTANGLE TV:SINGLE-BIT-SC
REEN-MIXIN)  TV:%DRAW-RECTANGLE-CLIPPED

       The condition signalled was DBG:WRONG-INTERNAL-TYPE-TRAP

       1TV:%DRAW-RECTANGLE-INTERNAL0:  (P.C. = 265)
          Arg 0 (TV:WIDTH): 13
          Arg 1 (TV:HEIGHT): 1
          Arg 2 (TV:X): 547
          Arg 3 (TV:Y): 2704/5
          Arg 4 (TV:ALU): 6
          Arg 5 (TV:RASTER): #<ART-1B-571-745 61707243>
          Local 6 (IGNORE): NIL
          Local 7 (IGNORE): NIL
          Local 8 (IGNORE): NIL
          Local 9 (TV:BB-WIDTH): 13
          Local 10 (TV:BB-S-DATA-ADDR): 0
          Local 11 (TV:BB-S-ROW-OFFSET): NIL
          Local 12 (TV:BB-S-OFFSET): NIL
          Local 13 (TV:BB-S-BITPOS): NIL
          Local 14 (TV:BB-S-ROW-LENGTH): 0
          Local 15 (TV:BB-D-DATA-ADDR): 262476224
          Local 16 (TV:BB-D-OFFSET): 173151/5
          Local 17 (TV:BB-D-BITPOS): 4
          Local 18 (TV:BB-EVENT-COUNT): 15051
          Local 19 (TV:BB-ALU-OPERATION): 12
          Local 20 (TV:S-ROW-BITPOS): 0
          Local 21 (TV:S-ROW-OFFSET): 0
          Local 22 (TV:S-ROW): 0
          Local 23 (TV:D-ROW-BITPOS): 4
          Local 24 (TV:D-ROW-OFFSET): 19
          Local 25 (TV:D-ROW): 2704/5
          Local 26 (TV:S-BEG-ADDR): NIL
          Local 27 (TV:S-BEG-BITPOS): 0
          Local 28 (TV:S-ROW-LENGTH): 262144
          Local 29 (TV:S-ROW-SPAN): 0
          Local 30 (TV:S-HEIGHT): 1
          Local 31 (TV:S-BITS-PER-ELT): 1
          Local 32 (TV:D-BEG-ADDR): 262476224
          Local 33 (TV:D-BEG-BITPOS): 65
          Local 34 (TV:D-ROW-LENGTH): 745
          Local 35 (TV:D-ROW-SPAN): 64
          Local 36 (TV:D-HEIGHT): 571
          Local 37 (TV:D-BITS-PER-ELT): 0
          Local 38 (TV:S-ROW-ADDR-OFFSET): NIL
          Local 39: 0
          Local 40 (TV:D-ADDR-OFFSET): 173151/5
          Local 41: 64
          Special SYS:BITBLT-UNPACKING-BITS-PER-ELT: 1

       1(FLAVOR:METHOD :%DRAW-RECTANGLE TV:SINGLE-BIT-SCREEN-MIXIN)0:  (P.C. = 124)
          Arg 0 (SELF): #<MAIN-SCREEN Main Screen 1501336 exposed>
          Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SINGLE-BIT-SCREEN-MIXIN
          Arg 2 (FLAVOR::.GENERIC.): :%DRAW-RECTANGLE
          Arg 3 (TV:W): 13
          Arg 4 (TV:H): 1
          Arg 5 (TV:X): 547
          Arg 6 (TV:Y): 2704/5
          Arg 7 (TV:ALU): 6
          Arg 8 (TV:SHEET): #<DYNAMIC-SPIRE-PANE Dynamic Spire Pane 3 1701543 exposed>

       1TV:%DRAW-RECTANGLE-CLIPPED0:  (P.C. = 62)
          Arg 0 (TV:WIDTH): 13
          Arg 1 (TV:HEIGHT): 1
          Arg 2 (TV:X-BITPOS): 547
          Arg 3 (TV:Y-BITPOS): 2704/5
          Arg 4 (TV:ALU-FUNCTION): 6
          Arg 5 (TV:SHEET): #<DYNAMIC-SPIRE-PANE Dynamic Spire Pane 3 1701543 exposed>

       1(FLAVOR:METHOD :BLINK TV:BOXES-BLINKER)0:  (P.C. = 43)
          Arg 0 (SELF): #<BOXES-BLINKER 1200275>
          Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:BOXES-BLINKER 250271026>
          Arg 2 (FLAVOR::.GENERIC.): :BLINK

       1(FLAVOR:COMBINED :BLINK TV:BOXES-BLINKER)0:  (P.C. = 21)
          Arg 0 (SELF): #<BOXES-BLINKER 1200275>
          Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:BOXES-BLINKER 250271026>
          Arg 2 (FLAVOR::.GENERIC.): :BLINK
          Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

       1(:INTERNAL TV:BLINKER-CLOCK 0 TV:BLINKER-CLOCK-INTERNAL)0:  (P.C. = 117)
          Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 50500045>
          Arg 1 (TV:SHEET): #<DYNAMIC-SPIRE-PANE Dynamic Spire Pane 3 1701543 exposed>

       1(:INTERNAL TV:BLINKER-CLOCK 0 TV:BLINKER-CLOCK-INTERNAL)0:  (P.C. = 272)
          Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 50500045>
          Arg 1 (TV:SHEET): #<PROGRAM-FRAME The best damn editor of anything in the whole wide world 1 1700
000 exposed>

       1(:INTERNAL TV:BLINKER-CLOCK 0 TV:BLINKER-CLOCK-INTERNAL)0:  (P.C. = 272)
          Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 50500045>
          Arg 1 (TV:SHEET): #<MAIN-SCREEN Main Screen 1501336 exposed>

       1TV:BLINKER-CLOCK0:  (P.C. = 23)  2(from SYS:PATCH;SYSTEM-349-74)
0          Arg 0 (TV:BLINKER-DELTA-TIME): 7

       1SI:PROCESS-SCHEDULER0:  (P.C. = 75)  2(from SYS:PATCH;SYSTEM-349-98)

0          Special TV:*DESTINATION-ONLY-ALUS*: #<ART-4B-16 120021511>
       ]


***
Second blowout

In Symbolics 3650 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
Experimental Hair Cell 7, Experimental APACHIE 3.4,
microcode 3650-MIC 396, FEP 206, Fep0:>g206-lisp.flod(14),
Fep0:>g206-loaders.flod(14), Fep0:>g206-info.flod(14),
Fep0:>g206-debug.flod(4), Machine serial number 30421,
World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Winnie the Pooh:
Processes forcibly aborted:
  The best damn editor of anything in the whole wide world 1 aborted with the following warning:
    The function TV:WINDOW-CALL-INTERNAL is executing a cleanup form.
    Aborting before the cleanup is complete could leave the program in
    an inconsistent state and cause it to operate incorrectly later.



1Trap: The SYS:%BITBLT-DECODE-ARRAYS microcode ran into an ARRAY-INDEX-OFFSET that was not a fixnum.
0While in the function BITBLT  (FLAVOR:METHOD :DEEXPOSE TV:SHEET)  (:INTERNAL (FLAVOR:COMBINED :DEEXPOSE DW:DYNAMIC-WINDOW) 0)

The condition signalled was DBG:WRONG-INTERNAL-TYPE-TRAP

1BITBLT0:  (P.C. = 32)
   Arg 0 (TV:ALU): 5
   Arg 1 (TV:WIDTH): 310
   Arg 2 (TV:HEIGHT): 63
   Arg 3 (TV:FROM-RASTER): #<ART-1B-63-310 66056623>
   Arg 4 (TV:FROM-X): 0
   Arg 5 (TV:FROM-Y): 0
   Arg 6 (TV:TO-RASTER): #<ART-1B-717-1120 33337574>
   Arg 7 (TV:TO-X): 0
   Arg 8 (TV:TO-Y): 0
   Local 9 (TV:BB-WIDTH): NIL
   Local 10 (TV:BB-S-DATA-ADDR): NIL
   Local 11 (TV:BB-S-ROW-OFFSET): NIL
   Local 12 (TV:BB-S-OFFSET): NIL
   Local 13 (TV:BB-S-BITPOS): NIL
   Local 14 (TV:BB-S-ROW-LENGTH): NIL
   Local 15 (TV:BB-D-DATA-ADDR): NIL
   Local 16 (TV:BB-D-OFFSET): NIL
   Local 17 (TV:BB-D-BITPOS): NIL
   Local 18 (TV:BB-EVENT-COUNT): NIL
   Local 19 (TV:BB-ALU-OPERATION): 5
   Local 20 (TV:S-ROW-BITPOS): NIL
   Local 21 (TV:S-ROW-OFFSET): NIL
   Local 22 (TV:S-ROW): NIL
   Local 23 (TV:D-ROW-BITPOS): NIL
   Local 24 (TV:D-ROW-OFFSET): NIL
   Local 25 (TV:D-ROW): NIL

1(FLAVOR:METHOD :DEEXPOSE TV:SHEET)0:  (P.C. = 222)
   Arg 0 (SELF): #<HYSTERETIC-WINDOW-TEMPORARY-WINDOW-MOMENTARY-WINDOW-DYNAMIC-MENU-RESOURCE Hysteretic Window Temporary Window Momentary Window Dynamic Menu Resource 1 1623055 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :DEEXPOSE
2   --Defaulted args:--
0   Arg 3 (TV:SAVE-BITS-P): :DEFAULT
   Arg 4 (TV:SCREEN-BITS-ACTION): :NOOP
   Arg 5 (TV:REMOVE-FROM-SUPERIOR): T

1(:INTERNAL (FLAVOR:COMBINED :DEEXPOSE DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 20)
   Arg 0 (SELF): #<HYSTERETIC-WINDOW-TEMPORARY-WINDOW-MOMENTARY-WINDOW-DYNAMIC-MENU-RESOURCE Hysteretic Window Temporary Window Momentary Window Dynamic Menu Resource 1 1623055 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174371046>
   Arg 2 (FLAVOR::.GENERIC.): :DEEXPOSE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:WHOPPER :DEEXPOSE TV:SHEET)0:  (P.C. = 140)  2(from SYS:PATCH;SYSTEM-349-5)
0   Arg 0 (SELF): #<HYSTERETIC-WINDOW-TEMPORARY-WINDOW-MOMENTARY-WINDOW-DYNAMIC-MENU-RESOURCE Hysteretic Window Temporary Window Momentary Window Dynamic Menu Resource 1 1623055 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :DEEXPOSE DW:DYNAMIC-WINDOW) 0) 147474155>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174371046>
   Arg 4 (FLAVOR::.GENERIC.): :DEEXPOSE
   Rest arg (ARGS): NIL

1(FLAVOR:COMBINED :DEEXPOSE DW:DYNAMIC-WINDOW)0:  (P.C. = 13)
   Arg 0 (SELF): #<HYSTERETIC-WINDOW-TEMPORARY-WINDOW-MOMENTARY-WINDOW-DYNAMIC-MENU-RESOURCE Hysteretic Window Temporary Window Momentary Window Dynamic Menu Resource 1 1623055 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174371046>
   Arg 2 (FLAVOR::.GENERIC.): :DEEXPOSE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(DEFUN-IN-FLAVOR TV:SHEET-PREPARE-FOR-EXPOSE TV:SHEET)0:  (P.C. = 372)
   Arg 0 (SELF): #<ZMACS-FRAME Zmacs Frame 1 1505133 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (TV:SHEET): #<ZMACS-FRAME Zmacs Frame 1 1505133 deexposed>
   Arg 3 (TV:INSIDE-EXPOSE-METHOD): NIL
   Arg 4 (TV:TURN-ON-BLINKERS): NIL
   Arg 5 (TV:BITS-ACTION): NIL
   Arg 6 (TV:X): 64
   Arg 7 (TV:Y): 43

1(FLAVOR:WHOPPER :EXPOSE TV:SHEET)0:  (P.C. = 67)
   Arg 0 (SELF): #<ZMACS-FRAME Zmacs Frame 1 1505133 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :EXPOSE ZWEI:ZWEI-FRAME) 0) 150171453>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor ZWEI:ZWEI-FRAME 210034064>
   Arg 4 (FLAVOR::.GENERIC.): :EXPOSE
   Rest arg (ARGS): NIL

1(FLAVOR:COMBINED :EXPOSE ZWEI:ZWEI-FRAME)0:  (P.C. = 13)
   Arg 0 (SELF): #<ZMACS-FRAME Zmacs Frame 1 1505133 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZWEI-FRAME 210034064>
   Arg 2 (FLAVOR::.GENERIC.): :EXPOSE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:METHOD :SELECT TV:SELECT-MIXIN :BEFORE)0:  (P.C. = 22)
   Arg 0 (SELF): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1506461 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:SELECT-MIXIN 174145073>
   Arg 2 (FLAVOR::.GENERIC.): :SELECT
2   --Defaulted args:--
0   Arg 3 (TV:SAVE-SELECTED): T

1(FLAVOR:COMBINED :SELECT ZWEI:ZMACS-WINDOW-PANE)0:  (P.C. = 50)
   Arg 0 (SELF): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1506461 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMACS-WINDOW-PANE 174145014>
   Arg 2 (FLAVOR::.GENERIC.): :SELECT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:METHOD :SELECT TV:BASIC-FRAME)0:  (P.C. = 10)
   Arg 0 (SELF): #<ZMACS-FRAME Zmacs Frame 1 1505133 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-FRAME 210034104>
   Arg 2 (FLAVOR::.GENERIC.): :SELECT
   Rest arg (ARGS): NIL

1(FLAVOR:METHOD :MOUSE-SELECT TV:ESSENTIAL-WINDOW)0:  (P.C. = 17)
   Arg 0 (SELF): #<ZMACS-FRAME Zmacs Frame 1 1505133 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:ESSENTIAL-WINDOW
   Arg 2 (FLAVOR::.GENERIC.): :MOUSE-SELECT
   Rest arg (ARGS): NIL

1(FLAVOR:COMBINED :MOUSE-SELECT TV:BASIC-FRAME)0:  (P.C. = 20)
   Arg 0 (SELF): #<ZMACS-FRAME Zmacs Frame 1 1505133 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-FRAME 210034104>
   Arg 2 (FLAVOR::.GENERIC.): :MOUSE-SELECT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1TV:SELECT-OR-CREATE-WINDOW-OF-FLAVOR0:  (P.C. = 11)
   Arg 0 (TV:FIND-FLAVOR): ZWEI:ZMACS-FRAME
2   --Defaulted args:--
0   Arg 1 (TV:CREATE-FLAVOR): ZWEI:ZMACS-FRAME

1(FLAVOR:METHOD :EXECUTE TV:MENU-EXECUTE-MIXIN)0:  (P.C. = 53)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:MENU-EXECUTE-MIXIN
   Arg 2 (FLAVOR::.GENERIC.): :EXECUTE
   Arg 3 (TV:ITEM): (\"Edit\" :EVAL (TV:SELECT-OR-CREATE-WINDOW-OF-FLAVOR (QUOTE ZWEI:ZMACS-FRAME)) :DOCUMENTATION \"Select an Editor, to edit text or write a program.\")

1(FLAVOR:COMBINED :EXECUTE TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU)0:  (P.C. = 27)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU 204337156>
   Arg 2 (FLAVOR::.GENERIC.): :EXECUTE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): ((\"Edit\" :EVAL (TV:SELECT-OR-CREATE-WINDOW-OF-FLAVOR (QUOTE ZWEI:ZMACS-FRAME)) :DOCUMENTATION \"Select an Editor, to edit text or write a program.\"))

1(FLAVOR:METHOD :CHOOSE TV:BASIC-MENU)0:  (P.C. = 26)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-MENU 204337306>
   Arg 2 (FLAVOR::.GENERIC.): :CHOOSE

1(FLAVOR:COMBINED :CHOOSE TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU)0:  (P.C. = 42)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU 204337156>
   Arg 2 (FLAVOR::.GENERIC.): :CHOOSE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1TV:CALL-SYSTEM-MENU0:  (P.C. = 42)
   Arg 0 (TV:SUPERIOR): #<MAIN-SCREEN Main Screen 1501336 exposed>

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION TV:CALL-SYSTEM-MENU 146670141>
   Rest arg (ARGS): (#<MAIN-SCREEN Main Screen 1501336 exposed>)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL
 8-Jul-87 20:43:28-EDT,3499;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Jul 87 20:43-EDT
Received: from CROSBY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48149; Wed 8-Jul-87 20:44:01 EDT
Date: Wed, 8 Jul 87 20:43 EDT
From: Peng Wu <pwu@HT.AI.MIT.EDU>
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870708204353.1.PWU@CROSBY.AI.MIT.EDU>

In Symbolics 3640 Release 6.G2, IP-TCP 29.13, Release-6-7 6.0,
6-1-Patches 1.27, MAC 5.2, Macsyma 396.42, FORTRAN 49.4, PASCAL 31.0,
Prolog 12.13, Illustrate 10.27, Experimental X-Window-System 42.0,
microcode TMC5-IO4-COL-MIC 388, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
FEP0:>v127-info.flod(55), Basic TeX, CM-SOFTWARE-VERSION-F5,
*LISP on the PARIS SIMULATOR, on Lisp Machine Bing Crosby:

TMC CM System Software Version : CM-SOFTWARE-VERSION-F5


CM-SOFTWARE-VERSION-F5
Your CM environment consists of *LISP on the PARIS SIMULATOR.
Load-CM-World RELEASE-11
Systems loaded:
   CM-DEFS-F114
   CM-UTILITIES-F109
   REL-2-SIMULATOR-F9
   REL-2-DEFS-F107
   REL-2-TESTS-F107
   STARLISP-COMMON-F3
   STARLISP-F10

I was doing m-x set variable in a major mode, and the system bombed
when it tried to tell me for which mode it set the variable.  It
seams a mismatch between format control string and args.  I had a
patch now but the system need to be fixed.

>>Trap: The argument given to the CAR instruction, #<TEX-OUTLINE-MODE 107715535>, was not a locative, a list, or NIL.
While in the function FORMAT:FORMAT-CTL-OP  FORMAT:FORMAT-CTL-STRING  (:PROPERTY
                                                                         FORMAT:{
                                                                         FORMAT:CTL-MULTI-ARG)

FORMAT:FORMAT-CTL-OP:  (P.C. = 16)
   Arg 0 (FORMAT:OP): FORMAT:A
   Arg 1 (ARGS): #<TEX-OUTLINE-MODE 107715535>
   Arg 2 (FORMAT:PARAMS): NIL
   Local 3 (FORMAT:TEM): #<DTP-COMPILED-FUNCTION (:PROPERTY FORMAT:A FORMAT:CTL-ONE-ARG) 2263210>

FORMAT:FORMAT-CTL-STRING:  (P.C. = 101)
   Arg 0 (ARGS): #<TEX-OUTLINE-MODE 107715535>
   Arg 1: " in ~A mode"

(:PROPERTY FORMAT:{ FORMAT:CTL-MULTI-ARG):  (P.C. = 120)
   Arg 0 (ARGS): (" in ~A mode" #<TEX-OUTLINE-MODE 107715535>)
   Local 0 (ARGS): (#<TEX-OUTLINE-MODE 107715535>)
   Arg 1 (FORMAT:PARAMS): (1)

FORMAT:FORMAT-CTL-OP:  (P.C. = 45)
   Arg 0 (FORMAT:OP): FORMAT:{
   Arg 1 (ARGS): (" in ~A mode" #<TEX-OUTLINE-MODE 107715535>)
   Arg 2 (FORMAT:PARAMS): (1)

FORMAT:FORMAT-CTL-STRING:  (P.C. = 101)
   Arg 0 (ARGS): (ZWEI:*COMMENT-BEGIN* "/"%/"" " in ~A mode" #<TEX-OUTLINE-MODE 107715535>)
   Local 0 (ARGS): (" in ~A mode" #<TEX-OUTLINE-MODE 107715535>)
   Arg 1: "~S set to ~A~1{~}."

FORMAT:  (P.C. = 66)
   Arg 0 (FORMAT:STREAM): #<TYPEIN-WINDOW Typein Window 2 1667014 exposed>
   Arg 1: "~S set to ~A~1{~}."
   Rest arg (ARGS): (ZWEI:*COMMENT-BEGIN* "/"%/"" " in ~A mode" #<TEX-OUTLINE-MODE 107715535>)

ZWEI:TYPEIN-LINE:  (P.C. = 17)
   Arg 0 (STRING): "~S set to ~A~1{~}."
   Rest arg (ARGS): (ZWEI:*COMMENT-BEGIN* "/"%/"" " in ~A mode" #<TEX-OUTLINE-MODE 107715535>)

ZWEI:COM-SET-VARIABLE:  (P.C. = 352)

Rest of stack:
ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 27)
ZWEI:COMMAND-EXECUTE:  (P.C. = 57)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 233)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 60)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 51)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
 9-Jul-87 13:35:21-EDT,2910;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Jul 87 13:35-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 48213; 9 Jul 87 13:36:07 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 190638; 9 Jul 87 13:33:03 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 61585; Thu 9-Jul-87 10:31:31 PDT
Date: Thu, 9 Jul 87 10:31 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: 1Trap: The SYS:%BITBLT-SHORT-ROW microcode ran into a DESTINATION-OFFSET that was not a fixnum.0
To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    bug-lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870708183716.1.TIERNEY@WINNIE-THE-POOH.MIT.EDU>
Message-ID: <870709103129.7.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 8 Jul 87 18:37 EDT
    From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
    7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
    Experimental SPIRE Extensions 2.0, microcode 3650-MIC 396, FEP 206,
    Fep0:>g206-lisp.flod(14), Fep0:>g206-loaders.flod(14),
    Fep0:>g206-info.flod(14), Fep0:>g206-debug.flod(4),
    Machine serial number 30421, World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Winnie the Pooh:

    As I moved over a graphical presentation I had just created, I received
    the message that the scheduler was ignoring the an error in a periodic
    action.  The first stack frames are from that error.  Twice before I
    continued past this error with too much of a care and after playing
    around a little more, [perhaps trying to run the presentation inspector]
    was blown into the cold load stream because every time I tried to
    deexpose the current window, this error appeared, the stack frames from
    one of these errors follows *** 

    1Trap: The SYS:%BITBLT-DECODE-ARRAYS microcode ran into an ARRAY-INDEX-OFFSET that was not a fixnum.
0    While in the function BITBLT  (FLAVOR:METHOD :DEEXPOSE TV:SHEET)  (:INTERNAL (FLAVOR:COMBINED :DEEXPOSE DW:DYNAMIC-WINDOW) 0)

    The condition signalled was DBG:WRONG-INTERNAL-TYPE-TRAP

[...]

Looks like the mouse process was still trying to draw its 
sensitivity-boxes when the window was de-exposed (was a
rectangle left when you went to another window, or did it
ever get that far?).  Would a copy of your presentation be
any help here (could we reproduce it at will)?  If so, I
can try out different mouse-operations and understand what's
going on.

-trev


 9-Jul-87 18:54:01-EDT,1420;000000000000
Received: from BACH.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Jul 87 18:53-EDT
Date: Thu, 9 Jul 87 14:20 EDT
From: Heinrich H. Bulthoff <hhb@OZ.AI.MIT.EDU>
Subject: Print DVI-FIlES on LGP-2
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870709142017.2.HHB@BACH.AI.MIT.EDU>

In Symbolics 3600 Genera 7.1, Print Spooler 3.11, Hacks 3.0,
IP-TCP 52.16, ILA-NFS 3.3, 7-1-Patches 1.19, MAC 11.2, Color Demo 314.1,
Color 329.6, Color Support 9.4, Images 308.4, Color Editor 311.3,
Experimental X-Window-System 17.4, S-Paint 13.5, Tablet 2.3, Bsfonts 1.0,
S-Render 20.5, S-Geometry 9.5, Live Window 315.3, S-Dynamics 9.9,
microcode 3600-MIC 396, FEP 127, fep0:>v127-lisp.flod(55),
fep0:>v127-loaders.flod(55), fep0:>v127-debug.flod(34),
fep0:>v127-info.flod(55),
Bug Report Recipient (from GRAPHICS:GLIB;REL-7;BUG-REPORT-RECIPIENT.LISP.1), on Lisp Machine Anna Magdalena Bach:

If I print larger than 2 pages of DVI-Files (device independent print-output of TeX) on the LGP-2 Printer
with the Hardcopy File command, I get an PostScript error log printed on LGP-2 saying:

For operator "dict": VMerror


Unfortunately this is the only output I get printed from DVI-Files.

Files with less than 2 pages print ok.

Is the memory in the printer too small or does the Hardcopy Process break the files not into small enough pieces?

thanks for any help

Heinrich Bulthoff

MIT, E25-201

(617) 253-0549
10-Jul-87 10:21:36-EDT,1049;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jul 87 10:21-EDT
Received: from THE-JOKER.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48278; Fri 10-Jul-87 10:18:25 EDT
Date: Fri, 10 Jul 87 10:18 EDT
From: Allen Ward <award@HEPHAESTUS.AI.MIT.EDU>
Subject: stepper
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870710101802.1.AWARD@THE-JOKER.AI.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental Cms 1.0,
Experimental Power Transmission 5, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5231,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine The Joker:

The step-printer does not appear to be truncating the output.
10-Jul-87 10:49:28-EDT,1852;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jul 87 10:49-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 48285; 10 Jul 87 10:46:10 EDT
Received: from ORNITHOPTER.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 191084; Fri 10-Jul-87 10:45:44 EDT
Date: Fri, 10 Jul 87 10:45 EDT
From: John Watkins <jwatkins@STONY-BROOK.SCRC.Symbolics.COM>
Subject: UNIX pathname bug
To: CJL@REAGAN.AI.MIT.EDU
cc: Bug-LispM@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870624194115.1.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870710104528.0.JWATKINS@ORNITHOPTER.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Wed, 24 Jun 87 19:41 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, IP-TCP 52.16, 7-1-Patches 1.19, MAC 11.2,
    ILA-NFS 4.0, microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
    FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
    FEP0:>g206-info.flod(14), Machine serial number 30124, on Lisp Machine Otis Redding:

    (send #P"wh:/wh/cjl/../foo" :directory-pathname-as-file)

    1Error: :UP is an invalid name component for WHEATIES (a UNIX42 host).
0    While in the function (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)  (FLAVOR:METHOD :VALIDATE PATHNAME)  (FLAVOR:COMBINED :VALIDATE FS:UNIX42-PATHNAME)

It's still true here too. Let me see what I can find out about this.


    The condition signalled was FS:INVALID-PATHNAME-COMPONENT

    1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 41)  2(from SYS:PATCH;SYSTEM-349-212)

10-Jul-87 11:26:34-EDT,2333;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jul 87 11:26-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 48289; 10 Jul 87 11:23:12 EDT
Received: from GODZILLA.SCH.Symbolics.COM (GODZILLA.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 191109; 10 Jul 87 11:18:30 EDT
Received: from CALYPSO.SCH.Symbolics.COM by GODZILLA.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 66111; Fri 10-Jul-87 08:17:00 PDT
Date: Fri, 10 Jul 87 08:16 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: bug in the document examiner
To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    bug-lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870616173444.6.TIERNEY@PANDA.MIT.EDU>
Message-ID: <870710081648.3.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Tue, 16 Jun 87 17:34 EDT
    From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	In Symbolics 3675 Genera 7.1, Hacks 3.0, Zoo 7.3, IP-TCP 52.16,
	7-1-Patches 1.17, Speech Printers 2.0, SPIRE 18.3,
	microcode 3675-FPA-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
	FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
	FEP0:>v127-debug.flod(34), Machine serial number 7541,
	World load FEP0:>dw-SPIRE.load.1, on Lisp Machine Panda:

	I was reading the  7.1 patch notes section in the doc examiner and it blew up.
	Rather annoying that the document examiner must now be magically reset

	1Error: "Y" is not a known file server host.
0	While in the function FS:GET-PATHNAME-HOST  FS:PARSE-PATHNAME-FIND-COLON  FS:PARSE-PATHNAME

	The condition signalled was FS:UNKNOWN-PATHNAME-HOST

[...]

Sorry it happened...this is the first time it's been spotted.  
Everyone here was amazed to see a Symbolics-specific file ref-
erence in the DocEx (of course it works when you read it 2here0,
so we never caught the reference).  It's been patched now, and
the documentation staff is scanning everything for more local
hosts and the like.  Thanks for the warning.

-trev


10-Jul-87 12:05:55-EDT,1081;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jul 87 12:05-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48292; Fri 10-Jul-87 12:02:15 EDT
Date: Fri, 10 Jul 87 12:02 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: EQL doesn't work with numbers.  IEEE Lossage.
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
cc: glr@OZ.AI.MIT.EDU
Message-ID: <870710120209.7.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.1,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


(eql -0.0 0.0) => NIL

(=   -0.0 0.0) => T

10-Jul-87 12:51:02-EDT,1548;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jul 87 12:50-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU (MOSCOW-CENTRE.AI.MIT.EDU) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 48302; 10 Jul 87 12:47:28 EDT
Date: Fri, 10 Jul 87 12:47 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: Format confused by IEEE floats.
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
cc: glr@OZ.AI.MIT.EDU
Message-ID: <870710124728.8.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.1,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


The IEEE number -0.0 is zero.  It is not negative.

(zerop  -0.0) => T
(minusp -0.0) => nil
(< -0.0 0) => nil

The Common Lisp spec for format control ~E, ~F, ~$ etc specifies that a
minus sign is only printed is the number is negative.

Thus all of these evaluations are wrong.
(format nil "~f" -0.0) =>  "-0.0"
(format nil "~e" -0.0) =>  "-0.0"
(format nil "~g" -0.0) =>  "-0.    "
(format nil "~$" -0.0) =>  "-0.00"

Floating point round is consistent with the spec
(fround -0.0) => 0.0

10-Jul-87 15:08:16-EDT,1817;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jul 87 15:08-EDT
Received: from GRIZZLY.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 5271; Fri 10-Jul-87 15:04:39 EDT
Date: Fri, 10 Jul 87 15:04 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: graphics:draw-line :thickness keyword does not work right
To: BUG-LISPM@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870710150433.1.TIERNEY@GRIZZLY.MIT.EDU>

In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
Experimental SPIRE Extensions 2.0, microcode 3600-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Grizzly:

It seems that when :thickness is greater than one, graphics:draw-line
does not draw lines outside the current viewport.  The code that I used
is:
	

(defun draw-sample (sample x-scale y-scale horizontal-pixel-offset
		    vertical-pixel-offset window)
  (let* ((center-x (round (+ horizontal-pixel-offset (* x-scale (sample-index sample)))))
	 (center-y (round (- vertical-pixel-offset (* y-scale (sample-value sample))))))
     (dw:with-output-as-presentation (:stream window :object sample
					      :type 'sample
					     :single-box t
					     :allow-sensitive-inferiors nil
					     )
      (graphics:draw-line center-x center-y center-x vertical-pixel-offset
			  :stream window :thickness *stem-thickness*)
      (graphics:draw-circle center-x center-y *radius-of-lollipops* :stream window
			    :filled t))))



The lines are drawn in the current viewport, but if the viewport is
moved away and then back, the lines disappear.
10-Jul-87 16:34:14-EDT,6472;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 10 Jul 87 16:34-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48350; Fri 10-Jul-87 16:31:13 EDT
Date: Fri, 10 Jul 87 16:31 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: VMS Chaos/LISPM blows up on file transfer
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870710163117.9.GLR@MOSCOW-CENTRE.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.1,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:

The file is 25MB long ebcidic file and was read from tape at a block
length of 8000.

1Error: !UL byte record too large for user's buffer
       For PIG:SYS$DISK:[GANDER]TEST.DAT
0While in the function (DEFUN-IN-FLAVOR FS:FILE-PROCESS-ASYNC-MARK FS:FILE-DATA-STREAM-MIXIN)  (DEFUN-IN-FLAVOR FS:FILE-NEXT-READ-PKT FS:FILE-INPUT-STREAM-MIXIN)  (FLAVOR:METHOD :GET-NEXT-INPUT-PKT FS:FILE-INPUT-STREAM-MIXIN)

The condition signalled was FS:QMISC-PROBLEMS

1(DEFUN-IN-FLAVOR FS:FILE-PROCESS-ASYNC-MARK FS:FILE-DATA-STREAM-MIXIN)0:  (P.C. = 20)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN 234063271>
   Arg 2 (FS:PKT): #<Chaos Packet 107142361>
   Local 3 (STRING): "I3456 ERROR MSC F !UL byte record too large for user's buffer"

1(DEFUN-IN-FLAVOR FS:FILE-NEXT-READ-PKT FS:FILE-INPUT-STREAM-MIXIN)0:  (P.C. = 66)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN 234063206>
   Arg 2 (FS:NO-HANG-P): NIL
   Arg 3 (FS:FOR-SYNC-MARK-P): NIL

1(FLAVOR:METHOD :GET-NEXT-INPUT-PKT FS:FILE-INPUT-STREAM-MIXIN)0:  (P.C. = 16)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN 234063206>
   Arg 2 (FLAVOR::.GENERIC.): :GET-NEXT-INPUT-PKT
   Arg 3 (FS:NO-HANG-P): NIL

1(FLAVOR:METHOD :NEXT-INPUT-BUFFER CHAOS:BINARY-INPUT-STREAM-MIXIN)0:  (P.C. = 6)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CHAOS:BINARY-INPUT-STREAM-MIXIN 234063166>
   Arg 2 (FLAVOR::.GENERIC.): :NEXT-INPUT-BUFFER
   Arg 3 (CHAOS:NO-HANG-P): NIL

1(FLAVOR:METHOD :SETUP-NEXT-INPUT-BUFFER SI:BASIC-BUFFERED-INPUT-STREAM)0:  (P.C. = 12)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM 234063263>
   Arg 2 (FLAVOR::.GENERIC.): :SETUP-NEXT-INPUT-BUFFER
   Arg 3 (SI:NO-HANG-P): NIL
   Arg 4 (SI:EOF): NIL

1(FLAVOR:COMBINED :SETUP-NEXT-INPUT-BUFFER FS:FILE-INPUT-BINARY-STREAM)0:  (P.C. = 11)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-BINARY-STREAM 234063217>
   Arg 2 (FLAVOR::.GENERIC.): :SETUP-NEXT-INPUT-BUFFER
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (NIL NIL)

1(FLAVOR:METHOD :TYI SI:BASIC-BUFFERED-INPUT-STREAM)0:  (P.C. = 15)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM 234063263>
   Arg 2 (FLAVOR::.GENERIC.): :TYI
2   --Defaulted args:--
0   Arg 3 (SI:EOF): NIL

1ZL:TYI0:  (P.C. = 11)
   Rest arg (SI:READ-ARGS): (#<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544> NIL)

1READ-CHAR0:  (P.C. = 14)
   Arg 0 (CLI::INPUT-STREAM): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[GANDER]TEST.DAT" 31521544>
2   --Defaulted args:--
0   Arg 1 (CLI::EOF-ERRORP): T
   Arg 2 (CLI::EOF-VALUE): NIL
   Arg 3 (CLI::RECURSIVE-P): NIL

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (WITH-OPEN-FILE (S "pig:[gander]test.dat" :ELEMENT-TYPE (QUOTE (UNSIGNED-BYTE 8))) (READ-CHAR S))

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)
12-Jul-87 17:56:42-EDT,1349;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 12 Jul 87 17:56-EDT
Received: from KILLINGTON.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 62856; Sun 12-Jul-87 17:53:31 EDT
Date: Sun, 12 Jul 87 17:53 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: mouse sensitivity bug (in Zmail)
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870712175343.3.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45,
Experimental Mercury 8.0, Experimental Clx 1.1, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

Move the mouse just below the [Sort] item in the command pane in Zmail,
so that the cursor is an X but the item is not highlighted.  Now move
the mouse very slowly across the pane boundary into first line of the
text pane.  Discover that the character you end up on is not
highlighted.
13-Jul-87 08:20:44-EDT,18096;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 13 Jul 87 08:20-EDT
Received: from QUESTION-AUTHORITY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48488; Mon 13-Jul-87 08:17:55 EDT
Date: Mon, 13 Jul 87 08:17 EDT
From: Ken Haase <KWH@AI.AI.MIT.EDU>
Subject: This occured when modifying a hash table entry.
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870713081748.1.KWH@QUESTION-AUTHORITY.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30099,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Question Authority:



1Trap: The subscript given to the GLOBAL:AS-1 instruction, 101, on #S(CLI::TABLE-ARRAY-LEADER
                                                                     :FILLED-ELEMENTS 51
                                                                     :ENTRY-SIZE 2
                                                                     :NUMBER-OF-BUCKETS 1
                                                                     :ENTRIES-PER-BUCKET 50
                                                                     :GROWTH-FACTOR ...) was beyond the length, 100.
0While in the function (FLAVOR:COMBINED SCL:MODIFY-HASH CLI::EQL-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE)  MUTATE-LOOKUP  (:INTERNAL MAKE-MUTABLE 1)

The condition signalled was DBG:SUBSCRIPT-OUT-OF-BOUNDS-TRAP

1(FLAVOR:COMBINED SCL:MODIFY-HASH CLI::EQL-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE)0:  (P.C. = 205)
   Arg 0 (SCL:SELF): #<EQL-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 341347622>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CLI::EQL-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 250372061>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SCL:MODIFY-HASH 6700515>
   Arg 3 (CLI::KEY): #[472:#[347:CDR operation] qua relation]
   Arg 4 (CL:FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL MUTATE-LOOKUP 0) 232101344>
   Local 5 (CLI::KEY): #[472:#[347:CDR operation] qua relation]
   Local 6 (CL:FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL MUTATE-LOOKUP 0) 232101344>
   Local 7 (CLI::.LOCKED-IN-THIS-FRAME-P.): CL:T
   Local 8 (CLI::LOCK-VALUE): #<PROCESS Dynamic Lisp Listener 2 424000000>
   Local 9: SYS:UNWIND-PROTECT-TAG
   Local 10: #<DTP-ODD-PC 145101706>
   Local 11: #<DTP-LOCATIVE 232000056>
   Local 12: #<DTP-LOCATIVE 232101164>
   Local 13 (CLI::KEY): #[472:#[347:CDR operation] qua relation]
   Local 14 (CL:FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL MUTATE-LOOKUP 0) 232101344>
   Local 15 (CL:ARRAY): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 51 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 1 :ENTRIES-PER-BUCKET 50 :GROWTH-FACTOR ...)
   Local 16 (CLI::KEY-INDEX): 51
   Local 17 (CLI::SET-P): CL:NIL
   Local 18 (CLI::FOUNDP): CL:NIL
   Local 19 (CLI::OLD-VALUE): CL:NIL
   Local 20 (CLI::NEW-VALUE): #[847:SAME-SIZE-ABSTRACT-MAPPING of #[472:#[347:CDR operation] qua relation]]

1MUTATE-LOOKUP0:  (P.C. = 13)  2(from BERGERAC:/u/kwh/programs/plus/plus.)
0   Arg 0 (PSEUDOSCHEME:KEY): #[472:#[347:CDR operation] qua relation]
   Arg 1 (CL:FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 320132734>
   Arg 2 (PSEUDOSCHEME:TABLE): #<EQL-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 341347622>
   Arg 3 (PSEUDOSCHEME:DEFAULT): (NOT DEFINED)

1(:INTERNAL MAKE-MUTABLE 1)0:  (P.C. = 7)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<EQL-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 341347622>)
   Arg 1 (.X): #[472:#[347:CDR operation] qua relation]
   Arg 2 (.F): #<LEXICAL-CLOSURE (:INTERNAL # 0) 320132734>

1(:INTERNAL CONSTRUCT-INVERSE 0)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL MAKE-MUTABLE 1) 314260657> #<LEXICAL-CLOSURE (:INTERNAL MAKE-MUTABLE 1) 314275766> #<LEXICAL-CLOSURE (:INTERNAL CONSTRUCT-INVERSE 0) 314255010>)
   Arg 1: #[472:#[347:CDR operation] qua relation]
   Arg 2: #<LEXICAL-CLOSURE (:INTERNAL # 0) 320132727>

1(:INTERNAL GENERATE-MEMOIZER 0)0:  (P.C. = 26)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL MAKE-MUTABLE 0) 314255006> #<LEXICAL-CLOSURE (:INTERNAL MAKE-MAPPING-ABSTRACTION 0) 320102416>)
   Arg 1: #[472:#[347:CDR operation] qua relation]

1(:INTERNAL MAKE-ABSTRACTION-EXTENSION 0)0:  (P.C. = 14)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL MAKE-MUTABLE 0) 314260655> #<LEXICAL-CLOSURE (:INTERNAL GENERATE-MEMOIZER 0) 320102412>)
   Arg 1 (.X): #[472:#[347:CDR operation] qua relation]

1(:INTERNAL POSSIBILITY-GENERATOR! 0)0:  (P.C. = 4)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL MAKE-ABSTRACTION-EXTENSION 0) 320102376>)
   Arg 1 (.INSTANCE): #[472:#[347:CDR operation] qua relation]

1(:INTERNAL (:INTERNAL SETUP-EXPLORATION-PROJECT 0 .START-MAPPING) 0)0:  (P.C. = 50)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((#<LEXICAL-CLOSURE (:INTERNAL POSSIBILITY-GENERATOR! 0) 320102362> #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]] #[158:Faded Foci] #<LEXICAL-CLOSURE (:INTERNAL SETUP-EXPLORATION-PROJECT 0 .START-MAPPING) 320102364>) #<LEXICAL-CLOSURE (:INTERNAL CONSTRUCT-INSTANCE-GENERATOR 1) 320131715> 0 #<LEXICAL-CLOSURE (:INTERNAL # 0) 320132722>)

1(:INTERNAL SETUP-EXPLORATION-PROJECT 0 .START-MAPPING)0:  (P.C. = 23)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL POSSIBILITY-GENERATOR! 0) 320102362> #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]] #[158:Faded Foci] #<LEXICAL-CLOSURE (:INTERNAL SETUP-EXPLORATION-PROJECT 0 .START-MAPPING) 320102364>)
   Arg 1: #<LEXICAL-CLOSURE (:INTERNAL CONSTRUCT-INSTANCE-GENERATOR 1) 320131715>

1(:INTERNAL SETUP-EXPLORATION-PROJECT 1)0:  (P.C. = 5)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL POSSIBILITY-GENERATOR! 0) 320102362> #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]] #[158:Faded Foci] #<LEXICAL-CLOSURE (:INTERNAL SETUP-EXPLORATION-PROJECT 0 .START-MAPPING) 320102364>)

1ADVANCE-STATE0:  (P.C. = 4)  2(from BERGERAC:/u/kwh/programs/cyrano/control.scm)
0   Arg 0 (.STATE): #<LEXICAL-CLOSURE (:INTERNAL SETUP-EXPLORATION-PROJECT 1) 320102326>
   Arg 1 (.TIMEOUT): 2650476

1(:INTERNAL ADVANCE-PROJECT 2)0:  (P.C. = 21)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#[Project 85:  Trying to apply SAME-SIZE-ABSTRACT-MAPPING to samples #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]]] #<LEXICAL-CLOSURE (:INTERNAL SETUP-EXPLORATION-PROJECT 1) 320102326> #<DTP-LOCATIVE 232101141> #<LEXICAL-CLOSURE (:INTERNAL ADVANCE-PROJECT 0) 320130401> CL:NIL CL:NIL)

1DYNAMIC-WIND0:  (P.C. = 6)  2(from BERGERAC:/u/kwh/programs/plus/plus.)
0   Arg 0 (PSEUDOSCHEME:WIND): #<DTP-COMPILED-FUNCTION (:INTERNAL ADVANCE-PROJECT 1) 261552033>
   Arg 1 (DO): #<LEXICAL-CLOSURE (:INTERNAL ADVANCE-PROJECT 2) 320132712>
   Arg 2 (PSEUDOSCHEME:UNWIND): #<LEXICAL-CLOSURE (:INTERNAL ADVANCE-PROJECT 3) 320132714>

1ADVANCE-PROJECT0:  (P.C. = 53)  2(from BERGERAC:/u/kwh/programs/cyrano/control.scm)
0   Arg 0: #[Project 85:  Trying to apply SAME-SIZE-ABSTRACT-MAPPING to samples #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]]]

1EXECUTE-PROJECT0:  (P.C. = 6)  2(from BERGERAC:/u/kwh/programs/cyrano/control.scm)
0   Arg 0 (.P): #[Project 85:  Trying to apply SAME-SIZE-ABSTRACT-MAPPING to samples #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]]]

1NOISY-EXECUTE-PROJECT0:  (P.C. = 40)  2(from BERGERAC:/u/kwh/programs/cyrano/control.scm)
0   Arg 0: #[Project 85:  Trying to apply SAME-SIZE-ABSTRACT-MAPPING to samples #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]]]

1(:INTERNAL (:INTERNAL CYCLE-PROJECTS 0) 1)0:  (P.C. = 3)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#[Project 85:  Trying to apply SAME-SIZE-ABSTRACT-MAPPING to samples #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]]] 26)

1WITH-LEFT-MARGIN-PROCEDURE0:  (P.C. = 31)  2(from BERGERAC:/u/kwh/programs/plus/plus.)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL # 0) 320132312>
   Arg 1 (PSEUDOSCHEME:THUNK): #<LEXICAL-CLOSURE (:INTERNAL # 1) 320132707>

1(:INTERNAL CYCLE-PROJECTS 0)0:  (P.C. = 26)
   Arg 0: #[Project 85:  Trying to apply SAME-SIZE-ABSTRACT-MAPPING to samples #[820:#[814:#[147:Lisp Applications]<and>#[813:#[811:SubTypes(#[330:(#[7:Lists] X #[7:Lists])])]<or>#[812:SuperTypes(#[330:(#[7:Lists] X #[7:Lists])])]]]<and>#[156:Foci]]]
   Arg 1: 26

1(:INTERNAL CYCLE-PROJECTS 1)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#[140:Projects] #<DTP-COMPILED-FUNCTION (:INTERNAL CYCLE-PROJECTS 0) 261552266>)
   Arg 1 (.N): 26

1FOR-RANGE0:  (P.C. = 4)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 26
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 25
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 24
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 23
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 22
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 21
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 20
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 19
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 18
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 17
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 16
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 15
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 14
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 13
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 12
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 11
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 10
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 9
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 8
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 7
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 6
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 5
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 4
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 3
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 2
   Arg 2 (.TO): 100

1FOR-RANGE0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/utility/mapfcns.scm)
0   Arg 0 (.FCN): #<LEXICAL-CLOSURE (:INTERNAL CYCLE-PROJECTS 1) 314350552>
   Arg 1 (.FROM): 1
   Arg 2 (.TO): 100

1CYCLE-PROJECTS0:  (P.C. = 23)  2(from BERGERAC:/u/kwh/programs/cyrano/control.scm)
0   Arg 0: #[140:Projects]
   Arg 1 (.HOW-MANY-TIMES): 100

1DO-PROJECTS0:  (P.C. = 13)  2(from BERGERAC:/u/kwh/programs/cyrano/control.scm)
0   Arg 0 (.PROJECTS): #[140:Projects]
   Rest arg (.ARGS): (100)

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (DO-PROJECTS PROJECTS 100)

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SCL:SELF): #<PROCESS Dynamic Lisp Listener 2 424000000>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 232100204>
   Rest arg: CL:NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 232100147>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SCL:SELF): #<PROCESS Dynamic Lisp Listener 2 424000000>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232100112>
   Rest arg: CL:NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): CL:NIL
   Arg 2 (SI:READ-FUNCTION): CL:NIL
   Arg 3 (SI:EVAL-FUNCTION): CL:NIL
   Arg 4 (SI:PRINT-FUNCTION): CL:NIL
   Arg 5 (SI:INITIAL-FORM): CL:NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (CL:NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 702635 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (CL:NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 702635 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (CL:IGNORE): CL:NIL

   Special SYS:CURRENT-PROCESS: #<PROCESS Dynamic Lisp Listener 2 424000000>
   Special CLI::*BLOCK-ARRAY-GROW-SIZE*: 202
13-Jul-87 13:41:31-EDT,17792;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 13 Jul 87 13:41-EDT
Received: from PANDA.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 5328; Mon 13-Jul-87 10:32:04 EDT
Date: Mon, 13 Jul 87 10:29 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: 1Trap: The SYS:%BITBLT-SHORT-ROW microcode ran into a DESTINATION-OFFSET that was not a  fixnum.0
To: customer-reports@STONY-BROOK.SCRC.Symbolics.COM,
    bug-lispm@OZ.AI.MIT.EDU
Message-ID: <870713102937.1.TIERNEY@PANDA.MIT.EDU>

Date: Thu, 9 Jul 87 20:33 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: 1Trap: The SYS:%BITBLT-SHORT-ROW microcode ran into a DESTINATION-OFFSET that was not a fixnum.0
To: trev@VERMITHRAX.SCH.Symbolics.COM
cc: customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    bug-lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870709103129.7.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870709203308.1.TIERNEY@PANDA.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 ("MOUSE" 0) (NIL NIL NIL) "MOUSE")
                         (3 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, MOUSE, CPTFONTI

    Received: by EDDIE.MIT.EDU with sendmail-5.31/4.7 
	    id <AA26368@EDDIE.MIT.EDU>; Thu, 9 Jul 87 13:34:16 EDT
    Received: by ATHENA.MIT.EDU (5.45/4.7)
	    id AA04721; Thu, 9 Jul 87 13:35:09 EDT
    Received: by ACHILLES (5.45/4.7)
	    id AA06136; Thu, 9 Jul 87 13:34:51 EDT
    Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 190638; 9 Jul 87 13:33:03 EDT
    Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 61585; Thu 9-Jul-87 10:31:31 PDT
    Date: Thu, 9 Jul 87 10:31 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
    Subject: 1Trap: The SYS:%BITBLT-SHORT-ROW microcode ran into a DESTINATION-OFFSET that was not a fixnum.
0    To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
    Cc: customer-reports@VERMITHRAX.SCH.Symbolics.COM,
	    bug-lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
    In-Reply-To: <870708183716.1.TIERNEY@WINNIE-THE-POOH.MIT.EDU>
    Message-Id: <870709103129.7.TREV@CALYPSO.SCH.Symbolics.COM>
    Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
    Fonts: CPTFONT, CPTFONTCB

	Date: Wed, 8 Jul 87 18:37 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	In Symbolics 3650 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
	7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
	Experimental SPIRE Extensions 2.0, microcode 3650-MIC 396, FEP 206,
	Fep0:>g206-lisp.flod(14), Fep0:>g206-loaders.flod(14),
	Fep0:>g206-info.flod(14), Fep0:>g206-debug.flod(4),
	Machine serial number 30421, World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Winnie the Pooh:

	As I moved over a graphical presentation I had just created, I received
	the message that the scheduler was ignoring the an error in a periodic
	action.  The first stack frames are from that error.  Twice before I
	continued past this error with too much of a care and after playing
	around a little more, [perhaps trying to run the presentation inspector]
	was blown into the cold load stream because every time I tried to
	deexpose the current window, this error appeared, the stack frames from
	one of these errors follows *** 

	1Trap: The SYS:%BITBLT-DECODE-ARRAYS microcode ran into an ARRAY-INDEX-OFFSET that was not a fixnum.
0	While in the function BITBLT  (FLAVOR:METHOD :DEEXPOSE TV:SHEET)  (:INTERNAL (FLAVOR:COMBINED :DEEXPOSE DW:DYNAMIC-WINDOW) 0)

	The condition signalled was DBG:WRONG-INTERNAL-TYPE-TRAP

    [...]

    Looks like the mouse process was still trying to draw its 
    sensitivity-boxes when the window was de-exposed (was a
    rectangle left when you went to another window, or did it
    ever get that far?).  Would a copy of your presentation be
    any help here (could we reproduce it at will)?  If so, I
    can try out different mouse-operations and understand what's
    going on.

    -trev


Yesterday, I was drawing some stuff where
some of the coordinates were not always integers.  I inserted some
1round0's in key places and the bug seems to have gone away, since it
won't even plot without the rounds in there all I get is the following
	1: Some argument to SYS:%DRAW-LINE-LOOP was not a fixnum.
0However the circle that is part of the presentation was drawn. Trying to
move the mouse over this produces the same error seen yesterday [message
from the scheduler]

Before entering the cold-load stream another window could be selected.

Here is some of the code that produced it:

(defstruct (sample (:print-function print-sample)
		   (:constructor make-sample-internal))
  index
  natural-index
  natural-index-string  ;; a string
  value
  value-string  ;; a string
  old-value
  old-value-string)

(defun make-sample (index value sampling-rate abscissa-unit-string
		    ordinate-unit-string offset-of-edited-region)
  (let* ((natural-index (float (/ (+ index offset-of-edited-region)
				  sampling-rate)))
	 (natural-index-string (format nil "~f ~a" natural-index abscissa-unit-string))
	 (value-string (format nil "~f ~a" value ordinate-unit-string)))
    (make-sample-internal :index index :natural-index natural-index
			  :natural-index-string natural-index-string
			  :value value :value-string value-string
			  :old-value value :old-value-string value-string)))

(defun print-sample (sample stream ignore &key (format :normal))
  (case format
    (:brief
      (prin1 (sample-natural-index sample)))
    (:normal
      (sys:printing-random-object (sample stream)
	(princ (type-of sample) stream)
	(zl:tyo #\space stream)
	(prin1 (sample-index sample) stream)
	(zl:tyo #\space stream)
	(prin1 (sample-value sample) stream)))
    (:detailed
      (write-string
	(string-append "A sample at "
		       (sample-natural-index-string sample)
		       " with the value "
		       (sample-value-string sample))))))


(define-presentation-type sample (() &key (format :normal))
   :no-deftype t
   :history t
   :printer ((object stream) (print-sample object stream nil :format
					   format)))


(defun draw-sample (sample x-scale y-scale horizontal-pixel-offset
		    vertical-pixel-offset window)
  (let* ((center-x (+ horizontal-pixel-offset (* x-scale (sample-index sample))))
	 (center-y (- vertical-pixel-offset (* y-scale (sample-value sample)))))
     (dw:with-output-as-presentation (:stream window :object sample
					      :type 'sample
					   ;  :single-box t
					     )
      (graphics:draw-circle center-x center-y *radius-of-lollipops* :stream window
			    :filled t)
      (graphics:draw-line center-x center-y center-x vertical-pixel-offset
			  :stream window :thickness *stem-thickness*))))

Here is some info about the pane the mouse was over


(describe dw)
#<DYNAMIC-WINDOW-PANE Display Pane 7205745 exposed>, an object of flavor DW::DYNAMIC-WINDOW-PANE,
 has instance variable values:
  TV:SCREEN-ARRAY:                      #<ART-1B-571-745 67616065>
  TV:LOCATIONS-PER-LINE:                34
  TV:OLD-SCREEN-ARRAY:                  #<ART-1B-571-745 67616065>
  TV:BIT-ARRAY:                         NIL
  TV:NAME:                              "Display Pane"
  TV:LOCK:                              NIL
  TV:LOCK-COUNT:                        0
  TV:SUPERIOR:                          #<PROGRAM-FRAME The best damn editor of anything in the whole wide world 1 7204407 deexpo
sed>
  TV:INFERIORS:                         NIL
  TV:EXPOSED-P:                         T
  TV:EXPOSED-INFERIORS:                 NIL
  TV:X-OFFSET:                          1
  TV:Y-OFFSET:                          28
  TV:WIDTH:                             745
  TV:HEIGHT:                            571
  TV:CURSOR-X:                          17
  TV:CURSOR-Y:                          3
  TV:MORE-VPOS:                         508
  TV:TOP-MARGIN-SIZE:                   3
  TV:BOTTOM-MARGIN-SIZE:                31
  TV:LEFT-MARGIN-SIZE:                  17
  TV:RIGHT-MARGIN-SIZE:                 3
  TV:FLAGS:                             32768
  TV:DEFAULT-STYLE:                     #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351>
  TV:BASELINE:                          10
  TV:CURRENT-STYLE:                     #<CHARACTER-STYLE NIL.NIL.NIL 110604234>
  TV:CURRENT-FONT:                      #<FONT CPTFONT 120007646>
  TV:BASELINE-ADJ:                      0
  TV:LINE-HEIGHT:                       14
  TV:CHAR-WIDTH:                        8
  TV:CHAR-ALUF:                         7
  TV:ERASE-ALUF:                        2
  TV:BLINKER-LIST:                      (#<BOXES-BLINKER 1201122>)
  TV:DEEXPOSED-TYPEOUT-ACTION:          :NORMAL
  TV:TEMPORARY-BIT-ARRAY:               NIL
  TV:TEMPORARY-WINDOWS-LOCKED:          NIL
  TV:RESTORED-BITS-P:                   NIL
  TV:INVISIBLE-TO-MOUSE-P:              NIL
  TV:SCREEN-MANAGER-SCREEN-IMAGE:       NIL
  TV:PRIORITY:                          NIL
  TV:TIME-STAMP:                        (4 1067 750 #<FONT CPTFONT 120007646> 43 64)
  TV:SCREEN:                            #<MAIN-SCREEN Main Screen 1501336 exposed>
  TV:DISPLAY-DEVICE-TYPE:               #<B&W-SCREEN-DISPLAY-DEVICE 120220457>
  TV:MERGED-CURRENT-STYLE:              #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351>
  TV:VSP:                               2
  TV:INFERIOR-LOCK-COUNT:               0
  TV:CHARSET&STYLEFONT-CACHE:          #<VARIABLE-STYLE-FONT-CACHE Generation 1 cache: 97% hit rate on 74 probes 67637417>
  TV:CLIPPING-REGION:                   (17 3 742 540)
  TV:SHEET-SPARE-1:                     unbound
  TV:SHEET-SPARE-2:                     unbound
  TV:SHEET-SPARE-3:                     unbound
  TV:SHEET-SPARE-4:                     unbound
  SI:ASYNCHRONOUS-CHARACTERS:           ((#\c-Abort TV:KBD-ASYNCHRONOUS-INTERCEPT-CHARACTER)
                                         (#\c-m-Abort TV:KBD-ASYNCHRONOUS-INTERCEPT-CHARACTER)
                                         (#\c-Suspend TV:KBD-ASYNCHRONOUS-INTERCEPT-CHARACTER)
                                         (#\c-m-Suspend TV:KBD-ASYNCHRONOUS-INTERCEPT-CHARACTER))
  SI:INPUT-EDITOR-BUFFER:               unbound
  SI:INPUT-HISTORY:                     NIL
  SI:LAST-INPUT:                        NIL
  SI:YANK-HISTORY:                      NIL
  SI:MARK:                              NIL
  SI:ACTIVATOR:                         NIL
  SI:RESCAN-CHARACTER:                  NIL
  SI:RESCAN-POINTER:                    NIL
  SI:ECHO-STYLE:                        #<CHARACTER-STYLE NIL.NIL.NIL 110604234>
  SI:TYPEOUT-TYPE:                      NIL
  SI:TYPEOUT-OVERWRITABLE:              NIL
  SI:BUFFER-X:                          NIL
  SI:BUFFER-Y:                          NIL
  SI:PROMPT-X:                          NIL
  SI:PROMPT-Y:                          NIL
  SI:TYPEOUT-X:                         NIL
  SI:TYPEOUT-Y:                         NIL
  SI:NOTIFICATION:                      NIL
  SI:NOTIFICATION-MODE:                 :POP-UP
  SI:TYPEIN-STYLE:                      0
  SI:SPARE-SLOT-1:                      NIL
  SI:SPARE-SLOT-2:                      NIL
  SI:SPARE-SLOT-3:                      NIL
  SI:SPARE-SLOT-4:                      NIL
  TV:IO-BUFFER:                         #<IO-BUFFER empty, State: NIL 67610106>
  TV:FLASHY-SCROLLING-REGION:           ((32 0.8 :RIGHT) (32 0.8 :RIGHT))
  TV:FLASHY-SCROLLING-MAX-SPEED:        6
  TV:FLASHY-SCROLLING-BLINKER:          NIL
  DW::MOUSE-MOTION-PENDING:             NIL
  DW::MOUSE-X-POSITION:                 131
  DW::MOUSE-Y-POSITION:                 429
  DW::WHO-LINE-DOCUMENTATION-STRING:    NIL
  DW::WHO-LINE-MORE-DOCUMENTATION-STRING:   "To see other commands, press Shift, Control, Meta-Shift, or Super."
  DW::WHO-LINE-DOCUMENTATION-LAST-SHIFTS:   0
  DW::HIGHLIGHTING-BLINKER:             #<BOXES-BLINKER 1201122>
  DW::LAST-HIGHLIGHTED-PRESENTATION:    NIL
  DW::LAST-CONTEXT-TICK:                18674
  DW::DOCUMENTATION-BLANKING-PENDING-TIMEOUT:   NIL
  DW::DOCUMENTATION-BLANKING-PENDING-TIMEOUT-TIME:   5863619
  DW::MOUSE-BLINKER-CHARACTER:          #\2
0  DW::DOCUMENTATION-STRING-BUFFER-1:    "s-Mouse-R: Presentation debugging menu."
  DW::DOCUMENTATION-STRING-BUFFER-2:    "Mouse-R: Menu of completions."
  DW::LAST-SPECIAL-STABLE-CONTEXT:      NIL
  DW::LAST-STABLE-VISIBILITY:           NIL
  DW::MARGIN-COMPONENTS:                (#<MARGIN-RAGGED-BORDERS 67641611> #<MARGIN-SCROLL-BAR 67641637>
                                         #<MARGIN-SCROLL-BAR 67641701> #<MARGIN-LABEL 67641741>)
  DW::MOUSE-MARGIN-COMPONENT:           NIL
  DW::END-OF-PAGE-MODE:                 :DEFAULT
  DW::SCROLL-FACTOR:                    NIL
  DW::DISPLAYED-PRESENTATIONS:          #<ART-Q-400 67637744>
  DW::DISPLAYED-STRINGS:                #S(DW::DISPLAYED-STRINGS-ARRAY :FILL-POINTER 0
                                                                       :REGION-STRINGS NIL)
  DW::CURSOR-VIEWPORT:                  #<VIEWPORT /x 0:725, y 0:532/ 404070002>
  DW::SECONDARY-VIEWPORT:               NIL
  DW::MINIMUM-Y-POSITION:               0
  DW::MINIMUM-X-POSITION:               0
  DW::MAXIMUM-Y-POSITION:               218.16411
  DW::MAXIMUM-X-POSITION:               36
  DW::LAST-TYPEIN-Y:                    0
  DW::VIEWPORT-DISPLAYED-PRESENTATIONS-START-INDEX:   0
  DW::VIEWPORT-DISPLAYED-PRESENTATIONS-END-INDEX:   NIL
  DW::VIEWPORT-DISPLAYED-STRINGS-START-INDEX:   0
  DW::VIEWPORT-DISPLAYED-STRINGS-END-INDEX:   NIL
  DW::CURRENT-OUTPUT-DISPLAYED-STRING:   NIL
  DW::STRING-OUT-STATE:                 NIL
  DW::CURRENT-OUTPUT-DISPLAYED-PRESENTATION:   NIL
  DW::CURRENT-OUTPUT-DISPLAYED-PRESENTATION-TEXT:   NIL
  DW::OUTPUT-RECORDING-ENABLED:         T
  DW::COORDINATE-TRANSFORMATION-ENABLED:   T
  DW::INPUT-EDITOR-INITIAL-X:           0
  DW::INPUT-EDITOR-INITIAL-Y:           0
  DW::MATCHING-CHARACTER-BLINKER:       NIL
  DW::GPRINT-EVENT-NOTER:               #<LEXICAL-CLOSURE (:INTERNAL DW::MAKE-GPRINT-EVENT-NOTER 0) 340234506>
  DW::ASYNCHRONOUS-SCROLL-HANDLER:      NIL
#<DYNAMIC-WINDOW-PANE Display Pane 7205745 exposed>
  
-- dw::displayed-presentations
3(DESCRIBE '#<ART-Q-400 67637744>)
0#<ART-Q-400 67637744> is an ART-Q type array.
It uses %ARRAY-DISPATCH-LEADER; it is 400 elements long, with a leader of length 1.
#<ART-Q-400 67637744>
  (aref * 0)


--- only non-nil element of dw::displayed-presentations

#<DISPLAYED-PRESENTATION 404620743>
  3(DESCRIBE '#<DISPLAYED-PRESENTATION 404620743>)
0#<DISPLAYED-PRESENTATION 404620743>, an object of flavor DW::DISPLAYED-PRESENTATION,
 has instance variable values:
  DW::OBJECT:               #<SAMPLE 0 1 354025701>
  TYPE:                     SPIRE-INTERNALS::SAMPLE
  DW::LOCATION:             NIL
  SYS:FORM:                 NIL
  DW::INFERIORS:            (#<LINE-GRAPHICS-DISPLAYED-PRESENTATION 404621000>
                             #<FILLED-IN-CIRCLE-GRAPHICS-DISPLAYED-PRESENTATION 404620756>)
  DW::SUPERIOR:             NIL
  DW::SINGLE-BOX:           NIL
  DW::SENSITIVE-INFERIORS:   T
  DW::DISPLAYED-BOX:        #<BOX /x 25:36, y 207.16411:218.16411/ 404620736>
  DW::DISPLAYED-BOX-VALID:   T
#<DISPLAYED-PRESENTATION 404620743>
  3(DESCRIBE '#<SAMPLE 0 1 354025701>)
0#<SAMPLE 0 1 354025701> is a SPIRE-INTERNALS::SAMPLE
  ZL-SPI:INDEX:         0
  SPIRE-INTERNALS::NATURAL-INDEX:   0.0
  SPIRE-INTERNALS::NATURAL-INDEX-STRING:   "0.0 seconds"
  SPIRE-INTERNALS::VALUE:   1
  SPIRE-INTERNALS::VALUE-STRING:   "1.0 numbers"
  SPIRE-INTERNALS::OLD-VALUE:   1
  SPIRE-INTERNALS::OLD-VALUE-STRING:   "1.0 numbers"
#<SAMPLE 0 1 354025701> is implemented as an ART-Q type array.
It uses %ARRAY-DISPATCH-WORD; it is 8 elements long.
#<SAMPLE 0 1 354025701>
  3(DESCRIBE '#<LINE-GRAPHICS-DISPLAYED-PRESENTATION 404621000>)
0#<LINE-GRAPHICS-DISPLAYED-PRESENTATION 404621000>, an object of flavor DW::LINE-GRAPHICS-DISPLAYED-PRESENTATION,
 has instance variable values:
  DW::OBJECT:               NIL
  TYPE:                     DW::GRAPHICS
  DW::LOCATION:             NIL
  SYS:FORM:                 NIL
  DW::INFERIORS:            NIL
  DW::SUPERIOR:             #<DISPLAYED-PRESENTATION 404620743>
  DW::SINGLE-BOX:           NIL
  DW::SENSITIVE-INFERIORS:   T
  DW::DISPLAYED-BOX:        #<BOX /x 30:31, y 212.16411:215/ 404621015>
  DW::DISPLAYED-BOX-VALID:   T
  DW::OPERATION:            :DRAW-LINE
  DW::ARGUMENTS:            (30 212.16411 30 214 7 T)
#<LINE-GRAPHICS-DISPLAYED-PRESENTATION 404621000>
  3(DESCRIBE '#<FILLED-IN-CIRCLE-GRAPHICS-DISPLAYED-PRESENTATION 404620756>)
0#<FILLED-IN-CIRCLE-GRAPHICS-DISPLAYED-PRESENTATION 404620756>, an object of flavor DW::FILLED-IN-CIRCLE-GRAPHICS-DISPLAYED-PRESEN
TATION,
 has instance variable values:
  DW::OBJECT:               NIL
  TYPE:                     DW::GRAPHICS
  DW::LOCATION:             NIL
  SYS:FORM:                 NIL
  DW::INFERIORS:            NIL
  DW::SUPERIOR:             #<DISPLAYED-PRESENTATION 404620743>
  DW::SINGLE-BOX:           NIL
  DW::SENSITIVE-INFERIORS:   T
  DW::DISPLAYED-BOX:        #<BOX /x 25:36, y 207.16411:218.16411/ 404620773>
  DW::DISPLAYED-BOX-VALID:   T
  DW::OPERATION:            :DRAW-FILLED-IN-CIRCLE
  DW::ARGUMENTS:            (30 212.16411 5 7)
#<FILLED-IN-CIRCLE-GRAPHICS-DISPLAYED-PRESENTATION 404620756>

Hope it helps some.
13-Jul-87 15:55:34-EDT,3531;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 13 Jul 87 15:55-EDT
Date: Mon, 13 Jul 87 15:48 EDT
From: David H Kaufman <SR.Kaufman@SPEECH.MIT.EDU>
Sender: Zoo-Keepers@SPEECH.MIT.EDU
Subject: Unibus + MTI = Crash
To: Customer-Reports@symbolics.com
cc: BUG-LISPM@OZ.AI.MIT.EDU, bug-zoo@GOLDILOCKS.MIT.EDU
Message-ID: <870713154819.9.ZOO-KEEPER@GOLDILOCKS.MIT.EDU>

In Symbolics 3670 Genera 7.1, Mailer 5.13, Print Spooler 3.10, Hacks 3.0,
Zoo 7.8, Zoo Keeper 2.8, IP-TCP 52.16, 7-1-Patches 1.19,
Speech Printers 2.1, Experimental Speech Printer Managers 3.1,
microcode 3670-MIC 396, FEP 127, FEP6:>v127-lisp.flod(55),
FEP6:>v127-debug.flod(34), FEP6:>v127-loaders.flod(55),
FEP6:>v127-info.flod(55), Machine serial number 2145,
Mailer resolver patch (from SYS:LOCAL;ZOO;MAILER-PATCHES.LISP.2),
Zoo Server-Finger patch (from SYS:LOCAL;ZOO;SERVER-FINGER.LISP.194),
World load FEP6:>Goldy-7-1-c-Server.load.1, on Lisp Machine Goldilocks:
Warm booted from: Update finger cache, Driver Papa Bear.
Processes forcibly aborted:
  Fsmaint Frame 1 aborted with the following warning:
    The function LMFS:BACKUP-DUMP-I is executing a cleanup form.
    Aborting before the cleanup is complete could leave the program in
    an inconsistent state and cause it to operate incorrectly later.

My file server has just crashed twice in less than 3 hours with the
following crash data:

  FEP Lbus control: Doorbell Int Enb, Use Corrected Data, Ignore Double ECC Error, Task 3 Dismiss
  FEP proc control: FEP Int Enable
  Sequencer error status: MC-error (map, ifu, or main mem)
  Sequencer miscellaneous status: CTOS-came-from-IFU, TSK-STOP (sequencer stopped), Errhalt-Sync
  MC error status: Double bit error
  ECC syndrome 75, address 16xxxxx3 (Lbus slot 7, bank 3)
  3600 program counters:
    Macro PC/ (Even)260327664, VMA/ 67, FP/ 276300251, SP/ 276300260
    CPC/   440
   OPC+0/ 40002      OPC+10/ 41331
    OPC+1/ 41355      OPC+11/ 41132
    OPC+2/ 53062      OPC+12/ 52306
    OPC+3/ 47353      OPC+13/ 42732
    OPC+4/ 41302      OPC+14/ 40710
    OPC+5/ 41426      OPC+15/ 45035
    OPC+6/ 40400      OPC+16/ 45034
    OPC+7/ 53045      OPC+17/ 40002

For the first crash, the data was the same except it was ECC syndrome
70, FP/ 301300257, SP/ 301300266.

At the time of the crashes, a backup was in Tape Finish, and the current
process was driving a Versatec via a FEP Unibus, in the following
function:

(defun %%fep-bus-command (command address data address-2 wait-for-completion)
  (loop as com = fep-bus-command
	for timer upfrom 0
	do (selectq com
	     (0 (return t))
	     (-1 (fsignal "Previous command erred.") (return nil))
	     (otherwise (when (> timer 1000.)
			  (process-wait "Previous FEP command"
					#'(lambda () (memq fep-bus-command '(0 -1))))))))
  (when address (setq fep-bus-address address))
  (when data (setq fep-bus-data data))
  (when address-2 (setq fep-bus-address-2 address-2))
  (setq fep-bus-command command)
  (when wait-for-completion
    (loop as com = fep-bus-command
	  for timer upfrom 0
	  do (selectq com
	       (0 (return t))
	       (-1 (fsignal "Command failed.")
		   (setq fep-bus-command 0)
		   (return nil))
	       (otherwise (when (> timer 1000.)
			    (process-wait "FEP command complete"
				#'(lambda () (memq fep-bus-command '(0 -1))))))))))

Are we violating some LBus protocol or lock, or is combining a FEP
Unibus and a magtape drive on a single machine bound to lose? 
13-Jul-87 17:21:03-EDT,5362;000000000000
Return-Path: <@XX.LCS.MIT.EDU:Cassels@STONY-BROOK.SCRC.Symbolics.COM>
Received: from XX.LCS.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Mon 13 Jul 87 17:20:57-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM by XX.LCS.MIT.EDU with TCP/SMTP; Mon 13 Jul 87 17:16:38-EDT
Received: from KRYPTON.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 191294; Fri 10-Jul-87 14:48:30 EDT
Date: Fri, 10 Jul 87 14:48 EDT
From: Robert A. Cassels <Cassels@STONY-BROOK.SCRC.Symbolics.COM>
Subject: LSB of (RANDOM float) isn't
To: Greenwald@STONY-BROOK.SCRC.Symbolics.COM, PAO@DEEP-THOUGHT.MIT.EDU
cc: GLR%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU, Bug-Lispm%OZ.AI.MIT.EDU@XX.LCS.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Numerics@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870705102027.7.GREENWALD@SWALLOW.S4CC.Symbolics.COM>
Message-ID: <870710144816.7.CASSELS@KRYPTON.SCRC.Symbolics.COM>

    Date: Sun, 5 Jul 87 10:20 EDT
    From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>

	Date: Wed, 1 Jul 87 11:38 EDT
	From: Patrick A. O'Donnell <PAO@DEEP-THOUGHT.MIT.EDU>

	    Date: Mon, 29 Jun 87 19:05 EDT
	    From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
    
		[...]

	    For an exponent of -N the low order N bits are zero, so we only get
	    1/2^N of the possible numbers with that exponent.  There are K=2^23
	    possible numbers with each exponent.  There are about 127 possible
	    exponents between least-positive-single-float and 1.0.  Hmm, but (random
	    1.0) will never generate least-positive-single-float, since it gets its
	    exponent from trimming zeros off, so we're only interested in 23
	    exponents.  So, the total number of possible random numbers for a single
	    float argument is:  sum(for i from 1 to 23) of (1/2^i)*K.  Which is
	    almost K.  But there are really 23*K single floats expressible between
	    (expt 2 -23) and 1.0, so we only cover 1/23 of the possible numbers.
    
	    So 22/23 of the possible numbers aren't there.
    
	    Does that make sense?
    
	No.  You were right the first time.  The implementation produces 2^23
	numbers in the interval [1.0, 2.0), with approximately uniform
	probability, and with uniform density (all the possible numbers are
	2^-23 apart).  Subtracting 1.0 does not change either of these
	properties.  There are 127*2^23 possible floating point numbers in the
	interval [0.0, 1.0), including denormalized numbers (127 exponents each
	with 23 fraction bits).  Thus (RANDOM 1.0) produces 126/127 of the
	numbers possible. 

    Not that it's important, but...

    If your reasoning is correct, then (RANDOM 1.0) produces 1/127 of the
    numbers possible, not 126/127 (2^23 / (127*2^23)).

    But the (trivial) point of my paragraph above was that (RANDOM 1.0)
    *really* only produces numbers in the interval 
    {1.0 U [(1.0 + 2^-23), 2.0)},
    rather than [1.0, 2.0), so that when you subtract 1.0, there are only 23
    possible exponents; so 1/23 of the representable numbers are produced,
    rather than 1/127.

		[...]

	    The vast majority of these missing numbers are in "sparse" regions of
	    the range, so "they'll never be missed".  What I mean is that even
	    though there are twice as many missing numbers with exponent -2 as with
	    exponent -1, it is *twice* as likely that a number with exponent -1 will
	    be chosen than that a number with exponent -2 will be chosen.
    
	    The numbers with 2 missing bits are half as likely to be generated as a
	    number with 1 missing bit, and twice as likely as a number with 3
	    missing bits.  And so on.  So the expected value of "missing bits per
	    number generated by (random 1.0)" is a less than 2 bits.  So the biggest
	    pay-off would be to make sure those 2 bits are still random and
	    significant.

			[...]

	I think it's misleading to talk about "missing bits".  (RANDOM n), where
	n is a single float, one of 2^23 possible numbers in the interval [0, n)
	with each number having approximate probability 2^-23 (except when n is
	a denormalized number).  These numbers are uniformly dense in the
	interval, with a nearly constant distance between numbers of
	approximately n*2^-23.  These properties are perhaps useful for some
	applications.  Another implmentation could, of course, supply more than
	2^23 random numbers with non-uniform density while maintaining the
	property that P(Random(n)  [a, b)) is approximately (b-a)/n when b-a is
	sufficiently large compared to the local density.  Some applications
	might find these properties useful.  I don't think it's possible to say
	which implmentation produces numbers with more randomness.

    True.  I don't know what "more randomness" means in this context.  But,
    I think GLR was pointing out that we can increase the cardinality of
    the range of RANDOM, and the precision of the numbers returned.
    Although it doesn't "increase the randomness", it's hard to argue that
    GLR's suggested behavior isn't an improvement.  Since the cost of
    improving RANDOM is negligible, why not do it?

Done in the development system.  The single-float case is done by
(scale-float (float (random-internal) ....
The double case is done similarly, sort-of.


13-Jul-87 20:27:43-EDT,2517;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 13 Jul 87 20:27-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 48609; 13 Jul 87 20:24:59 EDT
Received: from EUPHRATES.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 191914; Mon 13-Jul-87 14:30:18 EDT
Date: Mon, 13 Jul 87 14:30 EDT
From: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: Catastrophic failure due to flavor bug
To: John C. Mallery <JCMA@AI.AI.MIT.EDU>
cc: Bug-Lispm@REAGAN.AI.MIT.EDU
In-Reply-To: <870708042056.1.JCMA@MORRISON.AI.MIT.EDU>
Message-ID: <870713143009.3.MOON@EUPHRATES.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

    Date: Wed, 8 Jul 87 04:20 EDT
    From: John C. Mallery <JCMA@AI.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2,
    Experimental 1Relatus Natural Language System0 168.5,
    Experimental Reference 6.2, Experimental Jcma 2, microcode 3650-MIC 396,
    FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30080, on Lisp Machine Jim Morrison:

    Try defining a defgeneric form with a compatible message of :get, as an
    automatic conversion program might do.  Then stand back. Better save
    everything first.

    This class of bug was reported long ago at SCRC but not fixed in 7.1

    Catastrophic failure like this is not so good for the reliability image.

Perhaps I'm just not smart enough, but from the information in this report
I wasn't able to find any previous report that matches this, nor was I able
to figure out what you're talking about.  It sounds to me like you're just
commenting that this is an open system and the user is free to redefine any
system function with a broken version, thus shafting himself.  Perhaps that
isn't what you're saying at all, but how can I tell when all you give is a
vague description of a test case and a warning not to actually try it; that
certainly reduces any inclination I might have to experiment with a bunch of
test cases until I find one that exhibits a bug that might be the same bug
that you were talking about.

A message that said what exactly you did and what exactly happened that was
unexpected would be likely to get more attention.

14-Jul-87 12:22:57-EDT,2393;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 14 Jul 87 12:22-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 63215; 14 Jul 87 12:19:46 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 192578; 14 Jul 87 12:19:30 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 62599; Tue 14-Jul-87 09:16:29 PDT
Date: Tue, 14 Jul 87 09:16 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: mouse sensitivity bug (in Zmail)
To: RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870712175343.3.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870714091635.9.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Sun, 12 Jul 87 17:53 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45,
    Experimental Mercury 8.0, Experimental Clx 1.1, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

    Move the mouse just below the [Sort] item in the command pane in Zmail,
    so that the cursor is an X but the item is not highlighted.  Now move
    the mouse very slowly across the pane boundary into first line of the
    text pane.  Discover that the character you end up on is not
    highlighted.


You have to have a very steady hand to move the mouse slowly enough,
but it does show (not only with [Sort], but all of the bottom-row
commands, if the first line of text is long enough).  Even when you're
on an un-highlighted character, clicking will get you into the text
pane for editing.  I'll see if anyone can explain why single-pixel
motion is necessary to uncover this.

-trev


14-Jul-87 14:17:53-EDT,2268;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 14 Jul 87 14:17-EDT
Date: Tue, 14 Jul 87 14:14 EDT
From: sr.tierney@SPEECH.MIT.EDU
Sender: Zoo-Keepers@SPEECH.MIT.EDU
Subject: unable to read a backup tape
To: BUG-LISPM@OZ.AI.MIT.EDU,
    customer-reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870714141435.9.ZOO-KEEPER@GOLDILOCKS.MIT.EDU>

In Symbolics 3670 Genera 7.1, Mailer 5.13, Print Spooler 3.10, Hacks 3.0,
Zoo 7.8, Zoo Keeper 2.8, IP-TCP 52.16, 7-1-Patches 1.19,
Speech Printers 2.1, Experimental Speech Printer Managers 3.1,
microcode 3670-MIC 396, FEP 127, FEP6:>v127-lisp.flod(55),
FEP6:>v127-debug.flod(34), FEP6:>v127-loaders.flod(55),
FEP6:>v127-info.flod(55), Machine serial number 2145,
Mailer resolver patch (from SYS:LOCAL;ZOO;MAILER-PATCHES.LISP.2),
Zoo Server-Finger patch (from SYS:LOCAL;ZOO;SERVER-FINGER.LISP.194),
World load FEP6:>Goldy-7-1-c-Server.load.1, on Lisp Machine Goldilocks:
Warm booted from: Update finger cache, Driver Papa Bear.
Processes forcibly aborted:
  Fsmaint Frame 1 aborted with the following warning:
    The function LMFS:BACKUP-DUMP-I is executing a cleanup form.
    Aborting before the cleanup is complete could leave the program in
    an inconsistent state and cause it to operate incorrectly later.

These are  errors I keep getting when I try to reload some important
data off of a tape.  This data is rather important for us to
reload.  Is there any way to get around these sort of errors?  Thanks
in advance for your help.


7/06/87 10:28:15: Reloader
error log at 7/06/87 10:28:15 logged in as Lisp-Machine on GOLDILOCKS, 
file being written as GOLDY:>reload-logs>RELOAD-7/6/87-10:28.log.1.  Reload host is GOLDILOCKS.

7/06/87 10:28:13: Couldn't reload >dynamic>data>u>tiap-45>mjwg0-5>si2155-b-mjwg0.utt.5:
Hard tape error on reel ginc011: The record on tape is longer than the buffer allotted.
7/06/87 10:28:23: Couldn't reload >dynamic>data>u>tiap-45>mjwg0-5>si813-b-mjwg0.utt.5:
Hard tape error on reel ginc011: The record on tape is longer than the buffer allotted.
7/06/87 10:28:35: Couldn't reload >dynamic>data>u>tiap-45>mjwg0-5>si895-b-mjwg0.utt.5:
Hard tape error on reel ginc011: The record on tape is longer than the buffer allotted.
14-Jul-87 16:29:12-EDT,3236;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 14 Jul 87 16:29-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 48766; Tue 14-Jul-87 16:25:38 EDT
Date: Tue, 14 Jul 87 16:26 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: Catastrophic failure due to flavor bug
To: Moon@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-Lispm@REAGAN.AI.MIT.EDU
In-Reply-To: <870713143009.3.MOON@EUPHRATES.SCRC.Symbolics.COM>
Message-ID: <870714162635.0.JCMA@MORRISON.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTI, CPTFONTCB

    Date: Mon, 13 Jul 87 14:30 EDT
    From: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>

	Date: Wed, 8 Jul 87 04:20 EDT
	From: John C. Mallery <JCMA@AI.AI.MIT.EDU>

	In Symbolics 3650 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
	7-1-Patches 1.19, MAC 11.2,
	Experimental 1Relatus Natural Language System0 168.5,
	Experimental Reference 6.2, Experimental Jcma 2, microcode 3650-MIC 396,
	FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
	FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
	Machine serial number 30080, on Lisp Machine Jim Morrison:

	Try defining a defgeneric form with a compatible message of :get, as an
	automatic conversion program might do.  Then stand back. Better save
	everything first.

	This class of bug was reported long ago at SCRC but not fixed in 7.1

	Catastrophic failure like this is not so good for the reliability image.

    Perhaps I'm just not smart enough, but from the information in this report
    I wasn't able to find any previous report that matches this,

Pervious report concerned defining a generic function with :type as the compatible
message.  This was reported in september or october.

     nor was I able to figure out what you're talking about.

Ok, let's try LISP.

;;; YOU MUST NOT RUN THIS WITHOUT SAVING ALL YOUR WORK FIRST.
;;; be prepared to reboot your machine.

(defflavor foo ((type 'bar)) ())

(defmethod (foo-get foo) ()	type)

;; this is the triger for the lossage
(defgeneric foo-get (foo) 2(:compatible-message :get)0)

Compile this and then try to save a file.  Messages need to
flavor independent.  The generic function definition seems
to make other flavors forget their :get messages.

    It sounds to me like you're just commenting that this is an open system
    and the user is free to redefine any system function with a broken
    version, thus shafting himself.  

No.

    Perhaps that isn't what you're saying at all, but how can I tell when all
    you give is a vague description of a test case and a warning not to
    actually try it; that certainly reduces any inclination I might have to
    experiment with a bunch of test cases until I find one that exhibits a bug
    that might be the same bug that you were talking about.

You did the right thing.  If you found the test case you might have lost a
bunch of work.

    A message that said what exactly you did and what exactly happened that
    was unexpected would be likely to get more attention.

14-Jul-87 18:14:28-EDT,2615;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 14 Jul 87 18:14-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 63281; 14 Jul 87 18:11:18 EDT
Received: from DIAMOND.S4CC.Symbolics.COM (DIAMOND.S4CC.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 192986; 14 Jul 87 18:11:23 EDT
Received: from RED-KNOT.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 105068; Tue 14-Jul-87 18:10:53 EDT
Date: Tue, 14 Jul 87 18:10 EDT
From: Jan Kok <KOK@YUKON.SCRC.Symbolics.COM>
Subject: mouse sensitivity bug (in Zmail)
To: trev@VERMITHRAX.SCH.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM, BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870714091635.9.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870714181045.1.KOK@RED-KNOT.S4CC.Symbolics.COM>

[rws removed]

    Date: Tue, 14 Jul 87 09:16 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>

	Date: Sun, 12 Jul 87 17:53 EDT
	From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

	In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
	7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45,
	Experimental Mercury 8.0, Experimental Clx 1.1, microcode 3640-MIC 396,
	FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	Machine serial number 5085,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

	Move the mouse just below the [Sort] item in the command pane in Zmail,
	so that the cursor is an X but the item is not highlighted.  Now move
	the mouse very slowly across the pane boundary into first line of the
	text pane.  Discover that the character you end up on is not
	highlighted.


    You have to have a very steady hand to move the mouse slowly enough,
    but it does show (not only with [Sort], but all of the bottom-row
    commands, if the first line of text is long enough).  Even when you're
    on an un-highlighted character, clicking will get you into the text
    pane for editing.  I'll see if anyone can explain why single-pixel
    motion is necessary to uncover this.

    -trev

This is more easily observed by just wiggling the mouse back and forth
between two characters in Zmacs or Zmail.  It can also be seen in the
lisp listener.


15-Jul-87 16:26:30-EDT,2646;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 15 Jul 87 16:26-EDT
Received: from WINNIE-THE-POOH.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 5815; Wed 15-Jul-87 16:23:15 EDT
Date: Wed, 15 Jul 87 16:22 EDT
From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>
Subject: Unibus + MTI = Crash
To: Customer-Reports@symbolics.com
cc: BUG-LISPM@OZ.AI.MIT.EDU, bug-zoo@GOLDILOCKS.MIT.EDU
In-Reply-To: <870713154819.9.ZOO-KEEPER@GOLDILOCKS.MIT.EDU>
Message-ID: <870715162227.8.QUX@WINNIE-THE-POOH.MIT.EDU>
Zippy-Says: You mean now I can SHOOT YOU in the back and further BLUR
            th' distinction between FANTASY and REALITY?

In Symbolics 3650 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
Experimental SUDS Server 1.0, Experimental SPIRE Tools 1.1,
microcode 3650-MIC 396, FEP 206, Fep0:>g206-lisp.flod(14),
Fep0:>g206-loaders.flod(14), Fep0:>g206-info.flod(14),
Fep0:>g206-debug.flod(4), Machine serial number 30421,
Improve Spell Menu (from GOLDY:>dynamic>user>qux>g7-1>patches>fix-spell-menu.lisp.1),
World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Winnie ther Pooh:

We successfully ran a test backup today with the following function
redefined (from SYS:TAPE;LDCW.LISP.46):

(DEFUN FINISH-DCW-QUEUE (&OPTIONAL (WAIT-P NIL) DRIVE	;Default for DRIVE is "any".
			 (WHOSTATE "Tape Finish"))
  ;;We should really be locking with a drive number, not a process. 
  (UNLESS (AND DRIVE *SELECTED-DRIVE* ( DRIVE *SELECTED-DRIVE*))
    ;; Try to work around Versatec/Tape crashes
    (unibus::with-fep-bus
      ;;Another suggestion here is FERROR if WAIT-P is T, but this gets used
      ;;legitimately by cleanup when we really don't know if we connected or not.
      (WITH-TAPE-INTERFACE-LOCKED-MYLOCK
	(LOOP DO (DCW-DEQUEUE)
	      UNTIL (OR (NOT WAIT-P) (= *DCW-OUT* *DCW-IN*))
	      DO (PROCESS-WAIT WHOSTATE #'DCW-DEQUEUE-NEEDED))
	(WHEN WAIT-P
	  ;; Give formatter a chance to decelerate the tape after last operation
	  (PROCESS-WAIT-WITH-TIMEOUT "Formatter Busy" 60.
	    #'(LAMBDA () (LDB-TEST %%TAPE-FORMATTER-NOT-BUSY (READ-TAPE-STATUS))))))))
  (IF DRIVE (AREF *DRIVE-STATUS* DRIVE)))

WITH-FEP-BUS locks the FEP Unibus, so the Versatec won't be running
while the tape drive is in its body.  We didn't have any problems that
seemed related to the change, but I thought I should ask before we start
using this for our backups.  Is timing in FINISH-DCW-QUEUE critical?
Obviously WITH-FEP-BUS can block if the Versatec is running, maybe for a
second or so.

Your comments appreciated in advance.
15-Jul-87 18:57:51-EDT,2773;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 15 Jul 87 18:57-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 48957; 15 Jul 87 18:55:03 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 193728; 15 Jul 87 18:54:02 EDT
Received: from CALYPSO.SCH.Symbolics.COM (CALYPSO.SCH.Symbolics.COM) by VERMITHRAX.SCH.Symbolics.COM via INTERNET with SMTP id 63001; 15 Jul 87 15:52:45 PDT
Date: Wed, 15 Jul 87 15:52 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: graphics:draw-line :thickness keyword does not work right
To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870710150433.1.TIERNEY@GRIZZLY.MIT.EDU>
Message-ID: <870715155242.3.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Fri, 10 Jul 87 15:04 EDT
    From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

    In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
    7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
    Experimental SPIRE Extensions 2.0, microcode 3600-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Grizzly:

    It seems that when :thickness is greater than one, graphics:draw-line
    does not draw lines outside the current viewport.  The code that I used
    is:
	

    (defun draw-sample (sample x-scale y-scale horizontal-pixel-offset
			vertical-pixel-offset window)
      (let* ((center-x (round (+ horizontal-pixel-offset (* x-scale (sample-index sample)))))
	     (center-y (round (- vertical-pixel-offset (* y-scale (sample-value sample))))))
	 (dw:with-output-as-presentation (:stream window :object sample
						  :type 'sample
						 :single-box t
						 :allow-sensitive-inferiors nil
						 )
	  (graphics:draw-line center-x center-y center-x vertical-pixel-offset
			      :stream window :thickness *stem-thickness*)
	  (graphics:draw-circle center-x center-y *radius-of-lollipops* :stream window
				:filled t))))



    The lines are drawn in the current viewport, but if the viewport is
    moved away and then back, the lines disappear.

A number of scrolling bugs were still around in 7.1, but most have
been cleared up in the development world.  This particular one works
fine with any thickness...if you need the debugged version right now
for an application, I'd be glad to track down the changes and send
them to you.

-trev



16-Jul-87 10:11:58-EDT,3769;000000000000
Return-Path: <@AI.AI.MIT.EDU:Zoo-Keepers@SPEECH.MIT.EDU>
Received: from AI.AI.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Thu 16 Jul 87 10:11:51-EDT
Received: from GOLDILOCKS.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 16 JUL 87  10:09:58 EDT
Date: Thu, 16 Jul 87 10:08 EDT
From: Zoo Keeper <Zoo-Keepers@SPEECH.MIT.EDU>
Subject: Rescheduling Shutdowns
To: Bug-LispM@oz.ai, customer-reports@symbolics.com
Message-ID: <870716100803.6.ZOO-KEEPER@GOLDILOCKS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3670 Genera 7.1, Mailer 5.13, Print Spooler 3.10, Hacks 3.0,
Zoo 7.8, Zoo Keeper 2.9, IP-TCP 52.16, 7-1-Patches 1.19,
Speech Printers 2.1, Experimental Speech Printer Managers 3.1,
microcode 3670-MIC 396, FEP 127, FEP6:>v127-lisp.flod(55),
FEP6:>v127-debug.flod(34), FEP6:>v127-loaders.flod(55),
FEP6:>v127-info.flod(55), Machine serial number 2145,
Mailer resolver patch (from SYS:LOCAL;ZOO;MAILER-PATCHES.LISP.2),
Zoo Server-Finger patch (from SYS:LOCAL;ZOO;SERVER-FINGER.LISP.194),
World load FEP6:>Goldy-7-1-c-Server.load.1, on Lisp Machine Goldilocks:
Warm booted from: Update finger cache, Driver Papa Bear.
Processes forcibly aborted:
  Fsmaint Frame 1 aborted with the following warning:
    The function LMFS:BACKUP-DUMP-I is executing a cleanup form.
    Aborting before the cleanup is complete could leave the program in
    an inconsistent state and cause it to operate incorrectly later.

I tried to reschedule a file server shutdown.

1Error: Trying to write to #<CHAOS-TOKEN-LIST-STREAM 424535007> which is unsafe.
0While in the function (FLAVOR:METHOD :SEND-TOKEN-LIST NETI:TOKEN-LIST-STREAM)  (FLAVOR:METHOD :FILE-SERVER-NOTIFICATION FS:NFILE-SERVER-INSTANCE)  (FLAVOR:METHOD :SEND-IF-HANDLES FLAVOR:VANILLA)

The condition signalled was NETI:TOKEN-IO-UNSAFE

1(FLAVOR:METHOD :SEND-TOKEN-LIST NETI:TOKEN-LIST-STREAM)0:  (P.C. = 24)
   Arg 0 (SELF): #<CHAOS-TOKEN-LIST-STREAM 424535007>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor NETI:TOKEN-LIST-STREAM 234054766>
   Arg 2 (FLAVOR::.GENERIC.): :SEND-TOKEN-LIST
   Arg 3 (LIST): (:NOTIFICATION "" "File Server shutdown rescheduled")
2   --Defaulted args:--
0   Arg 4 (NETI:MARK-P): NIL

1(FLAVOR:METHOD :FILE-SERVER-NOTIFICATION FS:NFILE-SERVER-INSTANCE)0:  (P.C. = 22)
   Arg 0 (SELF): #<NFILE-SERVER-INSTANCE 424533473>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:NFILE-SERVER-INSTANCE 250437000>
   Arg 2 (FLAVOR::.GENERIC.): :FILE-SERVER-NOTIFICATION
   Arg 3 (FS:MESSAGE): "File Server shutdown rescheduled"

1(FLAVOR:METHOD :SEND-IF-HANDLES FLAVOR:VANILLA)0:  (P.C. = 21)
   Arg 0 (SELF): #<NFILE-SERVER-INSTANCE 424533473>
   Arg 1 (SYS:SELF-MAPPING-TABLE): FLAVOR:VANILLA
   Arg 2 (FLAVOR::.GENERIC.): :SEND-IF-HANDLES
   Arg 3 (FLAVOR::MESSAGE): :FILE-SERVER-NOTIFICATION
   Rest arg (FLAVOR::ARGS): ("File Server shutdown rescheduled")

1FS:BLAST-MESSAGE-TO-FILE-SERVERS0:  (P.C. = 15)
   Arg 0 (FS:MESSAGE): "File Server shutdown rescheduled"

1FS:FILE-SERVER-SHUTDOWN-10:  (P.C. = 62)
   Arg 0 (FS:MESSAGE): "Reboot to clear up namespace problems.  Back up immediately (that is, in 20 minutes)"
   Arg 1 (FS:AT-TIME): 19818188

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): FS:FILE-SERVER-SHUTDOWN-1
   Rest arg (ZL:ARGS): ("Reboot to clear up namespace problems.  Back up immediately (that is, in 20 minutes)" 19818188)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL

   Special SYS:CURRENT-PROCESS: #<PROCESS Server shutdown 15437314>

16-Jul-87 13:21:38-EDT,1066;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 16 Jul 87 13:21-EDT
Received: from THE-JOKER.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49023; Thu 16-Jul-87 13:18:28 EDT
Date: Thu, 16 Jul 87 13:18 EDT
From: Allen Ward <award@HEPHAESTUS.AI.MIT.EDU>
Subject: graphing
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870716131820.1.AWARD@THE-JOKER.AI.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental Cms 1.0,
Experimental Power Transmission 8, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5231,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine The Joker:

How can the node output from format-graph-from-root be made
mouse-sensitive?
16-Jul-87 16:05:12-EDT,5748;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 16 Jul 87 16:05-EDT
Received: from CROSBY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49051; Thu 16-Jul-87 16:02:22 EDT
Date: Thu, 16 Jul 87 16:02 EDT
From: Howard Reubenstein <HBR@PYGMALION.AI.MIT.EDU>
Subject: Bug with Help functions on Symbol,Function, and Select
To: BUG-LISPM@OZ.AI.MIT.EDU, HBR@OZ.AI.MIT.EDU
Message-ID: <"870716160221.2.AI|HBR@PYGMALION"@CROSBY.AI.MIT.EDU>
Default-Character-Style: (:FIX :ROMAN :LARGE)
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "MEDFNB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "HL12I")
Fonts: MEDFNT, MEDFNB, HL12I

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
7-1-Patches 1.19, MAC 12.0, Color Demo 314.1, Color 329.6,
Color Support 9.4, Images 308.4, Color Editor 311.3,
Experimental X-Window-System 17.4, S-Paint 13.5, Tablet 2.3, Bsfonts 1.0,
S-Render 20.5, S-Geometry 9.5, Live Window 315.3, S-Dynamics 9.9,
Experimental Hbr 6.0, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Machine serial number 5230,
Bug Report Recipient (from GRAPHICS:GLIB;REL-7;BUG-REPORT-RECIPIENT.LISP.1), on Lisp Machine Bing Crosby:



1Error: Attempt to expose #<TRUNCATING-POP-UP-TEXT-WINDOW-WITH-RESET Truncating Pop Up Text Window With Reset 1 1502450 deexposed> outside of its superior.
         Inferior's outside edges (64 41 1175 758);  Superior's inside edges (64 43 1131 809)
0While in the function (FLAVOR:WHOPPER :EXPOSE TV:SHEET)  (FLAVOR:COMBINED :EXPOSE TV:WINDOW)  (FLAVOR:METHOD :SELECT TV:SELECT-MIXIN :BEFORE)

The condition signalled was ZL:FERROR

1(FLAVOR:WHOPPER :EXPOSE TV:SHEET)0:  (P.C. = 110)
   Arg 0 (SELF): #<TRUNCATING-POP-UP-TEXT-WINDOW-WITH-RESET Truncating Pop Up Text Window With Reset 1 1502450 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :EXPOSE TV:WINDOW) 0) 147002756>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor TV:WINDOW 210250063>
   Arg 4 (FLAVOR::.GENERIC.): :EXPOSE
   Rest arg (ZL:ARGS): (T)
   Local 6 (TV:.QUEUE-LEFT.): T
   Local 7: SYS:UNWIND-PROTECT-TAG
   Local 8: #<DTP-EVEN-PC 146630272>
   Local 9: #<DTP-LOCATIVE 53000020>
   Local 10: #<DTP-LOCATIVE 53100155>
   Local 11: #<DTP-LOCATIVE 53000020>
   Local 12: SYS:UNWIND-PROTECT-TAG
   Local 13: #<DTP-EVEN-PC 146630306>
   Local 14: #<DTP-LOCATIVE 53000020>
   Local 15: #<DTP-LOCATIVE 53100236>
   Local 16: SYS:UNWIND-PROTECT-TAG
   Local 17: #<DTP-EVEN-PC 146630310>
   Local 18: #<DTP-LOCATIVE 53000024>
   Local 19: #<DTP-LOCATIVE 53100243>
   Local 20 (ERROR): (NIL "Attempt to expose ~S outside of its superior.~&  Inferior's outside edges ~s;  Superior's inside edges ~s" #<TRUNCATING-POP-UP-TEXT-WINDOW-WITH-RESET Truncating Pop Up Text Window With Reset 1 1502450 deexposed> (64 41 1175 758) (64 43 1131 809))
   Special TV:SCREEN-MANAGER-TOP-LEVEL: NIL
   Special TV:INHIBIT-SCREEN-MANAGEMENT: T
   Special TV:*SHEETS-MADE-INVISIBLE-TO-MOUSE*: (#<ZMAIL-SUMMARY-SCROLL-WINDOW Zmail Summary Scroll Window 1 1526105 exposed>)

1(FLAVOR:COMBINED :EXPOSE TV:WINDOW)0:  (P.C. = 13)
   Arg 0 (SELF): #<TRUNCATING-POP-UP-TEXT-WINDOW-WITH-RESET Truncating Pop Up Text Window With Reset 1 1502450 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:WINDOW 210250063>
   Arg 2 (FLAVOR::.GENERIC.): :EXPOSE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (T)

1(FLAVOR:METHOD :SELECT TV:SELECT-MIXIN :BEFORE)0:  (P.C. = 12)
   Arg 0 (SELF): #<TRUNCATING-POP-UP-TEXT-WINDOW-WITH-RESET Truncating Pop Up Text Window With Reset 1 1502450 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:SELECT-MIXIN 210250160>
   Arg 2 (FLAVOR::.GENERIC.): :SELECT
2   --Defaulted args:--
0   Arg 3 (TV:SAVE-SELECTED): T

1(FLAVOR:COMBINED :SELECT TV:WINDOW)0:  (P.C. = 34)
   Arg 0 (SELF): #<TRUNCATING-POP-UP-TEXT-WINDOW-WITH-RESET Truncating Pop Up Text Window With Reset 1 1502450 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:WINDOW 210250063>
   Arg 2 (FLAVOR::.GENERIC.): :SELECT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL
   Special TV:SCREEN-MANAGER-QUEUE: (((#<BACKGROUND-DYNAMIC-LISP-INTERACTOR Background Dynamic Lisp Interactor 3 705654 deactivated> 0 0) 0 0 1067 255) ((#<BACKGROUND-DYNAMIC-LISP-INTERACTOR Background Dynamic Lisp Interactor 2 705300 deactivated> 0 0) 0 0 1067 255))

1TV:WINDOW-CALL-INTERNAL0:  (P.C. = 26)
   Arg 0 (TV:WINDOW): #<TRUNCATING-POP-UP-TEXT-WINDOW-WITH-RESET Truncating Pop Up Text Window With Reset 1 1502450 deexposed>
   Arg 1 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL TV:KBD-SYS-HELP 0) 53100102>
   Arg 2 (TV:FINAL-ACTION): :DEACTIVATE
   Rest arg (TV:FINAL-ACTION-ARGS): NIL

1TV:KBD-SYS-HELP0:  (P.C. = 34)

1TV:KBD-SYS-10:  (P.C. = 27)
   Arg 0 (TV:CH): #/Help

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION TV:KBD-SYS-1 146721532>
   Rest arg (ZL:ARGS): (#/Help)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL

   Special TV:DEFAULT-SCREEN: #<MAIN-SCREEN Main Screen 1501336 exposed>

-----------------------------------------------------

The first time I try Symbol-Help it does nothing, same
for Function-Help. When I do Select-Help it bombs out 
as shown above. Following this I can do Symbol or Select or
Function Help again and get the proper display (i.e. without
proceeding from the error)

- Howard Reubenstein
16-Jul-87 17:02:13-EDT,19079;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 16 Jul 87 17:02-EDT
Received: from Xerox.COM (XEROX.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 63671; 16 Jul 87 16:58:48 EDT
Received: from Semillon.ms by ArpaGateway.ms ; 16 JUL 87 13:56:47 PDT
Date: Thu, 16 Jul 87 13:53 PDT
From: Siskind.pa@Xerox.COM
Subject: page fault on unallocated vma while just typing to the lisp
 listener
To: Bug-LispM@Zermatt.lcs.mit.edu
Message-ID: <870716135335.4.SISKIND@DUKE.isl.parc.xerox.com>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                          (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI
Line-fold: no

In Symbolics 3650 Genera 7.1, Experimental Ether 3.20, IP-TCP 52.16,
Local-Mods 5.1, Experimental Prolog-ALR 1.0, Experimental Things 13.0,
Experimental ConLog 24.0, Experimental Remote 2.0,
microcode 3650-MIC 396, FEP 206, Fep0:>g206-lisp.flod(15),
Fep0:>g206-loaders.flod(15), Fep0:>g206-info.flod(15),
Fep0:>G206-debug.flod(4), Machine serial number 30443, on DUKE:



Error: Page fault on unallocated VMA 1125000007, %other-pc #<DTP-ODD-PC 150562454>, 
       %other-frame-pointer #<DTP-LOCATIVE 602230>, %other-stack-pointer #<DTP-LOCATIVE 602232>
While in the function (DW::PRESENTATION-MOUSE-HANDLER FLAVOR::INSTANCE-TO-FLAVOR-NAME)  DW::TEST-HANDLER  (:INTERNAL (:INTERNAL DW::FIND-INNERMOST-SENSITIVE-PRESENTATION 2 DW::DO-ONE-CONTEXT) 0)

The condition signalled was ZL:FERROR

(DW::PRESENTATION-MOUSE-HANDLER FLAVOR::INSTANCE-TO-FLAVOR-NAME):  (P.C. = 7)
   Arg 0 (INSTANCE): #:?U15 0
   Rest arg (IGNORE): (:HANDLER #S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS #S(DW::PRESENTATION-MOUSE-HANDLER-FUNCTIONS :NAME FLAVOR::INSTANCE-TO-FLAVOR-NAME :VALUE-FUNCTION #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-MOUSE-HANDLER FLAVOR::INSTANCE-TO-FLAVOR-NAME) 150562451> :TESTER-FUNCTION #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-MOUSE-HANDLER FLAVOR::INSTANCE-TO-FLAVOR-NAME :TESTER) 150562466> :DOCUMENTATION-OR-FUNCTION NIL) :CONTEXT-PRESENTATION-TYPE SYS:FLAVOR-NAME :DISPLAYED-PRESENTATION-TYPE SYS:EXPRESSION :OBJECT-TYPE INSTANCE :GESTURE ...) :GESTURE :SELECT :MOUSE-CHAR #\Mouse-L :PRESENTATION #<DISPLAYED-PRESENTATION 16611740> :WINDOW #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> ...)

DW::TEST-HANDLER:  (P.C. = 116)  (from SYS:PATCH;SYSTEM-349-115)
   Arg 0 (DW::HANDLER-ENTRY): (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS #S(DW::PRESENTATION-MOUSE-HANDLER-FUNCTIONS :NAME FLAVOR::INSTANCE-TO-FLAVOR-NAME :VALUE-FUNCTION #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-MOUSE-HANDLER FLAVOR::INSTANCE-TO-FLAVOR-NAME) 150562451> :TESTER-FUNCTION #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-MOUSE-HANDLER FLAVOR::INSTANCE-TO-FLAVOR-NAME :TESTER) 150562466> :DOCUMENTATION-OR-FUNCTION NIL) :CONTEXT-PRESENTATION-TYPE SYS:FLAVOR-NAME :DISPLAYED-PRESENTATION-TYPE SYS:EXPRESSION :OBJECT-TYPE INSTANCE :GESTURE ...) NIL NIL)
   Arg 1 (DW:PRESENTATION): #<DISPLAYED-PRESENTATION 16611740>
   Arg 2 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 3 (DW::CONTEXT): (SYS:EXPRESSION (SI:INPUT-EDITOR-BUFFER NIL NIL) T :INHERIT T)
   Arg 4 (DW::GESTURE): :SELECT
   --Defaulted args:--
   Arg 5 (DW::MENU-ITEM-FOUND): NIL

(:INTERNAL (:INTERNAL DW::FIND-INNERMOST-SENSITIVE-PRESENTATION 2 DW::DO-ONE-CONTEXT) 0):  (P.C. = 71)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602067>
   Arg 1 (DW::HANDLER-ENTRY): (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS #S(DW::PRESENTATION-MOUSE-HANDLER-FUNCTIONS :NAME FLAVOR::INSTANCE-TO-FLAVOR-NAME :VALUE-FUNCTION #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-MOUSE-HANDLER FLAVOR::INSTANCE-TO-FLAVOR-NAME) 150562451> :TESTER-FUNCTION #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-MOUSE-HANDLER FLAVOR::INSTANCE-TO-FLAVOR-NAME :TESTER) 150562466> :DOCUMENTATION-OR-FUNCTION NIL) :CONTEXT-PRESENTATION-TYPE SYS:FLAVOR-NAME :DISPLAYED-PRESENTATION-TYPE SYS:EXPRESSION :OBJECT-TYPE INSTANCE :GESTURE ...) NIL NIL)
   Arg 2 (DW::GESTURE): :SELECT
   Arg 3 (DW::GESTURE-MATCH-P): T

DW::MAP-OVER-HANDLER-ALIST-AND-GESTURES-IN-CONTEXT:  (P.C. = 267)
   Arg 0 (DW:PRESENTATION): #<DISPLAYED-PRESENTATION 16611740>
   Arg 1 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 2 (DW::HANDLER-ALIST): (NIL (:MENU (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE T :OBJECT-TYPE T :GESTURE ...) NIL NIL)) (:EDIT-VIEWSPECS (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE T :OBJECT-TYPE T :GESTURE ...) NIL NIL)) (:REPRINT-DIFFERENTLY (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE T :OBJECT-TYPE T :GESTURE ...) NIL NIL)) (:SYSTEM-MENU (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE T :OBJECT-TYPE T :GESTURE ...) NIL NIL)) (:WINDOW-OPERATION-MENU (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE T :OBJECT-TYPE T :GESTURE ...) NIL NIL)) (:PRESENTATION-DEBUGGING-MENU (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE T :OBJECT-TYPE T :GESTURE ...) NIL NIL)) (:SELECT-AND-ACTIVATE (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE SYS:EXPRESSION :OBJECT-TYPE SYS:EXPRESSION :GESTURE ...) NIL NIL) (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE T :OBJECT-TYPE T :GESTURE ...) NIL NIL)) (:MODIFY (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE SYS:EXPRESSION :OBJECT-TYPE SYS:EXPRESSION :GESTURE ...) NIL NIL)) (:MONITOR-LOCATION (#S(DW::PRESENTATION-MOUSE-HANDLER :HANDLER-FUNCTIONS # :CONTEXT-PRESENTATION-TYPE T :DISPLAYED-PRESENTATION-TYPE SYS:EXPRESSION :OBJECT-TYPE DBG:LOCATION-OR-UNBOUND :GESTURE ...) NIL NIL)) ...)
   Arg 3 (DW::GESTURES-TO-MATCH): (:LEFT :SELECT :MIDDLE :DESCRIBE :SELECT-AND-EDIT :RIGHT :MENU)
   Arg 4 (DW::CONTEXT): (SYS:EXPRESSION (SI:INPUT-EDITOR-BUFFER NIL NIL) T :INHERIT T)
   Arg 5 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 602071>

(:INTERNAL DW::FIND-INNERMOST-SENSITIVE-PRESENTATION 2 DW::DO-ONE-CONTEXT):  (P.C. = 37)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 601743>
   Arg 1 (DW::CONTEXT): (SYS:EXPRESSION (SI:INPUT-EDITOR-BUFFER NIL NIL) T :INHERIT T)

(:INTERNAL DW::MAP-OVER-INPUT-CONTEXTS 0 DW::SEARCH-ONE-PRESENTATION-INPUT-CONTEXT):  (P.C. = 13)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602031>
   Arg 1 (DW::CONTEXT): (SYS:EXPRESSION (SI:INPUT-EDITOR-BUFFER NIL NIL) T :INHERIT T)

(:INTERNAL DW::MAP-OVER-INPUT-CONTEXTS 0 DW::SEARCH-ONE-PRESENTATION-INPUT-CONTEXT):  (P.C. = 10)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602031>
   Arg 1 (DW::CONTEXT): (SYS:EXPRESSION (SYS:EXPRESSION (SI:INPUT-EDITOR-BUFFER NIL NIL) T :INHERIT T) NIL)

DW::MAP-OVER-INPUT-CONTEXTS:  (P.C. = 14)
   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::FIND-INNERMOST-SENSITIVE-PRESENTATION 2 DW::DO-ONE-CONTEXT) 601754>
   Arg 1 (DW::TOP): (SYS:EXPRESSION (SYS:EXPRESSION (SI:INPUT-EDITOR-BUFFER NIL NIL) T :INHERIT T) NIL)

DW::FIND-INNERMOST-SENSITIVE-PRESENTATION:  (P.C. = 76)  (from SYS:PATCH;SYSTEM-349-251)
   Arg 0 (DW:PRESENTATION): #<TEXT-DISPLAYED-PRESENTATION 16613664>
   Local 0 (DW:PRESENTATION): #<DISPLAYED-PRESENTATION 16611740>
   Arg 1 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 2 (DW::GESTURES): (:LEFT :SELECT :MIDDLE :DESCRIBE :SELECT-AND-EDIT :RIGHT :MENU)
   Arg 3 (DW::DOCUMENTATION-STRING): "Mouse-L: (QUOTE DW::*ACCEPT-HELP*); Mouse-M: (DESCRIBE (QUOTE DW::*ACCEPT-HELP*)); Mouse-R: Menu."
   Arg 4 (DW::NOT-FOR-HIGHLIGHTING): NIL
   Arg 5 (DW::MOUSE-MOTION-CELL): #<DTP-LOCATIVE 1517453>

(FLAVOR:METHOD :UPDATE-HIGHLIGHTED-PRESENTATION DW::DYNAMIC-MOUSE-MIXIN):  (P.C. = 145)  (from SYS:PATCH;SYSTEM-349-222)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: #<Map to flavor DW::DYNAMIC-MOUSE-MIXIN 174103655>
   Arg 2 (FLAVOR::.GENERIC.): :UPDATE-HIGHLIGHTED-PRESENTATION

DW::UPDATE-HIGHLIGHTED-PRESENTATION:  (P.C. = 35)
   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

(DEFUN-IN-FLAVOR SI:IE-TYI SI:INTERACTIVE-STREAM):  (P.C. = 37)  (from SYS:PATCH;SYSTEM-349-196)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (SI:TOP-LEVEL?): T

(FLAVOR:METHOD SI:INPUT-EDITOR-TYI SI:DISPLAY-INPUT-EDITOR):  (P.C. = 120)  (from SYS:PATCH;SYSTEM-349-196)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:DISPLAY-INPUT-EDITOR 174103561>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:INPUT-EDITOR-TYI 6724471>
   Arg 3: NIL

(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS):  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 601545>
   Rest arg: NIL

(FLAVOR:WHOPPER :ANY-TYI SI:INTERACTIVE-STREAM):  (P.C. = 22)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :ANY-TYI DW:DYNAMIC-WINDOW) 0) 147473122>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :ANY-TYI
   --Defaulted args:--
   Arg 5 (SI:EOF): NIL

(FLAVOR:COMBINED :ANY-TYI DW:DYNAMIC-WINDOW):  (P.C. = 25)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :ANY-TYI
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

DW:READ-CHAR-FOR-ACCEPT:  (P.C. = 5)
   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

DW::TRUE-NULL-PARSER:  (P.C. = 10)
   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SIGNAL): NIL

DW::ACCEPT-EXPRESSION-INTERNAL:  (P.C. = 33)
   Arg 0 (DW::PARSER): #<DTP-COMPILED-FUNCTION ZL:READ-EXPRESSION 146100575>
   Arg 1 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 2 (TYPE): SYS:EXPRESSION

(DW::PRESENTATION-FUNCTION SYS:EXPRESSION DW::PARSER):  (P.C. = 74)  (from SYS:PATCH;SYSTEM-349-248)
   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (TYPE): SYS:EXPRESSION
   Arg 2 (DW::ORIGINAL-TYPE): SYS:EXPRESSION
   Rest arg (IGNORE): (:END NIL)

(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2):  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600676>

(DEFUN-IN-FLAVOR SI:INPUT-EDITOR-READ SI:INTERACTIVE-STREAM):  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600706>
   Arg 3 (SI:READ-ARGS): NIL

(FLAVOR:METHOD :INPUT-EDITOR SI:INTERACTIVE-STREAM):  (P.C. = 160)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Arg 3 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600706>
   Rest arg (SI:READ-ARGS): NIL

(:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0):  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600706>)

(FLAVOR:WHOPPER :INPUT-EDITOR DW:DYNAMIC-WINDOW):  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0) 147371366>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (DW::ARGS): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600706>)

(FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW):  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600706>)

(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY):  (P.C. = 220)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 601013>

(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS):  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 601021>
   Rest arg: NIL

SI:WITH-INPUT-EDITING-INTERNAL:  (P.C. = 36)  (from SYS:PATCH;SYSTEM-349-169)
   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600706>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD):  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600452>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): SYS:EXPRESSION
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION SYS:EXPRESSION DW::PARSER) 152221356>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0):  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((SYS:EXPRESSION DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600467> NIL #<DTP-LOCATIVE 600572>) SYS:EXPRESSION)
   Arg 1 (DW::PRKEY): NIL

DW::CALL-WITH-ONE-LEVEL-KEY:  (P.C. = 32)  (from SYS:PATCH;SYSTEM-349-244)
   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 44155506>
   Arg 1 (DW::KEY): NIL

(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY):  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (SYS:EXPRESSION DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600467> NIL #<DTP-LOCATIVE 600572>)
   Arg 1: SYS:EXPRESSION

DW::WITH-TYPE-METHOD-INTERNAL:  (P.C. = 175)  (from SYS:PATCH;SYSTEM-349-262)
   Arg 0: SYS:EXPRESSION
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600467>

DW::ACCEPT-2:  (P.C. = 506)  (from SYS:PATCH;SYSTEM-349-244)
   Arg 0 (DW:PRESENTATION-TYPE): SYS:EXPRESSION
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT "Query" :DISPLAY-DEFAULT NIL :DEFAULT :END)

(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM):  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): SYS:EXPRESSION
   Rest arg (DW::ARGS): (:PROMPT "Query" :DISPLAY-DEFAULT NIL :DEFAULT :END)

DW::ACCEPT-1:  (P.C. = 21)  (from SYS:PATCH;SYSTEM-349-244)
   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): SYS:EXPRESSION
   Rest arg (DW::ARGS): (:PROMPT "Query" :DISPLAY-DEFAULT NIL :DEFAULT :END)

ACCEPT:  (P.C. = 13)  (from SYS:PATCH;SYSTEM-349-244)
   Arg 0 (DW:PRESENTATION-TYPE): SYS:EXPRESSION
   Rest arg (DW::ARGS): (:PROMPT "Query" :DISPLAY-DEFAULT NIL :DEFAULT :END)

QUERY-LOOP:  (P.C. = 53)  (from CONLOG:SYSTEM;CONLOG)
   Arg 0 (CLAUSE-SET): #<CLAUSE-SET APPEND-EXAMPLE 332770511>
   Rest arg: NIL

CP::COMMAND-LOOP-EVAL-FUNCTION:  (P.C. = 25)
   Arg 0 (CP::FORM): (QUERY-LOOP APPEND-EXAMPLE)

(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS):  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

TV:WITH-NOTIFICATION-MODE-INTERNAL:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS):  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

SI:LISP-COMMAND-LOOP:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

SI:LISP-TOP-LEVEL1:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

SI:LISP-TOP-LEVEL-WARM:  (P.C. = 10)
-------
17-Jul-87 15:41:00-EDT,1266;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 17 Jul 87 15:40-EDT
Received: from DARTH-VADER.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49180; Fri 17-Jul-87 15:40:37 EDT
Date: Fri, 17 Jul 87 15:40 EDT
From: Allen Ward <award@HEPHAESTUS.AI.MIT.EDU>
Subject: graphing presentations
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870717154036.1.AWARD@DARTH-VADER.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30083,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Darth Vader:

Graphing presentations does not seem to work as one would except:
the outputs seem not mouse sensitive.  Try


(defun noder (lst stream)
  (present lst 'list :stream stream))

(defun children (lst)
  (if lst (list (cdr lst)) nil))


(dw:graph-from-root-node '(1 2 3) #'noder #'children)

(accept 'list)
18-Jul-87 15:13:47-EDT,1712;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 18 Jul 87 15:13-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49249; Sat 18-Jul-87 15:13:25 EDT
Date: Sat, 18 Jul 87 15:13 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Print DVI-FIlES on LGP-2
To: hhb@OZ.AI.MIT.EDU
cc: BUG-LISPM@OZ.AI.MIT.EDU
In-Reply-To: <870709142017.2.HHB@BACH.AI.MIT.EDU>
Message-ID: <870718151333.3.CJL@OTIS.AI.MIT.EDU>

    Date: Thu, 9 Jul 87 14:20 EDT
    From: Heinrich H. Bulthoff <hhb@OZ.AI.MIT.EDU>

    In Symbolics 3600 Genera 7.1, Print Spooler 3.11, Hacks 3.0,
    IP-TCP 52.16, ILA-NFS 3.3, 7-1-Patches 1.19, MAC 11.2, Color Demo 314.1,
    Color 329.6, Color Support 9.4, Images 308.4, Color Editor 311.3,
    Experimental X-Window-System 17.4, S-Paint 13.5, Tablet 2.3, Bsfonts 1.0,
    S-Render 20.5, S-Geometry 9.5, Live Window 315.3, S-Dynamics 9.9,
    microcode 3600-MIC 396, FEP 127, fep0:>v127-lisp.flod(55),
    fep0:>v127-loaders.flod(55), fep0:>v127-debug.flod(34),
    fep0:>v127-info.flod(55),
    Bug Report Recipient (from GRAPHICS:GLIB;REL-7;BUG-REPORT-RECIPIENT.LISP.1), on Lisp Machine Anna Magdalena Bach:

    If I print larger than 2 pages of DVI-Files (device independent print-output of TeX) on the LGP-2 Printer
    with the Hardcopy File command, I get an PostScript error log printed on LGP-2 saying:

    For operator "dict": VMerror


    Unfortunately this is the only output I get printed from DVI-Files.

    Files with less than 2 pages print ok.

    Is the memory in the printer too small or does the Hardcopy Process break the files not into small enough pieces?

Read sys:tex;readme.text.
19-Jul-87 15:08:06-EDT,9006;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 19 Jul 87 15:08-EDT
Received: from PIGPEN.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49297; Sun 19-Jul-87 15:07:54 EDT
Date: Sun, 19 Jul 87 15:07 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Negative coordinates
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870719150707.1.ALAN@PIGPEN.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30096,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

I defined:

(defun test (a)
  (terpri)
  (dw:surrounding-output-with-border ()
    (graphics:draw-circle 100 100 100 :filled nil :thickness a)
    (graphics:draw-line 0 0 100 100 :thickness a)))

Then I called:

(test 25)

1Trap: The word #<DTP-FIX 1001> was read from location 22000007 (in STACK-AREA).
0While in the function LENGTH  DW::COORDINATE-CONVERT-XS-AND-YS  (FLAVOR:WHOPPER :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)

The condition signalled was DBG:BAD-DATA-TYPE-IN-MEMORY-TRAP

1LENGTH0:  (P.C. = 26)
   Arg 0 (SEQUENCE): #<DTP-ARRAY does not point to array storage 22000007>
   Local 1 (CLI::I): #<DTP-ARRAY does not point to array storage 22000007>

1DW::COORDINATE-CONVERT-XS-AND-YS0:  (P.C. = 10)
   Arg 0 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (DW::TO-WHAT): :RELATIVE
   Arg 2 (DW::WHERE): :INSIDE
   Arg 3 (DW::XS): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 4 (DW::YS): #<DTP-ARRAY does not point to array storage 22000012>
   Arg 5 (DW::END): NIL

1(FLAVOR:WHOPPER :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)0:  (P.C. = 45)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW) 0) 146742113>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :DRAW-WIDE-CURVE
   Arg 5 (DW::PX): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 6 (DW::PY): #<DTP-ARRAY does not point to array storage 22000012>
   Arg 7 (DW::CURVE-WIDTH): 25
   Arg 8 (DW::END): NIL
   Arg 9 (DW::ALU): 7

1(FLAVOR:COMBINED :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :DRAW-WIDE-CURVE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<DTP-ARRAY does not point to array storage 22000007> #<DTP-ARRAY does not point to array storage 22000012> 25 NIL 7)

1(FLAVOR:METHOD DW::REDRAW-DISPLAYED-PRESENTATION DW::GRAPHICS-DISPLAYED-PRESENTATION)0:  (P.C. = 6)
   Arg 0 (SELF): #<WIDE-CURVE-GRAPHICS-DISPLAYED-PRESENTATION 404305635>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::GRAPHICS-DISPLAYED-PRESENTATION 250466425>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDRAW-DISPLAYED-PRESENTATION 6754671>
   Arg 3 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 4 (DW::BOX): #<BOX /x 0:1037, y 11971:12313/ 16600005>

1DW::REDRAW-DISPLAYED-SET0:  (P.C. = 66)  2(from SYS:PATCH;SYSTEM-349-18)
0   Arg 0 (ARRAY): #<ART-Q-400 320166462>
   Arg 1 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 2 (DW::START-INDEX): 255
   Local 2 (DW::START-INDEX): 260
   Arg 3 (DW::END-INDEX): NIL
   Local 3 (DW::END-INDEX): 263
   Arg 4 (DW::VIEWPORT): #<BOX /x 0:1037, y 11971:12313/ 16600005>

1(FLAVOR:METHOD :REDRAW-INSIDE-SETS DW:DYNAMIC-WINDOW)0:  (P.C. = 26)  2(from SYS:PATCH;SYSTEM-349-59)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :REDRAW-INSIDE-SETS
   Arg 3 (DW::BOX): #<BOX /x 0:1037, y 11971:12313/ 16600005>
2   --Defaulted args:--
0   Arg 4 (DW::CLEAR-FIRST): T

1(:INTERNAL (FLAVOR:METHOD :SET-VIEWPORT-POSITION DW:DYNAMIC-WINDOW) 0 DW::REDRAW-IN-BOX)0:  (P.C. = 22)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232500426>
   Arg 1 (DW::BOX): #<BOX /x 0:1037, y 11971:12313/ 16600005>

1(FLAVOR:METHOD :SET-VIEWPORT-POSITION DW:DYNAMIC-WINDOW)0:  (P.C. = 244)  2(from SYS:PATCH;SYSTEM-349-97)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :SET-VIEWPORT-POSITION
   Arg 3 (DW::NEW-LEFT): 0
   Arg 4 (DW::NEW-TOP): 11119

1(FLAVOR:METHOD :SCROLL-FOR-END-OF-PAGE DW:DYNAMIC-WINDOW)0:  (P.C. = 241)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :SCROLL-FOR-END-OF-PAGE

1(FLAVOR:WHOPPER :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW)0:  (P.C. = 47)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW) 0) 147472622>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :END-OF-PAGE-EXCEPTION

1(FLAVOR:COMBINED :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :END-OF-PAGE-EXCEPTION
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:METHOD :HANDLE-EXCEPTIONS TV:SHEET)0:  (P.C. = 23)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :HANDLE-EXCEPTIONS

1(FLAVOR:METHOD :CLEAR-REST-OF-LINE DW:DYNAMIC-WINDOW)0:  (P.C. = 14)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :CLEAR-REST-OF-LINE

1(FLAVOR:METHOD :FRESH-LINE TV:SHEET)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :FRESH-LINE

1FRESH-LINE0:  (P.C. = 11)
2   --Defaulted args:--
0   Arg 0 (CLI::OUTPUT-STREAM): #:TERMINAL-IO-SYN-STREAM

1CP::COMMAND-LOOP-PRINT-FUNCTION0:  (P.C. = 24)
   Arg 0 (VALUES): (NIL)

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 232500147>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 2 15522057>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232500112>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL
19-Jul-87 15:11:40-EDT,8995;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 19 Jul 87 15:11-EDT
Received: from PIGPEN.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49299; Sun 19-Jul-87 15:11:29 EDT
Date: Sun, 19 Jul 87 15:11 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Negative coordinates?
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870719151132.2.ALAN@PIGPEN.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30096,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

After experimenting with this bug for a while I learned that it usually
happens when a --More-- break occurs partway through the display.  The
window in question is a full-screen window, set to glitch by .5 when it
needs to scroll.

1Trap: The word #<DTP-FIX 0> was read from location 22000007 (in STACK-AREA).
0While in the function LENGTH  DW::COORDINATE-CONVERT-XS-AND-YS  (FLAVOR:WHOPPER :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)

The condition signalled was DBG:BAD-DATA-TYPE-IN-MEMORY-TRAP

1LENGTH0:  (P.C. = 26)
   Arg 0 (SEQUENCE): #<DTP-ARRAY does not point to array storage 22000007>
   Local 1 (CLI::I): #<DTP-ARRAY does not point to array storage 22000007>

1DW::COORDINATE-CONVERT-XS-AND-YS0:  (P.C. = 10)
   Arg 0 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (DW::TO-WHAT): :RELATIVE
   Arg 2 (DW::WHERE): :INSIDE
   Arg 3 (DW::XS): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 4 (DW::YS): #<DTP-ARRAY does not point to array storage 22000012>
   Arg 5 (DW::END): NIL

1(FLAVOR:WHOPPER :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)0:  (P.C. = 45)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW) 0) 146742113>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :DRAW-WIDE-CURVE
   Arg 5 (DW::PX): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 6 (DW::PY): #<DTP-ARRAY does not point to array storage 22000012>
   Arg 7 (DW::CURVE-WIDTH): 25
   Arg 8 (DW::END): NIL
   Arg 9 (DW::ALU): 7

1(FLAVOR:COMBINED :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :DRAW-WIDE-CURVE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<DTP-ARRAY does not point to array storage 22000007> #<DTP-ARRAY does not point to array storage 22000012> 25 NIL 7)

1(FLAVOR:METHOD DW::REDRAW-DISPLAYED-PRESENTATION DW::GRAPHICS-DISPLAYED-PRESENTATION)0:  (P.C. = 6)
   Arg 0 (SELF): #<WIDE-CURVE-GRAPHICS-DISPLAYED-PRESENTATION 404320320>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::GRAPHICS-DISPLAYED-PRESENTATION 250466425>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDRAW-DISPLAYED-PRESENTATION 6754671>
   Arg 3 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 4 (DW::BOX): #<BOX /x 0:1037, y 3769:4111/ 16600005>

1DW::REDRAW-DISPLAYED-SET0:  (P.C. = 66)  2(from SYS:PATCH;SYSTEM-349-18)
0   Arg 0 (ARRAY): #<ART-Q-400 320166462>
   Arg 1 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 2 (DW::START-INDEX): 88
   Local 2 (DW::START-INDEX): 93
   Arg 3 (DW::END-INDEX): NIL
   Local 3 (DW::END-INDEX): 96
   Arg 4 (DW::VIEWPORT): #<BOX /x 0:1037, y 3769:4111/ 16600005>

1(FLAVOR:METHOD :REDRAW-INSIDE-SETS DW:DYNAMIC-WINDOW)0:  (P.C. = 26)  2(from SYS:PATCH;SYSTEM-349-59)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :REDRAW-INSIDE-SETS
   Arg 3 (DW::BOX): #<BOX /x 0:1037, y 3769:4111/ 16600005>
2   --Defaulted args:--
0   Arg 4 (DW::CLEAR-FIRST): T

1(:INTERNAL (FLAVOR:METHOD :SET-VIEWPORT-POSITION DW:DYNAMIC-WINDOW) 0 DW::REDRAW-IN-BOX)0:  (P.C. = 22)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232500426>
   Arg 1 (DW::BOX): #<BOX /x 0:1037, y 3769:4111/ 16600005>

1(FLAVOR:METHOD :SET-VIEWPORT-POSITION DW:DYNAMIC-WINDOW)0:  (P.C. = 244)  2(from SYS:PATCH;SYSTEM-349-97)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :SET-VIEWPORT-POSITION
   Arg 3 (DW::NEW-LEFT): 0
   Arg 4 (DW::NEW-TOP): 2917

1(FLAVOR:METHOD :SCROLL-FOR-END-OF-PAGE DW:DYNAMIC-WINDOW)0:  (P.C. = 241)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :SCROLL-FOR-END-OF-PAGE

1(FLAVOR:WHOPPER :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW)0:  (P.C. = 47)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW) 0) 147472622>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :END-OF-PAGE-EXCEPTION

1(FLAVOR:COMBINED :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :END-OF-PAGE-EXCEPTION
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:METHOD :HANDLE-EXCEPTIONS TV:SHEET)0:  (P.C. = 23)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :HANDLE-EXCEPTIONS

1(FLAVOR:METHOD :CLEAR-REST-OF-LINE DW:DYNAMIC-WINDOW)0:  (P.C. = 14)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :CLEAR-REST-OF-LINE

1(FLAVOR:METHOD :FRESH-LINE TV:SHEET)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :FRESH-LINE

1FRESH-LINE0:  (P.C. = 11)
2   --Defaulted args:--
0   Arg 0 (CLI::OUTPUT-STREAM): #:TERMINAL-IO-SYN-STREAM

1CP::COMMAND-LOOP-PRINT-FUNCTION0:  (P.C. = 24)
   Arg 0 (VALUES): (NIL)

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 232500147>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 2 15522057>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232500112>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL
19-Jul-87 15:32:09-EDT,29381;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 19 Jul 87 15:32-EDT
Received: from PIGPEN.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49301; Sun 19-Jul-87 15:31:50 EDT
Date: Sun, 19 Jul 87 15:31 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Negative Coordinates have nothing to do with it.
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870719153149.3.ALAN@PIGPEN.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30096,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

Basically, it seems like a --More-- break in the middle of drawing
-anything- is likely to cause this to happen.  I thought it had to do with
the fact that I was drawing lines that were so thick that they had negative
X coordinates, but I changed that, and this still happens.

Foo.  What is the -safe- way to do graphics in Release 7?  I just want to
draw circles and arrows and lines and simple stuff like that.  Am I better
off making a "static" window and doing my drawing there?

1Trap: The word #<DTP-NIL 3300000> was read from location 22000012 (in STACK-AREA).
0While in the function LENGTH  DW::COORDINATE-CONVERT-XS-AND-YS  (FLAVOR:WHOPPER :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)

The condition signalled was DBG:BAD-DATA-TYPE-IN-MEMORY-TRAP

1LENGTH0:  (P.C. = 26)
   Arg 0 (SEQUENCE): #<DTP-ARRAY does not point to array storage 22000012>
   Local 1 (CLI::I): #<DTP-ARRAY does not point to array storage 22000012>

1DW::COORDINATE-CONVERT-XS-AND-YS0:  (P.C. = 12)
   Arg 0 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (DW::TO-WHAT): :RELATIVE
   Arg 2 (DW::WHERE): :INSIDE
   Arg 3 (DW::XS): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 4 (DW::YS): #<DTP-ARRAY does not point to array storage 22000012>
   Arg 5 (DW::END): NIL

1(FLAVOR:WHOPPER :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)0:  (P.C. = 45)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW) 0) 146742113>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :DRAW-WIDE-CURVE
   Arg 5 (DW::PX): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 6 (DW::PY): #<DTP-ARRAY does not point to array storage 22000012>
   Arg 7 (DW::CURVE-WIDTH): 40
   Arg 8 (DW::END): NIL
   Arg 9 (DW::ALU): 7

1(FLAVOR:COMBINED :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :DRAW-WIDE-CURVE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<DTP-ARRAY does not point to array storage 22000007> #<DTP-ARRAY does not point to array storage 22000012> 40 NIL 7)

1(FLAVOR:METHOD DW::REDRAW-DISPLAYED-PRESENTATION DW::GRAPHICS-DISPLAYED-PRESENTATION)0:  (P.C. = 6)
   Arg 0 (SELF): #<WIDE-CURVE-GRAPHICS-DISPLAYED-PRESENTATION 404337260>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::GRAPHICS-DISPLAYED-PRESENTATION 250466425>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDRAW-DISPLAYED-PRESENTATION 6754671>
   Arg 3 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 4 (DW::BOX): #<BOX /x 0:1037, y 3781:4117/ 16600005>

1DW::REDRAW-DISPLAYED-SET0:  (P.C. = 66)  2(from SYS:PATCH;SYSTEM-349-18)
0   Arg 0 (ARRAY): #<ART-Q-400 320166462>
   Arg 1 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 2 (DW::START-INDEX): 140
   Local 2 (DW::START-INDEX): 141
   Arg 3 (DW::END-INDEX): NIL
   Local 3 (DW::END-INDEX): 188
   Arg 4 (DW::VIEWPORT): #<BOX /x 0:1037, y 3781:4117/ 16600005>

1(FLAVOR:METHOD :REDRAW-INSIDE-SETS DW:DYNAMIC-WINDOW)0:  (P.C. = 26)  2(from SYS:PATCH;SYSTEM-349-59)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :REDRAW-INSIDE-SETS
   Arg 3 (DW::BOX): #<BOX /x 0:1037, y 3781:4117/ 16600005>
2   --Defaulted args:--
0   Arg 4 (DW::CLEAR-FIRST): T

1(:INTERNAL (FLAVOR:METHOD :SET-VIEWPORT-POSITION DW:DYNAMIC-WINDOW) 0 DW::REDRAW-IN-BOX)0:  (P.C. = 22)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232503061>
   Arg 1 (DW::BOX): #<BOX /x 0:1037, y 3781:4117/ 16600005>

1(FLAVOR:METHOD :SET-VIEWPORT-POSITION DW:DYNAMIC-WINDOW)0:  (P.C. = 244)  2(from SYS:PATCH;SYSTEM-349-97)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :SET-VIEWPORT-POSITION
   Arg 3 (DW::NEW-LEFT): 0
   Arg 4 (DW::NEW-TOP): 3067

1(FLAVOR:METHOD :SCROLL-FOR-END-OF-PAGE DW:DYNAMIC-WINDOW)0:  (P.C. = 241)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :SCROLL-FOR-END-OF-PAGE

1(FLAVOR:WHOPPER :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW)0:  (P.C. = 47)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW) 0) 147472622>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :END-OF-PAGE-EXCEPTION

1(FLAVOR:COMBINED :END-OF-PAGE-EXCEPTION DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :END-OF-PAGE-EXCEPTION
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(FLAVOR:METHOD :HANDLE-EXCEPTIONS TV:SHEET)0:  (P.C. = 43)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :HANDLE-EXCEPTIONS

1(FLAVOR:METHOD :CLEAR-REST-OF-LINE DW:DYNAMIC-WINDOW)0:  (P.C. = 14)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :CLEAR-REST-OF-LINE

1(DEFUN-IN-FLAVOR TV:SHEET-TYO-FUNNY-CHAR TV:SHEET)0:  (P.C. = 60)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (TV:CHAR): #\Return

1(FLAVOR:METHOD :TYO TV:SHEET)0:  (P.C. = 206)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :TYO
   Arg 3 (TV:CHAR): #\Return

1(:INTERNAL (FLAVOR:COMBINED :TYO DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :TYO
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#\Return)

1(:INTERNAL (FLAVOR:WHOPPER :TYO DW:DYNAMIC-WINDOW) 0 DW::DO-IT)0:  (P.C. = 44)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>

1(FLAVOR:WHOPPER :TYO DW:DYNAMIC-WINDOW)0:  (P.C. = 255)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :TYO DW:DYNAMIC-WINDOW) 0) 147473054>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :TYO
   Arg 5 (CHAR): #\Return

1(FLAVOR:COMBINED :TYO DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :TYO
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#\Return)

1ZL:TERPRI0:  (P.C. = 10)
2   --Defaulted args:--
0   Arg 0 (SI:STREAM): NIL

1DBG:DISPLAY-ARG-VALUE0:  (P.C. = 227)
   Arg 0 (DBG:INDEX): 0
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION LENGTH 144526311>
   Arg 2 (DBG:INDENT): 3
   Arg 3 (DBG:NAME-FORMAT): "~VTArg ~D"
   Arg 4 (DBG:NAME-PRINTER): #<DTP-COMPILED-FUNCTION DBG:DISPLAY-ARG-NAME 145235044>
   Arg 5 (DBG:PRINT-VALUE-P): T
   Arg 6 (DBG:COMPARE-P): NIL
   Arg 7 (DBG:CALLER-VALUE): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 8 (DBG:CALLER-LOC): #<DTP-LOCATIVE 232502040>
   Arg 9 (DBG:CALLEE-VALUE): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 10 (DBG:CALLEE-LOC): #<DTP-LOCATIVE 232502046>

1DBG:PRINT-FRAME-ARGS0:  (P.C. = 235)
   Arg 0 (DBG:FRAME): #<DTP-LOCATIVE 232502046>
   Arg 1 (DBG:INDENT): 3
   Arg 2 (DBG:SHOW-LOCAL-IF-DIFFERENT): NIL

1DBG:PRINT-FUNCTION-AND-ARGS0:  (P.C. = 206)
   Arg 0 (DBG:FRAME): #<DTP-LOCATIVE 232502046>
   Arg 1 (DBG:SHOW-PC-P): NIL
   Arg 2 (DBG:SHOW-SOURCE-FILE-P): NIL
   Arg 3 (DBG:SHOW-LOCAL-IF-DIFFERENT): NIL
   Arg 4 (DBG:PRESENT-AS-FUNCTION): T

1DBG:SHOW-FUNCTION-AND-ARGS0:  (P.C. = 11)
2   --Defaulted args:--
0   Arg 0 (DBG:SHOW-SOURCE-FILE-P): NIL

1DBG:SHOW0:  (P.C. = 23)  2(from SYS:PATCH;SYSTEM-349-45)
0   Arg 0 (DBG:SHOW-PROCEED-OPTIONS): NIL
   Arg 1 (DBG:ALREADY-PRINTED): T

1DBG:DEBUGGER-TOP-LEVEL0:  (P.C. = 1055)  2(from SYS:PATCH;SYSTEM-349-45)
0   Arg 0: #<BAD-DATA-TYPE-IN-MEMORY-TRAP 40000715>
   Arg 1: #<DTP-LOCATIVE 232502227>
   Arg 2: NIL
   Arg 3 (DBG:SPECIAL-COMMANDS): NIL

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 2 15522057>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DBG:ENTER-DEBUGGER 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232502243>
   Rest arg: NIL

1DBG:ENTER-DEBUGGER0:  (P.C. = 32)
   Arg 0 (ERROR): #<BAD-DATA-TYPE-IN-MEMORY-TRAP 40000715>
2   --Defaulted args:--
0   Arg 1 (DBG:REASON): NIL
   Arg 2 (DBG:SPECIAL-COMMANDS): NIL

1DBG:DEBUGGER-HANDLER-HANDLE-CONDITION0:  (P.C. = 7)
   Arg 0 (IGNORE): :HANDLE-CONDITION
   Arg 1 (COND): #<BAD-DATA-TYPE-IN-MEMORY-TRAP 40000715>
   Arg 2 (IGNORE): #<DTP-LOCATIVE 155115643>

1DBG:DEBUGGER-HANDLER0:  (P.C. = 12)
   Arg 0 (SI:OPERATION): :HANDLE-CONDITION
   Rest arg (SI:SELECT-METHOD-ARGS): (#<BAD-DATA-TYPE-IN-MEMORY-TRAP 40000715> #<DTP-LOCATIVE 155115643>)

1(FLAVOR:METHOD DBG:SIGNAL-CONDITION CONDITION)0:  (P.C. = 156)
   Arg 0 (SELF): #<BAD-DATA-TYPE-IN-MEMORY-TRAP 40000715>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CONDITION 250456433>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DBG:SIGNAL-CONDITION 6701515>
   Arg 3 (DBG:PROCEEDABLY): T

1(FLAVOR:COMBINED DBG:SIGNAL-CONDITION DBG:BAD-DATA-TYPE-IN-MEMORY-TRAP)0:  (P.C. = 20)
   Arg 0 (SELF): #<BAD-DATA-TYPE-IN-MEMORY-TRAP 40000715>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DBG:BAD-DATA-TYPE-IN-MEMORY-TRAP 250456403>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DBG:SIGNAL-CONDITION 6701515>
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (T)

1SIGNAL0:  (P.C. = 23)
   Arg 0 (SYS:FLAVOR): #<BAD-DATA-TYPE-IN-MEMORY-TRAP 40000715>
   Rest arg (DBG:INIT-OPTIONS): NIL

1DBG:SIGNAL-TRAP0:  (P.C. = 13)
   Arg 0 (COND): #<BAD-DATA-TYPE-IN-MEMORY-TRAP 40000715>

1SYS:MICROCODE-ERROR-HANDLER0:  (P.C. = 75)
   Arg 0 (DBG:MICRO-PC): 4277
   Arg 1 (DBG:VMA): #<DTP-LOCATIVE 22000007>
   Arg 2 (DBG:OLD-INHIBIT-SCHEDULING-FLAG): T
   Arg 3 (DBG:MACRO-PC): #<DTP-EVEN-PC 144526324>

1LENGTH0:  (P.C. = 26)
   Arg 0 (SEQUENCE): #<DTP-ARRAY does not point to array storage 22000007>

1DW::COORDINATE-CONVERT-XS-AND-YS0:  (P.C. = 10)
   Arg 0 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (DW::TO-WHAT): :RELATIVE
   Arg 2 (DW::WHERE): :INSIDE
   Arg 3 (DW::XS): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 4 (DW::YS): #<DTP-ARRAY does not point to array storage 22000012>
   Arg 5 (DW::END): NIL

1(FLAVOR:WHOPPER :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)0:  (P.C. = 45)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW) 0) 146742113>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :DRAW-WIDE-CURVE
   Arg 5 (DW::PX): #<DTP-ARRAY does not point to array storage 22000007>
   Arg 6 (DW::PY): #<DTP-ARRAY does not point to array storage 22000012>
   Arg 7 (DW::CURVE-WIDTH): 40
   Arg 8 (DW::END): NIL
   Arg 9 (DW::ALU): 7

1(FLAVOR:COMBINED :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :DRAW-WIDE-CURVE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<DTP-ARRAY does not point to array storage 22000007> #<DTP-ARRAY does not point to array storage 22000012> 40 NIL 7)

1(FLAVOR:METHOD DW::REDRAW-DISPLAYED-PRESENTATION DW::GRAPHICS-DISPLAYED-PRESENTATION)0:  (P.C. = 6)
   Arg 0 (SELF): #<WIDE-CURVE-GRAPHICS-DISPLAYED-PRESENTATION 404332772>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::GRAPHICS-DISPLAYED-PRESENTATION 250466425>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDRAW-DISPLAYED-PRESENTATION 6754671>
   Arg 3 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 4 (DW::BOX): #<BOX /x 0:1037, y 3781:4117/ 16600005>

1DW::REDRAW-DISPLAYED-SET0:  (P.C. = 66)  2(from SYS:PATCH;SYSTEM-349-18)
0   Arg 0 (ARRAY): #<ART-Q-400 320166462>
   Arg 1 (DW::WINDOW): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 2 (DW::START-INDEX): 118
   Arg 3 (DW::END-INDEX): 178
   Arg 4 (DW::VIEWPORT): #<BOX /x 0:1037, y 3781:4117/ 16600005>

1(FLAVOR:METHOD :REDRAW-INSIDE-SETS DW:DYNAMIC-WINDOW)0:  (P.C. = 26)  2(from SYS:PATCH;SYSTEM-349-59)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :REDRAW-INSIDE-SETS
   Arg 3 (DW::BOX): #<BOX /x 0:1037, y 3781:4117/ 16600005>
2   --Defaulted args:--
0   Arg 4 (DW::CLEAR-FIRST): T

1(:INTERNAL (FLAVOR:METHOD :SET-VIEWPORT-POSITION DW:DYNAMIC-WINDOW) 0 DW::REDRAW-IN-BOX)0:  (P.C. = 22)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232501636>
   Arg 1 (DW::BOX): #<BOX /x 0:1037, y 3781:4117/ 16600005>

1(FLAVOR:METHOD :SET-VIEWPORT-POSITION DW:DYNAMIC-WINDOW)0:  (P.C. = 244)  2(from SYS:PATCH;SYSTEM-349-97)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :SET-VIEWPORT-POSITION
   Arg 3 (DW::NEW-LEFT): 0
   Arg 4 (DW::NEW-TOP): 2379

1(FLAVOR:METHOD :SCROLL-ONE-SCREENFUL DW:DYNAMIC-WINDOW)0:  (P.C. = 56)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :SCROLL-ONE-SCREENFUL
   Arg 3 (DW::BACKWARD-P): T
   Arg 4 (DW::CONTEXT-NLINES): 1
   Local 4 (DW::CONTEXT-NLINES): 0

1CP::SCROLL-WINDOW-COMMAND-INTERNAL0:  (P.C. = 326)
   Arg 0 (TYPE): :SCREEN
   Arg 1 (COUNT): -1
   Arg 2 (CP::COORDINATE): :Y
   Arg 3 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>

1(FLAVOR:METHOD SI:COM-SCROLL-VERTICAL-BACKWARD SI:INTERACTIVE-STREAM)0:  (P.C. = 13)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (FLAVOR::.GENERIC.): SI:COM-SCROLL-VERTICAL-BACKWARD

1SI:COM-SCROLL-VERTICAL-BACKWARD0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>

1(FLAVOR:METHOD SI:INPUT-EDITOR-TYI SI:DISPLAY-INPUT-EDITOR)0:  (P.C. = 516)  2(from SYS:PATCH;SYSTEM-349-196)
0   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:DISPLAY-INPUT-EDITOR 174103561>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:INPUT-EDITOR-TYI 6724471>
   Arg 3: NIL

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 2 15522057>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232501426>
   Rest arg: NIL

1(FLAVOR:WHOPPER :ANY-TYI SI:INTERACTIVE-STREAM)0:  (P.C. = 22)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :ANY-TYI DW:DYNAMIC-WINDOW) 0) 147473122>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :ANY-TYI
2   --Defaulted args:--
0   Arg 5 (SI:EOF): NIL

1(FLAVOR:COMBINED :ANY-TYI DW:DYNAMIC-WINDOW)0:  (P.C. = 25)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :ANY-TYI
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1DW:READ-CHAR-FOR-ACCEPT0:  (P.C. = 5)
   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>

1DW::SKIP-OVER-WHITESPACE-AND-REPROMPT-ON-NEWLINE0:  (P.C. = 3)
   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (DW::BLANK-LINE-MODE): :REPROMPT

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 414)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232500651>

1(DEFUN-IN-FLAVOR SI:INPUT-EDITOR-READ SI:INTERACTIVE-STREAM)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 232500661>
   Arg 3 (SI:READ-ARGS): NIL

1(FLAVOR:METHOD :INPUT-EDITOR SI:INTERACTIVE-STREAM)0:  (P.C. = 160)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Arg 3 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 232500661>
   Rest arg (SI:READ-ARGS): NIL

1(:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 232500661>)

1(FLAVOR:WHOPPER :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0) 147371366>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (DW::ARGS): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 232500661>)

1(FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 232500661>)

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 220)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232500766>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 2 15522057>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232500774>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 232500661>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232500361>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::PARSER) 152215515>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 232500376> NIL #<DTP-LOCATIVE 232500501>) (CP:COMMAND-OR-FORM #<COMMAND-TABLE User 120216052> :FORM-PREFERRED))
   Arg 1 (DW::PRKEY): (:ENVIRONMENT NIL)

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 31505463>
   Arg 1 (DW::KEY): (:ENVIRONMENT NIL)

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 232500376> NIL #<DTP-LOCATIVE 232500501>)
   Arg 1: (CP:COMMAND-OR-FORM #<COMMAND-TABLE User 120216052> :FORM-PREFERRED)

1(DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::KEY-GENERATOR)0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 31505457>
   Arg 1: CP:COMMAND-OR-FORM
   Rest arg: (:COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP:COMMAND-OR-FORM 7106204>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 31505457>
   Arg 4 (DW::TYPE-NAME): CP:COMMAND-OR-FORM
   Rest arg (DW::DATA-ARGS): (:COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 232500376>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed> :PROVIDE-DEFAULT NIL :PROMPT "" :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM ...)
<<Error printing frame's specials>>
1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT "" :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT "" :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT "" :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1CP:READ-COMMAND-OR-FORM0:  (P.C. = 225)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg: (:DISPATCH-MODE :FORM-PREFERRED :BLANK-LINE-MODE :REPROMPT :PROMPT "")

1CP::COMMAND-LOOP-READ-FUNCTION0:  (P.C. = 13)

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 232500147>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 2 15522057>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232500112>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 2 703707 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL
20-Jul-87 15:53:18-EDT,3242;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 20 Jul 87 15:53-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 49454; 20 Jul 87 15:53:19 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 195602; 20 Jul 87 14:13:31 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 63951; Mon 20-Jul-87 11:12:00 PDT
Date: Mon, 20 Jul 87 11:11 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: Negative Coordinates have nothing to do with it.
To: Alan%AI.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870719153149.3.ALAN@PIGPEN.AI.MIT.EDU>
Message-ID: <870720111155.2.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Sun, 19 Jul 87 15:31 EDT
    From: Alan Bawden <Alan@AI.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30096,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

    Basically, it seems like a --More-- break in the middle of drawing
    -anything- is likely to cause this to happen.  I thought it had to do with
    the fact that I was drawing lines that were so thick that they had negative
    X coordinates, but I changed that, and this still happens.

I followed your running analysis of the :draw-line problem
(could've saved you some time if I'd gotten to the first one just
after you sent it yesterday).  Mixing the ":thickness" keyword with
a surrounding border is (unintentionally) dangerous, and has been
fixed (along with lots of other DW stuff) in the next release.

    Foo.  What is the -safe- way to do graphics in Release 7?  I just want to
    draw circles and arrows and lines and simple stuff like that.  Am I better
    off making a "static" window and doing my drawing there?

Apart from waiting for 7.2, you can use static windows, eliminate either
thickness or borders, or request the latest (repaired) version of the
most important function (and hope that the changes aren't too extensive).
Sorry for the surprise...there are always workarounds in graphics, but
you shouldn't have to use them.

-trev

    1Trap: The word #<DTP-NIL 3300000> was read from location 22000012 (in STACK-AREA).
0    While in the function LENGTH  DW::COORDINATE-CONVERT-XS-AND-YS  (FLAVOR:WHOPPER :DRAW-WIDE-CURVE DW:DYNAMIC-WINDOW)

    The condition signalled was DBG:BAD-DATA-TYPE-IN-MEMORY-TRAP

[...]


20-Jul-87 18:55:59-EDT,18020;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 20 Jul 87 18:55-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49479; Mon 20-Jul-87 18:55:43 EDT
Date: Mon, 20 Jul 87 18:55 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: GPRINT bug
To: Bug-LispM@REAGAN.AI.MIT.EDU, customer-reports%scrc@MC.LCS.MIT.EDU
Message-ID: <870720185538.2.JCMA@MORRISON.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
                         (3 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (4 0 (NIL 0) (NIL :ROMAN NIL) "CPTFONT")
                         (5 0 (NIL 0) (:FIX :ROMAN :NORMAL) "CPTFONT")
Fonts: CPTFONT, CPTFONTI, CPTFONTI, CPTFONTCB, CPTFONT, CPTFONT

In Symbolics 3640 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 1Relatus Natural Language System0 168.14,
Experimental Reference 6.7, Experimental Jcma 2,
Experimental 2Semantic Inversion0 8.0, microcode 3640-MIC 396, FEP 127,
Fep0:>v127-lisp.flod(55), Fep0:>V127-loaders.flod(56),
Fep0:>v127-tests.flod(55), Fep0:>V127-debug.flod(34),
Fep0:>v127-info.flod(55), Machine serial number 5228, on Lisp Machine Jim Morrison:

Should Gprint really blowout like this?


3Trap: The first argument given to the AS-1 instruction, #\4n3, was not a CL:STRING-CHAR and
      therefore would not fit into the ART-STRING array "                    #<REF-SPEC-ALIAS #<REF-SPEC-ALIAS ".
0While in the function ARRAY-PUSH  ARRAY-PUSH-EXTEND  TV:GRIND-INTO-LIST-IO

The condition signalled was DBG:WRONG-TYPE-ARRAY-ELEMENT-TRAP

3ARRAY-PUSH0:  (P.C. = 16)
   Arg 0 (ARRAY): "                    #<REF-SPEC-ALIAS #<REF-SPEC-ALIAS "
   Arg 1 (SI:X): #\4n
0   Local 2 (SI:OLD-LENGTH): 37
   Local 3 (SI:NEW-LENGTH): 38
   Special INHIBIT-SCHEDULING-FLAG: T

3ARRAY-PUSH-EXTEND0:  (P.C. = 7)
   Arg 0 (ARRAY): "                    #<REF-SPEC-ALIAS #<REF-SPEC-ALIAS "
   Arg 1 (SI:DATA): #\4n
2   --Defaulted args:--
0   Arg 2 (SI:EXTENSION): NIL

3TV:GRIND-INTO-LIST-IO0:  (P.C. = 57)
   Arg 0 (TV:OP): :TYO
   Arg 1 (TV:ARG1): #\4n
0   Rest arg (TV:REST): NIL

3SI:GRIND-PRINT-IO0:  (P.C. = 56)
   Arg 0 (SI:OPERATION): :TYO
   Rest arg (SI:REST): (#\4n0)

3STREAM-DEFAULT-HANDLER0:  (P.C. = 112)  2(from SYS:PATCH;SYSTEM-349-97)
0   Arg 0 (CLI::FCTN): #<DTP-COMPILED-FUNCTION SI:GRIND-PRINT-IO 146023460>
   Arg 1 (CLI::OP): :STRING-OUT
   Arg 2 (CLI::ARG1): "4no alias yet0"
   Arg 3 (CLI::ARGS): NIL

3SI:GRIND-PRINT-IO0:  (P.C. = 23)
   Arg 0 (SI:OPERATION): :STRING-OUT
   Rest arg (SI:REST): ("4no alias yet0")

3(:INTERNAL GPRINT::SIMPLE-PRINT-OBJECT 0 GPRINT::PRINT-SELF-STREAM)0:  (P.C. = 116)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232701503>
   Arg 1 (GPRINT::OP): :STRING-OUT
   Rest arg (GPRINT::ARGS): ("4no alias yet0")

3(FLAVOR:METHOD RF:PRINT-SELF RF:REF-SPEC-ALIAS)0:  (P.C. = 65)  2(from B:>relatus>rel-7>gnoscere>reference>alias)
0   Arg 0 (SELF): #<REF-SPEC-ALIAS 4no alias yet0 116524543>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor RF:REF-SPEC-ALIAS 107360024>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION RF:PRINT-SELF 7063157>
   Arg 3 (RF:STREAM): #<LEXICAL-CLOSURE (:INTERNAL GPRINT::SIMPLE-PRINT-OBJECT 0 GPRINT::PRINT-SELF-STREAM) 232701506>
   Rest arg (IGNORE): NIL

3(FLAVOR:METHOD SYS:PRINT-SELF RF:REFERENCE-OBJECT)0:  (P.C. = 5)  2(from RL:REFERENCE;TEMPLATE)
0   Arg 0 (SELF): #<REF-SPEC-ALIAS 4no alias yet0 116524543>
   Arg 1 (SYS:SELF-MAPPING-TABLE): RF:REFERENCE-OBJECT
   Arg 2 (FLAVOR::.GENERIC.): :PRINT-SELF
   Arg 3 (RF:STREAM): #<LEXICAL-CLOSURE (:INTERNAL GPRINT::SIMPLE-PRINT-OBJECT 0 GPRINT::PRINT-SELF-STREAM) 232701506>
   Rest arg (IGNORE): (1 T)

3GPRINT::SIMPLE-PRINT-OBJECT0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-97)
0   Arg 0 (GPRINT::OBJECT): #<REF-SPEC-ALIAS 4no alias yet0 116524543>
   Arg 1 (GPRINT::ESCAPE): T
   Arg 2 (CL:STREAM): #<DTP-COMPILED-FUNCTION SI:GRIND-PRINT-IO 146023460>

3GPRINT::PRINT-OUT0:  (P.C. = 567)  2(from SYS:PATCH;SYSTEM-349-97)

3GPRINT::ENQUEUE0:  (P.C. = 401)  2(from SYS:PATCH;SYSTEM-349-97)
0   Arg 0 (CL:TYPE): :PRIN1
   Arg 1 (GPRINT::OBJECT): #<REF-SPEC-ALIAS 4no alias yet0 116524543>

3GPRINT::GDISPATCH0:  (P.C. = 564)  2(from SYS:PATCH;SYSTEM-349-102)
0   Arg 0 (GPRINT::SUGGESTED-FORMAT): NIL
   Arg 1 (GPRINT::OBJECT): #<REF-SPEC-ALIAS 4no alias yet0 116524543>

3GPRINT:PRINT-OBJECT0:  (P.C. = 501)  2(from SYS:PATCH;SYSTEM-349-97)
0   Arg 0 (GPRINT::OBJECT): #<REF-SPEC-ALIAS 4no alias yet0 116524543>
   Arg 1 (GPRINT::SUGGESTED-FORMAT): T
   Local 1 (GPRINT::SUGGESTED-FORMAT): NIL
   Arg 2 (CL:STREAM): #<DTP-COMPILED-FUNCTION SI:GRIND-PRINT-IO 146023460>
2   --Defaulted args:--
0   Arg 3 (GPRINT::RECURSIVE): NIL

3SI:WRITE-INTERNAL0:  (P.C. = 12)
   Arg 0 (SI:OBJECT): #<REF-SPEC-ALIAS 4no alias yet0 116524543>
   Arg 1 (SI:STREAM): #<DTP-COMPILED-FUNCTION SI:GRIND-PRINT-IO 146023460>

3PRIN10:  (P.C. = 13)
   Arg 0 (SI:OBJECT): #<REF-SPEC-ALIAS 4no alias yet0 116524543>
   Arg 1 (SI:OUTPUT-STREAM): #<DTP-COMPILED-FUNCTION SI:GRIND-PRINT-IO 146023460>

3SI:GRIND-ATOM0:  (P.C. = 42)
   Arg 0 (ATOM): #<REF-SPEC-ALIAS 4no alias yet0 116524543>
   Arg 1 (SI:STREAM): #<DTP-COMPILED-FUNCTION SI:GRIND-PRINT-IO 146023460>
   Arg 2 (SI:LOC): #<DTP-LOCATIVE 105161621>

3SI:GRIND-FORM0:  (P.C. = 22)
   Arg 0 (EXP): #<REF-SPEC-ALIAS 4no alias yet0 116524543>
   Arg 1 (SI:LOC): #<DTP-LOCATIVE 105161621>

3SI:GRIND-REST-OF-LIST0:  (P.C. = 37)
   Arg 0 (SI:TAIL): (ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 1 (SI:LOC): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 2 (SYS:FORM): #<DTP-COMPILED-FUNCTION SI:GRIND-FORM 146025011>

3SI:GRIND-STANDARD-FORM0:  (P.C. = 102)
   Arg 0 (EXP): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 1 (SI:LOC): :TOP-LEVEL

3SI:GRIND-FORM0:  (P.C. = 211)
   Arg 0 (EXP): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 1 (SI:LOC): :TOP-LEVEL

3SI:GRIND-TRY0:  (P.C. = 134)
   Arg 0 (SYS:FORM): #<DTP-COMPILED-FUNCTION SI:GRIND-FORM 146025011>
   Arg 1 (EXP): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 2 (SI:LOC): :TOP-LEVEL
   Rest arg (ARGS): NIL

3SI:GRIND-OPTI-MISER0:  (P.C. = 35)
   Arg 0 (EXP): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 1 (SI:LOC): :TOP-LEVEL

3GRIND-TOP-LEVEL0:  (P.C. = 60)
   Arg 0 (EXP): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 1: 80
   Arg 2: TV:GRIND-INTO-LIST-IO
   Arg 3: NIL
   Arg 4: SI:DISPLACED
   Arg 5 (SI:TERPRI-P): T
   Arg 6: NIL
   Arg 7 (SI:LOC): :TOP-LEVEL

3TV:GRIND-INTO-LIST0:  (P.C. = 35)
   Arg 0 (EXP): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 1 (TV:WIDTH): 80
2   --Defaulted args:--
0   Arg 2 (TV:ITEMS-P): NIL

3GRIND0:  (P.C. = 31)  2(from RL:UTILS;RSYSFNS)
0   Arg 0 (THING): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 1 (STREAM): #<RELATUS-LISTENER Relatus Listener 1 725554 exposed>
2   --Defaulted args:--
0   Arg 2 (LEADING-BLANK-LINES): 0
   Arg 3 (WIDTH): 80

3(:PROPERTY FORMAT:GRIND FORMAT:CTL-ONE-ARG)0:  (P.C. = 5)  2(from RL:UTILS;FORMATDIR)
0   Arg 0 (ARG): (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT)))
   Arg 1 (PARAMS): NIL

3FORMAT:FORMAT-CTL-OP0:  (P.C. = 23)
   Arg 0 (FUNCTION): #<DTP-COMPILED-FUNCTION (:PROPERTY FORMAT:GRIND FORMAT:CTL-ONE-ARG) 260436646>
   Arg 1 (FORMAT:TYPE): :ONE-ARG
   Arg 2 (ARGS): ((RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT))))
   Arg 3 (FORMAT:PARAMS): NIL

3FORMAT:FORMAT-CTL-STRING0:  (P.C. = 74)
   Arg 0 (ARGS): ("~275T0" NIL (NIL :BOLD NIL) "5%%RELATION-AS-SUBJECT-CONSTRAINT0" (ATTEMPT-5 NODE) #<INVERSION-ACTIVITY 116524477> (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT))))
   Local 0 (ARGS): ((RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT))))
   Arg 1: "~&4~?(~v~A~ ~0\4\ITEM0\4\ ~S) adds:0~\\grind\\"

3(:INTERNAL FORMAT:FORMAT-INTERNAL 0 FORMAT:DO-IT)0:  (P.C. = 21)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232701014>

3FORMAT:FORMAT-INTERNAL0:  (P.C. = 120)
   Arg 0 (FORMAT:STREAM): #<RELATUS-LISTENER Relatus Listener 1 725554 exposed>
   Arg 1: "~&4~?(~v~A~ ~0\4\ITEM0\4\ ~S) adds:0~\\grind\\"
   Rest arg (ARGS): ("~275T0" NIL (NIL :BOLD NIL) "5%%RELATION-AS-SUBJECT-CONSTRAINT0" (ATTEMPT-5 NODE) #<INVERSION-ACTIVITY 116524477> (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT))))

3CL:FORMAT0:  (P.C. = 17)
   Arg 0 (CLI::DESTINATION): #<RELATUS-LISTENER Relatus Listener 1 725554 exposed>
   Arg 1 (CLI::CONTROL-STRING): "~&4~?(~v~A~ ~0\4\ITEM0\4\ ~S) adds:0~\\grind\\"
   Rest arg (CLI::ARGS): ("~275T0" NIL (NIL :BOLD NIL) "5%%RELATION-AS-SUBJECT-CONSTRAINT0" (ATTEMPT-5 NODE) #<INVERSION-ACTIVITY 116524477> (RF:OBJECT-RELATION ATTEMPT #<REF-SPEC-ALIAS 4no alias yet0 116524543> ((TRUE) (RF:PSUBJECT-RELATION HAS-TENSE PAST) (RF:PSUBJECT-RELATION HAS-ASPECT PERFECT))))

3(FLAVOR:METHOD INV::%%RELATION-AS-OBJECT-CONSTRAINT INVERSION-MIXIN)0:  (P.C. = 321)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE ATTEMPT-5 124467305>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::%%RELATION-AS-OBJECT-CONSTRAINT 7075543>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116472564>

3(FLAVOR:METHOD INV::%OBJECT-RELATIONS-AS-CONSTRAINTS INVERSION-MIXIN)0:  (P.C. = 67)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE WEAKEN-2 124467023>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::%OBJECT-RELATIONS-AS-CONSTRAINTS 7075563>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116472564>

3(FLAVOR:METHOD INV::%CONSTRAINTS-OF-OBJECT INVERSION-MIXIN)0:  (P.C. = 141)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE WEAKEN-2 124467023>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::%CONSTRAINTS-OF-OBJECT 7075573>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116472564>
   Arg 4 (INV::OBJECT-P): NIL

3(FLAVOR:METHOD INV::%%RELATION-AS-SUBJECT-CONSTRAINT INVERSION-MIXIN)0:  (P.C. = 351)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE WEAKEN-2 124467023>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::%%RELATION-AS-SUBJECT-CONSTRAINT 7075533>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116470607>

3(FLAVOR:METHOD INV::%SUBJECT-RELATIONS-AS-CONSTRAINTS INVERSION-MIXIN)0:  (P.C. = 67)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE ELMO-1 124452224>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::%SUBJECT-RELATIONS-AS-CONSTRAINTS 7075553>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116470607>

3(FLAVOR:METHOD INV::%CONSTRAINTS-OF-OBJECT INVERSION-MIXIN)0:  (P.C. = 136)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE ELMO-1 124452224>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::%CONSTRAINTS-OF-OBJECT 7075573>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116470607>
   Arg 4 (INV::OBJECT-P): T

3(FLAVOR:METHOD INV::%REF-SPEC-FOR-OBJECT INVERSION-MIXIN)0:  (P.C. = 1006)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE ELMO-1 124452224>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::%REF-SPEC-FOR-OBJECT 7075623>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116470607>

3(FLAVOR:METHOD INV::WALK INVERSION-MIXIN)0:  (P.C. = 22)  2(from RL:INVERSION;ACTIVITY)
0   Arg 0 (SELF): #<ST-NODE ELMO-1 124452224>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::WALK 7075273>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116470607>

3(FLAVOR:METHOD INV::%REF-SPEC-FOR-RELATION INVERSION-MIXIN)0:  (P.C. = 1074)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE FALL-6 124470137>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::%REF-SPEC-FOR-RELATION 7075613>
   Arg 3 (INV::ACTIVITY): #<INVERSION-ACTIVITY 116470607>

3(FLAVOR:METHOD INV::INVERT INVERSION-MIXIN)0:  (P.C. = 143)  2(from RL:INVERSION;INVERTER)
0   Arg 0 (SELF): #<ST-NODE FALL-6 124470137>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::INVERT 7075633>
   Rest arg: (:RELATION-CONSTRAINTS #<CONSTRAINT-LIST 2 Elements 106425225> :OBJECT-VARIABLIZATION-LEVEL 1 :FULL-GRAPH-P T)

3(FLAVOR:METHOD INV::VARIABLIZED-REF-SPEC INVERSION-MIXIN)0:  (P.C. = 66)  2(from B:>relatus>rel-7>gnoscere>reference>inversion>project)
0   Arg 0 (SELF): #<ST-NODE FALL-6 124470137>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::VARIABLIZED-REF-SPEC 7075673>
   Arg 3 (INV::RELATION-CONSTRAINTS): #<CONSTRAINT-LIST 1 Element 106412475>

3(FLAVOR:METHOD INV::REF-SPEC-FOR-OBJECT INVERSION-MIXIN)0:  (P.C. = 143)  2(from B:>relatus>rel-7>gnoscere>reference>inversion>project)
0   Arg 0 (SELF): #<ST-NODE SHOW-1 124470511>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor INVERSION-MIXIN 107310022>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION INV::REF-SPEC-FOR-OBJECT 7075703>

3TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP0:  (P.C. = 76)  2(from RL:UTILS;WMAGIC)
0   Arg 0 (SYS:FORM): (INV::REF-SPEC-FOR-OBJECT *)

3(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Relatus Listener 1 15513266>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 232700211>
   Rest arg: NIL

3TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 232700154>

3(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Relatus Listener 1 15513266>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232700117>
   Rest arg: NIL

3SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Relatus Listener 1"
   Arg 1 (SI:ABORT-FUNCTION): TV:MOUSE-SENSITIVE-ABORT-FUNCTION-FOR-LISP-COMMAND-LOOP
   Arg 2 (SI:READ-FUNCTION): TV:RELATUS-LISTENER-CP-COMMAND-LOOP-READ-FUNCTION
   Arg 3 (SI:EVAL-FUNCTION): TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP
   Arg 4 (SI:PRINT-FUNCTION): TV:MOUSE-SENSITIVE-PRINT-FOR-LISP-COMMAND-LOOP
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

3SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<RELATUS-LISTENER Relatus Listener 1 725554 exposed>
   Rest arg: (:NAME "Relatus Listener 1" :ABORT-FUNCTION TV:MOUSE-SENSITIVE-ABORT-FUNCTION-FOR-LISP-COMMAND-LOOP :READ-FUNCTION TV:RELATUS-LISTENER-CP-COMMAND-LOOP-READ-FUNCTION :EVAL-FUNCTION TV:MOUSE-SENSITIVE-EVAL-FOR-LISP-COMMAND-LOOP :PRINT-FUNCTION TV:MOUSE-SENSITIVE-PRINT-FOR-LISP-COMMAND-LOOP)

3TV:RELATUS-LISTENER-TOP-LEVEL10:  (P.C. = 31)  2(from RL:UTILS;WMAGIC)
0   Arg 0: #<RELATUS-LISTENER Relatus Listener 1 725554 exposed>

3SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL
21-Jul-87 11:03:23-EDT,1679;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 21 Jul 87 11:03-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 64249; 21 Jul 87 11:02:56 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 21 Jul 87 10:40-EDT
Date: Tue, 21 Jul 87 10:53 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: compiler bug
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870721105315.6.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental CLX 2.1,
microcode 3640-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
FEP0:>v127-debug.flod(34), Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

Try putting the following in a file and doing a Compile File:

;;; -*- Syntax: Common-Lisp; Package: USER; Base: 10; Mode: Lisp -*-

(defvar x)

(flet ((foo (x) (ecase x
		  (8 x)
		  (16 (+ x x))
		  (32 (* x x)))))
  (setq x (foo 8)))


I get the following:

  Warning (not associated with any definition)
    (CL:EQ #:G16499 8) -- You should not use EQ to compare numbers.
    (CL:EQ #:G16499 16) -- You should not use EQ to compare numbers.
    (CL:EQ #:G16499 32) -- You should not use EQ to compare numbers.

This does not happen with Compile Buffer.
21-Jul-87 14:49:54-EDT,1630;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 21 Jul 87 14:49-EDT
Received: from WINNIE-THE-POOH.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 6554; Tue 21-Jul-87 14:49:15 EDT
Date: Tue, 21 Jul 87 14:49 EDT
From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>
Subject: Styles in progress notes
To: customer-reports@YUKON.SCRC.SYMBOLICS.COM
cc: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870721144940.1.QUX@WINNIE-THE-POOH.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
Experimental SPIRE Utterance Database User 1.0,
Experimental SUDS Server 1.0, microcode 3650-MIC 396, FEP 206,
Fep0:>g206-lisp.flod(14), Fep0:>g206-loaders.flod(14),
Fep0:>g206-debug.flod(4), Fep0:>g206-info.flod(14),
Machine serial number 30421,
Improve Spell Menu (from GOLDY:>dynamic>user>qux>g7-1>patches>fix-spell-menu.lisp.1),
World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Winnie ther Pooh:

This works:

(tv:noting-progress ("This is a progress note that is too long to fit in the file sheet")
  (sleep 3))


This doesn't:

(tv:noting-progress ((format nil "This is a ~'iprogress~ note that is too long to fit in the file sheet"))
  (sleep 3))

In general, progress notes with multiple styles that are too long to fit
in the file sheet are misdisplayed, usually by displaying only some
portion of the note.  To my eyes, the use of tv:char-width in
(flavor:method :update tv:who-line-file-sheet) has a very guilty look,
since it makes no attempt to deal with characters in styles other than
the default.
21-Jul-87 15:19:07-EDT,1777;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 21 Jul 87 15:19-EDT
Received: from JONES.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49584; Tue 21-Jul-87 15:19:06 EDT
Date: Tue, 21 Jul 87 15:19 EDT
From: M. A. Vogt <cheshire@REAGAN.AI.MIT.EDU>
Subject: %Allocate called while INHIBIT-CONSING-FLAG was set
To: BUG-LISPM@REAGAN.AI.MIT.EDU
cc: customer-reports%scrc@MC.LCS.MIT.EDU
Message-ID: <870721151906.2.CHESHIRE@JONES.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

In Symbolics 3640 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2,
Experimental 1Relatus Natural Language System0 168.14,
Experimental Reference 6.7, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(44), FEP0:>v127-debug.flod(31),
Machine serial number 5234, on Lisp Machine Brian Jones:

2:10 pm:
  While the Dynamic Garbage Collecter was going, with the above world loaded,
I received an error message in the cold-load-stream, something like this:

%Allocate called while INHIBIT-CONSING-FLAG was set

The inhibit-scheduling-flag is set. You are probably in the middle of a
process that did not expect to be stopped....

After I looked at the backtrace and attempted to restart process (which was
zmacs), I was asked if I wanted to Restart the Scheduler. After I typed Y, the
machine went down a debugger level and informed me that my environment was
seriously damaged, and only if I was lucky, I might be able to save myself by
typing (gc-off) and aborting. However, I wasn't lucky.  I managed, with some
difficulty, to save the files I had been working on, and then rebooted.

					Mary Vogt
22-Jul-87 05:11:24-EDT,10887;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 05:11-EDT
Received: from APIARY-3.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49679; Wed 22-Jul-87 05:10:47 EDT
Date: Wed, 22 Jul 87 05:10 EDT
From: Paul Krause <pfkrause@OZ.AI.MIT.EDU>
Subject: looping through hash tables
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870722051026.3.PFKRAUSE@APIARY-3.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI


I'm not sure whether this is a bug on Symbolics part or not (partly
because I can't figure out what constitutes a "valid entry"), but the
code in question -does- run on the Explorer without causing any
errors. Here is the relevant code fragment (from oz:ps:<pfkrause>earley.lisp):

******************************************************************************************************************
; This routine assumes that there is at least one state in the RTN.
(defun l*-build-arcs (l* stateno arcs state-name-table)
  (setf (aref l* stateno) (make-hash-table :test #'eq))
  (loop for arc in arcs
	when (eq (first arc) 'push)
	  do (setf (gethash (stateno-of (second arc) state-name-table)
			    (aref l* stateno)) t)))

(defun l*-build-states (l* rtn state-name-table)
  (loop for state in rtn
	for state-name = (first state)
	for stateno = (stateno-of state-name state-name-table)
	for arcs = (second state)
	do (l*-build-arcs l* stateno arcs state-name-table)))

(defun build-l* (rtn state-name-array state-name-table
		 &optional (transitive-closure? t))
  (format t "~&Building L*.")
  (let* ((nostates (first (array-dimensions state-name-array)))
	 (l* (make-array (list nostates) :initial-element '())))
    (l*-build-states l* rtn state-name-table)
    (when transitive-closure? (l*-fill l*))
    (l*-write l* nostates)))

(defun l*-fill (l* &aux (again? t))
  (declare (special again?))
  (loop ;;for count from 0
	while again?
	do (l*-fill-loop l*)))

(defun l*-fill-loop (l*)
  (declare (special again?))
  (setf again? nil)
  (loop for l*-stateno being the array-elements of l*
	do (l*-fill-loop-1 l* l*-stateno)))
	
(defun l*-fill-loop-1 (l* l*-stateno)		;*** the "bug" occurs when looping through L*-STATENO
  (declare (special again?))			;*** (but not always the on first call by L*-FILL-LOOP)
  (loop for value1 being the hash-elements of l*-stateno with-key key1
	do (l*-fill-loop-2 l* l*-stateno key1)))

(defun l*-fill-loop-2 (l* l*-stateno key1)
  (declare (special again?))
  (loop for value2 being the hash-elements of (aref l* key1) with-key key2
	when (not (gethash key2 l*-stateno))
	  do (setf (gethash key2 l*-stateno) t)
	     (setf again? t)))

(defun l*-write (l* nostates)
  (loop for stateno from 0 below nostates
	do (setf (aref l* stateno)
		 (collect-table-keys (aref l* stateno)))
	finally (return l*)))

(defun collect-table-keys (table)
  (loop for value being the hash-elements of table with-key key
	collect key))

******************************************************************************************************************

						
In Symbolics 3600 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Project Tanglewood 6.0,
Apiary: The Actor Computing System 14.2,
Acore: An Actor Core Language 8.5, The Common Library 5.0,
Traveler: The Apiary Observatory 12.0, microcode 3600-IFU-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Apiary-3:



1Error: Internal error - #<DTP-LOCATIVE 451205645> does not point to a valid entry in #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>
0While in the function (FLAVOR:METHOD CLI::INTERNAL-NEXT-ENTRY CLI::ARRAY-TABLE-MIXIN)  (FLAVOR:METHOD CLI::NEXT-ENTRY CLI::BASIC-TABLE)  (FLAVOR:METHOD :NEXT-ELEMENT CLI::BASIC-TABLE)

The condition signalled was ZL:FERROR

1(FLAVOR:METHOD CLI::INTERNAL-NEXT-ENTRY CLI::ARRAY-TABLE-MIXIN)0:  (P.C. = 75)
   Arg 0 (SELF): #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CLI::ARRAY-TABLE-MIXIN 250403074>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CLI::INTERNAL-NEXT-ENTRY 6700625>
   Arg 3 (ARRAY): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 51 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 1 :ENTRIES-PER-BUCKET 67 :GROWTH-FACTOR ...)
   Arg 4 (CLI::OLD-LOC): #<DTP-LOCATIVE 451205645>
   Local 5 (CLI::FILLED-ELEMENTS): 51
   Local 6 (CLI::STRUCTURE-NAME): CLI::TABLE-ARRAY-LEADER
   Local 7 (CLI::ENTRY-SIZE): 2
   Local 8 (CLI::NUMBER-OF-BUCKETS): 1
   Local 9 (CLI::ENTRIES-PER-BUCKET): 67
   Local 10 (CLI::GROWTH-FACTOR): 1.3
   Local 11 (CLI::GROWTH-THRESHOLD): 1
   Local 12 (CLI::GROWTH-SIZE): 67
   Local 13 (CLI::SET-P): NIL
   Local 14 (CLI::METER-ARRAY): NIL
   Local 15 (CLI::DELETED-ELEMENTS): NIL
   Local 16 (CLI::SPARE-1): NIL
   Local 17 (CLI::SPARE-2): NIL
   Local 18 (ARRAY): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 51 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 1 :ENTRIES-PER-BUCKET 67 :GROWTH-FACTOR ...)
   Local 19: 1342380721
   Local 20: #<DTP-LOCATIVE 110134030>
   Local 21: 134
   Local 22 (CLI::START-LOC): #<DTP-LOCATIVE 110134030>
   Local 23 (CLI::NEW-LOC): NIL
   Local 24 (CLI::INDEX): 59003789
   Local 25 (CLI::BUCKET-SIZE): 134
   Local 26 (CLI::BUCKET-INDEX): 440326
   Local 27 (CLI::ENTRY-INDEX): 105

1(FLAVOR:METHOD CLI::NEXT-ENTRY CLI::BASIC-TABLE)0:  (P.C. = 5)
   Arg 0 (SELF): #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>
   Arg 1 (SYS:SELF-MAPPING-TABLE): CLI::BASIC-TABLE
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CLI::NEXT-ENTRY 6700555>
   Arg 3 (CLI::OLD-LOC): #<DTP-LOCATIVE 451205645>

1(FLAVOR:METHOD :NEXT-ELEMENT CLI::BASIC-TABLE)0:  (P.C. = 4)
   Arg 0 (SELF): #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>
   Arg 1 (SYS:SELF-MAPPING-TABLE): CLI::BASIC-TABLE
   Arg 2 (FLAVOR::.GENERIC.): :NEXT-ELEMENT
   Arg 3 (CLI::OLD-LOC): #<DTP-LOCATIVE 451205645>

1L*-FILL-LOOP-10:  (P.C. = 23)  2(from OZ:OZ:<PFKRAUSE>EARLEY)
0   Arg 0 (L*): #<ART-Q-17793 450574717>
   Arg 1 (L*-STATENO): #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>

1L*-FILL-LOOP0:  (P.C. = 23)  2(from OZ:OZ:<PFKRAUSE>EARLEY)
0   Arg 0 (L*): #<ART-Q-17793 450574717>

1L*-FILL0:  (P.C. = 7)  2(from OZ:OZ:<PFKRAUSE>EARLEY)
0   Arg 0 (L*): #<ART-Q-17793 450574717>

1BUILD-L*0:  (P.C. = 25)  2(from OZ:OZ:<PFKRAUSE>EARLEY)
0   Arg 0 (RTN): ((S+FIN/NP-WH ((PUSH S+FIN/NP-WH #) (PUSH S+FIN/Q #) (PUSH S+FIN/SBAR #) (PUSH NP-WH #) (PUSH S+FIN/QBAR #) (PUSH S+FIN/PP+WH #) (PUSH S+FIN/Q #) (PUSH S+FIN/PP-WH #) (PUSH S+FIN/NP+WH #) (PUSH S+FIN/SBAR #) ...)) (SBAR ((PUSH SBAR/NP+WH #) (PUSH SBAR/ADVP-WH #) (PUSH SBAR/AP-WH #) (PUSH SBAR/QBAR #) (PUSH SBAR/AP+WH #) (PUSH SBAR/R+WH #) (PUSH SBAR #) (PUSH SBAR/S+FIN #) (PUSH SBAR/ADVP+WH #) (PUSH SBAR/PP-WH #) ...)) (R+WH/S-FIN ((PUSH R+WH/S-FIN #) (PUSH R+WH/SBAR #) (PUSH R+WH/NP+WH #) (PUSH R+WH/PP-WH #) (PUSH R+WH/NP-WH #) (PUSH R+WH/S+FIN #) (PUSH R+WH/Q #) (PUSH R+WH/PP+WH #) (PUSH R+WH/QBAR #) (PUSH PP+WH/S-FIN #))) (VBAR-FIN/ADVP-WH ((PUSH AUX-FIN #) (PUSH VBAR-FIN/ADVP-WH #) (PUSH AUX-FIN/ADVP-WH #))) (AP+WH/AP-WH ((PUSH AP+WH/AP-WH #) (PUSH AP+WH/AP-WH #) (CATEGORY SPEC+WH #))) (QBAR ((PUSH QBAR/NP+WH #) (PUSH NP+WH #) (PUSH QBAR/ADVP-WH #) (CATEGORY COMP+WH #) (PUSH ADVP+WH #) (PUSH NP+WH #) (PUSH PP+WH #) (PUSH AP+WH #) (PUSH QBAR/SBAR #) (PUSH QBAR/AP-WH #) ...)) (S-FIN/ADVP+WH ((PUSH NP-WH/ADVP+WH #) (PUSH S-FIN/QBAR #) (PUSH S-FIN/PP+WH #) (PUSH S-FIN/Q #) (PUSH S-FIN/AP+WH #) (PUSH S-FIN/NP-WH #) (PUSH S-FIN/PP-WH #) (PUSH S-FIN/NP+WH #) (PUSH S-FIN/R+WH #) (PUSH S-FIN/R-WH #) ...)) (VBAR-FIN/AP-WH ((PUSH VBAR-FIN/AP-WH #) (PUSH AUX-FIN #))) (NBAR-WH/S-FIN ((PUSH AP-WH #) (PUSH NBAR-WH/S-FIN #) (PUSH NBAR-WH/S-FIN #) (PUSH NBAR-WH #) (PUSH AP+WH #) (CATEGORY FACT #) (PUSH NBAR-WH/S-FIN #) (PUSH NBAR-WH #))) (R+WH/SBAR ((PUSH PP+WH/SBAR #) (PUSH R+WH/SBAR #) (PUSH R+WH/QBAR #) (PUSH R+WH/PP+WH #) (PUSH R+WH/Q #) (PUSH R+WH/S+FIN #) (PUSH R+WH/NP-WH #) (PUSH R+WH/PP-WH #) (PUSH R+WH/NP+WH #) (PUSH R+WH/S-FIN #))) ...)
   Arg 1 (STATE-NAME-ARRAY): #<ART-Q-17793 450637534>
   Arg 2 (STATE-NAME-TABLE): #<HASH-STORING-EQUAL-OPEN-SCATTER-PROCESS-LOCKING-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 450637521>
   Arg 3 (TRANSITIVE-CLOSURE?): T

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (BUILD-L* *RTN* (FIRST *STATE-NAME-ARRAY-AND-TABLE*) (SECOND *STATE-NAME-ARRAY-AND-TABLE*) T)

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)
22-Jul-87 09:01:37-EDT,4264;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 09:00-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49698; Wed 22-Jul-87 09:00:57 EDT
Date: Wed, 22 Jul 87 09:01 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Release 7.1 is now the default world for Symbolics LispMs at the AI lab
To: Info-LISPM-MIT@OZ.AI.MIT.EDU, All-AI@OZ.AI.MIT.EDU
Message-ID: <870722090101.4.CJL@OTIS.AI.MIT.EDU>

This message is meant for everyone in the AI lab who uses Lisp Machines.
Since most Lisp Machine users have not bothered to put themselves on
INFO-LISPM-MIT@OZ, I am sending this message to ALL-AI@OZ as well. If you want
to receive messages similar to this announging major software changes on Lisp
Machines, you should put yourself on INFO-LISPM-MIT@OZ.

Thinking Machines has finally delivered version 4.0 of the Connection Machine
software that runs in Genera 7.1, so finally there are more reasons to run
version 7 of the Symbolics software on your lisp machine than version 6.

I have now made the default distribution be version 7. This means for those
lisp machines that no preference has ever been expressed for a particular
version of software, the version of software that is run by default will
change from release 6 to release 7. Over the next day or so, Lisp Machines
will automatically transfer over the Release 7 world loads in a background
process while they are idle, and will update the boot files to boot Release 7.

This does not mean that you can't run Release 6 anymore. All this means is
that instead of the burden being on the people running Release 7 to type the
":Install Distribution World" command to put the software on their machine and
to set their preference, the burden has been transferred to those people who
run Release 6. You still can run Release 6 for as long as you want. To make a
particular machine have Release 6 on it that doesn't have it already, just
type the command ":Install Distribution World Rel-6" on it.

Over the next day or so, Lisp Machines with no preference will automatically
transfer over the Release 7 world loads in a background process while they are
idle, and will update the boot files to boot Release 7. Those machines for
which a preference has been declared will continue to run the particular
version of software that was preferred. 

Preferences for a particular version of software can be made by one of two
ways. One way is by answering "Yes" to the "Do you want the namespace updated"
question that is asked at the completion of the "Install Distribution World"
world command. Answering "Yes" will cause the configuration that you chose to
install to become the preferred configuration for that machine. Another way to 
set the preference is to use the namespace editor to edit the namespace object
for you lisp machine, and to add or change the user-property
DISTRIBUTION-CONFIGURATION. You can set this to be any choice that the
"Install Distribution World" command will take.

Even though you can still continue to use Release 6 for as long as you want,
there are lots of good reasons to run release 7. Here are a few:

o In spite of rumors you have heard to the contrary, a lot of code actually
  runs faster in Release 7.1 than in Release 6.1. ZMACS, for example, is
  faster.

o There is support for the NFS file protocol for transferring files to and
  from Suns more easily in Release 7, but not in Release 6.

o Illustrate works in Release 7 as well as Release 6.

o TeX and printer support is better in Release 7 than in Release 6.
  For example, BibTeX runs in Release 7, but not in Release 6.

o The more up-to-date Connection Machine Software runs in Release 7.

o Release 7 has better Common Lisp support in it than in Release 6. Your
  Zetalisp code will still work, too. You don't have to convert all your 
  programs to common lisp just to run them in Release 7.

o Release 7 has fewer bugs in it than Release 6, and they might get fixed,
  whereas there's very little chance that any bugs in Release 6 will get
  fixed, as most software developers have moved to Release 7 long ago and
  don't care if something doesn't work in Release 6.
22-Jul-87 10:12:04-EDT,1442;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 10:11-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 64528; 22 Jul 87 10:11:20 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 22 Jul 87 09:28-EDT
Date: Wed, 22 Jul 87 09:40 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: why killing a mail file so slow?
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870722094051.6.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

Killing a mail file in Zmacs seems kind of slow.  What seems
particularly peculiar is that if I read in a large mail file, and then
try to kill it before the background message parsing has finished, the
killing process apparently continues to parse the messages, including
all those pregnant pauses while needlessly parsing domain hosts.
22-Jul-87 12:20:11-EDT,2525;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 12:20-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 64555; 22 Jul 87 12:19:47 EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM by XX.LCS.MIT.EDU with TCP/SMTP; Wed 22 Jul 87 12:06:41-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 195693; Mon 20-Jul-87 16:29:59 EDT
Received: from EVENING-GROSBEAK.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 147188; Mon 20-Jul-87 16:29:44 EDT
Date: Mon, 20 Jul 87 16:29 EDT
From: Scott McKay <SWM@SAPSUCKER.SCRC.Symbolics.COM>
Subject: DWIS m-.
To: trev@VERMITHRAX.SCH.Symbolics.COM, RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM, bug-zwei@VERMITHRAX.SCH.Symbolics.COM,
    bug-lispm%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870708133958.3.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870720162953.2.SWM@EVENING-GROSBEAK.SCRC.Symbolics.COM>

    Date: Wed, 8 Jul 87 13:39 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>

	Date: Wed, 8 Jul 87 13:43 EDT
	From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

	In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
	7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
	FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	Machine serial number 5085,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

	I did a m-. on METER:REPORT, and then sat around wondering while it
	stood on its ear doing some moby grinding.  Finally it read the file and
	showed me the code, and informed me there were 416 more definitions I
	could choose from.  Naturally, it had decided I should also be
	interested in the DBG:REPORT generic function and its 400+ methods.  If
	had cared about DBG:REPORT, I would have said so.

    Gee, I only get 380 definitions.  I see what you mean, though.
    Sometimes a package search can be helpful, but there should be
    some explicit way to override this useful feature.  I'll ask
    if anything exists; if not I will write up a feature request.


Fixed in the devo system

22-Jul-87 13:21:12-EDT,2712;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 13:21-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 64565; 22 Jul 87 13:20:50 EDT
Received: from YUKON.SCRC.Symbolics.COM (YUKON.SCRC.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 195819; 20 Jul 87 18:54:29 EDT
Received: from ANNISQUAM.SCRC.Symbolics.COM by YUKON.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 238970; Mon 20-Jul-87 18:55:08 EDT
Date: Mon, 20 Jul 87 18:53 EDT
From: Doug Dodds <DODDS@YUKON.SCRC.Symbolics.COM>
Subject: DWIS m-.
To: trev@VERMITHRAX.SCH.Symbolics.COM
cc: RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM, Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    bug-zwei@VERMITHRAX.SCH.Symbolics.COM, bug-lispm%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Bug-Tracking-Replies@YUKON.SCRC.Symbolics.COM
In-Reply-To: <870708133958.3.TREV@CALYPSO.SCH.Symbolics.COM>
Disposition: COMPLETED
Category: zwei (jl)
Message-ID: <870720185339.6.DODDS@ANNISQUAM.SCRC.Symbolics.COM>

Synopsis:  This is fixed in the development system, hence in the next
release.  SWM just verified this today.

  -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --

    Date: Wed, 8 Jul 87 13:39 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>

	Date: Wed, 8 Jul 87 13:43 EDT
	From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

	In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
	7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
	FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	Machine serial number 5085,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

	I did a m-. on METER:REPORT, and then sat around wondering while it
	stood on its ear doing some moby grinding.  Finally it read the file and
	showed me the code, and informed me there were 416 more definitions I
	could choose from.  Naturally, it had decided I should also be
	interested in the DBG:REPORT generic function and its 400+ methods.  If
	had cared about DBG:REPORT, I would have said so.

    Gee, I only get 380 definitions.  I see what you mean, though.
    Sometimes a package search can be helpful, but there should be
    some explicit way to override this useful feature.  I'll ask
    if anything exists; if not I will write up a feature request.



22-Jul-87 14:23:39-EDT,11193;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 14:23-EDT
Received: from CROSBY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49770; Wed 22-Jul-87 14:23:37 EDT
Date: Wed, 22 Jul 87 14:23 EDT
From: Howard B. Reubenstein <HBR@OZ.AI.MIT.EDU>
Subject: SCT directory and file naming
To: BUG-LISPM@OZ.AI.MIT.EDU, HBR@OZ.AI.MIT.EDU
Message-ID: <870722142331.1.HBR@CROSBY.AI.MIT.EDU>
Default-Character-Style: (:FIX :ROMAN :LARGE)
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "MEDFNB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "HL12I")
Fonts: MEDFNT, MEDFNB, HL12I

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Color Demo 314.1, Color 329.6,
Color Support 9.4, Images 308.4, Color Editor 311.3,
Experimental X-Window-System 17.4, S-Paint 13.5, Tablet 2.3, Bsfonts 1.0,
S-Render 20.5, S-Geometry 9.5, Live Window 315.3, S-Dynamics 9.9,
Experimental Hbr 14, Experimental Pp 4, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Machine serial number 5230,
Bug Report Recipient (from GRAPHICS:GLIB;REL-7;BUG-REPORT-RECIPIENT.LISP.1), on Lisp Machine Bing Crosby:

I am trying to make a version of system HBR (patchable nil) on PIG.
The system tools do not seem to understand the file and directory
naming restrictions on pig when they write and read the associated 
journal files.

I also receive an error message that the system directory has changed
name from ...system-directory to ...spd but this can be proceeded from
with Resume (no action). 

In this case the only viable proceed option would be to provide a different
name, but I do not know how this new name could be found when I tried to 
load in the system at a later date

---------------------

1Error: "HBR-14" is an invalid name component for PYGMALION (a VMS host).
0While in the function (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)  (FLAVOR:METHOD :VALIDATE PATHNAME)  (FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)

The condition signalled was FS:INVALID-PATHNAME-COMPONENT

1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 41)  2(from SYS:PATCH;SYSTEM-349-212)
0   Arg 0 (SELF): #P"PIG:SYS$DISK:[HBR]FOO.CPD;0"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220020142>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
   Arg 3 (FS:TEST-ARG): "HBR-14"
   Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 320045126>
   Arg 5 (FS:VALID-MSG): :RAW-NAME
   Arg 6 (FS:TEST-MSG): :VALID-NAME-P
   Arg 7 (FS:CASE-MSG): :CASE-NAME
   Arg 8 (FS:UNCASE-MSG): :UNCASE-NAME
   Arg 9 (FS:COMPONENT): :NAME
   Arg 10 (FS:PRETTY-NAME): "name component"

1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 45)
   Arg 0 (SELF): #P"PIG:SYS$DISK:[HBR]FOO.CPD;0"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220020142>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

1(FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)0:  (P.C. = 62)  2(from SYS:PATCH;SYSTEM-349-24)
0   Arg 0 (SELF): #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE PYGMALION>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN 250374440>
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (FS:DEV): "SYS$DISK"
   Arg 4 (FS:DIR): ("HBR")
   Arg 5 (FS:NAM): "HBR-14"
   Arg 6 (FS:TYP): "CPD"
   Arg 7 (FS:VRS): :NEWEST
   Arg 8 (FS:OTHERS): NIL
   Arg 9 (FS:KEY): ("SYS$DISK" ("HBR") "HBR-14" "CPD" :NEWEST)

1(FLAVOR:METHOD :GET-PATHNAME NET:PATHNAME-HOST-MIXIN)0:  (P.C. = 27)
   Arg 0 (SELF): #<VMS-HOST PYGMALION 1104121>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor NET:PATHNAME-HOST-MIXIN 250255514>
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (NETI:DEV): "SYS$DISK"
   Arg 4 (NETI:DIR): ("HBR")
   Arg 5 (NETI:NAM): "HBR-14"
   Arg 6 (NETI:TYP): "CPD"
   Arg 7 (NETI:VRS): :NEWEST
   Arg 8 (NETI:OTHERS): NIL

1FS:MAKE-PATHNAME-10:  (P.C. = 604)  2(from SYS:PATCH;SYSTEM-349-109)
0   Arg 0 (FS:ACTOR): #P"PIG:SYS$DISK:[HBR]*.*;*"
   Rest arg (FS:OPTIONS): (:DEFAULT-HOST #<VMS-HOST PYGMALION 1104121> :DEFAULT-DEVICE "SYS$DISK" :DEFAULT-DIRECTORY ("HBR") :DEFAULT-NAME :WILD :DEFAULT-TYPE :WILD ...)

1(FLAVOR:METHOD :NEW-PATHNAME PATHNAME)0:  (P.C. = 22)
   Arg 0 (SELF): #P"PIG:SYS$DISK:[HBR]*.*;*"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220020142>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
   Rest arg (FS:OPTIONS): (:DEVICE "SYS$DISK" :DIRECTORY ("HBR") :NAME "HBR-14" :TYPE "CPD" :VERSION :NEWEST)

1(FLAVOR:COMBINED :NEW-PATHNAME PATHNAME)0:  (P.C. = 67)
   Arg 0 (SELF): #P"PIG:SYS$DISK:[HBR]*.*;*"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220020142>
   Arg 2 (FLAVOR::.GENERIC.): :NEW-PATHNAME
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (:DEVICE "SYS$DISK" :DIRECTORY ("HBR") :NAME "HBR-14" :TYPE "CPD" :VERSION :NEWEST)

1(FLAVOR:METHOD :TRANSLATE-WILD-PATHNAME PATHNAME)0:  (P.C. = 76)
   Arg 0 (SELF): #P"RAAP:HBR;*.*.*"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220111517>
   Arg 2 (FLAVOR::.GENERIC.): :TRANSLATE-WILD-PATHNAME
   Arg 3 (FS:WILD-PATHNAME): #P"PIG:SYS$DISK:[HBR]*.*;*"
   Arg 4 (FS:SOURCE-PATHNAME): #P"RAAP:HBR;HBR-14.COMPONENT-DIR.NEWEST"

1(FLAVOR:METHOD :TRANSLATE-WILD-PATHNAME-REVERSIBLE PATHNAME)0:  (P.C. = 11)
   Arg 0 (SELF): #P"RAAP:HBR;*.*.*"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220111517>
   Arg 2 (FLAVOR::.GENERIC.): :TRANSLATE-WILD-PATHNAME-REVERSIBLE
   Arg 3 (FS:WILD-PATHNAME): #P"PIG:SYS$DISK:[HBR]*.*;*"
   Arg 4 (FS:SOURCE-PATHNAME): #P"RAAP:HBR;HBR-14.COMPONENT-DIR.NEWEST"

1(:PROPERTY :TRANSLATE-WILD FS:TRANSLATION-FUNCTION)0:  (P.C. = 6)
   Arg 0 (IGNORE): NIL
   Arg 1 (PATHNAME): #P"RAAP:HBR;HBR-14.COMPONENT-DIR.NEWEST"
   Arg 2 (FS:FROM): #P"RAAP:HBR;*.*.*"
   Arg 3 (FS:TO): #P"PIG:SYS$DISK:[HBR]*.*;*"

1(FLAVOR:METHOD :INVOKE-TRANSLATION FS:LOGICAL-HOST)0:  (P.C. = 36)
   Arg 0 (SELF): #<LOGICAL-HOST RAAP>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:LOGICAL-HOST 250414052>
   Arg 2 (FLAVOR::.GENERIC.): :INVOKE-TRANSLATION
   Arg 3 (PATHNAME): #P"RAAP:HBR;HBR-14.COMPONENT-DIR.NEWEST"
   Arg 4 (FS:FROM-PATHNAME): #P"RAAP:HBR;*.*.*"
   Arg 5 (FS:TO-PATHNAME): #P"PIG:SYS$DISK:[HBR]*.*;*"
   Arg 6 (FS:TRANSLATION): (NIL NIL NIL :TRANSLATE-WILD NIL)

1(FLAVOR:METHOD :TRANSLATE FS:LOGICAL-HOST)0:  (P.C. = 504)
   Arg 0 (SELF): #<LOGICAL-HOST RAAP>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:LOGICAL-HOST 250414052>
   Arg 2 (FLAVOR::.GENERIC.): :TRANSLATE
   Arg 3 (PATHNAME): #P"RAAP:HBR;HBR-14.COMPONENT-DIR.NEWEST"

1(FLAVOR:METHOD :TRANSLATED-PATHNAME FS:LOGICAL-PATHNAME)0:  (P.C. = 67)
   Arg 0 (SELF): #P"RAAP:HBR;HBR-14.COMPONENT-DIR.NEWEST"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:LOGICAL-PATHNAME 220111466>
   Arg 2 (FLAVOR::.GENERIC.): :TRANSLATED-PATHNAME

1FS:LOGICAL-PATHNAME-PASS-ON0:  (P.C. = 5)
   Arg 0 (SELF): #P"RAAP:HBR;HBR-14.COMPONENT-DIR.NEWEST"
   Arg 1 (IGNORE): #<Map to flavor FS:LOGICAL-PATHNAME 220111466>
   Arg 2 (FS:MESSAGE): #<GENERIC-FUNCTION FS:PATHNAME-FILE-ACCESS-PATH 6716115>
   Rest arg (FS:REST): (:OPEN)

1OPEN0:  (P.C. = 520)
   Arg 0 (PATHNAME): #P"RAAP:HBR;HBR-14.COMPONENT-DIR.NEWEST"
   Rest arg (FS:ALL-ARGUMENTS): (:DIRECTION :PROBE-DIRECTORY :IF-DOES-NOT-EXIST :ERROR)

1SCT:WRITE-COMPONENT-DIRECTORY0:  (P.C. = 64)
   Arg 0 (SCT:SYSTEM): #<SYSTEM HBR 310141652>
   Arg 1 (SCT:MAJOR-VERSION): 14
   Arg 2 (SCT:OLD-FILE): NIL
   Arg 3 (SCT:ATTRIBUTES): ("HBR" 14)
   Arg 4 (SCT:COMPONENT): ((:|3600| (:DEFSYSTEM (#P"PIG:USRD$:[HBR]HBR.SYS" 4 NIL)) (:INPUTS-AND-OUTPUTS (:PP # NIL) (#P"CAKE*:ENV;ZWEINI" 12 5) (#P"B:>Facilities>R7>Styled-Lisp" 2 1) (#P"CAKE*:ENV;DRIBLOAD" 2 1))))

1SCT:ADD-LOADED-SYSTEM-TO-DIRECTORY-10:  (P.C. = 45)
   Arg 0 (SCT:SYSTEM): #<SYSTEM HBR 310141652>
   Arg 1 (SCT:VERSION-NUMBER): 14
   Arg 2 (SCT:COMPONENT-VERSIONS): ((12 (:|3600| (:COMPONENT-DIRECTORY #))) (11 (:|3600| (:COMPONENT-DIRECTORY #))) (10 (:|3600| (:COMPONENT-DIRECTORY #))) (9 (:|3600| (:COMPONENT-DIRECTORY #))) (8 (:|3600| (:COMPONENT-DIRECTORY #))) (7 (:|3600| (:COMPONENT-DIRECTORY #))) (6 (:|3600| (:COMPONENT-DIRECTORY #))) (5 (:|3600| (:COMPONENT-DIRECTORY #))) (4 (:|3600| (:COMPONENT-DIRECTORY #))) (3 (:|3600| (:COMPONENT-DIRECTORY #))) ...)
   Rest arg (SCT:KEYS): (:NO-LOAD NIL :NEVER-LOAD NIL :NO-COMPILE NIL)

1SCT:ADD-LOADED-SYSTEM-TO-DIRECTORY0:  (P.C. = 134)
   Arg 0 (SCT:SYSTEM-NAME): #<SYSTEM HBR 310141652>
   Arg 1 (SCT:VERSION-DESIGNATOR): :LATEST
   Local 1 (SCT:VERSION-DESIGNATOR): 14
   Arg 2 (SCT:REAL-VERSION): NIL
   Rest arg: (:NO-LOAD NIL :NEVER-LOAD NIL :NO-COMPILE NIL)

1COMPILE-SYSTEM0:  (P.C. = 712)  2(from SYS:PATCH;SYSTEM-349-277)
0   Arg 0 (SCT:SYSTEM-NAME): #<SYSTEM HBR 310142471>
   Rest arg (SCT:KEYS): (:RECOMPILE NIL :RELOAD NIL :NO-LOAD NIL :NEVER-LOAD NIL :QUERY T ...)

1SI:COM-COMPILE-SYSTEM0:  (P.C. = 637)  2(from SYS:PATCH;SYSTEM-349-260)
0   Arg 0 (SI:SYSTEM-SPEC): #<SYSTEM HBR 310142471>
   Rest arg: (:QUERY :EVERYTHING)

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (SI:COM-COMPILE-SYSTEM (QUOTE #<SYSTEM HBR 310142471>) (QUOTE :QUERY) (QUOTE :EVERYTHING))

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)

22-Jul-87 14:54:12-EDT,12024;000000000000
Return-Path: <@AI.AI.MIT.EDU:DLA@DIAMOND.S4CC.Symbolics.COM>
Received: from AI.AI.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Wed 22 Jul 87 14:54:03-EDT
Received: from DIAMOND.S4CC.Symbolics.COM (TCP 20024231403) by AI.AI.MIT.EDU 22 Jul 87 14:44:05 EDT
Received: from LIMPKIN.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 107003; Wed 22-Jul-87 14:40:36 EDT
Date: Wed, 22 Jul 87 14:40 EDT
From: David L. Andre <DLA@DIAMOND.S4CC.Symbolics.COM>
Subject: looping through hash tables
To: pfkrause%OZ.AI.MIT.EDU@MIT-AI.ARPA
cc: Bug-LispM%OZ.AI.MIT.EDU@MIT-AI.ARPA
In-Reply-To: <870722051026.3.PFKRAUSE@APIARY-3.AI.MIT.EDU>
Message-ID: <870722144041.2.DLA@LIMPKIN.S4CC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Wed, 22 Jul 87 05:10 EDT
    From: Paul Krause <pfkrause@OZ.AI.MIT.EDU>


    I'm not sure whether this is a bug on Symbolics part or not (partly
    because I can't figure out what constitutes a "valid entry"), but the
    code in question -does- run on the Explorer without causing any
    errors. Here is the relevant code fragment (from oz:ps:<pfkrause>earley.lisp):

This is a known bug in 7.1, and is fixed in the development system
(7.2).  A workaround is to use MAPHASH rather than the HASH-ELEMENTS
iteration path of LOOP.

    ******************************************************************************************************************
    ; This routine assumes that there is at least one state in the RTN.
    (defun l*-build-arcs (l* stateno arcs state-name-table)
      (setf (aref l* stateno) (make-hash-table :test #'eq))
      (loop for arc in arcs
	    when (eq (first arc) 'push)
	      do (setf (gethash (stateno-of (second arc) state-name-table)
				(aref l* stateno)) t)))

    (defun l*-build-states (l* rtn state-name-table)
      (loop for state in rtn
	    for state-name = (first state)
	    for stateno = (stateno-of state-name state-name-table)
	    for arcs = (second state)
	    do (l*-build-arcs l* stateno arcs state-name-table)))

    (defun build-l* (rtn state-name-array state-name-table
		     &optional (transitive-closure? t))
      (format t "~&Building L*.")
      (let* ((nostates (first (array-dimensions state-name-array)))
	     (l* (make-array (list nostates) :initial-element '())))
	(l*-build-states l* rtn state-name-table)
	(when transitive-closure? (l*-fill l*))
	(l*-write l* nostates)))

    (defun l*-fill (l* &aux (again? t))
      (declare (special again?))
      (loop ;;for count from 0
	    while again?
	    do (l*-fill-loop l*)))

    (defun l*-fill-loop (l*)
      (declare (special again?))
      (setf again? nil)
      (loop for l*-stateno being the array-elements of l*
	    do (l*-fill-loop-1 l* l*-stateno)))
	
    (defun l*-fill-loop-1 (l* l*-stateno)		;*** the "bug" occurs when looping through L*-STATENO
      (declare (special again?))			;*** (but not always the on first call by L*-FILL-LOOP)
      (loop for value1 being the hash-elements of l*-stateno with-key key1
	    do (l*-fill-loop-2 l* l*-stateno key1)))

    (defun l*-fill-loop-2 (l* l*-stateno key1)
      (declare (special again?))
      (loop for value2 being the hash-elements of (aref l* key1) with-key key2
	    when (not (gethash key2 l*-stateno))
	      do (setf (gethash key2 l*-stateno) t)
		 (setf again? t)))

    (defun l*-write (l* nostates)
      (loop for stateno from 0 below nostates
	    do (setf (aref l* stateno)
		     (collect-table-keys (aref l* stateno)))
	    finally (return l*)))

    (defun collect-table-keys (table)
      (loop for value being the hash-elements of table with-key key
	    collect key))

    ******************************************************************************************************************

						
    In Symbolics 3600 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Project Tanglewood 6.0,
    Apiary: The Actor Computing System 14.2,
    Acore: An Actor Core Language 8.5, The Common Library 5.0,
    Traveler: The Apiary Observatory 12.0, microcode 3600-IFU-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Apiary-3:



1    Error: Internal error - #<DTP-LOCATIVE 451205645> does not point to a valid entry in #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>
0    While in the function (FLAVOR:METHOD CLI::INTERNAL-NEXT-ENTRY CLI::ARRAY-TABLE-MIXIN)  (FLAVOR:METHOD CLI::NEXT-ENTRY CLI::BASIC-TABLE)  (FLAVOR:METHOD :NEXT-ELEMENT CLI::BASIC-TABLE)

    The condition signalled was ZL:FERROR

    1(FLAVOR:METHOD CLI::INTERNAL-NEXT-ENTRY CLI::ARRAY-TABLE-MIXIN)0:  (P.C. = 75)
       Arg 0 (SELF): #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CLI::ARRAY-TABLE-MIXIN 250403074>
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CLI::INTERNAL-NEXT-ENTRY 6700625>
       Arg 3 (ARRAY): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 51 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 1 :ENTRIES-PER-BUCKET 67 :GROWTH-FACTOR ...)
       Arg 4 (CLI::OLD-LOC): #<DTP-LOCATIVE 451205645>
       Local 5 (CLI::FILLED-ELEMENTS): 51
       Local 6 (CLI::STRUCTURE-NAME): CLI::TABLE-ARRAY-LEADER
       Local 7 (CLI::ENTRY-SIZE): 2
       Local 8 (CLI::NUMBER-OF-BUCKETS): 1
       Local 9 (CLI::ENTRIES-PER-BUCKET): 67
       Local 10 (CLI::GROWTH-FACTOR): 1.3
       Local 11 (CLI::GROWTH-THRESHOLD): 1
       Local 12 (CLI::GROWTH-SIZE): 67
       Local 13 (CLI::SET-P): NIL
       Local 14 (CLI::METER-ARRAY): NIL
       Local 15 (CLI::DELETED-ELEMENTS): NIL
       Local 16 (CLI::SPARE-1): NIL
       Local 17 (CLI::SPARE-2): NIL
       Local 18 (ARRAY): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 51 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 1 :ENTRIES-PER-BUCKET 67 :GROWTH-FACTOR ...)
       Local 19: 1342380721
       Local 20: #<DTP-LOCATIVE 110134030>
       Local 21: 134
       Local 22 (CLI::START-LOC): #<DTP-LOCATIVE 110134030>
       Local 23 (CLI::NEW-LOC): NIL
       Local 24 (CLI::INDEX): 59003789
       Local 25 (CLI::BUCKET-SIZE): 134
       Local 26 (CLI::BUCKET-INDEX): 440326
       Local 27 (CLI::ENTRY-INDEX): 105

    1(FLAVOR:METHOD CLI::NEXT-ENTRY CLI::BASIC-TABLE)0:  (P.C. = 5)
       Arg 0 (SELF): #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>
       Arg 1 (SYS:SELF-MAPPING-TABLE): CLI::BASIC-TABLE
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CLI::NEXT-ENTRY 6700555>
       Arg 3 (CLI::OLD-LOC): #<DTP-LOCATIVE 451205645>

    1(FLAVOR:METHOD :NEXT-ELEMENT CLI::BASIC-TABLE)0:  (P.C. = 4)
       Arg 0 (SELF): #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>
       Arg 1 (SYS:SELF-MAPPING-TABLE): CLI::BASIC-TABLE
       Arg 2 (FLAVOR::.GENERIC.): :NEXT-ELEMENT
       Arg 3 (CLI::OLD-LOC): #<DTP-LOCATIVE 451205645>

    1L*-FILL-LOOP-10:  (P.C. = 23)  2(from OZ:OZ:<PFKRAUSE>EARLEY)
0       Arg 0 (L*): #<ART-Q-17793 450574717>
       Arg 1 (L*-STATENO): #<EQ-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE 451205570>

    1L*-FILL-LOOP0:  (P.C. = 23)  2(from OZ:OZ:<PFKRAUSE>EARLEY)
0       Arg 0 (L*): #<ART-Q-17793 450574717>

    1L*-FILL0:  (P.C. = 7)  2(from OZ:OZ:<PFKRAUSE>EARLEY)
0       Arg 0 (L*): #<ART-Q-17793 450574717>

    1BUILD-L*0:  (P.C. = 25)  2(from OZ:OZ:<PFKRAUSE>EARLEY)
0       Arg 0 (RTN): ((S+FIN/NP-WH ((PUSH S+FIN/NP-WH #) (PUSH S+FIN/Q #) (PUSH S+FIN/SBAR #) (PUSH NP-WH #) (PUSH S+FIN/QBAR #) (PUSH S+FIN/PP+WH #) (PUSH S+FIN/Q #) (PUSH S+FIN/PP-WH #) (PUSH S+FIN/NP+WH #) (PUSH S+FIN/SBAR #) ...)) (SBAR ((PUSH SBAR/NP+WH #) (PUSH SBAR/ADVP-WH #) (PUSH SBAR/AP-WH #) (PUSH SBAR/QBAR #) (PUSH SBAR/AP+WH #) (PUSH SBAR/R+WH #) (PUSH SBAR #) (PUSH SBAR/S+FIN #) (PUSH SBAR/ADVP+WH #) (PUSH SBAR/PP-WH #) ...)) (R+WH/S-FIN ((PUSH R+WH/S-FIN #) (PUSH R+WH/SBAR #) (PUSH R+WH/NP+WH #) (PUSH R+WH/PP-WH #) (PUSH R+WH/NP-WH #) (PUSH R+WH/S+FIN #) (PUSH R+WH/Q #) (PUSH R+WH/PP+WH #) (PUSH R+WH/QBAR #) (PUSH PP+WH/S-FIN #))) (VBAR-FIN/ADVP-WH ((PUSH AUX-FIN #) (PUSH VBAR-FIN/ADVP-WH #) (PUSH AUX-FIN/ADVP-WH #))) (AP+WH/AP-WH ((PUSH AP+WH/AP-WH #) (PUSH AP+WH/AP-WH #) (CATEGORY SPEC+WH #))) (QBAR ((PUSH QBAR/NP+WH #) (PUSH NP+WH #) (PUSH QBAR/ADVP-WH #) (CATEGORY COMP+WH #) (PUSH ADVP+WH #) (PUSH NP+WH #) (PUSH PP+WH #) (PUSH AP+WH #) (PUSH QBAR/SBAR #) (PUSH QBAR/AP-WH #) ...)) (S-FIN/ADVP+WH ((PUSH NP-WH/ADVP+WH #) (PUSH S-FIN/QBAR #) (PUSH S-FIN/PP+WH #) (PUSH S-FIN/Q #) (PUSH S-FIN/AP+WH #) (PUSH S-FIN/NP-WH #) (PUSH S-FIN/PP-WH #) (PUSH S-FIN/NP+WH #) (PUSH S-FIN/R+WH #) (PUSH S-FIN/R-WH #) ...)) (VBAR-FIN/AP-WH ((PUSH VBAR-FIN/AP-WH #) (PUSH AUX-FIN #))) (NBAR-WH/S-FIN ((PUSH AP-WH #) (PUSH NBAR-WH/S-FIN #) (PUSH NBAR-WH/S-FIN #) (PUSH NBAR-WH #) (PUSH AP+WH #) (CATEGORY FACT #) (PUSH NBAR-WH/S-FIN #) (PUSH NBAR-WH #))) (R+WH/SBAR ((PUSH PP+WH/SBAR #) (PUSH R+WH/SBAR #) (PUSH R+WH/QBAR #) (PUSH R+WH/PP+WH #) (PUSH R+WH/Q #) (PUSH R+WH/S+FIN #) (PUSH R+WH/NP-WH #) (PUSH R+WH/PP-WH #) (PUSH R+WH/NP+WH #) (PUSH R+WH/S-FIN #))) ...)
       Arg 1 (STATE-NAME-ARRAY): #<ART-Q-17793 450637534>
       Arg 2 (STATE-NAME-TABLE): #<HASH-STORING-EQUAL-OPEN-SCATTER-PROCESS-LOCKING-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 450637521>
       Arg 3 (TRANSITIVE-CLOSURE?): T

    1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
       Arg 0 (CP::FORM): (BUILD-L* *RTN* (FIRST *STATE-NAME-ARRAY-AND-TABLE*) (SECOND *STATE-NAME-ARRAY-AND-TABLE*) T)

    1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
       Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
       Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
       Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
       Rest arg: NIL

    1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
       Arg 0 (TV:NEW-MODE): :BLAST
       Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
       Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

    1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
       Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
       Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
       Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
       Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
       Rest arg: NIL

    1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
       Arg 0 (SI:NAME): "Lisp Top Level"
       Arg 1 (SI:ABORT-FUNCTION): NIL
       Arg 2 (SI:READ-FUNCTION): NIL
       Arg 3 (SI:EVAL-FUNCTION): NIL
       Arg 4 (SI:PRINT-FUNCTION): NIL
       Arg 5 (SI:INITIAL-FORM): NIL
       Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

    1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
       Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
       Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

    1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
       Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

    1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)



22-Jul-87 17:08:26-EDT,3348;000000000000
Return-Path: <@AI.AI.MIT.EDU:Sr.Kaufman@SPEECH.MIT.EDU>
Received: from AI.AI.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Wed 22 Jul 87 17:08:09-EDT
Received: from GOLDILOCKS.MIT.EDU by AI.AI.MIT.EDU via Chaosnet; 22 JUL 87  16:58:44 EDT
Received: from WINNIE-THE-POOH.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 6611; Wed 22-Jul-87 16:56:35 EDT
Date: Wed, 22 Jul 87 16:56 EDT
From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>
Subject: Rescheduling Shutdowns
To: Steve Trever <trev@YUKON.SCRC.SYMBOLICS.COM>
cc: Zoo-Keepers@GOLDILOCKS.MIT.EDU, Bug-LispM@oz.ai,
    customer-reports@YUKON.SCRC.SYMBOLICS.COM
In-Reply-To: <870722130123.9.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870722165620.5.QUX@WINNIE-THE-POOH.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB
Zippy-Says: My pants just went to high school in the Carlsbad Caverns!!!

    Date: Wed, 22 Jul 87 13:01 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>

	Date: Thu, 16 Jul 87 10:08 EDT
	From: Zoo Keeper <Zoo-Keepers@SPEECH.MIT.EDU>

        [...]

	I tried to reschedule a file server shutdown.

	1Error: Trying to write to #<CHAOS-TOKEN-LIST-STREAM 424535007> which is unsafe.
0	While in the function (FLAVOR:METHOD :SEND-TOKEN-LIST NETI:TOKEN-LIST-STREAM)  (FLAVOR:METHOD :FILE-SERVER-NOTIFICATION FS:NFILE-SERVER-INSTANCE)  (FLAVOR:METHOD :SEND-IF-HANDLES FLAVOR:VANILLA)

	The condition signalled was NETI:TOKEN-IO-UNSAFE

    [...]

    Looks like you were bitten by the same bug that you
    were shutting down to avoid (the notification said,
    "Rebooting to Clear up Namespace Problems"?).  Do
    you remember the circumstances that led up to this?
    It looks like an isolated case of trying to send a
    notification to a machine that had stopped responding.
    Was this an isolated incident?  Server-shutdown re-
    scheduling has always worked here, but always under
    tolerant circumstances.  If you think it's an actual
    bug, please send as many details as you think might
    be relevant to the error.  Thanks,

How could an unsafe token-list stream be caused by namespace problems?
Anyway, the "namespace problem" was a suspicion that Goldy was passing
around obsolete namespace information due to bad habits like warm
booting, so I don't think it's related.

There was an inactive file connection hanging around, and it was this
connection that was causing an error each time a notification was sent
(until I finally reset the connection). However, I didn't get an error
when I originally scheduled the shutdown, and the old file connection
must have been there then.

This has never happened here before, but we don't often have old file
connections around either.

It's a bug because it was disrupting the shutdown process.  One bad
connection shouldn't be allowed to disrupt the sending of messages to
all the other connections (and perhaps even the actual shutdown itself,
if the same process is responsible for it).

On a related question: why aren't printer-queue connections affected by
a file-server shutdown?  We always shut down the fs prior to some
drastic action, and it would be nice if pq connections were notified and
terminated by the same mechanism that gets the file connections.

22-Jul-87 18:08:14-EDT,28908;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 18:08-EDT
Received: from MARLEY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49833; Wed 22-Jul-87 18:08:02 EDT
Date: Wed, 22 Jul 87 18:07 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Rel 7 is smarter than I am
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870722180750.1.ALAN@MARLEY.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5229,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Bob Marley:

First I did:

(defflavor frobboz
	()
	()
  )

(define-presentation-type frobboz (())
   :no-deftype t
   :description "a frobboz"
   :parser ((stream)
	    (break 'foo))
   )

(cp:define-command (com-frazzle :command-table 'user)
    ((frobboz frobboz))
   (print frobboz)
   frobboz)

Then I did:

  :Frazzle

With the results below.  I simply do not understand what this error message
means.  I have defined a parser for frobbozes as far as I can tell (if I
call (ACCEPT 'FROBBOZ) my breakpoint FOO does get triggered), so what
haven't I done?  What is a "(CP::UNREAD-CP-ARGUMENT FROBBOZ)"?  Am I
supposed to know about this?

Error1: No DW::PARSER method for the type (CP::UNREAD-CP-ARGUMENT FROBBOZ) was found.
0While in the function (:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)  DW::CALL-WITH-ONE-LEVEL-KEY  (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)

The condition signalled was ZL:FERROR

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 103)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP::UNREAD-CP-ARGUMENT FROBBOZ) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603525> NIL #<DTP-LOCATIVE 603630>) (CP::UNREAD-CP-ARGUMENT #<DTP-LOCATIVE 24710065>))
   Arg 1 (DW::PRKEY): NIL
   Local 2 (COMPILER:.LEXICAL-CAPTIVE-BLOCK-POINTER.): ((((CP::UNREAD-CP-ARGUMENT FROBBOZ) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603525> NIL #<DTP-LOCATIVE 603630>) (CP::UNREAD-CP-ARGUMENT #<DTP-LOCATIVE 24710065>)) COMPILER:BLOCK-NO-LONGER-ACTIVE)
   Local 3: DW::PARSER
   Local 4: (CP::UNREAD-CP-ARGUMENT #<DTP-LOCATIVE 24710065>)
   Local 5: NIL
   Local 6 (DW::KEY): (DW::PARSER (CP::UNREAD-CP-ARGUMENT #<DTP-LOCATIVE 24710065>))
   Local 7 (DW::RESULT): NIL
   Local 8 (DW::FOUND-P): NIL
   Lexical 0 (DW::ERROR-P): T
   Lexical 1 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603525>
   Lexical 2 (DW::.INTERNAL-CATCH-FOR-PROG-1189.): #<DTP-LOCATIVE 603630>
   Lexical 3 (DW:PRESENTATION-TYPE): (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Lexical 4 (DW::KEY): (CP::UNREAD-CP-ARGUMENT #<DTP-LOCATIVE 24710065>)
   Lexical 5 (DW::METHOD-TYPE): DW::PARSER
   Captive 1 (DW::.INTERNAL-CATCH-FOR-PROG-1195.): COMPILER:BLOCK-NO-LONGER-ACTIVE

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 24732077>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((CP::UNREAD-CP-ARGUMENT FROBBOZ) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603525> NIL #<DTP-LOCATIVE 603630>)
   Arg 1: (CP::UNREAD-CP-ARGUMENT #<DTP-LOCATIVE 24710065>)

1DW::CALL-WITH-ONE-LEVEL-KEY-CACHE0:  (P.C. = 33)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 24732073>
   Arg 1 (DW::KEY): (CP::UNREAD-CP-ARGUMENT (FROBBOZ))

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 215)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603525>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER FROBBOZ)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER FROBBOZ)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER FROBBOZ)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER FROBBOZ)

1CP::NORMAL-ARG-PARSER0:  (P.C. = 320)
   Arg 0 (CP::PRESENTATION-TYPE): (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Rest arg (CP::KEYWORD-ARGS): (:QUERY-IDENTIFIER FROBBOZ)

1(:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 2 CP::PARSER)0:  (P.C. = 6)
   Arg 0 (CP::PRESENTATION-TYPE): (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Rest arg (CP::ARGS): (:QUERY-IDENTIFIER FROBBOZ)

1(:INTERNAL (CP::COMMAND-PARSER COM-FRAZZLE) 0 CP:READ-COMMAND-ARGUMENT)0:  (P.C. = 34)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 603322>
   Arg 1 (CP::PRESENTATION-TYPE): (CP::UNREAD-CP-ARGUMENT FROBBOZ)
   Rest arg (CP::OPTIONS): (:QUERY-IDENTIFIER FROBBOZ)

1(CP::COMMAND-PARSER COM-FRAZZLE)0:  (P.C. = 32)  2(from ML: CGL; DEPICT)
0   Arg 0 (CP::ARGUMENT-PARSER): #<DTP-COMPILED-FUNCTION (:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 2 CP::PARSER) 147131705>

1CP::PARSE-COMMAND-ARGUMENTS0:  (P.C. = 107)
   Arg 0 (CP:COMMAND-NAME): COM-FRAZZLE
   Arg 1: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1(DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::PARSER)0:  (P.C. = 160)  2(from SYS:PATCH;SYSTEM-349-50)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T)
   Rest arg (IGNORE): (((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602700>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 603015>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 603023>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 602710>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602410>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T)
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::PARSER) 152214613>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602425> NIL #<DTP-LOCATIVE 602530>) (CP::COMMAND-ARGUMENTS COM-FRAZZLE #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): (:WAIT-FOR-ACTIVATION T)

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 24731735>
   Arg 1 (DW::KEY): (:WAIT-FOR-ACTIVATION T)

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602425> NIL #<DTP-LOCATIVE 602530>)
   Arg 1: (CP::COMMAND-ARGUMENTS COM-FRAZZLE #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::KEY-GENERATOR)0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-50)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 24731731>
   Arg 1: CP::COMMAND-ARGUMENTS
   Rest arg: (:COMMAND-NAME COM-FRAZZLE)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP::COMMAND-ARGUMENTS 7104160>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 24731731>
   Arg 4 (DW::TYPE-NAME): CP::COMMAND-ARGUMENTS
   Rest arg (DW::DATA-ARGS): (:COMMAND-NAME COM-FRAZZLE)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T)
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602425>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T)
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME COM-FRAZZLE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1(DW::PRESENTATION-FUNCTION CP:COMMAND DW::PARSER)0:  (P.C. = 305)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (IGNORE): (((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 601755>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602072>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 602100>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 601765>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 601471>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND DW::PARSER) 152214143>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601506> NIL #<DTP-LOCATIVE 601611>) (CP:COMMAND #<COMMAND-TABLE User 120216052>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 24731556>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601506> NIL #<DTP-LOCATIVE 601611>)
   Arg 1: (CP:COMMAND #<COMMAND-TABLE User 120216052>)

1(DW::PRESENTATION-FUNCTION CP:COMMAND DW::KEY-GENERATOR)0:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 24731552>
   Arg 1 (CP::TYPE-NAME): CP:COMMAND
   Rest arg: (:COMMAND-TABLE #<COMMAND-TABLE User 120216052>)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP:COMMAND 7104334>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 24731552>
   Arg 4 (DW::TYPE-NAME): CP:COMMAND
   Rest arg (DW::DATA-ARGS): (:COMMAND-TABLE #<COMMAND-TABLE User 120216052>)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601506>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1(DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::PARSER)0:  (P.C. = 152)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (IGNORE): (((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600657>

1(DEFUN-IN-FLAVOR SI:INPUT-EDITOR-READ SI:INTERACTIVE-STREAM)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600667>
   Arg 3 (SI:READ-ARGS): NIL

1(FLAVOR:METHOD :INPUT-EDITOR SI:INTERACTIVE-STREAM)0:  (P.C. = 160)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Arg 3 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600667>
   Rest arg (SI:READ-ARGS): NIL

1(:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600667>)

1(FLAVOR:WHOPPER :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0) 147371366>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (DW::ARGS): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600667>)

1(FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600667>)

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 220)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600774>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 601002>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600667>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600367>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::PARSER) 152215515>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600404> NIL #<DTP-LOCATIVE 600507>) (CP:COMMAND-OR-FORM #<COMMAND-TABLE User 120216052> :FORM-PREFERRED))
   Arg 1 (DW::PRKEY): (:ENVIRONMENT NIL)

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 424123510>
   Arg 1 (DW::KEY): (:ENVIRONMENT NIL)

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600404> NIL #<DTP-LOCATIVE 600507>)
   Arg 1: (CP:COMMAND-OR-FORM #<COMMAND-TABLE User 120216052> :FORM-PREFERRED)

1(DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::KEY-GENERATOR)0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 424123504>
   Arg 1: CP:COMMAND-OR-FORM
   Rest arg: (:COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP:COMMAND-OR-FORM 7106204>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 424123504>
   Arg 4 (DW::TYPE-NAME): CP:COMMAND-OR-FORM
   Rest arg (DW::DATA-ARGS): (:COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600404>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL :PROMPT "" :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM ...)
<<Error printing frame's specials>>
1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT "" :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT "" :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT "" :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1CP:READ-COMMAND-OR-FORM0:  (P.C. = 225)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg: (:DISPATCH-MODE :FORM-PREFERRED :BLANK-LINE-MODE :REPROMPT :PROMPT "")

1CP::COMMAND-LOOP-READ-FUNCTION0:  (P.C. = 13)

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600155>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600120>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL20:  (P.C. = 5)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
   Arg 0 (IGNORE): NIL

   Special DW::*TYPE-METHOD-CACHE*: #<OPEN-SCATTER-PROCESS-LOCKING-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 122143354>
   Special DW::*EQL-DISPATCH-AREA*: 23
22-Jul-87 18:22:55-EDT,46920;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 18:22-EDT
Received: from MC.LCS.MIT.EDU (MC.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 64640; 22 Jul 87 18:22:11 EDT
Received: from VX.LCS.MIT.EDU by MC.LCS.MIT.EDU via Chaosnet; 22 JUL 87  17:15:44 EDT
Received: by VX.LCS.MIT.EDU (4.12/4.8) id AA22488; Wed, 22 Jul 87 17:14:14 edt
Date: Wed, 22 Jul 87 17:14:14 edt
From: Laura D. Bagnall <laura@VX.LCS.MIT.EDU>
To: customer-reports@scrc, Bug-LispM@ZERMATT.LCS.MIT.EDU
Cc: laura@VX.LCS.MIT.EDU
Subject: [LAURA@VX.LCS.MIT.EDU: specifying alternate style to LGP2 blows out]
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

Let's try this one again.  I originally sent this to Bug-Lispm
thinking it might be a local problem, but I didn't get an answer, so
let's try customer-reports this time.

Date: Tue, 7 Jul 87 13:41 EDT
From: Laura Bagnall <LAURA@VX.LCS.MIT.EDU>
Subject: specifying alternate style to LGP2 blows out
To: Bug-LispM@ZERMATT.LCS.MIT.EDU

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Multilisp 14.0,
Experimental Multilisp Compiler 7, Experimental Bounce 1,
Experimental LUNIX 1, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Machine serial number 4597,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Flute:

In attempting to hardcopy a file to a LGP2 printer while specifying an
alternate font, I typed the following:

:Hardcopy File VX:/usr/laura/people Pulp :Body Character Style fix.

 I got as far as typing the period after "fix" when it blew out.  The
same incantation works fine on an Impress printer (Charmin).

1Error: The value of (FIRST SPEC) in SI:GET-FONT, "Times-Bold", was of the wrong type.
       The function expected one of :STYLE or :FONT.
0While in the function SI:GET-FONT  DW::CHARACTER-STYLE-VALID?  (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)

The condition signalled was DBG:WRONG-TYPE-DATUM

1SI:GET-FONT0:  (P.C. = 214)  2(from SYS:PATCH;SYSTEM-349-243)
0   Arg 0 (SI:DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 1 (SI:CHARACTER-SET): NIL
   Local 1 (SI:CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>
   Arg 2 (SI:STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 3 (SI:ERROR-P): NIL
   Arg 4 (SI:INQUIRY-ONLY): T
   Local 5: #<DTP-LOCATIVE 606061>
   Local 6: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 0 SI:RECURSE) 145563702>
   Local 7: #<DTP-LOCATIVE 606061>
   Local 8: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 2) 145563666>
   Local 9: #<DTP-LOCATIVE 606061>
   Local 10: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 4) 145563655>
   Local 11 (SI:.RECURSE-FUNCTION-CELL.): #<LEXICAL-CLOSURE (:INTERNAL SI:GET-FONT 0 SI:RECURSE) 606066>
   Local 12 (SI:SPEC): ("Times-Bold" "" 10.5 1.11)
   Local 13: "Times-Bold"

1DW::CHARACTER-STYLE-VALID?0:  (P.C. = 114)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (DW::STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 1 (DW::AGAINST-DEFAULT): NIL
   Arg 2 (DW::DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>

1(:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL # 1) 25731364> #<LGP2-DISPLAY-DEVICE 120212277> #<ART-BOOLEAN-16 20000347> NIL)
   Arg 1 (DW::DISPLAY-DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 2 (DW::CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>
   Arg 3 (CHARACTER-STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 4 (DW::TRANSLATION): ("Times-Bold" "" 10.5 1.11)

1(:INTERNAL (:INTERNAL (FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE) 0 SI:DOIT) 0 MAPHASH)0:  (P.C. = 13)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((#<LGP2-DISPLAY-DEVICE 120212277> #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 25731372>) #<STANDARD-CHARACTER-SET 120007637>)
   Arg 1 (CHARACTER-STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 2 (SI:TRANSLATION): ("Times-Bold" "" 10.5 1.11)

1(FLAVOR:METHOD CLI::INTERNAL-MAPHASH CLI::ARRAY-TABLE-MIXIN)0:  (P.C. = 75)  2(from SYS:PATCH;SYSTEM-349-234)
0   Arg 0 (SELF): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CLI::ARRAY-TABLE-MIXIN 250327471>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CLI::INTERNAL-MAPHASH 6700615>
   Arg 3 (CLI::INT-REPRESENTATION): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 111 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 167 :ENTRIES-PER-BUCKET 1 :GROWTH-FACTOR ...)
   Arg 4 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0 MAPHASH) 324000160>
   Arg 5 (CLI::RESULT-TYPE): NIL
   Rest arg (CLI::ARGS): NIL

1(FLAVOR:METHOD MAPHASH CLI::BASIC-TABLE)0:  (P.C. = 6)
   Arg 0 (SELF): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>
   Arg 1 (SYS:SELF-MAPPING-TABLE): CLI::BASIC-TABLE
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION MAPHASH 6700535>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0 MAPHASH) 324000160>

1(:INTERNAL (FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE) 0 SI:DOIT)0:  (P.C. = 20)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 324000240>)
   Arg 1: #<STANDARD-CHARACTER-SET 120007637>
   Arg 2 (SI:TABLE): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>

1(FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE)0:  (P.C. = 25)  2(from SYS:PATCH;SYSTEM-349-243)
0   Arg 0: #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:DISPLAY-DEVICE 254024452>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS 6717337>
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 324000240>
   Arg 4 (SI:LIMITED-TO-CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>

1SI:MAP-OVER-CHARACTER-STYLE-TRANSLATIONS0:  (P.C. = 20)
   Arg 0 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 324000240>
   Rest arg: (:DISPLAY-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :CHARACTER-SET #<STANDARD-CHARACTER-SET 120007637>)

1DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES0:  (P.C. = 100)
   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL # 1) 324000271>
   Rest arg: (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL)

1(:INTERNAL (:INTERNAL (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 1) 0)0:  (P.C. = 35)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> NIL NIL)
   Arg 1 (DW::.STRING.): "fix"
   Arg 2: #<LEXICAL-CLOSURE (:INTERNAL DW::COMPLETE-STRING-INTERNAL 0) 605537>

1DW::COMPLETE-STRING-INTERNAL0:  (P.C. = 102)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STRING): "fix"
   Arg 1 (DW::DELIMITERS): "- "
   Arg 2 (DW::POSSIBILITY-GENERATOR): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324010451>
   Arg 3 (DW::ACTION): :COMPLETE

1DW::SUGGESTION-COMPLETER-INTERNAL0:  (P.C. = 26)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STRING): "fix"
   Arg 1 (DW::GENERATOR): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324010451>
   Rest arg: (:ACTION :COMPLETE)

1(:INTERNAL (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 1)0:  (P.C. = 11)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> NIL NIL)
   Arg 1 (DW::.STRING.): "fix"
   Arg 2 (DW::.ACTION.): :COMPLETE

1DW:COMPLETE-INPUT0:  (P.C. = 1101)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: #<LEXICAL-CLOSURE (:INTERNAL # 1) 324003420>
   Rest arg: (:TYPE ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) :INITIALLY-DISPLAY-POSSIBILITIES NIL)

1(DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER)0:  (P.C. = 120)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 2 (DW::ORIGINAL-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 3 (IGNORE): NIL
   Arg 4 (DW::INITIALLY-DISPLAY-POSSIBILITIES): NIL

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 605001>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 605116>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 605124>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 605011>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 604511>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 152212447>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 604526> 

NIL #<DTP-LOCATIVE 604631>) (DW::CHARACTER-STYLE-FAMILY #<LGP2-DISPLAY-DEVICE 120212277> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324021032>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 604526> N

IL #<DTP-LOCATIVE 604631>)
   Arg 1: (DW::CHARACTER-STYLE-FAMILY #<LGP2-DISPLAY-DEVICE 120212277> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::KEY-GENERATOR)0:  (P.C. = 52)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324021062>
   Arg 1: DW::CHARACTER-STYLE-FAMILY
   Rest arg: (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR DW::CHARACTER-STYLE-FAMILY 7103060>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324021062>
   Arg 4 (DW::TYPE-NAME): DW::CHARACTER-STYLE-FAMILY
   Rest arg (DW::DATA-ARGS): (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 604526>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL ...)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1DW::READ-CHARACTER-STYLE-COMPONENT0:  (P.C. = 30)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW::COMPONENT-DEFAULT): NIL
   Arg 2 (DW::PROVIDE-DEFAULT): NIL
   Arg 3 (DW::DOT-P): T
   Arg 4 (DW::P-T-NAME): DW::CHARACTER-STYLE-FAMILY
   Rest arg (DW::P-T-DATA-ARGS): (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1(:INTERNAL (DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER) 2 DW::READ-CHARACTER-STYLE)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> NIL #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> NIL NIL 63 NIL NIL NIL ...)

1(DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER)0:  (P.C. = 343)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 2 (IGNORE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 3: NIL
   Rest arg (IGNORE): (NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 604012>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 604127>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 604135>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 604022>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 603520>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER) 152212714>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603535> NIL #<DTP-LOCATIVE 6036

40>) (CHARACTER-STYLE-FOR-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324021046>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603535> NIL #<DTP-LOCATIVE 60364

0>)
   Arg 1: (CHARACTER-STYLE-FOR-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::KEY-GENERATOR)0:  (P.C. = 64)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324021042>
   Arg 1: CHARACTER-STYLE-FOR-DEVICE
   Rest arg: (:ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CHARACTER-STYLE-FOR-DEVICE 7102464>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324021042>
   Arg 4 (DW::TYPE-NAME): CHARACTER-STYLE-FOR-DEVICE
   Rest arg (DW::DATA-ARGS): (:ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 603535>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE .

..)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (DW::ARGS): (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :ADDITIONAL-BLIP-CHARS (#\Space) :PROMPT-AFTER NIL :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL)

1CP::NORMAL-ARG-PARSER0:  (P.C. = 320)
   Arg 0 (CP::PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (CP::KEYWORD-ARGS): (:CLASS :KEYWORD-VALUE :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL :DOCUMENTATION "Character style in which to print contents of file")
   Local 1 (CP::KEYWORD-ARGS): (:QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL)
   Special DBG:*BOUND-HANDLERS*: (#<CASE-HANDLER 120033550> #<LEXICAL-CLOSURE (:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 4) 603233> #<LEXICAL-CLOSURE (:INTERNAL # 6) 601254> #<CASE-HANDLER 120032607>)

1(:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 2 CP::PARSER)0:  (P.C. = 6)
   Arg 0 (CP::PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (CP::ARGS): (:CLASS :KEYWORD-VALUE :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL :DOCUMENTATION "Character style in which to print contents of file")

1(:INTERNAL (CP::COMMAND-PARSER HCI::COM-HARDCOPY-FILE) 0 CP:READ-COMMAND-ARGUMENT)0:  (P.C. = 34)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 603270>
   Arg 1 (CP::PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (CP::OPTIONS): (:CLASS :KEYWORD-VALUE :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL :DOCUMENTATION "Character style in which to print contents of file")

1(:INTERNAL (CP::COMMAND-PARSER HCI::COM-HARDCOPY-FILE) 1 CP::KEYWORD-PARSER)0:  (P.C. = 6)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((:BODY-CHARACTER-STYLE) #<LEXICAL-CLOSURE (:INTERNAL # 0 CP:READ-COMMAND-ARGUMENT) 603272>)
   Arg 1 (CP::PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg (CP::ARGS): (:CLASS :KEYWORD-VALUE :QUERY-IDENTIFIER HCI:BODY-CHARACTER-STYLE :DEFAULT NIL :DOCUMENTATION "Character style in which to print contents of file")

1(CP::COMMAND-PARSER HCI::COM-HARDCOPY-FILE)0:  (P.C. = 211)  2(from SYS:7-1-PATCHES;PATCH;7-1-PATCHES-1-9)
0   Arg 0 (CP::ARGUMENT-PARSER): #<DTP-COMPILED-FUNCTION (:INTERNAL CP::PARSE-COMMAND-ARGUMENTS 2 CP::PARSER) 147131705>

1CP::PARSE-COMMAND-ARGUMENTS0:  (P.C. = 107)
   Arg 0 (CP:COMMAND-NAME): HCI::COM-HARDCOPY-FILE
   Arg 1: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1(DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::PARSER)0:  (P.C. = 160)  2(from SYS:PATCH;SYSTEM-349-50)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg (IGNORE): (((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602646>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602763>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 602771>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 602656>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602356>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::PARSER) 152214613>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602373> NIL #<DTP-LOCATIVE 602476>) (

CP::COMMAND-ARGUMENTS HCI::COM-HARDCOPY-FILE #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): (:WAIT-FOR-ACTIVATION T)

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324016702>
   Arg 1 (DW::KEY): (:WAIT-FOR-ACTIVATION T)

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602373> NIL #<DTP-LOCATIVE 602476>)
   Arg 1: (CP::COMMAND-ARGUMENTS HCI::COM-HARDCOPY-FILE #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION CP::COMMAND-ARGUMENTS DW::KEY-GENERATOR)0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-50)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324016676>
   Arg 1: CP::COMMAND-ARGUMENTS
   Rest arg: (:COMMAND-NAME HCI::COM-HARDCOPY-FILE)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP::COMMAND-ARGUMENTS 7104160>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324016676>
   Arg 4 (DW::TYPE-NAME): CP::COMMAND-ARGUMENTS
   Rest arg (DW::DATA-ARGS): (:COMMAND-NAME HCI::COM-HARDCOPY-FILE)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 602373>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP::COMMAND-ARGUMENTS :COMMAND-NAME HCI::COM-HARDCOPY-FILE) :WAIT-FOR-ACTIVATION T)
   Rest arg (DW::ARGS): (:PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\Space) :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>)

1(DW::PRESENTATION-FUNCTION CP:COMMAND DW::PARSER)0:  (P.C. = 305)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (IGNORE): (((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 601723>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 602040>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 602046>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 601733>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 601437>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND DW::PARSER) 152214143>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601454> NIL #<DTP-LOCATIVE 601557>) (CP:COMMAND #<COMMAND-TAB

LE User 120216052>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324012115>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601454> NIL #<DTP-LOCATIVE 601557>)
   Arg 1: (CP:COMMAND #<COMMAND-TABLE User 120216052>)

1(DW::PRESENTATION-FUNCTION CP:COMMAND DW::KEY-GENERATOR)0:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324012111>
   Arg 1 (CP::TYPE-NAME): CP:COMMAND
   Rest arg: (:COMMAND-TABLE #<COMMAND-TABLE User 120216052>)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP:COMMAND 7104334>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324012111>
   Arg 4 (DW::TYPE-NAME): CP:COMMAND
   Rest arg (DW::DATA-ARGS): (:COMMAND-TABLE #<COMMAND-TABLE User 120216052>)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 601454>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND :COMMAND-TABLE #<COMMAND-TABLE User 120216052>))
   Rest arg (DW::ARGS): (:PROMPT NIL :STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL)

1(DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::PARSER)0:  (P.C. = 152)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1: ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (IGNORE): (((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) NIL NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600625>

1(DEFUN-IN-FLAVOR SI:INPUT-EDITOR-READ SI:INTERACTIVE-STREAM)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>
   Arg 3 (SI:READ-ARGS): NIL

1(FLAVOR:METHOD :INPUT-EDITOR SI:INTERACTIVE-STREAM)0:  (P.C. = 160)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174103530>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Arg 3 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>
   Rest arg (SI:READ-ARGS): NIL

1(:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>)

1(FLAVOR:WHOPPER :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0) 147371366>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 4 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (DW::ARGS): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>)

1(FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174103446>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>)

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 220)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600742>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600750>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 600635>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 600335>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::PARSER) 152215515>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 60035

2> NIL #<DTP-LOCATIVE 600455>) (CP:COMMAND-OR-FORM #<COMMAND-TABLE User 120216052> :FORM-PREFERRED))
   Arg 1 (DW::PRKEY): (:ENVIRONMENT NIL)

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 324010045>
   Arg 1 (DW::KEY): (:ENVIRONMENT NIL)

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600352

> NIL #<DTP-LOCATIVE 600455>)
   Arg 1: (CP:COMMAND-OR-FORM #<COMMAND-TABLE User 120216052> :FORM-PREFERRED)

1(DW::PRESENTATION-FUNCTION CP:COMMAND-OR-FORM DW::KEY-GENERATOR)0:  (P.C. = 40)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324010041>
   Arg 1: CP:COMMAND-OR-FORM
   Rest arg: (:COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CP:COMMAND-OR-FORM 7106204>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 324010041>
   Arg 4 (DW::TYPE-NAME): CP:COMMAND-OR-FORM
   Rest arg (DW::DATA-ARGS): (:COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 600352>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg: (:STREAM #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed> :PROVIDE-DEFAULT NIL :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454> :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM ...)
<<Error printing frame's specials>>
1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454> :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454> :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE :FORM-PREFERRED) :ENVIRONMENT NIL)
   Rest arg (DW::ARGS): (:PROVIDE-DEFAULT NIL :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454> :PROMPT-MODE :RAW :STREAM #:TERMINAL-IO-SYN-STREAM :TOP-LEVEL T ...)

1CP:READ-COMMAND-OR-FORM0:  (P.C. = 225)  2(from SYS:PATCH;SYSTEM-349-21)
0   Arg 0 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg: (:DISPATCH-MODE :FORM-PREFERRED :BLANK-LINE-MODE :REPROMPT :PROMPT #<DTP-COMPILED-FUNCTION SI:ARROW-PROMPT 146111454>)

1CP::COMMAND-LOOP-READ-FUNCTION0:  (P.C. = 13)

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)

   Special SI:*UNDEFINED-CHARACTER-STYLE*: #<CHARACTER-STYLE STANDIN-FOR-UNDEFINED-STYLES.ROMAN.NORMAL 110607015>


22-Jul-87 18:29:56-EDT,2334;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 18:29-EDT
Received: from ALDERAAN.SCRC.Symbolics.COM (ALDERAAN.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 49838; 22 Jul 87 18:29:59 EDT
Received: from EUPHRATES.SCRC.Symbolics.COM by ALDERAAN.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 102986; Wed 22-Jul-87 18:11:47 EDT
Date: Wed, 22 Jul 87 18:11 EDT
From: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: looping through hash tables
To: Paul Krause <pfkrause@OZ.AI.MIT.EDU>
cc: Bug-LispM@OZ.AI.MIT.EDU, DLA@STONY-BROOK.SCRC.Symbolics.COM, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870722051026.3.PFKRAUSE@APIARY-3.AI.MIT.EDU>
Message-ID: <870722181122.1.MOON@EUPHRATES.SCRC.Symbolics.COM>

    Date: Wed, 22 Jul 87 05:10 EDT
    From: Paul Krause <pfkrause@OZ.AI.MIT.EDU>

    I'm not sure whether this is a bug on Symbolics part or not (partly
    because I can't figure out what constitutes a "valid entry")....

There are two issues here.  One is that LOOP has a bug in Genera 7.0
and 7.1, which happens when you modify a hash table that you are
iterating through.  LOOP will be fixed in 7.2 to provide the same
behavior as MAPHASH.  In the meantime, you can replace

  (loop for value1 being the hash-elements of l*-stateno with-key key1

with 

  (maphash (lambda (key1 value1) ...) l*-stateno)

The second issue is that it is not valid in either LOOP or MAPHASH to
modify the table you are iterating over other than to modify or remove
the current element (see page 285 of the Common Lisp manual).  I believe
your program violates this restriction, although I had trouble understanding
the program's logic well enough to be sure, so this may be a false alarm.

    ...but the code in question -does- run on the Explorer without causing any
    errors.

However, if your program is violating the restriction mentioned above, and if
hash tables on the Explorer still work the way I remember, I suspect that
while your program does not go into the debugger, in some cases it may not
operate correctly: l*-fill-loop-1 may see some elements of the table twice,
and/or may skip over some elements of the table.  It might require fairly
careful testing of your program to detect the bugs caused by this.

22-Jul-87 18:37:39-EDT,2334;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 18:29-EDT
Received: from ALDERAAN.SCRC.Symbolics.COM (ALDERAAN.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 49838; 22 Jul 87 18:29:59 EDT
Received: from EUPHRATES.SCRC.Symbolics.COM by ALDERAAN.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 102986; Wed 22-Jul-87 18:11:47 EDT
Date: Wed, 22 Jul 87 18:11 EDT
From: David A. Moon <Moon@STONY-BROOK.SCRC.Symbolics.COM>
Subject: looping through hash tables
To: Paul Krause <pfkrause@OZ.AI.MIT.EDU>
cc: Bug-LispM@OZ.AI.MIT.EDU, DLA@STONY-BROOK.SCRC.Symbolics.COM, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870722051026.3.PFKRAUSE@APIARY-3.AI.MIT.EDU>
Message-ID: <870722181122.1.MOON@EUPHRATES.SCRC.Symbolics.COM>

    Date: Wed, 22 Jul 87 05:10 EDT
    From: Paul Krause <pfkrause@OZ.AI.MIT.EDU>

    I'm not sure whether this is a bug on Symbolics part or not (partly
    because I can't figure out what constitutes a "valid entry")....

There are two issues here.  One is that LOOP has a bug in Genera 7.0
and 7.1, which happens when you modify a hash table that you are
iterating through.  LOOP will be fixed in 7.2 to provide the same
behavior as MAPHASH.  In the meantime, you can replace

  (loop for value1 being the hash-elements of l*-stateno with-key key1

with 

  (maphash (lambda (key1 value1) ...) l*-stateno)

The second issue is that it is not valid in either LOOP or MAPHASH to
modify the table you are iterating over other than to modify or remove
the current element (see page 285 of the Common Lisp manual).  I believe
your program violates this restriction, although I had trouble understanding
the program's logic well enough to be sure, so this may be a false alarm.

    ...but the code in question -does- run on the Explorer without causing any
    errors.

However, if your program is violating the restriction mentioned above, and if
hash tables on the Explorer still work the way I remember, I suspect that
while your program does not go into the debugger, in some cases it may not
operate correctly: l*-fill-loop-1 may see some elements of the table twice,
and/or may skip over some elements of the table.  It might require fairly
careful testing of your program to detect the bugs caused by this.

22-Jul-87 19:31:36-EDT,2652;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 19:31-EDT
Received: from YUKON.SCRC.Symbolics.COM (YUKON.SCRC.SYMBOLICS.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 49856; 22 Jul 87 19:31:40 EDT
Received: from MOBILE.SCRC.Symbolics.COM by YUKON.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 239990; Wed 22-Jul-87 18:53:34 EDT
Date: Wed, 22 Jul 87 18:52 EDT
From: Dennis L. Doughty <doughty@YUKON.SCRC.Symbolics.COM>
Subject: Rel 7 is smarter than I am
To: Alan Bawden <Alan@AI.AI.MIT.EDU>
cc: Bug-LispM@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870722180750.1.ALAN@MARLEY.AI.MIT.EDU>
Message-ID: <870722185253.2.DOUGHTY@MOBILE.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 22 Jul 87 18:07 EDT
    From: Alan Bawden <Alan@AI.AI.MIT.EDU>
    Subject: Rel 7 is smarter than I am
    
    First I did:
    
    (defflavor frobboz
	    ()
	    ()
      )
    
    (define-presentation-type frobboz (())
       :no-deftype t
       :description "a frobboz"
       :parser ((stream)
		(break 'foo))
       )
    
    (cp:define-command (com-frazzle :command-table 'user)
	((frobboz frobboz))
       (print frobboz)
       frobboz)
    
    Then I did:
    
      :Frazzle
    
    With the results below.  I simply do not understand what this error message
    means.  I have defined a parser for frobbozes as far as I can tell (if I
    call (ACCEPT 'FROBBOZ) my breakpoint FOO does get triggered), so what
    haven't I done?  What is a "(CP::UNREAD-CP-ARGUMENT FROBBOZ)"?  Am I
    supposed to know about this?
    
    Error: No DW::PARSER method for the type (CP::UNREAD-CP-ARGUMENT FROBBOZ) was found.

It means that you really wanted to say:

(cp:define-command (com-frazzle :command-table 'user)
    ((frobboz1 '0frobboz))
  (print frobboz)
  frobboz)

(note the quote).  

The CP binds each of the arguments it's about to read to these internal
things so that if you use one of the more complicated command-defining
macros and your command parser fails to read one of the arguments, the
CP can produce a reasonable warning.  Also, the name
(UNREAD-CP-ARGUMENT FROBBOZ) was supposed to clue you into the fact that
your code was trying to reference the CP argument FROBBOZ before it had
been read.  Can you suggest a better name?

I think the easiest and most beneficial fix is to actually define a
presentation type called CP::UNREAD-CP-ARGUMENT whose parser prints out
an informative error message.  I will investigate this.

22-Jul-87 22:24:35-EDT,2995;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 22 Jul 87 22:24-EDT
Received: from PIGPEN.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49879; Wed 22-Jul-87 22:24:43 EDT
Date: Wed, 22 Jul 87 22:24 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Rel 7 is even smarter than that
To: BUG-LISPM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870722222438.1.ALAN@PIGPEN.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30096,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10,
Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

[ Thanks to Doughty for explaining the last obscurity that I reported. ]

I defined:

(defflavor frubboz
	()
	()
  )

(cp:define-command (com-frub-frubboz :command-table 'user)
    ((frubboz 'frubboz))
   (format t "~&~S" frubboz))

(define-presentation-to-command-translator frub-frubboz (frubboz) (frubboz)
  (cp:build-command 'com-frub-frubboz frubboz))

Now I -expected- that this would let me point at Frubbozes with the mouse,
click on them, and have the Frub Frubboz command applied to them.

In fact, it looks like it has no effect.

I find the documentation for this stuff to be -totally- complex (hundreds
of keyword arguments for situations that I can't imagine, macros with
complicated nested parenthesized syntax, etc.).  None of the examples are
nearly as simple as what I am trying to accomplish; I just want to click on
something with the mouse and have some code run, I can't imagine anything
simpler.  Thus I have no confidence that what I am doing -should- work,
-HOWEVER- I do find that if I enter the "Presentation Inspector" (by clicking
Right on a Frubboz often enough), and then give the "Show Handler
Applicability" command on the "FRUB-FRUBBOZ" handler, I get a display that
includes the message:

  *** This handler was not found in the handler tables
  *** under these types.  This would indicate a defect in
  *** the handler tables or the cache.  Please report this
  *** bug.

Which makes me think that perhaps this isn't entirely my own confusion this
time...

I have a feeling that when I'm finished I'm going to have about a page of
code that does some pretty neat stuff by Release 6 standards, but I've been
at this for two days now and I don't feel like I'm progressing very
rapidly, so I might not be all that impressed when I finally get there.
23-Jul-87 07:12:31-EDT,2583;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 23 Jul 87 07:12-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 49902; Thu 23-Jul-87 07:12:39 EDT
Date: Thu, 23 Jul 87 07:12 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: unnecessarily work in neti:parse-domain-host
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870723071235.7.CJL@OTIS.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental CLX 4.0,
microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
FEP0:>g206-loaders.flod(14), FEP0:>g206-disk.flod(5),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30124,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Lisp Machine Otis Redding:

It is guaranteed that there are only domains with top level domain names,
so isn't it a waste of time for parse-domain-host to be doing all this work if
there isn't even a "." in the name of the host?

1NET:FIND-OBJECT-FROM-PROPERTY-LIST0:  (P.C. = 27)
   Arg 0 (NETI:CLASS): :HOST
   Rest arg (NETI:PROPERTY-LIST): (:INTERNET-DOMAIN-NAME "FOO")
   Local 2 (NETI:.INTERNAL-CATCH-FOR-PROG-53777.): #<DTP-LOCATIVE 600420>
   Local 3: #<DTP-LOCATIVE 600420>
   Local 4: #<DTP-COMPILED-FUNCTION (:INTERNAL NET:FIND-OBJECT-FROM-PROPERTY-LIST 0) 145346250>
   Local 5: #<DTP-LOCATIVE 500052>
   Local 6: #<DTP-LOCATIVE 500052>
   Local 7: #<DTP-LOCATIVE 600420>
   Local 8: #<DTP-ODD-PC 145346235>
   Local 9: #<DTP-LOCATIVE 500054>
   Local 10: #<DTP-LOCATIVE 600404>
   Local 11 (NETI:VALID-P): T
<<Error printing frame's specials>>
1NETI:PARSE-DOMAIN-HOST0:  (P.C. = 206)  2(from SYS:MAC;PREFERENCES)
0   Arg 0 (NETI:HOST-NAME-STRING-OR-LIST): "FOO"
   Arg 1 (NETI:ASK-RESOLVER-IF-NECESSARY): T

1NET:PARSE-HOST0:  (P.C. = 252)  2(from SYS:MAC;PREFERENCES)
0   Arg 0 (NET:HOST): "FOO"
2   --Defaulted args:--
0   Arg 1 (NETI:NO-ERROR-P): NIL
   Arg 2 (NETI:ASK-RESOLVER-IF-NECESSARY): T

23-Jul-87 10:05:41-EDT,12927;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 23 Jul 87 10:05-EDT
Received: from GRIZZLY.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 6630; Thu 23-Jul-87 10:05:27 EDT
Date: Thu, 23 Jul 87 10:05 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: dw:get-program-pane broken
To: Bug-LispM@OZ.AI.MIT.EDU, customer-reports@YUKON.SCRC.SYMBOLICS.COM
Message-ID: <870723100545.7.TIERNEY@GRIZZLY.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
Experimental SPIRE Extensions 7.3, microcode 3600-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Grizzly:

dw:accepting-values sets dw:*program-frame* to something that looks like this
1#<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE0 1Accept0 1Values 1 1500205 exposed>
0Unfortunately dw:get-program-pane uses dw:*program-frame* to find panes.
Seems like either this should be done right, or we users should be given
the option to specify a frame when calling dw:get-program-pane.


1Error: There is no CL-SPI::OTHER-ATT-DISPLAY-PANE pane of #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed>
0While in the function DW:GET-PROGRAM-PANE  (FLAVOR:METHOD (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN :AFTER)  (FLAVOR:COMBINED (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN)

The condition signalled was FERROR

1DW:GET-PROGRAM-PANE0:  (P.C. = 12)
   Arg 0 (DW::NAME): CL-SPI::OTHER-ATT-DISPLAY-PANE

1(FLAVOR:METHOD (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN :AFTER)0:  (P.C. = 3)  2(from GOLDY:>dynamic>site>r7>spire>attribute-families>generic-sample-editor)
0   Arg 0 (SELF): #<SEAN 357150043>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CL-SPI::SEAN 60455602>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) 7050725>
   Arg 3 (CL-SPI::NEW-ATT): "Pitch Frequency"

1(FLAVOR:COMBINED (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN)0:  (P.C. = 13)
   Arg 0 (SELF): #<SEAN 357150043>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CL-SPI::SEAN 60455602>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) 7050725>
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): ("Pitch Frequency")

1(:INTERNAL (FLAVOR:METHOD CL-SPI::COM-CHOOSE-DISPLAY-OPTIONS-INTERNAL CL-SPI::SEAN) 0 DW:ACCEPTING-VALUES)0:  (P.C. = 66)
   Arg 0: #<SEAN 357150043>
   Arg 1: #<REDISPLAY-HELPER-STREAM 105707170>
   Local 1#<Map to flavor CL-SPI::SEAN 60455602>

1(:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 0 DW:REDISPLAYER)0:  (P.C. = 4)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<ACCEPT-VALUES-STREAM 357114626> #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:ACCEPTING-VALUES) 232500307> (:OWN-WINDOW T :LABEL "Choose Display Options") #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> #<ACCEPT-VALUES 120401304>)
   Arg 1 (IGNORE): NIL
   Arg 2 (CL:STREAM): #<REDISPLAY-HELPER-STREAM 105707170>
   Arg 3 (IGNORE): #<REDISPLAY-PIECE 105703271>

1(FLAVOR:METHOD DW::REDISPLAY-PIECE-CALL-DISPLAYER DW::REDISPLAY-PIECE)0:  (P.C. = 6)
   Arg 0 (SELF): #<REDISPLAY-PIECE 105703271>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-PIECE 250472446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDISPLAY-PIECE-CALL-DISPLAYER 6753227>
   Arg 3 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 105707170>

1(FLAVOR:METHOD :COLLECT-REDISPLAY-PIECES DW::REDISPLAY-HELPER-STREAM)0:  (P.C. = 46)
   Arg 0 (SELF): #<REDISPLAY-HELPER-STREAM 105707170>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-HELPER-STREAM 250357446>
   Arg 2 (FLAVOR::.GENERIC.): :COLLECT-REDISPLAY-PIECES
   Arg 3 (DW::PIECE): #<REDISPLAY-PIECE 105703271>
   Arg 4 (DW::XSTREAM): #<REDISPLAY-HELPER-STREAM 105707170>

1(FLAVOR:METHOD DW::REDISPLAY-PIECE-COLLECT-INFERIORS DW::REDISPLAY-PIECE)0:  (P.C. = 6)
   Arg 0 (SELF): #<REDISPLAY-PIECE 105703271>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-PIECE 250472446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::REDISPLAY-PIECE-COLLECT-INFERIORS 6753237>
   Arg 3 (CL:STREAM): #<REDISPLAY-HELPER-STREAM 105707170>

1(FLAVOR:METHOD DW:DO-REDISPLAY DW::REDISPLAY-PIECE)0:  (P.C. = 165)  2(from SYS:PATCH;SYSTEM-349-107)
0   Arg 0 (SELF): #<REDISPLAY-PIECE 105703271>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::REDISPLAY-PIECE 250472446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW:DO-REDISPLAY 6753177>
   Arg 3 (CL:STREAM): #<ACCEPT-VALUES-STREAM 357114626>
   Rest arg: (:TRUNCATE-P :IF-NECESSARY)

1(DEFUN-IN-FLAVOR DW::ACCEPT-VALUES-CHOICES-REDISPLAY DW:ACCEPT-VALUES)0:  (P.C. = 14)
   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:ACCEPT-VALUES 250367061>

1(FLAVOR:METHOD DW::ACCEPT-VALUES-TOP-LEVEL DW:ACCEPT-VALUES)0:  (P.C. = 63)  2(from SYS:PATCH;SYSTEM-349-25)
0   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:ACCEPT-VALUES 250367061>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-VALUES-TOP-LEVEL 6760567>
   Rest arg: (:CONTINUATION #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:ACCEPTING-VALUES) 232500307> :OWN-WINDOW T :LABEL "Choose Display Options")

1(FLAVOR:METHOD DW::RUN-PROGRAM-TOP-LEVEL DW::PROGRAM)0:  (P.C. = 24)
   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::PROGRAM 250367046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::RUN-PROGRAM-TOP-LEVEL 6757211>
   Rest arg (DW::ARGS): (:CONTINUATION #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:ACCEPTING-VALUES) 232500307> :OWN-WINDOW T :LABEL "Choose Display Options")

1(:INTERNAL DW::ACCEPT-VALUES-INTERNAL-1 0)0:  (P.C. = 7)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 232500534>

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :POP-UP
   Arg 1 (TV:STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-1 0) 232500541>

1DW::ACCEPT-VALUES-INTERNAL-10:  (P.C. = 24)
   Arg 0 (DW::PROGRAM): #<ACCEPT-VALUES 120401304>
   Arg 1 (DW::REAL-STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 2 (CL:STREAM): #<ACCEPT-VALUES-STREAM 357114626>
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:ACCEPTING-VALUES) 232500307>
   Rest arg (DW::ARGS): (:OWN-WINDOW T :LABEL "Choose Display Options")

1(:INTERNAL (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1) 0)0:  (P.C. = 10)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<ACCEPT-VALUES-STREAM 357114626> #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:ACCEPTING-VALUES) 232500307> (:OWN-WINDOW T :LABEL "Choose Display Options") #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> #<ACCEPT-VALUES 120401304>)
   Arg 1 (DW::WINDOW): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>

1(FLAVOR:METHOD :WITH-OUTPUT-TRUNCATION TV:SHEET)0:  (P.C. = 103)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :WITH-OUTPUT-TRUNCATION
   Arg 3 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 105216732>
   Arg 4 (TV:XSTREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Rest arg (TV:OPTIONS): (:VERTICAL T)

1(FLAVOR:COMBINED :WITH-OUTPUT-TRUNCATION DW:DYNAMIC-WINDOW)0:  (P.C. = 17)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :WITH-OUTPUT-TRUNCATION
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 0) 105216732> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :VERTICAL T)

1DW::WITH-OUTPUT-TRUNCATION-INTERNAL0:  (P.C. = 15)
   Arg 0 (CL:STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 105216732>
   Arg 2 (DW::XSTREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Rest arg (DW::OPTIONS): (:VERTICAL T)

1(:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1)0:  (P.C. = 37)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<ACCEPT-VALUES-STREAM 357114626> #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:ACCEPTING-VALUES) 232500307> (:OWN-WINDOW T :LABEL "Choose Display Options") #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> #<ACCEPT-VALUES 120401304>)
   Special DW:*PROGRAM-FRAME*: #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed>

1TV:WINDOW-CALL-INTERNAL0:  (P.C. = 30)
   Arg 0 (TV:WINDOW): #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed>
   Arg 1 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1) 454035117>
   Arg 2 (TV:FINAL-ACTION): :DEACTIVATE
   Rest arg (TV:FINAL-ACTION-ARGS): NIL

1DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW0:  (P.C. = 235)  2(from SYS:PATCH;SYSTEM-349-30)
0   Arg 0: #<ACCEPT-VALUES-STREAM 357114626>
   Arg 1: #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:ACCEPTING-VALUES) 232500307>
   Rest arg: (:OWN-WINDOW T :LABEL "Choose Display Options")

1DW::ACCEPT-VALUES-INTERNAL0:  (P.C. = 33)
   Arg 0 (DW::REAL-STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 5 7202201 exposed>
   Arg 1 (CL:STREAM): #<ACCEPT-VALUES-STREAM 357114626>
   Arg 2: #<LEXICAL-CLOSURE (:INTERNAL # 0 DW:ACCEPTING-VALUES) 232500307>
   Rest arg (DW::ARGS): (:OWN-WINDOW T :LABEL "Choose Display Options")

1(FLAVOR:METHOD CL-SPI::COM-CHOOSE-DISPLAY-OPTIONS-INTERNAL CL-SPI::SEAN)0:  (P.C. = 40)  2(from GOLDY:>dynamic>site>r7>spire>attribute-families>generic-sample-editor)
0   Arg 0 (SELF): #<SEAN 357150043>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CL-SPI::SEAN 60455602>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CL-SPI::COM-CHOOSE-DISPLAY-OPTIONS-INTERNAL 7051117>

1CL-SPI::COM-CHOOSE-DISPLAY-OPTIONS0:  (P.C. = 6)  2(from GOLDY:>dynamic>site>r7>spire>attribute-families>generic-sample-editor)
0   Rest arg (DW::COMMAND-ARGS): NIL

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS The best damn editor of anything in the whole wide world 1 15456175>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 232500162>
   Rest arg: NIL

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS The best damn editor of anything in the whole wide world 1 15456175>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW:DEFAULT-COMMAND-TOP-LEVEL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232500114>
   Rest arg: NIL

1DW:DEFAULT-COMMAND-TOP-LEVEL0:  (P.C. = 63)
   Arg 0 (DW::PROGRAM): #<SEAN 357150043>
   Rest arg (DW::OPTIONS): (:PROMPT #<DTP-COMPILED-FUNCTION CL-SPI::SEAN-PROMPT 46107472>)

1(FLAVOR:METHOD CL-SPI::SEAN-TOP-LEVEL CL-SPI::SEAN)0:  (P.C. = 53)  2(from SPIRE:ATTRIBUTE-FAMILIES;PATCH;SPIRE-EXTENSIONS-7-3)
0   Arg 0 (SELF): #<SEAN 357150043>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CL-SPI::SEAN 60455602>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CL-SPI::SEAN-TOP-LEVEL 7050755>

1(FLAVOR:METHOD DW::RUN-PROGRAM-TOP-LEVEL DW::PROGRAM)0:  (P.C. = 24)
   Arg 0 (SELF): #<SEAN 357150043>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::PROGRAM 60455613>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::RUN-PROGRAM-TOP-LEVEL 6757211>
   Rest arg (DW::ARGS): NIL

1DW::PROGRAM-FRAME-TOP-LEVEL0:  (P.C. = 23)
   Arg 0 (DW::WINDOW): #<PROGRAM-FRAME The best damn editor of anything in the whole wide world 1 7201046 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
   Arg 0 (IGNORE): NIL
23-Jul-87 10:13:36-EDT,9120;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 23 Jul 87 10:13-EDT
Received: from SMOKEY.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 6631; Thu 23-Jul-87 10:13:20 EDT
Date: Thu, 23 Jul 87 10:13 EDT
From: sr.wilson@SPEECH.MIT.EDU
Subject: :DRAW-CUBIC-SPLINE to dynamic windows still broken
To: customer-reports@YUKON.SCRC.SYMBOLICS.COM, bug-lispm@OZ.AI.MIT.EDU
cc: sr.phillips@SPEECH.MIT.EDU, sr.wilson@SPEECH.MIT.EDU
Message-ID: <870723101332.2.WILSON@SMOKEY.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTI, CPTFONTCB

In Symbolics 3670 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
microcode 3670-FPA-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
FEP0:>v127-debug.flod(34), Machine serial number 2300,
World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Smokey:

The :DRAW-CUBIC-SPLINE method to TV:GRAPHICS-MIXIN takes three required
arguments.  They are PX, PY, and Z.  PX is an array of the X coordinates
of the anchor points; PY, an array of the Y coordinates.  Z is the
number of line segments (or the number of segments less one---the
documentation is 1so 0clear on these issues) that the eventual call to
:DRAW-CURVE or :DRAW-WIDE-CURVE will draw between each of the anchor
points in the spline.

:DRAW-CUBIC-SPLINE works fine with static windows.  It also works with
dynamic windows provided that the number of segments between each anchor
point is less than or equal to the number of anchor points. 
However, when the number of segments is greater than the number of
anchor points, one gets the following condition.  Because the value of
DW::END seems to be the same as the value of Z in the call to
:DRAW-CUBIC-SPLINE, my guess is that the caller of DW::XS-AND-YS-BOX is
passing Z's value as DW::END.  But from the condition circumstance, I'd
guess that the value of DW::END should be (LENGTH DW::PX).

I'd appreciate some speedy action on this.  I sent a description of this
bug about three weeks previously, although I have no way of verifying
that it was received.  Thanks.



2Trap: The subscript given to the ZL:AR-1 instruction, 5 (from local variable DW::I), on #<ART-Q-5 264430203> was beyond the length, 5.
0While in the function DW::XS-AND-YS-BOX  (FLAVOR:METHOD DW::GRAPHICS-DISPLAYED-PRESENTATION-BOX-EDGES DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION)  (FLAVOR:METHOD MAKE-INSTANCE DW::GRAPHICS-DISPLAYED-PRESENTATION :AFTER)

The condition signalled was DBG:SUBSCRIPT-OUT-OF-BOUNDS-TRAP

2DW::XS-AND-YS-BOX0:  (P.C. = 27)
   Arg 0 (DW::PX): #<ART-Q-5 264430203>
   Arg 1 (DW::PY): #<ART-Q-5 264430350>
   Arg 2 (DW::END): 10
   Local 3: 10
   Local 4 (DW::I): 5
   Local 5 (DW::X): 150
   Local 6 (DW::Y): 75
   Local 7 (DW::LEFT): 50
   Local 8: NIL
   Local 9 (DW::TOP): 25
   Local 10: NIL
   Local 11 (DW::RIGHT): 150
   Local 12: NIL
   Local 13 (DW::BOTTOM): 150
   Local 14: NIL

2(FLAVOR:METHOD DW::GRAPHICS-DISPLAYED-PRESENTATION-BOX-EDGES DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION)0:  (P.C. = 6)
   Arg 0 (SELF): #<CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 404105011>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 250464406>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::GRAPHICS-DISPLAYED-PRESENTATION-BOX-EDGES 6756241>
   Arg 3 (IGNORE): #<DYNAMIC-WINDOW Dynamic Window 1 1723163 deexposed>
   Arg 4 (DW::PX): #<ART-Q-5 264430203>
   Arg 5 (DW::PY): #<ART-Q-5 264430350>
   Arg 6 (DW::Z): 10
   Arg 7 (DW::CURVE-WIDTH): 3
   Arg 8 (DW::ALU): 7
   Arg 9 (DW::C1): :RELAXED
   Arg 10 (DW::C2): :RELAXED
   Arg 11 (DW::P1-PRIME-X): NIL
   Arg 12 (DW::P1-PRIME-Y): NIL
   Arg 13 (DW::PN-PRIME-X): NIL
   Arg 14 (DW::PN-PRIME-Y): NIL

2(FLAVOR:METHOD MAKE-INSTANCE DW::GRAPHICS-DISPLAYED-PRESENTATION :AFTER)0:  (P.C. = 12)
   Arg 0 (SELF): #<CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 404105011>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::GRAPHICS-DISPLAYED-PRESENTATION 250464425>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION MAKE-INSTANCE 6700025>
   Rest arg: (:WINDOW #<DYNAMIC-WINDOW Dynamic Window 1 1723163 deexposed> :ARGUMENTS (#<ART-Q-5 264430203> #<ART-Q-5 264430350> 10 3 7 :RELAXED :RELAXED NIL NIL NIL ...) :SUPERIOR NIL)

2(FLAVOR:COMBINED MAKE-INSTANCE DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION)0:  (P.C. = 27)
   Arg 0 (SELF): #<CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 404105011>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION 250464406>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION MAKE-INSTANCE 6700025>
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (:WINDOW #<DYNAMIC-WINDOW Dynamic Window 1 1723163 deexposed> :ARGUMENTS (#<ART-Q-5 264430203> #<ART-Q-5 264430350> 10 3 7 :RELAXED :RELAXED NIL NIL NIL ...) :SUPERIOR NIL)

2MAKE-INSTANCE0:  (P.C. = 572)  1(from SYS:PATCH;SYSTEM-349-177)
0   Arg 0 (SYS:FLAVOR-NAME): DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION
   Rest arg (FLAVOR::INIT-OPTIONS): (:WINDOW #<DYNAMIC-WINDOW Dynamic Window 1 1723163 deexposed> :ARGUMENTS (#<ART-Q-5 264430203> #<ART-Q-5 264430350> 10 3 7 :RELAXED :RELAXED NIL NIL NIL ...) :SUPERIOR NIL)

2(FLAVOR:METHOD :ADD-GRAPHICS-PRESENTATION DW:DYNAMIC-WINDOW)0:  (P.C. = 15)
   Arg 0 (SELF): #<DYNAMIC-WINDOW Dynamic Window 1 1723163 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174024276>
   Arg 2 (FLAVOR::.GENERIC.): :ADD-GRAPHICS-PRESENTATION
   Arg 3 (SYS:FLAVOR-NAME): DW::CUBIC-SPLINE-GRAPHICS-DISPLAYED-PRESENTATION
   Arg 4 (DW::ARGUMENTS): (#<ART-Q-5 264430203> #<ART-Q-5 264430350> 10 3 7 :RELAXED :RELAXED NIL NIL NIL ...)

2(FLAVOR:WHOPPER :DRAW-CUBIC-SPLINE DW:DYNAMIC-WINDOW)0:  (P.C. = 44)
   Arg 0 (SELF): #<DYNAMIC-WINDOW Dynamic Window 1 1723163 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174024276>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :DRAW-CUBIC-SPLINE DW:DYNAMIC-WINDOW) 0) 146743433>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174024276>
   Arg 4 (FLAVOR::.GENERIC.): :DRAW-CUBIC-SPLINE
   Arg 5 (DW::PX): #<ART-Q-5 264430203>
   Arg 6 (DW::PY): #<ART-Q-5 264430350>
   Arg 7 (DW::Z): 10
   Arg 8 (DW::CURVE-WIDTH): 3
1   --Defaulted args:--
0   Arg 9 (DW::ALU): 7
   Arg 10 (DW::C1): :RELAXED
   Arg 11 (DW::C2): :RELAXED
   Arg 12 (DW::P1-PRIME-X): NIL
   Arg 13 (DW::P1-PRIME-Y): NIL
   Arg 14 (DW::PN-PRIME-X): NIL
   Arg 15 (DW::PN-PRIME-Y): NIL

2(FLAVOR:COMBINED :DRAW-CUBIC-SPLINE DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-WINDOW Dynamic Window 1 1723163 deexposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174024276>
   Arg 2 (FLAVOR::.GENERIC.): :DRAW-CUBIC-SPLINE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<ART-Q-5 264430203> #<ART-Q-5 264430350> 10 3)

2CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (SEND DW :DRAW-CUBIC-SPLINE PX PY 10 3)

2(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

2TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

2(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

2SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

2SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

2SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

2SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)
23-Jul-87 16:08:25-EDT,2273;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 23 Jul 87 16:08-EDT
Received: from NULLSTELLENSATZ.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50003; Thu 23-Jul-87 16:08:22 EDT
Date: Thu, 23 Jul 87 16:08 EDT
From: Peter W. Cudhea <PWC@REAGAN.AI.MIT.EDU>
Subject: Bug in presentation-to-command-translators in 7-1-I-load
To: BUG-LISPM@OZ.AI.MIT.EDU
cc: pwc@REAGAN.AI.MIT.EDU
Message-ID: <870723160816.1.PWC@NULLSTELLENSATZ.AI.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45,
Mobile Robot Controller and Simulator 7.0, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5233,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Hilbert's Nullstellensatz:

Yesterday I was playing with define-presentation-to-command-translator
on AI-7-1-H-plus-load, and it worked fine.  Today, on
AI-7-1-I-Macsyma.load, there is some bug whereby mouse handlers that are
applicable are not found.  So something was introduced very recently
that causes this not to work!

I found the problem in my own code, but it also shows up in a standard
example program, which saves me from having to write a test program.
You can duplicate the bug by compiling and loading the file
"sys:examples;ui-application-example.lisp" and typing select-*.  Then
execute ":Show Employees" to get a list of employees.  Now, there are
supposed to be several handlers that get activated when you put the
mouse over "Fred Flinstone" or "Barney Rubble", but they aren't being
found.  However, if you enter the presentation inspector and type ":show
handler context applicability (for handler) change-employee-status",
then it DOES find that the handler is applicable, and prints out a nice
little message asking you to report this bug.  (Hence this message!)

Peter
23-Jul-87 16:48:12-EDT,2916;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 23 Jul 87 16:48-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50017; 23 Jul 87 16:48:13 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 197877; 23 Jul 87 16:46:37 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 64962; Thu 23-Jul-87 13:44:40 PDT
Date: Thu, 23 Jul 87 13:44 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: %Allocate called while INHIBIT-CONSING-FLAG was set
To: cheshire%REAGAN.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM%REAGAN.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870721151906.2.CHESHIRE@JONES.AI.MIT.EDU>
Message-ID: <870723134438.7.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (:FIX :ITALIC :NORMAL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

    Date: Tue, 21 Jul 87 15:19 EDT
    From: M. A. Vogt <cheshire@REAGAN.AI.MIT.EDU>

    In Symbolics 3640 Genera 7.1, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2,
    Experimental 1Relatus Natural Language System0 168.14,
    Experimental Reference 6.7, microcode 3640-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(44), FEP0:>v127-debug.flod(31),
    Machine serial number 5234, on Lisp Machine Brian Jones:

    2:10 pm:
      While the Dynamic Garbage Collecter was going, with the above world loaded,
    I received an error message in the cold-load-stream, something like this:

    %Allocate called while INHIBIT-CONSING-FLAG was set

    The inhibit-scheduling-flag is set. You are probably in the middle of a
    process that did not expect to be stopped....

    After I looked at the backtrace and attempted to restart process (which was
    zmacs), I was asked if I wanted to Restart the Scheduler. After I typed Y, the
    machine went down a debugger level and informed me that my environment was
    seriously damaged, and only if I was lucky, I might be able to save myself by
    typing (gc-off) and aborting. However, I wasn't lucky.  I managed, with some
    difficulty, to save the files I had been working on, and then rebooted.

					    Mary Vogt

Sounds very much like a hardware problem, possibly with the MC board.
Production has seen a number of failures like this while running GC
tests.  Please try to send us a backtrace if it happens again (though
they usually involve only routine paging activity).  Can you get
hardware service for your machine?  I would start with the processor
boards.  Was the machine actively doing anything besides GC when
the problem occurred?

-trev


24-Jul-87 10:53:37-EDT,1240;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 10:53-EDT
Received: from WINNIE-THE-POOH.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 6801; Fri 24-Jul-87 10:50:12 EDT
Date: Fri, 24 Jul 87 10:50 EDT
From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>
Subject: Zmacs typein style
To: customer-reports@YUKON.SCRC.SYMBOLICS.COM
cc: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870724105001.1.QUX@WINNIE-THE-POOH.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, 7-1-Patches 1.19,
Zoo 8.0, Speech Printers 2.1, SPIRE 18.3, microcode 3650-MIC 396,
FEP 206, Fep0:>g206-lisp.flod(14), Fep0:>g206-loaders.flod(14),
Fep0:>g206-info.flod(14), Fep0:>g206-debug.flod(4),
Machine serial number 30421,
Improve Spell Menu (from GOLDY:>dynamic>user>qux>g7-1>patches>fix-spell-menu.lisp.1),
World load FEP0:>Zoo-7-1-H-Spire.load.1, on Lisp Machine Winnie ther Pooh:

It would be nice if the typein style in Zmacs were sticky per-buffer.
For instance, if I use c-m-J to change my typein style in buffer X to
NIL.ITALIC.NIL, then select buffer Y and immediately reselect buffer X,
my typein style in buffer X has been reset to NIL.NIL.NIL.  This is
exasperating and seems counter-intuitive.
24-Jul-87 11:04:37-EDT,2200;000000000000
Received: from GOLDILOCKS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 11:04-EDT
Received: from WINNIE-THE-POOH.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 6802; Fri 24-Jul-87 10:58:41 EDT
Date: Fri, 24 Jul 87 10:58 EDT
From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>
Subject: FS:FILE-PROPERTIES
To: customer-reports@YUKON.SCRC.SYMBOLICS.COM
cc: bug-lispm@OZ.AI.MIT.EDU
Message-ID: <870724105836.2.QUX@WINNIE-THE-POOH.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (SAGE:SANS-SERIF-BODY SAGE:LISP :NORMAL) "HL12B")
                         (2 0 (NIL 0) (SAGE:SANS-SERIF-BODY :ROMAN :NORMAL) "HL12")
                         (3 0 (NIL 0) (SAGE:SANS-SERIF-BODY :ITALIC :NORMAL) "HL12I")
                         (4 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, HL12B, HL12, HL12I, CPTFONTCB

In Symbolics 3650 Documentation in Genera 7.1, Hacks 3.0, IP-TCP 52.16,
7-1-Patches 1.19, Zoo 8.0, Speech Printers 2.1, SPIRE 18.3,
microcode 3650-MIC 396, FEP 206, Fep0:>g206-lisp.flod(14),
Fep0:>g206-loaders.flod(14), Fep0:>g206-info.flod(14),
Fep0:>g206-debug.flod(4), Machine serial number 30421,
Improve Spell Menu (from GOLDY:>dynamic>user>qux>g7-1>patches>fix-spell-menu.lisp.1),
World load FEP0:>Zoo-7-1-H-Spire.load.1, on Lisp Machine Winnie ther Pooh:

The on-line documentation for FS:FILE-PROPERTIES reads:

1fs:file-properties2 3pathname 2&optional3 (error-p 1t3)2 0          3Function

0       2Returns a disembodied property list for a single file (compare this to
0       1fs:directory-list2). The car of the returned list is the truename of
0       2the file and the cdr is an alternating list of indicators and values. If
0       3error-p2 is 1t2 (the default) a Lisp error is signalled. If 3error-p2 is 1nil2 and
0       2an error occurs, the error object is returned.

0I did 4(fs:file-properties "sys:site;sys0.4translations"0 4t)0 and instead of
signalling an error, 4fs:file-properties0 returned two lists.  I didn't
actually believe the documentation, but the last two sentences should
probably be swapped.

The documentation for 4fs:change-file-properties0 has the same bug.

24-Jul-87 11:05:01-EDT,2962;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 11:04-EDT
Received: from GALEN.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 65114; Fri 24-Jul-87 10:19:48 EDT
Date: Fri, 24 Jul 87 10:19 EDT
From: Bill Long <WJL@ZERMATT.LCS.MIT.EDU>
Subject: general purpose bug message
To: BUG-LISPM@ZERMATT.LCS.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870724101944.2.WJL@GALEN.LCS.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Clisp 1.0,
Experimental New Implementation of KL-One 16.0,
Experimental Heart Failure System 8.6,
Experimental Bibliographic Citation System for BibTeX 1.2,
microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
FEP0:>g206-info.flod(14), Machine serial number 30104,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Claudius Galen:

Dear Folks,
	Since I hear through the grapevine that you are figuring out
what to put in 7.2, I thought I would send in my candidates for favorite
bugs to be fixed, so here goes:

1) If you make a buffer stream, it works fine until you delete a
significant chunk out of the buffer.  Then the stream sends its bits to
never-never land.  It would really be nice if the buffer stream always
put its output at the cursor (and move the cursor to the end of the
output).

2) I often debug by suspending from Zmacs and doing mouse-left on
appropriate chunks of code to execute them.  The problem is that if I
make a change to the code and do it again, it still executes the old
code (memoization update problem, I suppose).  ps. As long as you have
gone this far, it would be nice if that facility understood defun &aux
clauses, with foo = clauses in loops, and let clauses.

3) Format to a file only does the minimum 2 spaces when ~T directives
are given even when the ~% is in the string, so it should know where it
is on the line.  (Format nil ...) does a better job, so I often end up
with (princ (format nil ...) file) statements.

4) I can't figure out how to control output of Lisp lists to buffer
streams.  Can I turn off pretty-printing? (It usually blows it badly)
Can I specify what the line length should be? (If I'm printing it, I
have more room on the paper.)

5) The Zmacs Edit System command should not try to read fonts.  Now if
you say no to the font, it punts on the rest of the system.

6) I presume you are well aware of the problems with the presentation
objects in a Zmacs suspend window.  Lately, it seems to like to wrap
bricks around everything printed at once, even though there are many
separate objects.

So much for now.. thanks.
Bill Long
24-Jul-87 11:27:13-EDT,1828;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 11:25-EDT
Received: from GOLDILOCKS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 65139; Fri 24-Jul-87 11:17:57 EDT
Received: from WINNIE-THE-POOH.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 6816; Fri 24-Jul-87 11:16:23 EDT
Date: Fri, 24 Jul 87 11:16 EDT
From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>
Subject: general purpose bug message
To: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM@ZERMATT.LCS.MIT.EDU, Bill Long <WJL@ZERMATT.LCS.MIT.EDU>
In-Reply-To: <870724101944.2.WJL@GALEN.LCS.MIT.EDU>
Message-ID: <870724111616.5.QUX@WINNIE-THE-POOH.MIT.EDU>
Zippy-Says: I want to read my new poem about pork brains and outer space...

    Date: Fri, 24 Jul 87 10:19 EDT
    From: Bill Long <WJL@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Clisp 1.0,
    Experimental New Implementation of KL-One 16.0,
    Experimental Heart Failure System 8.6,
    Experimental Bibliographic Citation System for BibTeX 1.2,
    microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
    FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
    FEP0:>g206-info.flod(14), Machine serial number 30104,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Claudius Galen:

    5) The Zmacs Edit System command should not try to read fonts.  Now if
    you say no to the font, it punts on the rest of the system.

Find String :System does this too, except that you can simply skip the
offending file.
24-Jul-87 11:29:02-EDT,1738;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 11:28-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50098; 24 Jul 87 11:26:43 EDT
Received: from EVENING-GROSBEAK.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 148320; Fri 24-Jul-87 11:14:18 EDT
Date: Fri, 24 Jul 87 11:14 EDT
From: Scott McKay <SWM@SAPSUCKER.SCRC.Symbolics.COM>
Subject: Zmacs typein style
To: Sr.Kaufman@SPEECH.MIT.EDU, customer-reports@YUKON.SCRC.Symbolics.COM
cc: BUG-LISPM@OZ.AI.MIT.EDU
In-Reply-To: <870724105001.1.QUX@WINNIE-THE-POOH.MIT.EDU>
Message-ID: <870724111409.3.SWM@EVENING-GROSBEAK.SCRC.Symbolics.COM>

    Date: Fri, 24 Jul 87 10:50 EDT
    From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, 7-1-Patches 1.19,
    Zoo 8.0, Speech Printers 2.1, SPIRE 18.3, microcode 3650-MIC 396,
    FEP 206, Fep0:>g206-lisp.flod(14), Fep0:>g206-loaders.flod(14),
    Fep0:>g206-info.flod(14), Fep0:>g206-debug.flod(4),
    Machine serial number 30421,
    Improve Spell Menu (from GOLDY:>dynamic>user>qux>g7-1>patches>fix-spell-menu.lisp.1),
    World load FEP0:>Zoo-7-1-H-Spire.load.1, on Lisp Machine Winnie ther Pooh:

    It would be nice if the typein style in Zmacs were sticky per-buffer.
    For instance, if I use c-m-J to change my typein style in buffer X to
    NIL.ITALIC.NIL, then select buffer Y and immediately reselect buffer X,
    my typein style in buffer X has been reset to NIL.NIL.NIL.  This is
    exasperating and seems counter-intuitive.

This works in 7.2.  I thought it got fixed in 7.1, but I guess I am wrong.

24-Jul-87 22:57:56-EDT,1961;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 22:57-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50118; 24 Jul 87 12:39:13 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 198474; 24 Jul 87 12:14:23 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 65221; Fri 24-Jul-87 09:11:51 PDT
Date: Fri, 24 Jul 87 09:11 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: Zmacs typein style
To: Sr.Kaufman%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870724105001.1.QUX@WINNIE-THE-POOH.MIT.EDU>
Message-ID: <870724091149.5.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Fri, 24 Jul 87 10:50 EDT
    From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, 7-1-Patches 1.19,
    Zoo 8.0, Speech Printers 2.1, SPIRE 18.3, microcode 3650-MIC 396,
    FEP 206, Fep0:>g206-lisp.flod(14), Fep0:>g206-loaders.flod(14),
    Fep0:>g206-info.flod(14), Fep0:>g206-debug.flod(4),
    Machine serial number 30421,
    Improve Spell Menu (from GOLDY:>dynamic>user>qux>g7-1>patches>fix-spell-menu.lisp.1),
    World load FEP0:>Zoo-7-1-H-Spire.load.1, on Lisp Machine Winnie ther Pooh:

    It would be nice if the typein style in Zmacs were sticky per-buffer.
    For instance, if I use c-m-J to change my typein style in buffer X to
    NIL.ITALIC.NIL, then select buffer Y and immediately reselect buffer X,
    my typein style in buffer X has been reset to NIL.NIL.NIL.  This is
    exasperating and seems counter-intuitive.

It'll be there in the next release...it's been annoying others as well.


24-Jul-87 22:58:07-EDT,3014;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 22:58-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50119; 24 Jul 87 12:40:49 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 198491; 24 Jul 87 12:26:20 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 65235; Fri 24-Jul-87 09:23:33 PDT
Date: Fri, 24 Jul 87 09:23 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: FS:FILE-PROPERTIES
To: Sr.Kaufman%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    bug-lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870724105836.2.QUX@WINNIE-THE-POOH.MIT.EDU>
Message-ID: <870724092331.7.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (SAGE:SANS-SERIF-BODY SAGE:LISP :NORMAL) "HL12B")
                         (2 0 (NIL 0) (SAGE:SANS-SERIF-BODY :ROMAN :NORMAL) "HL12")
                         (3 0 (NIL 0) (SAGE:SANS-SERIF-BODY :ITALIC :NORMAL) "HL12I")
                         (4 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, HL12B, HL12, HL12I, CPTFONTCB

    Date: Fri, 24 Jul 87 10:58 EDT
    From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>

    In Symbolics 3650 Documentation in Genera 7.1, Hacks 3.0, IP-TCP 52.16,
    7-1-Patches 1.19, Zoo 8.0, Speech Printers 2.1, SPIRE 18.3,
    microcode 3650-MIC 396, FEP 206, Fep0:>g206-lisp.flod(14),
    Fep0:>g206-loaders.flod(14), Fep0:>g206-info.flod(14),
    Fep0:>g206-debug.flod(4), Machine serial number 30421,
    Improve Spell Menu (from GOLDY:>dynamic>user>qux>g7-1>patches>fix-spell-menu.lisp.1),
    World load FEP0:>Zoo-7-1-H-Spire.load.1, on Lisp Machine Winnie ther Pooh:

    The on-line documentation for FS:FILE-PROPERTIES reads:

    1fs:file-properties2 3pathname 2&optional3 (error-p 1t3)2 0          3Function

0	   2Returns a disembodied property list for a single file (compare this to
0	   1fs:directory-list2). The car of the returned list is the truename of
0	   2the file and the cdr is an alternating list of indicators and values. If
0	   3error-p2 is 1t2 (the default) a Lisp error is signalled. If 3error-p2 is 1nil2 and
0	   2an error occurs, the error object is returned.

0    I did 4(fs:file-properties "sys:site;sys0.4translations"0 4t)0 and instead of
    signalling an error, 4fs:file-properties0 returned two lists.  I didn't
    actually believe the documentation, but the last two sentences should
    probably be swapped.

    The documentation for 4fs:change-file-properties0 has the same bug.

I've wondered about this, and usually wound up leaving it at the
default.  It's caused lots of questions...I'll ask the Doc folks to
clear it up once and for all.

-trev


24-Jul-87 22:58:52-EDT,2635;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 22:58-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50127; 24 Jul 87 13:51:24 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 198577; 24 Jul 87 13:50:02 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 65287; Fri 24-Jul-87 10:48:08 PDT
Date: Fri, 24 Jul 87 10:48 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: dw:get-program-pane broken
To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870723100545.7.TIERNEY@GRIZZLY.MIT.EDU>
Message-ID: <870724104807.0.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Thu, 23 Jul 87 10:05 EDT
    From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

    In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
    7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
    Experimental SPIRE Extensions 7.3, microcode 3600-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Grizzly:

    dw:accepting-values sets dw:*program-frame* to something that looks like this
    1#<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE0 1Accept0 1Values 1 1500205 exposed>
0    Unfortunately dw:get-program-pane uses dw:*program-frame* to find panes.
    Seems like either this should be done right, or we users should be given
    the option to specify a frame when calling dw:get-program-pane.

This ought to be straightforward, but I have to convince the writers 
that enough people will have use for their own frame.  What kind of
applications should I say this is needed for?  (They 2will0 ask me.)

    1Error: There is no CL-SPI::OTHER-ATT-DISPLAY-PANE pane of #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed>
0    While in the function DW:GET-PROGRAM-PANE  (FLAVOR:METHOD (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN :AFTER)  (FLAVOR:COMBINED (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN)

    The condition signalled was FERROR

[...]


24-Jul-87 22:59:04-EDT,6159;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 22:58-EDT
Received: from MARLEY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50128; Fri 24-Jul-87 14:06:01 EDT
Date: Fri, 24 Jul 87 14:05 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Network Futures
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870724140551.1.ALAN@MARLEY.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5229,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10,
Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Bob Marley:

I haven't changed this code since Release 6, and I'm certain that it worked
then.  (It works for Chaosnet just fine, but today the local Chaosnet route
to AI is down so I have been talking to AI though the Internet.)

1Error: :FUTURE-P is not a valid keyword
0While in the function TCP:OPEN-TCP-STREAM  NETI:|MEDIUM-TCP-((NETWORK INTERNET))-G5419|  NETI:GET-CONNECTION-FOR-SERVICE-TO-HOST

The condition signalled was DBG:PROCEEDABLE-FERROR

1TCP:OPEN-TCP-STREAM0:  (P.C. = 6)
   Arg 0 (TCP::HOST): #<ITS-HOST AI 1102367>
   Arg 1 (TCP::PORT): 45
   Arg 2 (TCP::LOCAL-PORT): NIL
   Rest arg: (:FUTURE-P T :CHARACTERS NIL)
   Local 4: NIL
   Local 5: NIL
   Local 6: NIL

1NETI:|MEDIUM-TCP-((NETWORK INTERNET))-G5419|0:  (P.C. = 21)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH TIME (TIME-MSB) -- AI on INTERNET 27177205>
   Rest arg (NETI:CONNECTION-ARGS): (:FUTURE-P T :CHARACTERS NIL)

1NETI:GET-CONNECTION-FOR-SERVICE-TO-HOST0:  (P.C. = 27)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH TIME (TIME-MSB) -- AI on INTERNET 27177205>
   Arg 1 (NET:NETWORK): #<INTERNET-NETWORK INTERNET 1101307>
   Arg 2 (NETI:IMPLEMENTATION): #S(NETI:MEDIUM-IMPLEMENTATION :MEDIUM #<MEDIUM TCP 160031271> :PATH ((:NETWORK :INTERNET)) :FUNCTION NETI:|MEDIUM-TCP-((NETWORK INTERNET))-G5419| :CONNECTION-ARGS NIL)
   Arg 3 (NETI:CONNECTION-ARGS): (:CHARACTERS NIL)

1NETI:GET-CONNECTION-FOR-SERVICE-ON-MEDIUM0:  (P.C. = 244)
   Arg 0 (NETI:MEDIUM): #<MEDIUM-DESCRIPTION on INTERNET 27177154>
   Arg 1 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH TIME (TIME-MSB) -- AI on INTERNET 27177205>
   Arg 2 (NETI:CONNECTION-ARGS): (:CHARACTERS NIL)
   Special DBG:*RESTART-HANDLERS*: (#<DTP-CLOSURE 600505> #<DTP-CLOSURE 600413> #<DTP-CLOSURE 600176>)

1NET:GET-CONNECTION-FOR-SERVICE0:  (P.C. = 7)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH TIME (TIME-MSB) -- AI on INTERNET 27177205>
   Rest arg (NETI:CONNECTION-ARGS): (:CHARACTERS NIL)

1NETI:INVOKE-SERVICE-TIME-WITH-TIME-MSB0:  (P.C. = 7)
   Arg 0 (NETI:SERVICE): #<SERVICE-ACCESS-PATH TIME (TIME-MSB) -- AI on INTERNET 27177205>
2   --Defaulted args:--
0   Arg 1 (NETI:MULTIPLE): NIL

1NET:INVOKE-SERVICE-ACCESS-PATH0:  (P.C. = 62)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH TIME (TIME-MSB) -- AI on INTERNET 27177205>
   Arg 1 (NETI:SERVICE-ARGS): NIL
   Special DBG:*BOUND-HANDLERS*: (#<LEXICAL-CLOSURE (:INTERNAL NET:INVOKE-SERVICE-ACCESS-PATH 0) 600407>)

1NET:START-SERVICE-ACCESS-PATH-FUTURE0:  (P.C. = 15)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH TIME (TIME-MSB) -- AI on INTERNET 27177205>
   Rest arg (NETI:SERVICE-ARGS): NIL

1ALAN:BACKGROUND-CHECK-HOSTS0:  (P.C. = 62)  2(from B:>Alan>Hacks>Up)
0   Arg 0 (ALAN:NOTIFY-INITIALLY-P): T
   Rest arg (ALAN:HOSTS): (AI)

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (ALAN:BACKGROUND-CHECK-HOSTS T (QUOTE AI))

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)

   Special DBG:.RESTART.DESCRIPTION.: "unbound"
24-Jul-87 23:01:45-EDT,8299;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 24 Jul 87 23:01-EDT
Received: from THE-EGGHEAD.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50172; Fri 24-Jul-87 20:07:37 EDT
Date: Fri, 24 Jul 87 20:07 EDT
From:  <SAUND@REAGAN.AI.MIT.EDU>
Subject: fortran data statement for variable initialization
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <"870724200732.1.SAUND@REAGAN"@THE-EGGHEAD.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Fortran 6.27, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30082,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Lisp Machine The Egghead:



1Trap: The first argument given to the SYS:+-INTERNAL instruction, Undefined, was not a number.
0While in the function FTN-USER:EHOUSS  FTN-USER:EIGRS  EIGENS_BY_F_AUX_LISP

The condition signalled was DBG:WRONG-TYPE-ARGUMENT-TRAP

1FTN-USER:EHOUSS0:  (P.C. = 125)  2(from B:>saund>fortran>ehouss.f)
0   Arg 0 (FTN-USER:A): 0
   Arg 1 (FTN-USER:N): 4
   Arg 2 (FTN-USER:D): 6
   Arg 3 (FTN-USER:E): 13
   Arg 4 (FTN-USER:E2): 13
   Local 5 (F77:LOCAL-NUMBER-BASE): 89
   Local 6 (CTS:V5): 2
   Local 7 (CTS:V6): 3
   Local 8 (CTS:V7): 1
   Local 9 (CTS:V8): 2
   Local 10 (CTS:V9): 2
   Local 11 (CTS:V10): 1
   Local 12 (CTS:V11): 1
   Local 13 (CTS:V12): Undefined
   Local 14 (CTS:V13): 1
   Local 15 (CTS:V14): Undefined
   Local 16 (CTS:V15): Undefined
   Local 17 (CTS:V16): 2
   Local 18 (CTS:V17): Undefined
   Local 19 (CTS:V18): Undefined
   Local 20 (CTS:V19): Undefined
   Local 21 (CTS:V20): Undefined
   Local 22 (CTS:V21): Undefined
   Local 23 (CTS:V22): 1

1FTN-USER:EIGRS0:  (P.C. = 310)  2(from B:>saund>fortran>eigrs.f)
0   Arg 0 (FTN-USER:A): 0
   Arg 1 (FTN-USER:N): 4
   Arg 2 (FTN-USER:JOBN): 5
   Arg 3 (FTN-USER:D): 6
   Arg 4 (FTN-USER:Z): 8
   Arg 5 (FTN-USER:IZ): 12
   Arg 6 (FTN-USER:WK): 13
   Arg 7 (FTN-USER:IER): 17

1EIGENS_BY_F_AUX_LISP0:  (P.C. = 366)  2(from B:>saund>fortran>eigens-by-fortran)

1FTN-USER:EIGENS_BY_FORTRAN_MAIN0:  (P.C. = 3)  2(from B:>saund>fortran>eigens-by-fortran-aux.f)

1F77:CALL-FORTRAN-MAIN-PROGRAM0:  (P.C. = 337)  2(from SYS:FORTRAN;FORTRAN-RUNTIME-7-7)
0   Arg 0 (F77:MAIN-PROGRAM-NAME): FTN-USER:EIGENS_BY_FORTRAN_MAIN
   Arg 1 (F77:OPTIONS): (:EXTRA-NUMBER-SPACE 1000 :TRAP-UNDERFLOW NIL)
   Special FTN-USER:EHOUSS-BASES: (89 1024)

1EIGENS-BY-FORTRAN0:  (P.C. = 6)  2(from B:>saund>fortran>eigens-by-fortran)
0   Arg 0 (MATRIX): #<ART-Q-2-2 27106063>

1CREATE-LTDR-FOR-DATA0:  (P.C. = 25)  2(from B:>saund>dr>linear-tabular-dr)
0   Arg 0 (DATA-ARRAY-LIST): (#<ART-Q-400 244125441> #<ART-Q-400 244126262>)
2   --Defaulted args:--
0   Arg 1 (NUMPOINTS): 400

1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
   Arg 0 (CP::FORM): (CREATE-LTDR-FOR-DATA *TEST-POINT-ARRAY-LIST*)

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 600160>
   Rest arg: NIL

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :BLAST
   Arg 1 (TV:STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 600123>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS Dynamic Lisp Listener 1 14711077>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:LISP-COMMAND-LOOP-INTERNAL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 600066>
   Rest arg: NIL

1SI:LISP-COMMAND-LOOP-INTERNAL0:  (P.C. = 27)
   Arg 0 (SI:NAME): "Lisp Top Level"
   Arg 1 (SI:ABORT-FUNCTION): NIL
   Arg 2 (SI:READ-FUNCTION): NIL
   Arg 3 (SI:EVAL-FUNCTION): NIL
   Arg 4 (SI:PRINT-FUNCTION): NIL
   Arg 5 (SI:INITIAL-FORM): NIL
   Arg 6 (SI:STANDARD-VALUE-BINDINGS): (NIL)

1SI:LISP-COMMAND-LOOP0:  (P.C. = 120)
   Arg 0: #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>
   Rest arg: (:NAME "Lisp Top Level" :STANDARD-VALUE-BINDINGS (NIL))

1SI:LISP-TOP-LEVEL10:  (P.C. = 27)
   Arg 0 (SI:STREAM): #<DYNAMIC-LISP-LISTENER Dynamic Lisp Listener 1 1517331 exposed>

1SI:LISP-TOP-LEVEL-WARM0:  (P.C. = 10)


********************************************************************************

Here is the problem:

I am using IMSL Fortran linear algebra routines.
My program will run without error once, after I load Fortran into my 
machine and load and compile all the files comprising my program.
The second time I attempt to run the exact same program on the exact
same data, it bombs.

The immediate problem appears to be that fortran local variables that 
should be initialized by the DATA statement are not getting initialized.

To wit,
You may notice at the top of this bug report:

[
1FTN-USER:EHOUSS0:  (P.C. = 125)  2(from B:>saund>fortran>ehouss.f)
0   Arg 0 (FTN-USER:A): 0
   Arg 1 (FTN-USER:N): 4
   Arg 2 (FTN-USER:D): 6
   Arg 3 (FTN-USER:E): 13
         .
         .
         .
        etc.      ]

that many of the variables are Undefined.
Among these are the variables corresponding to ZERO and ONE
that should have been initialized by the following DATA statement in the
source code:


[ ...
      SUBROUTINE EHOUSS (A,N,D,E,E2)
C
      DIMENSION          A(1),D(N),E(N),E2(N)
      REAL               A,D,E,E2,ZERO,H,SCALE,ONE,SCALE1,F,G,HH
      DATA               ZERO/0.0/,ONE/1.0/                                 <
C                                  FIRST EXECUTABLE STATEMENT
      NP1 = N+1
        .
        .
        . 
             ]



I tried recompiling the buffer containing this source fortran code, 
 and the program still does not work a second time.
I rebooted the machine and the problem still occurred.
Poking around the fortran debugger suggests that the problem is not endemic
 to this function, but rather that none of the DATA statements are being accepted 
 for any of the fortran subroutines.
When I set the variable, f77:*ftn-init-to-zero* to T, this particular error does not
 occur but the program gives incorrect answers.  This is consistent with the
hypothesis that the DATA statement is not getting executed or something like that.

I have to do
 :load system fortran 
to get fortran onto my machine (the world load doesn't have it).

If you are interested, the error is produced by doing the following:

   1. Load  "B:>saund>eigens-by-fortran-init"    (B is Reagan on the MIT Chaosnet)
        this loads a bunch of fortran files into the editor
   2. Compile the fortran files in the editor
   3. Load and compile the file, "B:>saund>dr>linear-tabular-dr.lisp"
   4. Run the function, (generate-test-points 10)
   5. Run the function, (create-ltdr-for-data *test-point-array-list*)
        answer the three questions the program asks as follows: 
           1.   1
           2.   ltdr-1
           3.   "no comment"
   6. Run the function (create-ltdr-for-data *test-point-array-list*) again,
      and it will bomb.  (run generate-test-points again first, if you want to)


The program did not have this error when I was using Release 6.
-Eric Saund




25-Jul-87 03:48:18-EDT,1929;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jul 87 03:48-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 65153; 24 Jul 87 12:17:16 EDT
Received: from EVENING-GROSBEAK.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 148343; Fri 24-Jul-87 11:51:40 EDT
Date: Fri, 24 Jul 87 11:51 EDT
From: Scott McKay <SWM@SAPSUCKER.SCRC.Symbolics.COM>
Subject: general purpose bug message
To: Sr.Kaufman@SPEECH.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM@ZERMATT.LCS.MIT.EDU, WJL@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870724111616.5.QUX@WINNIE-THE-POOH.MIT.EDU>
Message-ID: <870724115120.5.SWM@EVENING-GROSBEAK.SCRC.Symbolics.COM>

    Date: Fri, 24 Jul 87 11:16 EDT
    From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>

	Date: Fri, 24 Jul 87 10:19 EDT
	From: Bill Long <WJL@ZERMATT.LCS.MIT.EDU>

	In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
	7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Clisp 1.0,
	Experimental New Implementation of KL-One 16.0,
	Experimental Heart Failure System 8.6,
	Experimental Bibliographic Citation System for BibTeX 1.2,
	microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
	FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
	FEP0:>g206-info.flod(14), Machine serial number 30104,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Claudius Galen:

	5) The Zmacs Edit System command should not try to read fonts.  Now if
	you say no to the font, it punts on the rest of the system.

    Find String :System does this too, except that you can simply skip the
    offending file.

These will work in 7.2

25-Jul-87 03:48:36-EDT,4318;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jul 87 03:48-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 65157; 24 Jul 87 12:38:34 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 198470; 24 Jul 87 12:10:35 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 65217; Fri 24-Jul-87 09:08:40 PDT
Date: Fri, 24 Jul 87 09:08 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: general purpose bug message
To: WJL%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870724101944.2.WJL@GALEN.LCS.MIT.EDU>
Message-ID: <870724090839.3.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Fri, 24 Jul 87 10:19 EDT
    From: Bill Long <WJL@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Clisp 1.0,
    Experimental New Implementation of KL-One 16.0,
    Experimental Heart Failure System 8.6,
    Experimental Bibliographic Citation System for BibTeX 1.2,
    microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
    FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
    FEP0:>g206-info.flod(14), Machine serial number 30104,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Claudius Galen:

    Dear Folks,
	    Since I hear through the grapevine that you are figuring out
    what to put in 7.2, I thought I would send in my candidates for favorite
    bugs to be fixed, so here goes:

    1) If you make a buffer stream, it works fine until you delete a
    significant chunk out of the buffer.  Then the stream sends its bits to
    never-never land.  It would really be nice if the buffer stream always
    put its output at the cursor (and move the cursor to the end of the
    output).

That shouldn't be too hard.  How much is a significant chunk?

    2) I often debug by suspending from Zmacs and doing mouse-left on
    appropriate chunks of code to execute them.  The problem is that if I
    make a change to the code and do it again, it still executes the old
    code (memoization update problem, I suppose).  ps. As long as you have
    gone this far, it would be nice if that facility understood defun &aux
    clauses, with foo = clauses in loops, and let clauses.

This is interpreted code?  Had you compiled it before?
(I just want to make sure I have all this straight before
turning it in to the bug lists for ruthless dissection).

    3) Format to a file only does the minimum 2 spaces when ~T directives
    are given even when the ~% is in the string, so it should know where it
    is on the line.  (Format nil ...) does a better job, so I often end up
    with (princ (format nil ...) file) statements.

I'll find out whether files support the :Read-Cursorpos message.

    4) I can't figure out how to control output of Lisp lists to buffer
    streams.  Can I turn off pretty-printing? (It usually blows it badly)
    Can I specify what the line length should be? (If I'm printing it, I
    have more room on the paper.)

    5) The Zmacs Edit System command should not try to read fonts.  Now if
    you say no to the font, it punts on the rest of the system.

I think that this one and the Find String problem with fonts are already
being worked on (the changeover to Character objects still has some loose-ends).

    6) I presume you are well aware of the problems with the presentation
    objects in a Zmacs suspend window.  Lately, it seems to like to wrap
    bricks around everything printed at once, even though there are many
    separate objects.

    So much for now.. thanks.
    Bill Long

Rational reports like this are always a pleasure to receive.
Write again if you think of anything else you'd like to see.


25-Jul-87 03:48:52-EDT,2334;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jul 87 03:48-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 65158; 24 Jul 87 12:39:16 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 198448; 24 Jul 87 11:56:07 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 65206; Fri 24-Jul-87 08:53:48 PDT
Date: Fri, 24 Jul 87 08:53 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: general purpose bug message
To: Sr.Kaufman%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    WJL%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870724111616.5.QUX@WINNIE-THE-POOH.MIT.EDU>
Message-ID: <870724085344.2.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Fri, 24 Jul 87 11:16 EDT
    From: David H. Kaufman <Sr.Kaufman@SPEECH.MIT.EDU>

	Date: Fri, 24 Jul 87 10:19 EDT
	From: Bill Long <WJL@ZERMATT.LCS.MIT.EDU>

	In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
	7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Clisp 1.0,
	Experimental New Implementation of KL-One 16.0,
	Experimental Heart Failure System 8.6,
	Experimental Bibliographic Citation System for BibTeX 1.2,
	microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
	FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
	FEP0:>g206-info.flod(14), Machine serial number 30104,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Claudius Galen:

	5) The Zmacs Edit System command should not try to read fonts.  Now if
	you say no to the font, it punts on the rest of the system.

    Find String :System does this too, except that you can simply skip the
    offending file.

Thanks for the addition to Long's pointers.  I hadn't tried it until now
(usually use the default font).  I'll see whether the interfacr people
know about this.

-trev


25-Jul-87 03:49:10-EDT,3399;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jul 87 03:48-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 65180; 24 Jul 87 14:11:14 EDT
Received: from ZERMATT.LCS.MIT.EDU ([18.30.0.206]) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 198602; 24 Jul 87 14:12:05 EDT
Received: from GALEN.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 65179; Fri 24-Jul-87 14:10:35 EDT
Date: Fri, 24 Jul 87 14:10 EDT
From: Bill Long <WJL@ZERMATT.LCS.MIT.EDU>
Subject: general purpose bug message
To: trev@VERMITHRAX.SCH.Symbolics.COM
cc: WJL%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870724090839.3.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870724141013.3.WJL@GALEN.LCS.MIT.EDU>

    Date: Fri, 24 Jul 87 09:08 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
	Date: Fri, 24 Jul 87 10:19 EDT
	From: Bill Long <WJL@ZERMATT.LCS.MIT.EDU>

	In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
	7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,

	1) If you make a buffer stream, it works fine until you delete a
	significant chunk out of the buffer.  Then the stream sends its bits to
	never-never land.  It would really be nice if the buffer stream always
	put its output at the cursor (and move the cursor to the end of the
	output).

    That shouldn't be too hard.  How much is a significant chunk?

I printed 711 lines of stuff in a buffer, went in and deleted the last
362 lines, added a line with asterisks at the end, went back and did the
same thing that generated the first 711 lines and it all disappeared --
the buffer was still 350 lines long.

	2) I often debug by suspending from Zmacs and doing mouse-left on
	appropriate chunks of code to execute them.  The problem is that if I
	make a change to the code and do it again, it still executes the old
	code (memoization update problem, I suppose).  ps. As long as you have
	gone this far, it would be nice if that facility understood defun &aux
	clauses, with foo = clauses in loops, and let clauses.

    This is interpreted code?  Had you compiled it before?
    (I just want to make sure I have all this straight before
    turning it in to the bug lists for ruthless dissection).

If I have the following (the file is compiled and loaded, but I don't
that matters) in my Zmacs, do suspend and mouse left on lines 2,3,4, it
executes it, resume, change (find-prob-path node) to (find-prob-path name), 
suspend, mouse left, it's still (find-prob-path node).  If I do the same
with line 1, the changes happen as desired.  Therefore, I assume it has
something to do with the scope of cache updating.
(defun prob-paths ()
  "find all paths from primaries to other nodes, then sort them by primary cause"
1  (loop for (name node) in *rules* do (setf (cause-paths node)())) ; clear in case
2  (loop for (name node) in *rules*
3	when (member '(primary controlled)(cause-nature node) :test #'rmember)
4	  do (find-prob-path node))
5  (loop for (name node) in *rules* do
6    (setf (cause-paths node)(sort (cause-paths node) #'< :key #'id-of-cause)))) 

Thanks,
Bill Long


25-Jul-87 04:25:58-EDT,726;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jul 87 04:25-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50220; Sat 25-Jul-87 04:25:54 EDT
Date: Sat, 25 Jul 87 04:26 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: More Documentation on Dynamic Windows
To: info-lispm@REAGAN.AI.MIT.EDU
cc: BKPH@AI.AI.MIT.EDU, cjl@REAGAN.AI.MIT.EDU, alan@AI.AI.MIT.EDU
File-References: AI|B:>sys>r7>dynamic-windows>more-doc.text
Message-ID: <870725042631.6.JCMA@MORRISON.AI.MIT.EDU>

For those of you trying to use the dynamic window facilities in release 7, you
may find the file SYS:DYNAMIC-WINDOWS;MORE-DOC.TEXT contains useful
documentation and examples.
25-Jul-87 14:13:58-EDT,1754;000000000000
Mail-From: FONER created at 25-Jul-87 14:13:51
Date: 25 Jul 1987  14:13 EDT (Sat)
Message-ID: <FONER.12321229271.BABYL@MIT-OZ>
From: "Leonard N. Foner" <FONER@OZ.AI.MIT.EDU>
To:   Steve Trever <trev@SCRC-RIVERSIDE.ARPA>
CC:   Customer-Reports@SCRC-RIVERSIDE.ARPA, Foner@OZ.AI.MIT.EDU,
      Foner-at-Bitstream@OZ.AI.MIT.EDU, Bug-LISPM@OZ.AI.MIT.EDU,
      WJL@ZERMATT.LCS.MIT.EDU
Subject: general purpose bug message

[First try failed because OZ didn't know who VERMITHRAX was...]

    Date: Friday, 24 July 1987  12:08-EDT
    From: Steve Trever <trev at VERMITHRAX.SCH.Symbolics.COM>

        2) I often debug by suspending from Zmacs and doing mouse-left on
        appropriate chunks of code to execute them.  The problem is that if I
        make a change to the code and do it again, it still executes the old
        code (memoization update problem, I suppose).  ps. As long as you have
        gone this far, it would be nice if that facility understood defun &aux
        clauses, with foo = clauses in loops, and let clauses.

    This is interpreted code?  Had you compiled it before?
    (I just want to make sure I have all this straight before
    turning it in to the bug lists for ruthless dissection).

I reported this bug at least six months ago.  I can't give you an
exact citation to my bug report, since I'm not at Bitstream now, but
was told that it had been reproduced and was going to be "pretty hard
to fix".  I think that Kyra Lowther was the one who reproduced it.  It
hit me within two days of trying out 7.0, so I wasn't real pleased...

Anyway, more details later (Monday when I'm back at Bitstream, I'll
give you the exact citation, I promise), but this is pretty common.

						<LNF>
25-Jul-87 14:47:59-EDT,3239;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jul 87 14:47-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50261; Sat 25-Jul-87 14:47:54 EDT
Date: Sat, 25 Jul 87 14:47 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Bug in presentation-to-command-translators in 7-1-I-load
To: PWC@REAGAN.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM@OZ.AI.MIT.EDU
In-Reply-To: <870723160816.1.PWC@NULLSTELLENSATZ.AI.MIT.EDU>
Message-ID: <870725144749.6.CJL@OTIS.AI.MIT.EDU>

    Date: Thu, 23 Jul 87 16:08 EDT
    From: Peter W. Cudhea <PWC@REAGAN.AI.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45,
    Mobile Robot Controller and Simulator 7.0, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5233,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
    DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Hilbert's Nullstellensatz:

    Yesterday I was playing with define-presentation-to-command-translator
    on AI-7-1-H-plus-load, and it worked fine.  Today, on
    AI-7-1-I-Macsyma.load, there is some bug whereby mouse handlers that are
    applicable are not found.  So something was introduced very recently
    that causes this not to work!

    I found the problem in my own code, but it also shows up in a standard
    example program, which saves me from having to write a test program.
    You can duplicate the bug by compiling and loading the file
    "sys:examples;ui-application-example.lisp" and typing select-*.  Then
    execute ":Show Employees" to get a list of employees.  Now, there are
    supposed to be several handlers that get activated when you put the
    mouse over "Fred Flinstone" or "Barney Rubble", but they aren't being
    found.  However, if you enter the presentation inspector and type ":show
    handler context applicability (for handler) change-employee-status",
    then it DOES find that the handler is applicable, and prints out a nice
    little message asking you to report this bug.  (Hence this message!)

This problem has occured before, and Symbolics has been stumped as to why it
happens, but now I have a theory.  I'll bet the problem is that the world was
disk-saved at exactly same time that one of those background updates to some
dw tables were occuring. I'll bet disk save doesn't wait for the background
update to complete, so the data structures are probably trashed by the disk
save.

My extremely kludgy work around for this is my program that does disk saves is
now gonna do this right before calling disk-save:

(process-wait "Background Updates" #'(lambda () (null tv:*progress-notes*)))

We'll see if the problem goes away with new world loads made this way.
25-Jul-87 18:17:54-EDT,4034;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jul 87 18:17-EDT
Received: from MARLEY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50276; Sat 25-Jul-87 18:18:01 EDT
Date: Sat, 25 Jul 87 18:17 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Rel 7 is even smarter than that
To: Anthony@ALDERAAN.SCRC.Symbolics.COM
cc: BUG-LISPM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Alan@AI.AI.MIT.EDU
In-Reply-To: <870724145015.5.ANTHONY@CONTOOCOOK.SCRC.Symbolics.COM>
Message-ID: <870725181750.4.ALAN@MARLEY.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

    Date: Fri, 24 Jul 87 14:50 EDT
    From: Steve Anthony <Anthony@ALDERAAN.SCRC.Symbolics.COM>

	Date: Wed, 22 Jul 87 22:24 EDT
	From: Alan Bawden <Alan@AI.AI.MIT.EDU>
	I defined:

	(defflavor frubboz
		()
		()
	  )

	(cp:define-command (com-frub-frubboz :command-table 'user)
	    ((frubboz 'frubboz))
	   (format t "~&~S" frubboz))

	(define-presentation-to-command-translator frub-frubboz (frubboz) (frubboz)
	  (cp:build-command 'com-frub-frubboz frubboz))

    I think part of the problem here is that you haven't defined a
    presentation type for frubboz yet. When you do the cp:define-command,
    the args to it are of the form 1(<arg> <presentation-type> <options>)0. So
    the definition of com-frub-frubboz is looking for a presentation of type
    frubboz, which doesn't exist. Ditto for the
    define-presentation-to-command-translator.

I have observed that in practice DEFINE-PRESENTATION-TYPE doesn't seem to
be needed, so when I tried to put together a minimal example of the
problem, I left it out.  I find that if I add the form

(define-presentation-type frubboz (())
   :no-deftype t
   )

to the three above, the problem still happens.

In fact, COM-FRUB-FRUBBOZ works just fine without doing a
DEFINE-PRESENTATION-TYPE, its only the translator that fails (independent
of DEFINE-PRESENTATION-TYPE).

Am I to assume that you tried my code in your system and you are unable to
reproduce my problem?  Or did it complain that you needed to do a
DEFINE-PRESENTATION-TYPE?  (It doesn't for me.)

	Now I -expected- that this would let me point at Frubbozes with the mouse,
	click on them, and have the Frub Frubboz command applied to them.

	In fact, it looks like it has no effect.
        ...
	includes the message:

	  *** This handler was not found in the handler tables
	  *** under these types.  This would indicate a defect in
	  *** the handler tables or the cache.  Please report this
	  *** bug.

	Which makes me think that perhaps this isn't entirely my own confusion this
	time...

    This has been seen here. It can be tricky to figure out whether it's the
    the presentation system's fault or your code. The important thing to
    look for is the input context. For your example, you need the context to
    be cp:command. If it's not, then the handler isn't applicable in the
    context, and it's not going to show up.

Well, a more complete quotation would have been:
 
 For context ((CP:COMMAND-OR-FORM :COMMAND-TABLE #<COMMAND-TABLE User 120216052> :DISPATCH-MODE ...) :ENVIRONMENT NIL): 
  Handler FRUB-FRUBBOZ FRUBBOZ (presentation)  CP:COMMAND
   The handler failed because it failed to match the displayed presentation type.
  Handler FRUB-FRUBBOZ FRUBBOZ (object), SYS:EXPRESSION (presentation)  CP:COMMAND
   The handler succeeded and returned values:(COM-FRUB-FRUBBOZ)
 
   *** This handler was not found in the handler tables
   *** under these types.  This would indicate a defect in
   *** the handler tables or the cache.  Please report this
   *** bug.

Which certainly looks to me like the input context matches.  What else
should I be looking for? 

I would appreciate a solution to this problem.  This effectively prevents
me from making -anything- mouse-sensitive, which is more than a minor
inconvenience.
25-Jul-87 21:13:35-EDT,1385;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 25 Jul 87 21:13-EDT
Received: from MARLEY.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50285; Sat 25-Jul-87 21:13:36 EDT
Date: Sat, 25 Jul 87 21:13 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: (DELETE X Y :TEST #'EQ)
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870725211327.6.ALAN@MARLEY.AI.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.20, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5229,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10,
Patches for Alan (from B:>Alan>Rel7-Patch), on Lisp Machine Bob Marley:

I'm disappointed to see that (DELETE X Y :TEST #'EQ) isn't optimized by the
compiler into something more efficient, although (DELETE X Y :TEST #'EQL)
is.  This means that the former takes about -twice- as long as the latter!
26-Jul-87 15:44:42-EDT,6142;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 26 Jul 87 15:44-EDT
Received: from THE-EGGHEAD.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50306; Sun 26-Jul-87 15:44:48 EDT
Date: Sun, 26 Jul 87 15:44 EDT
From:  <SAUND@REAGAN.AI.MIT.EDU>
Subject: f77:execute  :extra-number-space  option
To: Bug-LispM@OZ.AI.MIT.EDU
cc: saund@OZ.AI.MIT.EDU
Message-ID: <"870726154448.2.SAUND@REAGAN"@THE-EGGHEAD.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
                         (2 0 (NIL 0) (NIL :BOLD-EXTENDED NIL) "CPTFONTB")
Fonts: CPTFONT, CPTFONTI, CPTFONTB

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
7-1-Patches 1.20, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Fortran 6.27, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30082,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Lisp Machine The Egghead:


  There seems to be a problem with the  :extra-number-space  option of 
the f77:execute function.

  I am attempting to run some IMSL linear algebra routines.  

This is the function in my program that calls the fortran routines:

1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;
;computes the eigenvalues and eigenvectors of the matrix passed
;NOTE: THE MATRIX MUST BE SYMMETRIC
;


;Returns a list: 
;0  1(eigenvalue-vector eigenvector-matrix)
;These are really going to be global arrays to handle the passing to fortran and back.
0(DEFUN 2EIGENS-BY-FORTRAN 0(correlation-matrix)
  (setq *input-matrix* correlation-matrix)

  (f77:execute ftn-user:eigens_by_fortran_main :extra-number-space 102000
	       :trap-underflow nil)

  (list *output-eigenvalue-vector* *output-eigenvector-matrix*))

1;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


0You will note that I have asked for the strange number of 102000 units of
extra-number-space.  This, however, is indicative of the problem.
Here is what happens:
 -The first time I run the fortran routine, everything works.
 -If I now try to run the fortran routine on a small problem (2x2 correlation matrix),
   everything works.  
 -If I now try to run the fortran routine on a larger problem (4x4, say), the
   program returns clearly incorrect results.
 -If I modify the f77:execute call shown above and ask for, say, 
   :extra-number-space 103000, then the program DOES work on a 4x4 problem.
 -If I try to run the exact same 4x4 problem again, the program returns garbage.
 -The program will keep returning garbage until I increase the amount of 
   :extra-number-space asked for.


  I do not know if this problem is at all related to the bug I reported 
yesterday about fortran routines seeming not to process DATA statements 
after the first time they have been run.  I am getting around this bug 
for now by inserting assignment statements (eg., x = 1) to do the job 
of DATA statements.


  In April I reported a bug with  :extra-number-space  in Release 6.  Your
reply stated that the bug had been fixed in Release 7, and included a patch 
that you suggested I try in my Release 6 version (I didn't, as I am switching
to Release 7.)

the patch begins like this:

************************************************************
;;; -*- Mode: LISP; Syntax: Common-Lisp; Package: F77; Base: 10; Patch-File: T -*-
;;; Patch file for FORTRAN-RUNTIME version 7.7
;;; Reason: Function F77:CALL-FORTRAN-MAIN-PROGRAM:  Bind *ftn-init-to-zero* lexically.
;;; Function F77:GET-EXTRA-FORTRAN-NUMBER-SPACE:  Initialize new space.
;;; Function F77:GET-EXTRA-FORTRAN-CHARACTER-SPACE:  Ditto.
;;; Written by Sotkowitz, 12/17/86 13:16:16
;;; while running on Cedar Waxwing from FEP0:>scrc-357-107-from-ih-sys357-15.load.1
;;; with Experimental System 357.107, Experimental Utilities 15.9,
;;; Experimental Metering 11.9, Experimental Server Utilities 15.0,
;;; Experimental Hardcopy 106.1, Experimental Zmail 152.13, Experimental LMFS 89.0,
;;; Experimental Tape 69.1, Experimental Basic Sage 47.1,
;;; Experimental Extended Help 6.0, Experimental Documentation Database 37.45,
;;; Experimental Hacks 5.0, Experimental Writer Tools 37.0, Experimental IP-TCP 56.0,
;;; Experimental Symbolics In-House 4.1, Experimental Symbolics Boston 5.1,
;;; Experimental SCRC 25.0, Fortran 6.15, Compiler Tools Runtime 11.4,
;;; Compiler Tools Development 22.8, Fortran Runtime 7.6, cold load 1,
;;; microcode 3640-MIC 395, FEP 127, FEP0:>V127-lisp.flod(44),
;;; FEP0:>V127-loaders.flod(44), FEP0:>V127-debug.flod(31), FEP0:>V127-info.flod(44),
;;; FEP0:>V127-microcode.flod(6), Machine serial number 5040,
;;; Weather Hack (from S:>hacks>weather-report-command-rel7-1.lisp.3).



;=====================================
(SYSTEM-INTERNALS:BEGIN-PATCH-SECTION)
(SYSTEM-INTERNALS:PATCH-SECTION-SOURCE-FILE "SYS:FORTRAN;LOAD.LISP.37")
(SYSTEM-INTERNALS:PATCH-SECTION-ATTRIBUTES
  "-*- Mode: LISP; Base: 10; Package: F77; Lowercase: Yes -*-")


;;;
;;; the routine which invokes a fortran main program, after setting up the environment
;;;
(defun call-fortran-main-program (main-program-name options)
  (let ((debug-data (find-runtime-info main-program-name nil))
	(*ftn-io-units* nil))
                .
                .
                .  etc.



************************************************************


Even though the patch was from December, 1986, and is labeled Fortran 6.15 while
my Herald says I am running Fortran 6.27,  I tried loading and compiling the patch.
The problem persisted.


If you need to recreate the problem, let me know and I'll work up
an example that will be easier to communicate than the program
I am actually working on.

-Eric Saund
27-Jul-87 12:17:30-EDT,4633;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 27 Jul 87 12:17-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50403; 27 Jul 87 12:17:15 EDT
Received: from GOLDILOCKS.MIT.EDU (MIT-GOLDILOCKS.ARPA) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 199553; 27 Jul 87 12:13:06 EDT
Received: from WINNIE-THE-POOH.MIT.EDU by GOLDILOCKS.MIT.EDU via CHAOS with CHAOS-MAIL id 6846; Fri 24-Jul-87 18:18:03 EDT
Date: Fri, 24 Jul 87 18:17 EDT
From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>
Subject: dw:get-program-pane broken
To: trev@VERMITHRAX.SCH.Symbolics.COM,
    sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870724104807.0.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870724181738.1.TIERNEY@WINNIE-THE-POOH.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Received: by EDDIE.MIT.EDU with sendmail-5.45/4.7 id <AA14908@EDDIE.MIT.EDU>; Fri, 24 Jul 87 13:49:18 EDT
    Received: by ATHENA.MIT.EDU (5.45/4.7) id AA06874; Fri, 24 Jul 87 13:51:04 EDT
    Received: by ACHILLES (5.45/4.7) id AA11015; Fri, 24 Jul 87 13:50:49 EDT
    Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 198577; 24 Jul 87 13:50:02 EDT
    Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 65287; Fri 24-Jul-87 10:48:08 PDT
    Date: Fri, 24 Jul 87 10:48 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
    Subject: dw:get-program-pane broken
    To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
    Cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
	    customer-reports@VERMITHRAX.SCH.Symbolics.COM
    In-Reply-To: <870723100545.7.TIERNEY@GRIZZLY.MIT.EDU>
    Message-Id: <870724104807.0.TREV@CALYPSO.SCH.Symbolics.COM>
    Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
			     (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
    Fonts: CPTFONT, CPTFONTCB, CPTFONTI

	Date: Thu, 23 Jul 87 10:05 EDT
	From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
	7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
	Experimental SPIRE Extensions 7.3, microcode 3600-MIC 396, FEP 127,
	FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Grizzly:

	dw:accepting-values sets dw:*program-frame* to something that looks like this
	1#<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE0 1Accept0 1Values 1 1500205 exposed>
0	Unfortunately dw:get-program-pane uses dw:*program-frame* to find panes.
	Seems like either this should be done right, or we users should be given
	the option to specify a frame when calling dw:get-program-pane.

    This ought to be straightforward, but I have to convince the writers 
    that enough people will have use for their own frame.  What kind of
    applications should I say this is needed for?  (They 2will0 ask me.)

	1Error: There is no CL-SPI::OTHER-ATT-DISPLAY-PANE pane of #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed>
0	While in the function DW:GET-PROGRAM-PANE  (FLAVOR:METHOD (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN :AFTER)  (FLAVOR:COMBINED (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN)

	The condition signalled was FERROR

    [...]


This happens to me when I try to write an after method for setf of an
instance variable in order
to update a display.  It can be worked around, since dw:*program-frame*
is bound back to the displayed program frame when control leaves
the momentary window.  It can be worked around sometimes, but can be a
hassle.


Here is an example of the sort of stuff I would like to do.
I don't really know of a clean way to do this sort of thing when using
avv menus

(defmethod ((setf foo-bar) foo :after) (new-value)
  (when (something-funky-p new-value)
    (redisplay-my-pane (dw:get-program-pane 'some-pane))))

(defun (choose-options)
       (some-instance)
  (dw:accepting-values (*query-io* :own-window t)
    (setf (foo-bar some-instance) (accept 'some-presentation-type
					  :prompt "Some value"))))


27-Jul-87 13:57:52-EDT,821;000000000000
Received: from EDDIE.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 27 Jul 87 13:57-EDT
Received: by EDDIE.MIT.EDU with sendmail-5.45/4.7 id <AA18259@EDDIE.MIT.EDU>; Mon, 27 Jul 87 13:55:54 EDT
Received: by media-lab.MIT.EDU (5.54/4.8)  id AA22664; Mon, 27 Jul 87 13:55:56 EDT
Date: Mon, 27 Jul 87 13:55 EDT
From: <HENRY@APIARY-5.AI.MIT.EDU>
Subject: Interpreting COMPILE-FLAVOR-METHODS
To: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Bug-Lispm@OZ.AI.MIT.EDU
Message-Id: <"870727135539.1.HENRY@APIARY-5"@QUANTUM.MEDIA.MIT.EDU>


Interpreting code containing a COMPILE-FLAVOR-METHODS produces 
a warning that the code may not work.  Why?  What does this mean?
I thought this was just supposed to be an optimization, it should
not affect the semantics of code.  It should be harmless in
interpreted code.



27-Jul-87 15:27:33-EDT,813;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 27 Jul 87 15:27-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50438; 27 Jul 87 15:27:22 EDT
Received: from CEDAR-WAXWING.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 199838; Mon 27-Jul-87 15:20:10 EDT
Date: Mon, 27 Jul 87 15:19 EDT
From: Sotko@STONY-BROOK.SCRC.Symbolics.COM
To: Bug-LispM@OZ.AI.MIT.EDU
Subject: f77:execute  :extra-number-space  option
References: <"870726154448.2.SAUND@REAGAN"@THE-EGGHEAD.AI.MIT.EDU>
Message-ID: <870727151952.1.SOTKO@CEDAR-WAXWING.SCRC.Symbolics.COM>

[The referenced message has been redirected:
    Bug-LispM@OZ.AI.MIT.EDU has been removed;
    bug-fortran has been added.]

27-Jul-87 16:03:57-EDT,7545;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 27 Jul 87 16:03-EDT
Received: from Riverside.SCRC.Symbolics.COM (Riverside.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 65623; 27 Jul 87 16:02:44 EDT
Received: from BITSTREAM-EUCLID.DialNet.Symbolics.COM (Euclid.Bitstream.DialNet.Symbolics.COM) by Riverside.SCRC.Symbolics.COM via DIAL with SMTP id 146981; 27 Jul 87 15:58:45 EDT
Received: from DINGBAT.bitstream.dialnet.symbolics.com by EUCLID.bitstream.dialnet.symbolics.com via CHAOS with CHAOS-MAIL id 10107; Mon 27-Jul-87 16:00:23-EDT
Date: Mon, 27 Jul 87 15:59 EDT
From: Leonard N. Foner <Foner@DINGBAT.bitstream.dialnet.symbolics.com>
Subject: general purpose bug message
To: Bill Long <WJL%ZERMATT.LCS.MIT.EDU@SCRC-RIVERSIDE.DialNet.Symbolics.COM>,
    trev@SCRC-RIVERSIDE.DialNet.Symbolics.COM
cc: BUG-LISPM%ZERMATT.LCS.MIT.EDU@SCRC-RIVERSIDE.DialNet.Symbolics.COM,
    Customer-Reports@SCRC-RIVERSIDE.DialNet.Symbolics.COM,
    Foner@DINGBAT.bitstream.dialnet.symbolics.com
In-Reply-To: <870724141013.3.WJL@GALEN.LCS.MIT.EDU>
Message-ID: <870727155954.6.FONER@DINGBAT.bitstream.dialnet.symbolics.com>

Okay, here's my promised citation for WJL's bug #2, incorrect
code-chunk memoization.  Three pieces of messages follow, all edited.
Was this ever fixed?

Date: Fri, 16 Jan 87 14:12 EST
From: Leonard N. Foner <Foner@DINGBAT.bitstream.dialnet.symbolics.com>
Subject: Serious bug with Meta-Mouse-Middle in ZWEI
To: Bug-Symbolics@EUCLID.bitstream.dialnet.symbolics.com
cc: Foner@DINGBAT.bitstream.dialnet.symbolics.com
Message-ID: <870116141237.1.FONER@DINGBAT.bitstream.dialnet.symbolics.com>
Character-Type-Mappings: (1 0 (NIL 0) (:SWISS :BOLD :SMALL) "HL10B")
Fonts: CPTFONT, HL10B

In Symbolics 3620 Symbolics in Genera 7.0G1, Mailer 5.2,
Print Spooler 3.5, Experimental BSSite 2.0, IP-TCP 52.0,
microcode 3620-MIC 394, FEP 206, Fep0:>g206-lisp.flod(6),
Fep0:>g206-loaders.flod(6), Fep0:>G206-debug.flod(1),
Fep0:>g206-info.flod(6), Machine serial number 20195, on Dingbat:

Hi.  Meta-Mouse-Middle does *NOT*, repeat *NOT*, run what you see in the
buffer.  Instead, it seems to have some cached idea of what *WAS* there
at some point in the past.  This is disastrous, leading to execution of
a form that does *NOT* match the text in the buffer!

Observe the following file:

;;; -*- Mode: Lisp; Package: HACKS; Base: 8; Syntax: Zetalisp -*-

(DEFVAR *DECORATE-GENTLE-BEEP-REPETITIONS* 1)

;;; Momentary patterns that constitute the "flash" of the margins.

(DEFVAR *DECORATE-GENTLE-BEEP-FIRST-PATTERN* TV:75%-GRAY)
(DEFVAR *DECORATE-GENTLE-BEEP-SECOND-PATTERN* TV:25%-GRAY)

(LOOP FOR I FROM 1 TO *DECORATE-GENTLE-BEEP-REPETITIONS*
		DO (tv:set-screen-background-gray *DECORATE-GENTLE-BEEP-SECOND-PATTERN*)
		   (tv:set-screen-background-gray *DECORATE-GENTLE-BEEP-FIRST-PATTERN*))



(LOOP FOR I FROM 1 TO *DECORATE-GENTLE-BEEP-REPETITIONS*
		DO (tv:set-screen-background-gray *DECORATE-GENTLE-BEEP-SECOND-PATTERN*)
		   (tv:set-screen-background-gray *DECORATE-GENTLE-BEEP-FIRST-PATTERN*))

The two LOOPs are the same code, reproduced as described below.

Here's how to reproduce the bug.  The forms in this file came from
another one, and the first LOOP was yanked in.  The other file had the
same attribute line as this file.

When I yanked the first LOOP in (the second LOOP was not yet in this
buffer), I had forgotten to reparse the attribute line---so ZWEI thought
this buffer was in CL-USER.  I did Meta-Mouse-Middle to evaluate the
loop, and it blew out into the debugger, complaining that several
variables were not defined in CL-USER.  This is correct (the DEFVARs
above were run in the other buffer, and existed, but they were in
HACKS:.)

So I reparsed the attribute line, using M-X Reparse Attribute Line, and
reexecuted the form.  It still blew out!  At that point, I typed C-Y to
yank in a new copy of the form.  When I executed *THAT* form (the
*second* LOOP below), it worked, indicating that only the second form
ZWEI thought was in HACKS:.  I've moved the first form around in the
buffer (by inserting text above and beneath it, not by killing &
yanking), and ZWEI still thinks, using Meta-Mouse-Middle, that the form
is in CL-USER:.

This gets *MUCH WORSE*, as follows.  In the "other buffer" from which
these forms came, I had *AT ONE POINT IN THE PAST* defined the LOOP as

(LOOP FOR I FROM 1 TO *DECORATE-GENTLE-BEEP-REPETITIONS*
		DO (tv:set-screen-background-gray *DECORATE-GENTLE-BEEP-SECOND-PATTERN*)
		   (process-wait 60.)
		   (tv:set-screen-background-gray *DECORATE-GENTLE-BEEP-FIRST-PATTERN*))

and executed it with Meta-Mouse-Middle.  It slept for one second.

Later, I killed the line with the process-wait (with C-K, of course),
recompiled the function, and called it from a Lisp Listener and from a
ZWEI Suspend loop.  In both cases, the function no longer slept.  Fine.

*BUT*, when I reexecute the LOOP with Meta-Mouse-Middle, it *STILL*
sleeps!  I have recompiled the function several times, to no avail.
Calling it directly shows that the function no longer sleeps, but using
Meta-Mouse-Middle on the form *WITHOUT* the sleep in it still sleeps!

Thus, it is abundantly clear that ZWEI is maintaining some cached idea
of what that form is, AND IT'S DEAD WRONG!  I am *NOT* running what I
see!

This is a pretty unbelievable bug.  I have no idea how to change ZWEI's
idea of what that form represents, but it means I *CANNOT USE
META-MOUSE-MIDDLE AT ALL*, because I can't trust its results.  I never
know what form I'm executing---the one I see, or some form in the past.

[Other stuff deleted]

----------------------------------------------------------------------

Date: Fri, 23 Jan 87 11:42 PST
From: Kyra Lowther <toto@VERMITHRAX.SCH.Symbolics.COM>
Subject: Serious bug with Meta-Mouse-Middle in ZWEI
To: Foner%DINGBAT.bitstream.dialnet.symbolics.com@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-Symbolics@EUCLID.bitstream.dialnet.symbolics.com,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870116141237.1.FONER@DINGBAT.bitstream.dialnet.symbolics.com>
Message-ID: <870123114202.1.TOTO@PUFF.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (:SWISS :BOLD :SMALL) "HL10B")
Fonts: CPTFONT, HL10B
Reply-To: TOTO@STONY-BROOK.SCRC.Symbolics.COM

   [My stuff deleted]

I ran into a very similar situation yesterday and I couldn't believe it
either.  I'll look into this - meanwhile, I think I managed to work
around the problem by killing off the entire attribute list and starting
from scratch (and maybe another throwing in a Reparse Attribute List for
good measure).

- kyra

----------------------------------------------------------------------

Date: Fri, 23 Jan 87 15:52 EST
From: Steve Anthony <Anthony@ALDERAAN.SCRC.Symbolics.COM>
Subject: Serious bug with Meta-Mouse-Middle in ZWEI
To: Foner@DINGBAT.bitstream.dialnet.symbolics.com
Fcc: AA:>anthony>mail>outbound.kbin
In-Reply-To: <870116141237.1.FONER@DINGBAT.bitstream.dialnet.symbolics.com>
Message-ID: <870123155238.3.ANTHONY@WARE.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (:SWISS :BOLD :SMALL) "HL10B")
Fonts: CPTFONT, HL10B

    [My stuff deleted]

Hi,
I've reproduced this here and am forwarding your findings to our
developers. We are trying to find a suitable work around until the patch
is ready, when it's ready, you'll be the first to know. 
Thanks for bearing with us.
Steve
HOSS


28-Jul-87 10:40:54-EDT,1633;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 28 Jul 87 10:40-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50525; Tue 28-Jul-87 10:40:58 EDT
Date: Tue, 28 Jul 87 10:40 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: ZMACS should indent defmacro-in-flavor forms right
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870728104053.1.CJL@OTIS.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
7-1-Patches 1.20, MAC 12.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-disk.flod(5), FEP0:>g206-debug.flod(4),
FEP0:>g206-info.flod(14), Machine serial number 30124, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404, on Lisp Machine Otis Redding:

ZMACS should recognize &body specs in defmacro-in-flavor forms just like in
defmacro forms. 

(defflavor foo () ())

(defmacro-in-flavor (with-foobar foo) ((foobar) &body body)
  )

Right now ZMACS wants to indent with-foobar like this:

(defmethod (baz foo) ()
  (with-foobar (bzork)
	       blatter))

but it should be indenting like this:

(defmethod (baz foo) ()
  (with-foobar (bzork)
    blatter))

28-Jul-87 14:27:27-EDT,1343;000000000000
Return-Path: <cerys%RTS-12.LCS.MIT.EDU@XX.LCS.MIT.EDU>
Received: from XX.LCS.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Tue 28 Jul 87 14:27:21-EDT
Received: from RTS-12.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 28 Jul 87 14:27-EDT
Message-Id: <2763483998-9705409@RTS-12>
Sender: cerys@RTS-12
Date: Tue, 28 Jul 87  14:26:38 EDT
From: "Daniel L. Cerys" <Cerys@XX.LCS.MIT.EDU>
To: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Cc: Bug-Lispm@OZ.AI.MIT.EDU
Subject: Re: Format confused by IEEE floats.

  Date: Fri, 10 Jul 87 12:47 EDT
  From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
  Subject: Format confused by IEEE floats.
  
  The IEEE number -0.0 is zero.  It is not negative.
  
  (zerop  -0.0) => T
  (minusp -0.0) => nil
  (< -0.0 0) => nil
  
  The Common Lisp spec for format control ~E, ~F, ~$ etc specifies that a
  minus sign is only printed is the number is negative.
  
  Thus all of these evaluations are wrong.
  (format nil "~f" -0.0) =>  "-0.0"
  (format nil "~e" -0.0) =>  "-0.0"
  (format nil "~g" -0.0) =>  "-0.    "
  (format nil "~$" -0.0) =>  "-0.00"

The current behavior is correct.  The definition of MINUSP in CLtL
specifically states that -0.0 is indeed a "negative" number but is not
MINUSP; -0.0 is not strictly less than 0.  FORMAT is simply preserving
that fact that -0.0 is a negative number.
28-Jul-87 14:41:38-EDT,2313;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 28 Jul 87 14:41-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 65826; 28 Jul 87 14:41:31 EDT
Received: from ORNITHOPTER.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 200633; Tue 28-Jul-87 14:42:05 EDT
Date: Tue, 28 Jul 87 14:41 EDT
From: John Watkins <jwatkins@STONY-BROOK.SCRC.Symbolics.COM>
Subject: specifying alternate style to LGP2 blows out
To: LAURA@VX.LCS.MIT.EDU
cc: Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870707134131.1.LAURA@FLUTE.LCS.MIT.EDU>
Message-ID: <870728144154.7.JWATKINS@ORNITHOPTER.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Tue, 7 Jul 87 13:41 EDT
    From: Laura Bagnall <LAURA@VX.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Multilisp 14.0,
    Experimental Multilisp Compiler 7, Experimental Bounce 1,
    Experimental LUNIX 1, microcode 3640-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
    Machine serial number 4597,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Flute:

    In attempting to hardcopy a file to a LGP2 printer while specifying an
    alternate font, I typed the following:

    :Hardcopy File VX:/usr/laura/people Pulp :Body Character Style fix.

     I got as far as typing the period after "fix" when it blew out.  The
    same incantation works fine on an Impress printer (Charmin).

Yes, this is a problem. It is fixed in the next release.

1    Error: The value of (FIRST SPEC) in SI:GET-FONT, "Times-Bold", was of the wrong type.
	   The function expected one of :STYLE or :FONT.
0    While in the function SI:GET-FONT  DW::CHARACTER-STYLE-VALID?  (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)

    The condition signalled was DBG:WRONG-TYPE-DATUM

[trace removed]

28-Jul-87 17:17:31-EDT,1812;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 28 Jul 87 17:17-EDT
Received: from SAPSUCKER.SCRC.Symbolics.COM (SAPSUCKER.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50583; 28 Jul 87 17:16:49 EDT
Received: from BOBOLINK.SCRC.Symbolics.COM by SAPSUCKER.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 149350; Tue 28-Jul-87 17:15:18 EDT
Date: Tue, 28 Jul 87 17:14 EDT
From: William M. York <York@SAPSUCKER.SCRC.Symbolics.COM>
Subject: More Documentation on Dynamic Windows
To: JCMA@AI.AI.MIT.EDU, Info-LISPM@REAGAN.AI.MIT.EDU
cc: BKPH@AI.AI.MIT.EDU, cjl@REAGAN.AI.MIT.EDU, alan@AI.AI.MIT.EDU
In-Reply-To: <870725042631.6.JCMA@MORRISON.AI.MIT.EDU>
File-References: AI|B:>sys>r7>dynamic-windows>more-doc.text, DOMAIN|REAGAN.AI.MIT.EDU:>sys>r7>dynamic-windows>slug-version-of-more-doc.text.newest
Message-ID: <870728171429.6.YORK@BOBOLINK.SCRC.Symbolics.COM>

    Date: Sat, 25 Jul 87 04:26 EDT
    From: John C. Mallery <JCMA@AI.AI.MIT.EDU>

    For those of you trying to use the dynamic window facilities in release 7, you
    may find the file SYS:DYNAMIC-WINDOWS;MORE-DOC.TEXT contains useful
    documentation and examples.

I'm not sure by what path this pre-release documentation escaped, but as
long as you have it you might as well look at the second referenced file
instead.  I prepared this version for the Users' Group meeting two weeks
ago in Seattle, where it was distributed as a handout for one of the
talks.  It has been cleaned up somewhat from the original, and the
examples have been rewritten where necessary to work in release 7.1.

I would also like to make it clear that this file is not even draft
documentation.  It is merely developer-authored source material that our
writers are using to prepare real documentation.

29-Jul-87 13:14:37-EDT,2528;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jul 87 13:14-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 66032; 29 Jul 87 13:14:29 EDT
Received: from ORNITHOPTER.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 201037; Wed 29-Jul-87 11:27:32 EDT
Date: Wed, 29 Jul 87 11:27 EDT
From: John Watkins <jwatkins@STONY-BROOK.SCRC.Symbolics.COM>
Subject: make-sequence nit(?)
To: RWS@ZERMATT.LCS.MIT.EDU
cc: Customer-Reports@stony-brook.src.symbolics.com, Bug-LispM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870708175120.3.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870729112715.6.JWATKINS@ORNITHOPTER.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Wed, 8 Jul 87 17:51 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental X-Remote-Screen 21.0,
    Experimental Illustrate 11.0, TeX 1.0, LaTeX 1.0, SliTeX 1.0, YTeX 1.0,
    Macsyma 412.45, Experimental Mercury 6.0, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    New Activity System (from X-WINDOWS:X;ACTIVITY-PATCH.LISP.9), on Killington:

    I won't try to argue that this should work (should it?), but the error
    message isn't quite accurate, since (subtypep 'sequence 'sequence) is
    true.

Don't you like ambiguity? Seriously though, think we could do better
too.

1    Error: SEQUENCE is not a subtype of SEQUENCE.
0    While in the function MAKE-SEQUENCE

    The condition signalled was ZL:FERROR

    1MAKE-SEQUENCE0:  (P.C. = 111)  2(from SYS:PATCH;SYSTEM-349-197)
0       Arg 0 (TYPE): SEQUENCE
       Arg 1 (SYS:SIZE): 1
       Rest arg (CLI::KEYWORDS): NIL
       Local 3 (IGNORE): (OR (VECTOR * *) LIST)
       Local 4 (CLI::TYPE-NAME): OR
       Local 5 (CLI::TYPE-ARGS): ((VECTOR * *) LIST)

    1CP::COMMAND-LOOP-EVAL-FUNCTION0:  (P.C. = 25)
       Arg 0 (CP::FORM): (MAKE-SEQUENCE (QUOTE SEQUENCE) 1)

29-Jul-87 14:02:27-EDT,2144;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jul 87 14:02-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50685; 29 Jul 87 14:02:22 EDT
Received: from ORNITHOPTER.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 200979; Wed 29-Jul-87 10:00:38 EDT
Date: Wed, 29 Jul 87 10:00 EDT
From: John Watkins <jwatkins@STONY-BROOK.SCRC.Symbolics.COM>
Subject: ZMACS should indent defmacro-in-flavor forms right
To: CJL@REAGAN.AI.MIT.EDU
cc: Bug-Lispm@OZ.AI.MIT.EDU, Customer-reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870728104053.1.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870729100026.1.JWATKINS@ORNITHOPTER.SCRC.Symbolics.COM>

    Date: Tue, 28 Jul 87 10:40 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
    7-1-Patches 1.20, MAC 12.1, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
    FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-disk.flod(5), FEP0:>g206-debug.flod(4),
    FEP0:>g206-info.flod(14), Machine serial number 30124, LCMW-RELEASE-4-0,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
    PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
    STARLISP-COMPILER-F0404, on Lisp Machine Otis Redding:

    ZMACS should recognize &body specs in defmacro-in-flavor forms just like in
    defmacro forms. 

    (defflavor foo () ())

    (defmacro-in-flavor (with-foobar foo) ((foobar) &body body)
      )

    Right now ZMACS wants to indent with-foobar like this:

    (defmethod (baz foo) ()
      (with-foobar (bzork)
		   blatter))

    but it should be indenting like this:

    (defmethod (baz foo) ()
      (with-foobar (bzork)
	blatter))


I see your point. I'll forward it along.

29-Jul-87 14:02:48-EDT,1618;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jul 87 14:02-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50687; 29 Jul 87 14:02:47 EDT
Received: from ORNITHOPTER.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 201050; Wed 29-Jul-87 11:44:14 EDT
Date: Wed, 29 Jul 87 11:44 EDT
From: John Watkins <jwatkins@STONY-BROOK.SCRC.Symbolics.COM>
Subject: More mailer & domain resolver lossage
To: CJL@REAGAN.AI.MIT.EDU
cc: Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM, Bug-Lispm@OZ.AI.MIT.EDU
In-Reply-To: <870629175325.6.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870729114401.9.JWATKINS@ORNITHOPTER.SCRC.Symbolics.COM>

    Date: Mon, 29 Jun 87 17:53 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    The mailer refuses mail from machines that HELO with domain-style hostnames,
    but arent in the namespace corresponding to the domain in the hostname.

    This is not reasonable behavior.

    Sending letter ... hungry-people@oz.ai.mit.edu... Connecting to oz.ai.mit.edu.tcp...
    220  REAGAN.AI.MIT.EDU SMTP service ready.
    >>> HELO garp.mit.edu
    250  REAGAN.AI.MIT.EDU
    >>> MAIL From:<henry@garp.mit.edu>
    501- The host named #<NAME MIT|GARP 12510050> was not found.
    501- No host with that name is already known by the local machine,
    501- but it is not certain that there is no such host.
    501  Some namespace server did not respond..
    >>> QUIT
    221  Goodbye.


This was just fowarded to me. I'm looking into it.

29-Jul-87 16:35:32-EDT,12762;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jul 87 16:35-EDT
Received: from LAGRANGE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50738; Wed 29-Jul-87 16:35:34 EDT
Date: Wed, 29 Jul 87 16:35 EDT
From: James J. Little <LITTLE@OZ.AI.MIT.EDU>
Subject: Not bug, but comment on Previewer 
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870729163535.1.LITTLE@LAGRANGE.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
7-1-Patches 1.20, MAC 12.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(31), FEP0:>v127-info.flod(44),
Machine serial number 5109,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Lisp Machine Joseph Louis Lagrange:



1Break: 
0While in the function PROCESS-WAIT  TV:KBD-IO-BUFFER-INPUT-WAIT  (FLAVOR:METHOD :INPUT-WAIT TV:STREAM-MIXIN)

The condition signalled was ZL:BREAK

1PROCESS-WAIT0:  2(from SYS:PATCH;SYSTEM-349-98)
0   Arg 0 (SI:WHOSTATE): "Tyi"
   Local 0 (SI:WHOSTATE): #<BREAK 27117563>
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL TV:KBD-IO-BUFFER-INPUT-WAIT 0) 146722256>
   Local 1 (FUNCTION): #<DTP-LOCATIVE 232501502>
   Rest arg (SI:ARGUMENTS): (#<IO-BUFFER empty, State: NIL 244223343> #<DTP-COMPILED-FUNCTION (:INTERNAL SI:READ-CHARACTER-INTERNAL 0) 146100230> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed> NIL #<DTP-LOCATIVE 704730> NIL NIL 10014280 T)
   Local 2 (SI:ARGUMENTS): #<DTP-LOCATIVE 232501501>
   Special SYS:INHIBIT-SCHEDULING-FLAG: NIL

1TV:KBD-IO-BUFFER-INPUT-WAIT0:  (P.C. = 34)  2(from SYS:PATCH;SYSTEM-349-98)
0   Arg 0 (TV:BUFFER): #<IO-BUFFER empty, State: NIL 244223343>
   Arg 1 (TV:WHOSTATE): "Tyi"
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL SI:READ-CHARACTER-INTERNAL 0) 146100230>
   Rest arg (TV:ARGUMENTS): (#<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed> NIL #<DTP-LOCATIVE 704730> NIL NIL 10014280 T)

1(FLAVOR:METHOD :INPUT-WAIT TV:STREAM-MIXIN)0:  (P.C. = 35)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:STREAM-MIXIN 174250424>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-WAIT
   Arg 3 (TV:WHOSTATE): "Tyi"
   Arg 4 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL SI:READ-CHARACTER-INTERNAL 0) 146100230>
   Rest arg (TV:ARGUMENTS): (#<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed> NIL #<DTP-LOCATIVE 704730> NIL NIL 10014280 T)

1(:INTERNAL (FLAVOR:COMBINED :INPUT-WAIT DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-WAIT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): ("Tyi" #<DTP-COMPILED-FUNCTION (:INTERNAL SI:READ-CHARACTER-INTERNAL 0) 146100230> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed> NIL #<DTP-LOCATIVE 704730> NIL NIL 10014280 T)

1(FLAVOR:WHOPPER :INPUT-WAIT SI:INTERACTIVE-STREAM)0:  (P.C. = 25)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174250261>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :INPUT-WAIT DW:DYNAMIC-WINDOW) 0) 147473645>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 4 (FLAVOR::.GENERIC.): :INPUT-WAIT
   Arg 5 (SI:WHOSTATE): NIL
   Arg 6 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL SI:READ-CHARACTER-INTERNAL 0) 146100230>
   Rest arg (SI:ARGUMENTS): (#<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed> NIL #<DTP-LOCATIVE 704730> NIL NIL 10014280 T)

1(FLAVOR:COMBINED :INPUT-WAIT DW:DYNAMIC-WINDOW)0:  (P.C. = 13)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-WAIT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (NIL #<DTP-COMPILED-FUNCTION (:INTERNAL SI:READ-CHARACTER-INTERNAL 0) 146100230> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed> NIL #<DTP-LOCATIVE 704730> NIL NIL 10014280 T)

1SI:READ-CHARACTER-INTERNAL0:  (P.C. = 150)  2(from SYS:PATCH;SYSTEM-349-98)
0   Arg 0 (SI:STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed>
   Arg 1 (SI:PROMPT-X): 0
   Arg 2 (SI:PROMPT-Y): 70
   Rest arg: (:ANY-TYI T :WHOSTATE NIL :TIMEOUT NIL :NOTIFICATION T :REFRESH NIL ...)

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS DVI Previewer 1 15525164>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SYS:READ-CHARACTER 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232501217>
   Rest arg: NIL

1SYS:READ-CHARACTER0:  (P.C. = 105)
   Arg 0 (SI:STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 6 704621 exposed>
   Rest arg (SI:KEYWORDS): (:ANY-TYI T :WHOSTATE NIL :TIMEOUT NIL :NOTIFICATION T :REFRESH NIL ...)

1CP::READ-ACCELERATOR-CHAR0:  (P.C. = 113)
   Rest arg: (:ANY-TYI T :WHOSTATE NIL :INPUT-WAIT NIL :INPUT-WAIT-HANDLER NIL :TIMEOUT NIL ...)

1CP:READ-ACCELERATED-COMMAND0:  (P.C. = 443)
   Rest arg: (:COMMAND-TABLE #<COMMAND-TABLE DVI-PREVIEWER 161251015> :PROMPT "" :INTERCEPT-FUNCTION #<DTP-COMPILED-FUNCTION DW::PROGRAM-TYPEOUT-WINDOW-INTERCEPT-CHARACTER 147426113> :SUSPEND-CHARS NIL :ABORT-CHARS NIL ...)

1DW::READ-PROGRAM-COMMAND0:  (P.C. = 161)
   Arg 0 (DW::PROGRAM): #<DVI-PREVIEWER 244104667>
   Rest arg (DW::OPTIONS): (:WINDOW-WAKEUP #<DTP-COMPILED-FUNCTION DW::DEFAULT-WINDOW-WAKEUP-HANDLER 147426274> :PROMPT "")

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS DVI Previewer 1 15525164>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW:DEFAULT-COMMAND-TOP-LEVEL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232500564>
   Rest arg: NIL

1DW:DEFAULT-COMMAND-TOP-LEVEL0:  (P.C. = 63)
   Arg 0 (DW::PROGRAM): #<DVI-PREVIEWER 244104667>
   Rest arg (DW::OPTIONS): (:PROMPT "")

1TEX:DVI-PREVIEWER-TOP-LEVEL0:  (P.C. = 6)  2(from SYS:TEX;DVI-PREVIEWER)
0   Arg 0 (TEX:PROGRAM): #<DVI-PREVIEWER 244104667>
   Rest arg (TEX:OPTIONS): (:PROMPT "")

1(FLAVOR:METHOD DW::RUN-PROGRAM-TOP-LEVEL DW::PROGRAM)0:  (P.C. = 24)
   Arg 0 (SELF): #<DVI-PREVIEWER 244104667>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::PROGRAM 2460664>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::RUN-PROGRAM-TOP-LEVEL 6757211>
   Rest arg (DW::ARGS): NIL

1DW::PROGRAM-FRAME-TOP-LEVEL0:  (P.C. = 23)
   Arg 0 (DW::WINDOW): #<PROGRAM-FRAME DVI Previewer 1 703667 exposed>

1(FLAVOR:METHOD :EJECT-PAGE TEX:DVI-PREVIEWER-HARDCOPY-STREAM)0:  (P.C. = 75)  2(from SYS:TEX;DVI-PREVIEWER)
0   Arg 0 (SELF): #<DVI-PREVIEWER-HARDCOPY-STREAM 244112173>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TEX:DVI-PREVIEWER-HARDCOPY-STREAM 2471036>
   Arg 2 (FLAVOR::.GENERIC.): :EJECT-PAGE
2   --Defaulted args:--
0   Arg 3 (TEX:EOF): NIL

1(FLAVOR:COMBINED :EJECT-PAGE TEX:DVI-PREVIEWER-HARDCOPY-STREAM)0:  (P.C. = 10)  2(from SYS:TEX;DVI-PREVIEWER)
0   Arg 0 (SELF): #<DVI-PREVIEWER-HARDCOPY-STREAM 244112173>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TEX:DVI-PREVIEWER-HARDCOPY-STREAM 2471036>
   Arg 2 (FLAVOR::.GENERIC.): :EJECT-PAGE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1(DEFUN-IN-FLAVOR TEX:DO-PROCESS-PAGE TEX:DVI-HARDCOPY-INPUT-FILTER)0:  (P.C. = 123)  2(from SYS:TEX;DVI-STREAM)
0   Arg 0 (SELF): #<DVI-HARDCOPY-INPUT-FILTER 244044073>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TEX:DVI-HARDCOPY-INPUT-FILTER 2456625>
   Arg 2 (TEX:PAGENO): 1

1(DEFUN-IN-FLAVOR TEX:PROCESS-PAGE TEX:DVI-HARDCOPY-INPUT-FILTER)0:  (P.C. = 124)  2(from SYS:TEX;DVI-STREAM)
0   Arg 0 (SELF): #<DVI-HARDCOPY-INPUT-FILTER 244044073>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TEX:DVI-HARDCOPY-INPUT-FILTER 2456625>

1(DEFUN-IN-FLAVOR TEX:PROCESS-INPUT-FILE-1 TEX:DVI-HARDCOPY-INPUT-FILTER)0:  (P.C. = 13)  2(from SYS:TEX;DVI-STREAM)
0   Arg 0 (SELF): #<DVI-HARDCOPY-INPUT-FILTER 244044073>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TEX:DVI-HARDCOPY-INPUT-FILTER 2456625>

1(FLAVOR:METHOD :PROCESS-INPUT-STREAM TEX:DVI-HARDCOPY-INPUT-FILTER)0:  (P.C. = 74)  2(from SYS:TEX;DVI-STREAM)
0   Arg 0 (SELF): #<DVI-HARDCOPY-INPUT-FILTER 244044073>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TEX:DVI-HARDCOPY-INPUT-FILTER 2456625>
   Arg 2 (FLAVOR::.GENERIC.): :PROCESS-INPUT-STREAM

1(FLAVOR:METHOD TEX:START-PREVIEWER TEX:DVI-PREVIEWER)0:  (P.C. = 51)  2(from SYS:TEX;DVI-PREVIEWER)
0   Arg 0 (SELF): #<DVI-PREVIEWER 244104667>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TEX:DVI-PREVIEWER 2460654>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION TEX:START-PREVIEWER 7040607>
   Arg 3 (PATHNAME): #P"WH:/wh/little/spie/forproc.dvi"

1(FLAVOR:METHOD TEX:OPEN-DVI-FILE-INTERNAL TEX:DVI-PREVIEWER)0:  (P.C. = 30)  2(from SYS:TEX;DVI-PREVIEWER)
0   Arg 0 (SELF): #<DVI-PREVIEWER 244104667>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TEX:DVI-PREVIEWER 2460654>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION TEX:OPEN-DVI-FILE-INTERNAL 7040617>
   Arg 3 (PATHNAME): #P"WH:/wh/little/spie/forproc.dvi"

1TEX:OPEN-DVI-FILE0:  (P.C. = 6)  2(from SYS:TEX;DVI-PREVIEWER)
0   Rest arg (DW::COMMAND-ARGS): (#P"WH:/wh/little/spie/forproc.dvi")

1(FLAVOR:METHOD SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 43)
   Arg 0 (SELF): #<PROCESS DVI Previewer 1 15525164>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-INTERNAL 6704641>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2 SI:WITH-PROCESS-NON-INTERACTIVE-PRIORITY-BODY) 232500153>
   Rest arg: NIL

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 40)
   Arg 0 (SELF): #<PROCESS DVI Previewer 1 15525164>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW:DEFAULT-COMMAND-TOP-LEVEL 0 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 232500105>
   Rest arg: NIL

1DW:DEFAULT-COMMAND-TOP-LEVEL0:  (P.C. = 63)
   Arg 0 (DW::PROGRAM): #<DVI-PREVIEWER 244104667>
   Rest arg (DW::OPTIONS): (:PROMPT "")

1TEX:DVI-PREVIEWER-TOP-LEVEL0:  (P.C. = 6)  2(from SYS:TEX;DVI-PREVIEWER)
0   Arg 0 (TEX:PROGRAM): #<DVI-PREVIEWER 244104667>
   Rest arg (TEX:OPTIONS): (:PROMPT "")

1(FLAVOR:METHOD DW::RUN-PROGRAM-TOP-LEVEL DW::PROGRAM)0:  (P.C. = 24)
   Arg 0 (SELF): #<DVI-PREVIEWER 244104667>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::PROGRAM 2460664>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::RUN-PROGRAM-TOP-LEVEL 6757211>
   Rest arg (DW::ARGS): NIL

1DW::PROGRAM-FRAME-TOP-LEVEL0:  (P.C. = 23)
   Arg 0 (DW::WINDOW): #<PROGRAM-FRAME DVI Previewer 1 703667 exposed>

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL

   Special SI:SCHEDULER-EXISTS: T
   Special SYS:SCHEDULER-STACK-GROUP: #<STACK-GROUP Scheduler 14721525>
   Special SYS:%CURRENT-STACK-GROUP: #<STACK-GROUP DVI Previewer 1 15525221>
   Special SYS:CURRENT-PROCESS: #<PROCESS DVI Previewer 1 15525164>


Not really a bug report.  Just an easy way to get to the author or
maintainer.  How do I preview a document formatted for a text width
of 9.25 inches?  Seems when I scroll sideways, the page has been
truncated.  Am I missing something?  If not, the Previewer should
be extended, so that I and others can preview text that wide.
29-Jul-87 16:45:46-EDT,1764;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jul 87 16:45-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 50748; Wed 29-Jul-87 16:43:57 EDT
Date: Wed, 29 Jul 87 16:43 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Not bug, but comment on Previewer 
To: LITTLE@OZ.AI.MIT.EDU
cc: Bug-LispM@OZ.AI.MIT.EDU
In-Reply-To: <870729163535.1.LITTLE@LAGRANGE.AI.MIT.EDU>
Message-ID: <870729164357.4.CJL@OTIS.AI.MIT.EDU>

    Date: Wed, 29 Jul 87 16:35 EDT
    From: James J. Little <LITTLE@OZ.AI.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
    7-1-Patches 1.20, MAC 12.1, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3640-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-debug.flod(31), FEP0:>v127-info.flod(44),
    Machine serial number 5109,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
    DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Lisp Machine Joseph Louis Lagrange:

    Not really a bug report.  Just an easy way to get to the author or
    maintainer.  How do I preview a document formatted for a text width
    of 9.25 inches?  Seems when I scroll sideways, the page has been
    truncated.  Am I missing something?  If not, the Previewer should
    be extended, so that I and others can preview text that wide.

The previewer recognizes all the same specials as the printers, so it
recognizes \special{11x17}, and sizes the page accordingly.
29-Jul-87 17:16:02-EDT,1869;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 29 Jul 87 17:15-EDT
Received: from KILLINGTON.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 66080; Wed 29-Jul-87 17:15:52 EDT
Date: Wed, 29 Jul 87 17:16 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: compiler typep bug
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870729171628.9.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
7-1-Patches 1.20, MAC 12.1, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental CLX 5.1,
Experimental Mercury 10.0, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Killington:

(defun foo (x) (typep x '(simple-array integer 1)))
FOO

(compile *)
For Function FOO
  INTEGER is not a recognized array element type in (ARRAY INTEGER 1)
  '(ARRAY INTEGER 1) is not a known type
FOO

How many confusing things can you spot?  INTEGER isn't recognized?
(:element-type 'integer is accepted.)  '(ARRAY INTEGER 1) is not known?
(make-sequence is happy to take it.)  Complaining about ARRAY when I
typed SIMPLE-ARRAY?

A message about "(typep x '(simple-array integer 1)) will always return
false in this implementation" would be more appropriate (if deemed
desirable), but in that case perhaps the compiler ought to generate nil
instead of the expanded typep code.
30-Jul-87 14:04:03-EDT,4969;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jul 87 14:03-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50956; 30 Jul 87 14:04:16 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 202821; 30 Jul 87 14:04:47 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 66455; Thu 30-Jul-87 11:02:42 PDT
Date: Thu, 30 Jul 87 11:02 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: dw:get-program-pane broken
To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870724181738.1.TIERNEY@WINNIE-THE-POOH.MIT.EDU>
Message-ID: <870730110242.3.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

    Date: Fri, 24 Jul 87 18:17 EDT
    From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	Received: by EDDIE.MIT.EDU with sendmail-5.45/4.7 id <AA14908@EDDIE.MIT.EDU>; Fri, 24 Jul 87 13:49:18 EDT
	Received: by ATHENA.MIT.EDU (5.45/4.7) id AA06874; Fri, 24 Jul 87 13:51:04 EDT
	Received: by ACHILLES (5.45/4.7) id AA11015; Fri, 24 Jul 87 13:50:49 EDT
	Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 198577; 24 Jul 87 13:50:02 EDT
	Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 65287; Fri 24-Jul-87 10:48:08 PDT
	Date: Fri, 24 Jul 87 10:48 PDT
	From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
	Subject: dw:get-program-pane broken
	To: sr.tierney%SPEECH.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
	Cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
		customer-reports@VERMITHRAX.SCH.Symbolics.COM
	In-Reply-To: <870723100545.7.TIERNEY@GRIZZLY.MIT.EDU>
	Message-Id: <870724104807.0.TREV@CALYPSO.SCH.Symbolics.COM>
	Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
				 (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
	Fonts: CPTFONT, CPTFONTCB, CPTFONTI

	    Date: Thu, 23 Jul 87 10:05 EDT
	    From: Sean Tierney <sr.tierney@SPEECH.MIT.EDU>

	    In Symbolics 3600 Genera 7.1, Hacks 3.0, Zoo 7.8, IP-TCP 52.16,
	    7-1-Patches 1.19, Speech Printers 2.1, SPIRE 18.3,
	    Experimental SPIRE Extensions 7.3, microcode 3600-MIC 396, FEP 127,
	    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	    World load FEP0:>Zoo-7-1-F-SPIRE.load.1, on Lisp Machine Grizzly:

	    dw:accepting-values sets dw:*program-frame* to something that looks like this
	    1#<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE0 1Accept0 1Values 1 1500205 exposed>
0	    Unfortunately dw:get-program-pane uses dw:*program-frame* to find panes.
	    Seems like either this should be done right, or we users should be given
	    the option to specify a frame when calling dw:get-program-pane.

	This ought to be straightforward, but I have to convince the writers 
	that enough people will have use for their own frame.  What kind of
	applications should I say this is needed for?  (They 2will0 ask me.)

	    1Error: There is no CL-SPI::OTHER-ATT-DISPLAY-PANE pane of #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed>
0	    While in the function DW:GET-PROGRAM-PANE  (FLAVOR:METHOD (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN :AFTER)  (FLAVOR:COMBINED (CL:SETF CL-SPI::SEAN-OTHER-ATT-TO-DISPLAY) CL-SPI::SEAN)

	    The condition signalled was FERROR

	[...]


    This happens to me when I try to write an after method for setf of an
    instance variable in order
    to update a display.  It can be worked around, since dw:*program-frame*
    is bound back to the displayed program frame when control leaves
    the momentary window.  It can be worked around sometimes, but can be a
    hassle.

Clear enough.  Thanks for the continuing illustrations.
I'll give this to the DW people now, and you'll be the
first to hear the results (assuming you read mail fairly
often).

-trev

    Here is an example of the sort of stuff I would like to do.
    I don't really know of a clean way to do this sort of thing when using
    avv menus

    (defmethod ((setf foo-bar) foo :after) (new-value)
      (when (something-funky-p new-value)
	(redisplay-my-pane (dw:get-program-pane 'some-pane))))

    (defun (choose-options)
	   (some-instance)
      (dw:accepting-values (*query-io* :own-window t)
	(setf (foo-bar some-instance) (accept 'some-presentation-type
					      :prompt "Some value"))))





30-Jul-87 15:21:14-EDT,2900;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jul 87 15:21-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 66249; 30 Jul 87 15:21:17 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 202898; 30 Jul 87 15:16:25 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 66492; Thu 30-Jul-87 12:14:14 PDT
Date: Thu, 30 Jul 87 12:14 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: compiler typep bug
To: RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870729171628.9.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870730121415.4.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Wed, 29 Jul 87 17:16 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
    7-1-Patches 1.20, MAC 12.1, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental CLX 5.1,
    Experimental Mercury 10.0, microcode 3640-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
    DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Killington:

    (defun foo (x) (typep x '(simple-array integer 1)))
    FOO

    (compile *)
    For Function FOO
      INTEGER is not a recognized array element type in (ARRAY INTEGER 1)
      '(ARRAY INTEGER 1) is not a known type
    FOO

    How many confusing things can you spot?  INTEGER isn't recognized?
    (:element-type 'integer is accepted.)  '(ARRAY INTEGER 1) is not known?
    (make-sequence is happy to take it.)  Complaining about ARRAY when I
    typed SIMPLE-ARRAY?

The compiler is a law unto itself...it doesn't recognize
lots of things that Lisp in general knows about.  I'll
send this on to the compilers to see whether they choose
to defend their warning messages or implement yours (we've
been getting many complaints lately about cryptic warnings
from the compiler and SCT).

-trev

    A message about "(typep x '(simple-array integer 1)) will always return
    false in this implementation" would be more appropriate (if deemed
    desirable), but in that case perhaps the compiler ought to generate nil
    instead of the expanded typep code.




30-Jul-87 15:30:50-EDT,1723;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jul 87 15:30-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50970; 30 Jul 87 15:31:09 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 202915; 30 Jul 87 15:30:18 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 66499; Thu 30-Jul-87 12:27:12 PDT
Date: Thu, 30 Jul 87 12:27 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: Interpreting COMPILE-FLAVOR-METHODS
To: HENRY%APIARY-5.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    Bug-Lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <"870727135539.1.HENRY@APIARY-5"@QUANTUM.MEDIA.MIT.EDU>
Message-ID: <870730122713.7.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Mon, 27 Jul 87 13:55 EDT
    From: <HENRY@APIARY-5.AI.MIT.EDU>


    Interpreting code containing a COMPILE-FLAVOR-METHODS produces 
    a warning that the code may not work.  Why?  What does this mean?
    I thought this was just supposed to be an optimization, it should
    not affect the semantics of code.  It should be harmless in
    interpreted code.

The documentation for COMPILE-FLAVOR-METHODS has a few choice
words on this very symptom.  It is harmless; the writers just
want to remind you that the flavor and all its methods have to
be compiled first.  It ends with the disclaimer, "If you see
this warning and no other warnings, you win" (or something
to that effect".  No problem.

-trev


30-Jul-87 15:41:02-EDT,2263;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jul 87 15:40-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50975; 30 Jul 87 15:41:17 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 202928; 30 Jul 87 15:41:39 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 66505; Thu 30-Jul-87 12:39:36 PDT
Date: Thu, 30 Jul 87 12:39 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: (DELETE X Y :TEST #'EQ)
To: Alan%AI.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-Lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870725211327.6.ALAN@MARLEY.AI.MIT.EDU>
Message-ID: <870730123936.9.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Sat, 25 Jul 87 21:13 EDT
    From: Alan Bawden <Alan@AI.AI.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
    7-1-Patches 1.20, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5229,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
    DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10,
    Patches for Alan (from B:>Alan>Rel7-Patch), on Lisp Machine Bob Marley:

    I'm disappointed to see that (DELETE X Y :TEST #'EQ) isn't optimized by the
    compiler into something more efficient, although (DELETE X Y :TEST #'EQL)
    is.  This means that the former takes about -twice- as long as the latter!

Again, I'll see whether the compiler people have a 
valid reason (probably just an oversight...there
are still lots of missing optimizers).  Keep re-
porting them for a better 7.2 (or whatever it's
finally called).

-trev


30-Jul-87 15:49:02-EDT,4081;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jul 87 15:48-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 50980; 30 Jul 87 15:49:21 EDT
Received: from GODZILLA.SCH.Symbolics.COM (GODZILLA.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 202945; 30 Jul 87 15:50:03 EDT
Received: from CALYPSO.SCH.Symbolics.COM (CALYPSO.SCH.Symbolics.COM) by GODZILLA.SCH.Symbolics.COM via INTERNET with SMTP id 69548; 30 Jul 87 12:47:00 PDT
Date: Thu, 30 Jul 87 12:47 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: Bug in presentation-to-command-translators in 7-1-I-load
To: CJL%REAGAN.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: PWC%REAGAN.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870725144749.6.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870730124709.1.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Sat, 25 Jul 87 14:47 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

	Date: Thu, 23 Jul 87 16:08 EDT
	From: Peter W. Cudhea <PWC@REAGAN.AI.MIT.EDU>

	In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
	7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45,
	Mobile Robot Controller and Simulator 7.0, microcode 3640-MIC 396,
	FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	Machine serial number 5233,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
	LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
	DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Hilbert's Nullstellensatz:

	Yesterday I was playing with define-presentation-to-command-translator
	on AI-7-1-H-plus-load, and it worked fine.  Today, on
	AI-7-1-I-Macsyma.load, there is some bug whereby mouse handlers that are
	applicable are not found.  So something was introduced very recently
	that causes this not to work!

	I found the problem in my own code, but it also shows up in a standard
	example program, which saves me from having to write a test program.
	You can duplicate the bug by compiling and loading the file
	"sys:examples;ui-application-example.lisp" and typing select-*.  Then
	execute ":Show Employees" to get a list of employees.  Now, there are
	supposed to be several handlers that get activated when you put the
	mouse over "Fred Flinstone" or "Barney Rubble", but they aren't being
	found.  However, if you enter the presentation inspector and type ":show
	handler context applicability (for handler) change-employee-status",
	then it DOES find that the handler is applicable, and prints out a nice
	little message asking you to report this bug.  (Hence this message!)

Yes, I've played with this example before, but never noticed the missing
handlers.  I'll check out the problem and report it (along with your
theory).  World-Saves should not interact at all without background pro-
cesses, but then a lot of things should not be.  Thanks for the update.

-trev

    This problem has occured before, and Symbolics has been stumped as to why it
    happens, but now I have a theory.  I'll bet the problem is that the world was
    disk-saved at exactly same time that one of those background updates to some
    dw tables were occuring. I'll bet disk save doesn't wait for the background
    update to complete, so the data structures are probably trashed by the disk
    save.

    My extremely kludgy work around for this is my program that does disk saves is
    now gonna do this right before calling disk-save:

    (process-wait "Background Updates" #'(lambda () (null tv:*progress-notes*)))

    We'll see if the problem goes away with new world loads made this way.





30-Jul-87 16:38:58-EDT,1508;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 30 Jul 87 16:38-EDT
Received: from KILLINGTON.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 66267; Thu 30-Jul-87 16:39:00 EDT
Date: Thu, 30 Jul 87 16:38 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: compiler warning silliness
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870730163835.5.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Killington:

(deftype stupid () '(unsigned-byte 32))
"a stupid"
(subtypep 'stupid '(unsigned-byte 32))
T
T
(subtypep '(unsigned-byte 32) 'stupid)
T
T
(defun stupid () (values (the stupid 0)))
STUPID
(compile *)
For Function STUPID
0 is required to be of type STUPID but is in fact of type FIXNUM.
STUPID
(defun ok () (values (the (unsigned-byte 32) 0)))
OK
(compile *)
OK
31-Jul-87 11:28:08-EDT,1069;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 31 Jul 87 11:28-EDT
Received: from MOSCOW-CENTRE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 51079; Fri 31-Jul-87 11:28:37 EDT
Date: Fri, 31 Jul 87 11:28 EDT
From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>
Subject: newline is not return
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870731112828.3.GLR@MOSCOW-CENTRE.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.1,
7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30088,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


#\newline prints out as #\Return (which is not a standard common lisp
character)
31-Jul-87 12:38:41-EDT,2464;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 31 Jul 87 12:38-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 66410; 31 Jul 87 12:38:39 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 203731; 31 Jul 87 12:39:34 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 66806; Fri 31-Jul-87 09:37:23 PDT
Date: Fri, 31 Jul 87 09:37 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: compiler warning silliness
To: RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870730163835.5.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870731093724.1.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Thu, 30 Jul 87 16:38 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
    7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
    DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Killington:

    (deftype stupid () '(unsigned-byte 32))
    "a stupid"
    (subtypep 'stupid '(unsigned-byte 32))
    T
    T
    (subtypep '(unsigned-byte 32) 'stupid)
    T
    T
    (defun stupid () (values (the stupid 0)))
    STUPID
    (compile *)
    For Function STUPID
    0 is required to be of type STUPID but is in fact of type FIXNUM.
    STUPID
    (defun ok () (values (the (unsigned-byte 32) 0)))
    OK
    (compile *)
    OK


OK, I see what it's trying to tell you.  Looks like it
doesn't go far enough in recognizing that fixnums are
stupid...how did you run into this problem (what sort
of application)?  How would you phrase a recommendation
to the compiler folks?



31-Jul-87 13:18:51-EDT,3253;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 31 Jul 87 13:18-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 66426; 31 Jul 87 13:18:58 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 203774; 31 Jul 87 13:19:41 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 66845; Fri 31-Jul-87 10:17:30 PDT
Date: Fri, 31 Jul 87 10:17 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: [LAURA@VX.LCS.MIT.EDU: specifying alternate style to LGP2 blows out]
To: laura%VX.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    Bug-LispM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: The message of 22 Jul 87 14:14 PDT from Laura D. Bagnall <laura@VX.LCS.MIT.EDU>
Message-ID: <870731101727.1.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Wed, 22 Jul 87 17:14:14 edt
    From: Laura D. Bagnall <laura@VX.LCS.MIT.EDU>

    Let's try this one again.  I originally sent this to Bug-Lispm
    thinking it might be a local problem, but I didn't get an answer, so
    let's try customer-reports this time.

    Date: Tue, 7 Jul 87 13:41 EDT
    From: Laura Bagnall <LAURA@VX.LCS.MIT.EDU>
    Subject: specifying alternate style to LGP2 blows out
    To: Bug-LispM@ZERMATT.LCS.MIT.EDU

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Multilisp 14.0,
    Experimental Multilisp Compiler 7, Experimental Bounce 1,
    Experimental LUNIX 1, microcode 3640-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
    Machine serial number 4597,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Flute:

    In attempting to hardcopy a file to a LGP2 printer while specifying an
    alternate font, I typed the following:

    :Hardcopy File VX:/usr/laura/people Pulp :Body Character Style fix.

     I got as far as typing the period after "fix" when it blew out.  The
    same incantation works fine on an Impress printer (Charmin).

It sure does, with any kind of specified style (even NIL).
This must have been noticed before, because it's been fixed
in the development world.  If you really want to specify
alternate styles before then, I can try to find the patch
(it might take a bit of hunting, though).  Let me know,

-trev

    1Error: The value of (FIRST SPEC) in SI:GET-FONT, "Times-Bold", was of the wrong type.
0	   1The function expected one of :STYLE or :FONT.
0    While in the function SI:GET-FONT  DW::CHARACTER-STYLE-VALID?  (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)

    The condition signalled was DBG:WRONG-TYPE-DATUM

[...]


31-Jul-87 13:24:53-EDT,2276;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 31 Jul 87 13:24-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 51104; 31 Jul 87 13:25:18 EDT
Received: from ORNITHOPTER.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 203785; Fri 31-Jul-87 13:26:06 EDT
Date: Fri, 31 Jul 87 13:25 EDT
From: John Watkins <jwatkins@STONY-BROOK.SCRC.Symbolics.COM>
Subject: unnecessarily work in neti:parse-domain-host
To: CJL@REAGAN.AI.MIT.EDU
cc: Bug-LispM@OZ.AI.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870723071235.7.CJL@OTIS.AI.MIT.EDU>
Message-ID: <870731132550.3.JWATKINS@ORNITHOPTER.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Thu, 23 Jul 87 07:12 EDT
    From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental CLX 4.0,
    microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
    FEP0:>g206-loaders.flod(14), FEP0:>g206-disk.flod(5),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30124,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
    DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Lisp Machine Otis Redding:

Apologies if I answered this already. My records indicate I didn't send
you mail beyond a simple ack.

    It is guaranteed that there are only domains with top level domain names,
    so isn't it a waste of time for parse-domain-host to be doing all this work if
    there isn't even a "." in the name of the host?

The problem you mention is on the list of things to improve.
Unfortunately we don't have a fix yet. Hopefully by the next release.

    1NET:FIND-OBJECT-FROM-PROPERTY-LIST0:  (P.C. = 27)
       Arg 0 (NETI:CLASS): :HOST
[trace deleted]

31-Jul-87 14:50:54-EDT,2532;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 31 Jul 87 14:50-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 66463; 31 Jul 87 14:43:30 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 31 Jul 87 14:43-EDT
Date: Fri, 31 Jul 87 14:42 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: compiler warning silliness
To: trev@VERMITHRAX.SCH.Symbolics.COM
cc: Customer-reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870731093724.1.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870731144223.6.RWS@KILLINGTON.LCS.MIT.EDU>

    Date: Fri, 31 Jul 87 09:37 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>

	Date: Thu, 30 Jul 87 16:38 EDT
	From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

	In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.4,
	7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
	FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
	FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
	Machine serial number 5085,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
	LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
	DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Killington:

	(deftype stupid () '(unsigned-byte 32))
	"a stupid"
	(subtypep 'stupid '(unsigned-byte 32))
	T
	T
	(subtypep '(unsigned-byte 32) 'stupid)
	T
	T
	(defun stupid () (values (the stupid 0)))
	STUPID
	(compile *)
	For Function STUPID
	0 is required to be of type STUPID but is in fact of type FIXNUM.
	STUPID
	(defun ok () (values (the (unsigned-byte 32) 0)))
	OK
	(compile *)
	OK


    OK, I see what it's trying to tell you.  Looks like it
    doesn't go far enough in recognizing that fixnums are
    stupid...how did you run into this problem (what sort
    of application)?

Lots of hairy macrology in CLX (the CL interface to X Version 11), with
lots of declarations put in to help other compilers, then invoking such
macrology with "0".

		     How would you phrase a recommendation
    to the compiler folks?

I guess I don't understand the etiquette.  "Fix it" seems an appropriate
recommendation to me.  If that isn't in the correct language, perhaps
you could explain better.
31-Jul-87 21:56:21-EDT,1756;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 31 Jul 87 21:56-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 51169; Fri 31-Jul-87 21:56:54 EDT
Date: Fri, 31 Jul 87 21:56 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Why can't I declare a keyword argument to be a downward-funarg?
To: Bug-Lispm@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870731215637.7.CJL@OTIS.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

In Symbolics 3650 Compiler in Genera 7.1, Hacks 3.0, IP-TCP 52.16,
ILA-NFS 4.5, 7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4,
Pascal 25.10, Experimental X-Window-System 17.4,
Experimental Illustrate 11.3, TeX 1.0, LaTeX 1.0, SliTeX 1.0, YTeX 1.0,
Macsyma 412.45, Experimental Grok 1.2, microcode 3650-MIC 396, FEP 206,
FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-disk.flod(5), FEP0:>g206-debug.flod(4),
FEP0:>g206-info.flod(14), Machine serial number 30124, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404, on Lisp Machine Otis Redding:

Why can't I declare a keyword argument to be a downward-funarg?

(DEFUN FOO (&KEY BAR)
  (DECLARE (SYS:DOWNWARD-FUNARG BAR)))


1Error: (SYS:DOWNWARD-FUNARG BAR) is not a valid declaration
       because BAR not a required or optional argument in (&KEY BAR)
0While in the function SI:DOWNWARD-FUNARG-DEBUGGING-INFO  SI:PARSE-BODY-DECLARATIONS  COMPILER:PARSE-DECLARES
While compiling FOO

 1-Aug-87 19:06:06-EDT,31876;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 1 Aug 87 19:06-EDT
Received: from LAGRANGE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 51228; Sat 1-Aug-87 19:06:24 EDT
Date: Sat, 1 Aug 87 19:06 EDT
From: Philip Greenspun <philg@REAGAN.AI.MIT.EDU>
Subject: died in harcopy menu
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870801190608.1.PHILG@LAGRANGE.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.5,
7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(31), FEP0:>v127-info.flod(44),
Machine serial number 5109, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404, on Lisp Machine Joseph Louis Lagrange:

I typed the following 6 characters after clicking left to modify the font for my
hardcopy request:

swiss.



1Error: The value of (FIRST SPEC) in SI:GET-FONT, "Times-Bold", was of the wrong type.
       The function expected one of :STYLE or :FONT.
0While in the function SI:GET-FONT  DW::CHARACTER-STYLE-VALID?  (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)

The condition signalled was DBG:WRONG-TYPE-DATUM

1SI:GET-FONT0:  (P.C. = 214)  2(from SYS:PATCH;SYSTEM-349-243)
0   Arg 0 (SI:DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 1 (SI:CHARACTER-SET): NIL
   Local 1 (SI:CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>
   Arg 2 (SI:STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 3 (SI:ERROR-P): NIL
   Arg 4 (SI:INQUIRY-ONLY): T
   Local 5: #<DTP-LOCATIVE 53103560>
   Local 6: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 0 SI:RECURSE) 145563702>
   Local 7: #<DTP-LOCATIVE 53103560>
   Local 8: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 2) 145563666>
   Local 9: #<DTP-LOCATIVE 53103560>
   Local 10: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 4) 145563655>
   Local 11 (SI:.RECURSE-FUNCTION-CELL.): #<LEXICAL-CLOSURE (:INTERNAL SI:GET-FONT 0 SI:RECURSE) 53103565>
   Local 12 (SI:SPEC): ("Times-Bold" "" 10.5 1.11)
   Local 13: "Times-Bold"

1DW::CHARACTER-STYLE-VALID?0:  (P.C. = 114)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (DW::STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 1 (DW::AGAINST-DEFAULT): NIL
   Arg 2 (DW::DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>

1(:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL # 1) 25646503> #<LGP2-DISPLAY-DEVICE 120212277> #<ART-BOOLEAN-16 21000350> NIL)
   Arg 1 (DW::DISPLAY-DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 2 (DW::CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>
   Arg 3 (CHARACTER-STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 4 (DW::TRANSLATION): ("Times-Bold" "" 10.5 1.11)

1(:INTERNAL (:INTERNAL (FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE) 0 SI:DOIT) 0 MAPHASH)0:  (P.C. = 13)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((#<LGP2-DISPLAY-DEVICE 120212277> #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 25646511>) #<STANDARD-CHARACTER-SET 120007637>)
   Arg 1 (CHARACTER-STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 2 (SI:TRANSLATION): ("Times-Bold" "" 10.5 1.11)

1(FLAVOR:METHOD CLI::INTERNAL-MAPHASH CLI::ARRAY-TABLE-MIXIN)0:  (P.C. = 75)  2(from SYS:PATCH;SYSTEM-349-234)
0   Arg 0 (SELF): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CLI::ARRAY-TABLE-MIXIN 250327471>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CLI::INTERNAL-MAPHASH 6700615>
   Arg 3 (CLI::INT-REPRESENTATION): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 111 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 167 :ENTRIES-PER-BUCKET 1 :GROWTH-FACTOR ...)
   Arg 4 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0 MAPHASH) 25646521>
   Arg 5 (CLI::RESULT-TYPE): NIL
   Rest arg (CLI::ARGS): NIL

1(FLAVOR:METHOD MAPHASH CLI::BASIC-TABLE)0:  (P.C. = 6)
   Arg 0 (SELF): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>
   Arg 1 (SYS:SELF-MAPPING-TABLE): CLI::BASIC-TABLE
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION MAPHASH 6700535>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0 MAPHASH) 25646521>

1(:INTERNAL (FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE) 0 SI:DOIT)0:  (P.C. = 20)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 25646511>)
   Arg 1: #<STANDARD-CHARACTER-SET 120007637>
   Arg 2 (SI:TABLE): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>

1(FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE)0:  (P.C. = 25)  2(from SYS:PATCH;SYSTEM-349-243)
0   Arg 0: #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:DISPLAY-DEVICE 254024452>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS 6717337>
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 25646511>
   Arg 4 (SI:LIMITED-TO-CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>

1SI:MAP-OVER-CHARACTER-STYLE-TRANSLATIONS0:  (P.C. = 20)
   Arg 0 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 25646511>
   Rest arg: (:DISPLAY-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :CHARACTER-SET #<STANDARD-CHARACTER-SET 120007637>)

1DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES0:  (P.C. = 100)
   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL # 1) 25646503>
   Rest arg: (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL)

1(:INTERNAL (:INTERNAL (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 1) 0)0:  (P.C. = 35)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> NIL NIL)
   Arg 1 (DW::.STRING.): "swiss"
   Arg 2: #<LEXICAL-CLOSURE (:INTERNAL DW::COMPLETE-STRING-INTERNAL 0) 53103236>

1DW::COMPLETE-STRING-INTERNAL0:  (P.C. = 102)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STRING): "swiss"
   Arg 1 (DW::DELIMITERS): "- "
   Arg 2 (DW::POSSIBILITY-GENERATOR): #<LEXICAL-CLOSURE (:INTERNAL # 0) 25646474>
   Arg 3 (DW::ACTION): :COMPLETE

1DW::SUGGESTION-COMPLETER-INTERNAL0:  (P.C. = 26)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STRING): "swiss"
   Arg 1 (DW::GENERATOR): #<LEXICAL-CLOSURE (:INTERNAL # 0) 25646474>
   Rest arg: (:ACTION :COMPLETE)

1(:INTERNAL (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 1)0:  (P.C. = 11)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> NIL NIL)
   Arg 1 (DW::.STRING.): "swiss"
   Arg 2 (DW::.ACTION.): :COMPLETE

1DW:COMPLETE-INPUT0:  (P.C. = 1101)  2(from SYS:PATCH;SYSTEM-349-202)
0   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1: #<LEXICAL-CLOSURE (:INTERNAL # 1) 25646436>
   Rest arg: (:TYPE ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) :INITIALLY-DISPLAY-POSSIBILITIES NIL)

1(DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER)0:  (P.C. = 120)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1: ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 2 (DW::ORIGINAL-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 3 (IGNORE): NIL
   Arg 4 (DW::INITIALLY-DISPLAY-POSSIBILITIES): NIL

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53102500>

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 153)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53102615>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Hardcopy 15055737>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 53102623>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 53102510>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53102210>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::PARSER) 152212447>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53102225> NIL #<DTP-LOCATIVE 53102330>) (DW::CHARACTER-STYLE-FAMILY #<LGP2-DISPLAY-DEVICE 120212277> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 25646417>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53102225> NIL #<DTP-LOCATIVE 53102330>)
   Arg 1: (DW::CHARACTER-STYLE-FAMILY #<LGP2-DISPLAY-DEVICE 120212277> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION DW::CHARACTER-STYLE-FAMILY DW::KEY-GENERATOR)0:  (P.C. = 52)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 25646413>
   Arg 1: DW::CHARACTER-STYLE-FAMILY
   Rest arg: (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR DW::CHARACTER-STYLE-FAMILY 7103060>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 25646413>
   Arg 4 (DW::TYPE-NAME): DW::CHARACTER-STYLE-FAMILY
   Rest arg (DW::DATA-ARGS): (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53102225>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg: (:STREAM #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :PROMPT NIL ...)

1(FLAVOR:METHOD DW::ACCEPT-1 SI:INPUT-STREAM)0:  (P.C. = 10)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:INPUT-STREAM
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-1 6750617>
   Arg 3 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1DW::ACCEPT-10:  (P.C. = 21)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1ACCEPT0:  (P.C. = 13)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((DW::CHARACTER-STYLE-FAMILY :DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL))
   Rest arg (DW::ARGS): (:DEFAULT NIL :PROVIDE-DEFAULT NIL :STREAM #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :PROMPT NIL :ADDITIONAL-BLIP-CHARS (#\.))

1DW::READ-CHARACTER-STYLE-COMPONENT0:  (P.C. = 30)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (DW::COMPONENT-DEFAULT): NIL
   Arg 2 (DW::PROVIDE-DEFAULT): NIL
   Arg 3 (DW::DOT-P): T
   Arg 4 (DW::P-T-NAME): DW::CHARACTER-STYLE-FAMILY
   Rest arg (DW::P-T-DATA-ARGS): (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL :ALLOW-DEVICE-FONT NIL)

1(:INTERNAL (DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER) 2 DW::READ-CHARACTER-STYLE)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> NIL #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> NIL NIL 0 NIL NIL NIL ...)

1(DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER)0:  (P.C. = 343)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1: ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 2 (IGNORE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 3: NIL
   Rest arg (IGNORE): (NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53101330>

1(DEFUN-IN-FLAVOR SI:INPUT-EDITOR-READ SI:INTERACTIVE-STREAM)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174250261>
   Arg 2 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>
   Arg 3 (SI:READ-ARGS): NIL
   Special DBG:*BOUND-HANDLERS*: (#<CASE-HANDLER 120032607>)

1(FLAVOR:METHOD :INPUT-EDITOR SI:INTERACTIVE-STREAM)0:  (P.C. = 160)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174250261>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Arg 3 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>
   Rest arg (SI:READ-ARGS): NIL

1(:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>)

1(FLAVOR:WHOPPER :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0) 147371366>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 4 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (DW::ARGS): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>)

1(FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>)

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 220)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53101445>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Hardcopy 15055737>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 53101453>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53101036>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER) 152212714>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53101053> NIL #<DTP-LOCATIVE 53101156>) (CHARACTER-STYLE-FOR-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 25646307>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53101053> NIL #<DTP-LOCATIVE 53101156>)
   Arg 1: (CHARACTER-STYLE-FOR-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::KEY-GENERATOR)0:  (P.C. = 64)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 25646303>
   Arg 1: CHARACTER-STYLE-FOR-DEVICE
   Rest arg: (:ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CHARACTER-STYLE-FOR-DEVICE 7102464>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 25646303>
   Arg 4 (DW::TYPE-NAME): CHARACTER-STYLE-FOR-DEVICE
   Rest arg (DW::DATA-ARGS): (:ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53101053>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg: (:STREAM #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 24716507> :INPUT-SENSITIZER #<LEXICAL-CLOSURE (:INTERNAL # 0) 25646255> :DEFAULT NIL :DEFAULT-TYPE ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) ...)

1(FLAVOR:METHOD DW::READ-NEW-VALUE DW::ACCEPT-VALUES-STREAM)0:  (P.C. = 273)  2(from SYS:PATCH;SYSTEM-349-25)
0   Arg 0 (SELF): #<ACCEPT-VALUES-STREAM 24703754>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::ACCEPT-VALUES-STREAM 254032446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::READ-NEW-VALUE 6760577>
   Arg 3: #<ACCEPT-VALUES-QUERY 24716507>
   Rest arg: (:EDIT-OLD NIL)

1(FLAVOR:METHOD DW::COM-EDIT-ACCEPT-VALUES-QUERY-VALUE-INTERNAL DW:ACCEPT-VALUES)0:  (P.C. = 20)
   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:ACCEPT-VALUES 250367061>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::COM-EDIT-ACCEPT-VALUES-QUERY-VALUE-INTERNAL 6760607>
   Arg 3 (DW::QUERY): #<ACCEPT-VALUES-QUERY 24716507>
   Rest arg: NIL

1DW::COM-EDIT-ACCEPT-VALUES-QUERY-VALUE0:  (P.C. = 6)
   Rest arg (DW::COMMAND-ARGS): (#<ACCEPT-VALUES-QUERY 24716507>)

1(FLAVOR:METHOD DW::ACCEPT-VALUES-TOP-LEVEL DW:ACCEPT-VALUES)0:  (P.C. = 130)  2(from SYS:PATCH;SYSTEM-349-25)
0   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:ACCEPT-VALUES 250367061>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-VALUES-TOP-LEVEL 6760567>
   Rest arg: (:CONTINUATION #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 25626265> :OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1(FLAVOR:METHOD DW::RUN-PROGRAM-TOP-LEVEL DW::PROGRAM)0:  (P.C. = 24)
   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::PROGRAM 250367046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::RUN-PROGRAM-TOP-LEVEL 6757211>
   Rest arg (DW::ARGS): (:CONTINUATION #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 25626265> :OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1(:INTERNAL DW::ACCEPT-VALUES-INTERNAL-1 0)0:  (P.C. = 7)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53100575>

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :POP-UP
   Arg 1 (TV:STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-1 0) 53100602>

1DW::ACCEPT-VALUES-INTERNAL-10:  (P.C. = 24)
   Arg 0 (DW::PROGRAM): #<ACCEPT-VALUES 120401304>
   Arg 1 (DW::REAL-STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 2 (STREAM): #<ACCEPT-VALUES-STREAM 24703754>
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 25626265>
   Rest arg (DW::ARGS): (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1) 0)0:  (P.C. = 10)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<ACCEPT-VALUES-STREAM 24703754> #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 25626265> (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL) #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> #<ACCEPT-VALUES 120401304>)
   Arg 1 (DW::WINDOW): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>

1(FLAVOR:METHOD :WITH-OUTPUT-TRUNCATION TV:SHEET)0:  (P.C. = 103)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :WITH-OUTPUT-TRUNCATION
   Arg 3 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 25635253>
   Arg 4 (TV:XSTREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Rest arg (TV:OPTIONS): (:VERTICAL T)

1(FLAVOR:COMBINED :WITH-OUTPUT-TRUNCATION DW:DYNAMIC-WINDOW)0:  (P.C. = 17)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :WITH-OUTPUT-TRUNCATION
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 0) 25635253> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :VERTICAL T)

1DW::WITH-OUTPUT-TRUNCATION-INTERNAL0:  (P.C. = 15)
   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 25635253>
   Arg 2 (DW::XSTREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Rest arg (DW::OPTIONS): (:VERTICAL T)

1(:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1)0:  (P.C. = 37)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<ACCEPT-VALUES-STREAM 24703754> #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 25626265> (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL) #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> #<ACCEPT-VALUES 120401304>)

1TV:WINDOW-CALL-INTERNAL0:  (P.C. = 30)
   Arg 0 (TV:WINDOW): #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed>
   Arg 1 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1) 25634537>
   Arg 2 (TV:FINAL-ACTION): :DEACTIVATE
   Rest arg (TV:FINAL-ACTION-ARGS): NIL

1DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW0:  (P.C. = 235)  2(from SYS:PATCH;SYSTEM-349-30)
0   Arg 0: #<ACCEPT-VALUES-STREAM 24703754>
   Arg 1: #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 25626265>
   Rest arg: (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1DW::ACCEPT-VALUES-INTERNAL0:  (P.C. = 33)
   Arg 0 (DW::REAL-STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 1 (STREAM): #<ACCEPT-VALUES-STREAM 24703754>
   Arg 2: #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 25626265>
   Rest arg (DW::ARGS): (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1CP::ACCEPT-VALUES-COMMAND-ARGUMENTS0:  (P.C. = 155)  2(from SYS:PATCH;SYSTEM-349-263)
0   Arg 0: HCI::COM-HARDCOPY-FILE
   Rest arg (CP::ARGS): (:ALLOW-OTHER-KEYS T :INITIAL-ARGUMENTS NIL :MODE :ACCEPT-VALUES :OWN-WINDOW T)

1CP:CHOOSE-COMMAND-ARGUMENTS0:  (P.C. = 171)
   Arg 0 (CP:COMMAND-NAME): HCI::COM-HARDCOPY-FILE
   Rest arg (CP::ARGS): (:INITIAL-ARGUMENTS NIL :MODE :ACCEPT-VALUES :OWN-WINDOW T)

1HCI::HARDCOPY-FILE-MENU0:  (P.C. = 20)
2   --Defaulted args:--
0   Arg 0 (HCI::PATHNAME): NIL

1(FLAVOR:METHOD :EXECUTE TV:MENU-EXECUTE-MIXIN)0:  (P.C. = 53)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:MENU-EXECUTE-MIXIN
   Arg 2 (FLAVOR::.GENERIC.): :EXECUTE
   Arg 3 (TV:ITEM): ("Hardcopy" :EVAL (HCI::HARDCOPY-FILE-MENU) :DOCUMENTATION "Print files on the hardcopy printer")

1(FLAVOR:COMBINED :EXECUTE TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU)0:  (P.C. = 27)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU 204337156>
   Arg 2 (FLAVOR::.GENERIC.): :EXECUTE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (("Hardcopy" :EVAL (HCI::HARDCOPY-FILE-MENU) :DOCUMENTATION "Print files on the hardcopy printer"))

1(FLAVOR:METHOD :CHOOSE TV:BASIC-MENU)0:  (P.C. = 26)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-MENU 204337306>
   Arg 2 (FLAVOR::.GENERIC.): :CHOOSE

1(FLAVOR:COMBINED :CHOOSE TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU)0:  (P.C. = 42)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU 204337156>
   Arg 2 (FLAVOR::.GENERIC.): :CHOOSE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1TV:CALL-SYSTEM-MENU0:  (P.C. = 42)
   Arg 0 (TV:SUPERIOR): #<MAIN-SCREEN Main Screen 1501336 exposed>

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION TV:CALL-SYSTEM-MENU 146670141>
   Rest arg (ZL:ARGS): (#<MAIN-SCREEN Main Screen 1501336 exposed>)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL

   Special SI:*UNDEFINED-CHARACTER-STYLE*: #<CHARACTER-STYLE STANDIN-FOR-UNDEFINED-STYLES.ROMAN.NORMAL 110607015>
 1-Aug-87 19:16:51-EDT,24128;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 1 Aug 87 19:16-EDT
Received: from LAGRANGE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 51231; Sat 1-Aug-87 19:17:11 EDT
Date: Sat, 1 Aug 87 19:17 EDT
From: Philip Greenspun <philg@REAGAN.AI.MIT.EDU>
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870801191700.2.PHILG@LAGRANGE.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.5,
7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3640-MIC 396, FEP 127,
FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(31), FEP0:>v127-info.flod(44),
Machine serial number 5109, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404, on Lisp Machine Joseph Louis Lagrange:

Trying to set the font, I clicked on the "other font" option in a menu and got this

1Error: The value of (FIRST SPEC) in SI:GET-FONT, "Times-Bold", was of the wrong type.
       The function expected one of :STYLE or :FONT.
0While in the function SI:GET-FONT  DW::CHARACTER-STYLE-VALID?  (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)

The condition signalled was DBG:WRONG-TYPE-DATUM

1SI:GET-FONT0:  (P.C. = 214)  2(from SYS:PATCH;SYSTEM-349-243)
0   Arg 0 (SI:DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 1 (SI:CHARACTER-SET): NIL
   Local 1 (SI:CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>
   Arg 2 (SI:STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 3 (SI:ERROR-P): NIL
   Arg 4 (SI:INQUIRY-ONLY): T
   Local 5: #<DTP-LOCATIVE 53102457>
   Local 6: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 0 SI:RECURSE) 145563702>
   Local 7: #<DTP-LOCATIVE 53102457>
   Local 8: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 2) 145563666>
   Local 9: #<DTP-LOCATIVE 53102457>
   Local 10: #<DTP-COMPILED-FUNCTION (:INTERNAL SI:GET-FONT 4) 145563655>
   Local 11 (SI:.RECURSE-FUNCTION-CELL.): #<LEXICAL-CLOSURE (:INTERNAL SI:GET-FONT 0 SI:RECURSE) 53102464>
   Local 12 (SI:SPEC): ("Times-Bold" "" 10.5 1.11)
   Local 13: "Times-Bold"

1DW::CHARACTER-STYLE-VALID?0:  (P.C. = 114)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0 (DW::STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 1 (DW::AGAINST-DEFAULT): NIL
   Arg 2 (DW::DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>

1(:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0)0:  (P.C. = 25)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL # 0) 27235307> #<LGP2-DISPLAY-DEVICE 120212277> #<ART-BOOLEAN-16 21000001> NIL)
   Arg 1 (DW::DISPLAY-DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 2 (DW::CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>
   Arg 3 (CHARACTER-STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 4 (DW::TRANSLATION): ("Times-Bold" "" 10.5 1.11)

1(:INTERNAL (:INTERNAL (FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE) 0 SI:DOIT) 0 MAPHASH)0:  (P.C. = 13)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((#<LGP2-DISPLAY-DEVICE 120212277> #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 27235315>) #<STANDARD-CHARACTER-SET 120007637>)
   Arg 1 (CHARACTER-STYLE): #<CHARACTER-STYLE SERIF-BODY.LISP.NORMAL 110606671>
   Arg 2 (SI:TRANSLATION): ("Times-Bold" "" 10.5 1.11)

1(FLAVOR:METHOD CLI::INTERNAL-MAPHASH CLI::ARRAY-TABLE-MIXIN)0:  (P.C. = 75)  2(from SYS:PATCH;SYSTEM-349-234)
0   Arg 0 (SELF): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor CLI::ARRAY-TABLE-MIXIN 250327471>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION CLI::INTERNAL-MAPHASH 6700615>
   Arg 3 (CLI::INT-REPRESENTATION): #S(CLI::TABLE-ARRAY-LEADER :FILLED-ELEMENTS 111 :ENTRY-SIZE 2 :NUMBER-OF-BUCKETS 167 :ENTRIES-PER-BUCKET 1 :GROWTH-FACTOR ...)
   Arg 4 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0 MAPHASH) 27235325>
   Arg 5 (CLI::RESULT-TYPE): NIL
   Rest arg (CLI::ARGS): NIL

1(FLAVOR:METHOD MAPHASH CLI::BASIC-TABLE)0:  (P.C. = 6)
   Arg 0 (SELF): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>
   Arg 1 (SYS:SELF-MAPPING-TABLE): CLI::BASIC-TABLE
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION MAPHASH 6700535>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0 MAPHASH) 27235325>

1(:INTERNAL (FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE) 0 SI:DOIT)0:  (P.C. = 20)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LGP2-DISPLAY-DEVICE 120212277> #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 27235315>)
   Arg 1: #<STANDARD-CHARACTER-SET 120007637>
   Arg 2 (SI:TABLE): #<OPEN-SCATTER-GC-LOCKING-HASH-ARRAY-ASSOCIATION-MUTATING-TABLE 120212302>

1(FLAVOR:METHOD SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS SI:DISPLAY-DEVICE)0:  (P.C. = 25)  2(from SYS:PATCH;SYSTEM-349-243)
0   Arg 0: #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:DISPLAY-DEVICE 254024452>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:DISPLAY-DEVICE-MAP-OVER-CHARACTER-STYLE-TRANSLATIONS 6717337>
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 27235315>
   Arg 4 (SI:LIMITED-TO-CHARACTER-SET): #<STANDARD-CHARACTER-SET 120007637>

1SI:MAP-OVER-CHARACTER-STYLE-TRANSLATIONS0:  (P.C. = 20)
   Arg 0 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES 0) 27235315>
   Rest arg: (:DISPLAY-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :CHARACTER-SET #<STANDARD-CHARACTER-SET 120007637>)

1DW::MAP-OVER-VALID-CHARACTER-STYLE-FAMILIES0:  (P.C. = 100)
   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL # 0) 27235307>
   Rest arg: (:DEVICE #<LGP2-DISPLAY-DEVICE 120212277> :ALLOW-RELATIVE NIL)

1(:INTERNAL DW::STYLE-FROM-MENU-CHOOSE-FAMILY 2 DW::CHOOSE-FAMILY)0:  (P.C. = 23)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<LGP2-DISPLAY-DEVICE 120212277> NIL #<DTP-LOCATIVE 53102152> #<LEXICAL-CLOSURE (:INTERNAL DW::STYLE-FROM-MENU-CHOOSE-FAMILY 1 DW::CHOOSE) 27235275>)

1DW::STYLE-FROM-MENU-CHOOSE-FAMILY0:  (P.C. = 45)
   Arg 0: #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351>
   Arg 1: #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 2: NIL

1DW::GET-CHARACTER-STYLE-FROM-MENU0:  (P.C. = 17)
   Arg 0 (DW::DEFAULT): #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351>
   Arg 1 (DW::DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 2 (DW::ALLOW-RELATIVE): NIL

1DW::READ-MENU-BLIP0:  (P.C. = 77)
   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (DW::AGAINST-DEFAULT): #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351>
   Arg 2 (DW::DEVICE): #<LGP2-DISPLAY-DEVICE 120212277>
   Arg 3 (DW::ALLOW-RELATIVE): NIL

1(DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER)0:  (P.C. = 301)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1: ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 2 (IGNORE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 3: #<CHARACTER-STYLE SWISS.ROMAN.NORMAL 110607033>
   Rest arg (IGNORE): (NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 2)0:  (P.C. = 625)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53101330>
   Special DBG:*BOUND-HANDLERS*: (#<LEXICAL-CLOSURE (:INTERNAL # 2) 53101747> #<CASE-HANDLER 120032607>)

1(DEFUN-IN-FLAVOR SI:INPUT-EDITOR-READ SI:INTERACTIVE-STREAM)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174250261>
   Arg 2 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>
   Arg 3 (SI:READ-ARGS): NIL

1(FLAVOR:METHOD :INPUT-EDITOR SI:INTERACTIVE-STREAM)0:  (P.C. = 160)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:INTERACTIVE-STREAM 174250261>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Arg 3 (SI:READ-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>
   Rest arg (SI:READ-ARGS): NIL

1(:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0)0:  (P.C. = 11)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>)

1(FLAVOR:WHOPPER :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 54)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW) 0) 147371366>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 4 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (DW::ARGS): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>)

1(FLAVOR:COMBINED :INPUT-EDITOR DW:DYNAMIC-WINDOW)0:  (P.C. = 12)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :INPUT-EDITOR
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>)

1(:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 0 LT:BODY)0:  (P.C. = 220)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53101445>

1(FLAVOR:METHOD SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL SI:PROCESS)0:  (P.C. = 22)
   Arg 0 (SELF): #<PROCESS Hardcopy 15055737>
   Arg 1 (SYS:SELF-MAPPING-TABLE): SI:PROCESS
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION SI:WITH-PROCESS-INTERACTIVE-PRIORITY-INTERNAL 6704631>
   Arg 3 (SI:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL SI:WITH-INPUT-EDITING-INTERNAL 1 SI:WITH-PROCESS-INTERACTIVE-PRIORITY-BODY) 53101453>
   Rest arg: NIL

1SI:WITH-INPUT-EDITING-INTERNAL0:  (P.C. = 36)  2(from SYS:PATCH;SYSTEM-349-169)
0   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (CLI::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 2) 53101340>
   Arg 2 (CLI::ACTIVATORS): NIL
   Arg 3 (CLI::LINE-P): NIL

1(:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD)0:  (P.C. = 323)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53101036>
   Arg 1 (DW::REAL-PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::PARSER) 152212714>
   Arg 3 (IGNORE): (:PROPERTY DW::PARSER DW::COMPAT-KLUDGE)
   Arg 4 (DW::PREDICATE): NIL

1(:INTERNAL (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 0)0:  (P.C. = 112)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): ((((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53101053> NIL #<DTP-LOCATIVE 53101156>) (CHARACTER-STYLE-FOR-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>))
   Arg 1 (DW::PRKEY): NIL

1DW::CALL-WITH-ONE-LEVEL-KEY0:  (P.C. = 32)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 27233622>
   Arg 1 (DW::KEY): NIL

1(:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY)0:  (P.C. = 40)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) DW::PARSER T #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53101053> NIL #<DTP-LOCATIVE 53101156>)
   Arg 1: (CHARACTER-STYLE-FOR-DEVICE #<LGP2-DISPLAY-DEVICE 120212277> #<CHARACTER-STYLE FIX.ROMAN.NORMAL 110604351> #<DTP-LOCATIVE 3300000> #<DTP-LOCATIVE 3300000>)

1(DW::PRESENTATION-FUNCTION CHARACTER-STYLE-FOR-DEVICE DW::KEY-GENERATOR)0:  (P.C. = 64)  2(from SYS:PATCH;SYSTEM-349-72)
0   Arg 0: #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 27233616>
   Arg 1: CHARACTER-STYLE-FOR-DEVICE
   Rest arg: (:ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)

1(FLAVOR:METHOD DW::WITH-CACHE-KEY DW:PRESENTATION-TYPE-DESCRIPTOR)0:  (P.C. = 22)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (SELF): #<PRESENTATION-TYPE-DESCRIPTOR CHARACTER-STYLE-FOR-DEVICE 7102464>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:PRESENTATION-TYPE-DESCRIPTOR 220146046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::WITH-CACHE-KEY 6713123>
   Arg 3 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL DW::WITH-TYPE-METHOD-INTERNAL 2 #:CACHE-KEY-BODY) 27233616>
   Arg 4 (DW::TYPE-NAME): CHARACTER-STYLE-FOR-DEVICE
   Rest arg (DW::DATA-ARGS): (:ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)

1DW::WITH-TYPE-METHOD-INTERNAL0:  (P.C. = 205)  2(from SYS:PATCH;SYSTEM-349-262)
0   Arg 0: ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Arg 1: DW::PARSER
   Arg 2: T
   Arg 3: #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-2 9 DW::WITH-TYPE-METHOD) 53101053>

1DW::ACCEPT-20:  (P.C. = 506)  2(from SYS:PATCH;SYSTEM-349-244)
0   Arg 0 (DW:PRESENTATION-TYPE): ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>))
   Rest arg: (:STREAM #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :QUERY-IDENTIFIER #<ACCEPT-VALUES-QUERY 31632245> :INPUT-SENSITIZER #<LEXICAL-CLOSURE (:INTERNAL # 0) 27233570> :DEFAULT #<CHARACTER-STYLE SWISS.ROMAN.NORMAL 110607033> :DEFAULT-TYPE ((CHARACTER-STYLE-FOR-DEVICE :ALLOW-RELATIVE NIL :DEVICE #<LGP2-DISPLAY-DEVICE 120212277>)) ...)

1(FLAVOR:METHOD DW::READ-NEW-VALUE DW::ACCEPT-VALUES-STREAM)0:  (P.C. = 273)  2(from SYS:PATCH;SYSTEM-349-25)
0   Arg 0 (SELF): #<ACCEPT-VALUES-STREAM 314041527>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::ACCEPT-VALUES-STREAM 254032446>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::READ-NEW-VALUE 6760577>
   Arg 3: #<ACCEPT-VALUES-QUERY 31632245>
   Rest arg: (:EDIT-OLD NIL)

1(FLAVOR:METHOD DW::COM-EDIT-ACCEPT-VALUES-QUERY-VALUE-INTERNAL DW:ACCEPT-VALUES)0:  (P.C. = 20)
   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:ACCEPT-VALUES 250367061>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::COM-EDIT-ACCEPT-VALUES-QUERY-VALUE-INTERNAL 6760607>
   Arg 3 (DW::QUERY): #<ACCEPT-VALUES-QUERY 31632245>
   Rest arg: NIL

1DW::COM-EDIT-ACCEPT-VALUES-QUERY-VALUE0:  (P.C. = 6)
   Rest arg (DW::COMMAND-ARGS): (#<ACCEPT-VALUES-QUERY 31632245>)

1(FLAVOR:METHOD DW::ACCEPT-VALUES-TOP-LEVEL DW:ACCEPT-VALUES)0:  (P.C. = 130)  2(from SYS:PATCH;SYSTEM-349-25)
0   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:ACCEPT-VALUES 250367061>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::ACCEPT-VALUES-TOP-LEVEL 6760567>
   Rest arg: (:CONTINUATION #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 27120540> :OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1(FLAVOR:METHOD DW::RUN-PROGRAM-TOP-LEVEL DW::PROGRAM)0:  (P.C. = 24)
   Arg 0 (SELF): #<ACCEPT-VALUES 120401304>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW::PROGRAM 250367046>
   Arg 2 (FLAVOR::.GENERIC.): #<GENERIC-FUNCTION DW::RUN-PROGRAM-TOP-LEVEL 6757211>
   Rest arg (DW::ARGS): (:CONTINUATION #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 27120540> :OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1(:INTERNAL DW::ACCEPT-VALUES-INTERNAL-1 0)0:  (P.C. = 7)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 53100575>

1TV:WITH-NOTIFICATION-MODE-INTERNAL0:  (P.C. = 15)
   Arg 0 (TV:NEW-MODE): :POP-UP
   Arg 1 (TV:STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 2 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-1 0) 53100602>

1DW::ACCEPT-VALUES-INTERNAL-10:  (P.C. = 24)
   Arg 0 (DW::PROGRAM): #<ACCEPT-VALUES 120401304>
   Arg 1 (DW::REAL-STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 2 (STREAM): #<ACCEPT-VALUES-STREAM 314041527>
   Arg 3 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 27120540>
   Rest arg (DW::ARGS): (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1(:INTERNAL (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1) 0)0:  (P.C. = 10)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<ACCEPT-VALUES-STREAM 314041527> #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 27120540> (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL) #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> #<ACCEPT-VALUES 120401304>)
   Arg 1 (DW::WINDOW): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>

1(FLAVOR:METHOD :WITH-OUTPUT-TRUNCATION TV:SHEET)0:  (P.C. = 103)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (FLAVOR::.GENERIC.): :WITH-OUTPUT-TRUNCATION
   Arg 3 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 27127544>
   Arg 4 (TV:XSTREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Rest arg (TV:OPTIONS): (:VERTICAL T)

1(FLAVOR:COMBINED :WITH-OUTPUT-TRUNCATION DW:DYNAMIC-WINDOW)0:  (P.C. = 17)
   Arg 0 (SELF): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor DW:DYNAMIC-WINDOW 174250177>
   Arg 2 (FLAVOR::.GENERIC.): :WITH-OUTPUT-TRUNCATION
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (#<LEXICAL-CLOSURE (:INTERNAL # 0) 27127544> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> :VERTICAL T)

1DW::WITH-OUTPUT-TRUNCATION-INTERNAL0:  (P.C. = 15)
   Arg 0 (STREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Arg 1 (DW::CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0) 27127544>
   Arg 2 (DW::XSTREAM): #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed>
   Rest arg (DW::OPTIONS): (:VERTICAL T)

1(:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1)0:  (P.C. = 37)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<ACCEPT-VALUES-STREAM 314041527> #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 27120540> (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL) #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed> #<DYNAMIC-WINDOW-PANE Dynamic Window Pane 2 1500525 exposed> #<ACCEPT-VALUES 120401304>)

1TV:WINDOW-CALL-INTERNAL0:  (P.C. = 30)
   Arg 0 (TV:WINDOW): #<TEMPORARY-WINDOW-PROGRAM-FRAME-RESOURCE Accept Values 1 1500205 exposed>
   Arg 1 (TV:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW 1) 27127043>
   Arg 2 (TV:FINAL-ACTION): :DEACTIVATE
   Rest arg (TV:FINAL-ACTION-ARGS): NIL

1DW::ACCEPT-VALUES-INTERNAL-OWN-WINDOW0:  (P.C. = 235)  2(from SYS:PATCH;SYSTEM-349-30)
0   Arg 0: #<ACCEPT-VALUES-STREAM 314041527>
   Arg 1: #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 27120540>
   Rest arg: (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1DW::ACCEPT-VALUES-INTERNAL0:  (P.C. = 33)
   Arg 0 (DW::REAL-STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 1 (STREAM): #<ACCEPT-VALUES-STREAM 314041527>
   Arg 2: #<LEXICAL-CLOSURE (:INTERNAL CP::ACCEPT-VALUES-COMMAND-ARGUMENTS 0 DW:ACCEPTING-VALUES) 27120540>
   Rest arg (DW::ARGS): (:OWN-WINDOW T :LABEL "Hardcopy File" :NEAR-MODE (:MOUSE) :INITIALLY-SELECT-QUERY-IDENTIFIER NIL)

1CP::ACCEPT-VALUES-COMMAND-ARGUMENTS0:  (P.C. = 155)  2(from SYS:PATCH;SYSTEM-349-263)
0   Arg 0: HCI::COM-HARDCOPY-FILE
   Rest arg (CP::ARGS): (:ALLOW-OTHER-KEYS T :INITIAL-ARGUMENTS NIL :MODE :ACCEPT-VALUES :OWN-WINDOW T)

1CP:CHOOSE-COMMAND-ARGUMENTS0:  (P.C. = 171)
   Arg 0 (CP:COMMAND-NAME): HCI::COM-HARDCOPY-FILE
   Rest arg (CP::ARGS): (:INITIAL-ARGUMENTS NIL :MODE :ACCEPT-VALUES :OWN-WINDOW T)

1HCI::HARDCOPY-FILE-MENU0:  (P.C. = 20)
2   --Defaulted args:--
0   Arg 0 (HCI::PATHNAME): NIL

1(FLAVOR:METHOD :EXECUTE TV:MENU-EXECUTE-MIXIN)0:  (P.C. = 53)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): TV:MENU-EXECUTE-MIXIN
   Arg 2 (FLAVOR::.GENERIC.): :EXECUTE
   Arg 3 (TV:ITEM): ("Hardcopy" :EVAL (HCI::HARDCOPY-FILE-MENU) :DOCUMENTATION "Print files on the hardcopy printer")

1(FLAVOR:COMBINED :EXECUTE TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU)0:  (P.C. = 27)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU 204337156>
   Arg 2 (FLAVOR::.GENERIC.): :EXECUTE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): (("Hardcopy" :EVAL (HCI::HARDCOPY-FILE-MENU) :DOCUMENTATION "Print files on the hardcopy printer"))

1(FLAVOR:METHOD :CHOOSE TV:BASIC-MENU)0:  (P.C. = 26)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-MENU 204337306>
   Arg 2 (FLAVOR::.GENERIC.): :CHOOSE

1(FLAVOR:COMBINED :CHOOSE TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU)0:  (P.C. = 42)
   Arg 0 (SELF): #<DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU Dynamic Multicolumn Momentary Window Hacking Process Renaming Menu 1 1502720 deactivated>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU 204337156>
   Arg 2 (FLAVOR::.GENERIC.): :CHOOSE
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): NIL

1TV:CALL-SYSTEM-MENU0:  (P.C. = 42)
   Arg 0 (TV:SUPERIOR): #<MAIN-SCREEN Main Screen 1501336 exposed>

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION TV:CALL-SYSTEM-MENU 146670141>
   Rest arg (ZL:ARGS): (#<MAIN-SCREEN Main Screen 1501336 exposed>)

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL

   Special SI:*UNDEFINED-CHARACTER-STYLE*: #<CHARACTER-STYLE STANDIN-FOR-UNDEFINED-STYLES.ROMAN.NORMAL 110607015>
 4-Aug-87 13:32:33-EDT,2057;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Aug 87 13:32-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 51579; 4 Aug 87 13:32:06 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 206340; 4 Aug 87 13:20:29 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 67522; Tue 4-Aug-87 10:18:25 PDT
Date: Tue, 4 Aug 87 10:18 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: newline is not return
To: GLR%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-Lispm%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    Customer-Reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870731112828.3.GLR@MOSCOW-CENTRE.AI.MIT.EDU>
Message-ID: <870804101844.1.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Fri, 31 Jul 87 11:28 EDT
    From: Jerry Roylance <GLR@OZ.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.1,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30088,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Moscow Centre:


    #\newline prints out as #\Return (which is not a standard common lisp
    character)

Thanks for keeping us honest.  The number of compatibility-
wrinkles still around is surprising...they should be 90% gone
by the time of the next release.

-trev

P.S.  We've been getting some undeliverable mail returned
from the AI and Speech labs this last week...have you been
having any trouble with your mailer lately, or is the prob-
lem on our end?



 4-Aug-87 13:47:24-EDT,3711;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Aug 87 13:47-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 67089; 4 Aug 87 13:46:47 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 206373; 4 Aug 87 13:47:31 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 67548; Tue 4-Aug-87 10:45:27 PDT
Date: Tue, 4 Aug 87 10:45 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: Zmacs loss
To: philg%REAGAN.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870610172935.1.PHILG@ROCKY-GRAZIANO.LCS.MIT.EDU>
Message-ID: <870804104546.4.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Wed, 10 Jun 87 17:29 EDT
    From: Philip Greenspun <philg@REAGAN.AI.MIT.EDU>

    In Symbolics 3640 Release 6.G2, IP-TCP 29.13, Release-6-7 6.0,
    6-1-Patches 1.27, MAC 5.2, Macsyma 396.42,
    microcode TMC5-IO4-COL-MIC 388, FEP 127, FEP0:>v127-lisp.flod(55),
    FEP0:>v127-loaders.flod(55), FEP0:>v127-debug.flod(34),
    FEP0:>v127-info.flod(54), on Lisp Machine Rocky Graziano:

    I typed Meta-J by mistake and got this ...

It won't break for me, in Rel. 6 or 7.  Maybe some more
background information would help here...does it do this
to you repeatably?  m-J should always offer to change the
font or character-style of a word.  Let me know if this
occurs during certain operation(s), or at random.  It's
still a mystery to me.  (Also excuse the long delay...
this was just forwarded to me after sitting for weeks on
an obscure bug-list).

-trev

    >>Trap: The argument given to the ZEROP instruction, NIL, was not a number.
    While in the function ZWEI:CHANGE-FONT-INTERVAL  ZWEI:COM-CHANGE-FONT-WORD  ZWEI:COMMAND-EXECUTE

    ZWEI:CHANGE-FONT-INTERVAL:  (P.C. = 37)
       Arg 0 (ZWEI:START-BP): ("program is readily understood by a novice." 42 :NORMAL)
       Arg 1 (ZWEI:END-BP): (" and, due to the complexity of interaction among" 4)
       Arg 2 (ZWEI:IN-ORDER-P): NIL
       Arg 3 (ZWEI:FONT-NUM): NIL
       Local 4 (ZWEI:LINE): "program is readily understood by a novice."
       Local 5 (ZWEI:LIMIT-LINE): " and, due to the complexity of interaction among"
       Local 6 (ZWEI:START-INDEX): 42
       Local 7 (ZWEI:LAST-LINE-P): NIL

    ZWEI:COM-CHANGE-FONT-WORD:  (P.C. = 22)

    ZWEI:COMMAND-EXECUTE:  (P.C. = 57)
       Arg 0 (ZWEI:COMMAND): ZWEI:COM-CHANGE-FONT-WORD
       Arg 1 (ZWEI:CHAR): 586
       Arg 2 (ZWEI:PREFIX-CHAR): NIL
       Arg 3 (ZWEI:HOOK-LIST): NIL

    ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
       Arg 0 (ZWEI:CH): 586

    (:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 233)
       Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 34272127>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 12. IV's, 0. FL's 40057107>
       Arg 2 (SI:OPERATION): :EDIT
       --Defaulted args:--
       Arg 3 (ZWEI:TOP-LEVEL-P): T
       Arg 4 (ZWEI:DESCRIPTION): NIL

    (:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 60)
       Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 34272127>
       Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 40057073>
       Arg 2 (SI:.OPERATION.): :EDIT
       Rest arg (SI:.DAEMON-CALLER-ARGS.): NIL

    ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 51)

    SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
       --Defaulted args:--
       Arg 0 (IGNORE): NIL



 4-Aug-87 14:29:24-EDT,2750;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Aug 87 14:29-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 51596; 4 Aug 87 14:29:01 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 206433; 4 Aug 87 14:29:27 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 67596; Tue 4-Aug-87 11:27:27 PDT
Date: Tue, 4 Aug 87 11:27 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: This occured when modifying a hash table entry.
To: KWH%AI.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Bug-LispM%OZ.AI.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM,
    customer-reports@VERMITHRAX.SCH.Symbolics.COM
In-Reply-To: <870713081748.1.KWH@QUESTION-AUTHORITY.AI.MIT.EDU>
Message-ID: <870804112745.8.TREV@CALYPSO.SCH.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Mon, 13 Jul 87 08:17 EDT
    From: Ken Haase <KWH@AI.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.0, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, microcode 3650-MIC 396, FEP 206,
    FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30099,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Lisp Machine Question Authority:



    1Trap: The subscript given to the GLOBAL:AS-1 instruction, 101, on #S(CLI::TABLE-ARRAY-LEADER
0									 1:FILLED-ELEMENTS 51
0									 1:ENTRY-SIZE 2
0									 1:NUMBER-OF-BUCKETS 1
0									 1:ENTRIES-PER-BUCKET 50
0									 1:GROWTH-FACTOR ...) was beyond the length, 100.
0    While in the function (FLAVOR:COMBINED SCL:MODIFY-HASH CLI::EQL-BLOCK-ARRAY-PROCESS-LOCKING-DUMMY-GC-LOCKING-ASSOCIATION-MUTATING-TABLE)  MUTATE-LOOKUP  (:INTERNAL MAKE-MUTABLE 1)

    The condition signalled was DBG:SUBSCRIPT-OUT-OF-BOUNDS-TRAP

[...]

Hi There,
This was just forwarded to me to look at, and I'm having a
hard time deciphering the problem from just the backtrace.
Do you remember what you were doing at the time, how you
were able to recover, and any other special circumstances?
It looks as though the hash table was asked to create too
many entries at once.  This might be a real bug, but it
looks like some unusual loops were executing at the time.
Any more clues for us?

-trev


 4-Aug-87 18:39:39-EDT,2306;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 4 Aug 87 18:39-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 67325; 4 Aug 87 18:39:09 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 206705; 4 Aug 87 18:39:52 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 67700; Tue 4-Aug-87 15:37:36 PDT
Date: Tue, 4 Aug 87 15:37 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: why killing a mail file so slow?
To: RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870722094051.6.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870804153752.4.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Wed, 22 Jul 87 09:40 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.3,
    7-1-Patches 1.19, MAC 12.0, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
    FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
    Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

    Killing a mail file in Zmacs seems kind of slow.  What seems
    particularly peculiar is that if I read in a large mail file, and then
    try to kill it before the background message parsing has finished, the
    killing process apparently continues to parse the messages, including
    all those pregnant pauses while needlessly parsing domain hosts.

The part about continued parsing of messages after the file's been
killed has been fixed.  They're still looking for ways to speed up
the killing of sequences and individual message intervals (lots more
internal housekeeping than meets the eye).  Any efficiency ideas for
the parsing process itself?

-trev


 5-Aug-87 00:34:43-EDT,2601;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Aug 87 00:34-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 67382; 5 Aug 87 00:34:09 EDT
Received: from Riverside.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 206828; Wed 5-Aug-87 00:34:56 EDT
Received: from F.ILA.Dialnet.Symbolics.COM (F.ILA.Dialnet.Symbolics.COM) by Riverside.SCRC.Symbolics.COM via DIAL with SMTP id 154186; 5 Aug 87 00:34:02 EDT
Received: from CALVARY.ILA.Dialnet.Symbolics.COM by F.ILA.Dialnet.Symbolics.COM via CHAOS with CHAOS-MAIL id 7589; Wed 5-Aug-87 00:32:38 EDT
Date: Wed, 5 Aug 87 00:32 EDT
From: David E. Goldfarb <DEG@FUJI.ILA.Dialnet.Symbolics.COM>
Subject: why killing a mail file so slow?
To: trev@VERMITHRAX.SCH.Symbolics.COM,
    RWS%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870804153752.4.TREV@CALYPSO.SCH.Symbolics.COM>
Message-ID: <870805003229.7.DEG@CALVARY.ILA.Dialnet.Symbolics.COM>

    Date: Tue, 4 Aug 87 15:37 PDT
    From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>

    The part about continued parsing of messages after the file's been
    killed has been fixed.  They're still looking for ways to speed up
    the killing of sequences and individual message intervals (lots more
    internal housekeeping than meets the eye).  Any efficiency ideas for
    the parsing process itself?

Well, not exactly the same problem, but here's one that has bugged me for
years:  It should be possible to cheaply move a msg from one file sequence
to another.  Currently, the only way of doing it is to use the move command
(which is really does a copy) and then expunging the "from" sequence.  I
want a command whose semantics are more like rename and can therefore be
much more efficient (just adjust the msgbuffer and buffermsg links, slide
over all the later msgs in the "from" sequence and recompute the msgs
summary line).  Using the current move command causes much more work to be
done, which is unnecesary in this particular case: it copies the entire
contents of the message and recomputes the inter-message conversation links.
This, especially when you do it to many messages at once, is wasteful of
both time and space.  Also, it can cause arbitrarily many other sequences to
be marked as modified if they contain messages in the same conversation as
the moved message.



 5-Aug-87 10:11:07-EDT,2018;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Aug 87 10:11-EDT
Received: from XX.LCS.MIT.EDU (XX.LCS.MIT.EDU) by ZERMATT.LCS.MIT.EDU via CHAOS with SMTP id 67411; 5 Aug 87 10:10:34 EDT
Received: from KILLINGTON.LCS.MIT.EDU by XX.LCS.MIT.EDU via Chaosnet; 5 Aug 87 10:08-EDT
Date: Wed, 5 Aug 87 10:08 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: scheduler needs promotion?
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870805100818.1.RWS@KILLINGTON.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.5,
7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3640-MIC 396,
FEP 127, FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
FEP0:>v127-info.flod(55), FEP0:>v127-debug.flod(34),
Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Killington:

I logged in.  I started a system compilation that would take over an
hour.  I went to Zmail, and typed "G".  I got a message or two, and went
away for about twenty minutes.  I came back, and typed "G" again.  The
who line showed I was wedged waiting for "Collection Write Lock".  The
Zmail background process was still parsing my old messages.  Of course,
it runs at priority -1, and was getting almost no time, given the
compile going on.  I went to Peek, and discovered Zmail background with
state "GC Flip", being there for some considerable time.  Of course I
got annoyed and went and suspended the compile for a few seconds so that
the Zmail processes could unwedge themselves.  Rather unsatisfactory.
Perhaps you need to consider a promotion scheme?  (Greenwald, are you
listening?)
 5-Aug-87 10:31:19-EDT,4549;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Aug 87 10:31-EDT
Received: from SCHWEITZER.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 67418; Wed 5-Aug-87 10:30:34 EDT
Date: Wed, 5 Aug 87 10:30 EDT
From: TAR@MC.LCS.MIT.EDU
Subject: LISPM-FINGER service with UDP doesn't work properly.
To: BUG-LISPM@ZERMATT.LCS.MIT.EDU
Message-ID: <870805103027.1.TAR@SCHWEITZER.LCS.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.5,
7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Experimental Clisp 1.0,
Experimental New Implementation of KL-One 16.0,
Experimental Heart Failure System 8.6,
Experimental Bibliographic Citation System for BibTeX 1.2,
Experimental Temporal Control Structure 15.1,
CS Graphics Window Utilites 4.0, microcode 3640-MIC 396, FEP 127,
fep0:>v127-lisp.flod(55), fep0:>v127-loaders.flod(55),
FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
Machine serial number 5047,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Lisp Machine Albert Schweitzer:


;;  Invoking the LISPM-FINGER service using the UDP connection doesn't return the
;;  correct information from the host.  Specifically this occured while trying to
;;  get finger information from the Lispm PROGER.  As a control, information from
;;  Lispm SPOCK (via CHAOS) is provided.
;;
;;  Example (user input follows "==>")
;;

==>  proger
#<LISPM-HOST PROGER 1121651>

==>  spock
#<LISPM-HOST SPOCK 1116631>

==>  (neti::invoke-service-on-host :lispm-finger proger)
NIL

==>  (neti::invoke-service-on-host :lispm-finger spock)
("Yenna" "NE43-358, x3-3455 (Genera 7.1 7-1-Patches 1.20 MAC 12.2 X-Windows 17.4 2048K 3650)" "12" "Yeona Jang" "M")

==>  (neti::invoke-service-on-host :show-users proger)jayes    robert                 NEMC|PROGER 43:48     NEMC Tupper Bldg.
 10th floor machine room (Genera 7.1 7-1-Patches 1.19 2048K 3640)
NIL

==>  (neti::invoke-service-on-host :show-users spock)Yenna  M Yeona Jang             SPOCK    13     NE43-358, x3-3455 (Gener
a 7.1 7-1-Patches 1.20 MAC 12.2 X-Windows 17.4 2048K 3650)
NIL

==>  :Show Namespace Object (class) Host (name [default GALEN]) SPOCK
View in namespace LCS:
HOST SPOCK
SYSTEM-TYPE LISPM
SITE LCS
MACHINE-TYPE 3600
ADDRESS CHAOS 17133
ADDRESS INTERNET 18.30.0.91
BITMAP-PRINTER CHARMIN
FINGER-LOCATION "NE43-358, x3-3455"
LOCATION NE43 358
PRETTY-NAME "Lisp Machine Benjamin Spock"
PRINTER CHARMIN
SERVICE CHAOS-STATUS CHAOS-SIMPLE CHAOS-STATUS
SERVICE CONFIGURATION CHAOS CONFIGURATION
SERVICE CONFIGURATION TCP CONFIGURATION
SERVICE EXPAND-MAIL-RECIPIENT CHAOS SMTP
SERVICE EXPAND-MAIL-RECIPIENT TCP SMTP
SERVICE FILE CHAOS NFILE
SERVICE FILE CHAOS QFILE
SERVICE FILE TCP NFILE
SERVICE FILE TCP TCP-FTP
SERVICE LISPM-FINGER CHAOS-SIMPLE LISPM-FINGER
SERVICE LOGIN CHAOS 3600-LOGIN
SERVICE LOGIN CHAOS SUPDUP
SERVICE LOGIN CHAOS TELNET
SERVICE LOGIN TCP 3600-LOGIN
SERVICE LOGIN TCP SUPDUP
SERVICE LOGIN TCP TELNET
SERVICE MAIL-TO-USER CHAOS CHAOS-MAIL
SERVICE MAIL-TO-USER TCP SMTP
SERVICE SEND CHAOS SEND
SERVICE SEND TCP SMTP
SERVICE SHOW-USERS CHAOS NAME
SERVICE SHOW-USERS TCP ASCII-NAME
SERVICE TAPE CHAOS RTAPE
SERVICE TIME CHAOS-SIMPLE TIME-SIMPLE
SERVICE UPTIME CHAOS-SIMPLE UPTIME-SIMPLE
USER-PROPERTY DISTRIBUTION-CLIENT YES
USER-PROPERTY DISTRIBUTION-INSTALLED-AUTOMATICALLY YES
USER-PROPERTY DISTRIBUTION-CONFIGURATION MEDG
USER-PROPERTY REBOOT-AFTER-LOGOUT YES
USER-PROPERTY GROUP MEDG
USER-PROPERTY MACSYMA-PASSWORD 118264841
USER-PROPERTY MACSYMA-1-PASSWORD 5672813

==>  :Show Namespace Object (class) Host (name [default SPOCK]) PROGER
View in namespace LCS:
HOST PROGER
SYSTEM-TYPE LISPM
SITE LCS
MACHINE-TYPE 3640
ADDRESS INTERNET 18.41.0.3
FINGER-LOCATION "NEMC Tupper 10th floor machine room"
PRETTY-NAME Proger
SERVER-MACHINE Yes
SERVICE CONFIGURATION TCP CONFIGURATION
SERVICE EXPAND-MAIL-RECIPIENT TCP SMTP
SERVICE FILE TCP NFILE
SERVICE FILE TCP TCP-FTP
SERVICE LOGIN TCP 3600-LOGIN
SERVICE LOGIN TCP SUPDUP
SERVICE LOGIN TCP TELNET
SERVICE MAIL-TO-USER TCP SMTP
SERVICE SEND TCP SMTP
SERVICE SHOW-USERS TCP ASCII-NAME
SERVICE LISPM-FINGER UDP LISPM-FINGER
NICKNAME NEMC-PROGER
SHORT-NAME P
USER-PROPERTY GROUP MEDG
 5-Aug-87 11:50:27-EDT,1937;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Aug 87 11:50-EDT
Received: from DIAMOND.S4CC.Symbolics.COM (DIAMOND.S4CC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 67432; 5 Aug 87 11:49:52 EDT
Received: from SWALLOW.S4CC.Symbolics.COM by DIAMOND.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 110729; Wed 5-Aug-87 11:35:03 EDT
Date: Wed, 5 Aug 87 11:34 EDT
From: Michael Greenwald <Greenwald@STONY-BROOK.SCRC.Symbolics.COM>
Subject: scheduler needs promotion?
To: RWS@ZERMATT.LCS.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870805100818.1.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870805113459.2.GREENWALD@SWALLOW.S4CC.Symbolics.COM>

    Date: Wed, 5 Aug 87 10:08 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.5,

    I logged in.  I started a system compilation that would take over an
    hour.  I went to Zmail, and typed "G".  I got a message or two, and went
    away for about twenty minutes.  I came back, and typed "G" again.  The
    who line showed I was wedged waiting for "Collection Write Lock".  The
    Zmail background process was still parsing my old messages.  Of course,
    it runs at priority -1, and was getting almost no time, given the
    compile going on.  I went to Peek, and discovered Zmail background with
    state "GC Flip", being there for some considerable time.  Of course I
    got annoyed and went and suspended the compile for a few seconds so that
    the Zmail processes could unwedge themselves.  Rather
    unsatisfactory.
Agreed.

    Perhaps you need to consider a promotion scheme? (Greenwald, are you
    listening?)
Yes.  I hear you.  

Yes, the scheduler needs promotion.  I've considered a promotion scheme.
I can talk to you about it offline, if you're interested.

 5-Aug-87 14:31:27-EDT,2010;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Aug 87 14:31-EDT
Received: from TAYLOR.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 51883; Wed 5-Aug-87 14:25:08 EDT
Date: Wed, 5 Aug 87 14:25 EDT
From: James J. Little <LITTLE@OZ.AI.MIT.EDU>
Subject: display-array is slow
To: Bug-LispM@OZ.AI.MIT.EDU
Message-ID: <870805142505.1.LITTLE@TAYLOR.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3645 Genera 7.1, IP-TCP 52.16, ILA-NFS 4.5,
7-1-Patches 1.20, MAC 12.2,
Experimental Vision Utilities With Greyscreen 2.0,
Experimental Vision Utilities 15.0, Experimental Grok 1.2,
microcode 3645-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
FEP0:>v127-debug.flod(34), Machine serial number 5235, LCMW-RELEASE-4-0,
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
UC-ASSEMBLER-ALPHA-MINIMAL-F0404, HARDWARE-DEFS-F0404,
HARDWARE-HBI-F0404, HARDWARE-NEXUS-F0404, HARDWARE-FIFO-F0404,
HARDWARE-ALPHA-F0403, DIAGNOSTICS-UCODE-ALPHA-MINIMAL-F0423,
DIAGNOSTICS-UCC-ALPHA-F0401, DIAGNOSTICS-ROUTER-F0402,
DIAGNOSTICS-ALPHA-F0403, PARIS-UCODE-ALPHA-MINIMAL-F0423,
MICROCODE-ALPHA-F0423, BOOT-F0403, PARIS-TESTS-F0403, PARIS-DEFS-F0403,
STARLISP-F0404, STARLISP-COMMON-F0404, STARLISP-COMPILER-F0404, on Lisp Machine Brook Taylor:

display-array never seems to use bitblt for 8 bit arrays to the grey
screen, and so is much slower than before.

1Break: 
0While in the function VU::COPY-2D-ARRAY  VU:COPY-ARRAY  VU:DISPLAY-ARRAY

The condition signalled was ZL:BREAK

1VU:DISPLAY-ARRAY0:  (P.C. = 271)  2(from GREY-VU:GREY-VU;GREYCOLOR)
0   Arg 0 (ARRAY): #<ART-8B-256-256 345112466>
2   --Defaulted args:--
0   Arg 1 (VU::X): 0
   Arg 2 (VU::Y): 0
   Arg 3 (VU::BITS): 8
   Local 4 (VU:WIDTH): 256
   Local 5 (VU:HEIGHT): 256

 5-Aug-87 14:44:15-EDT,2105;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Aug 87 14:44-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 67468; 5 Aug 87 14:07:55 EDT
Received: from WARE.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 207167; Wed 5-Aug-87 14:08:34 EDT
Date: Wed, 5 Aug 87 14:08 EDT
From: Brenda Ioris <brenda@STONY-BROOK.SCRC.Symbolics.COM>
Subject: compiler bug
To: RWS@ZERMATT.LCS.MIT.EDU, Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM,
    BUG-LISPM@ZERMATT.LCS.MIT.EDU
In-Reply-To: <870721105315.6.RWS@KILLINGTON.LCS.MIT.EDU>
Message-ID: <870805140832.6.BRENDA@WARE.SCRC.Symbolics.COM>

    Date: Tue, 21 Jul 87 10:53 EDT
    From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 3.3,
    7-1-Patches 1.19, MAC 11.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.1, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental CLX 2.1,
    microcode 3640-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
    FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
    FEP0:>v127-debug.flod(34), Machine serial number 5085,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29), on Killington:

    Try putting the following in a file and doing a Compile File:

    ;;; -*- Syntax: Common-Lisp; Package: USER; Base: 10; Mode: Lisp -*-

    (defvar x)

    (flet ((foo (x) (ecase x
		      (8 x)
		      (16 (+ x x))
		      (32 (* x x)))))
      (setq x (foo 8)))


    I get the following:

      Warning (not associated with any definition)
	(CL:EQ #:G16499 8) -- You should not use EQ to compare numbers.
	(CL:EQ #:G16499 16) -- You should not use EQ to compare numbers.
	(CL:EQ #:G16499 32) -- You should not use EQ to compare numbers.

    This does not happen with Compile Buffer.

Right you are. Thank you for reporting this I will notify the
appropriate developers.

 5-Aug-87 17:28:50-EDT,3004;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 5 Aug 87 17:28-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by ZERMATT.LCS.MIT.EDU via INTERNET with SMTP id 67491; 5 Aug 87 17:24:59 EDT
Received: from VERMITHRAX.SCH.Symbolics.COM (VERMITHRAX.SCH.Symbolics.COM) by STONY-BROOK.SCRC.Symbolics.COM via INTERNET with SMTP id 207416; 5 Aug 87 17:25:49 EDT
Received: from CALYPSO.SCH.Symbolics.COM by VERMITHRAX.SCH.Symbolics.COM via CHAOS with CHAOS-MAIL id 68087; Wed 5-Aug-87 14:01:28 PDT
Date: Wed, 5 Aug 87 14:01 PDT
From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>
Subject: why killing a mail file so slow?
To: DEG%FUJI.ILA.Dialnet.Symbolics.COM@Riverside.SCRC.Symbolics.COM,
    RWS%ZERMATT.LCS.MIT.EDU%STONY-BROOK.SCRC.Symbolics.COM@STONY-BROOK.SCRC.Symbolics.COM
cc: Customer-Reports@VERMITHRAX.SCH.Symbolics.COM,
    BUG-LISPM%ZERMATT.LCS.MIT.EDU@STONY-BROOK.SCRC.Symbolics.COM
In-Reply-To: <870805003229.7.DEG@CALVARY.ILA.Dialnet.Symbolics.COM>
Message-ID: <870805140134.1.TREV@CALYPSO.SCH.Symbolics.COM>

    Date: Wed, 5 Aug 87 00:32 EDT
    From: David E. Goldfarb <DEG@FUJI.ILA.Dialnet.Symbolics.COM>

	Date: Tue, 4 Aug 87 15:37 PDT
	From: Steve Trever <trev@VERMITHRAX.SCH.Symbolics.COM>

	The part about continued parsing of messages after the file's been
	killed has been fixed.  They're still looking for ways to speed up
	the killing of sequences and individual message intervals (lots more
	internal housekeeping than meets the eye).  Any efficiency ideas for
	the parsing process itself?

    Well, not exactly the same problem, but here's one that has bugged me for
    years:  It should be possible to cheaply move a msg from one file sequence
    to another.  Currently, the only way of doing it is to use the move command
    (which is really does a copy) and then expunging the "from" sequence.  I
    want a command whose semantics are more like rename and can therefore be
    much more efficient (just adjust the msgbuffer and buffermsg links, slide
    over all the later msgs in the "from" sequence and recompute the msgs
    summary line).  Using the current move command causes much more work to be
    done, which is unnecesary in this particular case: it copies the entire
    contents of the message and recomputes the inter-message conversation links.
    This, especially when you do it to many messages at once, is wasteful of
    both time and space.  Also, it can cause arbitrarily many other sequences to
    be marked as modified if they contain messages in the same conversation as
    the moved message.

OK, I'll put this on the mail-developers' idea list.  They've been
pretty good at acknowledging customer-input lately, so I'll write
to you as soon as they implement this. (I never noticed the problem
myself, as I leave most mail in the original buffer, or use "Output"
for single messages, but I can see how handy a renamer would be).

-trev


 7-Aug-87 15:08:50-EDT,2731;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 7 Aug 87 15:08-EDT
Received: from OTIS.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 52251; Fri 7-Aug-87 15:00:55 EDT
Date: Fri, 7 Aug 87 15:00 EDT
From: Chris Lindblad <CJL@REAGAN.AI.MIT.EDU>
Subject: Bug in INCF
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870807150045.0.CJL@OTIS.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.7,
7-1-Patches 1.20, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental CLX 3.0,
microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
FEP0:>g206-loaders.flod(14), FEP0:>g206-disk.flod(5),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30124, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404, on Lisp Machine Otis Redding:

My reading of page 96 of CLtL says this should work.

(macroexpand '(incf (the integer (cadr x))))

1Error: No SETF method known for THE forms
0While in the function LT:EXPAND-MODIFY-MACRO  INCF

The condition signalled was ZL:FERROR

1LT:EXPAND-MODIFY-MACRO0:  (P.C. = 650)
   Arg 0 (LT::REFERENCE): (THE INTEGER (CADR X))
   Arg 1 (FUNCTION): +
   Arg 2 (LT::ARGS): (1)
   Arg 3 (LT::USE-MODIFY-METHODS): T
   Arg 4 (LT::ENV): NIL
   Local 5: NIL
   Local 6: NIL
   Local 7: NIL
   Local 8: NIL
   Local 9 (LT::METHOD): NIL
   Local 10 (LT::ORIGINAL-REFERENCE): (THE INTEGER (CADR X))
   Local 11 (LT::TEMPS): (:FATAL T)
   Local 12 (LT::TVALS): "No SETF method known for ~S forms~
					~:[ (macroexpanded from ~S)~]"
   Local 13 (LT::STORES): THE
   Local 14 (LT::STORE-FORM): T
   Local 15 (LT::ACCESS-FORM): (THE INTEGER (CADR X))

1INCF0:  (P.C. = 40)
   Arg 0 (SI:.FORM.): (INCF (THE INTEGER (CADR X)))
   Arg 1: NIL

1SI:MACROEXPAND-1-INTERNAL0:  (P.C. = 201)
   Arg 0 (SI:MACRO-CALL): (INCF (THE INTEGER (CADR X)))
   Arg 1 (SI:ENV): NIL
   Arg 2 (SI:RUN-STYLE-CHECKERS-P): NIL
   Arg 3 (SI:DONT-EXPAND-SPECIAL-FORMS): NIL

1MACROEXPAND0:  (P.C. = 11)
   Arg 0 (SI:MACRO-CALL): (INCF (THE INTEGER (CADR X)))
2   --Defaulted args:--
0   Arg 1 (SI:ENV): NIL
   Arg 2 (SI:DONT-EXPAND-SPECIAL-FORMS): NIL

 7-Aug-87 19:43:25-EDT,1235;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 7 Aug 87 19:43-EDT
Received: from DUANE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 52306; Fri 7-Aug-87 19:39:57 EDT
Date: Fri, 7 Aug 87 19:39 EDT
From: Paul E. Oppenheimer <peo@REAGAN.AI.MIT.EDU>
Subject: Macro dw:define-program-framework
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870807193954.5.PEO@DUANE.AI.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.7,
7-1-Patches 1.21, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45,
Experimental LXB Color 2.1, Color 331.9, Color Support 11.8,
Color Demo 316.2, Images 310.20, Experimental Grok 1.2,
microcode 3640-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
FEP0:>v127-debug.flod(34), Machine serial number 5237, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404, on Lisp Machine Duane Allman:

 7-Aug-87 19:59:35-EDT,1444;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 7 Aug 87 19:59-EDT
Received: from DUANE.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 52314; Fri 7-Aug-87 19:56:12 EDT
Date: Fri, 7 Aug 87 19:56 EDT
From: Paul E. Oppenheimer <peo@REAGAN.AI.MIT.EDU>
Subject: Using Color Screen
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870807195613.6.PEO@DUANE.AI.MIT.EDU>

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.7,
7-1-Patches 1.21, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45,
Experimental LXB Color 2.1, Color 331.9, Color Support 11.8,
Color Demo 316.2, Images 310.20, Experimental Grok 1.2,
microcode 3640-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
FEP0:>v127-debug.flod(34), Machine serial number 5237, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404, on Lisp Machine Duane Allman:

This is a question, not a bug.

I want to hang the entire frame defined in 
dw:define-program-framework
from a screen other than the main screen.
That screen will be a color screen.
What's the right way to do this?

 7-Aug-87 23:59:30-EDT,580;000000000000
Return-Path: <GUMBY@AI.AI.MIT.EDU>
Received: from AI.AI.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Fri 7 Aug 87 23:59:24-EDT
Date: Fri,  7 Aug 87 23:57:15 EDT
From: David Vinayak Wallace <GUMBY@AI.AI.MIT.EDU>
Subject:  Using Color Screen
To: peo@REAGAN.AI.MIT.EDU
cc: BUG-LISPM@OZ.AI.MIT.EDU
In-reply-to: Msg of Fri 7 Aug 87 19:56 EDT from Paul E. Oppenheimer <peo at REAGAN.AI.MIT.EDU>
Message-ID: <239650.870807.GUMBY@AI.AI.MIT.EDU>

Try :superior color:color-screen.  If you always want this frame there
put it on the default init-plist. for the frame definition.

 8-Aug-87 09:14:12-EDT,5319;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Aug 87 09:14-EDT
Date: Sat, 8 Aug 87 09:10 EDT
From: RWS@ZERMATT.LCS.MIT.EDU
Sender: File-Server@ZERMATT.LCS.MIT.EDU
Subject: net:invoke-multiple-services doesn't timeout?
To: bug-lispm@ZERMATT.LCS.MIT.EDU
cc: psz@ZERMATT.LCS.MIT.EDU
Message-ID: <870808091002.8.FILE-SERVER@ZERMATT.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 3.3,
7-1-Patches 1.21, MAC 11.2, Experimental X-Window-System 17.4,
microcode 3650-MIC 396, FEP 206, fep0:>g206-lisp.flod(14),
fep0:>g206-loaders.flod(14), fep0:>g206-info.flod(14),
fep0:>g206-debug.flod(4), Machine serial number 30100,
Rodent Free Namespace Editor (from Z:>Facilities>R7>ned.lisp.15),
Network-Security patch (from Z:>File-Server>network-security.lisp.4),
Server-Finger patch (from Z:>File-Server>server-finger.lisp.183),
Dynamic Update Daemon (from Z:>file-server>update-daemon.lisp.32), on Zermatt:


Server-Finger on Zermatt is getting wedged (45 hours!) trying to talk to
the NEMC lispms on the other side of a 9600 baud SLIP.  It's using
NET:INVOKE-MULTIPLE-SERVICES, with a timeout of (* 15. 60.) but isn't
getting timed out.

1Break: 
0While in the function PROCESS-WAIT  TCP::UDP-CONN-DATA-WAIT  (FLAVOR:METHOD :NEXT-INPUT-BUFFER TCP::UDP-CONN)

The condition signalled was ZL:BREAK

1PROCESS-WAIT0:  (P.C. = 1)  2(from SYS:PATCH;SYSTEM-349-98)
0   Arg 0 (SI:WHOSTATE): "UDP In"
   Local 0 (SI:WHOSTATE): #<DYNAMIC-TYPEOUT-WINDOW Dynamic Typeout Window 1 1521537 exposed>
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL TCP::UDP-CONN-DATA-WAIT 0) 260031627>
   Local 1 (FUNCTION): #<DTP-LOCATIVE 61523616>
   Rest arg (SI:ARGUMENTS): (#<UDP-CONN 460417506>)
   Local 2 (SI:ARGUMENTS): #<DTP-LOCATIVE 325300353>
   Special SYS:INHIBIT-SCHEDULING-FLAG: NIL

1TCP::UDP-CONN-DATA-WAIT0:  (P.C. = 6)
   Arg 0 (TCP::CONN): #<UDP-CONN 460417506>
2   --Defaulted args:--
0   Arg 1 (IGNORE): NIL

1(FLAVOR:METHOD :NEXT-INPUT-BUFFER TCP::UDP-CONN)0:  (P.C. = 7)
   Arg 0 (SELF): #<UDP-CONN 460417506>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::UDP-CONN 2052304>
   Arg 2 (FLAVOR::.GENERIC.): :NEXT-INPUT-BUFFER
   Arg 3 (TCP::NO-HANG-P): NIL

1(FLAVOR:METHOD :SETUP-NEXT-INPUT-BUFFER SI:BASIC-BUFFERED-INPUT-STREAM)0:  (P.C. = 12)
   Arg 0 (SELF): #<UDP-CONN 460417506>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM 2052334>
   Arg 2 (FLAVOR::.GENERIC.): :SETUP-NEXT-INPUT-BUFFER
   Arg 3 (SI:NO-HANG-P): NIL
   Arg 4 (SI:EOF): NIL

1(FLAVOR:METHOD :READ-INPUT-BUFFER SI:BUFFERED-INPUT-STREAM)0:  (P.C. = 20)
   Arg 0 (SELF): #<UDP-CONN 460417506>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BUFFERED-INPUT-STREAM 2052342>
   Arg 2 (FLAVOR::.GENERIC.): :READ-INPUT-BUFFER
2   --Defaulted args:--
0   Arg 3 (SI:EOF): NIL
   Arg 4 (SI:NO-HANG-P): NIL

1(:INTERNAL NETI:INVOKE-SERVICE-LISPM-FINGER-WITH-LISPM-FINGER 0)0:  (P.C. = 5)
   Arg 0 (NETI:STREAM): #<UDP-CONN 460417506>

1NETI:INVOKE-SERVICE-LISPM-FINGER-WITH-LISPM-FINGER0:  (P.C. = 12)
   Arg 0 (NETI:.SERVICE.): #<SERVICE-ACCESS-PATH LISPM-FINGER (LISPM-FINGER) -- TUPPER on INTERNET 460417632>

1NET:INVOKE-SERVICE-ACCESS-PATH0:  (P.C. = 62)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH LISPM-FINGER (LISPM-FINGER) -- TUPPER on INTERNET 460417632>
   Arg 1 (NETI:SERVICE-ARGS): NIL

1NET:CONTINUE-SERVICE-ACCESS-PATH-FUTURE0:  (P.C. = 5)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH LISPM-FINGER (LISPM-FINGER) -- TUPPER on INTERNET 460417632>

1NETI:*SCAN-LISPMS-LONG-WAIT0:  (P.C. = 143)  2(from Z:>File-Server>server-finger)
0   Arg 0 (NETI:HOSTS): (#<LISPM-HOST TUPPER 1124453> #<LISPM-HOST ZISKIND 1124506> #<UNIX-HOST ORANGE-JUICE 1124547> #<LISPM-HOST JOE-LOUIS 1105075> #<RANDOM-HOST RTS-13 1112535> #<LISPM-HOST REED 1123745> #<LISPM-HOST SPOCK 1121132> #<RANDOM-HOST RTS-8 1120225> #<LISPM-HOST SCHWEITZER 1112600> #<LISPM-HOST VIOLIN 1107063> ...)
   Arg 1 (NETI:ALIVE-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL NETI:SCAN-LISPMS-FOR-FINGER-CACHE 0) 325300111>
2   --Defaulted args:--
0   Arg 2 (NETI:DEAD-FUNCTION): NIL
   Arg 3 (NETI:REFUSE-FUNCTION): NIL

1NETI:SCAN-LISPMS-FOR-FINGER-CACHE0:  (P.C. = 24)  2(from Z:>File-Server>server-finger)

1NETI:UPDATE-FINGER-CACHE0:  (P.C. = 2)  2(from Z:>File-Server>server-finger)

1NETI:UPDATE-FINGER-CACHE-BACKGROUND-FUNCTION0:  (P.C. = 47)  2(from Z:>File-Server>server-finger)

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION NETI:UPDATE-FINGER-CACHE-BACKGROUND-FUNCTION 260444113>
   Rest arg (ZL:ARGS): NIL

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL

   Special SI:SCHEDULER-EXISTS: T
   Special SYS:SCHEDULER-STACK-GROUP: #<STACK-GROUP Scheduler 14721525>
   Special SYS:%CURRENT-STACK-GROUP: #<STACK-GROUP Update finger cache 15451455>
   Special SYS:CURRENT-PROCESS: #<PROCESS Update finger cache 15451420>
 8-Aug-87 09:20:09-EDT,8384;000000000000
Received: from ZERMATT.LCS.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Aug 87 09:20-EDT
Received: from KILLINGTON.LCS.MIT.EDU by ZERMATT.LCS.MIT.EDU via CHAOS with CHAOS-MAIL id 68065; Sat 8-Aug-87 09:16:06 EDT
Date: Sat, 8 Aug 87 09:16 EDT
From: Robert Scheifler <RWS@ZERMATT.LCS.MIT.EDU>
Subject: mailer blowout on bogus file recipient
To: Customer-Reports@stony-brook.scrc.symbolics.com,
    Bug-LispM@ZERMATT.LCS.MIT.EDU
Message-ID: <870808091620.8.RWS@KILLINGTON.LCS.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.7,
7-1-Patches 1.21, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, Experimental CLX 2.0,
microcode 3640-MIC 396, FEP 127, FEP0:>v127-lisp.flod(55),
FEP0:>v127-loaders.flod(55), FEP0:>v127-info.flod(55),
FEP0:>v127-debug.flod(34), Machine serial number 5085,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
LCMW-RELEASE-4-0, CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403,
DEFS-F0403, STARLISP-COMMON-F0404, STARLISP-SIMULATOR-F10, on Killington:


I just found N instances of the CHAOS-MAIL server in this state this
morning.  Of course, I don't use my machine as a mail server, so it's
pretty bogus for anyone to be contacting it, but it's also pretty bogus
to blow out like this.

1Error: "EDU" is an invalid version component for KILLINGTON (a LISPM host).
0While in the function (FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)  (FLAVOR:METHOD :VALIDATE PATHNAME)  (FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)

The condition signalled was FS:INVALID-PATHNAME-COMPONENT

1(FLAVOR:METHOD :VALIDATE-COMPONENT PATHNAME)0:  (P.C. = 41)  2(from SYS:PATCH;SYSTEM-349-212)
0   Arg 0 (SELF): #P"KILLINGTON:EDDIE.MIT.newest"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220133546>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE-COMPONENT
   Arg 3 (FS:TEST-ARG): "EDU"
   Arg 4 (FS:TEST-ARG-LOC): #<DTP-LOCATIVE 320511762>
   Arg 5 (FS:VALID-MSG): :VERSION
   Arg 6 (FS:TEST-MSG): :VALID-VERSION-P
   Arg 7 (FS:CASE-MSG): NIL
   Arg 8 (FS:UNCASE-MSG): NIL
   Arg 9 (FS:COMPONENT): :VERSION
   Arg 10 (FS:PRETTY-NAME): "version component"

1(FLAVOR:METHOD :VALIDATE PATHNAME)0:  (P.C. = 15)
   Arg 0 (SELF): #P"KILLINGTON:EDDIE.MIT.newest"
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor PATHNAME 220133546>
   Arg 2 (FLAVOR::.GENERIC.): :VALIDATE

1(FLAVOR:METHOD :GET-PATHNAME FS:PATHNAME-HASH-TABLE-MIXIN)0:  (P.C. = 62)  2(from SYS:PATCH;SYSTEM-349-24)
0   Arg 0 (SELF): #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE KILLINGTON>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN 250374440>
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (FS:DEV): :UNSPECIFIC
   Arg 4 (FS:DIR): NIL
   Arg 5 (FS:NAM): "EDDIE"
   Arg 6 (FS:TYP): "MIT"
   Arg 7 (FS:VRS): "EDU"
   Arg 8 (FS:OTHERS): NIL
   Arg 9 (FS:KEY): (NIL "EDDIE" "MIT" "EDU")

1(FLAVOR:METHOD :GET-PATHNAME NET:NO-DEVICE-HOST-MIXIN)0:  (P.C. = 25)
   Arg 0 (SELF): #<LISPM-HOST KILLINGTON 1104071>
   Arg 1 (SYS:SELF-MAPPING-TABLE): NET:NO-DEVICE-HOST-MIXIN
   Arg 2 (FLAVOR::.GENERIC.): :GET-PATHNAME
   Arg 3 (NETI:DEV): :UNSPECIFIC
   Arg 4 (NETI:DIR): NIL
   Arg 5 (NETI:NAM): "EDDIE"
   Arg 6 (NETI:TYP): "MIT"
   Arg 7 (NETI:VRS): "EDU"
   Arg 8 (NETI:OTHERS): NIL

1FS:PARSE-PATHNAME0:  (P.C. = 106)
   Arg 0 (FS:THING): "EDDIE.MIT.EDU"
   Arg 1 (FS:WITH-RESPECT-TO-HOST): #<LISPM-HOST KILLINGTON 1104071>
2   --Defaulted args:--
0   Arg 2 (FS:DEFAULTS): ((#<LISPM-HOST ZERMATT 1101102> . #P"Z:>RWS>foo.lisp.newest") (NIL . #P"Z:>RWS>foo.lisp.newest"))

1(FLAVOR:METHOD :VERIFY-RECIPIENT MAILER:LMFS-MAILER)0:  (P.C. = 34)  2(from SYS:ZMAIL;PATCH;ZMAIL-146-19)
0   Arg 0 (SELF): #<LMFS-MAILER 31572666>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor MAILER:LMFS-MAILER 254067046>
   Arg 2 (FLAVOR::.GENERIC.): :VERIFY-RECIPIENT
   Arg 3 (MAILER:RECIPIENT): (:NAME "EDDIE.MIT.EDU" :HOST (:OBJECT #<LISPM-HOST KILLINGTON 1104071>) :ORIGINAL-STRING "EDDIE.MIT.EDU@KILLINGTON.LCS.MIT.EDU")

1(:INTERNAL (FLAVOR:COMBINED :VERIFY-RECIPIENT MAILER:LMFS-MAILER) 0)0:  (P.C. = 10)
   Arg 0 (SELF): #<LMFS-MAILER 464504313>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor MAILER:LMFS-MAILER 254067046>
   Arg 2 (FLAVOR::.GENERIC.): :VERIFY-RECIPIENT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): ((:NAME "EDDIE.MIT.EDU" :HOST (:OBJECT #<LISPM-HOST KILLINGTON 1104071>) :ORIGINAL-STRING "EDDIE.MIT.EDU@KILLINGTON.LCS.MIT.EDU"))

1(FLAVOR:WHOPPER :VERIFY-RECIPIENT MAILER:MAIL-ACCESS-PATH)0:  (P.C. = 16)  2(from SYS:ZMAIL;PATCH;ZMAIL-146-19)
0   Arg 0 (SELF): #<LMFS-MAILER 464504313>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor MAILER:MAIL-ACCESS-PATH 254067055>
   Arg 2 (FLAVOR::.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (FLAVOR:COMBINED :VERIFY-RECIPIENT MAILER:LMFS-MAILER) 0) 150736756>
   Arg 3 (FLAVOR::.OLD-SELF-MAPPING-TABLE.): #<Map to flavor MAILER:LMFS-MAILER 254067046>
   Arg 4 (FLAVOR::.GENERIC.): :VERIFY-RECIPIENT
   Arg 5 (MAILER:RECIPIENT): (:NAME "EDDIE.MIT.EDU" :HOST (:OBJECT #<LISPM-HOST KILLINGTON 1104071>) :ORIGINAL-STRING "EDDIE.MIT.EDU@KILLINGTON.LCS.MIT.EDU")

1(FLAVOR:COMBINED :VERIFY-RECIPIENT MAILER:LMFS-MAILER)0:  (P.C. = 13)
   Arg 0 (SELF): #<LMFS-MAILER 464504313>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor MAILER:LMFS-MAILER 254067046>
   Arg 2 (FLAVOR::.GENERIC.): :VERIFY-RECIPIENT
   Rest arg (FLAVOR::.DAEMON-CALLER-ARGS.): ((:NAME "EDDIE.MIT.EDU" :HOST (:OBJECT #<LISPM-HOST KILLINGTON 1104071>) :ORIGINAL-STRING "EDDIE.MIT.EDU@KILLINGTON.LCS.MIT.EDU"))

1(:INTERNAL (FLAVOR:METHOD :SERVER-TOP-LEVEL MAILER:CHAOS-MAIL-SERVER) 0 FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST)0:  (P.C. = 132)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): #<DTP-LOCATIVE 230100224>

1FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST-INTERNAL0:  (P.C. = 30)  2(from SYS:PATCH;SYSTEM-349-221)
0   Arg 0 (FS:CONTINUATION): #<LEXICAL-CLOSURE (:INTERNAL # 0 FS:WITH-AUTOMATIC-LOGIN-TO-SYS-HOST) 230100227>

1(FLAVOR:METHOD :SERVER-TOP-LEVEL MAILER:CHAOS-MAIL-SERVER)0:  (P.C. = 44)  2(from SYS:ZMAIL;PATCH;ZMAIL-146-18)
0   Arg 0 (SELF): #<CHAOS-MAIL-SERVER 464504015>
   Arg 1 (SYS:SELF-MAPPING-TABLE): MAILER:CHAOS-MAIL-SERVER
   Arg 2 (FLAVOR::.GENERIC.): :SERVER-TOP-LEVEL

1NETI:FUNCALL-SERVER-FUNCTION0:  (P.C. = 75)
   Arg 0 (NETI:SERVER): #<SERVER CHAOS-MAIL 121164071>
   Arg 1 (NETI:ARGUMENTS): (:STREAM #<CHARACTER-STREAM 464504217> :NETWORK #<CHAOS-NETWORK CHAOS 1101260> :ADDRESS 7886 :MEDIUM :CHAOS)

1NETI:BYTE-STREAM-INVOKE-SERVICE-FUNCTION0:  (P.C. = 47)
   Arg 0 (NETI:SERVER): #<SERVER CHAOS-MAIL 121164071>
   Arg 1 (NETI:MEDIUM-NAME): :CHAOS
   Arg 2 (NETI:MEDIUM-ARGS): (#<CHAOS Connection for MAIL to Z 121206043>)
   Arg 3 (NETI:GENERAL-ARGUMENTS): (:NETWORK #<CHAOS-NETWORK CHAOS 1101260> :ADDRESS 7886 :MEDIUM :CHAOS)

1NETI:INVOKE-SERVER-INTERNAL0:  (P.C. = 233)
   Arg 0 (NETI:SERVER): #<SERVER CHAOS-MAIL 121164071>
   Arg 1 (NETI:MEDIUM-NAME): (:CHAOS-TOKEN-LIST :CHAOS :CHAOS-SIMPLE)
   Local 1 (NETI:MEDIUM-NAME): :CHAOS
   Arg 2 (NET:NETWORK): #<CHAOS-NETWORK CHAOS 1101260>
   Arg 3 (NETI:ADDRESS): 7886
   Arg 4 (NETI:STREAM-ARGS): (#<CHAOS Connection for MAIL to Z 121206043>)

1(:INTERNAL NETI:INVOKE-SERVER 0)0:  (P.C. = 10)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<SERVER CHAOS-MAIL 121164071> (:CHAOS-TOKEN-LIST :CHAOS :CHAOS-SIMPLE) #<CHAOS-NETWORK CHAOS 1101260> 7886 (#<CHAOS Connection for MAIL to Z 121206043>))

1(:INTERNAL NET:PROCESS-RUN-FUNCTION-IN-SECURE-ENVIRONMENT 0)0:  (P.C. = 7)
   Arg 0 (COMPILER:.LEXICAL-ENVIRONMENT-POINTER.): (#<LEXICAL-CLOSURE (:INTERNAL NETI:INVOKE-SERVER 0) 474261401>)

1SI:PROCESS-RUN-FUNCTION-INTERNAL0:  (P.C. = 43)
   Arg 0 (SI:RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL NET:PROCESS-RUN-FUNCTION-IN-SECURE-ENVIRONMENT 0) 474261376>
   Rest arg (ZL:ARGS): NIL

1SI:PROCESS-TOP-LEVEL0:  (P.C. = 45)
2   --Defaulted args:--
0   Arg 0 (IGNORE): NIL
 8-Aug-87 20:49:41-EDT,5536;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 8 Aug 87 20:49-EDT
Date: Sat, 8 Aug 87 20:46 EDT
From: CJL@REAGAN.AI.MIT.EDU
Sender: File-Server@REAGAN.AI.MIT.EDU
Subject: LISPM finger via UDP sometimes never times out
To: Bug-LispM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870808204603.0.FILE-SERVER@REAGAN.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
                         (2 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTCB, CPTFONTI

In Symbolics 3650 Genera 7.1, Mailer 5.13, IP-TCP 52.16, ILA-NFS 4.7,
7-1-Patches 1.21, MAC 12.2, Experimental X-Window-System 17.4,
microcode 3650-MIC 396, FEP 206, FEP0:>g206-lisp.flod(14),
FEP0:>g206-loaders.flod(14), FEP0:>g206-debug.flod(4),
FEP0:>g206-info.flod(14), Machine serial number 30093,
Rodent Free Namespace Editor (from B:>facilities>r7>ned.lisp.15),
Network-Security patch (from B:>File-Server>network-security.lisp.4),
Server-Finger patch (from B:>file-server>server-finger.lisp.183),
Update-Internet-Namespace patch (from B:>file-server>update-internet-namespace.lisp.115),
Dynamic Update Daemon (from B:>File-Server>update-daemon.lisp.32), on Lisp Machine Ronald Reagan:

LISPM finger via UDP sometimes never times out, even though it's
supposed to.  This process has been hanging for days in this state:

#<UDP-CONN 344133655>, an object of flavor TCP::UDP-CONN,
 has instance variable values:
  SI:BINARY-STREAM-CHARACTER-STREAM:   NIL
  SI:STREAM-OUTPUT-BUFFER:            NIL
  SI:STREAM-OUTPUT-INDEX:             NIL
  SI:STREAM-OUTPUT-LIMIT:             unbound
  SI:STREAM-INPUT-BUFFER:             NIL
  SI:STREAM-INPUT-INDEX:              NIL
  SI:STREAM-INPUT-LIMIT:              unbound
  TCP::ROUTE:                         #<IP-ROUTE TUPPER (18.41.0.4) via 128.52.22.9 (GROSS)>
  TCP::LOCAL-ADDRESS:                 -2144070091
  TCP::LOCAL-PORT:                    1270
  TCP::FOREIGN-ADDRESS:               304676868
  TCP::FOREIGN-PORT:                  11
  TCP::NO-CHECKSUM:                   NIL
  TCP::DEAD:                          NIL
  TCP::IN-HEAD:                       NIL
  TCP::IN-TAIL:                       NIL
  TCP::UDP-PROTOCOL:                  #<UDP-PROTOCOL 162075727>
  TCP::PROTOCOL-NUMBER:               17
  TCP::PKTS-IN:                       1
  TCP::PKTS-OUT:                      1


1Break: 
0While in the function PROCESS-WAIT  TCP::UDP-CONN-DATA-WAIT  (FLAVOR:METHOD :NEXT-INPUT-BUFFER TCP::UDP-CONN)

The condition signalled was ZL:BREAK

1PROCESS-WAIT0:  (P.C. = 1)  2(from SYS:PATCH;SYSTEM-349-98)
0   Arg 0 (SI:WHOSTATE): "UDP In"
   Local 0 (SI:WHOSTATE): #<DYNAMIC-TYPEOUT-WINDOW Dynamic Typeout Window 1 1521537 exposed>
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL TCP::UDP-CONN-DATA-WAIT 0) 260031627>
   Local 1 (FUNCTION): #<DTP-LOCATIVE 67473231>
   Rest arg (SI:ARGUMENTS): (#<UDP-CONN 344133655>)
   Local 2 (SI:ARGUMENTS): #<DTP-LOCATIVE 353100353>
   Special SYS:INHIBIT-SCHEDULING-FLAG: NIL

1TCP::UDP-CONN-DATA-WAIT0:  (P.C. = 6)
   Arg 0 (TCP::CONN): #<UDP-CONN 344133655>
2   --Defaulted args:--
0   Arg 1 (IGNORE): NIL

1(FLAVOR:METHOD :NEXT-INPUT-BUFFER TCP::UDP-CONN)0:  (P.C. = 7)
   Arg 0 (SELF): #<UDP-CONN 344133655>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor TCP::UDP-CONN 2053130>
   Arg 2 (FLAVOR::.GENERIC.): :NEXT-INPUT-BUFFER
   Arg 3 (TCP::NO-HANG-P): NIL

1(FLAVOR:METHOD :SETUP-NEXT-INPUT-BUFFER SI:BASIC-BUFFERED-INPUT-STREAM)0:  (P.C. = 12)
   Arg 0 (SELF): #<UDP-CONN 344133655>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM 2053160>
   Arg 2 (FLAVOR::.GENERIC.): :SETUP-NEXT-INPUT-BUFFER
   Arg 3 (SI:NO-HANG-P): NIL
   Arg 4 (SI:EOF): NIL

1(FLAVOR:METHOD :READ-INPUT-BUFFER SI:BUFFERED-INPUT-STREAM)0:  (P.C. = 20)
   Arg 0 (SELF): #<UDP-CONN 344133655>
   Arg 1 (SYS:SELF-MAPPING-TABLE): #<Map to flavor SI:BUFFERED-INPUT-STREAM 2053166>
   Arg 2 (FLAVOR::.GENERIC.): :READ-INPUT-BUFFER
2   --Defaulted args:--
0   Arg 3 (SI:EOF): NIL
   Arg 4 (SI:NO-HANG-P): NIL

1(:INTERNAL NETI:INVOKE-SERVICE-LISPM-FINGER-WITH-LISPM-FINGER 0)0:  (P.C. = 5)
   Arg 0 (NETI:STREAM): #<UDP-CONN 344133655>

1NETI:INVOKE-SERVICE-LISPM-FINGER-WITH-LISPM-FINGER0:  (P.C. = 12)
   Arg 0 (NETI:.SERVICE.): #<SERVICE-ACCESS-PATH LISPM-FINGER (LISPM-FINGER) -- TUPPER on INTERNET 344137010>

1NET:INVOKE-SERVICE-ACCESS-PATH0:  (P.C. = 62)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH LISPM-FINGER (LISPM-FINGER) -- TUPPER on INTERNET 344137010>
   Arg 1 (NETI:SERVICE-ARGS): NIL

1NET:CONTINUE-SERVICE-ACCESS-PATH-FUTURE0:  (P.C. = 5)
   Arg 0 (NETI:SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH LISPM-FINGER (LISPM-FINGER) -- TUPPER on INTERNET 344137010>

1NETI:*SCAN-LISPMS-LONG-WAIT0:  (P.C. = 143)  2(from B:>File-Server>server-finger)
0   Arg 0 (NETI:HOSTS): (#<LISPM-HOST TUPPER 1155515> #<UNIX-HOST ORANGE-JUICE 1155627> #<LISPM-HOST ZISKIND 1155557> #<LISPM-HOST WOLFMAN-JACK 14530623> #<RANDOM-HOST MAPLE 1136754> #<LISPM-HOST BLACKWELL 1151101> #<LISPM-HOST JOE-LOUIS 1132263> #<LISPM-HOST NEW 14530770> #<RANDOM-HOST SYCAMORE 1135102> #<RANDOM-HOST VOLVOX 1152050> ...)
   Arg 1 (NETI:ALIVE-FUNCTION): #<LEXICAL-CLOSURE (:INTERNAL NETI:SCAN-LISPMS-FOR-FINGER-CACHE 0) 353100111>
2   --Defaulted args:--
0   Arg 2 (NETI:DEAD-FUNCTION): NIL
   Arg 3 (NETI:REFUSE-FUNCTION): NIL

 9-Aug-87 17:40:25-EDT,5366;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Aug 87 17:40-EDT
Received: from PIGPEN.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 52419; Sun 9-Aug-87 17:37:05 EDT
Date: Sun, 9 Aug 87 17:36 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: SmartStore (tm)
To: BUG-LISPM@OZ.AI.MIT.EDU
Message-ID: <870809173651.1.ALAN@PIGPEN.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.7,
7-1-Patches 1.21, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30096, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404,
Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

Last night before I left for home I did a :Show GC Status and it said:

    Status of the ephemeral garbage collector:                  On
    First level of DW::*EQL-DISPATCH-AREA*: capacity 245K, 512K allocated, 22K used.
    Second level of DW::*EQL-DISPATCH-AREA*: capacity 123K, 2048K allocated, 82K used.
    
    First level of SYS:WORKING-STORAGE-AREA: capacity 128K, 256K allocated, 2K used.
    Second level of SYS:WORKING-STORAGE-AREA: capacity 256K, 2048K allocated, 69K used.
    Third level of SYS:WORKING-STORAGE-AREA: capacity 512K, 2048K allocated, 473K used.
    
    Status of the dynamic garbage collector:                    Off
    Dynamic (new+copy) space 8,809,609.  Old space 0.  Static space 16,378,059.
    Free space 21,102,592.  Committed guess 21,004,527, putting you 164,079 words past the
    point where an incremental garbage collection risks running out of space.
    There are 5,884,348 words available before :Start GC :Immediately might run out of space.
    Doing :Start GC :Immediately now would take roughly 44 minutes.
    There are 21,102,592 words available if you elect not to garbage collect.
    
    Garbage collector process state: Await ephemeral full
    Scavenging during cons: On, Scavenging when machine idle: On
    The GC generation count is 424 (3 full GC's, 3 dynamic GC's, and 418 ephemeral GC's).
    Since cold boot 35,382,867 words have been consed, 31,115,587 words of garbage have
    been reclaimed, and 3,214,774 words of non-garbage have been transported.
    The total "scavenger work" required to accomplish this was 117,591,542 units.
    Use :Set GC Options to examine or modify the GC parameters.

The I did:

    :Start GC (keywords) :Immediately (Yes or No [default Yes]) Yes

And I went home.  When I came in this morning I there was the following
output:

    [22:37:27 GC: Dynamic GC started.  Dynamic space=8,813,141, Static space=16,378,059, Free space=21,102,592]
    [23:16:12 GC: Flushing oldspace.  8,813,177 words collected into 7,010,705 words.]
     Ephemeral Garbage Collector is On,  Dynamic Garbage Collector is Off.

So I did a :Show GC Status again and it said:
    
    Status of the ephemeral garbage collector:                  On
    First level of DW::*EQL-DISPATCH-AREA*: capacity 245K, 0K allocated, 0K used.
    Second level of DW::*EQL-DISPATCH-AREA*: capacity 123K, 0K allocated, 0K used.
    
    First level of SYS:WORKING-STORAGE-AREA: capacity 128K, 256K allocated, 80K used.
    Second level of SYS:WORKING-STORAGE-AREA: capacity 256K, 2048K allocated, 2K used.
    Third level of SYS:WORKING-STORAGE-AREA: capacity 512K, 0K allocated, 0K used.
    
    Status of the dynamic garbage collector:                    Off
    Dynamic (new+copy) space 7,094,374.  Old space 0.  Static space 16,380,363.
    Free space 14,925,824.  Committed guess 16,072,313, putting you 1,408,633 words past the
    point where an incremental garbage collection risks running out of space.
    There are 3,653,581 words available before :Start GC :Immediately might run out of space.
    Doing :Start GC :Immediately now would take roughly 40 minutes.
    There are 14,925,824 words available if you elect not to garbage collect.
    
    Garbage collector process state: Await ephemeral full
    Scavenging during cons: On, Scavenging when machine idle: On
    The GC generation count is 428 (3 full GC's, 4 dynamic GC's, and 421 ephemeral GC's).
    Since cold boot 35,862,573 words have been consed, 33,309,837 words of garbage have
    been reclaimed, and 10,227,036 words of non-garbage have been transported.
    The total "scavenger work" required to accomplish this was 148,017,804 units.
    Use :Set GC Options to examine or modify the GC parameters.

Now, -none- of these numbers look to me like the represent an improvement.
In fact, it looks to me like I've got 1/3 -less- free memory that before I
started.  What gives.  Perhaps I misunderstand all these numbers?  Or
perhaps there is some fine print in the manual that would explain to me why
:Start GC :Immediately is tantamount to pushing beans up your nose? 

There were no other processes of note running.
 9-Aug-87 18:08:13-EDT,6934;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Aug 87 18:08-EDT
Received: from WAIKATO.S4CC.Symbolics.COM (WAIKATO.S4CC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 52430; 9 Aug 87 18:04:49 EDT
Received: from LIMPKIN.S4CC.Symbolics.COM by WAIKATO.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 126459; Sun 9-Aug-87 17:56:15 EDT
Date: Sun, 9 Aug 87 17:56 EDT
From: David L. Andre <DLA@DIAMOND.S4CC.Symbolics.COM>
Subject: SmartStore (tm)
To: Alan@AI.AI.MIT.EDU
cc: BUG-LISPM@OZ.AI.MIT.EDU, DLA@DIAMOND.S4CC.Symbolics.COM
In-Reply-To: <870809173651.1.ALAN@PIGPEN.AI.MIT.EDU>
Message-ID: <870809175602.2.DLA@LIMPKIN.S4CC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Sun, 9 Aug 87 17:36 EDT
    From: Alan Bawden <Alan@AI.AI.MIT.EDU>

    In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.7,
    7-1-Patches 1.21, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
    Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
    LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
    FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
    FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
    Machine serial number 30096, LCMW-RELEASE-4-0,
    Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
    CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
    PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
    STARLISP-COMPILER-F0404,
    Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

    Last night before I left for home I did a :Show GC Status and it said:

	Status of the ephemeral garbage collector:                  On
	First level of DW::*EQL-DISPATCH-AREA*: capacity 245K, 512K allocated, 22K used.
	Second level of DW::*EQL-DISPATCH-AREA*: capacity 123K, 2048K allocated, 82K used.
    
	First level of SYS:WORKING-STORAGE-AREA: capacity 128K, 256K allocated, 2K used.
	Second level of SYS:WORKING-STORAGE-AREA: capacity 256K, 2048K allocated, 69K used.
	Third level of SYS:WORKING-STORAGE-AREA: capacity 512K, 2048K allocated, 473K used.
    
	Status of the dynamic garbage collector:                    Off
	Dynamic (new+copy) space 18,809,6090.  Old space 0.  Static space 16,378,059.
	Free space 121,102,5920.  Committed guess 21,004,527, putting you 164,079 words past the
	point where an incremental garbage collection risks running out of space.
	There are 5,884,348 words available before :Start GC :Immediately might run out of space.
	Doing :Start GC :Immediately now would take roughly 44 minutes.
	There are 21,102,592 words available if you elect not to garbage collect.
    
	Garbage collector process state: Await ephemeral full
	Scavenging during cons: On, Scavenging when machine idle: On
	The GC generation count is 424 (3 full GC's, 3 dynamic GC's, and 418 ephemeral GC's).
	Since cold boot 35,382,867 words have been consed, 31,115,587 words of garbage have
	been reclaimed, and 3,214,774 words of non-garbage have been transported.
	The total "scavenger work" required to accomplish this was 117,591,542 units.
	Use :Set GC Options to examine or modify the GC parameters.

    The I did:

	:Start GC (keywords) :Immediately (Yes or No [default Yes]) Yes

    And I went home.  When I came in this morning I there was the following
    output:

	[22:37:27 GC: Dynamic GC started.  Dynamic space=8,813,141, Static space=16,378,059, Free space=21,102,592]
	[23:16:12 GC: Flushing oldspace.  8,813,177 words collected into 7,010,705 words.]
	 Ephemeral Garbage Collector is On,  Dynamic Garbage Collector is Off.

    So I did a :Show GC Status again and it said:
    
	Status of the ephemeral garbage collector:                  On
	First level of DW::*EQL-DISPATCH-AREA*: capacity 245K, 0K allocated, 0K used.
	Second level of DW::*EQL-DISPATCH-AREA*: capacity 123K, 0K allocated, 0K used.
    
	First level of SYS:WORKING-STORAGE-AREA: capacity 128K, 256K allocated, 80K used.
	Second level of SYS:WORKING-STORAGE-AREA: capacity 256K, 2048K allocated, 2K used.
	Third level of SYS:WORKING-STORAGE-AREA: capacity 512K, 0K allocated, 0K used.
    
	Status of the dynamic garbage collector:                    Off
	Dynamic (new+copy) space 17,094,3740.  Old space 0.  Static space 16,380,363.
	Free space 114,925,8240.  Committed guess 16,072,313, putting you 1,408,633 words past the
	point where an incremental garbage collection risks running out of space.
	There are 3,653,581 words available before :Start GC :Immediately might run out of space.
	Doing :Start GC :Immediately now would take roughly 40 minutes.
	There are 14,925,824 words available if you elect not to garbage collect.
    
	Garbage collector process state: Await ephemeral full
	Scavenging during cons: On, Scavenging when machine idle: On
	The GC generation count is 428 (3 full GC's, 4 dynamic GC's, and 421 ephemeral GC's).
	Since cold boot 35,862,573 words have been consed, 33,309,837 words of garbage have
	been reclaimed, and 10,227,036 words of non-garbage have been transported.
	The total "scavenger work" required to accomplish this was 148,017,804 units.
	Use :Set GC Options to examine or modify the GC parameters.

    Now, -none- of these numbers look to me like the represent an improvement.
    In fact, it looks to me like I've got 1/3 -less- free memory that before I
    started.  What gives.  Perhaps I misunderstand all these numbers?  Or
    perhaps there is some fine print in the manual that would explain to me why
    :Start GC :Immediately is tantamount to pushing beans up your nose? 

    There were no other processes of note running.

When you modify a previously unmodified page, it's home must change from
the load file to the paging file.  As more pages are modified, the
amount of free space in the paging file decreases.  In your case, GC
reclaimed about 4K pages, but in doing so had to modify 28K pages which
had previosly been unmodified.  Thus you achieved the somewhat suprising
effect of reducing both your used space and your available space.

Indeed, this should be better documented both in the documentation and
in the "Show GC Status" command.  Unfortunately, it is difficult to
estimate how many pages will be modified by a GC.  Right now, the
calculations for space required make a worst-case assumption (all pages
modified).  I have some ideas on how to improve this, and it's on my
queue for 7.2 GC cleanups.

With netbooting, which I understand will be available in 7.2, all pages
live in the paging file, so this doesn't happen for the portion of the
world which is netbooted.  (If you have an IDS with a netbooted parent,
then as you modify pages in the IDS they migrate to the paging file,
however.)Yow!

 9-Aug-87 18:25:10-EDT,7143;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Aug 87 18:25-EDT
Received: from MORRISON.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 52435; Sun 9-Aug-87 18:21:37 EDT
Date: Sun, 9 Aug 87 18:21 EDT
From: John C. Mallery <JCMA@AI.AI.MIT.EDU>
Subject: SmartStore (tm)
To: DLA@DIAMOND.S4CC.Symbolics.COM
cc: Alan@AI.AI.MIT.EDU, BUG-LISPM@OZ.AI.MIT.EDU
In-Reply-To: <870809175602.2.DLA@LIMPKIN.S4CC.Symbolics.COM>
Message-ID: <870809182141.9.JCMA@MORRISON.AI.MIT.EDU>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

    Date: Sun, 9 Aug 87 17:56 EDT
    From: David L. Andre <DLA@DIAMOND.S4CC.Symbolics.COM>

	Date: Sun, 9 Aug 87 17:36 EDT
	From: Alan Bawden <Alan@AI.AI.MIT.EDU>

	In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.7,
	7-1-Patches 1.21, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
	Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
	LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
	FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
	FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
	Machine serial number 30096, LCMW-RELEASE-4-0,
	Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
	CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
	PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
	STARLISP-COMPILER-F0404,
	Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

	Last night before I left for home I did a :Show GC Status and it said:

	    Status of the ephemeral garbage collector:                  On
	    First level of DW::*EQL-DISPATCH-AREA*: capacity 245K, 512K allocated, 22K used.
	    Second level of DW::*EQL-DISPATCH-AREA*: capacity 123K, 2048K allocated, 82K used.
    
	    First level of SYS:WORKING-STORAGE-AREA: capacity 128K, 256K allocated, 2K used.
	    Second level of SYS:WORKING-STORAGE-AREA: capacity 256K, 2048K allocated, 69K used.
	    Third level of SYS:WORKING-STORAGE-AREA: capacity 512K, 2048K allocated, 473K used.
    
	    Status of the dynamic garbage collector:                    Off
	    Dynamic (new+copy) space 18,809,6090.  Old space 0.  Static space 16,378,059.
	    Free space 121,102,5920.  Committed guess 21,004,527, putting you 164,079 words past the
	    point where an incremental garbage collection risks running out of space.
	    There are 5,884,348 words available before :Start GC :Immediately might run out of space.
	    Doing :Start GC :Immediately now would take roughly 44 minutes.
	    There are 21,102,592 words available if you elect not to garbage collect.
    
	    Garbage collector process state: Await ephemeral full
	    Scavenging during cons: On, Scavenging when machine idle: On
	    The GC generation count is 424 (3 full GC's, 3 dynamic GC's, and 418 ephemeral GC's).
	    Since cold boot 35,382,867 words have been consed, 31,115,587 words of garbage have
	    been reclaimed, and 3,214,774 words of non-garbage have been transported.
	    The total "scavenger work" required to accomplish this was 117,591,542 units.
	    Use :Set GC Options to examine or modify the GC parameters.

	The I did:

	    :Start GC (keywords) :Immediately (Yes or No [default Yes]) Yes

	And I went home.  When I came in this morning I there was the following
	output:

	    [22:37:27 GC: Dynamic GC started.  Dynamic space=8,813,141, Static space=16,378,059, Free space=21,102,592]
	    [23:16:12 GC: Flushing oldspace.  8,813,177 words collected into 7,010,705 words.]
	     Ephemeral Garbage Collector is On,  Dynamic Garbage Collector is Off.

	So I did a :Show GC Status again and it said:
    
	    Status of the ephemeral garbage collector:                  On
	    First level of DW::*EQL-DISPATCH-AREA*: capacity 245K, 0K allocated, 0K used.
	    Second level of DW::*EQL-DISPATCH-AREA*: capacity 123K, 0K allocated, 0K used.
    
	    First level of SYS:WORKING-STORAGE-AREA: capacity 128K, 256K allocated, 80K used.
	    Second level of SYS:WORKING-STORAGE-AREA: capacity 256K, 2048K allocated, 2K used.
	    Third level of SYS:WORKING-STORAGE-AREA: capacity 512K, 0K allocated, 0K used.
    
	    Status of the dynamic garbage collector:                    Off
	    Dynamic (new+copy) space 17,094,3740.  Old space 0.  Static space 16,380,363.
	    Free space 114,925,8240.  Committed guess 16,072,313, putting you 1,408,633 words past the
	    point where an incremental garbage collection risks running out of space.
	    There are 3,653,581 words available before :Start GC :Immediately might run out of space.
	    Doing :Start GC :Immediately now would take roughly 40 minutes.
	    There are 14,925,824 words available if you elect not to garbage collect.
    
	    Garbage collector process state: Await ephemeral full
	    Scavenging during cons: On, Scavenging when machine idle: On
	    The GC generation count is 428 (3 full GC's, 4 dynamic GC's, and 421 ephemeral GC's).
	    Since cold boot 35,862,573 words have been consed, 33,309,837 words of garbage have
	    been reclaimed, and 10,227,036 words of non-garbage have been transported.
	    The total "scavenger work" required to accomplish this was 148,017,804 units.
	    Use :Set GC Options to examine or modify the GC parameters.

	Now, -none- of these numbers look to me like the represent an improvement.
	In fact, it looks to me like I've got 1/3 -less- free memory that before I
	started.  What gives.  Perhaps I misunderstand all these numbers?  Or
	perhaps there is some fine print in the manual that would explain to me why
	:Start GC :Immediately is tantamount to pushing beans up your nose? 

	There were no other processes of note running.

    When you modify a previously unmodified page, it's home must change from
    the load file to the paging file.  As more pages are modified, the
    amount of free space in the paging file decreases.  In your case, GC
    reclaimed about 4K pages, but in doing so had to modify 28K pages which
    had previosly been unmodified.  Thus you achieved the somewhat suprising
    effect of reducing both your used space and your available space.

    Indeed, this should be better documented both in the documentation and
    in the "Show GC Status" command.  Unfortunately, it is difficult to
    estimate how many pages will be modified by a GC.  Right now, the
    calculations for space required make a worst-case assumption (all pages
    modified).  I have some ideas on how to improve this, and it's on my
    queue for 7.2 GC cleanups.

    With netbooting, which I understand will be available in 7.2, all pages
    live in the paging file, so this doesn't happen for the portion of the
    world which is netbooted.  (If you have an IDS with a netbooted parent,
    then as you modify pages in the IDS they migrate to the paging file,
    however.)Yow!

What about the case in which you have booted with load to paging migration
disabled?  From an IDS or non-IDS world?
 9-Aug-87 18:49:19-EDT,2560;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Aug 87 18:49-EDT
Received: from STONY-BROOK.SCRC.Symbolics.COM (STONY-BROOK.SCRC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 52437; 9 Aug 87 18:45:59 EDT
Received: from ORNITHOPTER.SCRC.Symbolics.COM by STONY-BROOK.SCRC.Symbolics.COM via CHAOS with CHAOS-MAIL id 209705; Sun 9-Aug-87 18:46:31 EDT
Date: Sun, 9 Aug 87 18:46 EDT
From: John Watkins <jwatkins@STONY-BROOK.SCRC.Symbolics.COM>
Subject: Bug with Help functions on Symbol,Function, and Select
To: HBR@PYGMALION.AI.MIT.EDU
cc: BUG-LISPM@OZ.AI.MIT.EDU
In-Reply-To: <"870716160221.2.AI|HBR@PYGMALION"@CROSBY.AI.MIT.EDU>
Message-ID: <870809184621.9.JWATKINS@ORNITHOPTER.SCRC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :BOLD NIL) "CPTFONTCB")
Fonts: CPTFONT, CPTFONTCB

Mail is being forwarded from your site to an internal mailing list at
Symbolics. The list this mail is sent ot is not monitered on a dialy
basis by the support staff. If you would like to have faster answers
ask your site administrator to have mail sent to
customer-reports@symbolics.com. This list is monitered every day. 

    Date: Thu, 16 Jul 87 16:02 EDT
    From: Howard Reubenstein <HBR@PYGMALION.AI.MIT.EDU>

    In Symbolics 3640 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.2,
    7-1-Patches 1.19, MAC 12.0, Color Demo 314.1, Color 329.6,
    Color Support 9.4, Images 308.4, Color Editor 311.3,
    Experimental X-Window-System 17.4, S-Paint 13.5, Tablet 2.3, Bsfonts 1.0,
    S-Render 20.5, S-Geometry 9.5, Live Window 315.3, S-Dynamics 9.9,
    Experimental Hbr 6.0, microcode 3640-MIC 396, FEP 127,
    FEP0:>v127-lisp.flod(55), FEP0:>v127-loaders.flod(55),
    FEP0:>v127-debug.flod(34), FEP0:>v127-info.flod(55),
    Machine serial number 5230,
    Bug Report Recipient (from GRAPHICS:GLIB;REL-7;BUG-REPORT-RECIPIENT.LISP.1), on Lisp Machine Bing Crosby:



1    Error: Attempt to expose #<TRUNCATING-POP-UP-TEXT-WINDOW-WITH-RESET Truncating Pop Up Text Window With Reset 1 1502450 deexposed> outside of its superior.
	     Inferior's outside edges (64 41 1175 758);  Superior's inside edges (64 43 1131 809)
0    While in the function (FLAVOR:WHOPPER :EXPOSE TV:SHEET)  (FLAVOR:COMBINED :EXPOSE TV:WINDOW)  (FLAVOR:METHOD :SELECT TV:SELECT-MIXIN :BEFORE)

    The condition signalled was ZL:FERROR

We haven't been able to reproduce your problem here. Perhaps there is
something in your world that is causing this. Has the problem recurred?

[rest of trace removed]

 9-Aug-87 20:37:49-EDT,2788;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Aug 87 20:37-EDT
Received: from WAIKATO.S4CC.Symbolics.COM (WAIKATO.S4CC.Symbolics.COM) by REAGAN.AI.MIT.EDU via INTERNET with SMTP id 52442; 9 Aug 87 20:34:29 EDT
Received: from LIMPKIN.S4CC.Symbolics.COM by WAIKATO.S4CC.Symbolics.COM via CHAOS with CHAOS-MAIL id 126466; Sun 9-Aug-87 20:33:04 EDT
Date: Sun, 9 Aug 87 20:32 EDT
From: David L. Andre <DLA@DIAMOND.S4CC.Symbolics.COM>
Subject: SmartStore (tm)
To: JCMA@AI.AI.MIT.EDU
cc: DLA@DIAMOND.S4CC.Symbolics.COM, Alan@AI.AI.MIT.EDU, BUG-LISPM@OZ.AI.MIT.EDU
In-Reply-To: <870809182141.9.JCMA@MORRISON.AI.MIT.EDU>
Message-ID: <870809203248.4.DLA@LIMPKIN.S4CC.Symbolics.COM>
Character-Type-Mappings: (1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI")
Fonts: CPTFONT, CPTFONTI

    Date: Sun, 9 Aug 87 18:21 EDT
    From: John C. Mallery <JCMA@AI.AI.MIT.EDU>

	Date: Sun, 9 Aug 87 17:56 EDT
	From: David L. Andre <DLA@DIAMOND.S4CC.Symbolics.COM>

	When you modify a previously unmodified page, it's home must change from
	the load file to the paging file.  As more pages are modified, the
	amount of free space in the paging file decreases.  In your case, GC
	reclaimed about 4K pages, but in doing so had to modify 28K pages which
	had previosly been unmodified.  Thus you achieved the somewhat suprising
	effect of reducing both your used space and your available space.

	Indeed, this should be better documented both in the documentation and
	in the "Show GC Status" command.  Unfortunately, it is difficult to
	estimate how many pages will be modified by a GC.  Right now, the
	calculations for space required make a worst-case assumption (all pages
	modified).  I have some ideas on how to improve this, and it's on my
	queue for 7.2 GC cleanups.

	With netbooting, which I understand will be available in 7.2, all pages
	live in the paging file, so this doesn't happen for the portion of the
	world which is netbooted.  (If you have an IDS with a netbooted parent,
	then as you modify pages in the IDS they migrate to the paging file,
	however.)Yow!

    What about the case in which you have booted with load to paging migration
    disabled?  

If you look a the FEP command documentation (type the help key after
typing the command), you will see that that command refers to migration
of 1unmodified0 pages from the load file to the paging file.  Obviously if
pages migrate even if they're unmodified, you'll have even less free
space than in the above example.  By the end of a DGC (which must touch
everything), everything would be in the paging file regardless if it
needed to be.

Load-to-Paging migration of unmodified pages is disabled by default.

	       From an IDS or non-IDS world?

No difference.  

 9-Aug-87 22:15:47-EDT,1226;000000000000
Return-Path: <ALAN@AI.AI.MIT.EDU>
Received: from AI.AI.MIT.EDU by OZ.AI.MIT.EDU with Chaos/SMTP; Sun 9 Aug 87 22:15:43-EDT
Date: Sun,  9 Aug 87 22:13:54 EDT
From: Alan Bawden <ALAN@AI.AI.MIT.EDU>
Subject:  SmartStore (tm)
To: DLA@SCRC-STONY-BROOK.ARPA
cc: BUG-LISPM@OZ.AI.MIT.EDU
In-reply-to: Msg of Sun 9 Aug 87 17:56 EDT from David L. Andre <DLA at DIAMOND.S4CC.Symbolics.COM>
Message-ID: <240288.870809.ALAN@AI.AI.MIT.EDU>

    Date: Sun, 9 Aug 87 17:56 EDT
    From: David L. Andre <DLA at Symbolics.COM>
    ...  Indeed, this should be better documented both in the documentation
    and in the "Show GC Status" command....

Yes, I agree that it does rather contribute to the general hostility of
your system when things like this are not even hinted at in any
documentation.

It seems like kind of a loss that the only way I have of knowing when an
immediate GC will do me any good is by -intuiting- the amount of
garbage in my machine.  Maybe people who work for Symbolics have a good
feeling for how many editor buffers they have to kill before they have
enough garbage to match the storage lost in the paging file due to an
immediate GC, but I don't, and I don't think I even want to know.

 9-Aug-87 22:46:22-EDT,2388;000000000000
Received: from REAGAN.AI.MIT.EDU by OZ.AI.MIT.EDU via Chaosnet; 9 Aug 87 22:46-EDT
Received: from PIGPEN.AI.MIT.EDU by REAGAN.AI.MIT.EDU via CHAOS with CHAOS-MAIL id 52457; Sun 9-Aug-87 22:43:04 EDT
Date: Sun, 9 Aug 87 22:43 EDT
From: Alan Bawden <Alan@AI.AI.MIT.EDU>
Subject: Screen dimming -still- busted
To: BUG-LISPM@OZ.AI.MIT.EDU,
    Customer-Reports@STONY-BROOK.SCRC.Symbolics.COM
Message-ID: <870809224308.3.ALAN@PIGPEN.AI.MIT.EDU>

In Symbolics 3650 Genera 7.1, Hacks 3.0, IP-TCP 52.16, ILA-NFS 4.7,
7-1-Patches 1.21, MAC 12.2, Conversion Tools 12.4, Pascal 25.10,
Experimental X-Window-System 17.4, Experimental Illustrate 11.3, TeX 1.0,
LaTeX 1.0, SliTeX 1.0, YTeX 1.0, Macsyma 412.45, microcode 3650-MIC 396,
FEP 206, FEP0:>g206-lisp.flod(14), FEP0:>g206-loaders.flod(14),
FEP0:>g206-debug.flod(4), FEP0:>g206-info.flod(14),
Machine serial number 30096, LCMW-RELEASE-4-0,
Patches for conversion tool. (from SYS:CONVERSION-TOOLS;PATCHES.LISP.29),
CM-CONFIGURATION, UTILITIES-F0404, FINGER-F0403, DEFS-F0403,
PARIS-SIMULATOR-F0403, STARLISP-F0404, STARLISP-COMMON-F0404,
STARLISP-COMPILER-F0404,
Patches for Alan (from B:>alan>rel7-patch.lisp.2), on Lisp Machine Pigpen:

Despite having installed the following patch in our MIT world, I find that
the currently distributed MIT world load does not have a working screen
dimmer.  

The symptoms are the same as before:  There is no entry in the Timer Queue
named "Blank Screen".  If I type Function Control-Refresh, then the screen
dims, and when I look at the Timer Queue again, there is a "Blank Screen"
entry.

;=====================================
(SYSTEM-INTERNALS:BEGIN-PATCH-SECTION)
(SYSTEM-INTERNALS:PATCH-SECTION-SOURCE-FILE "SYS:WINDOW;DIMMER.LISP.12")
(SYSTEM-INTERNALS:PATCH-SECTION-ATTRIBUTES
  "-*- Mode: LISP; Syntax: Zetalisp; Package: TV; Base: 10; Lowercase: Yes -*-")

(defun machine-has-program-console-brightness-control ()
  (or *program-console-brightness-control*	; semi-cached
      (let ((present-brightness (sys:console-brightness)))
	(setf (sys:console-brightness)
	      (if ( present-brightness .5)
		  (- present-brightness .01)
		  (+ present-brightness .01)))
	(process-sleep 4.)
	(prog1
	  (setq *program-console-brightness-control*
		( present-brightness (sys:console-brightness)))
	  (setf (sys:console-brightness) present-brightness)))))

