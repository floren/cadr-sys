Date: 29 July 1982 09:50-EDT
From: Robert S. Giansiracusa <RSG at MIT-ML>
Subject: Reading in cdr-coded s-expressions
To: MOON at SCRC-TENEX
cc: NEVES at MIT-ML, BUG-LISPM at MIT-ML

    Date: Tuesday, 27 July 1982  15:45-EDT
    From: MOON at SCRC-TENEX
    In-reply-to: The message from David M. Neves <NEVES at MIT-MC> of Monday, 26 July 1982, 16:09-EDT

    You could read the stuff into a temporary area (using SI:READ-AREA I
    believe) and then COPYTREE it into the area you want it in, which will recopy it
    to be cdr-coded.

At least in my experience with LMI (System 86), COPYTREE creates NON-cdr-coded
lists, while COPYLIST created cdr-coded lists.  One thus has to MAKE-LIST a
list of the appropriate length and then recursively RPLACA in cdr-coded copies
of the elements (if they too are lists).  By the way, why doesn't COPYTREE do
this to begin with?

Bob


From: ECC@MIT-ML
Date: 07/30/82 14:35:06
Subject: macros & H-C-A

ECC@MIT-ML 07/30/82 14:35:06 Re: macros & H-C-A
To: (BUG LISPM) at MIT-AI
In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.57,
ZMail 45.5, microcode 148,  , on Lisp Machine Nine:

Given the following macro definition:

(defun (mactest macro) (x)
  "Testing..."
  (declare (return-list x xinc) (arglist x))
  `(values ,(cadr x) (1+ ,(cadr x))))

the arglist are recorded ok, and H-C-A and friends will show it,
but the return-list is ignored.


Date: Thursday, 29 July 1982, 11:13-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Reading in cdr-coded s-expressions
To: RSG at MIT-ML
Cc: NEVES at MIT-ML, BUG-LISPM at MIT-ML

COPYTREE does full cdr-coding in System 210.


Date: Friday, 30 July 1982, 20:47-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
Subject: time:time ?
To: ALAN at SCRC-TENEX, cherry at MIT-OZ
Cc: BUG-LISPM at MIT-EECS

    Date: Monday, 26 July 1982  23:34-EDT
    From: ALAN
    Re:   time:time ?

    Probably because TIME is a pseudo-MacLisp compatable function.  (That is, it is
    compatable to have a function named "TIME" that has something to do with what
    time it is.  In point of fact its behavior is totally INcompatable.)  I doubt
    we could get away with moving it into the TIME package at this point, although
    cartainly that's where it belongs.

Perhaps its time to make MacLisp compatibility no longer be the default, and
write a MacLisp compatibility package.

Date: Wednesday, 28 July 1982  07:29-EDT
From: DLA at SCRC-TENEX
To: Robert E. Handsaker <REH at MIT-MC>
Cc: BUG-LISPM at EE
Subject: Can't understand compiler error message.

Your bug was sort of fixed in 211, is half fixed in the source now,
and will be fully fixed in 212.  I won't bother patching it in 210
since it does manage to generate reasonable code now.

BTW, for those of you at MIT who are wondering about the state of new
systems at Symbolics, 211 is running here highly experimentally, with
a half installed new error system and zids of new features and bugs.
I'll probably be making 212 in a week or so, and that will be internally
released (at SCRC and MIT) as soon as the release notes are written up.

Date: Tuesday, 27 July 1982, 19:22-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Finger server
To: dlw at SCRC-TENEX
Cc: DLA at SCRC-TENEX, BUG-OZ at MIT-OZ, BUG-LISPM at MIT-EECS

    Date: Tuesday, 27 July 1982, 12:04-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	Date: Tuesday, 27 July 1982, 06:04-EDT
	From: David L. Andre <DLA at SCRC-TENEX>
	Finger "GREN//W@OZ" (for instance) fails to turn the crlf's in his
	comment into 215's (newlines).
    This is a bug in the TOPS-20 NAME server.  The protocol defines the
    characters sent over to be in Lisp Machine character set, and the other
    servers (Lisp Machine and Unix) do it this way.
Fixed and installed on XX and OZ.

Date: Tuesday, 27 July 1982, 18:34-EDT
From: Robert E. Handsaker <REH at MIT-MC>
Subject: Can't understand compiler error message.
To: BUG-LISPM at EE

In System 210.112, ZMail 45.4, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 13, 210.103 MacDaed, on Marvin:

If I call qc-file on a file which contains the following two forms:

(defmacro bar (ignore) 0)

(defun foo (x)
  (and x (1+ x)))

I get an error:

>>TRAP:  The function BAR is undefined.
For Function FOO
  Arithmetic error trying to optimize (1+ (BAR X))

The disassembled code for FOO seems to be optimized, however.
The error message goes away if BAR is defined during the compilation of FOO.
Using the editor Compile Buffer command does not produce the error message.

Date: Tuesday, 27 July 1982  15:45-EDT
From: MOON at SCRC-TENEX
To: David M. Neves <NEVES at MIT-MC>
Cc: bug-lispm at MIT-MC
Subject: Reading in cdr-coded s-expressions
In-reply-to: The message from David M. Neves <NEVES at MIT-MC> of Monday, 26 July 1982, 16:09-EDT

Well, you can't make a cdr-coded list if you don't know how long it is in advance;
READ uses RPLACD and CONS to build up lists one element at a time as it reads the
elements.  You could read the stuff into a temporary area (using SI:READ-AREA I
believe) and then COPYTREE it into the area you want it in, which will recopy it
to be cdr-coded.  The only reason to use a temporary area is to avoid keeping
the non-cdr-coded copy around for a long time.  If READ had a feature to read
cdr-coded lists, it would just have to do the same thing--when lists are nested
it could take an arbitrary amount of reading before you know how long the list is.


Date: Tuesday, 27 July 1982, 12:04-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Finger server
To: DLA at SCRC-TENEX, BUG-OZ at MIT-OZ, BUG-LISPM at MIT-EECS

    Date: Tuesday, 27 July 1982, 06:04-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
    Subject: Finger server
    To: BUG-OZ at MIT-OZ, BUG-LISPM at MIT-EECS

    Finger "GREN//W@OZ" (for instance) fails to turn the crlf's in his
    comment into 215's (newlines).

This is a bug in the TOPS-20 NAME server.  The protocol defines the
characters sent over to be in Lisp Machine character set, and the other
servers (Lisp Machine and Unix) do it this way.

Date: Tuesday, 27 July 1982, 11:29-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: BUG-LISPM at MIT-EECS
Cc: cherry at MIT-OZ

    Date: Monday, 26 July 1982, 22:41-EDT
    From: James J. Cherry <cherry at MIT-OZ>

    Why isnt the function TIME in  the TIME: package?  I got screwed by defstruct
    with a slot named time because I didn't have :conc-name.  The 
    scheduler got completely wedged because defstruct made a macro
    named time.

In my opinion, this is exactly the sort of problem that "fdefine
warnings" should have caught.  Unfortunately, they don't happen when you
evaluate forms from a Lisp Listener or an editor buffer, which is
presumably what happened to Jim.  Typing at a Lisp Listener and
evaluating (rather than compiling) from a buffer are perfectly valid
ways of interacting with Lisp, and the same warnings should be produced.
If nobody objects, I will fix this.

Date: Tuesday, 27 July 1982, 06:04-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Finger server
To: BUG-OZ at MIT-OZ, BUG-LISPM at MIT-EECS

Finger "GREN//W@OZ" (for instance) fails to turn the crlf's in his
comment into 215's (newlines).

Date: Tuesday, 27 July 1982, 05:24-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-MC, DLA at SCRC-TENEX
In-reply-to: The message of 27 Jul 82 04:46-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: 27 July 1982 04:46-EDT
    From: Kent M. Pitman <kmp at MIT-MC>

    In System 210.116,...

    This same thing occurs only worse. If you type
       M-X Define 
    and then type M-Alt while still in the mini-buffer, not only does it beep
    at you saying you shouldn't be recursively entering the minibuffer, but it
    also flushes the minibuffer's text.

In 211.6, the message still flashes subliminally, but the minibuffer's
text isn't flushed.  I don't know what to do about this problem.
Perhaps TYPEIN-LINE could be special cased if the typein window is not
exposed?


Date: 27 July 1982 04:46-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 79.52,...

When typing in the minibuffer, isn't there some way that the things ZWEI:BARF
wants to type out can show up other than underneath the minibuffer. It's hard
to read that message as it flashes by.

In System 210.116,...

This same thing occurs only worse. If you type
   M-X Define 
and then type M-Alt while still in the mini-buffer, not only does it beep
at you saying you shouldn't be recursively entering the minibuffer, but it
also flushes the minibuffer's text.

----

Perhaps when ZWEI types out that message it could notice that it had to
displace the minibuffer to write the message and perhaps pause asking the user
to type something to get back to his minibuffer display...

On the other hand, things like searching lose utterly in the mini-buffer 
because you have to keep going back and forth. Probably a better answer is
that when you enter the minibuffer, a new window (perhaps pop-up, perhaps
a main-screen typeout window) should be established to hold the output that
would normally go in the echo area.

One way or another, something should be done. The current behavior is a real
joke and largely worthless.


Date: Tuesday, 27 July 1982, 02:34-EDT
From: Ian G. Macky <GREN at MIT-AI>
To: DLA at SCRC-TENEX at MIT-MC, zvona at MIT-AI
Cc: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI

    Date: Saturday, 24 July 1982, 22:14-EDT
    From: David L. Andre <DLA at SCRC-TENEX at MIT-MC>
    To:   zvona
    cc:   BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI

	Date: 24 July 1982 20:28-EDT
	From: David Chapman <zvona at MIT-AI>
	fs:directory-chaos gets a NFM error when trying to do a directory on a
	twenex directory that is empty.  This screws over, eg,
	fs:copy-directory, which does an fs:directory-chaos on the target
	directory.  NFM is an error in the 20X view of the world, perhaps, but
	it should not be interpreted as an error in the lispm view.  This should
	either be fixed in the 20X file server or in the lispm "new error
	system".
    It is.

Where is this fixed?  I have made that mod to the 20 FILE server (thou it has not
yet been debugged) - Is eqv action being taken on the LispM end?

					--gren

Date: Monday, 26 July 1982  23:34-EDT
From: ALAN at SCRC-TENEX
Subject: time:time ?
To: James J. Cherry <cherry at MIT-OZ>
Cc: BUG-LISPM at MIT-EECS

    Date: Monday, 26 July 1982, 22:41-EDT
    From: James J. Cherry <cherry at MIT-OZ>

    Why isnt the function TIME in  the TIME: package?

Probably because TIME is a pseudo-MacLisp compatable function.  (That is, it is
compatable to have a function named "TIME" that has something to do with what
time it is.  In point of fact its behavior is totally INcompatable.)  I doubt
we could get away with moving it into the TIME package at this point, although
cartainly that's where it belongs.

Date: Monday, 26 July 1982, 22:41-EDT
From: James J. Cherry <cherry at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In System 210.116, ZMail 45.6, Remote-File 103.0, microcode 903,
site configuration 14,  , on Lisp Machine Two:

Why isnt the function TIME in  the TIME: package?  I got screwed by defstruct
with a slot named time because I didn't have :conc-name.  The 
scheduler got completely wedged because defstruct made a macro
named time.

Date: Monday, 26 July 1982, 16:09-EDT
From: David M. Neves <NEVES at MIT-MC>
Subject: Reading in s-expressions
To: bug-lispm at MIT-MC

I have an application in which a lot of s-expressions (~ 150K cons
cells) are read in.  These lists do not change at all so it would
be nice if they were CDR-coded.  I notice that the lispm manual says
that READ will not produce CDR-coded lists.  Is there some way of
getting around this?


Date: 25 July 1982 01:52-EDT
From: Christopher C. Stacy <CStacy at MIT-AI>
Subject: 20X logical names?
To: BUG-OZ at MIT-AI, ALAN at MIT-MC, BUG-LISPM at MIT-MC

    Date: 25 July 1982 01:46-EDT
    From: Alan Bawden <ALAN at MIT-MC>
    Subject:  20X logical names?
    To: BUG-LISPM at MIT-MC

	Date: 25 Jul 1982 0054-EDT
	From: James Haleblian <MDC.BLIV at MIT-OZ>
	To:   bug-oz at MIT-OZ, jsol at MIT-OZ
	Re:   Disk space...

	...

	Unfortunately, the maintainers of the large system find it to be a pain in
	the neck to type the extra extensions to filenames, and apparently,
	according to several people, the Lisp Machine does not understand logical
	device names, which apparently is another reason why the large systems have
	not migrated to SRC:.

    Isn't this false?  If it is then some publicizing needs to be done.  If it
    isn't then it should be fixed.


I think there is some randomness going on (not sure which system)
where DSK: gets canonicalized to PS:, but that is not what they are
talking about.  These people are confused or something.

I write files to SRC: and other structures from a LispM all the time.



Date: 25 July 1982 01:46-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  20X logical names?
To: BUG-LISPM at MIT-MC

    Date: 25 Jul 1982 0054-EDT
    From: James Haleblian <MDC.BLIV at MIT-OZ>
    To:   bug-oz at MIT-OZ, jsol at MIT-OZ
    Re:   Disk space...

    ...

    Unfortunately, the maintainers of the large system find it to be a pain in
    the neck to type the extra extensions to filenames, and apparently,
    according to several people, the Lisp Machine does not understand logical
    device names, which apparently is another reason why the large systems have
    not migrated to SRC:.

Isn't this false?  If it is then some publicizing needs to be done.  If it
isn't then it should be fixed.

Date: Saturday, 24 July 1982, 22:14-EDT
From: David L. Andre <DLA at SCRC-TENEX at MIT-MC>
To: zvona at MIT-AI
Cc: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI
In-reply-to: The message of 24 Jul 82 20:28-EDT from David Chapman <zvona at MIT-AI>

    Date: 24 July 1982 20:28-EDT
    From: David Chapman <zvona at MIT-AI>
    fs:directory-chaos gets a NFM error when trying to do a directory on a
    twenex directory that is empty.  This screws over, eg,
    fs:copy-directory, which does an fs:directory-chaos on the target
    directory.  NFM is an error in the 20X view of the world, perhaps, but
    it should not be interpreted as an error in the lispm view.  This should
    either be fixed in the 20X file server or in the lispm "new error
    system".
It is.


Date: 24 July 1982 20:28-EDT
From: David Chapman <zvona at MIT-AI>
Sender: DANNY at MIT-AI
To: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI

fs:directory-chaos gets a NFM error when trying to do a directory on a
twenex directory that is empty.  This screws over, eg,
fs:copy-directory, which does an fs:directory-chaos on the target
directory.  NFM is an error in the 20X view of the world, perhaps, but
it should not be interpreted as an error in the lispm view.  This should
either be fixed in the 20X file server or in the lispm "new error
system".

Date: 24 July 1982 14:53-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.62, ZMail 45.6,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 136, color LFS 136, on Lisp Machine Three:

Logging into FC doesn't work any more.  Typing the command
  (LOGIN 'DULCEY 'FC)
on any Lisp Machine causes an LMFILE server on the file computer to
croak with this error message:

>>ERROR: The object #FS:LOCAL-FILE-PATHNAME "FC: NIL: ~;" received a :PRIMARY-DEVICE
message, which went unclaimed.
The rest of the message was NIL
While in the function #FS:LOCAL-FILE-PATHNAME "FC: NIL: ~;"  SI:INSTANCE-HASH-FAILURE 
(:METHOD PATHNAME :HOMEDIR)

#FS:LOCAL-FILE-PATHNAME "FC: NIL: ~;":
   Arg 0: :PRIMARY-DEVICE

Date: Thursday, 22 July 1982, 23:16-EDT
From: David L. Andre <DLA at SCRC-TENEX at MIT-MC>
Subject: compiler bug with VALUES-LIST function
To: BUG-LISPM-SCRC at SCRC-TENEX at MIT-MC
Cc: BUG-LISPM-MIT at MIT-AI

    Date: 20 Jul 1982 1108-CDT
    From: Bill Murray <ATP.Murray at UTEXAS-20>

    (defun test ()
      (multiple-value-bind (x y)
			   (values-list '(a b))
	(format t "The value of X is ~a and of Y is ~a." x y)))

This works in 210.119, UCADR 912 (it had been reported previously).


oz@MIT-MC 07/21/82 06:41:17
To: (BUG LISPM) at MIT-AI
In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.61, ZMail 45.6,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 136, New, on Lisp Machine Twenty-five:

If one enters a breakpoint while typing in a line to the toplevel
lisp-listener editor, when a RESUME is done the point doesn't get
properly reset, although the line redisplays as if it had been.  This
has screwed me a number of times.


Date: 22 July 1982 03:29-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Completion
To: BUG-LISPM at MIT-MC

In System 79.52,...

It is completely losing that in the completing mini-buffer (eg, for M-.) if 
I type:
 FOO--BAR
and then Control-/ it goes looking for anything that matches "FOO" or "" or "BAR".
Looking for "" takes a long time and displays tons of useless cruft. It would
be even more winning if it looked for anything that had "FOO" followed by ""
followed by "BAR", but maybe that would lose for filename completion or something
which allows variable component ordering, but in the worst case it should not
type out info about the null string unless it's got no text in the buffer (except
maybe whitespace) and if it's matching more than one thing, it should require that
all the substrings occur somewhere in the matches it types out. eg,  matching 
"FOO" or "BAR" could type out "FOOBAR", "FOOABCBAR", and even "BARABCFOO" but
I can't see any useful reason for C-/ when I have "FOO--BAR" in my M-. buffer to
type out things like "&*" or "(:property abc def)" which is the sort of silliness
it currently types out.


Date: Friday, 23 July 1982, 13:59-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX at MIT-MC>
Subject: AI:.TEMP.;
To: Rodney A. Brooks <BROOKS at MIT-AI>
Cc: BUG-ITS at MIT-AI, BUG-LISPM at MIT-AI
In-reply-to: The message of 23 Jul 82 09:54-EDT from Rodney A. Brooks <BROOKS at MIT-AI>

    Date: 23 July 1982 09:54-EDT
    From: Rodney A. Brooks <BROOKS at MIT-AI>
    on lispm Terminal-Q complains of the non-existnece of directory AI: .TEMP.;LMSCN >.
    I assume this is either the reslt of recent vandalism or overzealous directory
    reclamation?

Perhaps someone deleted the -READ- -THIS- file, and the program that
reaps that directory (deleting files more than a day old that don't have
the do-not-reap bit and are not -READ- -THIS-) ran, leaving no files
in the directory?

Does AI run that program?  I seem to recall that it's run by PFTHMG
DRAGON on MC.  I think it's called TMPKIL.


Date: 23 July 1982 09:54-EDT
From: Rodney A. Brooks <BROOKS at MIT-AI>
To: BUG-BUG-ITS at MIT-AI, BUG-LISPM at MIT-AI

on lispm Terminal-Q complains of the non-existnece of directory AI: .TEMP.;LMSCN >.
I assume this is either the reslt of recent vandalism or overzealous directory
reclamation?

Date: 23 July 1982 02:36-EDT
From: Kent M. Pitman <kmp at MIT-ML>
Subject: Extended Search Lossage
To: BUG-LISPM at MIT-ML

In System 79.52,...

In the mini-buffer area reading an extended search string, if you C-W a region
containining the funny lozenge chars gotten from C-H, when you yank them back
they're de-lozenged and look like a pile of useless sail graphics. This is sad
if you've created a complex pattern you want to copy to elsewhere in the buffer
rather than retype it. Now not only do I have to retype it in the other place,
but I have to remember what it was I typed...


Date: Thursday, 22 July 1982, 21:28-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Compiler, TV, and ZWEI bugs
To: RpK at MIT-OZ
Cc: BUG-LISPM at MIT-EECS, DLA at SCRC-TENEX
In-reply-to: The message of 22 Jul 82 19:11-EDT from Robert P. Krajewski <RpK at MIT-OZ>

    Date: Thursday, 22 July 1982, 19:11-EDT
    From: Robert P. Krajewski <RpK at MIT-OZ>
    In System 210.101, ZMail 45.3, Remote-File 103.0, microcode 895,
    site configuration 9, on Ford Prefect:

    [1] I get the following warning for file OZ:PS:<RPK.LM>GRAF
  
      For Function KBD-SAVE-SCREEN-REGION
	OLD-MOUSE-BLINKER-STATE has a specified-flag but isn't an optional arg

    Yes, I made a mistake in the LET clause.  The bindings clause
    should have been:

    ((OLD-MOUSE-BLINKER-STATE
       (TELL (TELL TV:MOUSE-SHEET :MOUSE-STANDARD-BLINKER) :VISIBILITY)))

    Why is the warning so cryptic ?  Are any of the special forms in
    the above function expanded with lambda lists with &OPTIONAL in
    them ?  I should have been told that there was more than one
    form to bind OLD-MOUSE-BLINKER-STATE to.

The compiler tries to be "modular" in many places by using the same
functions to parse binding lists in LET and argument lists.  The net
result is that it is usually totally confused.  This probably won't be
fixed, since, after all, you at least got *some* warning.

Date: Thursday, 22 July 1982, 19:11-EDT
From: Robert P. Krajewski <RpK at MIT-OZ>
Subject: Compiler, TV, and ZWEI bugs
To: BUG-LISPM at MIT-EECS

In System 210.101, ZMail 45.3, Remote-File 103.0, microcode 895,
site configuration 9, on Ford Prefect:

[1]

While compiling this:

(DEFUN KBD-SAVE-SCREEN-REGION (IGNORE &AUX X1 Y1)
  (MULTIPLE-VALUE (X1 Y1)
    (TV:SCREEN-EDITOR-FIND-POINT
      #/ "Upper Left Corner" "Click left to use this point."))
  (IF (AND X1 Y1) ; Both will be NIL on middle and right clicks
      (MULTIPLE-VALUE-BIND (X2 Y2)
	(TV:SCREEN-EDITOR-FIND-POINT
	  #/ "Lower Right Corner"
	  "Click left to use this point.  Does the right thing.")
	(COND
	  ((OR X2 X2)
	   ; Lock the main screen and copy the screen array
	   ; Error throws you into the cold load stream
	   (LET ((OLD-MOUSE-BLINKER-STATE
		   (TELL TV:MOUSE-SHEET :MOUSE-STANDARD-BLINKER) :VISIBILITY))
	     (UNWIND-PROTECT
	       (PROGN
		 (TELL (TELL TV:MOUSE-SHEET :MOUSE-STANDARD-BLINKER)
		       :SET-VISIBILITY ':OFF)
		 (TV:LOCK-SHEET (TV:MOUSE-SHEET)
				.
			  more code here
				.
		   (BITBLT TV:ALU-SETA *SCREEN-DUMP-X* *SCREEN-DUMP-Y*
			   (TELL TV:MOUSE-SHEET :SCREEN-ARRAY) X1 Y1
			   *SCREEN-DUMP-ARRAY* 0 0)))
	       (TELL (TELL TV:MOUSE-SHEET :MOUSE-STANDARD-BLINKER)
		     :SET-VISIBILITY OLD-MOUSE-BLINKER-STATE)
	       (TV:BEEP))))
	  (T (SI:%BEEP 2800. 38000.)))) ; Nothing to do  -- abort on second click
      (SI:%BEEP 2800. 38000.))) ; Nothing to do -- abort on first click

where TELL is the macro

(DEFMACRO TELL (OBJECT MESSAGE &REST ARGS)
  `(SEND ,OBJECT ',MESSAGE ,@ARGS))

I get the following warning for file OZ:PS:<RPK.LM>GRAF
  
  For Function KBD-SAVE-SCREEN-REGION
    OLD-MOUSE-BLINKER-STATE has a specified-flag but isn't an optional arg

Yes, I made a mistake in the LET clause.  The bindings clause
should have been:

((OLD-MOUSE-BLINKER-STATE
   (TELL (TELL TV:MOUSE-SHEET :MOUSE-STANDARD-BLINKER) :VISIBILITY)))

Why is the warning so cryptic ?  Are any of the special forms in
the above function expanded with lambda lists with &OPTIONAL in
them ?  I should have been told that there was more than one
form to bind OLD-MOUSE-BLINKER-STATE to.

[2] Why doesn't the main screen understand the various BITBLT
messages ?

[3] I read into ZWEI AI:LMDOC;WINDO2 >, which had documentation
on some blinker functions that I wanted to look at.  When I tried
to use M-. on TV:TURN-OFF-SHEET-BLINKERS, the editor said
``Point Pushed'' and positioned the cursor at the beginning
of a .defun line.  I supposed that's the right thing if you're
in Bolio mode, but the exact same thing happened when I tried to
M-. the function from a buffer in LISP mode.

Date: 20 Jul 1982 1108-CDT
From: Bill Murray <ATP.Murray at UTEXAS-20>
Subject: compiler bug with VALUES-LIST function
To: bug-lispm at MIT-AI
cc: atp.murray at UTEXAS-20

Compiling  a  function  that  calls  VALUES-LIST  and  running  the
compiled code wedges the Lisp machine so bad that only a warm or  cold
boot will revive it.  Here is an example that demonstrates the bug:

(defun test ()
  (multiple-value-bind (x y)
		       (values-list '(a b))
    (format t "The value of X is ~a and of Y is ~a." x y)))

This function works fine interpreted and produces no compiler warnings
when compiled.   When  the compiled  code  is run,  the  Lisp  machine
wedges, responding only to warm and cold boots.  This problem has been
tested and found to occur both on System 86.28 with microcode 123  and
on System 78.64 with microcode 843.

    -Regards,
           Bill

P.S. I'm working with TI this summer, and just mailed this from UT.
-------

Date: Tuesday, 20 July 1982, 16:02-EDT
From: James E. Kulp <JEK at SCRC-TENEX>
Subject: Gateway
To: RWK at SCRC-TENEX
Cc: CWH at SCRC-TENEX, Moon at SCRC-TENEX, DLA at SCRC-TENEX, RpK at MIT-OZ,
    BUG-LISPM at MIT-EECS, Networks at SCRC-TENEX
In-reply-to: The message of 20 Jul 82 03:27-EDT from Robert W. Kerns <RWK at SCRC-TENEX>


    Date: Tuesday, 20 July 1982, 03:27-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
	Networks at SCRC-TENEX
	Date: Monday, 19 July 1982, 16:03-EDT
	From: Carl W. Hoffman <CWH at SCRC-TENEX>
	    Networks at SCRC-TENEX
	    Since most of the Arpa gateways are going away in 5 months, I wouldn't
	    put too much work into this.

	By "Arpa gateways", do you mean machines which are on both the Arpanet
	and the MIT Chaosnet, or do you mean machines on the Chaosnet which
	accept connections to the contact name "ARPA"?

	Which of these two classes of machines does the :ARPA-GATEWAYS site
	option refer to?  Is there an ARPA server for TOPS-20?
    Not at the moment, but I expect one will be invented soon.  Also, one is
    likely to be invented for VMS.
Also, one is likely to be invented for UNIX as soon as such a machine exists.

Date: Tuesday, 20 July 1982, 22:27-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Pathname merging/defaulting
To: Kent M. Pitman <KMP at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 20 Jul 82 05:39-EDT from Kent M. Pitman <KMP at MIT-OZ>


    Date: 20 Jul 1982 0539-EDT
    From: Kent M. Pitman <KMP at MIT-OZ>
    In System 79.52,...

    Every now and then, the LispM gives me the most bizarre file defaults.
    It just now wrote a file called
     OZ:PS:<KBE.DEMO>ALL^V.^V.0^V PS^V:^V<KBE^V.DEMO^V>^V OZ^V:..1
    I don't know what causes this, but I'd be willing to write you a program
    that counted the number of control-V's in the filename and made it query
    if that number exceeded reasonableness. Oh, well. At least it keeps me
    amused late at night when there's nobody around to talk to...
    -------
I believe this is fixed in all modern software.

Date: Tuesday, 20 July 1982, 09:01-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Pathname merging/defaulting
To: KMP at MIT-OZ
Cc: BUG-LISPM at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 20 Jul 82 05:39-EDT from Kent M. Pitman <KMP at MIT-OZ>

    Date: 20 Jul 1982 0539-EDT
    From: Kent M. Pitman <KMP at MIT-OZ>

    Every now and then, the LispM gives me the most bizarre file defaults.
    It just now wrote a file called
     OZ:PS:<KBE.DEMO>ALL^V.^V.0^V PS^V:^V<KBE^V.DEMO^V>^V OZ^V:..1
    I don't know what causes this, but I'd be willing to write you a program
    that counted the number of control-V's in the filename and made it query
    if that number exceeded reasonableness. Oh, well. At least it keeps me
    amused late at night when there's nobody around to talk to...

This is fixed in the current systems.

Date: 20 Jul 1982 0539-EDT
From: Kent M. Pitman <KMP at MIT-OZ>
Subject: Pathname merging/defaulting
To: BUG-LISPM at MIT-OZ

In System 79.52,...

Every now and then, the LispM gives me the most bizarre file defaults.
It just now wrote a file called
 OZ:PS:<KBE.DEMO>ALL^V.^V.0^V PS^V:^V<KBE^V.DEMO^V>^V OZ^V:..1
I don't know what causes this, but I'd be willing to write you a program
that counted the number of control-V's in the filename and made it query
if that number exceeded reasonableness. Oh, well. At least it keeps me
amused late at night when there's nobody around to talk to...
-------

Date: Tuesday, 20 July 1982, 03:27-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Gateway
To: Carl W. Hoffman <CWH at SCRC-TENEX>
Cc: Moon at SCRC-TENEX, DLA at SCRC-TENEX, RpK at MIT-OZ, BUG-LISPM at MIT-EECS,
    Networks at SCRC-TENEX
In-reply-to: The message of 19 Jul 82 16:03-EDT from Carl W. Hoffman <CWH at SCRC-TENEX>

    Date: Monday, 19 July 1982, 16:03-EDT
    From: Carl W. Hoffman <CWH at SCRC-TENEX>
	Networks at SCRC-TENEX
	Since most of the Arpa gateways are going away in 5 months, I wouldn't
	put too much work into this.

    By "Arpa gateways", do you mean machines which are on both the Arpanet
    and the MIT Chaosnet, or do you mean machines on the Chaosnet which
    accept connections to the contact name "ARPA"?

    Which of these two classes of machines does the :ARPA-GATEWAYS site
    option refer to?  Is there an ARPA server for TOPS-20?
Not at the moment, but I expect one will be invented soon.  Also, one is
likely to be invented for VMS.

Date: 19 July 1982 21:33-EDT
From: Ken Forbus <KDF at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.61,
ZMail 45.6, microcode 148,  , on Lisp Machine Two:
In ZWEI, replace commands barf, claiming funcall of a macro.  The search strings
are has-value and := respectively.  

Date: Monday, 19 July 1982, 16:03-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: Moon at SCRC-TENEX
Cc: DLA at SCRC-TENEX, RpK at MIT-OZ, BUG-LISPM at MIT-EECS,
    Networks at SCRC-TENEX

    Since most of the Arpa gateways are going away in 5 months, I wouldn't
    put too much work into this.

By "Arpa gateways", do you mean machines which are on both the Arpanet
and the MIT Chaosnet, or do you mean machines on the Chaosnet which
accept connections to the contact name "ARPA"?

Which of these two classes of machines does the :ARPA-GATEWAYS site
option refer to?  Is there an ARPA server for TOPS-20?

Date: Monday, 19 July 1982, 11:12-EDT
From: Richard E. Zippel <RZ at MIT-MC>
To: BUG-LISPM at EE

In System 210.116, ZMail 45.6, LMFS 27.21, microcode 896,
site configuration 14, Mathlab, on Lisp Machine Fifteen:

When hardcopying a file using the file system editor, specifying the
default font, FIX, seems to produce a file using Helvetica, a decidedly
non-fixed width font.

Date: Monday, 19 July 1982, 08:27-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: CWH at SCRC-TENEX
Cc: RpK at MIT-OZ, BUG-LISPM at MIT-EECS

And in case you're wondering how SUPDUP determines the default Arpanet
gateway, the answer is that it uses the first host on the :ARPA-GATEWAYS
site option list.  (I don't have any opinion about this.)

Date: Monday, 19 July 1982, 06:00-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: CWH at SCRC-TENEX
Cc: DLA at SCRC-TENEX, RpK at MIT-OZ, BUG-LISPM at MIT-EECS, DLA at SCRC-TENEX
In-reply-to: The message of 18 Jul 82 18:20-EDT from Carl W. Hoffman <CWH at SCRC-TENEX>

:SUPDUP-DEFAULT-PATH has nothing to do with ARPA gateways.  It only
means that you get that host when you type (SUPDUP) or (TELNET).  If the
site option is not supplied, then (SUPDUP) and (TELNET) don't connect to
a host.

Date: Monday, 19 July 1982, 01:28-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: Carl W. Hoffman <CWH at SCRC-TENEX>
Cc: DLA at SCRC-TENEX, RpK at MIT-OZ, BUG-LISPM at MIT-EECS
In-reply-to: The message of 18 Jul 82 18:20-EDT from Carl W. Hoffman <CWH at SCRC-TENEX>

    Date: Sunday, 18 July 1982, 18:20-EDT
    From: Carl W. Hoffman <CWH at SCRC-TENEX>
    To: DLA at SCRC-TENEX, RpK at MIT-OZ
    Cc: BUG-LISPM at MIT-EECS

	Date: Sunday, 18 July 1982, 12:41-EDT
	From: David L. Andre <DLA at SCRC-TENEX>
	    Date: Saturday, 17 July 1982, 14:39-EDT
	    From: Robert P. Krajewski <RpK at MIT-OZ>
	    The default path for TELNET is AI.  Shouldn't it be based on a
	    site variable ?
	I added the :SUPDUP-DEFAULT-PATH option in the source, and updated EE's
	site file.

    If :SUPDUP-DEFAULT-PATH site happens to be down, will it try each of the
    :ARPA-GATEWAYS?

    I have an idea for a different solution.  At times I've wanted a
    server which would say how loaded a given system was, i.e. it would
    return a number like the TOPS-20 load average, but the numbers from
    different systems could be compared to find which was "less loaded".

    So, when supduping to an Arpa site, the Lispm would find which Arpa
    gateways were up, and then choose the one which was least loaded.
Since most of the Arpa gateways are going away in 5 months, I wouldn't
put too much work into this.

Date: Sunday, 18 July 1982, 18:20-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: DLA at SCRC-TENEX, RpK at MIT-OZ
Cc: BUG-LISPM at MIT-EECS

    Date: Sunday, 18 July 1982, 12:41-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
	Date: Saturday, 17 July 1982, 14:39-EDT
	From: Robert P. Krajewski <RpK at MIT-OZ>
	The default path for TELNET is AI.  Shouldn't it be based on a
	site variable ?
    I added the :SUPDUP-DEFAULT-PATH option in the source, and updated EE's
    site file.

If :SUPDUP-DEFAULT-PATH site happens to be down, will it try each of the
:ARPA-GATEWAYS?

I have an idea for a different solution.  At times I've wanted a
server which would say how loaded a given system was, i.e. it would
return a number like the TOPS-20 load average, but the numbers from
different systems could be compared to find which was "less loaded".

So, when supduping to an Arpa site, the Lispm would find which Arpa
gateways were up, and then choose the one which was least loaded.

Date: Sunday, 18 July 1982, 12:41-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: RpK at MIT-OZ
Cc: BUG-LISPM at MIT-EECS, DOC-CHANGES at SCRC-TENEX, DLA at SCRC-TENEX
In-reply-to: The message of 17 Jul 82 14:39-EDT from Robert P. Krajewski <RpK at MIT-OZ>

    Date: Saturday, 17 July 1982, 14:39-EDT
    From: Robert P. Krajewski <RpK at MIT-OZ>

    The default path for TELNET is AI.  Shouldn't it be based on a
    site variable ?
I added the :SUPDUP-DEFAULT-PATH option in the source, and updated EE's
site file.

Date: Sunday, 18 July 1982, 12:20-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: KMP at MIT-ML
Cc: BUG-LISPM at MIT-ML
In-reply-to: The message of 18 Jul 82 04:03-EDT from Kent M. Pitman <KMP at MIT-ML>

    Date: 18 July 1982 04:03-EDT
    From: Kent M. Pitman <KMP at MIT-ML>
    That's pretty funny. I hope it is fixed at least in later system versions and it
    wouldn't hurt if it were patched in System 79...
It is.  You should really do yourself a favor and switch to a later
system version.


Date: 18 July 1982 04:05-EDT
From: Kent M. Pitman <KMP at MIT-ML>
Sender: KBE at MIT-ML
To: BUG-LISPM at MIT-ML

ps -- perhaps needless to say, that last bug-message was a little hard to send, since
it got an NLI error trying to write to AI: .MAIL.; MAIL > ... 


Date: 18 July 1982 04:03-EDT
From: Kent M. Pitman <KMP at MIT-ML>
Sender: KBE at MIT-ML
To: BUG-LISPM at MIT-ML

In System 79.52,...

If you get a query from the LispM saying 

 ITS uname (Default KBE):

and type Abort, then if you try to reference a file from ITS again, you'll
get:

 File error NLI (Severity F), NOT LOGGED IN for SYS: LMLIB; GPRINT QFASL >
 Use what pathname instead? (default SYS: LMLIB; GPRINT QFASL)

That's pretty funny. I hope it is fixed at least in later system versions and it
wouldn't hurt if it were patched in System 79...
-kmp



Date: 17 July 1982 16:54-EDT
From: Steven C. Bagley <Bagley at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.61,
ZMail 45.5, Local-File 37.1, DAEDALUS 45.2, microcode 148,  ,
on Lisp Machine Eighteen:

It would be nice if C-V and M-V scrolled the main inspect pane of the
inspector.

Date: Saturday, 17 July 1982, 14:39-EDT
From: Robert P. Krajewski <RpK at MIT-OZ>
To: BUG-LISPM at MIT-EECS

In System 210.115, ZMail 45.5, Remote-File 103.0, microcode 903,
site configuration 14, u903, on Lisp Machine Six:

The default path for TELNET is AI.  Shouldn't it be based on a
site variable ?

bob

Date: Friday, 16 July 1982, 23:24-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: DEKLEER at PARC-MAXC
Cc: BUG-lispm at MIT-AI
In-reply-to: The message of 16 Jul 82 21:24-EDT from DEKLEER at PARC-MAXC

    Date: 16 JUL 1982 1824-PDT
    From: DEKLEER at PARC-MAXC
    To:   BUG-lispm at MIT-AI

    In ETHER 26.24, System 79.52, microcode 854, on Unknown:

    CHOOSE-VARIABLE-VALUES gets an error trying to expose outside of its
    superior if the line corresponding to a variable is too long.  It
    should either break up the line or give a better error msg.
This was fixed a long time ago.

Date: 16 JUL 1982 1824-PDT
From: DEKLEER at PARC-MAXC
To:   BUG-lispm at MIT-AI

In ETHER 26.24, System 79.52, microcode 854, on Unknown:

CHOOSE-VARIABLE-VALUES gets an error trying to expose outside of its
superior if the line corresponding to a variable is too long.  It
should either break up the line or give a better error msg.
-------

Date: Friday, 16 July 1982, 13:57-EDT
From:  <Boxer at MIT-LISPM-27>
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:

I did a terminal-q to print out the screen.  I then got asked for
my ITS uname (Boxer was the default) and I hit a carriage return.
I think I had logged in as follows [ (login 'neves 'mc nil)
(login 'boxer 'fs) ].  I then got the following error.

">>>ERROR: File job claims to have logged in as someone else.
While in the function FS:LOGIN-HOST-UNIT <- (METHOD FS:FILE-HOST-ITS-MIXIN LOGIN-UNIT) <-
(METHOD FS:HOST-UNIT VALIDATE-CONTROL-CONNECTION)

FS:LOGIN-HOST-UNIT:
  "

I guess it had me down as NEVES instead of BOXER on ITS.  This seems
like a horrible error to occur, esp. since I lost some time and
work in recreating the screen for another terminal-q.
  -dave neves

Date: Friday, 16 July 1982, 12:37-EDT
From: David M. Neves <Neves at MIT-MC>
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:


Often, the first time I try to TELNET to a site I get connected (or at
least I think I do -- i think i've gotten the connect message at times
but other times I do not get connected) and then the lispm prints out
'Aborted' and sends me back to Telnet's 'Connect to host'.  The next time
I try to connect I get through.  This has happened when I try to mit-vax
and to cmua.

Date: Friday, 16 July 1982, 15:00-EDT
From: David Chapman <Zvona at MIT-OZ>
Subject: 20X file server
To: RMS at MIT-AI, BUG-LISPM at MIT-AI, KMP at MIT-AI,
    Moon at SCRC-TENEX, bug-oz at MIT-OZ
In-reply-to: The message of 15 Jul 82 17:16-EDT from Richard M. Stallman <RMS at MIT-AI>



    Date: 15 July 1982 17:16-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    Subject: 20X file server
    To: BUG-LISPM at MIT-AI, KMP at MIT-AI, Moon at SCRC-TENEX

	Date: Wednesday, 14 July 1982, 15:25-EDT
	From: David A. Moon <Moon at SCRC-TENEX>
	In-reply-to: The message of 12 Jul 82 05:21-EDT from Richard M. Stallman <RMS at MIT-AI>
	    The other use of connecting to a directory is to get access.
	Actually, this is ACCESS rather than CONNECT, and the 20X FILE server
	has been doing it for a long time.
    ACCESS usually does the job, except that it can't be done to a
    files-only directory.  Perhaps there shouldn't be any files-only
    directories?
Perhaps 20x ought to realize that there are people and there are
directories and the two things need not have any close connection?  This
seems to be a recurrent theme in 20x lossage modes.

Date: Friday, 16 July 1982, 14:36-EDT
From: David M. Neves <NEVES at MIT-MC>
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:

Regarding previous bug report.  Actually part of it was my error.  I tried
to send the file to mc:neves test and didn't specify a directory.  I thought,
though, that when it asked me for a new file I put the directory name in
explicitly (i.e. mc:neves;foo)...

Date: Friday, 16 July 1982, 14:31-EDT
From: David M. Neves <NEVES at MIT-MC>
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:

I tried to send a file to MC and got the following error.  I'm not sure
why it wouldn't let me to do this.  I then directed the output to an
oz directory and the file was sent.

Non existent directory for mc:neves;neves test.

Date: Friday, 16 July 1982, 14:51-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: macros declaration
To: GSB at MIT-ML, KDF at MIT-AI
Cc: BUG-LISPM at MIT-AI

The problem is, our compiler used to work by reading everything first
and compiling it afterwards, and we got lots of complaints from people,
mainly because of the problem you mentined with reader macros.

The solution you are suggesting is still very much a partial solution in
that it doesn't work for programs that live in more than one file; you
still have to worry about the order in which the various files are
compiled.  So the new feature would not really solve the general
problem, and so it would still be necessary for people to worry about
order of compilation.  The simple rule we have now (that macros must be
defined before they are used) is, at least, easy to explain and
understand.

Date: 16 July 1982 11:11-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, HENRY at MIT-AI

The problem with your flavor example is that you didn't
specify :initable-instance-variables in flavor A.
If that is specified, the default init plist of B works.
It is a bug that you don't get an error specifying an
unhandled init keyword in the default init plist,
and I'll fix it, but this should not prevent your program
from working if it is correct.

Date: 15 July 1982 17:16-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: 20X file server
To: BUG-LISPM at MIT-AI, KMP at MIT-AI, Moon at SCRC-TENEX

    Date: Wednesday, 14 July 1982, 15:25-EDT
    From: David A. Moon <Moon at SCRC-TENEX>
    In-reply-to: The message of 12 Jul 82 05:21-EDT from Richard M. Stallman <RMS at MIT-AI>

        The other use of connecting to a directory is to get access.
    Actually, this is ACCESS rather than CONNECT, and the 20X FILE server
    has been doing it for a long time.
ACCESS usually does the job, except that it can't be done to a
files-only directory.  Perhaps there shouldn't be any files-only
directories?

Date: Friday, 16 July 1982, 01:48-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: 20X file server -- ACCESS to directories
To: Richard M. Stallman <RMS at MIT-AI>
Cc: BUG-LISPM at MIT-AI, KMP at MIT-AI
In-reply-to: The message of 15 Jul 82 17:16-EDT from Richard M. Stallman <RMS at MIT-AI>

Sorry for spreading misinformation.  The 20X file server only uses
ACCESS to get around the bug in the way cross-structure access control
works on TOPS-20 (the fact that directory groups are per-structure).

Date: 15 July 1982 23:25-EDT
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.55,
ZMail 45.5, microcode 136, 86.55, on Lisp Machine Four:

Variables of component flavors specified in the DEFAULT-INIT-PLIST
fail to get initialized. It works OK in Brand S.

(DEFFLAVOR A (V) NIL)
; A

(DEFFLAVOR B NIL (A) (DEFAULT-INIT-PLIST V 'FOO))
; B

(SETQ I (MAKE-INSTANCE 'B))
; #<B 26342562>

(DESCRIBE I)
; #<B 26342562>, an object of flavor B,
;  has instance variable values:
; 	V: unbound
; #<B 26342562>

Date: Wednesday, 14 July 1982, 14:33-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: lunch
To: DLA at SCRC-TENEX
Cc: BSG at SCRC-TENEX, RWK at SCRC-TENEX, laura at MIT-OZ, BUG-LISPM at MIT-EECS

    Date: Wednesday, 14 July 1982, 01:41-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
    M-X Source Compare doesn't work between files and buffers with fonts,
    because it tries to :STRING-OUT a fat string from the buffer, which
    bombs out in the window system when trying to :TYO a very large
    character.
This particular problem has been fixed in the source for ages as well.

Date: Wednesday, 14 July 1982, 19:56-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: rms at MIT-AI
Cc: BUG-LISPM at MIT-AI, DLA at SCRC-TENEX
In-reply-to: The message of 14 Jul 82 14:54-EDT from Richard M. Stallman <rms at MIT-AI>

    Date: 14 July 1982 14:54-EDT
    From: Richard M. Stallman <rms at MIT-AI>
    What were the other multiple value bugs in addition
    to the one Brooks reported?
The only one which appears to exist in your sources can be demonstrated
with the following function:

(DEFUN TEST ()
  (MULTIPLE-VALUE (A B) 'C))

Date: 14 July 1982 18:49-EDT
From: Steven C. Bagley <Bagley at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.61,
ZMail 45.6, microcode 148,  , on Lisp Machine Eighteen:

Compile the following function:

(defun foobar (a b) (null a b))

The following warnings occur:

Warning: Function NULL called with too many arguments.
Warning: Function NOT called with too many arguments.

one of which is completely bogus and misleading.

Date: 14 July 1982 15:59-EDT
From: Jeffrey J Tyrone Sealy <TY at MIT-AI>
Subject: Cadr 4,6,& 29 powered down
To: INFO-LISPM at MIT-AI
cc: NINTH-FLOOR at MIT-AI

These three machines will be moved from their present location,sometime early morning
Monday 19,July. There is work being done to an A/C duct under the floor and it should not
take all day. The machines will be moved back as soon as the work (the floor and balancing of
the disk)is finished.


Date: Wednesday, 14 July 1982, 15:25-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: 20X file server
To: Richard M. Stallman <RMS at MIT-AI>
Cc: BUG-LISPM at MIT-AI, KMP at MIT-AI
In-reply-to: The message of 12 Jul 82 05:21-EDT from Richard M. Stallman <RMS at MIT-AI>

    Date: 12 July 1982 05:21-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    To: BUG-LISPM at MIT-AI, KMP at MIT-AI

    The other use of connecting to a directory is to get access.
    However, it is better if this happens automatically rather than
    requiring any command from the user.  Especially since on OZ the default
    is that anybody can connect.  If the file server gets an error due
    to protection, it should just try connecting to the directory
    without a password, and if that works, it should retry the operation.
Actually, this is ACCESS rather than CONNECT, and the 20X FILE server
has been doing it for a long time.

Date: 14 July 1982 14:54-EDT
From: Richard M. Stallman <rms at MIT-AI>
Sender: ___041 at MIT-AI
To: DLA at MIT-AI, BUG-LISPM at MIT-AI

What were the other multiple value bugs in addition
to the one Brooks reported?

Date: Wednesday, 14 July 1982, 04:31-EDT
From: Patrick Sobalvarro <PGS at MIT-OZ>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.60, ZMail 45.6,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 136, New, on Lisp Machine Twenty-five:

>>>>TRAP 6257  (ARGTYP FIXNUM PP NIL ...)
Some arg to AREF, STRING-FOR-PRINTING, was of the wrong type.
While in the function (PROPERTY ZWEI:GET-DEFAULTED-MOVE-MAIL-FILE ZWEI:WHO-LINE-DOCUMENTATION-UPDATER)  ZWEI:UPDATE-COMMAND-WHO-LINE-DOCUMENTATION  ZWEI:UPDATE-ALL-COMMANDS-ASSOCIATED-WITH-OPTIONS-DOCUMENTATION

(PROPERTY ZWEI:GET-DEFAULTED-MOVE-MAIL-FILE ZWEI:WHO-LINE-DOCUMENTATION-UPDATER)
   Arg 0: (STRING): ""
   --Defaulted args:--
   Arg 1: (RECURSIVE): NIL


I have DEFAULT-MAIL-FILE-TO-MOVE-TO set in my Zmail init.

Date: Wednesday, 14 July 1982, 01:41-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: lunch
To: BSG at SCRC-TENEX, RWK at SCRC-TENEX
Cc: laura at MIT-OZ, BUG-LISPM at MIT-EECS

Actually, I diagnosed the bug when it was reported, rather than waiting
two weeks (of course, I wait weeks to fix it, so I guess I'm no better).
Since you two seem so interested in it, however, I hereby defer fixing
it to you.  It's unclear to me how to fix it anyway.

M-X Source Compare doesn't work between files and buffers with fonts,
because it tries to :STRING-OUT a fat string from the buffer, which
bombs out in the window system when trying to :TYO a very large
character.

I'll probably be hungry the next time either of you wants to take me out
to lunch.

Date: 14 July 1982 01:29-EDT
From: Richard M. Stallman <rms at MIT-AI>
Sender: ___017 at MIT-AI
To: MOON at MIT-AI, BUG-LISPM at MIT-AI

What were the other multiple value bugs?  I want to fix them too.

Date: 13 Jul 1982 1702-EDT
From: Marc A. LeBrun <MLB at SCRC-TENEX>
Subject: Re: Your bug report wrt M-X Source Compare
To: BSG at SCRC-TENEX
cc: RWK at SCRC-TENEX, laura at MIT-OZ, BUG-LISPM at MIT-EECS
In-Reply-To: Your message of 13-Jul-82 1241-EDT

    Date: Tuesday, 13 July 1982, 08:58-EDT
    From: Bernard S Greenberg <BSG at SCRC-TENEX>
    Subject: Your bug report wrt M-X Source Compare
    To: RWK at SCRC-TENEX, laura at MIT-OZ
    Cc: BUG-LISPM at MIT-EECS
    In-reply-to: The message of 12 Jul 82 23:31-EDT from Robert W. Kerns <RWK at SCRC-TENEX>
    
        Date: Monday, 12 July 1982, 23:31-EDT
        From: Robert W. Kerns <RWK at SCRC-TENEX>
    	Date: Friday, 2 July 1982, 17:28-EDT
    	From: Laura Bagnall <laura at MIT-OZ>
    	In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
    	site configuration 8, on Lisp Machine Twenty:
    
    	While doing a source compare between a file and a buffer, and again between the buffer
    	and the file read into another buffer, I got the following error.
    
    	>>ERROR: The argument CHAR was 393., which is not a character.
    	While in the function (:METHOD TV:SHEET TYO) <- (:METHOD TV:TYPOUT-WINDOW-WITH-MOUSE-
    	SENSITIVE-ITEMS :COMBINED TYO) <- (:METHOD TV:SHEET :STRING-OUT)
    
    Both of you take me to lunch if it turns out you have a program that uses
    "base" as a lambda variable, not knowing that this screws all output above that
    point.
    
    This has been determined to be the cause of the above symptom every time it has happened
    to me.
    
 
Hmm.  I hesitate to mention this, because it might be totally irrelevant,
but since we're speculating wildly, what the heck.

One of the ways I have seen the various hacks demos losing a lot lately
is with a "no corresponding tag at sys command level" with the thing being
thrown being the octal value of control-abort or something equally fishy.

To recover I back up the stack to a process-wait and return nil.  I think 
the problem is caused in this case by typing at something that isn't listening
(like a menu or a weird hack) and having the character get buffered until
some unfortunate time when something else that shouldn't hears the character
instead and freaks out.  In that case there might be something involving 
either the window system or how it's used that isn't quite right.

Bernie, maybe lambda-binding base to ':ROMAN should be tried as an experiment,
but how do you say WITH-LEXPR-FUNCALL-WHOPPER-CONTINUATION-MAYBE in Latin?
-------

mp@MIT-MC 07/13/82 14:22:50
To: (BUG LISPM) at MIT-AI
In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.55, ZMail 45.5,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 136,  , on Lisp Machine Five:

Whenever I go into ZMail, mouse "select file", then mouse "find file",
then start to type in a filename, I get the following error message:

---> TERMINAL-IO clobbered, using the cold load stream <---

>>>>TRAP 15571 (TRANS-TRAP)
The variable ZWEI:*BACKGROUND-TYPEOUT-WHICH-OPERATION* is unbound

While in the function ZWEI:BACKGROUND-TYPEOUT-STREAM 
		      ZWEI:BACKGROUND-TYPEOUT-STREAM 
		      ZWEI:CHECK-FOR-TYPEOUT-WINDOW-TYPEOUT

In  all cases, I was talking to either MC or AI and did not
have a pre-existing mail file.


Date: Tuesday, 13 July 1982, 08:58-EDT
From: Bernard S Greenberg <BSG at SCRC-TENEX>
Subject: Your bug report wrt M-X Source Compare
To: RWK at SCRC-TENEX, laura at MIT-OZ
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 12 Jul 82 23:31-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: Monday, 12 July 1982, 23:31-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
	Date: Friday, 2 July 1982, 17:28-EDT
	From: Laura Bagnall <laura at MIT-OZ>
	In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
	site configuration 8, on Lisp Machine Twenty:

	While doing a source compare between a file and a buffer, and again between the buffer
	and the file read into another buffer, I got the following error.

	>>ERROR: The argument CHAR was 393., which is not a character.
	While in the function (:METHOD TV:SHEET TYO) <- (:METHOD TV:TYPOUT-WINDOW-WITH-MOUSE-
	SENSITIVE-ITEMS :COMBINED TYO) <- (:METHOD TV:SHEET :STRING-OUT)

Both of you take me to lunch if it turns out you have a program that uses
"base" as a lambda variable, not knowing that this screws all output above that
point.

This has been determined to be the cause of the above symptom every time it has happened
to me.

Date: 13 July 1982 07:42-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, ZVONA at MIT-AI

The ZMAIL bug reported by ZVONA should be fixed in ZMAIL 45.6.

Date: Monday, 12 July 1982, 23:56-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: This is a system 86 bug.
To: BUG-LISPM at MIT-AI

Date: 12 July 1982 10:47-EDT
From: David W. Shipman <shipmn at MIT-AI>
To: BUG-LMFS at MIT-AI

In lmfs in LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.59,
ZMail 45.6, Experimental Remote-File 11.0, Experimental Local-File 38.1,
FILE-Server 3.0, microcode 136, LMFS 38, on Lisp Machine Twelve:

When I attempt to load the new version of LMFS, I get an error message that
#FS:LOGICAL-PATHNAME "SYS:NIL: " does not handle the PRIMARY-DEVICE message.

Date: Monday, 12 July 1982, 23:31-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Your bug report wrt M-X Source Compare
To: Laura Bagnall <laura at MIT-OZ>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 2 Jul 82 17:28-EDT from Laura Bagnall <laura at MIT-OZ>

    Date: Friday, 2 July 1982, 17:28-EDT
    From: Laura Bagnall <laura at MIT-OZ>
    In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
    site configuration 8, on Lisp Machine Twenty:

    While doing a source compare between a file and a buffer, and again between the buffer
    and the file read into another buffer, I got the following error.

    >>ERROR: The argument CHAR was 393., which is not a character.
    While in the function (:METHOD TV:SHEET TYO) <- (:METHOD TV:TYPOUT-WINDOW-WITH-MOUSE-
    SENSITIVE-ITEMS :COMBINED TYO) <- (:METHOD TV:SHEET :STRING-OUT)

    Through backtracing, I discovered the string in question to be
    "	(FUNCTION (CADDR INFO))".

    The file was oz:<boxer>error.lisp.14 and the buffer was a slightly modified
    version of the same.

    Laura
I could not reproduce this using ERROR.LISP.18.  I couldn't try this with
error.lisp.14, because you seem to have deleted it.  It would also have
helped to have saved out the buffer for us to look at, too.

Date: 12 Jul 1982 2325-EDT
From: Ed Barton <EB at MIT-OZ>
Subject: SXHASH and garbage collection
To: BAK at MIT-OZ
cc: bug-lispm at MIT-OZ

What do you mean by the "same result from session to session"
with SXHASH?  EQUAL degenerates to EQ for the objects in question
(arrays, defstructs, etc.) so I don't understand how you can give
the "same" (EQUAL, here EQ) object to SXHASH on two different occasions
in different sessions.

It is definitely a loss that SXHASH is not interfaced to the garbage
collector properly yet, if it isn't, but if EQUAL is going to degenerate
to EQ on structures, I think it is fine for SXHASH to do so also.  Then
at least we can get reasonable results from equal hash tables.
-------

Date: Monday, 12 July 1982, 21:07-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Brooks at MIT-AI
Cc: BUG-LISPM at MIT-AI

I fixed your multiple value bug in the Symbolics source.  Warnings are
still generated in, say, the following case:

(MULTIPLE-VALUE (A B)
  (COND (<test1> T)
        (<test2> 'FOO)
        (<test3> (BAR))))

Where forms the user explicitly typed don't generate multiple values.
If this is unacceptable, maybe the warning should be flushed altogether.

While I was at it, I found and fixed 3 other bugs in the multiple value
code.

Date: 12 July 1982 19:50-EDT
From: H. Keith Nishihara <Nis at MIT-AI>
To: RMS at MIT-AI, BUG-LISPM at MIT-AI

re: problem of microcode module on cadr-3 .. 
I booted machine to fresh system 86.55 microcode 136 and remicrocompiled
my functions in it and it worked .. i then went back to band4 (my saved
environment)and tried to load existing module and it did this time ..
exactly same protocal that was used in my previous message.  but it
didnt completely work .. when i tried to use one of microcoded functions
called from a previously compiled lisp fcn (camera-loop)
it seemed to try to call a different function completely unrelated and
not microcompiled.  I then remicrocompiled my things and it worked and
then running (camera-loop) and it worked.  Im quite confused about whats 
happening.  -- keith

Date: 12 July 1982 15:32-EDT
From: H. Keith Nishihara <Nis at MIT-AI>
To: RMS at MIT-AI, BUG-LISPM at MIT-AI

hi,  I've been having a strange problem with cadr-3 intermittently over
that last month or so while loading a microcode module:

     This is band 4 of Pack T300 B. (nis7/6)
      LMFILE-Remote             17.1
      MIT-Specific               9.0
      System                    86.55
      ZMail                     45.4
      Experimental Remote-File  11.0
      Experimental Local-File   38.1
      Microcode                136
     MIT Lisp Machine Three, with associated machine AI.

       
     (add-microcode)
     >>>>TRAP 15571 (TRANS-TRAP)
     The word #<DTP-FREE 13252103> was read from location 136000 (in MICRO-CODE-ENTRY-AREA).
     While in the function UA:UA-LOAD-DEFMIC  UA:LOAD-MODULE  ADD-MICROCODE
     
     UA:UA-LOAD-DEFMIC:
	Arg 0 (NAME): %XBUS-CAMERA-DCONV-SIGN-TO-MEMORY
	Arg 1 (OPCODE): 1163
	Arg 2 (ARGLIST): (UA:XBUS-SMEM-STATUS-ADR UA:XBUS-DCONV-CONTROL-ADR UA:OUTARR UA:X ...)
	Arg 3 (LISP-FUNCTION-P): T
	Arg 4 (NO-QINTCMP): T
     c-N 
     UA:LOAD-MODULE:
	Arg 0 (MODULE): #<UCODE-MODULE #FS:ITS-PATHNAME "AI: NIS; LM1EMC >">
	--Defaulted args:--
	Arg 1 (IMAGE): #<UCODE-IMAGE version 136, modules (#<UCODE-MODULE #FS:ITS-PATHNAME "AI: NIS; LM1EMC >"> #<UCODE-MODULE #FS:LOGICAL-PATHNAME "SYS: NIL: UBIN; UCADR LISP 136">)>
     c-N 
     ADD-MICROCODE:
	--Defaulted args:--
	Arg 0 (RESETFLAG): NIL
	Arg 1 (FILE): "ai:nis;lm1emc >"
     c-Z 
     * 



this behavior is obtained from a disk-restored band (4) in which this
worked properly on friday.  (the load module already exists  in the
environment ..  so as far
as i can tell nothing really new was added to the environment today).
Powercycling the machine does not help.  The last time this happened
remicrocompiling with a different system microcode version did not help
either.  That time the problem misteriously went away after a few days.

WELG has been developing some other microcode on cadr-3 and my problems
seem to have begun around the same time he started .. are there any relevant
tables on the disk that could have been side effected?

any thoughts?  -- keith


Date: Monday, 12 July 1982, 11:05-EDT
From: Jan Walker <JWALKER at SCRC-TENEX>
To: kmp at MIT-MC
Cc: bug-lispm at MIT-MC

    Date: 10 July 1982 18:45-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    To: BUG-LISPM at MIT-MC
...
    RMS, I also don't think your recent change to make DSK change to PS is the
    right change. The logical device DSK on Twenex does not mean PS, it means
    PS:<connected-directory>. It is currently a screw that there is no way I
    can ask my file server to connect to another directory, so I think you should
    consider:
     (1) making file servers able to connect to different directories
    and
     (2) making DSK:<anything> change to PS:<correct-dir-name>, not just hack
	 DSK: => PS: at a textual level.
Well, actually, wrong again.  DSK: means connected directory on the
current structure.  It just happens by accident that OZ is a stripped
down TOPS-20 with only one public structure.  Just try working on a
system with multiple public structures where all your work is in
directories on PS1: and PS4:.  Then think again about what a screw it is
to have DSK: made equivalent to PS:.

    It is a well-known screw (to me and a few friends of mine at least) that
    on Twenex, logical device names are not correctly merged by Teco's ET command
    and this makes for great problems in comparing filenames (the same problem
    as I assume you were trying to address with this recent change with PS/DSK).
True.  The problem is compounded by the fact that a logical device also
functions like a TOPS-10 search list.  It is quite possible to define
DSK: as a list of directories that does not even include the connected
directory.  I worked under a source control scheme like that for quite a
while.  It was reasonable, except for the fact that you couldn't make
EMACS use that definition of DSK: when it was finding names.  It
insisted on translating into a single "hard" file name instead of giving
the logical device name to the operating system and letting it go
through the list in the defined order.

Assuming that all logical device definitions really refer to one
particular physical public structure is a bad idea.  It is going to
cause lots of problems.  It is time that someone took into account
supporting the features of the host operating system instead of ignoring
them and imposing a different model.

Date: 12 July 1982  08:41-EDT (Monday)
Sender: BAGLEY at MIT-OZ
From: Steven C. Bagley <BAGLEY at MIT-AI>
To: bug-lispm at ai
Subject: recent mail screwup

I guess it is necessary to make a pulic apology for causing many
copies of a long message to be sent to the bug-lispm world.  I thought
it would appear to be an obvious screwup on my part (actually,
apparently on the part of the mailer), but since I've gotten a whole
lot of flack about it, I'll end the issue -- I hope -- by apologizing
to everyone.

cheers,
Steve
-------

Date: 12 Jul 1982 0554-EDT
From: Rodney A. Brooks <BROOKS at MIT-OZ>
Subject: non obvious compiler warning
To: moon at SCRC-TENEX
cc: bug-lispm at MIT-AI

My point was that the easiest thing to do help users was to make that
particular error message give more context as the QUOTE was internally
generated by the compiler rather than in the user's code. When that message
was generated by something more directly in user code the extra context
wouldn't hurt.
-------

Date: 12 July 1982 05:32-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI

Brooks's MULTIPLE-VALUE actually compiles correct code.
The warning is there because I thought that nobody would
write (MULTIPLE-VALUE (A B) 'C) except by mistake.
That was before COND worked with multiple values.
The warning should probably be more selective and not
warn about such things which are merely one branch of a COND.

Date: 12 July 1982 05:27-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, KMP at MIT-AI

The NUL: device bug in copy-directory was due to a bug in an obsolete
version of copy-directory that happened to be loaded.
However, I made some system changes that should prevent similar
problems from resulting from such code in user programs in the future.

Date: 12 July 1982 05:21-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, KMP at MIT-AI

I argue that using the Twenex connected directory is never the best
thing for the Lisp machine to do.

One use of connecting is to specify a default.  This is not really
important on the Lisp machine, which provides other forms of
defaulting (which Twenex does not).  However, if users find a real
desire to have one special default which gets referred to explicitly
and changes only when a special command is given, it is better if the
Lisp machine remembers and inserts the default.  For example,
DSK could translate into whatever the on-special-request default is set to.

The other use of connecting to a directory is to get access.
However, it is better if this happens automatically rather than
requiring any command from the user.  Especially since on OZ the default
is that anybody can connect.  If the file server gets an error due
to protection, it should just try connecting to the directory
without a password, and if that works, it should retry the operation.
One affect of this is that you would not necessarily know what
directory the file server was connected to.  So it becomes important
that this hidden state never affect the meaning of any pathnames.

Does this persuade you?

Date: Monday, 12 July 1982  00:20-EDT
From: MOON at SCRC-TENEX
To:   Rodney A. Brooks <Brooks at MIT-AI>
Cc:   BUG-LISPM at MIT-AI
Subject: non-obvious compiler warning

    Date: 11 July 1982 12:36-EDT
    From: Rodney A. Brooks <Brooks at MIT-AI>
    Subject: non-obvious compiler warning
    To: BUG-LISPM at MIT-AI

    In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.55,
    ZMail 45.5, microcode 136, 86.55, on Lisp Machine Four:

    (MULTIPLE-VALUE-BIND (<varlist>)
        (COND (<frotz> <code>)
    	  (<frotz2> <code2>)
    	  (<frotz3> <code3>))
      (<etc>

    where <frotz3> is not obviously non-NIL produces a compiler warning
    "The function QUOTE cannot produce multiple values." Since there is
    no QUOTE in the user's code it would be easier to track down where in
    the source it might be coming from if more context was given, but maybe its too
    hard to do that. Of course now I know to look for this but...

This is clearly the (QUOTE NIL) the COND automatically returns when it drops
off the end.  But there's no excuse for quoted constants to not work as
multiple-value producers.

Date: 11 July 1982 21:24-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, BAK at MIT-AI

The intended semantics of SXHASH with no second argument supplied
is to be the same between sessions.

Why does that imply that it is wrong to make SXHASH with additional
arguments supplied serve similar but distinctly different purposes?

If you want your SXHASH to be the same between sessions, just don't
supply a non-nil second argument.

Date: 11 July 1982 19:25-EDT
From: William A. Kornfeld <BAK at MIT-AI>
Subject: Several new features in 86.56
To: BUG-LISPM at MIT-AI

Two comments:

1. Keeping information on macros is something I've wanted for a long
time.  This would be especially if it could be used to recompile all
files that contain functions containing calls to macros that have changed.
The way DEFSYSTEM is used to handle this now is too crude.  It tends
to require needless recompilation and also requires you to isolate
macros from other code in files even when this is not desirable for
other reasons.  I'm not sure if the new feature could be integrated
in with DEFSYSTEM or implemented some other way.

2. The second arg to SXHASH is a mistake.  Not only does it lose in the
face of garbage collection, but also between sessions.  The intended
semantics of SXHASH is to supply the same result from session to
session.

Date: 11 July 1982 18:19-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 79.52,...

I find it confusing that when I do c-X c-F KBE: SOURCE; UTIL LISP >
which is a logical file spec, the name of the buffer is 
UTIL.LISP PS:<KBE.SOURCE> OZ:
rather than UTIL LISP > SOURCE; KBE: or some such. 

Much more importantly, though, if I type: c-X c-F again, the default
filename it prompts with is the expanded pathname, not the backtranslated
logical name. So if I type 
 c-X c-F KBE: SOURCE; FOO LISP >
and then realize I meant to get bar, doing
 c-X c-F BAR LISP
gets me the file OZ:PS:<KBE.SOURCE>BAR LISP..0, which is, perhaps
needless to say, not the file I meant.

If I use logical pathnames consistently, I should not be burdened with knowing
the true filenames at all. I would like a command to be able to see them, but
I don't think that should be the default. Using logical pathnames has the
advantages that it makes them easier to type because they have a uniform syntax
across file server sites, but if they don't default properly, then you end up
having to type too much as above, where I have to type
 KBE: SOURCE; BAR LISP 
rather than just 
 BAR LISP
if I don't want to lose. Also, I think logical devices should be shielding
one from the actual place the files are stored. 

Also, if a system crashes and I have a lot of files in-buffer that think they
are supposed to be system dependent (OZ:PS:...) then I can't use c-X c-S to
save the files. But if the files just think they are logical files (KBE:SOURCE;...)
then perhaps I could just redefine the logical device and they would correctly 
be writable to the new site? That would be very featureful. This has happened
to me more than once.

This issue is, in my mind, analogous to macros in code. If I say (CAR X),
it's like talking about the true name of a file. If I wrote code with that
in it, that's what I want to see back. If I write (DEFMACRO KAR (X) `(CAR ,X)),
and then write code using KAR, I want to see KAR when I grind the definition,
not CAR. I only want to see CAR in the second case when I do macroexpand.
By analogy, if I type in stuff using logical device specs, that's what I want
to see unless I request macroexpansion explicitly. I hope this analogy helps.

-kmp

Date: Sunday, 11 July 1982  16:28-EDT
Sender: ZVONA at MIT-OZ
From: ZVONA at MIT-AI
To: Robert W. Kerns <RWK at SCRC-TENEX>
Cc: bug-lispm at MIT-AI
Subject: Your bug report

    Date: Sunday, 11 July 1982, 15:06-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    To:   David Chapman <Zvona>
    cc:   bug-lispm
    Re:   Your bug report

        Date: Saturday, 10 July 1982, 13:47-EDT
        From: David Chapman <Zvona at MIT-OZ>
        Zmail died with STRING-FOR-PRINTING* (sic) unbound in 
        (:property zwei:get-default-move-mail-file
        zwei:who-line-documentation-updater) on " and NIL.
    What system was this in?
Oh sorry, 86.mumble (latest version, I did load-patches.)
-------

Date: Sunday, 11 July 1982, 15:06-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Your bug report
To: David Chapman <Zvona at MIT-OZ>
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 10 Jul 82 13:47-EDT from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 10 July 1982, 13:47-EDT
    From: David Chapman <Zvona at MIT-OZ>
    Zmail died with STRING-FOR-PRINTING* (sic) unbound in 
    (:property zwei:get-default-move-mail-file
    zwei:who-line-documentation-updater) on " and NIL.
What system was this in?

Date: 11 July 1982 12:36-EDT
From: Rodney A. Brooks <Brooks at MIT-AI>
Subject: non-obvious compiler warning
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.55,
ZMail 45.5, microcode 136, 86.55, on Lisp Machine Four:

(MULTIPLE-VALUE-BIND (<varlist>)
    (COND (<frotz> <code>)
	  (<frotz2> <code2>)
	  (<frotz3> <code3>))
  (<etc>

where <frotz3> is not obviously non-NIL produces a compiler warning
"The function QUOTE cannot produce multiple values." Since there is
no QUOTE in the user's code it would be easier to track down where in
the source it might be coming from if more context was given, but maybe its too
hard to do that. Of course now I know to look for this but...


Date: 10 July 1982 18:45-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 86.something, ...

Sussman came to me asking why
	(fs:copy-directory "mc:6.001;" "oz:ps:<scheme.mc-6001>")
seemed to be sending bits but the bits didn't seem to show up on OZ.
I broke in the middle of a write and inspected the output file stream.
It was writing to truename OZ:NUL:<SCHEME.MC-6001>, which is of course
not the right thing.

I suspect that this bug is due to the recent changes to how file defaulting
works and/or the canonicalization stuff with PS/DSK in System 86, so I
imagine it works fine in other systems, though it'd be worth the Symbolics
and system 79 people checking that...

RMS, I also don't think your recent change to make DSK change to PS is the
right change. The logical device DSK on Twenex does not mean PS, it means
PS:<connected-directory>. It is currently a screw that there is no way I
can ask my file server to connect to another directory, so I think you should
consider:
 (1) making file servers able to connect to different directories
and
 (2) making DSK:<anything> change to PS:<correct-dir-name>, not just hack
     DSK: => PS: at a textual level.

It is a well-known screw (to me and a few friends of mine at least) that
on Twenex, logical device names are not correctly merged by Teco's ET command
and this makes for great problems in comparing filenames (the same problem
as I assume you were trying to address with this recent change with PS/DSK).
I think the right thing to do is to create a message that you can send to the
site asking that the filename resolution be done without bothering to 
have the file opened. Then find what the truename of the file is and use that
when you merge. In any case, I think attacking this problem of DSK/PS is only
a special case of the problem of FOO:<BAR> => PS:<BAZ> ... You're not really
solving the general case in the way you've done it. This is an issue that
I hope both the MIT systems and the Symbolics systems will attempt to deal
with at some point -- compatibly if possible(?)...

-kmp

Date: Saturday, 10 July 1982, 13:47-EDT
From: David Chapman <Zvona at MIT-OZ>
To: bug-lispm at MIT-OZ

Zmail died with STRING-FOR-PRINTING* (sic) unbound in 
(:property zwei:get-default-move-mail-file
zwei:who-line-documentation-updater) on " and NIL.

Date: 10 July 1982 01:17-EDT
From: Glenn S. Burke <GSB at MIT-ML>
Subject: macros declaration
To: KDF at MIT-AI
cc: BUG-LISPM at MIT-AI

The maclisp macros declaration does nothing towards not making you carefully
order things in the source file.  It only controls whether macros defined
via (defun foo macro (x) ...) are copied into the FASL file.  The compiler
worked so hard to preserve the interpreter semantics when it did this that
it didn't even compile the macro.  (Still probably doesn't, i'm not going
to bother checking.  The current macros MACRO and DEFMACRO do things in
such a way that this switch is irrelevant.)

A different approach to this problem, which handles it to one level,
is to read and toplevel-macro-expand (including declares and eval-whens)
the file, determining the necessary compilation information, and then
compile the resultant list of forms.  This, although possibly restricting
what you can do for things like incrementally bootstrapping readmacros,
reduces the constraint on macro ordering, and (if the processor is smart
and records the info for the compiler's later use) can even eliminate
the compiler complaints one often gets when changing the number of
arguments a function takes.  A more subtle benefit is that when the
bulk of the compiler gets run, the reader has already done its thing,
so it and the packages are no longer competing for memory with the compiler.


Date: 9 July 1982 22:04-EDT
From: Ken Forbus <KDF at MIT-AI>
To: BUG-LISPM at MIT-AI

	The compiler does not handle forward references to macros.  This means that
compiling a file without it already loaded can lead to "funcalling a macro - attempt
to kludge it by EVAL" situations.  The MACLISP solution was a macros declaration, which
is far less dreary than having to carefully order your forms in the file (and if your
macros call each other....) or having to load the file previously.  Could something
like this declaration appear in the Lispm?  Thanks.
		Ken Forbus

Date: Friday, 9 July 1982, 15:06-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: HAIL at MIT-VAX
Cc: BUG-LISPM at mit-eecs, DLA at SCRC-TENEX
In-reply-to: The message of 8 Jul 82 21:36-EDT from Max Hailperin <HAIL at MIT-VAX>

    Date: Thursday, 8 July 1982, 21:36-EDT
    From: Max Hailperin <HAIL at MIT-VAX>
    To: BUG-LISPM at mit-eecs

    In System 210.95, ZMail 45.3, LMFS 27.15, Tape 10.6, Canon 14.2,
    microcode 896, site configuration 8, 210.80 FS 27.4, on Lisp Machine Five:

    When my home computer is VX and I say (load "fs:boxer;boxer") it tries
    loading the file /usr/hail/fs:boxer;boxer from the host VX.
You don't have Remote-File loaded, so it doesn't know anything about FS.

Date: 9 July 1982  13:57-EDT (Friday)
Sender: BAGLEY at MIT-OZ
From: Steven C. Bagley <BAGLEY at MIT-AI>
To: shrager at cmu, Steven C. Bagley <Bagley at MIT-AI>, 
      BAGLEY at MIT-AI, BUG-LISPM at MIT-AI,
      Richard M. Stallman <RMS at MIT-AI>, BAGLEY at MIT-AI,
      RWK at SCRC-TENEX, BUG-LISPM-SCRC at MIT-AI, RWK at SCRC-TENEX,
      BAGLEY at MIT-AI, Richard M. Stallman <RMS at MIT-AI>
Subject: rms flamage


 8-Jul-82 08:29:50-EDT,1221;000000000000
Date: Wednesday, 7 July 1982, 20:14-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Gubbish pathname in M-X Reap File
Cc:   BUG-ZWEI at MIT-AI, BAGLEY at MIT-AI, BUG-LISPM-SCRC at SCRC-TENEX,
      BAGLEY at MIT-AI, BUG-LISPM-SCRC at MIT-AI, BAGLEY at MIT-AI
In-reply-to: The message of 4 Jul 82 15:40-EDT from Steven C. Bagley <Bagley at MIT-AI>

    Date: 4 July 1982 15:40-EDT
    From: Steven C. Bagley <Bagley at MIT-AI>
    In zwei in Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0,
    System 86.52, ZMail 45.4, microcode 136, blame HDT,
    on Lisp Machine Nine:

    I have a buffer named for the file oz:ps:<bagley>foo.bar.5
    (say).  If I do M-X reap file on this file, the default file
    name is 

    OZ:PS:<OZ:PS:<BAGLEY>>FOO.BAR.5

    which is cute, but wrong.

This doesn't happen to me normally in system 210.  Actually, after some
kinds of errors, the default pathname gets bashed to nonsense similar to
this.  RMS removed the check I put in for this class of bugs, under the
delusion that it was only for VMS pathnames, and without asking me.  I
suspect this works through the same mechanism.  I'll put the error
checks back in when I redo the pathmame software in Brand S systems, and
let you know about any ZWEI bugs I catch.
 8-Jul-82 08:29:54-EDT,511;000000000000
Date: 7 July 1982 21:32-EDT
From: Richard M. Stallman <RMS at MIT-AI>

RWK put in a hack which was used for two purposes which in fact had
different requirements, so that if the hack was arranged to be right for
one, it had to be wrong for the other.  I removed one of the two uses
and left the other in.

It was in fact that hack, in the use which I did not remove,
which was producing the ugly pathnames.

But it doesn't any more; it was fixed in 86.55.
 8-Jul-82 08:46:56-EDT,1883;000000000000
Date: Thursday, 8 July 1982, 07:25-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
In-reply-to: The message of 7 Jul 82 21:32-EDT from Richard M. Stallman <RMS at MIT-AI>

    Date: 7 July 1982 21:32-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    RWK put in a hack which was used for two purposes which in fact had
    different requirements, so that if the hack was arranged to be right for
    one, it had to be wrong for the other.  I removed one of the two uses
    and left the other in.
You never even bothered to ask what was going on.  This continued
arrogance is why I finally, completely, gave up on trying to cooperate
with you, despite your show of attempted cooperation with HIC at the
time.  It is why I refuse to work on the same sources as you do.

Definition of a hack:  A feature put in by Symbolics personel that RMS
doesn't understand.  RMS is bound by moral code to remove all hacks from
the system.

    It was in fact that hack, in the use which I did not remove,
    which was producing the ugly pathnames.
It was precisely because of the then-existing "ugly pathnames" bug that
I put in the check in the first place.  It is remarkable that in your
reality system causality can be time-reversed in this manner.

    But it doesn't any more; it was fixed in 86.55.
Remarkable.  An entire message without a single true statement that I
can find.  Somehow I don't think (:METHOD SUPDUP:BASIC-TELNET :CONNECT)
fixes the problem.

86.56 must not fix the problem either, since it doesn't relate to
the alleged hack.

P.S.: I changed this to BUG-LISPM-SCRC because I doubt most of BUG-LISPM
wants to hear it.  I doubt most of BUG-LISPM wanted to hear your
definition of a kludge, or any other of your anti-Symbolics flames
either.
 9-Jul-82 13:40:35-EDT,289;000000000000
Date: 8 July 1982 18:48-EDT
From: Richard M. Stallman <RMS at MIT-AI>

Regardless of flamage, the bug does not happen any more in the current
system 86.

By the way, I don't give the word "hack" a perjorative meaning like
that of "kludge".
 9-Jul-82 13:42:38-EDT,2164;000000000000
Date: 8 July 1982 19:45-EDT
From: Richard M. Stallman <RMS at MIT-AI>

It's strange that you feel insulted when I say that you wrote a
"hack".  I don't associate a perjorative meaning with that word.

I admit that my message to BUG-LISPM was critical of you.
I apologize for this, but you should apologize for the much stronger
criticism of me that you sent to BUG-LISPM just before.  My criticism
of you was part of defending against your criticism of me.

The ugly directory default was created by the :valid-directory method
of hierarchical-directory-mixin.  These :valid-mumble operations are
what I have been calling "your hack", which in general I think is a
reasonable hack for the purpose of defaulting.  This particular part
of it had a fixable bug.  It really is gone in 86.55.  Unless you can
see an ugly directory default appear in system 86.55, you should admit
my message had at least one correct statement.  If the fix is not in
patch 86.55, it must be in an earlier one.

You also wrote a wrapper for the :init message which screwed FC device
pathnames completely.  It may have worked ok on other sorts of
pathnames, but it made assumptions which the FC pathnames don't fit.

I would have been happy to overcome this by overriding it with methods
on the FC pathnames themselves, but wrappers cannot be overridden.

rSo I moved that wrapper onto its own mixin, where it could still be
used in those flavors of pathname that it would work for, but flavors
that it was not right for would not have to use it.

I didn't flush your wrapper, I just made its use optional for each
flavor of pathname.  I don't see why anyone should think this was
unreasonable.  I think you are judging me by an unfair standard.

I intended this as an interim measure so that FC would noy be broken in
system 79, which was about to be generated (I think I recall).  Then I
tried to talk to you about the problem to look for an ideal solution; but
you said you were going out of town, and you never got back to me.
Meanwhile, I didn't do anything to them either.
 9-Jul-82 13:42:53-EDT,572;000000000000
Date: 8 July 1982 19:53-EDT
From: Richard M. Stallman <RMS at MIT-AI>

Maybe you aren't interested in flamage between me and RWK.
I sent you my reply because I am always insecure that if I am
criticized publicly, and I don't deny the charges publicly, people
will assume that I don't contest the claims being made about me, will
believe them, and have a bad opinion of me as a result.

But if you aren't going to pay any mind to the issue at all, that's
fine; then I don't have any reason to feel insecure.  Please tell me
if this is so.
 9-Jul-82 13:43:18-EDT,5213;000000000000
Date: Thursday, 8 July 1982, 21:18-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: pathname history
In-reply-to: The message of 8 Jul 82 19:45-EDT from Richard M. Stallman <RMS at MIT-AI>

    Date: 8 July 1982 19:45-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    It's strange that you feel insulted when I say that you wrote a
    "hack".  I don't associate a perjorative meaning with that word.

    I admit that my message to BUG-LISPM was critical of you.
    I apologize for this, but you should apologize for the much stronger
    criticism of me that you sent to BUG-LISPM just before.  My criticism
    of you was part of defending against your criticism of me.
In context of a critical message, "hack" would appear to be pejorative,
whether intended so or not.  But no matter, that was not the real issue.
I was satirizing your definition of "kludge", not complaining that you
called something I wrote a "hack".  Certainly I can tolerate that from
anyone, including you.

I stand by my harsher critisism about the way you went about making your
change.

    The ugly directory default was created by the :valid-directory method
    of hierarchical-directory-mixin.  These :valid-mumble operations are
    what I have been calling "your hack", which in general I think is a
    reasonable hack for the purpose of defaulting.  This particular part
    of it had a fixable bug.  It really is gone in 86.55.  Unless you can
    see an ugly directory default appear in system 86.55, you should admit
    my message had at least one correct statement.  If the fix is not in
    patch 86.55, it must be in an earlier one.
My apologies; I interpret "fixed in system 86.55" to mean the fix is in
patch 86.55.  It is in 86.53.  Interestingly, the code for these methods
is exactly the code we've had in our software since time immemoriable,
modulo only indentation.  I'm not quite curious enough to find what used
to be in your software.  I am somewhat puzzled, however, since I don't
recall changing that since the software diverged.

    You also wrote a wrapper for the :init message which screwed FC device
    pathnames completely.  It may have worked ok on other sorts of
    pathnames, but it made assumptions which the FC pathnames don't fit.

    I would have been happy to overcome this by overriding it with methods
    on the FC pathnames themselves, but wrappers cannot be overridden.
On the contrary, it did not make assumptions that the FC pathnames did
not fit.  You assigned meaning to the operations it invoked which FC
pathnames did not like.  The :INIT message defined the contract of the
:VALID-xx-P messages, which did not have wrappers, and could be overridden.
There was nothing preventing these messages from declaring that EVERYTHING
is legal in an FC: pathname.  The default method for figuring default
pathnames also checked for legality via these methods, but this, too,
could be overridden if needed.

    So I moved that wrapper onto its own mixin, where it could still be
    used in those flavors of pathname that it would work for, but flavors
    that it was not right for would not have to use it.

    I didn't flush your wrapper, I just made its use optional for each
    flavor of pathname.  I don't see why anyone should think this was
    unreasonable.  I think you are judging me by an unfair standard.

I'm not being at all unfair.  You completely removed the functionality
from the system, since you effectively removed the wrapper from ALL
pathnames, not just FC pathnames.  You did this while I was actively
working with the code, without the slightest attempt at a concensus
approach to decision-making.  It screwed me to the wall, and at least
one bug remains in both our systems to this day because of it, when
it would have been found in short order had things been different.
I haven't changed things back in our software because I'm replacing
that code anyway.

    I intended this as an interim measure so that FC would noy be broken in
    system 79, which was about to be generated (I think I recall).  
Sorry, you recall wrong.  System 79 was generated (largely by DLA) well after
this took place, which was prior to the generation of system 78, just shortly
before the software split.
								    Then I
    tried to talk to you about the problem to look for an ideal solution; but
    you said you were going out of town, and you never got back to me.
    Meanwhile, I didn't do anything to them either.
I really didn't have the time to try to overcome your obstinance, since
I had already explained how it was supposed to work to you, and
communicating with you was getting to be more hassle than it was worth
considering everything else I had to do.  That situation is still the
case.  I'm responding to this note because it brings up reasonable
issues (like that I agree with your patch), and because people asked.
I don't intend to continue this conversation, however.  Feel free to
put in the last word if you have any rejoinders, explanations, or
rebuttals.
-------

Date: 9 July 1982  13:49-EDT (Friday)
Sender: BAGLEY at MIT-OZ
From: Steven C. Bagley <BAGLEY at MIT-AI>
To: shrag at cmu, Steven C. Bagley <Bagley at MIT-AI>, BAGLEY at MIT-AI, 
      BUG-LISPM at MIT-AI, Richard M. Stallman <RMS at MIT-AI>,
      BAGLEY at MIT-AI, RWK at SCRC-TENEX, BUG-LISPM-SCRC at MIT-AI,
      RWK at SCRC-TENEX, BAGLEY at MIT-AI,
      Richard M. Stallman <RMS at MIT-AI>
Subject: RMS flamages


 8-Jul-82 08:29:50-EDT,1221;000000000000
Date: Wednesday, 7 July 1982, 20:14-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Gubbish pathname in M-X Reap File
Cc:   BUG-ZWEI at MIT-AI, BAGLEY at MIT-AI, BUG-LISPM-SCRC at SCRC-TENEX,
      BAGLEY at MIT-AI, BUG-LISPM-SCRC at MIT-AI, BAGLEY at MIT-AI
In-reply-to: The message of 4 Jul 82 15:40-EDT from Steven C. Bagley <Bagley at MIT-AI>

    Date: 4 July 1982 15:40-EDT
    From: Steven C. Bagley <Bagley at MIT-AI>
    In zwei in Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0,
    System 86.52, ZMail 45.4, microcode 136, blame HDT,
    on Lisp Machine Nine:

    I have a buffer named for the file oz:ps:<bagley>foo.bar.5
    (say).  If I do M-X reap file on this file, the default file
    name is 

    OZ:PS:<OZ:PS:<BAGLEY>>FOO.BAR.5

    which is cute, but wrong.

This doesn't happen to me normally in system 210.  Actually, after some
kinds of errors, the default pathname gets bashed to nonsense similar to
this.  RMS removed the check I put in for this class of bugs, under the
delusion that it was only for VMS pathnames, and without asking me.  I
suspect this works through the same mechanism.  I'll put the error
checks back in when I redo the pathmame software in Brand S systems, and
let you know about any ZWEI bugs I catch.
 8-Jul-82 08:29:54-EDT,511;000000000000
Date: 7 July 1982 21:32-EDT
From: Richard M. Stallman <RMS at MIT-AI>

RWK put in a hack which was used for two purposes which in fact had
different requirements, so that if the hack was arranged to be right for
one, it had to be wrong for the other.  I removed one of the two uses
and left the other in.

It was in fact that hack, in the use which I did not remove,
which was producing the ugly pathnames.

But it doesn't any more; it was fixed in 86.55.
 8-Jul-82 08:46:56-EDT,1883;000000000000
Date: Thursday, 8 July 1982, 07:25-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
In-reply-to: The message of 7 Jul 82 21:32-EDT from Richard M. Stallman <RMS at MIT-AI>

    Date: 7 July 1982 21:32-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    RWK put in a hack which was used for two purposes which in fact had
    different requirements, so that if the hack was arranged to be right for
    one, it had to be wrong for the other.  I removed one of the two uses
    and left the other in.
You never even bothered to ask what was going on.  This continued
arrogance is why I finally, completely, gave up on trying to cooperate
with you, despite your show of attempted cooperation with HIC at the
time.  It is why I refuse to work on the same sources as you do.

Definition of a hack:  A feature put in by Symbolics personel that RMS
doesn't understand.  RMS is bound by moral code to remove all hacks from
the system.

    It was in fact that hack, in the use which I did not remove,
    which was producing the ugly pathnames.
It was precisely because of the then-existing "ugly pathnames" bug that
I put in the check in the first place.  It is remarkable that in your
reality system causality can be time-reversed in this manner.

    But it doesn't any more; it was fixed in 86.55.
Remarkable.  An entire message without a single true statement that I
can find.  Somehow I don't think (:METHOD SUPDUP:BASIC-TELNET :CONNECT)
fixes the problem.

86.56 must not fix the problem either, since it doesn't relate to
the alleged hack.

P.S.: I changed this to BUG-LISPM-SCRC because I doubt most of BUG-LISPM
wants to hear it.  I doubt most of BUG-LISPM wanted to hear your
definition of a kludge, or any other of your anti-Symbolics flames
either.
 9-Jul-82 13:40:35-EDT,289;000000000000
Date: 8 July 1982 18:48-EDT
From: Richard M. Stallman <RMS at MIT-AI>

Regardless of flamage, the bug does not happen any more in the current
system 86.

By the way, I don't give the word "hack" a perjorative meaning like
that of "kludge".
 9-Jul-82 13:42:38-EDT,2164;000000000000
Date: 8 July 1982 19:45-EDT
From: Richard M. Stallman <RMS at MIT-AI>

It's strange that you feel insulted when I say that you wrote a
"hack".  I don't associate a perjorative meaning with that word.

I admit that my message to BUG-LISPM was critical of you.
I apologize for this, but you should apologize for the much stronger
criticism of me that you sent to BUG-LISPM just before.  My criticism
of you was part of defending against your criticism of me.

The ugly directory default was created by the :valid-directory method
of hierarchical-directory-mixin.  These :valid-mumble operations are
what I have been calling "your hack", which in general I think is a
reasonable hack for the purpose of defaulting.  This particular part
of it had a fixable bug.  It really is gone in 86.55.  Unless you can
see an ugly directory default appear in system 86.55, you should admit
my message had at least one correct statement.  If the fix is not in
patch 86.55, it must be in an earlier one.

You also wrote a wrapper for the :init message which screwed FC device
pathnames completely.  It may have worked ok on other sorts of
pathnames, but it made assumptions which the FC pathnames don't fit.

I would have been happy to overcome this by overriding it with methods
on the FC pathnames themselves, but wrappers cannot be overridden.

So I moved that wrapper onto its own mixin, where it could still be
used in those flavors of pathname that it would work for, but flavors
that it was not right for would not have to use it.

I didn't flush your wrapper, I just made its use optional for each
flavor of pathname.  I don't see why anyone should think this was
unreasonable.  I think you are judging me by an unfair standard.

I intended this as an interim measure so that FC would noy be broken in
system 79, which was about to be generated (I think I recall).  Then I
tried to talk to you about the problem to look for an ideal solution; but
you said you were going out of town, and you never got back to me.
Meanwhile, I didn't do anything to them either.
 9-Jul-82 13:42:53-EDT,572;000000000000
Date: 8 July 1982 19:53-EDT
From: Richard M. Stallman <RMS at MIT-AI>

Maybe you aren't interested in flamage between me and RWK.
I sent you my reply because I am always insecure that if I am
criticized publicly, and I don't deny the charges publicly, people
will assume that I don't contest the claims being made about me, will
believe them, and have a bad opinion of me as a result.

But if you aren't going to pay any mind to the issue at all, that's
fine; then I don't have any reason to feel insecure.  Please tell me
if this is so.
 9-Jul-82 13:43:18-EDT,5213;000000000000
Date: Thursday, 8 July 1982, 21:18-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: pathname history
In-reply-to: The message of 8 Jul 82 19:45-EDT from Richard M. Stallman <RMS at MIT-AI>

    Date: 8 July 1982 19:45-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    It's strange that you feel insulted when I say that you wrote a
    "hack".  I don't associate a perjorative meaning with that word.

    I admit that my message to BUG-LISPM was critical of you.
    I apologize for this, but you should apologize for the much stronger
    criticism of me that you sent to BUG-LISPM just before.  My criticism
    of you was part of defending against your criticism of me.
In context of a critical message, "hack" would appear to be pejorative,
whether intended so or not.  But no matter, that was not the real issue.
I was satirizing your definition of "kludge", not complaining that you
called something I wrote a "hack".  Certainly I can tolerate that from
anyone, including you.

I stand by my harsher critisism about the way you went about making your
change.

    The ugly directory default was created by the :valid-directory method
    of hierarchical-directory-mixin.  These :valid-mumble operations are
    what I have been calling "your hack", which in general I think is a
    reasonable hack for the purpose of defaulting.  This particular part
    of it had a fixable bug.  It really is gone in 86.55.  Unless you can
    see an ugly directory default appear in system 86.55, you should admit
    my message had at least one correct statement.  If the fix is not in
    patch 86.55, it must be in an earlier one.
My apologies; I interpret "fixed in system 86.55" to mean the fix is in
patch 86.55.  It is in 86.53.  Interestingly, the code for these methods
is exactly the code we've had in our software since time immemoriable,
modulo only indentation.  I'm not quite curious enough to find what used
to be in your software.  I am somewhat puzzled, however, since I don't
recall changing that since the software diverged.

    You also wrote a wrapper for the :init message which screwed FC device
    pathnames completely.  It may have worked ok on other sorts of
    pathnames, but it made assumptions which the FC pathnames don't fit.

    I would have been happy to overcome this by overriding it with methods
    on the FC pathnames themselves, but wrappers cannot be overridden.
On the contrary, it did not make assumptions that the FC pathnames did
not fit.  You assigned meaning to the operations it invoked which FC
pathnames did not like.  The :INIT message defined the contract of the
:VALID-xx-P messages, which did not have wrappers, and could be overridden.
There was nothing preventing these messages from declaring that EVERYTHING
is legal in an FC: pathname.  The default method for figuring default
pathnames also checked for legality via these methods, but this, too,
could be overridden if needed.

    So I moved that wrapper onto its own mixin, where it could still be
    used in those flavors of pathname that it would work for, but flavors
    that it was not right for would not have to use it.

    I didn't flush your wrapper, I just made its use optional for each
    flavor of pathname.  I don't see why anyone should think this was
    unreasonable.  I think you are judging me by an unfair standard.

I'm not being at all unfair.  You completely removed the functionality
from the system, since you effectively removed the wrapper from ALL
pathnames, not just FC pathnames.  You did this while I was actively
working with the code, without the slightest attempt at a concensus
approach to decision-making.  It screwed me to the wall, and at least
one bug remains in both our systems to this day because of it, when
it would have been found in short order had things been different.
I haven't changed things back in our software because I'm replacing
that code anyway.

    I intended this as an interim measure so that FC would noy be broken in
    system 79, which was about to be generated (I think I recall).  
Sorry, you recall wrong.  System 79 was generated (largely by DLA) well after
this took place, which was prior to the generation of system 78, just shortly
before the software split.
								    Then I
    tried to talk to you about the problem to look for an ideal solution; but
    you said you were going out of town, and you never got back to me.
    Meanwhile, I didn't do anything to them either.
I really didn't have the time to try to overcome your obstinance, since
I had already explained how it was supposed to work to you, and
communicating with you was getting to be more hassle than it was worth
considering everything else I had to do.  That situation is still the
case.  I'm responding to this note because it brings up reasonable
issues (like that I agree with your patch), and because people asked.
I don't intend to continue this conversation, however.  Feel free to
put in the last word if you have any rejoinders, explanations, or
rebuttals.
-------

Date: Friday, 9 July 1982, 12:00-EDT
From: Guillermo J. Rozas <JINX at MIT-AI>
To: BUG-LISPM at EE

In System 210.108, ZMail 45.4, Remote-File 103.0, microcode 895,
site configuration 13, oodi, on Lisp Machine Two:

	Numbers are always output in base 8. in the error information regardless of the value
of base.  Try, for example

	(setq base 10. ibase 10.)
	
	(let ((base 16.)) (print (+ nil 64.)))

	Within the error find the value of base, but the number in the error message
(the last element of the argument NUMBERS) is printed in base 8., and a warning about it
is given.

						Bill Rozas (jinx@ai)
	

Date: Friday, 9 July 1982, 11:53-EDT
From: Guillermo J. Rozas <JINX at MIT-AI>
To: BUG-LISPM at EE

In System 210.108, ZMail 45.4, Remote-File 103.0, microcode 895,
site configuration 13, oodi, on Lisp Machine Two:

	Function fs:directory-list doesn't seem to return a pathname for the last file in the
directory, even though it does for all others.

							Bill Rozas (jinx@ai)

Date: Friday, 9 July 1982, 12:50-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Your FS:DIRECTORY-LIST complaint
To: Guillermo J. Rozas <JINX at MIT-AI>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 9 Jul 82 11:53-EDT from Guillermo J. Rozas <JINX at MIT-AI>

    Date: Friday, 9 July 1982, 11:53-EDT
    From: Guillermo J. Rozas <JINX at MIT-AI>
    In System 210.108, ZMail 45.4, Remote-File 103.0, microcode 895,
    site configuration 13, oodi, on Lisp Machine Two:

	    Function fs:directory-list doesn't seem to return a pathname for the last file in the
    directory, even though it does for all others.

							    Bill Rozas (jinx@ai)
What operating system??

Date: 9 July 1982 03:03-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: Several new features in 86.56
To: INFO-LISPM at MIT-AI

*) Default filetype is LISP.

If you specify a name but no type in a pathname, the default (when not
specified explicitly by the program) is now LISP rather than
:UNSPECIFIC.  This change is in the functions FS:MERGE-PATHNAME-DEFAULTS
and FS:MERGE-AND-SET-PATHNAME-DEFAULTS.

Actually, the default is the value of the variable
FS:*NAME-SPECIFIED-TYPE-DEFAULT*, whose value is initially "LISP".
The old behavior is obtained by setting this variable to :UNSPECIFIC.

This change is usually not visible if FS:*ALWAYS-MERGE-TYPE-AND-VERSION*
is non-nil, since then the type defaults from the previously used
pathname even if the name is specified.  However, this new default
may eliminate your motivation for setting that variable.

*) Twenex pathname handling is improved.

The device name DSK is now canonicalized to PS in all Twenex pathnames.
This avoids problems of duplicate pathnames that are different but completely
synonymous.

You can now specify a filetype of :UNSPECIFIC (that is, a null type)
by ending the filename with a period.  This is different from omitting the
type entirely: a specified null type overrides all defaults; an omitted
type is defaulted (to "LISP" or something else).

In other words, "FOO" means "FOO.LISP.0" or some other default, but "FOO."
means "FOO..0".

*) Unix pathname handling is improved.

Case is now completely significant in Unix pathnames, as it ought to be.
You can now rename FOO to Foo and it should work.

*) Compiled functions record macros.

The macros found in a function being compiled are recorded in the debugging
info alist of the compiled function, under the key :MACROS-EXPANDED.
Thus, WHO-CALLS will work on macros if the places they were used were
compiled in 86.56 or later.

*) If you get an error in a background process, and a notification cannot be printed,
you can now type Terminal Call to cause the error handler to be run using the
cold load stream (which is what it would have done in any case before system 86).

Terminal Call's normal meaning is to enter a break loop using the cold load stream.
If there are pending background errors, it asks you about each one, one by one,
whether you want to handle that error.  If you say "N" to all of them,
you get the break loop.

Another useful strategy for handling this circumstance is to type
Terminal Control-Clear-Input, which unlocks the window system locks.
After that, the notification may print; or you may be able to select a window
or do Terminal 0 S.

You can tell there is an error in a background process which cannot
print its notification because stars at the ends of the mouse
documentation line flash.  The text of the line will tell you to try
Terminal Call.

*) SXHASH now accepts a second argument which, if T, says that SXHASH should use
the address of an object as its hash code if there is no other way to handle it.
This applies to everything but numbers, symbols, strings and lists.

In addition, flavor instances and named structures can now define the :SXHASH
operation.  This operation takes one argument, the new flag, and should return
the SXHASH value for the object.  This overrides use of the object's address.

If the second argument is NIL, the SXHASH of an array will now be the array's
active length, rather than zero.

Use a second argument of T if you are not going to save the SXHASH
values in files, and you are prepared to deal with the possibility that
GC will move an object (or you don't intend to use GC).  If you want to
be completely safe, omit the second argument.

Date: 9 July 1982 02:13-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, RICH at MIT-AI

The recent change in Control-Q in the MIT system couldn't have caused
Rich's problem, which he encountered in system 79.
However, it did FIX that problem.  Rich's procedure works properly in 86.

Why is it a kludge?

Date: Thursday, 8 July 1982, 22:42-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: variable-boundp
To: Bruce Roberts <BRoberts at BBNG>
Cc: bug-lispm at MIT-AI
In-reply-to: The message of 2 Jul 82 12:53-EDT from Bruce Roberts <BRoberts at BBNG>


    Date:  2 Jul 1982 1253-EDT
    From: Bruce Roberts <BRoberts at BBNG>
    Given the new lexical binding scheme for instance variables, is there
    a way to do the following?  Suppose that I want to define an :AFTER
    :INIT method for a mixin that sets all remaining unbound variables to
    NIL.  I can get a list of all the variables but VARIABLE-BOUNDP only
    takes a name as its argument and BOUNDP, although it evaluates its
    argument, doesn't work of course.  Doing SYMEVAL-IN-INSTANCE and
    catching the error seems a trifle crude.  Am I right in thinking that
    this problem is inextricably bound to the new implementation?
    -------
Well, you could define them to default to NIL in the first place in the
DEFFLAVOR, but you must have some reason for not doing that.  I'll talk
to you about it tomorrow when I'm over there.  It's not very difficult
to do, really.  Probably the cleanest way would be to invent
MAKUNBOUND-IN-INSTANCE, analogous to MAKUNBOUND-IN-CLOSURE.

Date: 8 Jul 1982 21:36:46-EDT
From: hail at mit-vax
To: bug-lispm@mit-eecs

<
In System 210.95, ZMail 45.3, LMFS 27.15, Tape 10.6, Canon 14.2,
microcode 896, site configuration 8, 210.80 FS 27.4, on Lisp Machine Five:

When my home computer is VX and I say (load "fs:boxer;boxer") it tries
loading the file /usr/hail/fs:boxer;boxer from the host VX.

Date: Thursday, 8 July 1982, 21:36-EDT
From: Max Hailperin <HAIL at MIT-VAX>
To: BUG-LISPM at mit-eecs

In System 210.95, ZMail 45.3, LMFS 27.15, Tape 10.6, Canon 14.2,
microcode 896, site configuration 8, 210.80 FS 27.4, on Lisp Machine Five:

When my home computer is VX and I say (load "fs:boxer;boxer") it tries
loading the file /usr/hail/fs:boxer;boxer from the host VX.


Date: Thursday, 8 July 1982, 21:36-EDT
From: Max Hailperin <HAIL at MIT-VAX>
To: BUG-LISPM at mit-eecs

In System 210.95, ZMail 45.3, LMFS 27.15, Tape 10.6, Canon 14.2,
microcode 896, site configuration 8, 210.80 FS 27.4, on Lisp Machine Five:

When my home computer is VX and I say (load "fs:boxer;boxer") it tries
loading the file /usr/hail/fs:boxer;boxer from the host VX.


Date: Thursday, 8 July 1982, 13:29-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Tops-20 file job
To: RMS at mit-oz
Cc: bug-lispm at mit-oz

It is no more a bug that opening a file that already exists on Tops-20
gives an error than that opening a file on ITS that already exists fails
to give an error.  It is an incompatibilty.  The local file system here
does something different still.

The way to fix this is to give the lisp machine explicit control over
the behavior in this case.  Whatever is the default should be defaulting
within the lisp machine itself.

Date:  8 Jul 1982 0932-PDT
From: Jon Solomon <JSol at USC-ECLC>
Subject: Re: LISPM's inability to connect to OZ ...
To: RWK at SCRC-TENEX
cc: Bug-OZ at MIT-AI, BUG-LISPM at MIT-AI
Address: 2817 Orchard Ave., Los Angeles, CA. 90007
Phone: (213) 732-3423
In-Reply-To: Your message of 8-Jul-82 0641-PDT

Looks like there were two problems.
-------

Date: Thursday, 8 July 1982, 09:09-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: PS: vs. DSK:
To: Jerry Roylance <GLR at MIT-AI>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 7 Jul 82 14:16-EDT from Jerry Roylance <GLR at MIT-AI>

    Date: 7 July 1982 14:16-EDT
    From: Jerry Roylance <GLR at MIT-AI>
    In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.53,
    ZMail 45.4, microcode 136, blame HDT, on Lisp Machine Nine:

    (load "OZ:PS<GLR>MUMBLE.LSP")
    (load "OZ:DSK<GLR>MUMBLE.LSP")

    warns that function MUMBLE being redefined by file ... previous definition in ...

    Why isn't the truename used?
In 86.56 RMS makes DSK: and PS: be the same, so this particular symptom
will go away.  Of course, DSK: and PS: are not really the same, but you
can't meaningfully make use of the true meaning of DSK: with the current
software.

Date: Thursday, 8 July 1982, 09:03-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: LISPM's inability to connect to OZ ...
To: Jon Solomon <JSol at USC-ECLC>
Cc: Bug-OZ at MIT-AI, BUG-LISPM at MIT-AI
In-reply-to: The message of 7 Jul 82 14:41-EDT from Jon Solomon <JSol at USC-ECLC>


    Date:  7 Jul 1982 1141-PDT
    From: Jon Solomon <JSol at USC-ECLC>
    Address: 2817 Orchard Ave., Los Angeles, CA. 90007
    Phone: (213) 732-3423

    I also found CHARFC not running on OZ, so I restarted it. There might
    have been two problems, or you really didn't have a hardware problem
    and your efforts to make things work were only timed with my efforts
    to restart CHARFC.

    Cheers,
    --JSol
    -------
The symptoms as described to me had TELNET and STATUS RFC's not working
from those hosts as well, although I could TELNET from MC.  Also, lots
of LM's were unaccessable from OZ, although perhaps they really were
all broken.  (I think about 4 or so on that subnet worked).  It really
did look like a cable problem to me, but I didn't investigate very
thouroughly.

Date: 8 July 1982 00:35-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, ZVONA at MIT-AI

It appears that the Twenex file server rejects
(open "oz:<rms>test.test.1" ':out)
when that file already exists.  I think this is a bug,
but I don't feel confident in hacking the Twenex file server.
In addition, I don't know how to install it.  So, for the
moment, I think I'll leave it alone.

Date: 7 July 1982 14:10-EDT
From: Rodney A. Brooks <brooks at MIT-AI>
Subject: Chaos net lossage fixed
To: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI

Earlier lossage where LISPMs could talk to AI, but not OZ (and AI could talk to OZ)
has been fixed. A newly installed LISPM-25 had a loose chaosnet connector which was
interfering somehow with OZ bound packets of others.

Date: 7 July 1982 21:32-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BAGLEY at MIT-AI, BUG-LISPM at MIT-AI

RWK put in a hack which was used for two purposes which in fact had
different requirements, so that if the hack was arranged to be right for
one, it had to be wrong for the other.  I removed one of the two uses
and left the other in.

It was in fact that hack, in the use which I did not remove,
which was producing the ugly pathnames.

But it doesn't any more; it was fixed in 86.55.

Date: Wednesday, 7 July 1982  19:13-EDT
From: MOON at SCRC-TENEX
To:   Rodney A. Brooks <brooks at MIT-AI>
Cc:   BUG-LISPM at MIT-AI, BUG-OZ at MIT-AI
Subject: Chaos net lossage fixed

    Date: 7 July 1982 14:10-EDT
    From: Rodney A. Brooks <brooks at MIT-AI>
    Subject: Chaos net lossage fixed
    To: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI

    Earlier lossage where LISPMs could talk to AI, but not OZ (and AI could talk to OZ)
    has been fixed. A newly installed LISPM-25 had a loose chaosnet connector which was
    interfering somehow with OZ bound packets of others.
When this happens, you should use HOSTAT to determine whether OZ is up.
HOSTAT's status protocol is handled directly by the NCP; if it answers but
other protocols such as FILE don't then the host is up but the other servers
(CHARFC) are broken.  This happens moderately often on 20X.

Date: Wednesday, 7 July 1982  19:18-EDT
From: MOON at SCRC-TENEX
To:   ZVONA at MIT-OZ
Cc:   bug-lispm at oz
Subject: file already exists

    Date: Wednesday, 7 July 1982  11:47-EDT
    From: ZVONA at MIT-OZ
    To: bug-lispm at MIT-OZ
    Subject: [KMP: If this didn't get remailed to BUG-LISPM, you might want to do that...]

    In lisp in Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0,
    System 86.53, ZMail 45.4, Local-File 37.1, DAEDALUS 45.2, Tester 26.1,
    microcode 136,  , on Lisp Machine Eight:

    I have a file of which there is only one version,
    <zvona.coder>macros.lisp.1.  I qc-filed this, producing
    <zvona.coder>macros.qfasl.1.  I then tried to qc-file the same file
    again.  It died with a FAE error.  
    ....
    No doubt ``this will be fixed in the
    new error system'' with all the rest of file error handling.
This bug is specific to the "MIT" version of qc-file.

Date: 7 July 1982 17:31-EDT
From: Rodney A. Brooks <brooks at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.54,
ZMail 45.4, microcode 136,  , on Lisp Machine Eighteen:

SXHASH of an array is always 0. (The code says "0 for things which can't
be read" or some such.) Hence lists of arrays SXHASH to 0.  Since
PUTHASH-EQUAL and friends use SXHASH this makes for poor hashing
performance on (for instance) pairs of DEFSTRUCTs. Is there any reason
SXHASH shouldn't grovel through the components of arrays?

Date: 7 July 1982 16:52-EDT
From: Rodney A. Brooks <brooks at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.54,
ZMail 45.4, microcode 136,  , on Lisp Machine Eighteen:


Actually NOTAND is not defaultly special, but AND is (and has value 1). Although
LMDEMO;ROTATE > is in package HACKS it uses a few specials which are the
same as system function names and so the standard version gets DEFCONSTed.

Date: 7 July 1982 16:43-EDT
From: Rodney A. Brooks <brooks at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.54,
ZMail 45.4, microcode 136,  , on Lisp Machine Eighteen:

At least in this brand system the variable SET is defaultly special due
to AI:LMDEMO;ROTATE >. Also NOTAND is special but that one didn't screw me.

Date:  7 Jul 1982 1141-PDT
From: Jon Solomon <JSol at USC-ECLC>
Subject: LISPM's inability to connect to OZ ...
To: Bug-OZ at MIT-AI, BUG-LISPM at MIT-AI
Address: 2817 Orchard Ave., Los Angeles, CA. 90007
Phone: (213) 732-3423

I also found CHARFC not running on OZ, so I restarted it. There might
have been two problems, or you really didn't have a hardware problem
and your efforts to make things work were only timed with my efforts
to restart CHARFC.

Cheers,
--JSol
-------

Date: 7 July 1982 14:16-EDT
From: Jerry Roylance <GLR at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.53,
ZMail 45.4, microcode 136, blame HDT, on Lisp Machine Nine:

(load "OZ:PS<GLR>MUMBLE.LSP")
(load "OZ:DSK<GLR>MUMBLE.LSP")

warns that function MUMBLE being redefined by file ... previous definition in ...

Why isn't the truename used?

Date: Wednesday, 7 July 1982, 13:08-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: [KMP: If this didn't get remailed to BUG-LISPM, you might want to do that...]
To: ZVONA at MIT-OZ
Cc: bug-lispm at MIT-OZ

    Date: Wednesday, 7 July 1982  11:47-EDT
    From: ZVONA at MIT-OZ
    I have a file of which there is only one version,
    <zvona.coder>macros.lisp.1.  I qc-filed this, producing
    <zvona.coder>macros.qfasl.1.  I then tried to qc-file the same file
    again.  It died with a FAE error.  

				     No doubt ``this will be fixed in the
    new error system'' with all the rest of file error handling.

I think it also requires something of the :old-file :new-file keyword
that not all file system implement properly yet.

Date: Wednesday, 7 July 1982  11:47-EDT
From: ZVONA at MIT-OZ
To: bug-lispm at MIT-OZ
Subject: [KMP: If this didn't get remailed to BUG-LISPM, you might want to do that...]

In lisp in Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0,
System 86.53, ZMail 45.4, Local-File 37.1, DAEDALUS 45.2, Tester 26.1,
microcode 136,  , on Lisp Machine Eight:

I have a file of which there is only one version,
<zvona.coder>macros.lisp.1.  I qc-filed this, producing
<zvona.coder>macros.qfasl.1.  I then tried to qc-file the same file
again.  It died with a FAE error.  

Now, either the theory should be that qfasls get the same version mumber
as their source, or else it should be that qfasls are given sequential
version numbers like any other file.  In the first case, the qfasl
should be opened for write in overwrite mode; and in the second, the >
version should be opened.  

Now maybe the current theory is that you do some heuristic combination
of these two on the theory that you might want old qfasls for something,
so they should never be overwriten, and you want to know which qfasls
came from which sources, so in the case cited you can't win.  I can't
imagine any reason for keeping old qfasls generated from the same
source, but in any case a better way of recovering would be to explain
the problem and ask if  the old qfasl should be overwritten or if the >
version should be used instead.  No doubt ``this will be fixed in the
new error system'' with all the rest of file error handling.
-------

Date: 7 July 1982 10:24-EDT
From: Rodney A. Brooks <BROOKS at MIT-AI>
To: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI

OZ is back up and accessible over Choas net from AI and OZ-TIPs, but not
from lisp machines.

Date: 7 July 1982 06:11-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: CSTACY at MIT-AI, HENRY at MIT-AI, ZVONA at MIT-AI,
    DULCEY at MIT-AI, PGS at MIT-AI, ECC at MIT-AI, BUG-LISPM at MIT-AI

ZMAIL 45.5 fixes nearly all remaining reported ZMAIL bugs,
including the one that made it fail to display the windows at startup.

I never found the bug that caused "new mail file out of synch", and I'm
not sure whether it still happens, but I think that if it does happen
you will now be able to issue another save command and win.
If it happens, I'd like to be told.

If you edit the text of your init file in profile mode, when you type End
it now updates the switches from your editing.

Date: 7 July 1982 06:06-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: ZVONA at MIT-AI, BUG-LISPM at MIT-AI

If a notification cannot be printed because the window is locked,
then Terminal 0 S probably can't do anything for the same reason.
Try Terminal C-T and then Terminal Clear-input to unlock the lock.

I will add another Terminal command to tell the error to use the cold-load stream.
Probably Wednesday night.

Date: 7 July 1982 03:21-EDT
From: Bill Gosper <RWG at MIT-MC>
To: BUG-LISPM at MIT-MC

in 210.90+, it is possible to mouse-corners a 4-pane SPLIT-SCREEN
so squat that it bombs with insufficient room for margins.
This could be serious if the Hollerith Editor is ever upgraded to
a FlexoWriter simulator.

Date: Tuesday, 6 July 1982, 18:04-EDT
From: David Chapman <Zvona at MIT-OZ>
To: bug-gprint at MIT-OZ, bug-zwei at MIT-OZ, bug-lispm at MIT-OZ

DEFSELECT should be indented

(DEFSELECT name-and-stuff
  (operation1 args1
    . body1)
  ...)

Zwei, GPRINT, and GRIND-TOP-LEVEL are none of them clever to do this
right.  Zwei manages to get the operations indented under the E in
``defselect'', but doesn't get the bodies indented right.  GPRINT and
GRIND-TOP-LEVEL print DEFSELECT as though it were any old function.

Date: Tuesday, 6 July 1982, 16:09-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Laura at MIT-OZ
Cc: bug-lispm at MIT-OZ

    Date: Monday, 5 July 1982, 13:13-EDT
    From: Laura Bagnall <Laura at MIT-OZ>
    In zwei in System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
    site configuration 8, on Lisp Machine Twenty:
    I like my files to be in CPTFONT and my attributes line say so.  I dislike
    it intensely when I read in someone else's file whose attribute line declare
    their file to be in font MEDFNT, switch back to my buffer and find my
    file to be displayed in MEDFNT and then have to do a m-X set fonts in order to get
    it back to CPTFONT.
If i understand you aright, this bug is fixed in 210.113.

Date: Tuesday, 6 July 1982, 15:17-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-lispm at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.55,
ZMail 45.4, Local-File 37.1, DAEDALUS 45.2, Tester 26.1, microcode 136,
Zvona, on Lisp Machine Eight:

I quit out of Zmail.  It saved by babyl file and then hung with the
mouse line flashing ** Can not print error notifications, window is
locked **.  Neat, it's like a WWII submarine movie.  The only problem
was that terminal 0 s didn't do anything.  In fact the KBD seemed
reluctanct to accept system or terminal keys at all and didn't act on
them when it did accept them.  I had to warm boot.  Then it got a soft
disk error while booting (perhaps an unrelated problem, cadr8 gets them
all the time).  When I did system E it gave me the (bashed-up)
bit-save-array of the old losing zmail (even though it was in fact the
editor).  I did terminal clear-screen and that then gave me something
that in fact looked like an editor.

If this flashing display is the replacement for the old cold-load stream
crash, I liked the old way better.  At least you could poke around a bit
to see what was going on.

Date: 6 July 1982 15:11-EDT
From: Rodney A. Brooks <Brooks at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.54,
ZMail 45.4, microcode 136,  , on Lisp Machine Eighteen:

Telnet (to SRI-IU) resulted in (METHOD SUPDUP:BASIC-NVT NEW-CONNECTION) being
called with the wrong number of arguments (and seemingly wrong order also).

Date: Tuesday, 6 July 1982, 14:03-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
Subject: New conditionalization scheme
To: GLR at MIT-AI, BUG-LISPM at MIT-AI

    Date: 2 July 1982 19:55-EDT
    From: Jerry Roylance <GLR at MIT-AI>
    Why flush the site names?  What advantage is there?

Conditionalizing by site at read-time means that compiled code can't be moved
between sites.  Software and hardware differences are conditionalized at
read-time since the compiled code can't be transported anyway, and since there
may be forms conditionalized out which we don't want the foreign compiler to
see at all. 

Mail of this nature (queries, complaints, and discussion) should be sent
to BUG-LISPM, not INFO-LISPM.  Please reserve INFO-LISPM for
announcements of general interest.

Date: 6 July 1982 07:40-EDT
From: Kent M. Pitman <kmp at MIT-AI>
Subject: Bogus compiler warning...
To: BUG-LISPM at MIT-AI

In System 79.52,...

QC-FILE-LOAD complains after a file containing:

 (DEFSUBST FOO ...)
 (DEFUN A () ... (FOO ...) ...)
 (DEFUN B () ... #'FOO ...)

that FOO was referenced (in B) but not defined. It is defined as a 
SUBST and my code seems to run. It'd be nicer if it could compile the 
subst, but at least it runs correctly. The error diagnostic should be 
changed to something less misleading...

Date: 6 July 1982 03:16-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: "Attempt to get ... info of flavor #<FLAVOR FOO ...> for non-component flavor BAR"
To: BUG-LISPM at MIT-AI

I think in system 86 you get an error message that looks like

"The flavor BAR was not a component of SELF's flavor, FOO,
on a call to a function which assumes SELF is a BAR."

Date: 6 July 1982 00:37-EDT
From: Kent M. Pitman <kmp at MIT-AI>
Subject: Losing c-Q quote
To: BUG-LISPM at MIT-AI

I was just screwed again by the setting of c-Q in the default environment.
I had put something on the key "I" and wanted to quote an "I" in and there
doesn't seem to be a command that lets me do that trivially because c-Q I
just beeps saying Invalid Quantity Operation.

Date: Monday, 5 July 1982, 20:25-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.53,
ZMail 45.4, Local-File 37.1, DAEDALUS 45.2, Tester 26.1, microcode 136,
on Lisp Machine Eight: 

(DEFUN FILE-NEWER-THAN-INSTALLED-P (FILE)
  (LET ((FILE-INFO (SYSTEM-GET-FILE-INFO FILE)))
    (COND ((NULL (OR *JUST-ACCUMULATING-FILES* FILE-INFO))
	   (CERROR T NIL NIL "File ~A does not exist" FILE)
	   NIL)
	  (T (NOT (EQUAL FILE-INFO (SYSTEM-GET-LOADED-ID FILE)))))))

The cerror here is reasonably random.  It means that you can't do a
make-system of a new system without having already compiled the files
once.  It gives no indication that the error is continuable and doesn't
seem to do anything useful when it is continued.

The use of NULL here is sort of charming, though.

Date: Monday, 5 July 1982, 18:49-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.53,
ZMail 45.4, Local-File 37.1, DAEDALUS 45.2, Tester 26.1, microcode 136,
 , on Lisp Machine Eight:

I find this very confusing

medfnt  cptfont
medfnb  cptfontb

I suggest that the names in the first column be changed to medfont and
medfontb, presumably with some sort of indirection to avoid a flag day.

Date: Monday, 5 July 1982, 14:11-EDT
From: Laura Bagnall <Laura at MIT-OZ>
Subject: [Mailer at SCRC-TENEX: Message of 5-Jul-82 13:25:52]
To: bug-lispm at MIT-OZ

Date:  5 Jul 1982 1328-EDT
From: The Mailer Daemon <Mailer at SCRC-TENEX>
To: Laura at MIT-OZ
Subject: Message of 5-Jul-82 13:25:52

Message failed for the following:
BUG-ZWEI-SCRC at SCRC-TENEX: Forwarding program error
            ------------
Date: Monday, 5 July 1982, 13:13-EDT
From: Laura Bagnall <Laura at MIT-OZ>
To: BUG-zwei at EE

In zwei in System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:

I like my files to be in CPTFONT and my attributes line say so.  I dislike
it intensely when I read in someone else's file whose attribute line declare
their file to be in font MEDFNT, switch back to my buffer and find my
file to be displayed in MEDFNT and then have to do a m-X set fonts in order to get
it back to CPTFONT.
-------

Date: 5 July 1982 06:58-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI

System 86.53 fixes all reported system 86 bugs except ZMAIL bugs.
Some ZMAIL bugs have also been fixed, and others will be soon.

Date: Monday, 5 July 1982  00:48-EDT
From: MOON at SCRC-TENEX
To:   BUG-LISPM at EE
Subject: Flavor error message

    Date: Sunday, 4 July 1982, 19:49-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    What does the following error message mean:

    "Attempt to get component flavor info of flavor #<FLAVOR FOO ...>
    for non-component flavor BAR"
I've asked before for this error message to be rephrased to be comprehensible.
I'll do it myself when I get back if it hasn't been fixed in the source.

Date: Sunday, 4 July 1982  22:32-EDT
From: HIC at SCRC-TENEX
To:   Henry Lieberman <Henry at MIT-OZ>
Cc:   BUG-LISPM at EE
Subject: Flavor error message

    Date: Sunday, 4 July 1982, 19:49-EDT
    From: Henry Lieberman <Henry at MIT-OZ>
    To:   BUG-LISPM at EE
    Re:   Flavor error message

    In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
    site configuration 8, on Lisp Machine Twenty:

    What does the following error message mean:

    "Attempt to get component flavor info of flavor #<FLAVOR FOO ...>
    for non-component flavor BAR"

    The flavors FOO and BAR are otherwise unrelated.

You probably tried to call a DEFUN-METHOD for flavor FOO from inside
the environment of flavor BAR.  Note that if you have control structure like:

enter instance of flavor FOO
   enter instance of flavor BAR
     use environment of FOO (or call a DEFUN-METHOD of flavor FOO)

it won't work.

Date: Sunday, 4 July 1982, 19:49-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Flavor error message
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:

What does the following error message mean:

"Attempt to get component flavor info of flavor #<FLAVOR FOO ...>
for non-component flavor BAR"

The flavors FOO and BAR are otherwise unrelated.

Date: 4 July 1982 09:52-EDT
From: Andrew L. Ressler <ALR at MIT-ML>
Subject:  Definition of "kludge"
To: RMS at MIT-AI
cc: BUG-LISPM at MIT-AI

Thanks for a good laugh, normally reading bug-lispm gets so boring.
Andrew


Date: Sunday, 4 July 1982, 06:37-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-OZ
Cc: BUG-LISPM at MIT-AI, bug-oz at MIT-OZ, DLA at SCRC-TENEX
In-reply-to: The message of 3 Jul 82 20:34-EDT from David Chapman <Zvona at MIT-OZ>

    Date: Saturday, 3 July 1982, 20:34-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In the c-X c-F minibuffer, when the default file name is 

    OZ:PZ:<ZVONA.CODER>FPSIM.LISP

    <DICK>LETS

    completes to 

    OZ:PS:<DICK>LETSP.LISP

    There is no LETSP.LISP; there is only a LETSP.TXT.

Well, when I looked, there was a TXT, DICT, DOC, and PRESS.  Completion
of types works as follows:  If there is a unique type, it completes to
that.  Otherwise, it completes to the default type.

If you had used END to complete, you would have noticed that it wouldn't
have accepted the completed pathname.

Date: 4 July 1982 00:44-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: BUG-ZWEI at MIT-AI, BUG-LISPM at MIT-AI

In zwei in LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.52,
ZMail 45.4, Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 136, crufty lossage, on Lisp Machine Five:

Zwei is still looking in OZ:OZ:<PGS>fn1.fn2 when it starts up, as opposed to
looking in OZ:PS:<PGS>fn1.fn2.  This is really stupid.

When I do M-X Rename File, and rename foo.bar to baz.bletch, it happily tells
me that it's renamed foo.bar to foo.bar, even though it's done the right thing.

Date: 4 July 1982 00:02-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: Definition of "kludge"
To: BUG-LISPM at MIT-AI

A kludge is any feature, present in the MIT Lisp machine system
but not in the Symbolics system, which proves to be useful.

Date: Saturday, 3 July 1982, 20:34-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-AI, bug-oz at MIT-OZ

In System 79.52, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

In the c-X c-F minibuffer, when the default file name is 

OZ:PZ:<ZVONA.CODER>FPSIM.LISP

<DICK>LETS

completes to 

OZ:PS:<DICK>LETSP.LISP

There is no LETSP.LISP; there is only a LETSP.TXT.

Date: 3 July 1982 13:42-EDT
From: Steven C. Bagley <Bagley at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.1, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.52,
ZMail 45.4, microcode 136, blame HDT, on Lisp Machine Nine:

CONVERSE does the wrong thing with messages sent and received
using :simple mode.  It first inserts my outgoing message, and
then later, the message to which my message was a response.  And
since things are backwards anyway, this means that when I get
around to going into the main converse frame, I have to read the
messages in pair-wise reversed order (from bottom to top).

Date: Saturday, 3 July 1982, 07:33-EDT
From: Max Hailperin <HAIL at MIT-OZ>
Subject: allocate-resource
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:

Allocate-resource uses the default matcher even if it also uses a
user-specified one.

Date: Saturday, 3 July 1982  03:25-EDT
From: MOON at SCRC-TENEX
To:   Henry Lieberman <Henry at MIT-OZ>
Cc:   BUG-LISPM at EE
Subject: Flavor performance

Indeed improving the speed of object creation has been on the list of
long-term projects for a while.  Someone (probably RG) put some ad hoc
kludges in the "MIT" system.  So far we haven't had anyone available
to make measurements of this.  If you feel like gathering some data
you could (if you know how to use METER:TEST/METER:ANALYZE); maybe you can
even tell whether those ad hoc kludges would help you.

Date: Saturday, 3 July 1982  03:26-EDT
From: MOON at SCRC-TENEX
To:   Steven C. Bagley <BAGLEY at MIT-OZ>
Cc:   bug-lispm at ai
Subject: screen size

The horizontal and vertical resolutions are equal, in the (unlikely)
event that the monitor is adjusted properly.

Date: Saturday, 3 July 1982  02:59-EDT
From: DLW at SCRC-TENEX
To:   MOON at SCRC-TENEX
Cc:   BUG-LISPM at MIT-AI
Subject: LMLIB directory on SYS host

    Date: Friday, 2 July 1982  19:06-EDT
    From: MOON

    If it's really true that all the directories on a logical host must
    reside on the same physical host, it is wrong and should be corrected.

To tell the truth, I have been wondering for a while about this strange
concept that we have of "logical hosts" and "logical directories within
hosts".  While it does seem to make sense for the SYS host and the way it
is used, it does not necessarily make complete sense for things like DPL
and LMLIB.  Really, it usually seems that all that you really want is
a logical directory that gets mapped into a physical-host/physical-dir
pair.

It is in fact the case that all dirs on a logical host must reside on the
same physical host.  But if this is changed, then the concept of logical
host does not really mean very much any more.  I think the main problem
with my suggestion above is that every pathname must have a host and a
directory, and you can't just have a logical directory because every
pathname must have some host.

Hmm, on second thought, maybe the logical host names do have a usefulness
after all, because of the globality of their naming.  If we only had
logical directories and no logical hosts, there would be more of a
chance for naming conflicts, whereas the two-partness of the logical
host/logical dir pair may reduce that problem.  Well, I don't know.

Date: Saturday, 3 July 1982, 01:04-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Flavor performance
To: BUG-LISPM at EE

In System 210.101, ZMail 45.3, Remote-File 103.0, Local-File 103.0,
DAEDALUS 45.2, microcode 895, site configuration 11, Large Files, on Lisp Machine Eight:

Tinker used to have a lot of code which used the old Class system. I hadn't bothered to 
remove it for a long time since it worked OK for my purposes. I have just finished
changing it to flavors, so it can run in the Symbolics system. Sad to say, the
performace results are disappointing. I had expected a speedup, since message
reception in flavors should be faster. The system instead runs noticeably slower, 
even on this 320K machine relative to a 256K machine the old way (with no 
changes other than straightforward class-to-flavor translation). I conjecture this is
due to the CREATION of objects being slower in flavors than in the old class system. In
the window system applications, objects tend to be large, created infrequently, and
have long lifetimes. Thus, flavors trade off fast message reception for slow creation.
In my system, objects are small, are created at a high rate and have short lifetimes.
For this type of application (which I believe will arise often) it might be appropriate
to consider ways of optimizing object creation time. What do you think?


Date: 2 July 1982  19:50-EDT (Friday)
From: Steven C. Bagley <BAGLEY at MIT-OZ>
To:   bug-lispm at ai
Subject: screen size

If there are x pixels in one horizontal inch on the lisp machine
screen, and y pixels in one vertical inch, what is the ratio of y to
x?

thanks.
-------

Date: 2 July 1982 19:55-EDT
From: Jerry Roylance <GLR at MIT-AI>
Subject: New conditionalization scheme
To: DLA at SCRC-TENEX
cc: INFO-LISPM at MIT-AI


Why flush the site names?  What advantage is there?
Just make your readtime conditionals for software and
hardware have different names, for example

   #+LMI-SOFTWARE		#+LMI-HARDWARE
   #+SYMBOLICS-SOFTWARE		#+SYMBOLICS-HARDWARE
   #+MIT-SOFTWARE		#+MIT-HARDWARE,

and both site and software-hardware initializations can
coexist in peace.

Date: Friday, 2 July 1982  19:06-EDT
From: MOON at SCRC-TENEX
To:   Alan Bawden <Alan at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-AI
Subject: LMLIB directory on SYS host

If it's really true that all the directories on a logical host must
reside on the same physical host, it is wrong and should be corrected.

Date: Friday, 2 July 1982  16:40-EDT
From: ALAN at SCRC-TENEX
To:   James E. Kulp <JEK at SCRC-TENEX>
Cc:   BUG-LISPM at AI, DLA at SCRC-TENEX
Subject: LMLIB directory on SYS host

    Date: Friday, 2 July 1982, 10:11-EDT
    From: James E. Kulp <JEK>
        Date: Friday, 2 July 1982, 02:28-EDT
        From: David L. Andre <DLA at SCRC-TENEX>
            Date: Thursday, 1 July 1982, 15:29-EDT
            From: James E. Kulp <JEK at SCRC-TENEX>
            It should probably be a separate logical host.
        Why?  It seems perfectly natural to have it be a directory to me.
    I thought it might be useful to have one copy around MIT and Symbolics.
    Having it a different logical host removes the constraint that it be on the
    same host as the normal system sources.  If we want lmlib to copied in
    three places then it doesn't matter much I guess.

Good point.  There is no reason that LMLIB should have to live on the same
machine with the system sources.  There are currently at least 2 copies at MIT
(one on AI and one on FC) while various system sources live on AI, EE and OZ.
Since it is not (extremely) important that you get your qfasl from any
particular place, perhaps we could have a magic host that actually searches
the directories on SEVERAL machines in search of a desired package?  This would
protect against systems being down, etc.  Wierd idea...

Date: Friday, 2 July 1982, 16:26-EDT
From: Laura Bagnall <laura at MIT-OZ>
Subject: Error Handler
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:

I am trying to write an error handler for the Boxer system.  I realize
the answer to the following question will probably be "This will all be
fixed in the new error system", but I'm asking it anyway.  When an error
is signalled and caught by the Lisp Machine error handler the error
table entry (ETE) is stored in the erring stack group's array leader,
and accessed by (si:sg-trap-tag stack-group).
Fine.  So I set up another stack group to look at the erring stack group
and tell me a few things, such as the function in which the error occurs
and the ETE.  This works fine when the error is signalled by the
microcode, but when the error is signalled by FERROR the ETE is not
updated.  (or perhaps it is updated, but the old ETE is restored.)  The
point is that when I look at an error that has been signalled by FERROR,
I get the ETE for the previous error signalled by microcode, whatever
that was.  According to the comments in the error handler code,
in the file "ee:lib:<lispm.window>ehr.lisp", the ETE should look like 
(FERROR proceedable-flag restartable-flag condition format-string . args).
I would like to get at the ETE, because I would like to get at the nice
error messages that the Lisp Machine prints out, without actually going
into the lispm error handler.  I would like to be able to know whether an
error was signalled by the microcode, or by FERROR.

Any suggestions?

Thanks, 
Laura


Date: Friday, 2 July 1982, 10:26-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: FS/FC screw (86 bug)
To: RpK at MIT-AI
Cc: RMS at MIT-AI, DLA at SCRC-TENEX, BUG-LISPM at MIT-AI
In-reply-to: The message of 30 Jun 82 17:16-EDT from Robert P. Krajewski <RpK at MIT-AI>

    Date: 30 June 1982 17:16-EDT
    From: Robert P. Krajewski <RpK at MIT-AI>

    At the end of the latest version of AI:LMFILE;LMPARS, there are two
    conditionalised sections of code for initialising Remote-File for
    Symbolics, and everywhere else.  They both define the some functions,
    but only the Symbolics part contains ADD-INITIALIZATION forms.  Could
    this be the problem ?

No, because you're not running the latest version, and even if you were,
the initializations would still work because you would have had to load
it over the previous version.  I fixed the sources, however, so it
shouldn't screw system 87.

RMS and you appear to have fixed the other bugs you reported.

Date:  2 Jul 1982 1253-EDT
From: Bruce Roberts <BRoberts at BBNG>
Subject: variable-boundp
To: bug-lispm at MIT-AI

Given the new lexical binding scheme for instance variables, is there
a way to do the following?  Suppose that I want to define an :AFTER
:INIT method for a mixin that sets all remaining unbound variables to
NIL.  I can get a list of all the variables but VARIABLE-BOUNDP only
takes a name as its argument and BOUNDP, although it evaluates its
argument, doesn't work of course.  Doing SYMEVAL-IN-INSTANCE and
catching the error seems a trifle crude.  Am I right in thinking that
this problem is inextricably bound to the new implementation?
-------

Date: 2 July 1982 09:37-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: :UNSPECIFIC Twenex device
To: BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.52,
ZMail 45.4, microcode 136,  , on Lisp Machine One:

"OZ:<ECC>*.*.*" with an :UNSPECIFIC device gets a "No such
device" error from FS:DIRECTORY-LIST.  That sounds wrong to me,
but perhaps instead (or also) the bug is in M-X Clean Directory:

M-X Clean Directory just showed a default of "OZ:<ECC>*.*.*",
which looked reasonable, so I typed Return to use that.  It
turned out to have :UNSPECIFIC for the device.  If I type in
exactly "OZ:<ECC>*.*.*", it works ok, using PS:.

Date: Friday, 2 July 1982, 06:03-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: File GC
To: PGS at MIT-OZ
Cc: ECC at MIT-AI, BUG-LISPM at MIT-AI
In-reply-to: The message of 30 Jun 82 11:22-EDT from PGS at MIT-OZ

    Date: Wednesday, 30 June 1982  11:22-EDT
    From: PGS at MIT-OZ
    Might be OZ's net software losing.  The latest Twenex chaos software loses on
    file connections often -- Eric & co. say they're working on fixing it.
This is my diagnosis too.  Somebody should tell me if I'm wrong.

Date: Friday, 2 July 1982, 06:30-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: WITH-OPEN-FILE
To: kmp at MIT-MC, DOC-CHANGES at SCRC-TENEX
Cc: BUG-LISPM at MIT-MC, DLA at SCRC-TENEX
In-reply-to: The message of 30 Jun 82 02:29-EDT from Kent M. Pitman <kmp at MIT-MC>

Correction:

(WITH-OPEN-STREAM (S C) . B)

will expand into

(LET* (G0001 (.FILE-ABORTED-FLAG. ':ABORT))
  (UNWIND-PROTECT
    (PROG2 (SETQ G0001 C)
	   (LET ((S G0001)) . B)
	   (SETQ .FILE-ABORTED-FLAG. NIL))
    (AND G0001 (NOT (ERRORP G0001)) (SEND G0001 ':CLOSE SI:FILE-ABORTED-FLAG.))))


Date: Friday, 2 July 1982, 06:28-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: WITH-OPEN-FILE
To: kmp at MIT-MC, DOC-CHANGES at SCRC-TENEX
Cc: BUG-LISPM at MIT-MC, DLA at SCRC-TENEX
In-reply-to: The message of 30 Jun 82 02:29-EDT from Kent M. Pitman <kmp at MIT-MC>

I changed WITH-OPEN-STREAM (and therefore WITH-OPEN-FILE) in the source
to scope its argument variables correctly.  The construct

(WITH-OPEN-STREAM (S C) . B)

now expands into

(LET* (G0001 (.FILE-ABORTED-FLAG. ':ABORT))
  (UNWIND-PROTECT
    (PROG2 (SETQ G0001 C)
	   (LET ((S G0001)) . B)
	   (SETQ .FILE-ABORTED-FLAG. NIL))
    (AND X (NOT (ERRORP X)) (SEND X ':CLOSE SI:FILE-ABORTED-FLAG.))))

This change will appear in System 211.


Date: 1 July 1982 20:44-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: RMS at MIT-AI
cc: BUG-LISPM at MIT-AI

    RMS@MIT-AI 07/01/82 19:21:16
    86.50 implements ZWEI:*INDENT-WITH-TABS* and C-M-X Tabify and
    Untabify.

Far out.  

I tried tail-recursion in 86.50dead45.2 too.  It seems to work.  I've been
trying to do timing tests on it.  The results vary widely depending on the
conditions.  For example, relative to non-tail-recursion, tail-recursion does
worse when interrupts are turned on than when they're off.  I can't imagine
why.  Tail-recursion does alot better in really deep stacks (like 50000-deep
recursions) because it doesn't take page faults when pushing and popping.  It
would appear that you can't make a stack that's a megaword deep without the
machine wedging and needing to be warm booted (that's for your trivia
collection).  I had one test case where tail-recursion was consistently 3
plus/minus 2 times as slow as non-tail-recursion, but then when I went to
document it I couldn't reproduce it any more.  (It involved a recursive
function that counted from 1 to n, where the recursion case was (1+ (foo (1-
n))).) It's still an open question as to whether it wouldn't be better in the
long run to have the compiler do tail recursion detection (and possibly do it
more generally) than to try to do it at run time.  It's also an open question
as to comparative speeds of machine w/ and w/o the tail-recursion hack.  But
it surely reduces stack blowouts.                  - pHil

Date:  1 Jul 1982 1611-EDT
From: David Chapman <ZVONA at MIT-OZ>
Subject: Re: LMLIB directory on SYS host
To: JEK at SCRC-TENEX, Alan at SCRC-TENEX
cc: BUG-LISPM at MIT-AI
In-Reply-To: Your message of 1-Jul-82 1544-EDT

There is sort of a problem also in that there is no defined procedure
for propagating updates and new entries in lmlib; to other hosts.  
There are incomplete lmlib directories on fs: and fc: at least.
-------

Date: Thursday, 1 July 1982, 15:29-EDT
From: James E. Kulp <JEK at SCRC-TENEX>
Subject: LMLIB directory on SYS host
To: Alan at SCRC-TENEX
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 1 Jul 82 12:00-EDT from Alan Bawden <Alan at SCRC-TENEX>


    Date: Thursday, 1 July 1982, 12:00-EDT
    From: Alan Bawden <Alan at SCRC-TENEX>
    In System 210.104, ZMail 45.3, LMFS 27.18, Tape 10.7, Canon 14.2,
    microcode 896, site configuration 22, on Samoyed:

    Wouldn't it be a reasonable idea to teach the SYS logical-host about
    where to find the LMLIB directory?  It's a real pain to have to know
    where that directory lives under various file-systems.
It should probably be a separate logical host.

Date: Thursday, 1 July 1982, 12:00-EDT
From: Alan Bawden <Alan at SCRC-TENEX>
Subject: LMLIB directory on SYS host
To: BUG-LISPM at MIT-AI

In System 210.104, ZMail 45.3, LMFS 27.18, Tape 10.7, Canon 14.2,
microcode 896, site configuration 22, on Samoyed:

Wouldn't it be a reasonable idea to teach the SYS logical-host about
where to find the LMLIB directory?  It's a real pain to have to know
where that directory lives under various file-systems.

Date: Thursday, 1 July 1982, 12:02-EDT
From: David M. Neves <NEVES at MIT-MC>
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:


After loading patches on this machine <Terminal> h break it in
the following way (NOTE that the patches are not loaded as I send this message)

>> Error Connection table full
while in the function chaos:make-connection < chaos: open-connection < chaos:poll-hosts

The error does not occur before the patches are loaded.

Date: Thursday, 1 July 1982, 08:56-EDT
From: Steven C. Bagley <Bagley at MIT-MC>
To: BUG-LISPM at EE, BUG-ZWEI at EE

In System 210.95, ZMail 45.3, Remote-File 103.0, microcode 903,
site configuration 8, on Lisp Machine Twenty:

In zwei, if I type M-X to get a minibuffer, then typing things like
Hyper-Ctrl-Y, etc. results in an error message flashing by
(subliminally?) in that little window, which is hard to read.

Date: 30 June 1982 22:37-EDT
From: Christopher C. Stacy <CSTACY at MIT-AI>
Sender: CHRIS at MIT-AI
Subject: activities
To: BUG-LISPM at MIT-AI


When I have multiple supdup windows, and one of them wants to notify me
about typeout, it should identify itself with more than SUPDUP-1.
It should have the name of the window also, like SUPDUP-1 (AI) or something.

Date: 30 June 1982 17:16-EDT
From: Robert P. Krajewski <RpK at MIT-AI>
Subject: FS/FC screw (86 bug) -- [sorry for the duplication]
To: RMS at MIT-AI, DLA at SCRC-TENEX
cc: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.47, ZMail 45.4,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 136, New, on Lisp Machine Seven:

This is to correct an earlier bug report.  First, the host object that
did not accept the message (causing the scheduler to blow out during
FILE connection GC, reported by KWC) was not of flavor LM-HOST,
but of flavor LISPM-CHAOS-HOST.  The latter are just Lisp Machine hosts,
and have nothing to do with FILE transactions.  (You know that.)  In
most 86's that I've used, a LISPM-CHAOS-HOST instance has appeared on
the lists FS:*CHAOS-FILE-HOSTS* and FS:*PATHNAME-HOST-LIST*.  You could
not parse FS: pathnames because of this.  What I'm confused about is
that it used to work in 86.  (Nothing has ever gone wrong in 210.)

At the end of the latest version of AI:LMFILE;LMPARS, there are two
conditionalised sections of code for initialising Remote-File for
Symbolics, and everywhere else.  They both define the some functions,
but only the Symbolics part contains ADD-INITIALIZATION forms.  Could
this be the problem ?

In this system, I tried (in the FS package):
		[oops, how did I hit the <END> key ???!!]

	(LM-HOST-INITIALIZE)

It still couldn't parse for FS or FC.  After evaluating its definition
in the latest LMPARS, and trying it again, FS parsing worked, and FC
didn't.  Then I evaluated

	(ADD-FC-HOST "FC" #o3060)

and both worked.

bob

Date: 30 June 1982 17:08-EDT
From: Robert P. Krajewski <RpK at MIT-AI>
Subject: FS/FC screw (86 bug)
To: RMS at MIT-AI, DLA at SCRC-TENEX
cc: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.47, ZMail 45.4,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 136, New, on Lisp Machine Seven:

This is to correct an earlier bug report.  First, the host object that
did not accept the message (causing the scheduler to blow out during
FILE connection GC, reported by KWC) was not of flavor LM-HOST,
but of flavor LISPM-CHAOS-HOST.  The latter are just Lisp Machine hosts,
and have nothing to do with FILE transactions.  (You know that.)  In
most 86's that I've used, a LISPM-CHAOS-HOST instance has appeared on
the lists FS:*CHAOS-FILE-HOSTS* and FS:*PATHNAME-HOST-LIST*.  You could
not parse FS: pathnames because of this.  What I'm confused about is
that it used to work in 86.  (Nothing has ever gone wrong in 210.)

At the end of the latest version of AI:LMFILE;LMPARS, there are two
conditionalised sections of code for initialising Remote-File for
Symbolics, and everywhere else.  They both define the some functions,
but only the Symbolics part contains ADD-INITIALIZATION forms.  Could
this be the problem ?

In this system, I tried (in the FS package):


Date: Wednesday, 30 June 1982  11:22-EDT
From: PGS at MIT-OZ
To:   Eugene C. Ciccarelli <ECC at MIT-AI>
Cc:   BUG-LISPM at MIT-AI
Subject: File GC

Might be OZ's net software losing.  The latest Twenex chaos software loses on
file connections often -- Eric & co. say they're working on fixing it.
-------

Date: 30 June 1982 10:29-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: File GC
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.49,
ZMail 45.4, microcode 136, "86.49 ECC", on Lisp Machine Nine:

I think there is a bug in the file GC, perhaps similar to the one
RMS found about a month ago, having to do with more than one host
unit, I think  --  my init had more than 3 or 4 files open at
once, and the file GC was resetting one of the units, even though
it had open files.

In any case, the current symptoms are:  I logged into OZ, it
asked for my password, and my init started loaded.  Some way into
it (perhaps when the fourth file is opened?) I was again asked
for my password, and I noticed the "Login" whostate just before
it.  Then later, when those files finished, and control passed
back to one of my top-level files, it bombed saying that that
connection was :CLOSED.

See me if you want to see this in action, or need more details.

Date: Wednesday, 30 June 1982, 00:24-EDT
From: Richard E. Salz <salz at MIT-AI>
Sender: Richard W. Epstein at MIT-AI
Subject: spline in hacks:demo
To: BUG-lispm at EE

If two points are entered to close, a divide by zero error occurs and the screen is lost.

In System 210.101, ZMail 45.3, Remote-File 103.0, microcode 895,
site configuration 9, on Ford Prefect:


Date: Wednesday, 30 June 1982, 00:22-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Site files version (210 bug)
To: MMcM at SCRC-TENEX
Cc: RpK at MIT-EECS, BUG-LISPM at MIT-EECS
In-reply-to: The message of 29 Jun 82 19:23-EDT from Robert P. Krajewski <RpK at MIT-EECS>

    Date: Tuesday, 29 June 1982, 19:23-EDT
    From: Robert P. Krajewski <RpK at MIT-EECS>

    If you recompile the site files on a machine which doesn't have
    the latest site configuration version, the site version file
    is still only one greater than the machine's version.  It should
    read in SYS: SITE; VERSION LISP > to get the correct version.

I looked at this for 10 minutes, and I reached the conclusion that I
don't understand the System system enough to fix the bug.  Could you
please look at it?

Date: 30 June 1982 02:29-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: WITH-OPEN-FILE
To: BUG-LISPM at MIT-MC

WITH-OPEN-FILE doesn't scope its variable right. It's easiest to see on a 
simple case, I guess:

(WITH-OPEN-FILE (X X Y) X)

expands to 

(LET ((X NIL)
      (SI:.FILE-ABORTED-FLAG. ':ABORT))
  (UNWIND-PROTECT (PROG2 (SETQ X (OPEN X Y))
			 (PROGN X)
			 (SETQ SI:.FILE-ABORTED-FLAG. NIL))
     (AND X
	  (NOT (ERRORP X))
	  (FUNCALL X ':CLOSE SI:.FILE-ABORTED-FLAG.)))) 

and tries to open some file whose fn1 is NIL as a result. It should
expand to something like this: 

(LET ((SI:.FILE. NIL)
      (SI:.FILE-ABORTED-FLAG. ':ABORT))
  (UNWIND-PROTECT (PROGN (SETQ SI:.FILE. (OPEN X Y))
			 (LET ((X SI:.FILE.))
			   (PROG1 (PROGN X)
				  (SETQ SI:.FILE-ABORTED-FLAG. NIL))))
     (AND SI:.FILE.
	  (NOT (ERRORP SI:.FILE.))
	  (FUNCALL SI:.FILE. ':CLOSE SI:.FILE-ABORTED-FLAG.))))

There is actually some question as to whether the thing you claim you'll 
close is the object or the variable. I claim it should be the object returned.
That's what makes this expansion so easy. But it is true that if you expand
things as I suggest, you'll have the additional constraint that you can't
do things like:

 (WITH-OPEN-FILE (X ...)
   ...
   (COND ((Y-OR-N-P "Leave ~X open after I return?") (SETQ X NIL))))

and

 (WITH-OPEN-FILE (X ...)
   (SETQ X (MAKE-MORE-COMPLEX-STREAM X))
   ...)

Basically, I think those are both bad coding style and isn't worth the
code it takes to support it correctly. But if they are really intended
features, you can still get that functionality by expanding into
something that goes to the extra work as in:

(LET ((SI:.FILE. NIL)
      (SI:.FILE-ABORTED-FLAG. ':ABORT))
  (UNWIND-PROTECT (PROGN (SETQ SI:.FILE. (OPEN X Y))
			 (LET ((X SI:.FILE.))
			   (UNWIND-PROTECT (PROG2
					     (SETQ SI:.FILE. NIL)
					     (PROGN X)
					     (SETQ SI:.FILE-ABORTED-FLAG. NIL))
			     (AND (NOT SI:.FILE.)
				  X
				  (NOT (ERRORP X))
				  (FUNCALL X ':CLOSE SI:.FILE-ABORTED-FLAG.)))))
     (AND SI:.FILE.
	  (NOT (ERRORP SI:.FILE.))
	  (FUNCALL SI:.FILE. ':CLOSE SI:.FILE-ABORTED-FLAG.))))

So whichever you decide on, the documentation should make the semantics more
clear. I'm not really dependent on either mode of viewing it, it'd just be good
to know what the contract is.

... and to return to my original gripe, it'd definitely be nice if the
expressions in the tail of the binding spec of the WITH-OPEN-FILE were
evaluated before the binding of the given of the given variable was instantiated.

thanks. --kmp

Date: Tuesday, 29 June 1982, 23:15-EDT
From: Robert P. Krajewski <RpK at MIT-OZ>
Subject: Using LMs as file computers
To: kwc at MIT-ML
Cc: RpK at OZ, BUG-LISPM at AI
In-reply-to: The message of 29 Jun 82 19:15-EDT from kwc at MIT-ML

    kwc@MIT-ML 06/29/82 19:15:28
    To: BUT-SPIRE at MIT-ML, (BUG LISPM) at MIT-AI
    In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.50,
    ZMail 44.3, microcode 122, 60.45Hz, on Lisp Machine Nineteen:

    I used to have this in my lispm init

    (or (si:parse-host "lm26" t)
	(fs:add-chaosnet-file-computer "lm26"))

    until it started crashing the scheduler on cadr-19.  The error
    shows up when a cadr-26 object gets sent a host-units message
    which is doesn't handle.  This happens when fs:file-login
    is trying to GC domant hosts.  I imagine the problem is that
    cadr-19 is totally out of it in some way, but it would be nice
    to know what I could do about it.

I have been having problems like this, too, in 86 with LM27.  As a side
effect, FS (Remote-File) pathnames can't be parsed.  In my case, that
host (an #<LM-HOST>) is not handling any CHAOS FILE computer messages
like :RESET, :HOST-UNITS, etc.  Thus, it's possible to blow during file
connection GC, login, and logout.  I seem to remember this not happening
in earlier versions of 86.

bob

Date: 29 June 1982 21:06-EDT
From: Daniel Huttenlocher <DPH at MIT-AI>
To: BUG-LISPM at MIT-AI

In SYstem 210.92, microcode 896, etc.

With timezone -1, time:timezone-string loses trying to take
an nth with a negative argument.  Oh the strange bugs east of GMT.
This is patched at Centre Mondial by using assoc insteadof nth in this
function.

Date: Tuesday, 29 June 1982, 19:23-EDT
From: Robert P. Krajewski <RpK at MIT-EECS>
Subject: Site files version (210 bug)
To: BUG-LISPM at EE

In System 210.80, ZMail 45.2, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 9, 210.80 MacDaed, on Marvin:

If you recompile the site files on a machine which doesn't have
the latest site configuration version, the site version file
is still only one greater than the machine's version.  It should
read in SYS: SITE; VERSION LISP > to get the correct version.

bob

kwc@MIT-ML 06/29/82 19:15:28
To: BUT-SPIRE at MIT-ML, (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.50,
ZMail 44.3, microcode 122, 60.45Hz, on Lisp Machine Nineteen:

I used to have this in my lispm init

(or (si:parse-host "lm26" t)
    (fs:add-chaosnet-file-computer "lm26"))

until it started crashing the scheduler on cadr-19.  The error
shows up when a cadr-26 object gets sent a host-units message
which is doesn't handle.  This happens when fs:file-login
is trying to GC domant hosts.  I imagine the problem is that
cadr-19 is totally out of it in some way, but it would be nice
to know what I could do about it.




kwc@MIT-ML 06/29/82 16:32:45
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.50,
ZMail 44.3, microcode 122, 60Hz,Bold,RSG, on Lisp Machine Nineteen:

error (no-mapping-table)

I said M-x list fonts in the editor and then I clicked mouse left
on HL12.

Date: 29 Jun 1982 1533-EDT
From: David C. Plummer <DCP at MIT-EECS>
Subject: TWENEX systems.
To: r11-users at MIT-MC, ktv-users at MIT-MC, info-lispm at MIT-AI,
    bug-twenex at MIT-XX

I think all the TWENEX systems on campus (I just did EE) now have
the SUPDUP server that does more of the right things for SPACE
CADET keyboards.  I.e., C-9 C-N will go down 9 lines instead of
inserting a 9 in the buffer and going down one line.  I think it
also sets the SUPDUP Graphics word so that DPRESS (especially)
will do the right thing, even from strangely sized LISPM SUPDUP
windows.
-------

Date: Tuesday, 29 June 1982, 15:22-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
To: AGRE at MIT-AI
Cc: BUG-LISPM at MIT-EECS, nes at SCRC-TENEX

    Date: Monday, 28 June 1982, 15:41-EDT
    From: Philip E. Agre <AGRE at MIT-AI>
    I did Terminal-0-H and asked for AI, MC, ML, and SPEECH.  That worked fine.
    Then I did Terminal-H.  It blew up "connection table full" in
    chaos:make-connection <- chaos:open-connection <- chaos:poll-hosts.
    I typed C-M-Abort, and it blew up "some argument to AR-1, NIL, wrong
    type, array expected" in ar-1 <- chaos:free-all-read-pkts <- 
    chaos:remove-connection <- chaos:poll-hosts.
Fixed in the source.

There are two more hosts in the host table than connection indices.  I
fixed several bugs in POLL-HOSTS caused by that.

Note to NES: i put a CATCH-ERROR that only wants to catch
connection-table-full in POLL-HOSTS.  There's a comment there telling
you to fix it when you get to it.

Date: Tuesday, 29 June 1982, 01:47-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: KMP at MIT-MC
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 29 Jun 82 01:06-EDT from Kent M. Pitman <KMP at MIT-MC>

    Date: 29 June 1982 01:06-EDT
    From: Kent M. Pitman <KMP at MIT-MC>

    I went away from my Cadr thinking it was going to do some file access
    when in fact all it did was hang in a login/password prompt. Beyond the
    irritation that this happened at all (since I've already reported that 
    half of the problem), my file server had closed and when I typed my
    login name and password, it erred on a #<CHAOS connection ...> being
    closed and made me type the thing again. This connection should be 
    reopened invisibly if possible rather than making me restart my computation
    only to have it succeed just fine when it realizes the second time that
    all it needs to is re-open the connection.
I will fix this in 211.


Date: 29 June 1982 01:06-EDT
From: Kent M. Pitman <KMP at MIT-MC>
Sender: KMP0 at MIT-MC
To: BUG-LISPM at MIT-MC

In System 79.52,...

I went away from my Cadr thinking it was going to do some file access
when in fact all it did was hang in a login/password prompt. Beyond the
irritation that this happened at all (since I've already reported that 
half of the problem), my file server had closed and when I typed my
login name and password, it erred on a #<CHAOS connection ...> being
closed and made me type the thing again. This connection should be 
reopened invisibly if possible rather than making me restart my computation
only to have it succeed just fine when it realizes the second time that
all it needs to is re-open the connection.


Date: 28 June 1982 23:46-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
To: BUG-ZWEI at MIT-AI, BUG-LISPM at MIT-AI

In 86.44, Control-Q in Incremental Search is fixed to act like Control-Q
elsewhere in regard to control characters.  In other words, Control-Q
Control-F will put an epsilon in the search buffer.

Date: Monday, 28 June 1982, 23:09-EDT
From: Henry Lieberman <Henry at MIT-AI>
Subject: #
To: bug-lispm at MIT-AI


Sorry, false alarm on that one.

Date: 28 June 1982 17:50-EDT
From: "The Software Staff (TM) of Symbolic Lisp Machines Inc." at MIT-AI
Sender: AGRE at MIT-AI
To: INFO-LISPM at MIT-AI


Symbolic Lisp Machines Inc. System 286 (TM) is now released for users.  
You can find the release notes in either of the following files:

    EE:LIB:<LISPM.DOCUMENTATION>SYSTEM-286.RELEASE
    AI: LMDOC; SYS286 MSG

Please take a look at the release notes before using System 286 (TM).

(c) 1982 SLiMi

Date: Monday, 28 June 1982, 16:05-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
To: BUG-LISPM at MIT-EECS

    Date: Friday, 25 June 1982, 18:22-EDT
    From: David M. Neves <NEVES at MIT-MC>
    This is a telnet bug.  
    When I first connect to telnet and hit one of the special keys, like HELP
    or NETWORK, I get the appropriate response.  However if I connect to
    telnet and go to mit-vax, login, logout I then get disconnected from
    mit-vax and thrown back to telnet.  If I then hit HELP or NETWORK <help>
    and <network> print out where it asks me to connect to host and I do not
    get the appropriate behavior.  I know that these keys only respond if
    at the beginning of line but I did not type any character before them and
    to insure this I even tried RUBOUT before hitting the keys.

    Date: Sunday, 27 June 1982, 22:07-EDT
    From: David Chapman <Zvona at MIT-AI>
    The prompt ``Connect to host:'' in Supdup apparently does not use full-rubout
    reading.  If you type space rubout network at it, it doesn't interpret the network
    magically.
Fixed in the source.

Date: Monday, 28 June 1982, 15:41-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at EE

In System 210.101, ZMail 45.3, Remote-File 103.0, Local-File 103.0,
DAEDALUS 45.2, microcode 895, site configuration 11, Large Files, on Lisp Machine Eight:

I did Terminal-0-H and asked for AI, MC, ML, and SPEECH.  That worked fine.
Then I did Terminal-H.  It blew up "connection table full" in
chaos:make-connection <- chaos:open-connection <- chaos:poll-hosts.
I typed C-M-Abort, and it blew up "some argument to AR-1, NIL, wrong
type, array expected" in ar-1 <- chaos:free-all-read-pkts <- 
chaos:remove-connection <- chaos:poll-hosts.

Date: Monday, 28 June 1982, 00:08-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Henry at MIT-AI
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 27 Jun 82 16:53-EDT from Henry Lieberman <Henry at MIT-AI>

    Date: Sunday, 27 June 1982, 16:53-EDT
    From: Henry Lieberman <Henry at MIT-AI>

    (PRINT "//") prints out as "//", which is nice, because you can READ it back in to get
    the slash, but (PRINT "/#") prints out as "#" which you can't READ back in.
It works for me.  Note that "#" and "/#" are both valid printed
representations for the same thing.

Date: Monday, 28 June 1982, 00:03-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Twenex file servers
To: RPK at MIT-OZ
Cc: kmp at MIT-MC, BUG-LISPM at MIT-AI
In-reply-to: The message of 27 Jun 82 13:35-EDT from Robert P. Krajewski <RPK at MIT-OZ>

    Date: 27 June 1982  13:35-EDT (Sunday)
    From: Robert P. Krajewski <RPK at MIT-OZ>

    Try ANONYMOUS with no password.  At the moment it's a real directory, but
    that should be changed.
Why?
			     [How is the one on EE implemented ?]
The same way.
								   If or when the
    MIT LispM sources are moved to OZ, the System-login user-id (currently LISPM)
    which is part of a site's definition (that's what you were asking about) will
    have to be changed.  What's so bad about logging in as KMP ?  Your password
    won't be saved (if it is, something's very wrong) in any system around at the
    moment.
That's not true.

Date: Sunday, 27 June 1982  21:37-EDT
From: ALAN at SCRC-TENEX
To:   Henry Lieberman <Henry at MIT-AI>
Cc:   BUG-LISPM at EE

    Date: Sunday, 27 June 1982, 16:53-EDT
    From: Henry Lieberman <Henry at MIT-AI>

    (PRINT "//") prints out as "//", which is nice, because you can READ it
    back in to get the slash, but (PRINT "/#") prints out as "#" which you
    can't READ back in.

In what way does "#" fail to read back in?  It is supposed to read in just fine
which is why the printer doesn't feel obligated to put in a slash.  (The only
characters you are supposed need to slashify in strings are doublequotes and
slashes.) 

Date: Sunday, 27 June 1982, 22:07-EDT
From: David Chapman <Zvona at MIT-AI>
To: BUG-LISPM at EE

In System 210.101, ZMail 45.3, Remote-File 103.0, Local-File 103.0,
DAEDALUS 45.2, microcode 895, site configuration 11, Large Files, on Lisp Machine Eight:

The prompt ``Connect to host:'' in Supdup apparently does not use full-rubout
reading.  If you type space rubout network at it, it doesn't interpret the network
magically.

Date: 27 June 1982 21:46-EDT
From: Steven C. Bagley <Bagley at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.40,
ZMail 45.3, microcode 136,  , on Lisp Machine One:

I log it to oz, then go into zwei.  Then I do a find file, letting the
machine and directory default to oz:<bagley>.  I get a "no such device"
message.  So it should know about ps:, but doesn't seem to.

Date: 27 June 1982 20:06-EDT
From: Steven C. Bagley <Bagley at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.40,
ZMail 45.3, microcode 136,  , on Lisp Machine One:

Problem with HYPER-CTRL-A (arglist) in a lisp listener.

If you are typing a form near the bottom of the screen, using
HYPER-CTRL-A can cause a **MORE** exception.  Hitting space to get to
the next screen causes the arglist output to go at the top of the
screen, but the cursor stays down at the bottom.  Bug.

Date: Sunday, 27 June 1982, 16:53-EDT
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-LISPM at EE

In System 210.95, ZMail 45.3, LMFS 27.15, Tape 10.6, Canon 14.2,
Remote-File 103.0, microcode 896, site configuration 9, on Lisp Machine Eighteen:

(PRINT "//") prints out as "//", which is nice, because you can READ it back in to get
the slash, but (PRINT "/#") prints out as "#" which you can't READ back in.

Date: Sunday, 27 June 1982  14:14-EDT
From: HIC at SCRC-TENEX
To:   Philip E. Agre <AGRE at MIT-AI>
Cc:   BUG-LISPM at MIT-AI

    Date: Sunday, 27 June 1982  09:43-EDT
    From: Philip E. Agre <AGRE at MIT-AI>
    To:   BUG-LISPM at MIT-AI

    Is there some good reason why the screen is smaller in system 210 than
    in system 86?

What monitor are you using, VMI or CPT?  System 210 is set up for use
with VMI's running at 60hz, but with a CPT size screen.  Our screen
size is 872.0 pixels high, how big is 86's?  It is likely that an 86
set to 60hz would be larger, but a straight 86 configured for a CPT
should not be.  Since most of our users use VMI's, we have optimized
our default screen size for them.  However, it should be fairly easy
for you to change this size in your band.

Date: 27 June 1982  13:35-EDT (Sunday)
From: Robert P. Krajewski <RPK at MIT-OZ>
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   BUG-LISPM at MIT-MC, KBE-I at MIT-MC
Subject: Twenex file servers

    Date: Sunday, 27 June 1982  07:08-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    Re:   Twenex file servers

    Hey, this is completely cretinous! I moved the sources for my KBE system
    to OZ and now anyone who wants to do (LOAD-PATCHES) has to give a password
    for the file server to OZ. The files have read access to the world, so there
    is no reason that some anonymous password could not be used. Couldn't the 
    system have some notion of site default passwords for getting files until
    it runs into a security barrier it can't handle?

Try ANONYMOUS with no password.  At the moment it's a real directory, but
that should be changed.  [How is the one on EE implemented ?]  If or when the
MIT LispM sources are moved to OZ, the System-login user-id (currently LISPM)
which is part of a site's definition (that's what you were asking about) will
have to be changed.  What's so bad about logging in as KMP ?  Your password
won't be saved (if it is, something's very wrong) in any system around at the
moment.

    In fact, in principle I might want to be simultaneously accessing files belonging
    to two users on a Twenex with disjoint sets of privileges (what a loss 
    the notion of `privileges' is!) ... Do I have to keep logging in and out the
    two people in question in order to win? That seems silly.

Eh ?  When someone logs in as X, he gets X's privileges.  Connecting to
directory Y doesn't give him Y's privileges.  You might be interested to know
that your file job will be enabled (on a Twenex system) if you type an
asterisk before your password.  (This is actually documented
somewhere...)  There really is not much use for this unless you forgot to
change protection on your subdirectories.  What's the problem here ?  File
access (when you're not enabled) depends solely on protection bits and user
groups.  It's better to put yourself in the requisite user group that to run
around enabled.

bob
-------

Date: 27 June 1982 13:02-EDT
From: Philip E. Agre <Agre at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.40,
ZMail 45.3, microcode 136,  , on Lisp Machine One:

In a freshly cold-booted 86.40, type:

(defun fact (n) (if (< n 2) 1 (* n (fact (1- n))))) => FACT

(fact 2) => 2

tail-recursion-flag => NIL

(set + t) => T

(fact 2) => machine wedges and has to be warm-booted

Date: 27 June 1982 09:43-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI

Is there some good reason why the screen is smaller in system 210 than
in system 86?  

Date: 27 June 1982 07:08-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Twenex file servers
To: BUG-LISPM at MIT-MC
cc: KBE-I at MIT-MC

Hey, this is completely cretinous! I moved the sources for my KBE system
to OZ and now anyone who wants to do (LOAD-PATCHES) has to give a password
for the file server to OZ. The files have read access to the world, so there
is no reason that some anonymous password could not be used. Couldn't the 
system have some notion of site default passwords for getting files until
it runs into a security barrier it can't handle?

On a related issue, I got an error the other day saying I couldn't delete some
file because of a protection error. I have since fixed the protection, but
the question still remains: how could I have told the file server to what it
needed to do to win? It could not delete the file from where it was, but would
have been able to had it been connected to the directory in question, which
it had privileges to do. 

In fact, in principle I might want to be simultaneously accessing files belonging
to two users on a Twenex with disjoint sets of privileges (what a loss 
the notion of `privileges' is!) ... Do I have to keep logging in and out the
two people in question in order to win? That seems silly.

Also, once I log into one machine and it gets my inquir info for that machine,
why does the system bother getting new inquir info when it logs file servers
into other machines. Oft times, it replaces the at least somewhat useful
information of what KMP means to ITS with "???" which is what it gets when 
it looks up something like <KBE.SOURCE> on OZ and finds it has no inquir entry.
Once it has one set of valid inquir info, it should stop wasting cycles on my
machine and my hosts' by asking for more info.


Date: 27 June 1982 06:13-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Completion in logical device paths
To: BUG-LISPM at MIT-MC

In System 79.52, ...

Is there some reason why completion of logical paths can't just dereference
to the real pathname, do the completion, and backtranslate to get a string
to be the completion?

-kmp


Date: 26 June 1982 17:30-EDT
From: Alan Bawden <ALAN at MIT-MC>
To: Zvona at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: Saturday, 26 June 1982, 15:50-EDT
    From: David Chapman <Zvona at MIT-AI>

    Is it not a bug that the change is not propagated to bar from foo?

Is it worth the trouble I would have to go to to make it work?  If you need
this kind of behavior, then I recomend the flavor system.  

Date: Saturday, 26 June 1982, 15:50-EDT
From: David Chapman <Zvona at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.52, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

(defstruct (foo :list)
  (slot (gensym)))
FOO

(make-foo)
(G2167)

(defstruct (bar :list (:include foo)))
BAR

(make-bar)
(G2168)

(defstruct (foo :list)
  slot)
FOO

(make-foo)
(NIL)

(make-bar)
(G2170)

Is it not a bug that the change is not propagated to bar from foo?

Date: 26 June 1982 09:36-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.41,
ZMail 45.3, Local-File 37.1, DAEDALUS 45.2, microcode 136, dpl 45.2,
on Lisp Machine Eight:

(defun foo (x) (do () (t (return x (1+ x) (+ 2 x)))))

(multiple-value (a b c) (foo 2))

sets a to 2, b to 3, and c to 4 in 210 but sets all three to NIL in 86.40+.

Date: Saturday, 26 June 1982, 03:48-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: NEVES at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 25 Jun 82 18:04-EDT from David M. Neves <NEVES at MIT-MC>

    Date: Friday, 25 June 1982, 18:04-EDT
    From: David M. Neves <NEVES at MIT-MC>

    ... it seems as
    though this 210 system is slower than 86.  I think it is paging more.
    As a quick example, the first time I go into the editor and type a
    character it takes about 18 seconds for the character to register
    on 210 (i.e. <system> <take time> E <character> <character prints out
    in buffer> <take time>) and about 10 seconds in 86.  Anyway someone might
    check into this.

Fixed in 210.101, which only takes effect after disk-saving.  Basically
the first time you touched an instance of any flavor, it would have to
rehash the message hash table, because the band compressor leaves them
all needing a rehash.  Timing (ED) in both systems (on Basset, with 512K
memory) placed 210.101 at about 20% faster than 86.37, both in run time
and page faults.

I didn't try the corresponding fix in system 86, although I didn't
observe the symptom there either.

Date: 26 June 1982 03:43-EDT
From: Kent M. Pitman <KMP at MIT-AI>
Subject: Bug reporting
To: BUG-LISPM at MIT-AI

In System 79.52,...

Is there a hook (or could one be created) which allows me to format my own
information for the top of M-X Bug on a given topic. Most of the information
given at the top of bug reports on the KBE system I work on is irrelevant
to me, and much useful information could automatically be inserted if I had
a convenient place to put the function that would do so...

-kmp

Date: Friday, 25 June 1982  20:24-EDT
From: BEE at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-EECS, Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Compiler error messages

I think that not producing a qfasl file is a very bad idea. I think
that also changing the function spec is a loser. People who do not
read their compiler warnings get what they deserve.  People who dont
read compiler warnings strike me as the same sort of insidious bombs
that DWIM encourages. It might be a legitimate debugging philosophy to
load a broken function, and try running it to see what the problem is.
I cant think of an example off hand. In any case I dont see what benefit
we can possibly obtain from making the qfasl unloadable. I would be in
favor of perhaps storing something in the qfasl that prints out the
equivalent of the compiler warning when you load it if you believe that
users are going to screw themselves.

Date: 25 June 1982 19:40-EDT
From: Howie Daniel Trachtman <HDT at MIT-AI>
Subject: Open, Sesame!
To: RWK at SCRC-TENEX
cc: BUG-LISPM-MIT at MIT-AI, BUG-DOOR at MIT-AI, hdt at MIT-OZ


    From: Robert W. Kerns <RWK at SCRC-TENEX>
    In-reply-to: The message of 24 Jun 82 14:06-EDT from Howie Daniel Trachtman <HDT at MIT-MC>

        Date: 24 June 1982 14:06-EDT
        From: Howie Daniel Trachtman <HDT at MIT-MC>
          While logged into MC, with AI down and MC up,
        typing terminal-D indeed works, but then my machine frobs a little while,
        and gives me a notification window: 14:02 Failed to hack the door: Host not responding.
          Looks like there are some unneeded chaos: functions getting called, because the
        notification of failure comes after success has already been attained.

        --Howard--
    	
    You must be confused. 
Maybe, but...

	 If AI is down,

  I am sure that it was, finger didn`t work, and the TV`s were down.

     there is NO WAY hardwarily for it

Thats what I thought,		;

    to work, since the hardware that implements it is attached to AI.

Maybe its attached, I don`t know, maybe it doesn`t need AI.

    How did you measure the attainment of success?

Twice hearing someone immediately say thank you, hearing the door buzz, and
seeing someone pass by.  I am sure that the door opened.

In any case, even if I am mistaken in that AI was really up, I shouldn`t get the AI is down
message.  

--Howard--

Date: Friday, 25 June 1982, 19:28-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Open, Sesame!
To: Howie Daniel Trachtman <HDT at MIT-MC>
Cc: BUG-LISPM at MIT-MC, BUG-DOOR at MIT-MC
In-reply-to: The message of 24 Jun 82 14:06-EDT from Howie Daniel Trachtman <HDT at MIT-MC>

    Date: 24 June 1982 14:06-EDT
    From: Howie Daniel Trachtman <HDT at MIT-MC>
      While logged into MC, with AI down and MC up,
    typing terminal-D indeed works, but then my machine frobs a little while,
    and gives me a notification window: 14:02 Failed to hack the door: Host not responding.
      Looks like there are some unneeded chaos: functions getting called, because the
    notification of failure comes after success has already been attained.

    --Howard--
	
You must be confused.  If AI is down, there is NO WAY hardwarily for it
to work, since the hardware that implements it is attached to AI.

How did you measure the attainment of success?


Date: Friday, 25 June 1982, 18:22-EDT
From: David M. Neves <NEVES at MIT-MC>
To: BUG-LISPM at EE

In System 210.93, ZMail 45.3, Remote-File 103.0, microcode 895,
site configuration 8, on Lisp Machine Twenty:


This is a telnet bug.  
When I first connect to telnet and hit one of the special keys, like HELP
or NETWORK, I get the appropriate response.  However if I connect to
telnet and go to mit-vax, login, logout I then get disconnected from
mit-vax and thrown back to telnet.  If I then hit HELP or NETWORK <help>
and <network> print out where it asks me to connect to host and I do not
get the appropriate behavior.  I know that these keys only respond if
at the beginning of line but I did not type any character before them and
to insure this I even tried RUBOUT before hitting the keys.

Date: Friday, 25 June 1982, 18:04-EDT
From: David M. Neves <NEVES at MIT-MC>
To: BUG-LISPM at EE

In System 210.93, ZMail 45.3, Remote-File 103.0, microcode 895,
site configuration 8, on Lisp Machine Twenty:

Two points.

First, when I do a load patches on this machine it asks me to log into
EE.  I do not have an account on EE.  Luckily I remembered about the
"anonymous" convention on top-20 sites and used that and it worked.
I would think that something better should be developed for people
who don't know about anonymous.

Secondly, (and I don't want to start any flaming here!), it seems as
though this 210 system is slower than 86.  I think it is paging more.
As a quick example, the first time I go into the editor and type a
character it takes about 18 seconds for the character to register
on 210 (i.e. <system> <take time> E <character> <character prints out
in buffer> <take time>) and about 10 seconds in 86.  Anyway someone might
check into this.

Date: Friday, 25 June 1982, 17:44-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Compiler error messages
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 25 Jun 82 11:41-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>


    Date: Friday, 25 June 1982, 11:41-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
	The usual definition is that warnings are things where the compiler has
	done the right thing.  Errors are where the resulting code is unlikely
	to be correct.

    There are two problems.  First, the distinction between "errors" and
    "warnings" is not as clear, or at least not as simple, as this.
    Secondly, given such a distinction, what are we going to do about it?
    Let me consider these points in turn.

...

    I am not exactly sure where the dividing line is between errors and
    warnings; it depends on what we do about warnings versus what we do
    about errors.  In both cases we want to notify the user and make an
    entry in the compiler warnings data base.  What else might we want to
    do?  Refuse to generate a QFASL file if there was an error?  But there
    might have been many perfectly good functions in that file and you might
    be willing to just ignore the broken one for a while.  Perhaps the only
    effect that is different for errors and warnings is that one message
    should say "Warning:" while the other should say "Error:".  Did you
    have anything stronger in mind?

It is definately vague, and it's a judgment call how you divide them.  My
points were 1) that this really was an error, not just a warning, and 2)
that there is a distinction, commonly made, which is reassuring to the
user.  It is generally accepted that you fix them all, whether errors or
warnings, unless the problem is something you can't get around (or something
temporary, like a function not being defined yet).

Refusing to generate a QFASL file would be one possibility.  Certainly,
most linkers that I've used refuse to produce an executable file from
object files that had compilation errors.  Generally they do produce
executable images from object files that had warnings, but issue a
warning at link time.  Since link and load time are about the same
for us, maybe some compromise position, where the QFASL is generated,
the broken function is stored in #'(:BROKEN <function-spec>) and a
warning is produced (once per file).  MAKE-System should refuse to load
files that didn't compile (ideally this would be obtainable by looking
at the QFASL without loading it).

This is all pretty vague; I don't want to think about it much right now.
But I think this area could use some attention.

Date: 25 June 1982 16:01-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: logical host bug
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.41,
ZMail 45.3, microcode 136,  , on Lisp Machine Nine:

I have just defined a logical host, ECCSYS, mapping to OZ, with
two translations:  "ECC" directory -> "PS:<ECC>" and "WEID"
directory -> "PS:<ECC.WEID>".  The problem is in dealing with the
subdirectory:

(DEFMETHOD (LOGICAL-HOST :LOGICALLY-BACKTRANSLATE-HOST-DEV-DIR)
	   ...
			   (STRING-EQUAL PHYSICAL-DIRECTORY
					 (TRANSLATION-PHYSICAL-DIRECTORY TRANS)))

TRANS here is bound to ("ECC" "WEID"), as it should be.  The
STRING-EQUAL is not right, though.

Date: 25 June 1982 12:15-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI, BUG-HARDWARE at MIT-AI

It would appear that system 79+ cc:salvage-editor doesn't work on wedged
system 210+ machines and vice versa.  Since cadr-2 and cadr-8 are so
crufty these days (at the moment cadr-2 won't even cold-boot and cadr-8
freezes up in its quaint way every few hours) I am frequently losing work
through an inability to salvage my editor.  Not only that, but the few
tricks I do know for remote diagnosis don't seem to do anything intelligible
to me between incompatible systems.  This sucks.  Will somebody please
do something about it?  I'm sure I can arrange a demonstration on a few
hours' notice if necessary.  Also, CC should be very much more helpful to
poor hardwarily deprived people like me.  Right now, <help> produces a
few strange symbols and some question marks.  

btw, no responses to the effect that that's what we get for not running
compatible software everywhere will be entertained.

Date: Friday, 25 June 1982, 11:41-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Compiler error messages
To: RWK at SCRC-TENEX
Cc: BUG-LISPM at MIT-EECS

    The usual definition is that warnings are things where the compiler has
    done the right thing.  Errors are where the resulting code is unlikely
    to be correct.

There are two problems.  First, the distinction between "errors" and
"warnings" is not as clear, or at least not as simple, as this.
Secondly, given such a distinction, what are we going to do about it?
Let me consider these points in turn.

Some compiler messages might be completely benign, such as "this
function is obsolete, you should really use that one".  There is no
particular reason to think that the generated code won't work.  Then,
there are messages like "you just bound a system constant", in which
there is no clear guarantee that the code won't work, but yet the user
really ought to change the program, and running it might break other
things.  Then we have things like "&GRONK is not a real &-keyword,
ignoring it", in which the resulting code might or might not work
depending on what was going on; in either case the user really should
check things out and fix the code and recompile.  Past this are real
illegal constructs that the compiler changes to NIL or something simply
so that it can go on to find further errors.

An interesting case is the "foo was called with too many arguments"
message, in which the program is going to fail at runtime, UNLESS a new
version of the callee, not known about by the compiler, is loaded in,
which makes everything all right.  This can easily happen in practice
when a calling module and a called module are both changed, and then
they are compiled sequentially.

I am not exactly sure where the dividing line is between errors and
warnings; it depends on what we do about warnings versus what we do
about errors.  In both cases we want to notify the user and make an
entry in the compiler warnings data base.  What else might we want to
do?  Refuse to generate a QFASL file if there was an error?  But there
might have been many perfectly good functions in that file and you might
be willing to just ignore the broken one for a while.  Perhaps the only
effect that is different for errors and warnings is that one message
should say "Warning:" while the other should say "Error:".  Did you
have anything stronger in mind?

Date: 25 June 1982 08:07-EDT
From: David W. Shipman <SHIPMN at MIT-AI>
Subject: Disappearing Microcode Entry
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.40, ZMail 45.3,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
FILE-Server 3.0, Spire 4.0, microcode 136, Spire,
on Lisp Machine Twelve:

I have some user microcode which I install as part of a system and then
save away the band.  I put UA:UA-REBOOT on the cold and warm boot
initialization lists to restore the microcode. When UA:UA-REBOOT is
called during the cold-boot I get an error inside UA:UA-LOAD-DEFMIC that
"the word #<DTP-FREE ...> was read from location 136000 (in
MICRO-CODE-ENTRY-AREA)". Now the MICRO-CODE-ENTRY-AREA starts at
location 135400, and the microcode function that is being DEFMIC'ed has
entry index 400. That page of micro-entries has somehow disappeared.

The weird thing is that this did not occur on two previous cold-boots.
First of all, there's the "cold-boot" that takes place after the 
DISK-SAVE. Secondly, the band was cold-booted again shortly after it
was created. In neither case did the error occur. The error did not occur
until the following day (that is, this morning) after an intermediate
band and different microload had been run in the meantime. 

This problem did not occur under system 79.

Date: Friday, 25 June 1982, 00:22-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: You Lose
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: BRADST at MIT-AI, BUG-LISPM at MIT-EECS
In-reply-to: The message of 23 Jun 82 23:01-EDT from Daniel L. Weinreb <dlw at SCRC-TENEX>

    Date: Wednesday, 23 June 1982, 23:01-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    The "previously assumed local; you will lose" message is indeed not very
    clear.  When a varible is automatically declared special, and the
    compiler has previously seen that variable and assumed that it was
    local, then the compiler knows that the code it was producing definitely
    will not work; if it had never assumed that the variable was local,
    then the automatic special declaration stands some chance of producing
    correct code anyway although there is no good reason to assume that it
    will.  As far as you are concerned, whenever you get any of these errors,
    you should fix the bug and recompile your program.

    Bug-Lispm people: the compiler is suffering from a confusion in
    philosophy here.  It thinks it is telling the user "I declared FOO
    special, even though you didn't, but don't worry because I fixed it all
    up".  As we all know, that does not necessarily mean that things are
    really fixed; other functions might be screwed.  Warnings, in general,
    try to patch things to make the compiler proceed, but only so that it
    might find more interesting warning messages; the user is still expected
    to fix the code and recompile the program.  Therefore, the "you will
    lose" message is really misguided, and I think it should be removed.
Not only other functions, but prior uses of that variable in that function
may be screwed, no?

There needs to be a clear philosophy of errors, warnings, etc.  The
usual definition is that warnings are things where the compiler has done
the right thing.  Errors are where the resulting code is unlikely to be
correct.  (Errors are frequently divided into classes by severity, but
I'm not sure that's worthwhile).  The "you will lose" is a poor attempt
to subsitute for classifying the problem as severe.

Suggestion for a better message:

"While compiling this function, variable ~A was originally assumed to
be local.  The compiler has now determined that it must be special,
too late for correct code to be produced."

Date: Thursday, 24 June 1982, 22:29-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: Steven C. Bagley <Bagley at MIT-OZ>
Cc: rwk at scrc-tenex, bug-lispm at MIT-EECS
In-reply-to: The message of 24 Jun 82 09:03-EDT from Steven C. Bagley <Bagley at MIT-OZ>

    Date: Thursday, 24 June 1982, 09:03-EDT
    From: Steven C. Bagley <Bagley at MIT-OZ>
    To: rwk at scrc-tenex
    Cc: bug-lispm at ee, bagley at oz

    Well, you're right that I can't get the machine to crap out by typing
    BREAK after typing HELP to the lisp listener.  However, I can get it to
    crap out by typing BREAK after typing TERMINAL-HELP.  (Typing M-BREAK
    craps out also, but in a slightly different way).
I've reported variants of this before; the problem is that the thing
that clears temporary windows when the user asks to select something
is modularized improperly and hence in this case doesn't know to get
rid of the Terminal/Help temporary window; typing Terminal c-T releases
the logjam.

Date: 24 June 1982 14:06-EDT
From: Howie Daniel Trachtman <HDT at MIT-MC>
To: BUG-LISPM at MIT-MC, BUG-DOOR at MIT-MC

  While logged into MC, with AI down and MC up,
typing terminal-D indeed works, but then my machine frobs a little while,
and gives me a notification window: 14:02 Failed to hack the door: Host not responding.
  Looks like there are some unneeded chaos: functions getting called, because the
notification of failure comes after success has already been attained.

--Howard--
	

Date: Thursday, 24 June 1982, 09:03-EDT
From: Steven C. Bagley <Bagley at MIT-OZ>
To: rwk at scrc-tenex
Cc: bug-lispm at ee, bagley at oz

In System 210.93, ZMail 45.3, Remote-File 103.0, microcode 895,
site configuration 8, on Lisp Machine Twenty:

Well, you're right that I can't get the machine to crap out by typing
BREAK after typing HELP to the lisp listener.  However, I can get it to
crap out by typing BREAK after typing TERMINAL-HELP.  (Typing M-BREAK
craps out also, but in a slightly different way).

These bugs don't trouble me personally.  However, they would completely
shaft a novice user.

Date: Thursday, 24 June 1982, 09:03-EDT
From: Steven C. Bagley <Bagley at MIT-OZ>
To: rwk at scrc-tenex
Cc: bug-lispm at ee, bagley at oz

In System 210.93, ZMail 45.3, Remote-File 103.0, microcode 895,
site configuration 8, on Lisp Machine Twenty:

Well, you're right that I can't get the machine to crap out by typing
BREAK after typing HELP to the lisp listener.  However, I can get it to
crap out by typing BREAK after typing TERMINAL-HELP.  (Typing M-BREAK
craps out also, but in a slightly different way).

These bugs don't trouble me personally.  However, they would completely
shaft a novice user.

Date: 24 June 1982 09:17-EDT
From: Robert P. Krajewski <RpK at MIT-AI>
Subject: Call it insecurity...
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.39, ZMail 45.3,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 136, FS, on Lisp Machine Seven:

OK, who put a password server in AI: LMIO; CHSAUX > ?  Although
it's not installed yet, it would have been in System 87.  (I'm
assuming that it's a change made at MIT).  I would rather see
this so-called ``feature'' either flushed or turned off by
default.

bob

Date: 24 Jun 1982 0358-PDT
From: Ganesha at OFFICE-1
Subject: Re: Flame level
To:   Deutsch at PARC-MAXC, INFO-LISPM at MIT-AI
cc:   GANESHA

In response to the message sent  24 Jun 1982 0346-PDT from Ganesha

Sorry I just did what I told everyone it was unwise to do...
Havefun
Sends Steve
-------

Date: 24 Jun 1982 0346-PDT
From: Ganesha at OFFICE-1
Subject: Re: Flame level
To:   Deutsch at PARC-MAXC, INFO-LISPM at MIT-AI
cc:   GANESHA

In response to the message sent  23 Jun 1982 16:57 PDT from Deutsch@PARC-MAXC


I AGREE...It's a pain to hear people flame sometimes when you
want info BUT adding to it is throwing gasoline on a fire
expecting it to go out.

Have fun
Sends Steve

-------

Date: 24 June 1982 00:51-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject:  Flame level
To: Deutsch at PARC-MAXC
cc: INFO-LISPM at MIT-MC

    Date: 23 Jun 1982 16:57 PDT
    From: Deutsch at PARC-MAXC
    To:   INFO-LISPM at MIT-AI
    Re:   Flame level

    As a relatively detached observer ...

Hold it, haven't I seen advertisements for lispmachines being built by Xerox?
Chuckle. Anyway, these people flaming aren't assholes, they are artists,
which brings me to an advertisement for my new book: "The Art of Computer Flaming."



Date: Wednesday, 23 June 1982, 23:01-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: BRADST at MIT-AI, BUG-LISPM at MIT-EECS

The "previously assumed local; you will lose" message is indeed not very
clear.  When a varible is automatically declared special, and the
compiler has previously seen that variable and assumed that it was
local, then the compiler knows that the code it was producing definitely
will not work; if it had never assumed that the variable was local,
then the automatic special declaration stands some chance of producing
correct code anyway although there is no good reason to assume that it
will.  As far as you are concerned, whenever you get any of these errors,
you should fix the bug and recompile your program.

Bug-Lispm people: the compiler is suffering from a confusion in
philosophy here.  It thinks it is telling the user "I declared FOO
special, even though you didn't, but don't worry because I fixed it all
up".  As we all know, that does not necessarily mean that things are
really fixed; other functions might be screwed.  Warnings, in general,
try to patch things to make the compiler proceed, but only so that it
might find more interesting warning messages; the user is still expected
to fix the code and recompile the program.  Therefore, the "you will
lose" message is really misguided, and I think it should be removed.

Date: 23 June 1982 23:58-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: New string I/O implementation
To: BUG-LISPM at MIT-AI

Those new coroutining streams are useful.  But that's no excuse for an
incorrect implementation of string I/O.  Therefore, it has been
reimplemented correctly (as of system 86.39):

New macro WITH-OPEN-STRING.

    (WITH-OPEN-STRING (stream string . options) &BODY body)
    creates a stream associated with the specified string.  This takes a keyword
    argument list instead of the positional arguments of WITH-INPUT-FROM-STRING
    and WITH-OUTPUT-TO-STRING, and permits the creation of bidirectional string
    streams.  (The other macros expand into this now.)

WITH-INPUT-FROM-STRING and WITH-OUTPUT-TO-STRING can be nested.

    String input and output has been reimplemented based on select-methods and
    closures.  (The stream given to the user is now a closure.)  This means that
    these forms can be nested as desired, and the streams can be passed downward
    (the closures are not killed in any way by UNWIND-PROTECTs).  The new
    implementation also supports :READ-POINTER and :SET-POINTER operations.

To find out more, read the comments in AI: LISPM2; STRING > (or AI:
LMPAT; 86.39 >).

Date: 23 Jun 1982 16:57 PDT
From: Deutsch at PARC-MAXC
Subject: Re: Flame level
In-reply-to: SOLEY's message of 23 June 1982 17:19-EDT
To: INFO-LISPM at MIT-AI

As a relatively detached observer, I am mildly distressed at two recent exchanges
of messages on INFO-LISPM.  They both had the following form:
	- Party A makes a statement that is restrained in tone, but indicates that
he has strong feelings about some situation.
	- Party B comments on Party A's statement at a much higher decibel
level, without adding any useful information to the discussion.

C'mon, folks.  When you feel like acting like Party A, stop and consider whether
what you're putting out is useful, helpful, likely to encourage people to consider
the situation in a balanced way, etc.  When you feel like acting like Party B, do
the same.  If you think Party A is out of line, maybe you should speak to him
privately.  If that doesn't help, just bear with it.  We're all assholes now and
then; I don't think raising the decibel level helps matters.


Date: Wednesday, 23 June 1982, 19:31-EDT
From: John Bradstreet <BRADST at MIT-AI>
To: BUG-LISPM at EE

In System 210.80, ZMail 45.2, Remote-File 103.0, Local-File 103.0,
DAEDALUS 45.2, microcode 895, site configuration 6, Large Files, on Lisp Machine Eight:

Hi there,


    I really didn't find a bug, but I did notice a rather cyptic error message that I

don't understand.  It pops up when running the LISP compiler on functions that have 

undefined local variables, which are hence defined to be 'special' by the compiler.

(I think, but then what do I know !)


   Anyway, I get this funny message :

        FOO-BARF  previously assumed local; you will lose



   The problem is that I don't know what I will lose.  It could be the local value of the

variable when it jumps out of the function, or maybe the variable itself, or even my $5 bet

that the Dodgers are going to win the World Series. 



   So you see the problem I have.  Do I rewrite by program or try to call off my bet ?

Could you make the error message a bit less cryptic so next time I see it I'll know what to

do. 


						Thanks 

							J.Bradstreet

Date: 23 June 1982 17:19-EDT
From: Richard Mark Soley <SOLEY at MIT-MC>
To: RMS at MIT-AI
cc: INFO-LISPM at MIT-AI

    Date: 20 June 1982 03:08-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    To:   INFO-LISPM at MIT-AI

    I recently learned something helps to explain why ALAN so strongly
    condemns the use of BUG-LISPM-MIT, which does not go to Symbolics:

    He is on their payroll.

    I supply this background information in the hope that it may help
    illuminate recent (and future) events.

Oh my God, on THEIR payroll?!  How terrible, will he live?  Can he
be saved from such reckless actions?  Perhaps we ought to revert
this mailing list from a flame session to info-lispm?


Date: Wednesday, 23 June 1982, 18:33-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Pathname completion in Local-File
To: KMP at MIT-MC
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 23 Jun 82 07:11-EDT from Kent M. Pitman <KMP at MIT-MC>,
             The message of 23 Jun 82 07:07-EDT from KMP at MIT-MC

I fixed one typo and one bug in Local-File's completion code, patched
them in Local-File 39.1, and installed that patch on the file computer.

Whoever installed the system 86 feature which doesn't allow use of the
EVAL server from Symbolics has succeeded in pissing me off.  I hope that
person doesn't harbor any illusions that it is secure, or else I
wouldn't have fixed this bug.


Date: Wednesday, 23 June 1982, 16:10-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
Subject: Lispm Documentation
To: INFO-LISPM at MIT-AI
Cc: BUG-LISPM at MIT-AI, DLW at MIT-AI, KAREN at MIT-AI


Symbolics has given the AI lab permission to copy and distribute to lab
members some of their Lispm documentation. Since their documentation
effort is not complete the documentation which will be available is
somewhat limited, and probably only useful for beginning Lispm users.

The documents which will be available are:

  ZMACS Manual   -- this describes the very basics of ZMACS, if you
                    have been using Lispms for a while you know 
                    everything in this.

  FONT Editor    -- this describes the Symbolics font editor.

  Scroll Windows -- this describes tv:scroll windows.

These should be available in the AI publications office in about a week.

Date: 23 June 1982 10:44-EDT
From: David W. Shipman <SHIPMN at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.29, ZMail 45.1,
Experimental Remote-File 11.0, Experimental Local-File 38.0,
FILE-Server 3.0, Experimental Spire 4.0, microcode 136, Spire, on Lisp Machine Twelve:

We can't do LISPM-to-LISPM file transfers in system 86 because
MAKE-PATHNAME-INTERNAL-1 sends a :PATHNAME-FLAVOR message which
is not handled by hosts of flavor LISPM-CHAOS-HOST.

Date: 23 June 1982 07:11-EDT
From: Kent M. Pitman <KMP at MIT-MC>
Subject: previous bug report (filename completion of FS:FOO;)
To: BUG-LISPM at MIT-MC

By the way, the actual filename I typed was FS:KBE-PAT;... and I was 
expecting it could complete over directories as well. I'm not surprised
that it doesn't since in general it's probably hard if the substring
could designate more than directory to figure out how to complete the
filename components, but in the specific case (like this one) where the
substring uniquely specifies a directory, maybe it could complete first
the directory and then the filenames therein and not even bother to beep
at me at all. This is less critical. Mostly I just not want to be in the
error handler in this case.


KMP@MIT-MC 06/23/82 07:07:31
To: (BUG LISPM) at MIT-AI
In System 79.52, Remote-File 2.0, LMFILE-Remote 5.3, microcode 849, on Cadr-22:

Filename completion, at least to the FS: device, seems very sensitive to 
having typed a correct directory name. eg, typing alt after c-X c-F FS:FOO;
causes

  >>ERROR: Connection #<CHAOS Connection 512716> went into illegal state while
           waiting for a transaction.
  While in the function FS:FILE-WAIT-FOR-TRANSACTION 
                       (METHOD FS:HOST-UNIT COMMAND)
                       FS:COMPLETE-CHAOS

where the whostate arg to FS:FILE-WAIT-FOR-TRANSACTION is "COMPLETE".

Typing alt after c-X c-F AI:FOO; does the proper thing by just beeping
and not running the error handler.
-kmp

ps The function name FS:COMPLETE-CHAOS is very cute.


Date: Wednesday, 23 June 1982, 02:37-EDT
From: Robert P. Krajewski <RpK at MIT-OZ>
Subject: While you're at it (FORMAT directives)
To: MMcM at SCRC-TENEX
Cc: BUG-LISPM at MIT-AI, RpK at MIT-OZ, RpK at OZ
In-reply-to: The message of 22 Jun 82 13:56-EDT from Mike McMahon <MMcM at SCRC-TENEX>

    Date: Tuesday, 22 June 1982, 13:56-EDT
    From: Mike McMahon <MMcM at SCRC-TENEX>
    Subject: While you're at it (FORMAT directives)
    To: RPK at MIT-AI
    Cc: BUG-LISPM at MIT-AI

	Date: 22 June 1982 04:56-EDT
	From: Robert P. Krajewski <RPK at MIT-AI>
	How about a new format directive for printing out times ?
    What you propose is more or less ~\DATE\ for the argument case and ~\TIME\ for
    the current time case.  This could be improved, but i personally don't see the
    need for using up another character.

Sure, I just used a single character as a place holder.  The
documentation doesn't say whether you can use : or @ in front of
\user-directive\.

bob

Date: Wednesday, 23 June 1982, 01:03-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: RPK at MIT-AI, BUG-LISPM at MIT-AI

I added coroutining streams to SYS:IO;STREAM.

    Date: 19 June 1982 22:08-EDT
    From: Robert P. Krajewski <RPK at MIT-AI>

    (DEFUN PRINT-ZMACS-WALLCHART-ON-DOVER ()
      ; It would be nice to have pipes, wouldn't it ?
      (WITH-INPUT-FROM-STRING
	(CHART (WITH-OUTPUT-TO-STRING (FAKE-STREAM)
		 (GENERATE-ZMACS-WALLCHART FAKE-STREAM)))
	(PRESS:PRINT-FROM-STREAM CHART "ZMACS Wallchart"
					':HEADER-FONT "TimesRoman12B")))

This function can now be written as

  (DEFUN PRINT-ZMACS-WALLCHART-ON-DOVER ()
    (PRESS:PRINT-FROM-STREAM
      (SI:MAKE-COROUTINING-INPUT-STREAM 'GENERATE-ZMACS-WALLCHART)
      "ZMACS Wallchart"
      ':HEADER-FONT "TimesRoman12B"))
  
without having to cons up the entire intermediate string.  Right now, only
:TYI and :TYO are implemented.  I'll add :STRING-IN, :STRING-OUT,
:LINE-IN, etc. later.

Date: Tuesday, 22 June 1982, 20:31-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: lifetime of file jobs
To: BAGLEY at MIT-OZ
Cc: bug-lispm at MIT-AI
In-reply-to: The message of 16 Jun 82 11:28-EDT from Steven C. Bagley <BAGLEY at MIT-OZ>

    Date: 16 June 1982  11:28-EDT (Wednesday)
    From: Steven C. Bagley <BAGLEY at MIT-OZ>

    I object to Tops-20 file jobs getting GCed.

In System 210, the variable which controls the interval is
FS:*FILE-CONTROL-LIFE*, which is the number of 60ths of a second after
which idle control connections could be GCed.  Its default is 30
minutes.  In 85/86, the variable is named gratuitously differently, and
the default is 20 minutes.

Date: 22 June 1982 20:14-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
To: RPK at MIT-AI, BUG-LISPM at MIT-AI

    Date: 19 June 1982 22:08-EDT
    From: Robert P. Krajewski <RPK at MIT-AI>
    To: BUG-LISPM at MIT-AI

    In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.37, ZMail 45.1,
    Experimental Remote-File 11.0, Experimental Local-File 38.1,
    microcode 123, FS, on Lisp Machine Seven:

    [1] (This bug is, most likely, 86-specific.)  If you use
    PRESS:PRINT-FROM-STREAM on a stream whose attributes list cannot be
    found with :READ-INPUT-BUFFER or :SYNTAX-PLIST operations, and the
    stream does not have a :SET-POINTER operation,
    FS:EXTRACT-FILE-ATTRIBUTE-LIST dies.  This happened when I used

    (DEFUN PRINT-ZMACS-WALLCHART-ON-DOVER ()
      ; It would be nice to have pipes, wouldn't it ?
      (WITH-INPUT-FROM-STRING
	(CHART (WITH-OUTPUT-TO-STRING (FAKE-STREAM)
		 (GENERATE-ZMACS-WALLCHART FAKE-STREAM)))
	(PRESS:PRINT-FROM-STREAM CHART "ZMACS Wallchart"
					':HEADER-FONT "TimesRoman12B")))

    If you explicitly tell PRINT-FROM-STREAM to use a font, the above function works.

    Does FILE-EXTRACT-ATTRIBUTE-LIST expect the stream to be at the
    beginning ?  After the function returns, should the stream be at the
    beginning ?

You're right.  This is caused by the automatic font-handling added to
86.  FS:FILE-EXTRACT-ATTRIBUTE-LIST expects the stream's pointer to be
at the beginning, and puts it back at the beginning when it finishes.
It doesn't lose when a ':FONT or ':FONT-LIST specification is given
explicitly, because PRINT-FROM-STREAM already knows what font you want
and therefore doesn't try to find out what font the file wants.

I didn't realize this would cause anyone problems.  I will try to figure
out how to fix this so that the automatic font stuff will only be done
when it has a chance of winning (i.e., pointer of stream at 0, and
':SET-POINTER operation supported).  Meanwhile, you can evade the bug
by giving explicit font specification, as you discovered.

Date: 22 June 1982 19:47-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
To: BAGLEY at MIT-AI, BUG-LISPM at MIT-AI, CWH at SCRC-TENEX

    Date: Tuesday, 22 June 1982, 17:54-EDT
    From: Carl W. Hoffman <CWH at SCRC-TENEX>
    To: BAGLEY at MIT-AI, BUG-LISPM at MIT-AI

	Date: 21 June 1982 13:38-EDT
	From: Steven C. Bagley <BAGLEY at MIT-AI>
	In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.36,
	ZMail 45.1, microcode 136, Saver 136, on Lisp Machine Twenty:

	type a very long variable names, like

	klasjdfklasjdfkljasdkfljaskdlfjasjajsdhfljkashdfljasdhflajksdhflajsdhfljkashdfljkashdfljhasdlfkjhasdlfjkhalsdjfhasldjkfhlaskjdhfljkasdhfljkasdhfljkhjkasdhflajksdhflakjsdhfljkasdhfjlkashdfjkahsdlfjkhasdjfhasdljkfhlsjakdhfdhfjdhf

	then type CLEAR-INPUT.  The Lispm responds

	>>TRAP: the destination of a BITBLT was too small

    I fixed this bug in the MIT source a while ago.  I guess the file was
    compiled for system 86 just before I made the change.  Somebody should
    patch the functions TV:RH-INSERT-STRING and TV:RH-DELETE-STRING.

Although the functions RH-INSERT-STRING and RH-DELETE-STRING have been
changed in the MIT source, the function TV:RH-COMPUTE-MOTION is not
defined in the MIT rubout handler.  Therefore, patching these two
functions will not work.  If CWH would care to provide source for that
function, I will patch the MIT system.

Date: Tuesday, 22 June 1982, 17:54-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: BAGLEY at MIT-AI, BUG-LISPM at MIT-AI

    Date: 21 June 1982 13:38-EDT
    From: Steven C. Bagley <BAGLEY at MIT-AI>
    In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.36,
    ZMail 45.1, microcode 136, Saver 136, on Lisp Machine Twenty:

    type a very long variable names, like

    klasjdfklasjdfkljasdkfljaskdlfjasjajsdhfljkashdfljasdhflajksdhflajsdhfljkashdfljkashdfljhasdlfkjhasdlfjkhalsdjfhasldjkfhlaskjdhfljkasdhfljkasdhfljkhjkasdhflajksdhflakjsdhfljkasdhfjlkashdfjkahsdlfjkhasdjfhasdljkfhlsjakdhfdhfjdhf

    then type CLEAR-INPUT.  The Lispm responds

    >>TRAP: the destination of a BITBLT was too small

I fixed this bug in the MIT source a while ago.  I guess the file was
compiled for system 86 just before I made the change.  Somebody should
patch the functions TV:RH-INSERT-STRING and TV:RH-DELETE-STRING.

Date: Tuesday, 22 June 1982  15:31-EDT
From: MOON at SCRC-TENEX
To:   Robert P. Krajewski <RPK at MIT-AI>
Cc:   BUG-LISPM at MIT-AI, RpK at MIT-OZ
Subject: While you're at it (FORMAT directives)

Try ~\DATE\, ~\TIME\, and ~\DATIME\  (the latter is the one that
takes no arguments and prints the current time).  You can look on the
property list of FORMAT:DATE, etc., if you want to find the function
that implements them and see if it takes any modifiers.

These aren't "official", but they've existed in the Lisp machine for
a long time.

Date: Tuesday, 22 June 1982, 13:56-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: While you're at it (FORMAT directives)
To: RPK at MIT-AI
Cc: BUG-LISPM at MIT-AI

    Date: 22 June 1982 04:56-EDT
    From: Robert P. Krajewski <RPK at MIT-AI>
    How about a new format directive for printing out times ?
What you propose is more or less ~\DATE\ for the argument case and ~\TIME\ for
the current time case.  This could be improved, but i personally don't see the
need for using up another character.

RICH@MIT-AI 06/22/82 10:49:39 Re: DEFSYSTEM & logical devices
To: (BUG LISPM) at MIT-MC
In System 79.52, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 29.5, microcode 849, Black Magic!, on Lisp Machine Twenty-two:

There is a problem in the interaction between MAKE-SYSTEM
and the use of logical devices.  For example, in the PA
a logical device SYS: is defined for the place to load some
standard utilities (such as KMOUSE).  When the MAKE-SYSTEM
is run, the actual file loaded is FS:LMLIB;KMOUSE.  However,
if I later have another MAKE-SYSTEM in which FS:LMLIB;KMOUSE
is included, it tries to load it again and I get a ream
of redefinition warnings.  It appears the problem is that
MAKE-SYSTEM is remembering the the pathname "SYS:KMOUSE" instead
of the truename "FS:LMLIB;KMOUSE".



Date: 22 June 1982 04:56-EDT
From: Robert P. Krajewski <RPK at MIT-AI>
Subject:  While you're at it (FORMAT directives)
To: BUG-LISPM at MIT-AI
cc: RpK at MIT-OZ

How about a new format directive for printing out times ?  Often I write code
with a nice concise FORMAT statement that has to be broken in two because I
explicitly have to call a function to print out a time.

I don't know what character it should be (should you consider it).  Something
like:

~?	Print out the current time in the form 11/25/80 14:50:02, like
	TIME:PRINT-CURRENT-TIME [Lisp Machine Manual, Fourth ed., p. 495].
	Doesn't gobble any arguments.  With a colon, prints a universal time,
	gobbling on argument.  With an atsign, prints the current date.  With
	both modifiers, prints a date, gobbling the next seven arguments,
	like the function TIME:PRINT-DATE.

This may not exactly be the right thing as stated.

bob

Date: Tuesday, 22 June 1982  01:33-EDT
From: MOON at SCRC-TENEX
To:   Rodney A. Brooks <BROOKS at MIT-AI>
Cc:   BUG-LISPM at MIT-AI, GREGOR at MIT-AI
Subject: Another look at &REST args.

Many &REST arguments are passed to other functions, not just used by
immediate trivially-analyzable code.  The compiler cannot make assumptions
about arbitrary user-written functions, even though the user himself is free
to.  I also thought, evidently mistakenly, that you knew enough about the S-1
NIL compiler to know why such analysis isn't necessarily as simple and
straightforward as you seem to think (even though it is possible).

In retrospect it might have been better to make the default be to cons &REST
arguments, with a declaration saying that the user knows what he is doing
and wants efficiency.  Then again, the evidence is that many users would use
such a declaration improperly anyway.

In any case this is such a small problem that there would be a major
uprising among the users if the compiler were made 5 times slower in order
to "solve" it.  And if I tell you what my own plans are for solving this
problem, I will be accused of using the mail for crass, commercial purposes,
and exploiting your difficulties with &REST arguments for personal financial
gain.

Can we discuss something else please?

Date: 22 June 1982 00:54-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject:  Another look at &REST args.
To: GREGOR at MIT-AI
cc: BROOKS at MIT-AI, BUG-LISPM at MIT-AI

Well, I hate to write any SETQ's in the toplevel of a defun, including
 (SETQ REST-ARG (COPYLIST REST-ARG)),
so I wouldn't mind at all if a keyword &RESTL were supported which
gave a CONSED list rest argument. It should be easy enough for
interpreter and compiler to handle this without much modification.
At the same time this would be compatible with NIL, where we have
by default &REST giving a stack-consed VECTOR. (Gosh, maybe that default
will have to be changed.)

Did you hear the one about how this whole stack-consing problem is
"fixed in the L machine?" No kidding, the explaination I got was
kind of cute too, maybe somebody will talk about it sometime.



Date: 21 June 1982 22:24-EDT
From: Rodney A. Brooks <BROOKS at MIT-AI>
Subject: Another look at &REST args.
To: GREGOR at MIT-AI, ALAN at SCRC-TENEX
cc: BUG-LISPM at MIT-AI

Gregor's two points about what I claim should happen are of course
correct. I differ from both he and Alan about whether a compiler
analysis phase can do anything useful, so that the CONSing of
the &REST argument doesn't get doe too often. If you are willng to
more than opne analysis pass (before and after macro expansion
in particular) I think you can win quite well. The &REST argument
doesn't need to be consed if all references to it can be proved innocent.
Here are some ways to prove innoncence for &REST arg V:

(MAPCAR #'FOO V)

(MAPC #'FOO V) where the value is thrown away.

(LOOP FOR X IN V ...)

(IF (MEMQ KEYWORD V) ...) -- in general as an arg to any primitive
				whose result is used only as a branch
				control.

(*:ANY-SYSTEM-KEYWORD-HACKER args V) that the compiler has been told
					is "safe".

(DO ((W V (CDR W))) ...) where all references to W are either selectors
			(i.e. equivalent to NTH for some n) or predicates
			whose values are used only for branch control.

Admittedly the last one is a little hairier, but quite reasonable with
a well annotated analysis tree. Although these may seem going overboard
I think implementing a version with such losing semantics as currently
exist is far worse.

I forget what the COMMON LISP manual says about this but I'm sure of
what it ought to.

Finally, patching the LISPM manual is not a smart way to solve such a
problem.

Date: 21 June 1982 21:47-EDT
From: Gregor J. Kiczales <GREGOR at MIT-AI>
Subject:  Another look at &REST args.
To: BROOKS at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 21 June 1982 15:19-EDT
    From: Rodney A. Brooks <Brooks at MIT-AI>

    A compiler that has any analysis phase at all should be able
    to do the right thing (yes I know it will *sometimes* have to
    be less efficient; those cases are rare, and a small price for
    a semblance of reasonable semantics).

I guess that what you are asking for is:
  1. Interpreted functions with &REST arguments should have their
     &REST arguments consed "for real".

  2. Compiled functions with &REST arguments should *sometimes*
     have their &REST arguments consed for real, but *usually*
     have them consed on the stack. The compiler would have to
     determine whether or not the &REST args "need" to be consed
     "for real".

It seems to me that such a compiler would almost *always* have to
generate "real conses" in order to be sure not to lose. Specifically:

Any function FOO which take an &REST arg, and which returns any part
of the value returned by any function which it FUNCALL's on that &REST
arg must cons the &rest arg "for real".

(DEFUN FOO (&REST REST-ARG)
   (SUB-FUNCTION REST-ARG))

All of this is not to say that I don't sympathize with your problem.
It seems that since you are the millionth person to get screwed by
this maybe the section in the manual which warns about this problem
should be made clearer, perhaps with examples, and perhaps it should
describe the (SETQ REST-ARG (COPYLIST REST-ARG)) hack fro "fixing" the
problem.

--Gregor--

Date: Monday, 21 June 1982, 15:06-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Being clever about sending mail
To: DLA at MIT-AI
Cc: RICH at MIT-MC, bug-zmail at mit-mc, BUG-LISPM at MIT-MC, BUG-ZWEI at MIT-MC

    Date: Thursday, 17 June 1982, 16:04-EDT
    From: David L. Andre <DLA at MIT-AI>
	Date: 14 June 1982 10:40-EDT
	From: Charles Rich <RICH at MIT-MC>
	...  It would be nice if the mailing
	code were written a little more cleverly, e.g. to try sequence
	through entries on ZWEI:*CHAOS-MAIL-HOSTS* until it finds one
	that is up.
    I thought that's what it did.
That's what it does in the case of chaos mailing rather than COMSAT
request file mailing.  COMSAT request files must go to the login host,
since ZMail cannot generate the headers.  Perhaps now that OZ is here
and AI is still ailing, the default mail mode for MIT should be CHAOS as
well?


Date: Monday, 21 June 1982  17:03-EDT
From: ALAN at SCRC-TENEX
To:   Rodney A. Brooks <Brooks at MIT-AI>
Cc:   BUG-LISPM at MIT-AI
Subject: Mumble!

    Date: Monday, 21 June 1982  15:19-EDT
    From: Rodney A. Brooks <Brooks at MIT-AI>

    I've been informed that the (DEFUN FOO (A &REST B) (CONS A B)) bug I
    complained about in system 86 is a long standing feature. I don't buy it.
    MACLISP has stack consed numbers for ten years without passing pointers to
    them out of the environment.  

Yes, and it only works there because one cannot side-effect numbers, and you
don't care about their EQness.  To make stack consed data work correctly is a
considerably harder problem.  Note please that the number consing in MACLISP
STILL has bugs after ten years.

				  A compiler that has any analysis phase at all
    should be able to do the right thing (yes I know it will *sometimes* have
    to be less efficient; those cases are rare, and a small price for a
    semblance of reasonable semantics). I can only surmise that the LISPM
    interpreter was gratuitously made consistent with the compiler. EOF.

In fact it has nothing to do with the interpreter vs. the compiler, it is an
artifact of how function calling works, gratuity has nothing to do with it.
The only practical thing that could be done to satisfy your (and other
people's) desire for a "reasonable semantics", would be to change the
LispMachine to ALWAYS cons &REST arguments.  I'll take no stand on that issue,
but I would advise you that that is the only reasonable thing you could press
for.

Date: 21 June 1982 15:19-EDT
From: Rodney A. Brooks <Brooks at MIT-AI>
Subject: Mumble!
To: BUG-LISPM at MIT-AI

In System 79.49, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Eighteen:

I've been informed that the (DEFUN FOO (A &REST B) (CONS A B)) bug I complained
about in system 86 is a long standing feature. I don't buy it. MACLISP has
stack consed numbers for ten years without passing pointers to them out
of the environment. A compiler that has any analysis phase at all should
be able to do the right thing (yes I know it will *sometimes* have to be
less efficient; those cases are rare, and a small price for a semblance
of reasonable semantics). I can only surmise that the LISPM interpreter
was gratuitously made consistent with the compiler. EOF.

Date: Monday, 21 June 1982, 15:04-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Rubout handler bugs
To: Steven C. Bagley <BAGLEY at MIT-AI>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 21 Jun 82 13:17-EDT from Steven C. Bagley <BAGLEY at MIT-AI>

    Date: 21 June 1982 13:17-EDT
    From: Steven C. Bagley <BAGLEY at MIT-AI>
    In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.36,
    ZMail 45.1, microcode 136, Saver 136, on Lisp Machine Twenty:

    Type HELP to the lisp listener.  When it types "Type any character to
    continue:", type BREAK.  The mode goes to "Lock", and you have to
    C-ABORT out of it.
This doesn't happen in system 210 because we leave the help message on
the screen where you can look at it while typing.
(Your other bugs have been fixed too...)

Date: 21 June 1982 14:13-EDT
From: Rodney A. Brooks <Brooks at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.36,
ZMail 45.1, microcode 136,  , on Lisp Machine Eighteen:

In system 86 &REST arguments in DEFUNs are *completely* broken.
Try (DEFUN FOO (A &REST B) (CONS A B)) and feed FOO some arguments
to see total randomness.

Blagh. I wish poeple would test chenges before setting all the disk labels
on the ninth floor to such losing systems.

Date: 21 June 1982 13:38-EDT
From: Steven C. Bagley <BAGLEY at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.36,
ZMail 45.1, microcode 136, Saver 136, on Lisp Machine Twenty:

type a very long variable names, like

klasjdfklasjdfkljasdkfljaskdlfjasjajsdhfljkashdfljasdhflajksdhflajsdhfljkashdfljkashdfljhasdlfkjhasdlfjkhalsdjfhasldjkfhlaskjdhfljkasdhfljkasdhfljkhjkasdhflajksdhflakjsdhfljkasdhfjlkashdfjkahsdlfjkhasdjfhasdljkfhlsjakdhfdhfjdhf

then type CLEAR-INPUT.  The Lispm responds

>>TRAP: the destination of a BITBLT was too small


(For more grins, then type CLEAR-SCREEN.  You get the long variable name
reprinted at the top of the screen, but as far LISP knows, it isn't
there.  Typing some spaces shoves the chars off the end, then it breaks
in a same way as above, except with a full error message.)

Date: 21 June 1982 13:31-EDT
From: Steven C. Bagley <BAGLEY at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.36,
ZMail 45.1, microcode 136, Saver 136, on Lisp Machine Twenty:

This one is very similar to my last bug message.

Type HELP to a lisp listener, then type M-BREAK.  You get this cute
little message flashing (!!!) in the mouse documentation line, which
says, 
"*** Cannot print error notifications -- window is locked ***".

C-M-Abort gets you out of this nonsense, but the error message keeps
flashing.  (Sort of annoying, like driving along with the turn signal
flashing away, just on the edge of your peripheral vision.)

Date: 21 June 1982 13:17-EDT
From: Steven C. Bagley <BAGLEY at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.36,
ZMail 45.1, microcode 136, Saver 136, on Lisp Machine Twenty:

Type HELP to the lisp listener.  When it types "Type any character to
continue:", type BREAK.  The mode goes to "Lock", and you have to
C-ABORT out of it.

Date: Monday, 21 June 1982, 12:33-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Agre at MIT-AI, BUG-LISPM at MIT-AI

Thanks for your list of non-parsing time formats.  I've put a comment in
the source noting that these cases should be handled some day.
Unfortunately, they mostly aren't easy to do; the parser does not have a
high enough level of consciousness to win with host of these.  Someday the
whole parser should be done in a more sophisticated way and then we will
use these cases to help design the formal grammer of times-of-day.

Date: Monday, 21 June 1982, 12:19-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Time routines for LISP Machine
To: Guy.Steele at CMU-10A, bug-lispm at MIT-AI
Cc: klh at SRI-NIC

(1) With all those little additions and subtractions of one in the code,
it is really hard to tell what it is doing.  However, the Lisp Machine's
definition of universal time is the same as that of the Arpanet TIME
protocol standard; the clocks get set by things that compute time the
same way that those servers do.  So I am pretty confident that it works
"right" and has a little 1+ or something to take care of 1900.  However,
it doesn't know about 2100.  (The algorithm was indeed originally copied
from some MIDAS code of KLH's and I'm not sure I've ever fully grokked
it.)

(2) No, ENCODE-UNIVERSAL-TIME doesn't check for the non-existant hour.
Probably this would be easy to put in if anybody cared.  The check
would belong in DAYLIGHT-SAVINGS-TIME-P, I think.

Date: 21 June 1982 09:01-EDT
From: Gregor J. Kiczales <GREGOR at MIT-AI>
Subject: [Mailer at SCRC-TENEX: Message of 9-Jun-82 09:48:42]
To: JWALKER at SCRC-TENEX
cc: ZVONA at MIT-AI, BUG-LISPM at MIT-AI


    I am working on a scheme to put the documentation on-line
    instead of on paper.

Talke to Dave Chapman (ZVONA@AI) who has already done this and may be
able to offer some advice.

Also I reiterate that what is needed is documentation on-line
in ADDITION to on paper.

Date: 21 June 1982 07:16-EDT
From: Kent M. Pitman <kmp at MIT-AI>
Subject: tolerating dead sites
To: BUG-LISPM at MIT-AI

In System 79.52,...

If the host I logged into dies, there should be some way I can `log into' 
another site without having to use LOGIN. Since I have already managed to
run my login init correctly and I do not want to undo my login init and load
a new one (indeed, my init for the other site may be different or non-existent),
I want something which just updates the file server or whatever so that,
for example, I don't have to keep manually recovering from the error handler 
every time I send a piece of mail and find it can't connect to the dead host
to write the mail request file.

Date: Monday, 21 June 1982, 00:30-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: suggestion for system and terminal keys
To: Steven C. Bagley <BAGLEY at MIT-OZ>
Cc: bug-lispm at MIT-AI
In-reply-to: The message of 16 Jun 82 11:25-EDT from Steven C. Bagley <BAGLEY at MIT-OZ>


    Date: 16 June 1982  11:25-EDT (Wednesday)
    From: Steven C. Bagley <BAGLEY at MIT-OZ>
    Since these keys start a special mode (next few characters gobbled for
    command), why not have them toggle out of the mode.

    So SYSTEM-SYSTEM would leave you back where you started.  Same with
    TERMINAL-TERMINAL.  (Yes, I know about SYSTEM-rubout, etc.)
So every time the key bounces it does something unexpected?  Terminal-Terminal-Q
quits out of programs, etc?  This violates several basic user-interface prinicals.
Introducing a non-obvious toggling mode can only add to confusion, not
reduce it.

Date: Sunday, 20 June 1982  19:06-EDT
From: ALAN at SCRC-TENEX
Subject:bignum fix
To:   BUG-LISPM at MIT-AI

    Date: Saturday, 19 June 1982, 17:58-EDT
    From: Alan Bawden <Alan>

    (boole 2 1111111111 -1111111111)

    generates 377777777776666666666

The fix is to change the instruction at BBOOLE + 2 from ((M-C) SETZ M-C A-D) to
((M-C) SETZ M-D A-C).  Everybody gets to update their respective copies of the
microcode!

Date: 20 June 1982 16:13-EDT
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.26, ZMail 45.0,
Experimental Remote-File 11.0, Experimental Local-File 38.0,
microcode 123, FS, on Lisp Machine Twenty-three:

OZ keeps asking me for my password every so often when I write files to it.
It should at least remember the password from the first time I told it.
Actually, I'd just as soon have a way of keeping the password in my 
Lispm init file so it wouldn't have to ask me at all.

Date: 20 June 1982 15:22-EDT
From: David Chapman <ZVONA at MIT-AI>
Subject:  suggestion for system and terminal keys
To: CWH at SCRC-TENEX
cc: BUG-LISPM at MIT-AI, BAGLEY at MIT-OZ

    On the other hand, I just noticed that <Terminal> <System> is a no-op,
    and <System> <Terminal> beeps.
More generally there is an annoying asymmetry between <system> and <terminal>, namely 
that <terminal> <control-lambda> (eg) is a no-op and <system> <control-lambda> feeps.

Date: Sunday, 20 June 1982, 13:46-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
Subject: suggestion for system and terminal keys
To: BAGLEY at MIT-OZ, bug-lispm at MIT-AI

    Date: 16 June 1982  11:25-EDT (Wednesday)
    From: Steven C. Bagley <BAGLEY at MIT-OZ>
    Since these keys start a special mode (next few characters gobbled for
    command), why not have them toggle out of the mode.

    So SYSTEM-SYSTEM would leave you back where you started.  Same with
    TERMINAL-TERMINAL.  (Yes, I know about SYSTEM-rubout, etc.)

I think the reason things are as they are now is that it should be
possible to type a <Terminal> or <System> command regardless of what
state the machine is in.  With your scheme, if you pressed <Terminal>,
and then I walked up and typed <Terminal> F, an F would get inserted
into your editor buffer.

On the other hand, I just noticed that <Terminal> <System> is a no-op,
and <System> <Terminal> beeps.

Date: Sunday, 20 June 1982, 13:40-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
Subject: requesting ITS uname
To: BAGLEY at MIT-OZ
Cc: BUG-LISPM at MIT-AI, BUG-OZ at MIT-AI

    Date: 18 June 1982 04:02-EDT
    From: David A. Moon <MOON at MIT-MC>
	Date: 17 June 1982 00:58-EDT
	From: Mark J. Dulcey <DULCEY at MIT-AI>
	    Date: 16 June 1982  11:28-EDT (Wednesday)
	    From: Steven C. Bagley <BAGLEY at MIT-OZ>
	    I also object to the Lispm asking for the ITS uname when I log in.
	    Why is this done?

	2.  The ITS uname is requested so FINGER will know who you are.  Perhaps
	    someone will fix this so it's not necessary someday.

    The real reason the ITS uname is requested when you access an ITS after
    logging in to OZ is that your ITS uname and your user name on OZ might
    not be the same (for OZ no doubt they are, but for a randomly chosen
    tops-20 they might well not be the same.)  All FILE servers require
    a user name so that file authors get set correctly, for example.

Put (FS:FILE-HOST-USER-ID "BAGLEY" (SI:PARSE-HOST "MIT-AI")) in your
Lispm init file.

Date: 20 June 1982 13:38-EDT
From: Henry Lieberman <Henry at MIT-AI>
Subject: More on Zmail bug in 86
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.26, ZMail 45.0,
Experimental Remote-File 11.0, Experimental Local-File 38.0,
microcode 123, FS, on Lisp Machine Twenty-three:

It did it again, failed to display windows on startup. I did 
C-M-Break, and backtrace showed:

PROCESS-WAIT _ TV:KBD-IO-BUFFER-GET _ (METHOD TV:STREAM-MIXIN ANY-TYI)

[which might not be much help]. I started Zmail from the editor, by typing ahead
(ZMAIL) to my editor top level. System load on AI was light at the time.

Date: 20 June 1982 03:08-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: INFO-LISPM at MIT-AI

I recently learned something helps to explain why ALAN so strongly
condemns the use of BUG-LISPM-MIT, which does not go to Symbolics:

He is on their payroll.

I supply this background information in the hope that it may help
illuminate recent (and future) events.

Date: Sunday, 20 June 1982, 01:58-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: password related bug in VAX FTP to MC
To: John G. Aspinall <JGA at MIT-MC>
Cc: BUG-FTP at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: The message of 16 Jun 82 11:28-EDT from John G. Aspinall <JGA at MIT-MC>


    Date: 16 June 1982 11:28-EDT
    From: John G. Aspinall <JGA at MIT-MC>
    Some of this may be MC's FTP server - some may be the VAX FTP,
    so I am sending this in all directions at once.

    Running FTP on PFC-VAX to MC I find the following:

    If I give my password when ftp asks for it, I get logged into mc as
    "JGA", rather than "JGA".  Even though my password is not required, I
    don't think I should be penalized for typing it anyway.

This has nothing to do with the program called FTP on MC.  It doesn't have
a hell of a lot to do with the program called FTP on the VAX, either, for
that matter.

The bug is in the ITS FILE server, which does gonzo things when given a
password.  (Again, this is not the same program as the FTP server.  The
FTP program on the Vax is just called that to confuse you.  This is the
server that allows LISPMs to access files.  FTP on the VAX talks to this,
not to the ARPAnet FTP server).

    If I give a null password, I get logged into MC correctly as "JGA",
    but it doesn't seem to do me any good.  When asked to specify the
    remote filename, if I don't explicitly type my directory, I get an
    error saying that F is a non-existent directory.

    John.
That's right, it doesn't set the default directory.  It doesn't need to,
as far as the LISPM is concerned.  But for the sake of all the other
programs that talk to it, it would be nice if it did.


Date: Sunday, 20 June 1982, 01:35-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: Alias for WGD <BIL at MIT-MC>, dla at SCRC-TENEX
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 20 Jun 82 00:33-EDT from Alias for WGD <BIL at MIT-MC>

    Date: Sunday, 20 June 1982, 00:33-EDT
    From: Alias for WGD <BIL at MIT-MC>
    To: BUG-LISPM at EE

    In System 210.93, ZMail 45.3, LMFS 27.15, microcode 896,
    site configuration 8, Mathlab, on Lisp Machine Sixteen:

    Patch 210.93 is incorrect in that it does not preserve eq'ness of
    the symbols it is copying. It must do an appropropriate intern.
						
The input symbols are uninterned or there is a very serious bug (an
interned symbol in a temporary area).  But indeed, it needs to do
something like put a property on each symbol it copies so that it
only copies it once.  It's specially defined to be all right to not
preserve EQness of numbers, strings, and conses when they are copied
(i.e. when they appear as constants in compiled code.)  It's probably
also bogus to not preserve EQness of arrays.

Date: Sunday, 20 June 1982, 01:34-EDT
From: Alias for WGD <BIL at MIT-MC>
To: dla at scrc
Cc: bug-lispm at ee

Date: Sunday, 20 June 1982, 01:03-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: BIL at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 20 Jun 82 00:33-EDT from Alias for WGD <BIL at MIT-MC>

    Date: Sunday, 20 June 1982, 00:33-EDT
    From: Alias for WGD <BIL at MIT-MC>
    Patch 210.93 is incorrect in that it does not preserve eq'ness of
    the symbols it is copying. It must do an appropropriate intern.

At this point, let me tell you that you're forever going to get screwed
by the compiler's temporary area.  The right solution to all your woes
is to wrap the body of your GENTEMP function with
(LET ((DEFAULT-CONS-AREA WORKING-STORAGE-AREA)) ...).
Basically, the compiler's crufty area stuff is going to screw anybody
who does anything complicated like this at macroexpansion time.  

It would probably be best to just make COPY-IF-NECESSARY return 'GENSYM
again for this case, so that anyone screwed in the future doesn't have
to debug lookalike symbols' EQness.
---------
I have already fixed GENTEMP as suggested. However, it took me a while
to track down and I don't think you should just ignore the bug and let
others suffer the same fate. As systems become more complicated, so will
the compile time environments and the computation which must occur in
the compile time environment. Ignoring this need is taking a step backwards
in time. I realize that the whole compile-time vs run-time separation is
hard, but I am not asking for that. Just preserve the identity of my symbols:
don't merge any that weren't eq and don't create multiple copies of one.

Date: Sunday, 20 June 1982, 01:24-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: COPY-IF-NECESSARY
To: David L. Andre <DLA at SCRC-TENEX>
Cc: BIL at MIT-MC, BUG-LISPM at MIT-EECS
In-reply-to: The message of 20 Jun 82 01:03-EDT from David L. Andre <DLA at SCRC-TENEX>

    Date: Sunday, 20 June 1982, 01:03-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
	Date: Sunday, 20 June 1982, 00:33-EDT
	From: Alias for WGD <BIL at MIT-MC>
	Patch 210.93 is incorrect in that it does not preserve eq'ness of
	the symbols it is copying. It must do an appropropriate intern.

    At this point, let me tell you that you're forever going to get screwed
    by the compiler's temporary area.  The right solution to all your woes
    is to wrap the body of your GENTEMP function with
    (LET ((DEFAULT-CONS-AREA WORKING-STORAGE-AREA)) ...).
    Basically, the compiler's crufty area stuff is going to screw anybody
    who does anything complicated like this at macroexpansion time.  

    It would probably be best to just make COPY-IF-NECESSARY return 'GENSYM
    again for this case, so that anyone screwed in the future doesn't have
    to debug lookalike symbols' EQness.
Alternatively, this could be fixed correctly.  How about putting a COPIED-SYMBOL
property on the temporary symbol with the permanent copy, and checking for
that property before copying?

A hash table would allow preserving EQness of other datatypes, but it's not
clear it's worth the bother.

Date: Sunday, 20 June 1982, 01:03-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: BIL at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 20 Jun 82 00:33-EDT from Alias for WGD <BIL at MIT-MC>

    Date: Sunday, 20 June 1982, 00:33-EDT
    From: Alias for WGD <BIL at MIT-MC>
    Patch 210.93 is incorrect in that it does not preserve eq'ness of
    the symbols it is copying. It must do an appropropriate intern.

At this point, let me tell you that you're forever going to get screwed
by the compiler's temporary area.  The right solution to all your woes
is to wrap the body of your GENTEMP function with
(LET ((DEFAULT-CONS-AREA WORKING-STORAGE-AREA)) ...).
Basically, the compiler's crufty area stuff is going to screw anybody
who does anything complicated like this at macroexpansion time.  

It would probably be best to just make COPY-IF-NECESSARY return 'GENSYM
again for this case, so that anyone screwed in the future doesn't have
to debug lookalike symbols' EQness.

Date: Sunday, 20 June 1982, 00:33-EDT
From: Alias for WGD <BIL at MIT-MC>
To: BUG-LISPM at EE

In System 210.93, ZMail 45.3, LMFS 27.15, microcode 896,
site configuration 8, Mathlab, on Lisp Machine Sixteen:

Patch 210.93 is incorrect in that it does not preserve eq'ness of
the symbols it is copying. It must do an appropropriate intern.
						

Date: Sunday, 20 June 1982, 00:20-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: (setq foo) ==> NIL
To: Daniel at MIT-AI
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 15 Jun 82 00:23-EDT from Daniel Weise <Daniel at MIT-AI>

Yes, this has bothered me too.  I fixed the source for 211.

Date: 19 June 1982 22:08-EDT
From: Robert P. Krajewski <RPK at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.37, ZMail 45.1,
Experimental Remote-File 11.0, Experimental Local-File 38.1,
microcode 123, FS, on Lisp Machine Seven:

[1] (This bug is, most likely, 86-specific.)  If you use
PRESS:PRINT-FROM-STREAM on a stream whose attributes list cannot be
found with :READ-INPUT-BUFFER or :SYNTAX-PLIST operations, and the
stream does not have a :SET-POINTER operations,
FS:EXTRACT-FILE-ATTRIBUTE-LIST dies.  This happened when I used

(DEFUN PRINT-ZMACS-WALLCHART-ON-DOVER ()
  ; It would be nice to have pipes, wouldn't it ?
  (WITH-INPUT-FROM-STRING
    (CHART (WITH-OUTPUT-TO-STRING (FAKE-STREAM)
	     (GENERATE-ZMACS-WALLCHART FAKE-STREAM)))
    (PRESS:PRINT-FROM-STREAM CHART "ZMACS Wallchart"
				    ':HEADER-FONT "TimesRoman12B")))

If you explicitly tell PRINT-FROM-STREAM to use a font, the above function works.

Does FILE-EXTRACT-ATTRIBUTE-LIST expect the stream to be at the
beginning ?  After the function returns, should the stream be at the
beginning ?

[2] It would be nice if string I/O were streams that were made out of
flavors instead of functions and special variables.  Then, you could
nest string I/O that was going in the same direction, instead of the
restriction on WITH-INPUT-FROM/OUTPUT-TO-STRING which exists now.

[3] Notice:

(defun a (x) (1+ x))

(defun b (x) (+ 1 x))

(defun c (x) (+ x 1))

a
16 MOVE D-PDL ARG|0           ;X
17 (MISC) 1+ D-RETURN

b
16 MOVE D-PDL '1
17 + ARG|0                    ;X
20 MOVE D-RETURN PDL-POP

c
16 MOVE D-PDL ARG|0           ;X
17 (MISC) 1+ D-RETURN

bob

Date: Saturday, 19 June 1982, 17:58-EDT
From: Alan Bawden <Alan at SCRC-TENEX>
To: BUG-LISPM at MIT-AI

In System 210.93, ZMail 45.3, LMFS 27.15, Tape 10.6, Canon 14.2,
microcode 896, site configuration 15, on Dachshund:

Another bignum microcode bug:

(boole 2 1111111111 -1111111111)

generates 377777777776666666666

Date: Saturday, 19 June 1982, 15:08-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Proposed new FORMAT operator: ~U("units")
To: Guy.Steele at CMU-10A
Cc: bug-lisp at MIT-AI, bug-lispm at MIT-AI, common-lisp at SU-AI
In-reply-to: The message of 11 Jun 82 22:33-EDT from Quux

Tilde yourself!  I think this is a little too specialized to go into FORMAT.

Date: Saturday, 19 June 1982, 14:42-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-AI
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 10 Jun 82 11:46-EDT from David Chapman <Zvona at MIT-AI>

    Date: 10 June 1982 11:46-EDT
    From: David Chapman <Zvona at MIT-AI>
    m-. can't find INTERN.  
I made DEFINITION-TEXT-LOCATION recognize this case.

Date: 19 June 1982 14:34-EDT
From: Daniel Weise <Daniel at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.37,
ZMail 45.1, microcode 136, Saver 136, on Lisp Machine One:

Patch 86.37 is not file defaulting correctly.  An attempt to
load patches after loading a file from EE resulted in

File Not Found  EE:PS:<DANIEL>LISPM2.STRUCT

Telling it to use ai:lispm2;struct  won.

Daniel

Date: 19 June 1982 04:30-EDT
From: Glenn S. Burke <GSB at MIT-ML>
Subject: Proposal for handling site/software/hardware differences.
To: MOON at SCRC-TENEX
cc: DLA at SCRC-TENEX, BUG-LISPM at MIT-AI

What about allowing it with #+ and #- but only within a specific
context switch, as in #+(site foo).  This is what i put into LSB
when i decided to at least provide for the case of error checking
in #+ conditionalization, and also to allow me to more easily
compensate for maclisp's spastic initialization of (status site).
This is, indeed, used primarily for init files, although sometimes
it could be considered "site configuration" in that it often controls
absolute pathnames in system-definition files.  e.g., the keywords
(supposed to be -- the dump is broken) accepted on ML are MIT and ML.

An additional benefit of doing it this way is that there need only
be one special form for dealing with the same type of conditionalization
at run time;  it's always been sort of gross that the runtime equivalent
of #+FOO is a call to an "obsolete maclisp-compatibility function".


Date: Saturday, 19 June 1982, 03:12-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
To: Agre at MIT-AI
Cc: BUG-LISPM at MIT-AI

    From: Agre@MIT-AI
    Date: 06/11/82 08:31:52
				  Seriously, though, there might be lots of things
    that the rubout handler could detect, like too many/not enough arguments in
    the typed expression or maybe references to unbound variables in typed
    argument lists when the appropriate lambda-list has the appropriate
    properties.  Whether this degree of generalization is desirable is another
    question.  I don't want to encourage creeping DWIMism.

Actually, the rubout handler doesn't detect any of this.  Comma outside of
backquote is detected by the function READ.  Similarly, if you type "(A+B+)"
to Lisp Machine Macsyma, you get a message about close paren after a plus
sign, which you can then rub out.  This is caught by the Macsyma equivalent of
READ.  The rubout handler simply knows how to deal with read-time errors.

What you are asking for is parallel READ-EVAL.  That would be a very complex
program, as it would have to do everything READ and EVAL do.

Date: Friday, 18 June 1982  21:36-EDT
From: MOON at SCRC-TENEX
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-AI
Subject: Proposal for handling site/software/hardware differences.

It actually is reasonable to do conditionalization on site name in
users' login init files, even though it isn't reasonable any place else.
However, I do buy your argument that it is better not to support #+<site>
since people will accidentally use it when they meant #+<brand> and
lose at some later time.  Run-time conditionalization is just as
acceptable as read-time conditionalization (if not more so) for login init
files.

Date: Friday, 18 June 1982, 21:04-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Microwave's up!
To: BUG-LISPM-MIT at MIT-AI
Cc: DLA at SCRC-TENEX

I've updated all the patches on EE.  The current state is
 System     210.92
 ZMail       45.3
 LMFS        27.15
 Tape        10.6
 Canon       14.2

Date: Friday, 18 June 1982, 15:44-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Proposal for handling site/software/hardware differences.
To: BUG-LISPM at MIT-AI

After some discussion at Symbolics, I would like to propose a standard
method for conditionalizing code to run in different environments.  This
involves some incompatible changes to current LISPM software at every
site, which is why I am proposing it here now.  If it is agreeable to
everyone, I will make the changes at MIT and Symbolics myself.

The specific proposals are:

1.  The site name is no longer kept on STATUS-FEATURE-LIST, so 
(STATUS FEATURE :HEWLETT-PACKARD), and #+HEWLETT-PACKARD won't work
anymore.  Any conditionalizations on the site should be driven off of
SITE-NAME, which will be globalized.  The site names of symbolics will
become :SCRC, :SHQ, and :SCH.  The names :SYM and :EE will be flushed.

2.  There will be a new symbol on STATUS-FEATURE-LIST which describes
the software which is running.  The current values would be either :MIT,
:SYMBOLICS, or :LMI, and they would be set up when the system is built.

3.  Still another entry on STATUS-FEATURE-LIST will describe the
hardware.  This will be either CADR, 3600, or LAMBDA (I think)
currently.  LISPM will continue to be on each list, since the separate
machines have a lot in common.  If MIT doesn't yet support numbers on
STATUS-FEATURE-LIST, it will be fixed.


The consequenses are:

1.  It will no longer be necessary to call :EE a separate site to
differentiate it from :MIT, because the differentiating bit of
information will correctly live elsewhere.

2.  There is no longer the screw about having a random site trying to
compile something with a #+<site> which should really be #+<brand>.

3.  It will no longer be possible to do read-time conditionalization on
site names; that will have to be done at run time with SITE-NAME.


Note that (STATUS SITE) returns the name of the lisp machine, as a
leftover from maclisp, and hence is useless for anything.

Date: Friday, 18 June 1982, 15:51-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: bil at MIT-MC
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 18 Jun 82 06:48-EDT from Alias for WGD <bil at MIT-MC>

    Date: Friday, 18 June 1982, 06:48-EDT
    From: Alias for WGD <bil at MIT-MC>
    In System 210.80, ZMail 45.2, LMFS 27.4, microcode 896,
    site configuration 6, Mathlab, on Lisp Machine Sixteen:

    Create a file with no header, e.g. consisting of the single line:
    (defun foo () () )
    Now QC-FILE-LOAD this and you'll get "package NIL not found, create?" upon
    loading the QFASL file. If you add a header with " ... package:user ..." 
    it wins.
This was fixed in 210.81

Date: Friday, 18 June 1982, 15:42-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Hardcopy problems at MIT. [Dequeued mail remailed]
To: rz at MIT-MC, bug-lispm at MIT-EECS

    Date: Saturday, 5 June 1982, 21:45-EDT
    From: Richard Zippel <rz at MIT-MC>

    In Canon in System 210.61, ZMail 45.2, LMFS 27.4, microcode 896,
    site configuration 7, Mathlab, on Lisp Machine Fifteen:

    When using the Hardcopy option of the edit file menu in FSEdit,
    PRESS:HARDCOPY-VIA-MENUS blows out because it tries to funcall the value
    of FCN, which is NIL.

    Also, the sources and patch directory for the Canon system are missing
    from EE.

I assume you're not really using a canon.

I fixed that and a few other bugs in PRESS:HARDCOPY-VIA-MENUS in the
source, added hardcopy support for the dover, and installed the dover
support in 210.83.  I'll get patches and the canon sources to EE as
soon as the microwave and I are both up.

I'll also install a BUG-CANON@EE.

How many bugs can you stuff into one bug report?

Date: 18 June 1982 14:09-EDT
From: David L. Andre <DLA at MIT-AI>
Sender: LMFILE at MIT-AI
To: BUG-LISPM at MIT-AI
cc: INFO-LMFS at MIT-AI

FS ran out of space today, so I deleted a lot of obvious garbage.  There
are now about 16000 free pages, but there is a lot of garbage left which
I didn't bother with.  People should clean up old files.

The filecomputer halted twice while I was using it, with the run bar on.
I don't know whether this is a hardware or software bug.

HQM@MIT-MC 06/18/82 11:35:53
To: (BUG LISPM) at MIT-AI
In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.29,
ZMail 45.1, microcode 123,  , on Lisp Machine Eighteen:

While in a BREAK in ZWEI,
I did a (tv:set-default-font fonts:cptfontb)
and the machine died.

Date: Friday, 18 June 1982, 10:47-EDT
From: Philip E. Agre <Agre at MIT-AI>
To: BUG-LISPM at EE

In System 210.80, ZMail 45.2, Remote-File 103.0, microcode 895,
site configuration 8, on Lisp Machine Two:

I'm still getting screwed to the wall by pdl blowouts (even after
(load-patches)), and I'm hoping you-all might have some suggestions.  My
program recurses several hundred deep and blows out the pdl about
fifteen times before converging.  There are two problems.  First, there
doesn't seem to be any way to tell the pdl how much to grow (at the
moment it only grows a pdl-ing amount, thus virtually guaranteeing that
it will blow out again quite soon).  (Systems 85+ have a variable
EH:PDL-GROW-RATIO, which seems almost debugged as of System 86.) Second,
when the special pdl blows out arguments have a tendency to turn
magically into fixnums.  I can demonstrate this if you like.  Backing
down the pdl a few levels and C-M-R'ing a pdl frame works, but it's a
pain and it's not always easy to tell that you've backed far enough down
the pdl.  (It is claimed that this is fixed in Systems 86.xy+ for some
xy, but I've not yet checked.)  I understand that I probably deserve
what I get for using such an obscure feature as recursion, but existing
patches for these bugs would seem to make 86 preferable to 210 at this
point.

Date: 18 June 1982 09:58-EDT
From: Henry Minsky <HQM at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.29,
ZMail 45.1, microcode 123,  , on Lisp Machine Eighteen:

I just wanted to say that while doing an implementation of Henry Lieberman's
closed curve filling algorithm, I got a 15-fold increase in speed by
bypassing the window system's :draw-point and :point methods.


Date: 18 June 1982 08:17-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: ZVAL library
To: INFO-LISPM at MIT-AI

I recently made a few changes to the ZVAL library.  For a
description of these and future changes, you can look at the top
of the source file.  If people want, I could make up a mailing
list of users, though I doubt there are many, and send out brief
announcements.  Probably best to avoid mailing them (after this)
to INFO-LISPM.

Date: Friday, 18 June 1982, 08:37-EDT
From: Alias for WGD <BIL at MIT-MC>
Subject: gensym lossage
To: BUG-LISPM at EE

In System 210.80, ZMail 45.2, LMFS 27.4, microcode 896,
site configuration 6, Mathlab, on Lisp Machine Sixteen:

I have a function GENTEMP wich defines named gensyms ala RWK's NIL definition.
I also have a form like:

(eval-when (compile eval load)
   ...
   (defconst <var> <some lambda with gentemps>))

It seems that SYS:COPY-IF-NECESSARY is returning only one symbol
(which prints as "GENSYM") for the many different gentemp'ed vars
it gets called on. My gentemp is just a straightforward MAKE-SYMBOL 
application. I am using the patch which fixed the EVAL-WHEN lossage
at compile time (which CWH gave my by phone), so it may have some
relationship to this.

Date: Friday, 18 June 1982, 07:01-EDT
From: Alias for WGD <bil at MIT-MC>
Subject: addendum to my previous report	
To: BUG-LISPM at EE

In System 210.80, ZMail 45.2, LMFS 27.4, microcode 896,
site configuration 6, Mathlab, on Lisp Machine Sixteen:

The package seems to get nullified only if you QC-FILE-LOAD a remote
file that wasn't somehow correctly interpreted by the system previously,
e.g. if you load the file into an editor, then QC-FILE-LOAD it you win.
Thus to reproduce it you probably need to create the file non-locally, ie.
not from ZWEI.

Date: Friday, 18 June 1982, 06:48-EDT
From: Alias for WGD <bil at MIT-MC>
To: BUG-LISPM at EE

In System 210.80, ZMail 45.2, LMFS 27.4, microcode 896,
site configuration 6, Mathlab, on Lisp Machine Sixteen:

Create a file with no header, e.g. consisting of the single line:
(defun foo () () )
Now QC-FILE-LOAD this and you'll get "package NIL not found, create?" upon
loading the QFASL file. If you add a header with " ... package:user ..." 
it wins.

Date: 18 June 1982 04:02-EDT
From: David A. Moon <MOON at MIT-MC>
Subject: requesting ITS uname
To: DULCEY at MIT-AI
cc: BAGLEY at MIT-OZ, BUG-LISPM at MIT-AI, BUG-OZ at MIT-AI

    Date: 17 June 1982 00:58-EDT
    From: Mark J. Dulcey <DULCEY at MIT-AI>
    Subject: lifetime of file jobs
    To: BUG-LISPM at MIT-AI, BUG-OZ at MIT-AI, BAGLEY at MIT-OZ

	Date: 16 June 1982  11:28-EDT (Wednesday)
	From: Steven C. Bagley <BAGLEY at MIT-OZ>
	To:   bug-lispm at ai, bug-oz at ai
	Subject: lifetime of file jobs

	I also object to the Lispm asking for the ITS uname when I log in.
	Why is this done?

    2.  The ITS uname is requested so FINGER will know who you are.  Perhaps
	someone will fix this so it's not necessary someday.

The real reason the ITS uname is requested when you access an ITS after
logging in to OZ is that your ITS uname and your user name on OZ might
not be the same (for OZ no doubt they are, but for a randomly chosen
tops-20 they might well not be the same.)  All FILE servers require
a user name so that file authors get set correctly, for example.

Date: Thursday, 17 June 1982, 16:04-EDT
From: David L. Andre <DLA at MIT-AI>
Subject: Being clever about sending mail
To: RICH at MIT-MC
Cc: BUG-LISPM at MIT-MC, BUG-ZWEI at MIT-MC

    Date: 14 June 1982 10:40-EDT
    From: Charles Rich <RICH at MIT-MC>

    In System 79.52, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    Obsolete Tester 23.7, Reasoning Utility Package 1.0,
    Experimental Plan Calculus 2.4, microcode 849, 79.49 PC 2.4, on Lisp Machine Twenty-two:

    ...  It would be nice if the mailing
    code were written a little more cleverly, e.g. to try sequence
    through entries on ZWEI:*CHAOS-MAIL-HOSTS* until it finds one
    that is up.
I thought that's what it did.


Date: 17 June 1982 21:26-EDT
From: Henry Lieberman <Henry at MIT-AI>
Subject: Zmail in 86
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.35,
ZMail 45.1, microcode 136, Saver 136, on Lisp Machine One:

Still having lots of trouble with Zmail in 86. It comes up with both
windows blank. Clear-Screen key makes the summary window appear, 
but the message window still remains blank. Sometimes I can convince
it to appear by doing System keys out and back. Also, sometimes it
tells me "New mail in ..." but if I do "Get new mail" it complains
"Host not responding" even though AI is apparently up.

Date: 17 June 1982 20:23-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: RFONTW (PRESS:LOAD-FONT-WIDTHS, etc.)
To: BUG-LISPM at MIT-AI

I corrected a bug in the file AI: LMIO1; RFONTW > (in the function
PRESS:LOAD-FONT-WIDTHS).  This is being installed on MIT Lisp Machines
as patch 86.36.  Users of other systems may wish to propagate the
changes to them.

Date: Thursday, 17 June 1982, 16:26-EDT
From: David L. Andre <DLA at MIT-AI>
To: HQM at MIT-AI
Cc: BUG-LISPM at MIT-AI

    Date: 16 June 1982 21:31-EDT
    From: Henry Minsky <HQM at MIT-AI>

    Also, I am trying to get an ART-32B type indirect array to point to
    the screen-array, so I can do block operations on 32 bits.
You really don't want to use ART-32B arrays, their use is like TYPEP of
one argument; it is almost always wrong.  (Only the low 24 bits are
preserved).   Use ART-16B instead.

Date: Thursday, 17 June 1982, 15:58-EDT
From: David L. Andre <DLA at MIT-AI>
Subject: Tracing select-methods
To: Dulcey at MIT-AI
Cc: BUG-LISPM at MIT-AI

    Date: 14 June 1982 03:06-EDT
    From: Mark J. Dulcey <Dulcey at MIT-AI>
    I can't manage to trace a select-method (such as a stream operation).
    Trace simply rejects all the obvious ways of specifying such a thing
    (such as (trace (:method zwei:interval-io :tyi)) and the like).  I can,
    of course, trace the entire stream with (trace zwei:interval-io), but
    that's not what I really want.

    Is it in fact possible to do what I want?

(trace (:function (:select-method zwei:interval-io :tyi)))

The :select-method function spec is documented in the System 79 release notes.

Date: Thursday, 17 June 1982, 15:50-EDT
From: David L. Andre <DLA at MIT-AI>
To: ZVONA at MIT-AI
Cc: BUG-LISPM at MIT-AI

    Date: 13 June 1982 19:46-EDT
    From: David Chapman <ZVONA at MIT-AI>
    in sys79, etc. If you abort out of the prompt for login id
    and password, thereafter rather than asking you for a password,
    it gives you a not-logged-in message.  This can be overridden
    by calling fs:file-login manually.  Has this been fixed in a
    greater sys version/
Yes, I fixed it in 210 a while back.

Date: 17 June 1982 14:10-EDT
From: Philip E. Agre <Agre at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.50, ZMail 44.3,
Remote-File 8.0, Local-File 37.1, DAEDALUS 45.2, microcode 123, 60.45Hz, on Lisp Machine Two:

I typed "(:" at a zwei-break lisp listener and then went into zmail with
system-m, did some mail-reading stuff, then did Q to get back to the
zwei-break.  A fair part of a second after it returned I got the message
"TRAP: The variable TV:OLD-TYPEAHEAD is unbound."  I did System-M System-E and
it then said ">>>>TRAP 6957. (TRANS-TRAP)" then "The variable TV:OLD-TYPEAHEAD
is unbound" in (:METHOD ZWEI:EDITOR-TYPEOUT-WINDOW TYI) 
TV:ALTERNATE-RUBOUT-HANDLER  (:METHOD TV:STREAM-MIXIN TYI).  It had very much
the feeling of a type-ahead timing error, and I can't reproduce it.

Date: 17 June 1982 10:04-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
To: SHIPMN at MIT-AI, BUG-LISPM at MIT-AI

    Date: 17 June 1982 07:47-EDT
    From: David W. Shipman <shipmn at MIT-AI>
    To: BUG-LISPM at MIT-AI

    In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.30, ZMail 45.1,
    Experimental Remote-File 11.0, Experimental Local-File 38.0,
    FILE-Server 3.0, microcode 123,  , on Lisp Machine Twelve:

    After loading patch 86.30 we are no longer able to do DIRED's on
    Andre's LMFS which we use as a local file system. The error message
    complains that NIL is not a function.

This is fixed in Local File patch 38.1.

Date: 17 June 1982 08:23-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Where to put Quick Print Buffer
To: BUG-LISPM at MIT-AI

My best thought on this so far is to put it on Hyper-Meta-P
(Meta-Shift-P), since Hyper-Control-P is already taken.  Unless I hear
something better soon, that's where it goes.

Date: 17 June 1982 07:47-EDT
From: David W. Shipman <shipmn at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.30, ZMail 45.1,
Experimental Remote-File 11.0, Experimental Local-File 38.0,
FILE-Server 3.0, microcode 123,  , on Lisp Machine Twelve:

After loading patch 86.30 we are no longer able to do DIRED's on
Andre's LMFS which we use as a local file system. The error message
complains that NIL is not a function.

Date: 17 June 1982 00:58-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
Subject: lifetime of file jobs
To: BUG-LISPM at MIT-AI, BUG-OZ at MIT-AI, BAGLEY at MIT-OZ

    Date: 16 June 1982  11:28-EDT (Wednesday)
    From: Steven C. Bagley <BAGLEY at MIT-OZ>
    To:   bug-lispm at ai, bug-oz at ai
    Subject: lifetime of file jobs

    I object to Tops-20 file jobs getting GCed.  I use
    hacks:background-mail-check to check for mail on OZ.  So every so
    often I get this cute, but annoying background stream window popping
    up and asking me for my password.  I consider this an unnecessary
    inconvenience.

    I also object to the Lispm asking for the ITS uname when I log in.
    Why is this done?

Well, a couple of comments on this:

1.  If you use System 86, at least you won't get prompted for the
    password.  The system will supply it automagically.

2.  The ITS uname is requested so FINGER will know who you are.  Perhaps
    someone will fix this so it's not necessary someday.

Date: 16 June 1982 11:52-EDT
From: Philip E. Agre <AGRE at MIT-MC>
Subject: SELECTP -- a useful new utility for pattern-matching   (long)
To: INFO-LISPM at MIT-MC

Living in LMLIB;SELECT is a new macro called SELECTP, which is sort of a
generalization of SELECTQ.  I have found it extremely useful in writing
compilers and that sort of thing.  Here's an example of its use from the file
AGRE;SCDP, where many more examples can be found:

(defun unary-operation (command)
  (selectp command
    ((#?op #?r) (memq op '(push pop)) t)
    ((assign #?r1 #?r2) (symbolp r2) (eq r1 r2))
    ((assign #?r (continuation-pointer #?label)) t t)
    ((assign #?r1 (#?ignore #?r2 #?r3)) t
     (or (and (eq r1 r2) (eq r2 r3))
	 (and (constant-register-p r2) (constant-register-p r3))
	 (and (eq r1 r2) (constant-register-p r3))
	 (and (eq r1 r3) (constant-register-p r2))))
    ((assign #?r1 (#?ignore #?r2)) t (or (eq r1 r2) (constant-register-p r2)))
    ((#?ignore #?x #?y) (and (register-p x) (register-p y))
     (or (eq x y) (constant-register-p x) (constant-register-p y)))
    ((#?ignore #?x) (register-p x) t)
    (otherwise (ferror nil "Unrecognized command format: ~A" command))))

The syntax is 
   (SELECTP <object>
     (<pattern> <condition> <sexp> ... <sexp>)
     (<pattern> <condition> <sexp> ... <sexp>)
     ...
     (<pattern> <condition> <sexp> ... <sexp>)
     (OTHERWISE <sexp> <sexp>))

The value of <object> is matched against the <pattern>s one at a time until a
match succeeds and the accompanying <condition> evaluates to something
non-null, at which point the <sexp>'s associated with the <pattern> and
<condition> are evaluated one at a time and the last value is returned.  The
<pattern>s can be arbitrary s-expressions, with variables signified by
#?variable.  When the pattern is matched against the <object>'s value, the
variables are to bound to their matched values.  Different occurences of the
same variable in a given pattern must match to the same thing, so that

    (SELECTP '(A B C) 
      ((#?X B #?X) T 'LOSE)
      ((#?X B #?Y) T 'WIN)
      (OTHERWISE 'LOSE-BIG))

returns WIN.  The variables mentioned in the <pattern>s need not be bound by
the user; they are bound by the expression resulting from the expansion of the
macro.  (The variable #?IGNORE matches everything and doesn't become bound.
Using #?IGNORE for a variable you don't intend to make any use of avoids
"bound but not used" warnings from the compiler.) There is no actual pattern
matcher involved in the matching process; rather, an s-expression is consed up
by the macro which has the same effect.  For example, the call to SELECTP just
presented expands to:

((LAMBDA (OBJECT &AUX X Y)
     (COND ((AND (LISTP OBJECT) (PROGN (SETQ X (CAR OBJECT)) T)
                 (LISTP (CDR OBJECT)) (EQ (CAR (CDR OBJECT)) 'B)
                 (LISTP (CDR (CDR OBJECT))) (EQUAL X (CAR (CDR (CDR OBJECT))))
                 (NULL (CDR (CDR (CDR OBJECT)))))
            'LOSE) 
           ((AND (LISTP OBJECT) (PROGN (SETQ X (CAR OBJECT)) T)
                 (LISTP (CDR OBJECT)) (EQ (CAR (CDR OBJECT)) 'B)
                 (LISTP (CDR (CDR OBJECT)))
	         (PROGN (SETQ Y (CAR (CDR (CDR OBJECT)))) T)
                 (NULL (CDR (CDR (CDR OBJECT)))))
            'WIN)
           (T 'LOSE-BIG)))
 '(A B C))

(In case your terminal lost, those control characters are greek letters.)

It seems to work in all Lisp Machine systems.  Bugs/suggestions to AGRE@MIT-AI.

Date: 16 June 1982  11:28-EDT (Wednesday)
From: Steven C. Bagley <BAGLEY at MIT-OZ>
To:   bug-lispm at ai, bug-oz at ai
Subject: lifetime of file jobs

I object to Tops-20 file jobs getting GCed.  I use
hacks:background-mail-check to check for mail on OZ.  So every so
often I get this cute, but annoying background stream window popping
up and asking me for my password.  I consider this an unnecessary
inconvenience.

I also object to the Lispm asking for the ITS uname when I log in.
Why is this done?

Date: 16 June 1982  11:25-EDT (Wednesday)
From: Steven C. Bagley <BAGLEY at MIT-OZ>
To:   bug-lispm at ai
Subject: suggestion for system and terminal keys

Since these keys start a special mode (next few characters gobbled for
command), why not have them toggle out of the mode.

So SYSTEM-SYSTEM would leave you back where you started.  Same with
TERMINAL-TERMINAL.  (Yes, I know about SYSTEM-rubout, etc.)

Date: 16 June 1982 21:31-EDT
From: Henry Minsky <HQM at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.33,
ZMail 45.1, microcode 123, Saver, on Lisp Machine One:

I did a (LISTARRAY (SYMEVAL-IN-INSTANCE TERMINAL-IO 'TV:SCREEN-ARRAY))
and I couldnt ABORT out of it. I had to warm boot.

Also, I am trying to get an ART-32B type indirect array to point to
the screen-array, so I can do block operations on 32 bits.
I am using  (SYMEVAL-IN-INSTANCE TERMINAL-IO 'TV:SCREEN-ARRAY)
to get the screen array,
and
(make-array x y ':type 'art-32b ':displaced-to <the screen array>)

but it doesnt seem to be pointing to anything but zeroes.

Date: 16 June 1982 17:39-EDT
From: David Chapman <ZVONA at MIT-AI>
Subject:  new defstruct
To: ALAN at MIT-MC
cc: BUG-LISPM at MIT-AI, REH at MIT-MC

    There is no better patch to the old defstruct than to simply install the new
    one.
Could you personally install the new desfgtruct as a patch to 210 if it has 
not already been done?  Thanks.

Date: 16 June 1982 07:01-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: System 86 announcement
To: INFO-LISPM at MIT-AI

The announcement for system 86 is finished.
System 86 has no known new bugs now,
and several interesting new features,
including tail recursion as a run-time option.

See LMDOC;SYS86 MSG.

Date: 16 June 1982 00:45-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  Free to choose
To: INFO-LISPM at MIT-AI

    Date: 15 June 1982 05:16-EDT
    From: Richard M. Stallman <rms at MIT-AI>

    The people who are not on BUG-LISPM-MIT are likely to be able to help
    you -- but will probably say that they own whatever solution they
    provide for your problem.

    So include them or not?  That's up to you.

I have formed a new mailing list:  BUG-LISPM-EXCEPT-RMS

The person who is not on BUG-LISPM-EXCEPT-RMS is likely to be able to help 
you -- but will probably try to involve you in his own simplistic paranoid
politics of good guys vs. bad guys.

So include him or not?  That's up to you.


Date: 16 June 1982 00:01-EDT
From: John Bradstreet <BRADST at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.45,
ZMail 44.3, microcode 122, color, on Lisp Machine Three:

  CADR-24  (I think. The one in room 901, front half of the room)
 
     is SICK, SICK, SICK !!!!!


    It was acting screwey all evening, resulting in several warm boots, and three 
  cold boots.  By 11:30, even a Cold boot wasn't enough to revive it.



                                                       John Bradstreet  (BRADST)
                                                       6/15/82 23:59:00

Date: 15 June 1982 16:02-EDT
From: David M. Neves <Neves at MIT-MC>
To: BUG-LISPM at MIT-MC, BUG-HARDWARE at MIT-AI

In HARDWARE in Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0,
System 86.35, ZMail 45.1, microcode 123,  , on Lisp Machine Twenty:

The problem with Cadr-20 that Steve reported seems to be a software
problem that goes away when the patches for 86 are loaded.  -dave

Date: 15 June 1982 14:57-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  inspector and arrays
To: dove at MIT-DSPG, Dulcey at MIT-AI
cc: BUG-LISPM at MIT-MC

    Date: 14 Jun 1982 09:15:32-EDT
    From: dove at mit-dspg
    To:   Dulcey at mit-ai
    cc:   bug-lispm-mit at mit-ai
    Re:   inspector and arrays

    The source code of the symbolics inspector works with only 1d arrays.
    I had run into the problem of large arrays before, but this is more serious
    since I had intended to use the inspector to set elements of the arrays to
    test some matrix math routines.  I was instead forced to write code to load
    them from files (or the keyboard).

The "Symbolics inspector"?  I just tried inspecting various sizes and shapes of
arrays in various Lisp Machine systems (79, 85, 86, 210) and I was uable to
make any of them behave differently.  They will all display ALL of any one
dimensional array, and none of any array of a higher rank.  So there is no
"Symbolics inspector".  We are ALL running the same crufty inspector we have
been running for the last 3 years.

PLEASE don't send bug reports to bug-lispm-mit!  Send them to bug-lispm.


Date: 15 June 1982 06:19-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: ZVONA at MIT-AI, BUG-LISPM at MIT-AI

   in sys79, etc. If you abort out of the prompt for login id
   and password, thereafter rather than asking you for a password,
   it gives you a not-logged-in message.  This can be overridden
   by calling fs:file-login manually.  Has this been fixed in a
   greater sys version/

It seems to work properly in 86.

Date: 15 June 1982 05:16-EDT
From: Richard M. Stallman <rms at MIT-AI>
Subject: bug-reports
To: INFO-LISPM at MIT-AI

  Mailing to
  BUG-LISPM-MIT simply excludes a large number of people who are just as likely
  to be able to help you as anyone else.

The people who are not on BUG-LISPM-MIT are likely to be able to help
you -- but will probably say that they own whatever solution they
provide for your problem.

So include them or not?  That's up to you.

Date: 15 June 1982 00:23-EDT
From: Daniel Weise <Daniel at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.44, ZMail 44.3,
Remote-File 8.0, Local-File 37.0, DAEDALUS 45.1, microcode 123, 60.45Hz, on Lisp Machine Two:

(setq foo) 
 ==>
NIL

Ugh!

Date: 14 June 1982 23:41-EDT
From: Carl W. Hoffman <CWH at MIT-MC>
Subject:  [COMSAT: Msg of Monday, 14 June 1982 18:50-EDT]
To: bug-lispm at MIT-EECS

Date: 14 June 1982 19:23-EDT
From: Communications Satellite <COMSAT>
To:   CWH
Re:   Msg of Monday, 14 June 1982 18:50-EDT

FAILED: BUG-LMFS at MIT-EECS; Recipient name apparently rejected.
	Last reply was: {-No such mailbox at this site.}
 Failed message follows:
-------
Date: Monday, 14 June 1982, 18:50-EDT
From: Carl W. Hoffman <CWH at MIT-MC>
To: BUG-LMFS at EE
Cc: CWH at MC

In LMFS in System 210.80, ZMail 45.2, LMFS 27.4, microcode 896,
site configuration 6, Mathlab, on Lisp Machine Sixteen:

1) In the file system editor configuration in FSEdit, type <Break>.
   Then type <Terminal> <ClearScreen>.  The directory information
   gets displayed.  The screen should be cleared instead.

2) In FSEdit, typing <Resume> from a breakpoint should refresh the 
   directory display, as it does in Zmacs.

3) In FSEdit, type <Break>.  Then move the mouse up slowly from the
   bottom of the screen to the menu area at the top.  A box around a
   directory item is left highlighted.  If you move quickly, no box is
   left at all.

4) When I C-X C-F a LMFS pathname and then type Alt, only the
   capitalization of the name portion of the pathname changes to what it
   is in the file system.  The directory portion is unchanged.  The
   pathname as shown in the who line and in the buffer name is
   capitalized as it was typed, but the "Reading" message printed by
   Zmacs shows the capitalization in the file system.  It would be nice
   if the capitalization used in the file system were used all of these
   places:  in the minibuffer string being completed, in the who-line,
   and in the buffer name.

Date: 14 June 1982 21:03-EDT
From: Steven C. Bagley <BAGLEY at MIT-MC>
To: BUG-hardware at MIT-AI, BUG-lispm at MIT-AI
cc: ICE at MIT-MC

In hardware in Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0,
System 86.31, ZMail 45.1, microcode 123,  , on Lisp Machine Twenty:

CADR20 dies, in a fairly regular way.  I log in, then type
 
(whois "BAGLEY@MC")

where whois has been defined in my init file to be:

(defun whois (user-id)				;adapted from Zwei:Com-Zmail-Whois
  (chaos:finger (format nil "~A//W" user-id)))

The machine goes into NETWAIT state (MC is fairly slow at the moment).
Then the run bar goes on and the clock stops.  It responds to warm
booting.  This is repeatable.  It looks like a combination hard/software
problem.

The machine was in this crashed state when I got to it this evening.  I
didn't think to try warm booting.


Date: 14 June 1982 21:03-EDT
From: Steven C. Bagley <BAGLEY at MIT-MC>
To: BUG-hardware at MIT-AI, BUG-lispm at MIT-AI
cc: ICE at MIT-MC

In hardware in Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0,
System 86.31, ZMail 45.1, microcode 123,  , on Lisp Machine Twenty:

CADR20 dies, in a fairly regular way.  I log in, then type
 
(whois "BAGLEY@MC")

where whois has been defined in my init file to be:

(defun whois (user-id)				;adapted from Zwei:Com-Zmail-Whois
  (chaos:finger (format nil "~A//W" user-id)))

The machine goes into NETWAIT state (MC is fairly slow at the moment).
Then the run bar goes on and the clock stops.  It responds to warm
booting.  This is repeatable.  It looks like a combination hard/software
problem.

The machine was in this crashed state when I got to it this evening.  I
didn't think to try warm booting.


Date: 14 Jun 1982 09:15:32-EDT
From: dove at mit-dspg
To: Dulcey@mit-ai
Subject: inspector and arrays
Cc: bug-lispm-mit@mit-ai

The source code of the symbolics inspector works with only 1d arrays.
I had run into the problem of large arrays before, but this is more serious
since I had intended to use the inspector to set elements of the arrays to
test some matrix math routines.  I was instead forced to write code to load
them from files (or the keyboard).

Date: 14 June 1982 10:40-EDT
From: Charles Rich <RICH at MIT-MC>
Subject: Being clever about sending mail
To: BUG-LISPM at MIT-MC
cc: BUG-ZWEI at MIT-MC

In System 79.52, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Obsolete Tester 23.7, Reasoning Utility Package 1.0,
Experimental Plan Calculus 2.4, microcode 849, 79.49 PC 2.4, on Lisp Machine Twenty-two:

If the associated machine for a LISPM goes down (typically AI)
after I have logged in, I have a terrible time getting ZWEI in
the Mail command and also Zmail to use another available host
(e.g. MC) to write out the mail queue file.  I have tried resetting
ZWEI:*MAIL-QUEUE-FILE* and all kinds of other things in sight,
including logging out and logging in again (LOGIN 'RICH 'MC)
and so on and still usually end up losing.  I don't really want
to cold boot the machine, which seems like the only way to get
all the relevant internal state reset.  This happens quite
often and is very frustrating.  It would be nice if the mailing
code were written a little more cleverly, e.g. to try sequence
through entries on ZWEI:*CHAOS-MAIL-HOSTS* until it finds one
that is up.

		-Chuck.


Date: 14 June 1982 08:28-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
To: BUG-LISPM at MIT-AI

Want to see your address space disappear right before your eyes?
Run PEEK and ask for the A subsystem (it displays areas).  It's
especially dramatic if you mouse WORKING-STORAGE-AREA and get its
regions displayed too.

The point is that the A subsystem of PEEK does incredible amounts
of CONSing.  Does it have to do so much?

Date: 14 June 1982 05:20-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: New hardcopy commands in ZMacs
To: BUG-LISPM at MIT-AI

New ZWEI commands for producing hardcopy (as of System 86.34):

M-X Print Buffer	Sends a buffer to the Dover.  Prompts in minibuffer. 
M-X Print All Buffers   Asks if you want each of your buffers printed,
			then prints the ones you asked for. 
Quick Print Buffer	Prints the current buffer.  (This is meant to be
			put on a key, but the obvious ones are taken already.
			Any suggestions will be gratefully accepted.)

Print Buffer works very handily with DIRED buffers, if you want a
printout of a directory listing.

These commands should be used instead of the DOVERB file in LMLIB (which
provided many of the same functions).  The automatic font handling
announced recently works with these commands also.

LMDOC; SYSTEM MSG previously mentioned some bugs connected with these
commands.  They have been fixed; these commands are believed to work
with all types of buffers now.  (The bug was caused by an existing
problem with the SET-POINTER operation in ZWEI:INTERVAL-STREAM; it has
been fixed.)

Date: 14 June 1982 03:13-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  Bug reports
To: INFO-LISPM at MIT-MC

Recently I have noticed several Lisp Machine bug reports were directed to the
mailing list BUG-LISPM-MIT.  There is no reason to ever mail to this list.  It
is an internal redistribution list for distributing BUG-LISPM mail to people
who happen to read their mail at MIT.  (The "-MIT" refers to the location of
the recipients of the mail, NOT the location of the sender.)  Mailing to
BUG-LISPM-MIT simply excludes a large number of people who are just as likely
to be able to help you as anyone else.  All bug reports should be sent to
BUG-LISPM.


Date: 14 June 1982 03:06-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Tracing select-methods
To: BUG-LISPM at MIT-AI

I can't manage to trace a select-method (such as a stream operation).
Trace simply rejects all the obvious ways of specifying such a thing
(such as (trace (:method zwei:interval-io :tyi)) and the like).  I can,
of course, trace the entire stream with (trace zwei:interval-io), but
that's not what I really want.

Is it in fact possible to do what I want?

Date: 14 June 1982 02:52-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: #\Top-
To: BUG-LISPM at MIT-AI, ALAN at MIT-MC

    Date: 13 June 1982 22:11-EDT
    From: Alan Bawden <ALAN at MIT-MC>
    Subject: #\Top-
    To: BUG-lispm at MIT-AI, ECC at MIT-AI

    Would whoever installed this feature explain to me how the software manages to
    determine what the layout of my keyboard is?  (Keeping in mind that someday we
    might have different keyboards?)  What am I supposed to do when reading a
    listing containing "#\Top-K", rush into MIT and look at the keyboard?  Wouldn't
    it be better to have "#\Left-Arrow"?

Better still would be to have both!  Some software might really be
positionally based (such as customization of ZMacs keys, which is, I
believe, what motivated the whole thing in the first place), while other
stuff might be character based (like a text formatter).

Date: 13 June 1982 22:11-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject: #\Top-
To: BUG-lispm at MIT-AI, ECC at MIT-AI

Would whoever installed this feature explain to me how the software manages to
determine what the layout of my keyboard is?  (Keeping in mind that someday we
might have different keyboards?)  What am I supposed to do when reading a
listing containing "#\Top-K", rush into MIT and look at the keyboard?  Wouldn't
it be better to have "#\Left-Arrow"?

Date: 13 June 1982 23:30-EDT
From: Philip E. Agre <Agre at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.50, ZMail 44.3,
Remote-File 8.0, Local-File 37.1, DAEDALUS 45.2, microcode 123, super, on Lisp Machine Eight:

The following arguments to time:parse cause it to fail:

"three and a half minutes from now"
"quarter of five"
"7 o'clock"
"midnight tonight"   (I realize that, say, "4 tonight" is ambiguous)
"a minute past midnight"

I've collected this list from myself and others over the last couple of weeks;
each case has actually arisen in practice.

Date: 13 June 1982 23:14-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
To: dove at MIT-DSPG
cc: BUG-LISPM-MIT at MIT-AI, ALAN at MIT-MC

    Date: 11 June 1982 22:26-EDT
    From: Alan Bawden <ALAN at MIT-MC>
    To: dove at MIT-DSPG
    cc: BUG-LISPM at MIT-EECS

	Date: Friday, 11 June 1982, 16:05-EDT
	From: Webster Dove <dove at MIT-DSPG>

	Why does the inspector no longer display arrays?????

    I believe the inspector only displays the contents of arrays smaller than a
    certain size.  Could this be what is happening to you?

So far as I can tell, this reply only applies to Symbolics systems
(versions > 200).  However, the inspector's willingness to display huge
arrays has a disadvantage, too:  inspecting a large array is very time
consuming.  I assume that the inspector is digesting the whole thing
into some internal data structure so it can scroll quickly.  I think
this is misguided;  I would rather have the initial display be faster
and scrolling be slower.  Perhaps there should be some size threshold
which triggers such a change in behavior?

The Brand S way out isn't the right answer, since (if the reply is
right) that you can't inspect the elements of a large array at all.  We
should try to do better.

Date: 13 June 1982 22:33-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  make-do&-parts getting an error.
To: ZVONA at MIT-AI
cc: BUG-DO& at MIT-MC, REH at MIT-MC, BUG-LISPM at MIT-AI

    Date: 13 June 1982 20:23-EDT
    From: David Chapman <ZVONA at MIT-AI>

    Foo, I thought that this new defstruct (a) couldn't screw anyone and
    (b) was being installed everywhere. Has it not been installed in 210?

Well I was wrong about (a), and you were wrong about (b).  I certainly never
intended to imply that it was installed everywhere.  I left it in all the right
places to get installed eventually, but I didn't install it anywhere except in
MacLisp.  I thought you installed it in system 79  because you wanted to use
the features, not because you wanted to keep up with the Jones'.

Yes, it looks like there is a way to lose, because the thing isn't 100%
downward compatible.  The way you can lose is to compile a defstruct using the
new defstruct and then try to expand any of the macros so defined with the old
defstruct loaded.  This is sort of hard to do actually (although you seem to
have managed to do it), most defstruct defined accessors and constructors don't
migrate across systems before being called upon to expand themselves.  

There is no better patch to the old defstruct than to simply install the new
one. 


Date: 13 June 1982 20:23-EDT
From: David Chapman <ZVONA at MIT-AI>
Subject:  make-do&-parts getting an error.
To: ALAN at MIT-AI, BUG-LISPM at MIT-AI, REH at MIT-MC
cc: BUG-do& at MIT-MC

    Date: Sunday, 13 June 1982, 16:25-EDT
    From: Robert E. Handsaker <REH at MIT-MC>
    To:   bug-do& at MIT-MC
    Re:   make-do&-parts getting an error.

         In system 210.80, make-do&-parts is getting an error, specifically, NIL undefined
    function while inside SI:DEFSTRUCT-EXPAND-CONS-MACRO.  The error doesn't occur if I
    load ai:lmlib;do& > instead of the compiled version.  I think the NIL may be coming
    from the DISPLACE slot of the defstruct description for do&-parts.
This is due to the new defsruct which I put into system 79.

Foo, I thought that this new defstruct (a) couldn't screw anyone and
(b) was being installed everywhere. Has it not been installed in 210?

Date: 13 June 1982 19:46-EDT
From: David Chapman <ZVONA at MIT-AI>
To: BUG-LISPM at MIT-AI

in sys79, etc. If you abort out of the prompt for login id
and password, thereafter rather than asking you for a password,
it gives you a not-logged-in message.  This can be overridden
by calling fs:file-login manually.  Has this been fixed in a
greater sys version/

Date: 13 June 1982 17:00-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: Never mind...
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.33,
ZMail 45.1, microcode 123, Saver, on Lisp Machine Nine:

Fast response indeed -- I'd forgotten to load patches, and they
turned out to implement what I wanted, #\C-Top-M etc.

Date: 13 June 1982 16:53-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: Feature request: #\C-Top-...
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.31,
ZMail 45.1, microcode 123, Saver, on Lisp Machine Nine:

I would find it useful to be able to use #\Control-Top-M or
#\C-Top-M in addition to #\Control-.  (And the same applies to
other C-Top-characters.

This would be more useful to me when the mnemonic value of that
character name refers to the M in C-Top-M instead of the
greater-or-equal sign.

Date: 12 June 1982 18:23-EDT
From: Glenn S. Burke <GSB at MIT-ML>
Subject: new security feature?
To: BUG-LISPM at MIT-ML

chtn to the eval server appears to crash machines.  cadr19 was
running 85.something microcode 122 (???).


Date: 12 June 1982 1119-EDT (Saturday)
From: Quux
To: bug-lisp at MIT-AI, bug-lispm at MIT-AI, common-lisp at SU-AI
Subject:  More on ~U (short)
Sender: Guy.Steele at CMU-10A
Reply-To: Guy.Steele at CMU-10A

I forgot to mention that the @ flag should cause scaling by powers of 2^10
instead of 10^3:  (format () "~Ubits, ~:Ub, ~@Ubits, ~:@Ub" 65536 65536 65536 65536)
   =>  "65.536 kilobits, 65.536 Kb, 64.0 kilobits, 64.0 Kb"
--Q

Date: 11 June 1982 2309-EDT (Friday)
From: Guy.Steele at CMU-10A
To: bug-lispm at MIT-AI
Subject:  Time routines for LISP Machine
CC: klh at SRI-NIC

I've been looking over the definitions and algorithms for the TIME: package
for the LISP Machine, and have a couple of questions:
(1) Do the algorithms account properly for the fact that 1900 was not a leap
year?  That is, Universal Time is based from midnight, January 1, 1900 GMT
(I assume that means that time 1 was at 12:00:01 AM, January 1, 1900, GMT).
Therefore it is origined at a time previous to the missing leap day in 1900.
Is this handled correctly, or is the origin really based on a "virtual year
1900" that is assumed to be a leap year?
(2) Does ENCODE-UNIVERSAL-TIME error-check for specifying a non-existent
time in the one-hour gap that occurs when you jump to daylight
savings time in April?

(KLH, you are cc'd because the algorithms claim to have been swiped from
the ITS net mailer, I think.)
--Guy

Date: 11 June 1982 2233-EDT (Friday)
From: Quux
To: bug-lisp at MIT-AI, bug-lispm at MIT-AI, common-lisp at SU-AI
Subject:  Proposed new FORMAT operator: ~U("units")
Sender: Guy.Steele at CMU-10A
Reply-To: Guy.Steele at CMU-10A

Here's a krevitch that will really snork your flads.  ~U swallows
an argument, which should be a floating-point number (an integer or
ratio may be floated first).  The argument is then scaled by 10^(3*K)
for some integer K, so that it lies in [1.0,1000.0).  If this
K is suitably small, then the scaled number is printed, then a space,
then a metric-system prefix.  If not, then the number is printed
in exponential notation, then a space.  With a :, prints the short prefix.
Examples:
 (FORMAT () "~Umeters, ~Uliters, ~:Um, ~:UHz" 50300.0 6.0 .013 1.0e7)
  =>  "50.5 kilometers, 6.0 liters, 13.0 mm, 10.0 MHz"

And you thought ~R was bad!

Date: 11 June 1982 22:26-EDT
From: Alan Bawden <ALAN at MIT-MC>
To: dove at MIT-DSPG
cc: BUG-LISPM at MIT-EECS

    Date: Friday, 11 June 1982, 16:05-EDT
    From: Webster Dove <dove at MIT-DSPG>

    Why does the inspector no longer display arrays?????

I believe the inspector only displays the contents of arrays smaller than a
certain size.  Could this be what is happening to you?

Date: 11 June 1982 22:23-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject: Rubout Handler DWIM
To: Agre at MIT-AI
cc: BUG-LISPM at MIT-MC

    Date: 06/11/82 08:31:52
    From: Agre at MIT-AI

    ...

    I imagine that there are lots of bad ways to implement my suggestion, but
    then that's always true.  - pHil

Indeed.  But in this case can you think of any GOOD ways to implement your
suggestion?  (Independent of it's merits, which I think are vanishingly small.)

Does it work on non-toplevel forms?
	(For example: "(car (replaca ")
    If yes, then does it know about the syntax of special forms?
	    (For example: "(dolist (replaca ")
	If yes, then how does it expand the macros without the rest of the
		form?
	If no, then how does it avoid getting in your way?
    If no, then isn't it an embarrassing kludge?

Do you know about the C-C and M-C commands in the error handler?


Agre@MIT-AI 06/11/82 14:17:53 Re: Undefined functions and the Rubout Handler
To: JERRYB at MIT-AI
CC: ALAN at MIT-MC, (BUG LISPM) at MIT-MC
    JerryB@MIT-AI 06/11/82 11:01:23 Re: Undefined functions and the Rubout Handler
    To: AGRE at MIT-AI
    CC: ALAN at MIT-MC, (BUG LISPM) at MIT-MC
	Agre@MIT-AI 06/11/82 08:31:52
	    From: Alan Bawden <ALAN at MIT-MC>
		From: Philip E. Agre <AGRE at MIT-AI>

		How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT
		ENOUGH ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?

	    Can't have the rubout handler do it because such errors happen at EVAL time
	    rather than at READ time.
	    ...
	You're right, what I asked was ambiguous.  All I want is if you type
	"(deftstruct " to the Lisp Listener it says "what is this DEFTSTRUCT?"

    I think Alan's objection still stands, the error is not an error until
    EVAL time.  What you currently are suggesting means that one couldn't
    use READ on an intereactive stream (ie with rubout handler) to read a
    list whose car is not a defined function.  

1. I don't like this notion of "when something is an error".  It depends
   quite a bit too strongly on the exact modularity of the system for me.
   Besides, the issue is one of whether the feature is likely to annoy,
   inconvenience, or screw, and not one of enforcing the contingent 
   modularity of the system on its outward image.
2. As for annoyance or inconvenience, certainly it should be an option 
   determined by a global variable, whose default value I don't care much 
   about.
3. As for the potential screws, let's see if there's a compromise position
   short of forgetting it altogether.  Perhaps it could also be made a
   run-time option, e.g., an argument to READ (or an option to some message
   to some flavor of stream or something) that says whether the object
   is to be evaled and that is NIL by default.  The feature could thus turn
   itself off unless told explicitly that the form read is to be evaled.
   (This of course is independent of there being a global variable to inhibit
   the feature.)  The Lisp Listener's read-eval-print loop could give T for 
   the argument.  Perhaps there are other screws, but I can't think of them.

  - pHil

Date: Friday, 11 June 1982, 16:05-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 210.80, ZMail 45.2, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.2, microcode 895,
site configuration 6, on Zaphod Beeblebrox:

Why does the inspector no longer display arrays?????

Date: 11 June 1982 14:16-EDT
From: David Chapman <ZVONA at MIT-AI>
To: AGRE at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 10 June 1982 16:59-EDT
    From: Philip E. Agre <AGRE>
    To:   BUG-LISPM

    How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT ENOUGH
    ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?
Ugh.  Undue dwimmity.  If this gets done, I want a switch to turn it off.

JerryB@MIT-AI 06/11/82 11:00:21 Re: Undefined fuctions and the Rubout Handler
To: AGRE at MIT-AI
CC: ALAN at MIT-MC, (BUG LISPM) at MIT-MC
    Agre@MIT-AI 06/11/82 08:31:52
	From: Alan Bawden <ALAN at MIT-MC>
	    From: Philip E. Agre <AGRE at MIT-AI>

	    How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT
	    ENOUGH ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?

	Can't have the rubout handler do it because such errors happen at EVAL time
	rather than at READ time.
	...
    You're right, what I asked was ambiguous.  All I want is if you type
    "(deftstruct " to the Lisp Listener it says "what is this DEFTSTRUCT?"

I think Alan's objection still stands, the error is not an error until
EVAL time.  What you currently are suggesting means that one couldn't
use READ on an intereactive stream (ie with rubout handler) to read a
list whose car is not a defined function.  


JerryB@MIT-AI 06/11/82 11:00:21 Re: Undefined fuctions and the Rubout Handler
To: AGRE at MIT-AI
CC: ALAN at MIT-MC, (BUG LISPM) at MIT-MC
    Agre@MIT-AI 06/11/82 08:31:52
	From: Alan Bawden <ALAN at MIT-MC>
	    From: Philip E. Agre <AGRE at MIT-AI>

	    How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT
	    ENOUGH ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?

	Can't have the rubout handler do it because such errors happen at EVAL time
	rather than at READ time.
	...
    You're right, what I asked was ambiguous.  All I want is if you type
    "(deftstruct " to the Lisp Listener it says "what is this DEFTSTRUCT?"

I think Alan's objection still stands, the error is not an error until
EVAL time.  What you currently are suggesting means that one couldn't
use READ on an intereactive stream (ie with rubout handler) to read a
list whose car is not a defined function.  


JerryB@MIT-AI 06/11/82 11:01:23 Re: Undefined functions and the Rubout Handler
To: AGRE at MIT-AI
CC: ALAN at MIT-MC, (BUG LISPM) at MIT-MC
    Agre@MIT-AI 06/11/82 08:31:52
	From: Alan Bawden <ALAN at MIT-MC>
	    From: Philip E. Agre <AGRE at MIT-AI>

	    How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT
	    ENOUGH ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?

	Can't have the rubout handler do it because such errors happen at EVAL time
	rather than at READ time.
	...
    You're right, what I asked was ambiguous.  All I want is if you type
    "(deftstruct " to the Lisp Listener it says "what is this DEFTSTRUCT?"

I think Alan's objection still stands, the error is not an error until
EVAL time.  What you currently are suggesting means that one couldn't
use READ on an intereactive stream (ie with rubout handler) to read a
list whose car is not a defined function.  


JerryB@MIT-AI 06/11/82 11:00:21 Re: Undefined fuctions and the Rubout Handler
To: AGRE at MIT-AI
CC: ALAN at MIT-MC, (BUG LISPM) at MIT-MC
    Agre@MIT-AI 06/11/82 08:31:52
	From: Alan Bawden <ALAN at MIT-MC>
	    From: Philip E. Agre <AGRE at MIT-AI>

	    How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT
	    ENOUGH ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?

	Can't have the rubout handler do it because such errors happen at EVAL time
	rather than at READ time.
	...
    You're right, what I asked was ambiguous.  All I want is if you type
    "(deftstruct " to the Lisp Listener it says "what is this DEFTSTRUCT?"

I think Alan's objection still stands, the error is not an error until
EVAL time.  What you currently are suggesting means that one couldn't
use READ on an intereactive stream (ie with rubout handler) to read a
list whose car is not a defined function.  


Date: 11 June 1982 10:36-EDT
From: Gerald R. Barber <JerryB at MIT-AI>
Subject: 20x's closing connections
To: RMS at MIT-AI
cc: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI, ZVONA at MIT-AI

    Date: 11 June 1982 03:06-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    To: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI, ZVONA at MIT-AI

    Am I right in guessing that the problem with SUPDUP to OZ is with
    Network L?  I think I recall that Twenex closes the connection when you
    log out, which it really shouldn't do.  

The problem occurs simply on logging out from OZ, (you don't have to do
a Network L), but I think the reason is as you say, OZ close the
connection too quickly.
					    It should leave the
    connection, at least for a while, so the user can log in again.
    It should do this for all network connections.  How does it ever help
    the remote user by closing his connection?

It helps a remote user that is connected to a 20x via a TIP and has the
TIP in binary input mode (you need to do this to be able to use a META
key).  When the TIP is in this mode it does not intercept any escape
characters, thus you must rely on the 20x to close the connection when
you logout and thus reset the TIP (so you can login into another host,
for example).  Of course, a command to change the TIP's state from the
20x side would also work.

Agre@MIT-AI 06/11/82 08:31:52
To: ALAN at MIT-MC
CC: (BUG LISPM) at MIT-MC
    Date: 10 June 1982 22:14-EDT
    From: Alan Bawden <ALAN at MIT-MC>
    To: AGRE at MIT-AI
    cc: BUG-LISPM at MIT-MC

	Date: 10 June 1982 16:59-EDT
	From: Philip E. Agre <AGRE at MIT-AI>
	To:   BUG-LISPM at MIT-AI

	How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT
	ENOUGH ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?

    Can't have the rubout handler do it because such errors happen at EVAL time
    rather than at READ time.

    It's not clear exactly what you want here anyway.  Would you be happy if there
    was an acceptable editor-top-level?  (I personally would be ECSTATIC if there
    was one!)  Or do you want to be able to catch undefined function errors before
    you have even typed the arguments?  (After typing "(deftstruct " you get an
    undefined function error before typing anything else.)  Since you cannot really
    run a piece of code until the user has finished typing it in, anything that
    does this is bound to be non-general, a kludge, somehow a screw, and not worth
    the trouble to implement.

You're right, what I asked was ambiguous.  All I want is if you type
"(deftstruct " to the Lisp Listener it says "what is this DEFTSTRUCT?" and
then erases the question if you type a rubout (or anything else).  I don't
know what the exact right behavior is.  It's certainly important to wait until
the space is typed after the function, but I'm not sure when the message
should go away and when it should come back.  If it goes away too quickly then
it might be suppressed by type-ahead or just fast typing.  Maybe others have
opinions on this.

If you say "(foo a)" and foo calls deftstruct, then it's not the rubout
handler's place to tell you about that.  It would be much more useful if the
rubout handler would say "this won't terminate" or "you want to run THAT
kludge?" at the right times.  Seriously, though, there might be lots of things
that the rubout handler could detect, like too many/not enough arguments in
the typed expression or maybe references to unbound variables in typed
argument lists when the appropriate lambda-list has the appropriate
properties.  Whether this degree of generalization is desirable is another
question.  I don't want to encourage creeping DWIMism.

I imagine that there are lots of bad ways to implement my suggestion, but then
that's always true.     - pHil

Date: 11 June 1982 03:06-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-OZ at MIT-AI, BUG-LISPM at MIT-AI, ZVONA at MIT-AI

Am I right in guessing that the problem with SUPDUP to OZ is with
Network L?  I think I recall that Twenex closes the connection when you
log out, which it really shouldn't do.  It should leave the
connection, at least for a while, so the user can log in again.
It should do this for all network connections.  How does it ever help
the remote user by closing his connection?

In any case, SUPDUP does not expect that Network L will cause the
connection to close, and it reports the disconnection as an error,
as it would at any other time.

Date: 11 June 1982 01:19-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: HENRY at MIT-AI, BUG-LISPM at MIT-AI

Mixing just ANY-TYI-MIXIN into COMMAND-MENU is not really the right
thing to do.  It used to define :ANY-TYI, but that was the only input or
output method which it did define.  You see, ANY-TYI-MIXIN is intended
as a modifier of TV:STREAM-MIXIN, which is what defines all the other
things (such as :TYI, :UNTYI, :LINE-IN, ...).  So you were prone to lose
as soon as you needed anything other than :ANY-TYI.  In fact, it's
pretty much a coincidence that ANY-TYI-MIXIN worked at all without
STREAM-MIXIN.

In system 86, I moved the :ANY-TYI operation onto TV:STREAM-MIXIN,
making TV:ANY-TYI-MIXIN superfluous (but it is still defined, as a
no-op, for compatibility).  If you use TV:STREAM-MIXIN as well as
TV:ANY-TYI-MIXIN, it would be better in all system versions, and would
work in 86.  ANY-TYI-MIXIN should come first in the list.

Date: 10 June 1982 22:14-EDT
From: Alan Bawden <ALAN at MIT-MC>
To: AGRE at MIT-AI
cc: BUG-LISPM at MIT-MC

    Date: 10 June 1982 16:59-EDT
    From: Philip E. Agre <AGRE at MIT-AI>
    To:   BUG-LISPM at MIT-AI

    How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT
    ENOUGH ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?

Can't have the rubout handler do it because such errors happen at EVAL time
rather than at READ time.

It's not clear exactly what you want here anyway.  Would you be happy if there
was an acceptable editor-top-level?  (I personally would be ECSTATIC if there
was one!)  Or do you want to be able to catch undefined function errors before
you have even typed the arguments?  (After typing "(deftstruct " you get an
undefined function error before typing anything else.)  Since you cannot really
run a piece of code until the user has finished typing it in, anything that
does this is bound to be non-general, a kludge, somehow a screw, and not worth
the trouble to implement.

Date: 10 June 1982 19:41-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
To: HENRY at MIT-AI, BUG-LISPM at MIT-AI

    Date: 10 June 1982 12:19-EDT
    From: Henry Lieberman <Henry at MIT-AI>
    To: BUG-LISPM at MIT-AI

    In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.30, ZMail 45.1,
    Experimental Remote-File 11.0, Experimental Local-File 38.0,
    microcode 123, FS, on Lisp Machine Seven:

    In 86, I have trouble starting up Zmail, either by System M or
    calling (ZMAIL) from Zwei, as I normally do. It starts up with 
    both the summary windows and message windows blank, although
    it has read the messages in. Doing a clear screen key or 
    System E then System M causes the summary window to be 
    displayed, but the message window is often still blank.

I noted that you run GMSGS in your init.  A known cause of delay of
redisplay in ZMail is actually a normal feature of Zwei and not a bug;
that is, if there is other printout on the screen (such as the "There
are messages" printout) display is delayed until you type a space to get
rid of it.  Try it and see if that is the cause of your problem.

Date: 10 June 1982 16:59-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI

How about if the rubout handler checked UNDEFINED FUNCTION and TOO MANY/NOT ENOUGH
ARGUMENTS like it checks COMMA NOT INSIDE BACKQUOTE?

Date: Thursday, 10 June 1982, 15:52-EDT
From: David Chapman <Zvona at MIT-AI>
To: bug-oz at MIT-AI, bug-lispm at MIT-AI

About half the time when I log out (kk) of OZ, supdup
dies with unknown opcode 11 in packet.  I understand that
this is because 20x closes its connections faster than
the lispmachine thinks it should.  This ought to be fixed
at one end or the other.

Date: 10 June 1982 13:15-EDT
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.30, ZMail 45.1,
Experimental Remote-File 11.0, Experimental Local-File 38.0,
microcode 123, FS, on Lisp Machine Seven:

In 86, menus defined by mixing TV:COMMAND-MENU-PANE and
TV:ANY-TYI-MIXIN refuse to accept ANY-TYI or LIST-TYI. 
This did not happen in 79 and 210.

Date: 10 June 1982 12:19-EDT
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-LISPM at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.30, ZMail 45.1,
Experimental Remote-File 11.0, Experimental Local-File 38.0,
microcode 123, FS, on Lisp Machine Seven:

In 86, I have trouble starting up Zmail, either by System M or
calling (ZMAIL) from Zwei, as I normally do. It starts up with 
both the summary windows and message windows blank, although
it has read the messages in. Doing a clear screen key or 
System E then System M causes the summary window to be 
displayed, but the message window is often still blank.

Date: 10 June 1982 11:46-EDT
From: David Chapman <Zvona at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.52, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Obsolete Tester 23.7, Reasoning Utility Package 1.0,
Experimental Plan Calculus 2.4, microcode 849, 79.49 PC 2.4, on Lisp Machine Twenty-two:

m-. can't find INTERN.

Date: 10 June 1982 11:42-EDT
From: David Chapman <Zvona at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.52, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Obsolete Tester 23.7, Reasoning Utility Package 1.0,
Experimental Plan Calculus 2.4, microcode 849, 79.49 PC 2.4, on Lisp Machine Twenty-two:

I ran up against the upper limit on package sizes
(admittedly by needlessly interning gensyms.)  Maybe
pkg-good-size could just choose something random when the
package gets large instead of breaking altogether.  Then
again, why not use the standard hashtables for package
hashing?

Date:    9 Jun 1982 1846-EDT
From:    Not.Logged-In at CMU-10B (Clockwork)
Subject: Bugs
To:      Bug-Lispm at MIT-AI

****
****
****
Hello
****
*
****
****
how's everything?
^_

everything OK with yu?

Date: 9 June 1982 14:33-EDT
From: Robert P. Krajewski <RpK at MIT-AI>
Subject: OZ
To: BUG-LISPM at MIT-AI
cc: MARTY at MIT-AI, GLR at MIT-AI, RpK at MIT-OZ

Patch 85.50 makes sure that 85 systems have the right chaos address.  It
seems that at least one of them had the wrong address.  It also makes OZ
a file computer.

86 has the right address for OZ.  To get it as a file computer, do
	(FS:ADD-CHAOSNET-FILE-COMPUTER "OZ")
in a bare system, and disk-save.  Since that's the only thing that has
to be done for 86, we'll probably stick it in one of the next patches.

In System 210, a ``Site files'' version of 6 or greater has OZ as a file
computer.  Simply do (LOAD-PATCHES) and disk-save.

bob

Date: 9 June 1982 05:42-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.46,
ZMail 44.3, Experimental Play 1.0, microcode 122, UC 122, on Lisp Machine Nine:

None of the top characters can be named in any pretty way with a sharp-sign
macro.  Certainly I can do #/ if I want a right-arrow, but what if I want to
be able to read or edit my code on some medium which is not a Lisp machine
(i.e., a 10, or hardcopy), it's just not clear that that's a right-arrow.

In fact, it may not print at all, since it's a control character.  It would be
nice if there were at least a "TOP-" prefix, the way there are prefixes like
"META-".

Date: 8 June 1982 22:55-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, AGRE at MIT-AI


    I've just run into the umpteenth person who has been screwed for not knowing
    about C-M-X for editor commands not worthy for inclusion in the M-X completion
    space.  A SUGGESTION.  When you do Apropos on, say, "microc", instead of
    saying "which is not on any key" it could say "which can be called by C-M-X
    Microcompile Region" or something like that.     - phiL

I think this was done in system 85.  It appears to work in 86, at least.

Date: 8 June 1982 21:32-EDT
From: Martin David Connor <MARTY at MIT-AI>
Subject:  Can you help this person?
To: GLR at MIT-AI
cc: BUG-LISPM at MIT-AI, Bug-Lispm at SCRC-TENEX

    Date: 8 June 1982 17:57-EDT
    From: Jerry Roylance <GLR at MIT-AI>

    LISPMs don't know about SUPDUPing to OZ

Thanks.

Marty


Date:  8 June 1982 15:35 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: M-X and C-M-X
Sender:  Margolin.Multics at MIT-MULTICS
To:  Philip E. Agre <AGRE at MIT-AI>
cc:  BUG-LISPM at MIT-AI
In-Reply-To:  Message of 8 June 1982 15:23 edt from Philip E. Agre

    Date:  8 June 1982 14:22-EDT
    From:  Philip E. Agre <AGRE at MIT-AI>
    Subject:  M-X and C-M-X

    I've just run into the umpteenth person who has been screwed for not knowing
    about C-M-X for editor commands not worthy for inclusion in the M-X completion
    space.  A SUGGESTION.  When you do Apropos on, say, "microc", instead of
    saying "which is not on any key" it could say "which can be called by C-M-X
    Microcompile Region" or something like that.     - phiL



Or at least include something to this effect in the header line of the
Apropos display.  It might clutter the output too much to include this
explanation with every function.
				barmar


Date: 8 June 1982 14:22-EDT
From: Philip E. Agre <AGRE at MIT-AI>
Subject: M-X and C-M-X
To: BUG-LISPM at MIT-AI

I've just run into the umpteenth person who has been screwed for not knowing
about C-M-X for editor commands not worthy for inclusion in the M-X completion
space.  A SUGGESTION.  When you do Apropos on, say, "microc", instead of
saying "which is not on any key" it could say "which can be called by C-M-X
Microcompile Region" or something like that.     - phiL

Date: Tuesday, 8 June 1982, 13:09-EDT
From: Daniel Weise <Daniel at MIT-AI>
Subject: display of lists in the inspector.
To: BUG-LISPM at EE

In System 210.80, ZMail 45.2, Remote-File 103.0, microcode 895,
site configuration 6, on Lisp Machine Two:

The inspector grinds the list

((CALL-FUNCTION (FUNCTION EXTERNAL "getchar" INT)) (I-MOVE #<REGISTER 0 INT> #<STACK-OFFSET 0 INT>) (LABEL G1313) (MOVE-WORD #<CONSTANT 1 INT> #<REGISTER 0 INT>) (NEGATE-INT #<REGISTER 0 INT>) (NOT-EQUAL #<STACK-OFFSET 0 INT> #<REGISTER 0 INT>) (IF (ZERO? #<REGISTER 0 INT>) (GOTO G1314)) (MOVE-WORD #<STACK-OFFSET 0 INT> #<STACK NIL INT>) (CALL-FUNCTION (FUNCTION EXTERNAL "putchar" INT)) (CALL-FUNCTION (FUNCTION EXTERNAL "getchar" INT)) (I-MOVE #<REGISTER 0 INT> #<STACK-OFFSET 0 INT>) (GOTO G1313) (LABEL G1314))

as

((CALL-FUNCTION (FUNCTION EXTERNAL "getchar" INT)) (I-MOVE #<REGISTER 0 INT>
	                                                   #<STACK-OFFSET 0 INT>)
						   (LABEL G1313) 
						   (MOVE-WORD #<CONSTANT 1 INT> 
							      #<REGISTER 0 INT>) 
						   (NEGATE-INT #<REGISTER 0 INT>) 
						   (NOT-EQUAL #<STACK-OFFSET 0 INT> 
						              #<REGISTER 0 INT>) 
						   (IF (ZERO? #<REGISTER 0 INT>) (GOTO G1314))
						   (MOVE-WORD #<STACK-OFFSET 0 INT> 
							      #<STACK NIL INT>)
						   (CALL-FUNCTION (FUNCTION EXTERNAL 
									    "putchar" 
									    INT))	
						   (CALL-FUNCTION (FUNCTION EXTERNAL 
								            "getchar"
									    INT))
						   (I-MOVE #<REGISTER 0 INT>
							   #<STACK-OFFSET 0 INT>)
						   (GOTO G1313)
						   (LABEL G1314))

Is should grind this as a list, not as code:
((CALL-FUNCTION (FUNCTION EXTERNAL "getchar" INT)) 
 (I-MOVE #<REGISTER 0 INT> #<STACK-OFFSET 0 INT>)
 (LABEL G1313)
 (MOVE-WORD #<CONSTANT 1 INT> #<REGISTER 0 INT>)
 (NEGATE-INT #<REGISTER 0 INT>)
 (NOT-EQUAL #<STACK-OFFSET 0 INT> #<REGISTER 0 INT>)
 (IF (ZERO? #<REGISTER 0 INT>) (GOTO G1314))
 (MOVE-WORD #<STACK-OFFSET 0 INT> #<STACK NIL INT>)
 (CALL-FUNCTION (FUNCTION EXTERNAL "putchar" INT))
 (CALL-FUNCTION (FUNCTION EXTERNAL "getchar" INT))
 (I-MOVE #<REGISTER 0 INT> #<STACK-OFFSET 0 INT>)
 (GOTO G1313)
 (LABEL G1314))

Sorry about the length of this message, but I wanted to make the
difference graphic.

Daniel

Date: 8 June 1982 11:15-EDT
From: Gregor J. Kiczales <GREGOR at MIT-AI>
To: JWALKER at SCRC-TENEX
cc: BUG-LISPM at MIT-AI


    Date:  6 Jun 1982 1936-EDT
    From: Jan Walker <JWALKER at SCRC-TENEX>
    In-Reply-To: Your message of 6-Jun-82 0036-EDT

    It would be solving the wrong problem to have a function that
    returns a page number in a manual.  The manual shouldn't be
    on paper; it should be on-line.  Once that happens, a function
    to look up where it is becomes trivial.
    -------

This isn't entirely clear to me. While it is true that the manual
should be on-line (ZVONA's bolio thinger should get done) it would
also be nice to have a page-number function. This is to solve the
common "I can't see the HELP and what I'm trying to do at the same
time bug". Specifically, the screen is too small to hold a lot of
documentation and whatever else your are trying to work on at the same
time. On Dorados and Dolphins, the screens are big enought to "see
lots of things at once".
<I guess this is another "fized in the L-Machine" bug.>

Date: 8 June 1982 10:26-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.46,
ZMail 44.3, Experimental Play 1.0, microcode 122, UC 122, on Lisp Machine Nine:

I'm having trouble with the stack blowing out in recursive programs again.
This time one of the arguments to one of the functions has a tendency to
mysteriously turn into a fixnum (e.g., 200225) right after I respond "Resume"
to an offer to grow the stack.  This only happens once the "special" stack
starts blowing out in addition to the "regular" one.  It has happened on both
cadr-6 (in system 86) and on cadr-9 (in 85.46).  I don't remember trying it in
a 200+.  I can demonstrate it for you if you like.  (It takes about 15
minutes.)  Also, setting eh:pdl-grow-ratio to 4.0s0 hasn't reduced the
frequency of stack blowouts.

Date: Tuesday, 8 June 1982, 04:26-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: CCruftiness
To: RpK at MIT-AI
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 7 Jun 82 15:33-EDT from RpK at AI


    Date: Monday, 7 June 1982, 15:33-EDT
    From: RpK at AI
    The :START command blows up when *LOGAND gets NIL for an argument.
    This happens in 210 and 204.
You're supposed to do :START <pc>, I believe.
Not that this excuses CC's cruftiness, however.

Date: Tuesday, 8 June 1982, 04:19-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: (DEFVAR GENSYM (GENSYM))
To: Henry Lieberman <Henry at MIT-AI>
Cc: BUG-LISPM at MIT-EECS
In-reply-to: The message of 5 Jun 82 17:09-EDT from Henry Lieberman <Henry at MIT-AI>

    Date: Saturday, 5 June 1982, 17:09-EDT
    From: Henry Lieberman <Henry at MIT-AI>
    In System 210.56, ZMail 45.2, Remote-File 103.0, microcode 895,
    site configuration 5, on Lisp Machine Twenty:

    Having (DEFVAR GENSYM (GENSYM)) in a file resulted in a
    spurious warning message about redefining GENSYM.
I cannot reproduce this.  Perhaps you had earlier defined it in a different file?
Not that it's particularly wise to give a value to a symbol in the GLOBAL package,
of course...

Date: 7 June 1982 21:33-EDT
From: Daniel Weise <Daniel at MIT-AI>
Subject: New font features in PRESS:
To: DULCEY at MIT-AI
cc: BUG-LISPM at MIT-AI

    From: Mark J. Dulcey <Dulcey at MIT-AI>
    Subject: New font features in PRESS:

    In System 86.29 and later:

    New font handling features in PRESS:PRINT-FROM-STREAM (and therefore
    PRESS:PRINT-FILE, PRESS:SPOOL-FILE, M-X Print File, the P command in
    DIRED, etc.):

	If the file being printed has a FONTS attribute, and you have not
	specified a FONT or FONT-LIST explicitly, PRINT-FROM-STREAM will attempt
	to do the right thing by reading your FONTS list.  What it does is:
    
	1.  If your file only specifies one font, it is treated as (:FONT font).
	    This causes the whole file to be printed in an appropriate font.
        ...
This seems more like a misfeature.  The fonts people use for editing a file
are usually  unrelated to the fonts they print with.  In particular, all
my font files specify cptfontb which I would never use for printing.
The default font for printing has always been good enough for me.
Now I must do more work (manually specify a reasonable font for printing)
to get the same functionality.  This hardly seems like a win.  (I suppose
I'll just hack my init so it does the right thing to the alist you speak of,
and then hope I don't forget and then print my files from a lispm I'm not
logged into.)

Date: 7 June 1982 20:53-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: New font features in PRESS:
To: BUG-LISPM at MIT-AI

In System 86.29 and later:

New font handling features in PRESS:PRINT-FROM-STREAM (and therefore
PRESS:PRINT-FILE, PRESS:SPOOL-FILE, M-X Print File, the P command in
DIRED, etc.):

    If the file being printed has a FONTS attribute, and you have not
    specified a FONT or FONT-LIST explicitly, PRINT-FROM-STREAM will attempt
    to do the right thing by reading your FONTS list.  What it does is:
    
    1.  If your file only specifies one font, it is treated as (:FONT font).
	This causes the whole file to be printed in an appropriate font.
    2.  If your file specifies more than one font, is is treated as 
	(:FONT-LIST (list-of-fonts)).  This causes F characters in the file
	(such as ZWEI outputs for a fontified file) to be treated specially,
	so everything is printed in the correct font.
    
    The system associates Lisp Machine fonts with Dover fonts by looking
    them up in the A-list PRESS:DOVER-FONT-EQUIVALENCES.  It currently knows
    about most of the popular Lisp Machine text fonts.  Feel free to extend
    it to cover additional fonts.

    If a font is not recognized as a Lisp Machine font, it is next tested to
    see if it is a valid Dover font.  If so, it is used.  If not, the user is
    prompted for a new font name to replace it.

Date: 7 June 1982 20:07-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Selecting Split Screen frame with System key loses
To: BUG-LISPM at MIT-AI
cc: DULCEY at MIT-AI

In LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.28, ZMail 45.0,
Experimental Remote-File 11.0, Experimental Local-File 38.0,
microcode 124, Saver LFS, on Lisp Machine Four:

After creating a split-screen frame (by using the Split Screen option of the
system menu), attempting to select via the specified system key blows up in
CLASS-SYMBOLP (which it shouldn't be reaching in the first place, since the
(GET TYPE 'FLAVOR) on the split-screen frame shouldn't be NIL).  There seem 
to be at least two problems here:

1.  CLASS-SYMBOLP blows up if not given a symbol.  Is this right?
2.  The split-screen frame should be recognized as a flavor instance (which
    it is) by TYPEP.

Date: 7 June 1982 19:22-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject:  #x100 IS equal to (1+ #x+FF).
To: Daniel at MIT-AI
cc: BUG-LISPM at MIT-AI, BUG-LMMAN at MIT-AI

    Date: 7 June 1982 18:54-EDT
    From: Daniel Weise <Daniel at MIT-AI>
    Re:   #x100  is not equal to (1+ #xFF).

    From Blueman page 327

    #X  #x number reads nubmer in radix 16. (hexadecimal) regardless of the
    setting of ibase. 
        As with #o, any expression can be prefixed by #x.
        [Unfortunately, #x does not completely work, currently, since it does
        not cause the letters A through F to be recognized as numbers.  This
        does not seem to have bothered anyone yet.] 

    That last line is now inoperative.

In fact, it was made inoperative a couple of months ago when somebody else
complained that radix 16 didn't work.  I fixed it at that point.  Notice,
however, that you must type "+FF" to get a radix 16 number (this is to prevent
confusion with the symbol named "FF").  The next version of the manual should
be careful to explain all this.


Date: 7 June 1982 18:54-EDT
From: Daniel Weise <Daniel at MIT-AI>
Subject: #x100  is not equal to (1+ #xFF).
To: BUG-LISPM at MIT-AI

In System 79.45, ZMail 40.7, LMFILE-Remote 5.3, DAEDALUS 31.9,
Experimental Remote-File 5.0, Experimental Local-File 35.2,
microcode 849, Whole Schip, on Lisp Machine Eight:

From Blueman page 327

#X  #x number reads nubmer in radix 16. (hexadecimal) regardless of the setting of ibase.
    As with #o, any expression can be prefixed by #x.
    [Unfortunately, #x does not completely work, currently, since it does not cause the
    letters A through F to be recognized as numbers.  This does not seem to have bothered
    anyone yet.]

That last line is now inoperative.

Daniel

Date: Monday, 7 June 1982, 15:33-EDT
From: RpK at AI
Sender: UC.RpK at MIT-EECS
Subject: CCruftiness
To: BUG-LISPM at EE

The :START command blows up when *LOGAND gets NIL for an argument.
This happens in 210 and 204.

bob

Date: Monday, 7 June 1982, 01:04-EDT
From: Henry Lieberman <Henry at MIT-AI>
Subject: Source file name property and links
To: BUG-LISPM at EE

In System 210.56, ZMail 45.2, Remote-File 103.0, microcode 895,
site configuration 5, on Lisp Machine Twenty:

Henry;Henry Lispm is linked to Henry;Lispm Qfasl, 
so I can keep > source versions of my init file and compile it.
So when I load my init file the functions get a SOURCE-FILE-NAME
property of Henry;Henry Lispm. Meta-. therefore gets confused.


Date: Sunday, 6 June 1982, 18:29-EDT
From: KMP at MIT-MC
Sender: BIL at MIT-MC
Subject: Inspecting pathnames and open streams
To: BUG-LISPM at AI

In System 210.61 and System 79.50 and probably in 80+, too, for all I know,...

When you mouse certain kinds of objects in the inspector (these objects seem
to be related to files (things like pathnames, character streams, etc.)) you
end up seeing completely unrelated things displayed. In this 210 load, we 
just moused a #<FILE-INPUT-BINARY-STREAM ...> and saw an ART-Q-771 array 
displayed instead. Mousing pathnames in system 79 loses similarly by showing
a lot of DTP-SELECT-METHODS or something nonsensical like that. When this happens,
it's quite painful to get back the object you really want to be inspecting.
I can send more detailed description if you need it. I don't have time right now
and have never had trouble causing this lossage to happen.


Date: Sunday, 6 June 1982, 02:05-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Henry at MIT-AI
Cc: BUG-LISPM at MIT-EECS, DLA at SCRC-TENEX

    Date: Saturday, 5 June 1982, 17:09-EDT
    From: Henry Lieberman <Henry at MIT-AI>
    In System 210.56, ZMail 45.2, Remote-File 103.0, microcode 895,
    site configuration 5, on Lisp Machine Twenty:

    Having (DEFVAR GENSYM (GENSYM)) in a file resulted in a
    spurious warning message about redefining GENSYM.

I can't duplicate this in 210.80; could you provide more information?

Date: 6 June 1982 03:17-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 10.0, LMFILE-Remote 17.1, MIT-Specific 9.0, System 86.25,
ZMail 45.0, microcode 123,  , on Lisp Machine Eighteen:

There's no Compiler Warnings buffer in a fresh Zwei.  This is really
inconvenient.  I get to recompile things when I want to see error messages.

Date: 6 June 1982 03:08-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: INFO-LISPM at MIT-AI

CADR-18 now has 256K on it, thanks to Dave Custer.

Date: 6 June 1982 00:52-EDT
From: Gregor J. Kiczales <GREGOR at MIT-AI>
Subject: dreamworld
To: ZVONA at MIT-AI
cc: BUG-LISPM at MIT-AI


    Date: Saturday, 5 June 1982, 17:19-EDT
    From: David Chapman <Zvona at MIT-AI>
    In-reply-to: The message of 5 Jun 82 03:48-EDT from Glenn S. Burke <GSB at MIT-ML>

    I have written a program which takes the bolio source of
    the lisp machine manual an produces a machine readable,
    indexed version that can be perused with a zwei-based
    INFO.   In fact in zmacs you can do super-M and get
    documentation on any function (defaulting to the one at
    point). 

    I've never got around to releasing it because I
    have never been able to keep one of the flakey machines
    around here up for the 20 hours or so it takes to do the
    reformatting of the whole manual to FC:.  But if there is
    enough interest, I might try to finish it off sometime.

Clearly it seems that a lot of people would like to have this online.

Date: Saturday, 5 June 1982, 21:52-EDT
From: Richard Zippel <rz at MIT-MC>
To: BUG-LISPM at EE

In System 210.61, ZMail 45.2, LMFS 27.4, microcode 896,
site configuration 7, Mathlab, on Lisp Machine Fifteen:

When sending mail through MIT-VAX/UNIX, the lispm seems hangs in NET
Finish. 

Date: Saturday, 5 June 1982, 21:45-EDT
From: Richard Zippel <rz at MIT-MC>
Subject: [COMSAT at MIT-MC: Msg of Saturday, 5 June 1982 21:31-EDT]
To: bug-lispm at ee

From COMSAT@MIT-MC  Sat Jun  5 21:32:18 1982
Date: 5 June 1982 21:32-EDT
From: Communications Satellite <COMSAT at MIT-MC>
Subject: Msg of Saturday, 5 June 1982 21:31-EDT
To: RZ at MIT-MC

FAILED: BUG-Canon at MIT-EECS; Recipient name apparently rejected.
	Last reply was: {-No such mailbox at this site.}
 Failed message follows:
-------
Date: Saturday, 5 June 1982, 21:31-EDT
From: Richard Zippel <RZ at MIT-MC>
To: BUG-Canon at EE

In Canon in System 210.61, ZMail 45.2, LMFS 27.4, microcode 896,
site configuration 7, Mathlab, on Lisp Machine Fifteen:

When using the Hardcopy option of the edit file menu in FSEdit,
PRESS:HARDCOPY-VIA-MENUS blows out because it tries to funcall the value
of FCN, which is NIL.

Also, the sources and patch directory for the Canon system are missing
from EE.



Date: Saturday, 5 June 1982, 21:41-EDT
From: Richard Zippel <rz at MIT-VAX>
Subject: [COMSAT at MIT-MC: Msg of Saturday, 5 June 1982 21:31-EDT]
To: bug-lispm at mit-eecs

>From COMSAT@MIT-MC  Sat Jun  5 21:32:18 1982
Date: 5 June 1982 21:32-EDT
From: Communications Satellite <COMSAT at MIT-MC>
Subject: Msg of Saturday, 5 June 1982 21:31-EDT
To: RZ at MIT-MC

FAILED: BUG-Canon at MIT-EECS; Recipient name apparently rejected.
	Last reply was: {-No such mailbox at this site.}
 Failed message follows:
-------
Date: Saturday, 5 June 1982, 21:31-EDT
From: Richard Zippel <RZ at MIT-MC>
To: BUG-Canon at EE

In Canon in System 210.61, ZMail 45.2, LMFS 27.4, microcode 896,
site configuration 7, Mathlab, on Lisp Machine Fifteen:

When using the Hardcopy option of the edit file menu in FSEdit,
PRESS:HARDCOPY-VIA-MENUS blows out because it tries to funcall the value
of FCN, which is NIL.

Also, the sources and patch directory for the Canon system are missing
from EE.



Date: 5 June 1982 20:51-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
Subject: dreamworld
To: HENRY at MIT-AI
cc: GREGOR at MIT-AI, BUG-LISPM at MIT-AI, GSB at MIT-ML

    Date: Saturday, 5 June 1982, 16:47-EDT
    From: Henry Lieberman <Henry at MIT-AI>
    Subject: dreamworld
    To: Glenn S. Burke <GSB at MIT-ML>
    Cc: Gregor at MIT-AI, bug-lispm at MIT-AI


    Even better, why can't we have the whole manual on line and 
    be able to call up the full documentation of a function at a key's
    notice? Even if it took a band on every machine for this feature, 
    it would certainly be worth it. 

I second this motion, at least twice.  This should have been done long ago.

Date: 5 June 1982 20:05-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 10.0, Experimental LMFILE-Remote 17.1,
Experimental MIT-Specific 9.0, Experimental System 86.18,
Experimental ZMail 45.0, microcode 123, gc@18, on Lisp Machine Six:

The compiler appears to have a feature whereby if there is an error attempting
to expand a macro then the macro is simply ignored.  This (or something)
causes the following unfortunate behavior:

Trying to compile:

(defmacro foo (x &rest y) (non-existent-function x y))
(defun bar (z) (foo z ((sjf as) (s t r a n g e)) (m a (c r) o) (((s y) n t) a x)))

gives a whole slew of errors to the effect that it can't figure out what's
going on in FOO's arguments, whereas if you then give non-existent-function a
non-erroring definition no errors are generated in a subsequent attempt to
recompile.  This seems like a nice way to keep a compilation from erroring
out, but it would avoid much confusion if it would explain more clearly that
it got an error when trying to expand the reference to FOO.

Date: Saturday, 5 June 1982, 19:20-EDT
From: David Chapman <Zvona at MIT-AI>
To: BUG-lispm at MIT-AI

In LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.49, ZMail 44.3,
Remote-File 8.0, Local-File 37.1, DAEDALUS 45.2, microcode 123,
Danny's ass, on Lisp Machine Eight:

In the editing rubout handler, it is a misfeature that
c-h-A has space-to-flush.  Sometimes I would like to see
the argument list for a while as I compose a function
call.  Since it clobbers the stuff under it currently,
there would be no disadvantage to this scheme.

Date: Saturday, 5 June 1982, 17:09-EDT
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-LISPM at EE

In System 210.56, ZMail 45.2, Remote-File 103.0, microcode 895,
site configuration 5, on Lisp Machine Twenty:

Having (DEFVAR GENSYM (GENSYM)) in a file resulted in a
spurious warning message about redefining GENSYM.


Date: Saturday, 5 June 1982, 17:19-EDT
From: David Chapman <Zvona at MIT-AI>
Subject: dreamworld
To: GSB at MIT-ML, Gregor at MIT-AI
Cc: BUG-BOLIO at MIT-ML, BUG-LISPM at MIT-EECS
In-reply-to: The message of 5 Jun 82 03:48-EDT from Glenn S. Burke <GSB at MIT-ML>

I have written a program which takes the bolio source of
the lisp machine manual an produces a machine readable,
indexed version that can be perused with a zwei-based
INFO.   In fact in zmacs you can do super-M and get
documentation on any function (defaulting to the one at
point). 

I've never got around to releasing it because I
have never been able to keep one of the flakey machines
around here up for the 20 hours or so it takes to do the
reformatting of the whole manual to FC:.  But if there is
enough interest, I might try to finish it off sometime.

Date: Saturday, 5 June 1982, 17:09-EDT
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-LISPM at EE

In System 210.56, ZMail 45.2, Remote-File 103.0, microcode 895,
site configuration 5, on Lisp Machine Twenty:

Having (DEFVAR GENSYM (GENSYM)) in a file resulted in a
spurious warning message about redefining GENSYM.


Date: Saturday, 5 June 1982, 16:47-EDT
From: Henry Lieberman <Henry at MIT-AI>
Subject: dreamworld
To: Glenn S. Burke <GSB at MIT-ML>
Cc: Gregor at MIT-AI, bug-lispm at MIT-AI


Even better, why can't we have the whole manual on line and 
be able to call up the full documentation of a function at a key's
notice? Even if it took a band on every machine for this feature, 
it would certainly be worth it. 

Date: 5 June 1982 14:26-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI

In zwei in Experimental Remote-File 10.0,
Experimental LMFILE-Remote 17.1, Experimental MIT-Specific 9.0,
Experimental System 86.18, Experimental ZMail 45.0, microcode 123, gc@18, on Lisp Machine Six:

Attempting to compile this function definition causes the compiler to complain
incoherently about

<< While compiling NIL >>
Warning: The variable VALUE is used free; assumed special.
<< While compiling NIL >>
<< While compiling NIL >>
Warning: The problems described above happened before the definition of NIL was identified.
<< While compiling MERGE-COMMON-POPJS >>
Warning: The variable VALUE is bound but never used.

(defun merge-common-popjs (flowchart)
  (declare (special node copy rack result))
  (setq flowchart-popj-node-list nil)
  (flowchart-traversal
    flowchart
    #'(lambda (node)
	(if (eq (node-type node) 'popj) (push node flowchart-popj-node-list))))
  (do ((the-best (list (car flowchart-popj-node-list)))
       (the-rest (cdr flowchart-popj-node-list) (cdr the-rest)))
      ((null the-rest) flowchart)
    (let* ((node (car the-rest)) (rack (node-rack node)) (value (node-value node))
	   (copy (car (some the-best
			    #'(lambda (onode)
				(and (eq (node-rack onode) rack)
				     (eq (node-value onode) value)))))))
      (if (null copy) (push node the-best)
	  (if (eq flowchart node) (setq flowchart copy))   ; shouldn't happen
	  (flowchart-traversal
	    flowchart
	    #'(lambda (onode)
		(setq flowchart-changed
		      (or (replace-flowchart-node-continuation onode node copy)
			  flowchart-changed))))))))

There are several things wrong here.  The errors seem to be coming from the
compilation of the funarg to SOME, in which VALUE is used free.  First, the
NIL ought to be MERGE-COMMON-POPJS-INTERNAL-1 or some such.  Second, the
compiler ought to be able to save the errors that occur in the compilation of
internal funargs to see if they are overridden by the context.  Third, the
error should never have come up in the first place, since that funarg ought to
be compiled open.  I have complained about this compiler misfeature at least
three times in the last three years and on each occasion I've been told that
this is a minor oversight, trivially corrected.  There are at least a hundred
places in my current project in which that simple source-to-source
optimization could produce a nontrivial speedup.

In addition, doing Control-Greek-E on this function definition in the *Mail-2*
buffer caused an error when the compiler tried to get a generic pathname from
the dummy pathname *Mail-2*.

Date: 5 June 1982 03:48-EDT
From: Glenn S. Burke <GSB at MIT-ML>
Subject: dreamworld
To: Gregor at MIT-AI
cc: BUG-BOLIO at MIT-ML, BUG-LISPM at MIT-EECS

    Date: Friday, 4 June 1982, 22:03-EDT
    From: Gregor J. Kiczales <Gregor at MIT-AI>

     What would it be like if there were some function that returned the
     page number (in the latest version of the manual) where its argument
     was defined. As more documentation was written it would also say which
     manual.
Actually, this is neither all that impossible, nor maybe all that far
off.  I've been toying for a long time now with the idea of having
that kind of stuff (which is produced, in a much less abstract/usable
form) be more formalized, so that one manual or document could refer
to stuff in another and have the proper referents magically added.
Such a database is by definition lisp-readable because bolio reads it
using lisp.  Since i now see light at the end of the tunnel of stuff i
am burrowing through maybe i will get back to the Bolio changes i
never finished, and do all this up.

Date: Friday, 4 June 1982, 22:03-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
To: BUG-LISPM at EE

In System 210.56, ZMail 45.2, Remote-File 103.0, microcode 895,
site configuration 5, on Lisp Machine Twenty:

From somewhere in a dreamworld--

 What would it be like if there were some function that returned the
 page number (in the latest version of the manual) where its argument
 was defined. As more documentation was written it would also say which
 manual.

For example:

 (PAGE-NUMBER LOOP) -> "Lisp Machine Manual (Fourth Edition) page 233."

--Gregor--

Date: 4 June 1982 14:46-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Nine:

A Terminal-F to host MIT-AI just now took 9 minutes.  This is a bit much.
A :NAME on AI took less than a minute, and the net transmission of a 
comparably-sized file took about 15 seconds.

Date: 3 June 1982 23:44-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
To: Ryland at SRI-KL
cc: DULCEY at MIT-AI, BUG-LISPM at MIT-AI

    Date: 15 Mar 1982 1252-PST
    From: Chris Ryland <Ryland at SRI-KL>
    Subject: MEDFNT replacement

    ... I do a (TV:SET-DEFAULT-FONT 'FONTS:MEDFNT) after loading it, and then
    a (CLEAR-RESOURCE 'TV:SYSTEM-MENU) to make the system menu get recreated
    in its new image.

It should no longer be necessary for your modified font to be called MEDFNT
in order to be used in the right places (at least not on System 86).  The
following is from the file AI: LMDOC; SYSTEM MSG :
    
    TV:SET-DEFAULT-FONT now works "right".  I believe that all existing
    windows are notified and adjusted properly for the new font.  Note
    however that menus and labels do not use the default font.  They use the
    standard fonts for menus and labels.  You can set those standard fonts
    by doing (TV:SET-STANDARD-FONT ':MENU font-descriptor) or likewise for
    ':LABEL.  TV:SET-DEFAULT-FONT simply does (TV:SET-STANDARD-FONT
    ':DEFAULT ...).  These standard font names are looked up on the font
    alist of the screen in use.


Date: Thursday, 3 June 1982, 16:12-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: PGS at MIT-AI, BUG-LISPM at MIT-AI

    Date: 28 May 1982 05:17-EDT
    From: Patrick G. Sobalvarro <PGS at MIT-AI>

    In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.45,
    ZMail 44.3, microcode 123, 60.45Hz, on Lisp Machine Six:

    Converse should let you know if it has lost in sending your message to
    someone when you hit END...
Already fixed in 210.

Date: Wednesday, 2 June 1982, 07:53-EDT
From: Bruce E. Edwards <BEE at SCRC-TENEX>
Subject: Subdirectories on FC
To: BUG-LISPM at MIT-AI
Cc: CHERRY at MIT-AI
In-reply-to: The message of 1 Jun 82 19:49-EDT from James J. Cherry <CHERRY at MIT-AI>

This problem is caused because it is trying to use string compare on a list which
is the directory path. This is happening in :BACK-TRANSLATE-PATHNAME. If you just
return T or nil (depending on the arguments) of the string compare until I or
someone else can patch it, you should win. Other than that, you could just change
the string-equal to EQUAL and patch it yourself.

Date: Wednesday, 2 June 1982, 06:12-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Converse and errors...
To: Patrick G. Sobalvarro <PGS at MIT-AI>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 28 May 82 05:17-EDT from Patrick G. Sobalvarro <PGS at MIT-AI>

    Date: 28 May 1982 05:17-EDT
    From: Patrick G. Sobalvarro <PGS at MIT-AI>
    In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.45,
    ZMail 44.3, microcode 123, 60.45Hz, on Lisp Machine Six:

    Converse should let you know if it has lost in sending your message to
    someone when you hit END; right now the window just goes away and you
    never have any idea if it got there or not (unless you select Converse
    again).  Maybe something like "lost in sending message, exit anyway?",
    or perhaps a pop-up window with an advisory message could appear.
    Often one will misspell the recipient name or the recipient will log
    out, or whatever, and it's a hassle doing control-end and abort each
    time just to catch this case.
It just doesn't exit when it fails in 210.  So you can fix the problem or
just type ABORT.

Date: Wednesday, 2 June 1982, 04:59-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: WITH-HELP-STREAM
To: Mark J. Dulcey <dulcey at MIT-AI>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 31 May 82 01:54-EDT from Mark J. Dulcey <dulcey at MIT-AI>


    Date: 31 May 1982 01:54-EDT
    From: Mark J. Dulcey <dulcey at MIT-AI>
    Some additional comments about WITH-HELP-STREAM:

    The pop-up window created is like the help windows you get from
    System/Help, Terminal/Help, Rubout handler help, and Network/Help in
    Supdup and Telnet.  This is the right sort of thing for programs which
    print out lengthy help messages to do.  Having the special form makes it
    easier to do in a uniform way.
It is often the wrong way to print out lengthy help messages since pop-up
windows disappear before you can make use of the information displayed.
It is often much better to have the information just written to terminal-io
and stay there.

    One possible problem at present: the body forms are enclosed in an
    internal lambda-expression.  This means that any variables (other than
    the stream and the width and height variables) which are to be
    referenced in the body forms must be special.  (If anybody can show me
    how to implement the macro cleanly, without expanding the body twice
    (once for the window case, once for the non-window case), and without
    using the lambda expression, I will fix this.)
This is what local functions are good for.  Too bad the LISPM doesn't
have them.  I guess you'll just have to use NIL or scheme.

Date: 3 June 1982 14:22-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: SI:PROCESS-DEFAULTS
To: BUG-LISPM at MIT-AI

Upon reflection, I have concluded that this macro is poorly named; its
name suggests something which manipulates processes.  Furthermore, we
may install a better DEFMACRO which will make this sort of thing mostly
unnecessary.  Anyway, the point is -- don't use this just yet.  It needs
more thought.  (It will stay around for a while.)

Date: 3 June 1982 11:20-EDT
From: Philip E. Agre <AGRE at MIT-AI>
Subject: Meta key and mouse documentation
To: RMS at MIT-AI
cc: BUG-LISPM at MIT-AI, HES at MIT-AI, DANIEL at MIT-AI

    RMS@MIT-AI 06/03/82 05:29:25 Re: Meta key and mouse documentation
    It is easy to make the :who-line-documentation-string methods of
    various flavors check (KEY-STATE ':META) and decide what string to
    return accordingly.  In many cases there is no function to do
    "that thing" from a program, or it would be hard to figure out what
    args such a function should accept.  However, when there are functions
    to do those things, it would be easy to change the documentation
    strings.  Easy, but a lot of work, since there are so many such
    documentation strings for so many different things.  Would you like to
    go through and insert some for various things?

1. If I put the mouse on something and pump the META key up and down,
   the documentation strings should change back and forth; will your
   scheme do this?  Perhaps you also want to have some sort of META
   interrupt that re-calls the documentation-line generator whenever
   a defined mode key changes state.  (A bug just occurred to me,
   though: what if you hold down META to type a Zmacs keystroke; you
   don't want the documentation string to flash in your peripheral
   vision in that case.  But that's the only such case I can think of,
   so maybe an exception can be made for Zmacs when it's listening for
   command keystrokes since it's not so important to know the functions 
   in that case.)
2. Part of the point of my message was that there are many cases where
   no such function exists but where such a function ought to exist.
   Changing the attributes of a window seems to be such a case; there
   ought to be a function which is relatively easy to use and more or
   less explicitly part of the user interface that (say) lets you 
   change the Deexposed-Typeout-Action of all Supdup windows to "Let
   It Happen".  (I realize that I could write such a function myself,
   but that's only one example of probably hundreds.)
3. I realize that there is a very great amount of work involved here.
   There is no huge hurry, but maybe it could be done little by little
   over a couple of months.  What I think I'll do is talk to HES or
   DANIEL and find out where the appropriate functions are in Daedalus
   and try to idea out there when I start using it using it again soon
   (assuming the problem of point (1) above gets worked out.

   - phIl

Date: 3 June 1982 10:27-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: Excessively declarative!
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 10.0, Experimental LMFILE-Remote 17.0,
Experimental MIT-Specific 9.0, Experimental System 86.23,
Experimental ZMail 45.0, microcode 123, Saver, on Lisp Machine One:

When I log in, I do so by:

(SETQ LOGIN-OPTIONS ..something..)
(LOGIN 'ECC 'AI)

The login-options variable controls what my init does.  I have
not yet looked into the latest login feature which can do this
same sort of thing I guess.  However, the following still is at
least strange:

I just macroexpanded 

(TEMPORARY-LINE-LEADER-ACTIVE-LENGTH TLINE)

which gave:

(PROGN (DECLARE (SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS)
		(SPECIAL LOGIN-OPTIONS))
 (ARRAY-LEADER TLINE 0.))

I can see the intent -- "if the user sets it manually, it must be
a special" -- but enough is enough!

Date: 2 June 1982 01:26-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: GSB at MIT-AI
cc: GREGOR at MIT-AI, BUG-LISPM at MIT-AI

The version of LOOP on LISPM2; is 727.  Would you please install the
current version of LOOP, and make a patch in system 86 to load it?
The differences seem to be fairly large, so I do not want to try
to make a patch which contains just what is changed, and I also
would want someone who understands the changes to verify that they
work in system 86 before installing them.

Date: 1 June 1982 19:49-EDT
From: James J. Cherry <CHERRY at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Two:

If I try and read from a subdirectory on fc with system 86
[ie, (load "fc:timing\sm-float;sysdcl")] the thing barfs and
says can't coerce bletch into string while in parse-pathname (?)

Jim

Date: 1 June 1982 16:51-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 10.0, Experimental LMFILE-Remote 17.1,
Experimental MIT-Specific 9.0, Experimental System 86.18,
Experimental ZMail 45.0, microcode 123, Exp 83.18, GC@18, on Lisp Machine Six:

IN ZWEI
When doing a SET PACKAGE the message which should say:

Make this file permanently reside in package <package> (Y or N)?

Says 

Make this file permanently reside in package <filename> (Y or N)?

instead.

Date: 1 June 1982 16:39-EDT
From: Glenn S. Burke <GSB at MIT-ML>
Subject: LOOP producing a call to VALUE-CELL-LOCATION
To: Gregor at MIT-AI
cc: BUG-LOOP at MIT-ML, BUG-LISPM at MIT-AI

This is ironic, because LOOP was hacked to call VARIABLE-LOCATION when
it first became available.  It does it under an FBOUNDP check with
a comment saying that that check can be flushed when VARIABLE-LOCATION
is supported everywhere.

This change was effected in LOOP 767 over a month ago, and i believe
that version of loop is what is in use in symbolics' systems.  That
is the version which should be in use now.

The macro LOOP-COLLECT-INIT could be taken out of context and made into
a patch.


Date: 1 June 1982 16:26-EDT
From: David Chapman <zvona at MIT-AI>
Sender: DANNY at MIT-AI
To: BUG-DPL at MIT-AI, BUG-LISPM at MIT-AI

In dpl in LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.48, ZMail 44.3,
Remote-File 8.0, Local-File 37.1, DAEDALUS 45.1, microcode 123, super, on Lisp Machine Eight:

While doing rescalings, I keep getting subscript-beyond-length
errors in sys:%color-transform  howies-bitblt  color-area.

The truly weird thing is that the array argument to
%color-transform displays in the error handler as 0, the start-x
as the fef for eh:foothold, and the start-y as a locative, the
taking of the car of which causes the machine to crash.  This is
probably a sys85 error handler problem.

Date: 1 June 1982 14:08-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 10.0, Experimental LMFILE-Remote 17.1,
Experimental MIT-Specific 9.0, Experimental System 86.18,
Experimental ZMail 45.0, microcode 123, Exp 83.18, GC@18, on Lisp
Machine Six:

Compiling the following function:

(DEFUN LOCIFY-LIST (LIST)
  (LOOP FOR L ON LIST COLLECT (LOCF (CAR L))))

Produces the following warning:

<< While compiling LOCIFY-LIST >>
 Warning: VALUE-CELL-LOCATION of a quoted variable is obsolete; use VARIABLE-LOCATION

Date: Tuesday, 1 June 1982, 12:56-EDT
From: Alan Bawden <Alan at SCRC-TENEX>
To: BUG-LISPM at MIT-AI

In System 210.70, ZMail 45.2, LMFS 27.4, Tape 10.1, Canon 14.1,
microcode 896, site configuration 13, on Dachshund:

(dotimes (i 100)
  (format t "~&~S ~S" i (ash (1+ (ash -2 i)) (- i))))

Exhibits a surprising discontinuity indicating that ash of a negative
bignum is broken.  (On LispMachine bignums, at least, ash really IS the
same as division!) 

Date: Tuesday, 1 June 1982, 11:49-EDT
From: Ken Haase <kwh at MIT-AI>
Subject: Dover spooling
To: BUG-LISPM at EE

In System 210.61, ZMail 45.2, Remote-File 103.0, Local-File 103.0,
Experimental Play 1.0, microcode 896, site configuration 6, Play, on Lisp Machine Nine:

When sending things to the dover breaks in some way, it
should ask if you want to spool via MC.

Ken

Date: Tuesday, 1 June 1982, 06:15-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
Subject: Status and Control-Status in Rubout Handler
To: Dulcey at MIT-ML
Cc: BUG-LISPM at MIT-AI

    Dulcey@MIT-ML 05/20/82 03:19:00 Re: Status and Control-Status in Rubout Handler
    To: (BUG LISPM) at MIT-AI
    In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.39,
    ZMail 44.3, microcode 122, UC 122, on Lisp Machine Five:

    When you list the input ring with Status, it offers to get rid of the
    listing when you type a character.  When you list the kill ring with
    Control-Status, the list just sits there.  I'm not sure which of these
    modes of behavior is better, but this should be consistent.

Whoever rewrote the Control-Status command didn't use the standard
interface for displaying information, so it isn't consistent with the
Status command.  The Control-Status command should use the information
display code, and the display code should be changed to present the
information in the same way in which notifications are printed.  (I'll
do this if I get a chance.)

Date: 1 June 1982 00:33-EDT
From: Alan Bawden <ALAN at MIT-MC>
Subject: new defstruct
To: BUG-lispm at MIT-AI

I have moved a new defstruct source into AI:LISPM2;STRUCT 280.  This is the new
improved defstruct installed everywhere else in the world this past week.  I
have not compiled it, but it is known to work in ALL LispMachine systems.
Since this is the same defstruct that runs in MacLisp I refer you all to
LIBDOC;STRUCT NEWS for a record of the changes and improvements.


EB@MIT-ML 05/31/82 20:52:31
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.48,
ZMail 44.3, microcode 122, 60.45Hz, on Lisp Machine Nineteen:

Recovery from unclaimed-message errors is not currently graceful:

(defflavor foo () ())
FOO
(setq foo (make-instance 'foo))
#<FOO 23012570>
(funcall foo ':bomb)
>>ERROR: The object #<FOO 23012570> received a BOMB message, which went unclaimed.
The rest of the message was NIL
While in the function #<FOO 23012570>  SI:INSTANCE-HASH-FAILURE  FUNCALL

#<FOO 23012570>:
   Arg 0: BOMB

; presumably I go to the editor here and define a :BOMB method for FOO.
; now I want to retry the computation.

c-m-R  Re-evaluating (#<FOO 23012570> BOMB), OK? Yes.
>>ERROR: #<FOO 23012570> is not a function nor the name of a function
While in the function FUNCTION  EH:SG-UNWIND-TO-FRAME-AND-REINVOKE  EH:COM-RETURN-REINVOCATION

FUNCTION:
   Arg 0 (X): #<FOO 23012570>



Date: Monday, 31 May 1982, 20:32-EDT
From: George J. Carrette <GJC at MIT-EECS>
Subject: Extended &optional use in Defmacro destructuring.
To: DULCEY at AI
Cc: BUG-LISPM at MIT-EECS

If you want to try this out I've hacked up NIL's DEFMACRO a bit
to run on the LispMachine and put it in "AI:LMLIB;GJCMAC >" 
If somebody wanted to install this there would be a couple
other things they would have to hack, like making sure the
SOURCE-FILE property got set up correctly.

-gjc

Date: 31 May 1982 01:54-EDT
From: Mark J. Dulcey <dulcey at MIT-AI>
Subject: WITH-HELP-STREAM
To: BUG-LISPM at MIT-AI

Some additional comments about WITH-HELP-STREAM:

The pop-up window created is like the help windows you get from
System/Help, Terminal/Help, Rubout handler help, and Network/Help in
Supdup and Telnet.  This is the right sort of thing for programs which
print out lengthy help messages to do.  Having the special form makes it
easier to do in a uniform way.

One possible problem at present: the body forms are enclosed in an
internal lambda-expression.  This means that any variables (other than
the stream and the width and height variables) which are to be
referenced in the body forms must be special.  (If anybody can show me
how to implement the macro cleanly, without expanding the body twice
(once for the window case, once for the non-window case), and without
using the lambda expression, I will fix this.)

Date: 31 May 1982 01:31-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: New features in 86.18
To: BUG-LISPM at MIT-AI

Some new things (in system 86.18 and all later MIT systems):

1.  The names SEND and LEXPR-SEND are now known, just like in Brand S systems.
    (For now, they are simply macros which expand into FUNCALL and LEXPR-FUNCALL.)

2.  Two new special forms (in package SI:, at least for now):
    
      WITH-HELP-STREAM sets up a stream for printing a long help message.
    This is a pop-up window (like FINGER windows) if the parent stream is a window,
    otherwise the stream is simply the parent stream (this avoids lossage if the
    stream is a file stream or the cold-load stream).
    
    Usage:
      (WITH-HELP-STREAM (STREAM . OPTIONS) &BODY BOD)
    
    STREAM is a symbol to assign the new stream to.  Output operations in the body
    (PRINT, FORMAT, etc.) should use this symbol as the stream argument.
    
    OPTIONS is a keyword argument list.  The following options are recognized:
      :LABEL     Label to give the help window.  Default is a null string.
      :WIDTH     Symbol to take on the value of the width in characters of the stream.
		 An internal symbol is used (and ignored) if none is specified.
      :HEIGHT    Symbol to take on the value of the height in characters of the stream.
		 An internal symbol is used (and ignored) if none is specified.
      :SUPERIOR  The superior stream.  Defaults to TERMINAL-IO.
    
    
      PROCESS-DEFAULTS is for use in macros which handle keyword arguments
    (via KEYWORD-EXTRACT or whatever).
    
    Usage:
      (PROCESS-DEFAULTS DEFAULT-LIST)
    
    DEFAULT-LIST is a list of two-element lists.  Each element of the list should
    contain the name of a variable to default as its CAR, and the default value
    as its CADR.  If the variable is NIL, its value will be set to the default.
    
    This macro-expands into a series of IF statements (with a SETQ statement as the
    consequent).  The variable and default-value names are copied directly into the
    SETQ's, so you probably want to quote the values.
    
    The DEFAULT-LIST is evaluated, so you have to quote it as well if it is constant.

Date: 30 May 1982 23:41-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: &mumbles in defmacro
To: GJC at MIT-AI, MOON at MIT-AI, ALAN at MIT-AI, DLA at MIT-AI,
    BUG-LISPM at MIT-AI
cc: DULCEY at MIT-AI

It's been a while since I heard anything about this subject (or the proposed
new special form bind-arguments).  I would like to know if anybody plans to
act on this subject.

The reason for my complaint is that I would like to be able to write things like
  (defmacro with-foo-stream ((stream &optional direction) &body bod))
or maybe even
  (defmacro with-foo-stream ((stream &key ...) &body bod))
and win.  As it is, macros which accept a body have to have manual destructuring
code for their arguments if any optional or keyword argument processing is wanted.

Date: Sunday, 30 May 1982, 16:35-EDT
From: Ken Haase <kwh at MIT-AI>
Subject: Poor treatment of "Dover Busy"
To: BUG-LISPM at EE
Cc: kwh at MIT-AI

In System 210.56, ZMail 45.2, Remote-File 103.0, Local-File 103.0,
microcode 896, site configuration 5, CStacy spacial, on Lisp Machine Six:

You can't retry an EFTP open;  (which happens when you print a file
from DIRED).  It would be nice if when the Dover was busy (causing
the open to err) if it offered to keep trying or spool through MC.

Ken

Date: Sunday, 30 May 1982, 15:08-EDT
From: Carl W. Hoffman <CWH at SCRC-TENEX>
Subject: Minor bug in new rubout handler
To: Daniel at MIT-AI, BUG-LISPM at MIT-AI

    Date: 28 May 1982 23:43-EDT
    From: Daniel Weise <Daniel at MIT-AI>
    In System 79.49, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    microcode 849, 60.45Hz, on Lisp Machine Eighteen:

    To a top level lisp listener I had typed 

    (c-compile foo<help>

    which caused the rubout handler documentation to appear.
    As I was reading it a notification came through which caused
    my original typein to be redisplayed a line lower than I had
    typed it.  When I hit space to flush the documentation the cursor
    went back to where it came from rather than one line down from there
    which is where it now belonged.

This is fixed in system 210.

Date: Sunday, 30 May 1982  13:17-EDT
From: MOON at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-AI, David L. Andre <DLA at SCRC-TENEX>,
      Gregor at MIT-AI
Subject: Wrong number of arguments warning.

I think it would be an improvement to remember, during a compilation,
the arglist for all functions that have been (or are just about to be)
compiled, and searching that before the current environment when doing
number of arguments checking.  The overhead would be small if it was
a hash table (for paging locality more than search speed).  This wouldn't
detect forward references (Dave's "always right" case) but it would do
the job most of the time.  It might also be possible to detect when
a function is compiled for which a number of arguments warning was
previously given in the same compilation, detect that that warning is
no longer operative, print a retraction, and remove it from the data base.
I don't know that that amount of hair would really be justified.

If anyone implements this, don't forget to put it in the L machine compiler too.

HANSON@MIT-MC 05/30/82 09:07:20
To: (BUG LISPM) at MIT-AI
In Experimental Remote-File 10.0, Experimental LMFILE-Remote 17.1,
Experimental MIT-Specific 9.0, Experimental System 86.16,
Experimental ZMail 45.0, Local-File 37.1, microcode 123, LFS, on Lisp Machine Seven:

the new compiler warnings system prevents the use of C-M-Break while doing QC-file,
which I think is a crock.  It also generates compiler warnings that make it unclear
that the file has correctly compiled once C-M-Break has been done.


Date: Sunday, 30 May 1982, 06:37-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Wrong number of arguments warning.
To: David L. Andre <DLA at SCRC-TENEX>
Cc: Gregor at MIT-AI, BUG-LISPM at MIT-AI
In-reply-to: The message of 29 May 82 02:02-EDT from David L. Andre <DLA at SCRC-TENEX>


    Date: Saturday, 29 May 1982, 02:02-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
    I was originally going to make these wrong number of arguments warnings
    a class of deferred warnings.  However, something which always does the
    right thing requires far too much overhead (that would mean remembering
    the number of arguments in every function call in a compilation,
    remembering the declared arglist lengths of all functions, and
    grovelling through them at the end of the compilation).

    The overhead can be significantly reduced if you throw out some special
    cases (If you want the current behaviour without spurious warnings,
    then you must still remember all declared arglist lengths, but only
    those function calls which seem to be wrong at the time).  However, in
    my opinion any solution other than the one which is "always right" is
    not really worth the effort.  And you do gain at least a little by
    having the warnings printed in real time, rather than being deferred.
It's probably worth while to fix the special case of complaining about
the function you're currently defining, based on the astonishment that
will cause in users, especially when compiling to core.

Date: 30 May 1982 04:07-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: FEXPR compatibility hack on LispM loses
To: BUG-LISPM at MIT-MC
cc: KBE-IMPLEM at MIT-MC

In System 79.50, ...

(defun foo FEXPR (x) . body)

is not compatible with maclisp. In maclisp interpreted, x is bound to 
something eq to the cdr of the call. So it is in LispM lisp. In Maclisp
compiled code, x is always bound to something which is consed in the
heap and can be returned upward safely. In LispM lisp compiled,

(defun bar (x) (foo x y))

would turn into something which puts 'X and 'Y on the stack and then enters
foo with an &REST vector holding X and Y -- something you can't return upward.
It would be sufficient for my purposes if 

(defun foo fexpr (x) . body)

turned into

(defun foo (&quote &rest x) (let ((x (copylist x))) . body))

People who don't like the copylist would have all the more reason to
rewrite their code to not use the FEXPR keyword.

I don't use the FEXPR keyword myself, so please send me no mail asking
why am I not using it. I'm trying to debug someone else's code which 
was written for Maclisp and is losing completely due to the famous 
&REST vector screw.

Alternatively, if the FEXPR keyword went away altogether, I'd be happy,
too. That would mean some people would have to modify code to make it
work again but would save me the hassle of having to debug a faulty
compatibility hack.


Date: 29 May 1982 03:28-EDT
From: Howie Daniel Trachtman <HDT at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.50, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Six:

 A Converse bug:  after sending several messages back and forth to
Boxer@cadr-4, Converse tried to reply to MIT-LISPM-4 which it
then claimed was not a known host.      --Howard--

Date: Saturday, 29 May 1982, 02:02-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Wrong number of arguments warning.
To: Gregor at MIT-AI
Cc: BUG-LISPM at MIT-AI

I was originally going to make these wrong number of arguments warnings
a class of deferred warnings.  However, something which always does the
right thing requires far too much overhead (that would mean remembering
the number of arguments in every function call in a compilation,
remembering the declared arglist lengths of all functions, and
grovelling through them at the end of the compilation).

The overhead can be significantly reduced if you throw out some special
cases (If you want the current behaviour without spurious warnings,
then you must still remember all declared arglist lengths, but only
those function calls which seem to be wrong at the time).  However, in
my opinion any solution other than the one which is "always right" is
not really worth the effort.  And you do gain at least a little by
having the warnings printed in real time, rather than being deferred.

Date: 28 May 1982 23:43-EDT
From: Daniel Weise <Daniel at MIT-AI>
Subject: Minor bug in new rubout handler
To: BUG-LISPM at MIT-AI
cc: CWH at MIT-AI

In System 79.49, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Eighteen:

To a top level lisp listener I had typed 

(c-compile foo<help>

which caused the rubout handler documentation to appear.
As I was reading it a notification came through which caused
my original typein to be redisplayed a line lower than I had
typed it.  When I hit space to flush the documentation the cursor
went back to where it came from rather than one line down from there
which is where it now belonged.

Daniel

Date: 28 May 1982 18:09-EDT
From: Margaret Minsky <MARG at MIT-AI>
To: BUG-LISPM at MIT-AI


while using converse mode in system 86.8, the function UNION was called in such
a way as to produce an error.  i have a terminal-Q screen copy.

hanson

Date: 28 May 1982 18:08-EDT
From: Margaret Minsky <MARG at MIT-AI>
To: BUG-LISPM at MIT-AI


while doing edit-callers in system 86.8 on CADR2, ZEROP received an argument of NIL.
I have a terminal-Q copy of the screen for whoever is interested.

hanson

LEVITT@MIT-MC 05/28/82 16:41:34
To: (BUG LISPM-MIT) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.34,
ZMail 44.3, Experimental Play 6.5, microcode 122, Play, on Lisp Machine Nine:

While trying to instantiate a window flavor, the CADR halts at
PC 20367.  This is repeatable and does not happen with system
210.  To reproduce this, compile AI:MT;MLOOP > (you need to have
the PLAY system present) and eval "(rolly)".  




Date: Friday, 28 May 1982, 15:54-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: Gregor at MIT-AI, BUG-LISPM at MIT-AI

Actually, I think that the problem with "too few arguments"
warnings happening when you add a new argument to a recursive
function is not a new problem.  The compiler has always issued
"too few/many arguments" warnings at the time that it compiles
the caller, without waiting to see whether the callee might be
redefined later on in the file.  This could be changed to wait
until the entire compilation is finished; some errors work
this way already.

Date: Friday, 28 May 1982  15:08-EDT
From: MOON at SCRC-TENEX
To:   BIL at MIT-MC
Cc:   (BUG LISPM) at MIT-AI

    BIL@MIT-MC 05/28/82 09:56:06
    To: (BUG LISPM) at MIT-AI
    In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    Macsyma 30.3, microcode 849, 60Hz, on Lisp Machine Sixteen:

    While debugging a large compiled function (with 50 odd locals) in the error
    handler, after doing a M-N to see its locals I typed C-6 C-M-A to get the
    6th local but instead I got:
c-m-A is the command to get arguments.  c-m-L is the command to get locals.

    >>ERROR: The argument CONS was NIL, which is not a CONS
    While in the function CAR-LOCATION  EH:SG-FRAME-ARG-VALUE  EH:COM-GET-ARG
This error was caused by asking for more arguments than the frame had.
Someone should fix this bug (which exists in at least 4 places).

Date: 28 May 1982 11:58-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.44,
ZMail 44.3, microcode 123, 60.45 123, on Lisp Machine Twenty:

If you write and compile a recursive function, and then change
the number of arguments it takes and recompile you get a wrong
number of arguments compiler warning. I don't think this use to
happen.

Specifically if you write (in zwei):
(defun foo (a b)
  ;some stuff
  (foo a b))
then compile it,
then change it to
(defun foo (a)
  ;some stuff
  (foo a ))
and compile it again

you get a not enought arguments to foo warning.

BIL@MIT-MC 05/28/82 09:56:06
To: (BUG LISPM) at MIT-AI
In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Macsyma 30.3, microcode 849, 60Hz, on Lisp Machine Sixteen:

While debugging a large compiled function (with 50 odd locals) in the error
handler, after doing a M-N to see its locals I typed C-6 C-M-A to get the
6th local but instead I got:

>>ERROR: The argument CONS was NIL, which is not a CONS
While in the function CAR-LOCATION  EH:SG-FRAME-ARG-VALUE  EH:COM-GET-ARG

Then I got a breakpoint, did a (bug) and the window got wedged in a typeout
mode or something like that, which I could only get out out of with C-M-ABORT.

I can explain how to reproduce this if it is not already known.


Date: 28 May 1982 08:35-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: "This band goes with the current ucode version."
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.45,
ZMail 44.3, microcode 122, 60.72, on Lisp Machine Eighteen:

Just a small complaint about the psychology of that message,
which you get from SET-CURRENT-BAND:  It appears that the message
is confirming to me that this new current-band is PROPER -- it
goes with the current-microload.  However, the style of that
statement is ambiguous, and it always seems to me as telling me I
did something IMPROPER.  Perhaps a better message might be
something:

"The current-band and the current-microload are now properly
synchronized."

Date: 28 May 1982 05:17-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.45,
ZMail 44.3, microcode 123, 60.45Hz, on Lisp Machine Six:

Converse should let you know if it has lost in sending your message to
someone when you hit END; right now the window just goes away and you
never have any idea if it got there or not (unless you select Converse
again).  Maybe something like "lost in sending message, exit anyway?",
or perhaps a pop-up window with an advisory message could appear.
Often one will misspell the recipient name or the recipient will log
out, or whatever, and it's a hassle doing control-end and abort each
time just to catch this case.

Date: 27 May 1982 20:34-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.44,
ZMail 44.3, microcode 123, 60.45Hz, on Lisp Machine Six:

Meta-X Rename File.
Renaming foo to bar does the rename correctely but then says
that it renamed foo to foo which is confusing.

Date: Wednesday, 26 May 1982, 21:17-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: FIXR on integers
To: David W. Shipman <SHIPMN at MIT-AI>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 26 May 82 11:57-EDT from David W. Shipman <SHIPMN at MIT-AI>

    Date: 26 May 1982 11:57-EDT
    From: David W. Shipman <SHIPMN at MIT-AI>

    (FIXR 235841.) ==> 235842.

    According to the BlueMan:

    "FIXR could have been defined by:

      (defun fixr (x)
	(if (fixp x) x (fix (+ x 0.5))))"

This is a typo in the manual.  It should say "should", not "could"!
Fixed in the source.

Date: 26 May 1982 19:01-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Edit Definition of copy-array-portion
To: BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI
cc: DULCEY at MIT-AI

In Experimental Remote-File 10.0, Experimental LMFILE-Remote 17.0,
Experimental MIT-Specific 9.0, Experimental System 86.7,
Experimental ZMail 45.0, microcode 123, Saver, on Lisp Machine Seven:

Edit Definition of copy-array-portion in Zwei causes regular PDL overflow.
(This doesn't happen with other functions, so I'm not sure it's a Zwei bug.)

Date: 26 May 1982 18:01-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: 
To: BUG-LISPM at MIT-AI
cc: DULCEY at MIT-AI

In Experimental Remote-File 10.0, Experimental LMFILE-Remote 17.0,
Experimental MIT-Specific 9.0, Experimental System 86.7,
Experimental ZMail 45.0, microcode 123, Saver, on Lisp Machine Seven:

In System 86,

(load "FC:DULCEY;UTILS")

fails with FNF (File Not Found) for the file FC: DULCEY; UTILS|QFASL#>.

(load "FC:DULCEY;UTILS#>")

works without complaint.

The file in question is not compiled (obviously).  Either form worked properly
(that is, they loaded the source) in System 85.

Also, this doesn't happen with host AI (with the file copied into
AI:GUMBY;UTILS >), using the same commands as before.

Date: 26 May 1982 14:08-EDT
From: dulcey@ai
Sender: LMFILE at MIT-AI
Subject: Deleted 79 bands
To: BAK at MIT-AI, GUMBY at MIT-AI, BROOKS at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: Monday, 24 May 1982, 15:23-EDT
    From: Rodney A. Brooks <Brooks at MIT-AI>
    To: bug-lispm at MIT-AI
    
    I ask that people who overwrite bands ensure that at least one copy of a
    generic 79 band plus microcode 849 exist on each machine unless there is
    an overwhelming reason not to do so...

Of course, keep in mind that on machines with T-80 drives, there is an
overwhelming reason.  Many of these machines have had their disks
reformatted to allow larger PAGE bands (since the LOD bands are smaller,
this can be done).  Machines with large disks should retain one 79 band,
at least for now.

Date: 26 May 1982 11:57-EDT
From: David W. Shipman <SHIPMN at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.50, ZMail 40.7, LMFILE-Remote 5.3,
Experimental Remote-File 3.0, Experimental Local-File 35.2,
Experimental Spire 3.4, Experimental FILE-Server 2.1, microcode 849,
Spire, on Lisp Machine Twelve:

(FIXR 235841.) ==> 235842.

According to the BlueMan:

"FIXR could have been defined by:

  (defun fixr (x)
    (if (fixp x) x (fix (+ x 0.5))))"

Date: Wednesday, 26 May 1982, 11:42-EDT
From: Robert P. Krajewski <RpK at MIT-LISPM-27>
Reply-to: Rpk at XX
Subject: Site changes (not patches)
To: BUG-LISPM at EE

I have added
	CCC to the time-server list (it's no longer seventy
	years behind everyone else)
and
	DSPG to the file-server list
for sites
	EE (EE:LIB:<LISPM.SITE>SITE.LISP)
	LCS (EE:LIB:<LISPM.LCS-SITE>SITE.LISP)
and	MIT (AI: LMSITE;SITE >).
I did not compile any of them.  Somebody using 85+ should do
that for MIT.  I do not know how to update Symbolics site-files,
so could somebody from there do it ?  (Web Dove is getting tired
of adding DSPG as a file server.)

bob

Date: Wednesday, 26 May 1982, 11:41-EDT
From: Robert P. Krajewski <RpK at MIT-LISPM-27>
Reply-to: Rpk at XX
Subject: Site changes (not patches)
To: BUG-LISPM at EE

I have added
	CCC to the time-server list (it's no longer seventy
	years behind everyone else)
and
	DSPG to the file-server list
for sites
	EE (EE:LIB:<LISPM.SITE>SITE.LISP)
	LCS (EE:LIB:<LISPM.LCS-SITE>SITE.LISP
and	MIT (AI: LMSITE;SITE >).
I did not compile any of them.  Somebody using 85+ should do
that for MIT.

Date: 26 May 1982 01:57-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 79.50, ... the help information for Terminal-Help should have the
doc for "F" run onto more than one lines. Right now, even in CPTFONT, which
is fairly small, it reaches the far right margin and wraps in an ugly way.
-kmp


Date: 25 May 1982 18:35-EST
From: Daniel Huttenlocher <DPH at MIT-AI>
Subject: Bug report
To: RWK at SCRC-TENEX
cc: BUG-LISPM at MIT-AI

    Date: Tuesday, 25 May 1982, 16:06-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    In-reply-to: The message of 25 May 82 10:12-EDT from dph at MIT-ML

        From: dph@MIT-ML
        Date: 05/25/82 10:12:41
        dph@MIT-ML 05/25/82 10:12:41
        In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.44,
        ZMail 44.3, microcode 122, UC 122, on Lisp Machine Nine:

        When switching between windows sometimes I return to my lisp
        listener (which has several display panes in the same window)
        and the left side of the window is totally munged.
        Terminal-Clear Screen fixes it, but this is rather annoying
        because it erases all the info on the screen.

    "totally munged" only tells me you're not happy, it doesn't tell me
    what's wrong.

I wish I could be more specific but I cant.  The bits are all screwed up on
the left hand margin of the screen.  It only happens sometimes, it doesn't
seem to happen reliably when returning from any particular flavor of window.

Date: 25 May 1982 18:34-EST
From: David W. Payton <PAYT at MIT-AI>
Subject: TWO buffers named BUFFER-1
To: RSG at MIT-AI, BUG-LISPM at MIT-AI

This problem has been fixed in System 86 which should be ready for distribution soon.
In the mean time, be carefull not to select the last BUFFER-1 or you can get screwed.


Date: 25 May 1982 15:28-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject: functionality that when away.
To: BUG-LISPM at MIT-MC

I used to use a VT-52 simulation mode in lispmachine TELNET.
This doesn't seem to be available in the present systems, but
a VT-100 and/or VT-52 emulation is very useful when telneting
to vanilla VMS, TOPS-20, Unix, and other sites. Its a simple
enough thing (e.g. a 50 line or so BASIC program on the IBM personal computer
simulates a VT-52) that provides a lot of functionality
that it must be worth including in the system. 



dph@MIT-ML 05/25/82 10:12:41
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.44,
ZMail 44.3, microcode 122, UC 122, on Lisp Machine Nine:

When switching between windows sometimes I return to my lisp
listener (which has several display panes in the same window)
and the left side of the window is totally munged.
Terminal-Clear Screen fixes it, but this is rather annoying
because it erases all the info on the screen.


Date: 25 May 1982 10:09-EDT
From: David W. Shipman <SHIPMN at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.45, ZMail 40.7, LMFILE-Remote 5.3,
Experimental Remote-File 3.0, Experimental Local-File 35.2,
Experimental Spire 3.4, Experimental FILE-Server 2.1, microcode 849,
Spire, on Lisp Machine Twelve:

ADJUST-ARRAY-SIZE fails to modify the appropriate CDR-codes in ART-Q-LIST arrays.

  (setq a (make-array 3 ':type art-q-list))
  (fillarray a '(1 2 3))
  (g-l-p a) ==> (1 2 3)
  (adjust-array-size a 2)
  (g-l-p a) ==> (1 2 #<DTP-ARRAY-HEADER ...>) and hangs the machine

Date: 25 May 1982 05:39-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 79.48, ...

Given that the LispM has such a great ability to generate interesting
tones, it seems to me that the various programs that want to beep for
interesting reasons should do so with distinctive tones rather than 
using the number of tones to identify themselves. Often, if I've just
typed ^G in Emacs or bad typeahead elsewhere, I don't know if the beeps
I hear are from my input or from CONVERSE popping up. This is also true
of TV:NOTIFY and other things. At the very least, it would be nice if
you offered some way that this could be hacked in by people that want
it, since right now (to take CONVERSE for an example), redefining the
beep means redefining a function that does a dozen unrelated things.
Wouldn't it be neat to have CONVERSE come up with HACKS:ZOWIE introducing
it? That would certainly leave no doubt in one's mind as to where the
beeping was coming from ...


Date: 24 May 1982 19:07-EDT
From: Robert S. Giansiracusa <rsg at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.42,
ZMail 44.3, microcode 122, 60.45Hz, on Lisp Machine Nineteen:

Just after a cold boot, editor entered with (ED), there are
TWO buffers named BUFFER-1.

Date: Monday, 24 May 1982, 15:23-EDT
From: Rodney A. Brooks <Brooks at MIT-AI>
To: bug-lispm at MIT-AI

There are a number of persons at the lab who would like to postpone
the decision as to whether they will go with the Symbolics software
(bands labeled 200+) or the MIT/LMI software (bands labeled 80+).  As
such, we would like to continue running the software that existed
before the versions split (system 79).  The reason for mentioning this
to the community as a whole is that system 79 bands have been
disappearing from machines.  I ask that people who overwrite bands
ensure that at least one copy of a generic 79 band plus microcode 849
exist on each machine unless there is an overwhelming reason not to do
so.

I think this request is reasonable.  It is supported by many people
at the lab (though we have not asked them to sign this message).  The
intent is to defuse rather than exacerbate a very sensitive political
situation at the lab.

                                            William Kornfeld
					    Rodney Brooks
					    David Vinayak Wallace

Date: 23 May 1982 18:06-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject:  DELQ
To: BUG-LISPM at MIT-EECS

I've sent an explanation to "Mark Alan Peot <MARK at MIT-XX>."

Date: Sunday, 23 May 1982, 17:45-EDT
From: Mark Alan Peot <MARK at MIT-XX>
To: BUG-LISPM at MIT-EECS

In System 210.23, ZMail 45.1, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
site configuration 3, on Marvin:

If you decide to 'delq' something that happens to be the first element of a list
you get weird things happening.
Example:
(setq a '(a b c d e))
(A B C D E)
(delq 'b a)
(A C D E)
a
(A C D E)
(delq 'a a)
(C D E)
a
(A C D E)

Date: 23 May 1982 16:30-EDT
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Nine:

Given that one can double a mouse click with (at least) the Shift key, it
would be great to generalize the mouse documentation line (the inverted-color
line one from the bottom) in the following way: holding down (say) the Meta
key changes the documentation line to give you a set of functions that can be
used to do what the corresponding mouse clicks would do, when this makes
sense.  To avoid having to print too much text on the single line, use the
following convention: the default is to give (up to) three function names for
what the corresponding single-clicks do, but when Shift (or whatever) key is
also held down it gives (up to) three functions names for what double-clicks
do.  (Some appropriate notation could indication that the same function
implements more than one click, e.g., "LMR: FOO or LM: FOO, R: BAR" rather
than "L: FOO, M: BAR, R:BAZ".)  If one wants more details of how to use the
functions, presumably one could look at the documentation or the source code
(where the comments might indicate how to get the effect of a given
mouse-click sequence using the function, if it isn't obvious).  Perhaps
actually performing the click with the Meta key down could do a Zwei M-. on
the function listed in the documentation line, but this is probably dreaming.

I don't know whether I'll get much disagreement over the need for such a
feature, but in case I do, it really and truly is the case that I very
frequently wish I had a function-callable version of a mouse operation and
can't find one or figure out how to construct one.  Two such situations are:
(1) I want to customize my environment (in order to, say, make my SUPDUP
window's Typeout-deexposed-action "Let it happen" or to go into some
particular screen configuration in Daedalus) in the same way all the time and
I have to do it by hand all the time; (2) I want to go away from my terminal
for a few minutes and leave it with a list of things to do, but one of them is
a mouse operation so I can't tell PROGN about it and n minutes of hunting
doesn't reveal any good way to do it in a way I can tell PROGN about.

Perhaps this feature wouldn't be supported by the whole world at first, but
just leaving a field of the documentation line blank when no function name has
been provided yet doesn't seem too bad.

Date: Sunday, 23 May 1982, 02:43-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Compatibility
To: info-lispm at MIT-AI

Patches 79.48, 85.44, 204.74, and 210.52 make it possible for all of
those systems to debug each other via CC.  Needless to say, this is
difficult to test completely.  It's been tested with systems 85 and
210, but if I blew it please let me know.

Date: 22 May 1982 06:31-EDT
From: Edward Barton <EB at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.38,
ZMail 44.3, microcode 117, 60.72, on Lisp Machine Eighteen:

GETHASH and friends are buggy because they do not use UNWIND-PROTECT
to lock their locks.  If you type C-M-Break and happen to be in GETHASH,
then abort out of the computation, (or if you type C-M-Abort and happened
to be in GETHASH), then the hash table lock never gets unlocked.  Since
it uses SEIZE-LOCK in the "recursive lock" manner, subsequent GETHASHes
in the same process will work, but a GETHASH in another process will
wait forever for the lock to be unlocked.


Date: Thursday, 20 May 1982, 23:49-EDT
From: David Vinayak Wallace <Gumby at MIT-AI>
Subject: notifies while typing at a lisp-listener
To: BUG-LISPM at MIT-AI
Cc: Gumby at ai

In ZWEI in Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1,
System 85.39, ZMail 44.3, microcode 122, UC 122, on Lisp Machine Nine:

I had typed "(arglist frob" when I got a notification.
the screen then showed "

[23xxxxxxxx]		;the notification
(arglist frobb

"
I didn't notice the extra character, and continued typing "otz)".
I got the error
"the symbol FROBOTZ is unbound" -- the correct error, as I had forgotten
the quote. The problem is that the extra "b" was echoed but not read in.
			-david

Date: 20 May 1982 02:53-EDT
From: Edward Barton <EB at MIT-ML>
To: BUG-LISPM at MIT-ML

In System 85, I just got a fresh Lisp Listener, did (dribble-all),
and typed (print 'foo).  The dribble file contained the printed FOO
and the returned value FOO, but not the form (print 'foo).

I reported something like this the other day, but then I was under
the impression that the dribbling worked properly except in an
error loop.

If this turns out to be hard to reproduce, I will look harder for
strange circumstances.


Dulcey@MIT-ML 05/20/82 03:19:00 Re: Status and Control-Status in Rubout Handler
To: (BUG LISPM) at MIT-AI
CC: DULCEY at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.39,
ZMail 44.3, microcode 122, UC 122, on Lisp Machine Five:

When you list the input ring with Status, it offers to get rid of the
listing when you type a character.  When you list the kill ring with
Control-Status, the list just sits there.  I'm not sure which of these
modes of behavior is better, but this should be consistent.


Date: Thursday, 20 May 1982, 22:30-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: M-X Finish Patch
To: James M. Turner <JMTURN at MIT-AI>
Cc: kmp at MIT-MC, BUG-LISPM at MIT-AI
In-reply-to: The message of 20 May 82 20:22-EDT from James M. Turner <JMTURN at MIT-AI>

    Date: 20 May 1982 20:22-EDT
    From: James M. Turner <JMTURN at MIT-AI>
	kmp@MIT-MC 05/20/82 00:17:07
	In ZWEI in System 79.46,...

	Finish Patch should say when it is finished.

    It does. It says "Please save your files". I supose it should say more,
    so I'll add something to it.

					    James
It only says that if you haven't saved your files yet.

RICH@MIT-AI 05/20/82 17:07:14 Re: FQUERY
To: (BUG LISPM) at MIT-MC
In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Obsolete Tester 23.7, Reasoning Utility Package 1.0,
Experimental Plan Calculus 2.4, microcode 849, 79.45 PC 2.2, on Lisp Machine Twenty-two:

In :TYPE :READLINE mode it is very common to have one of the options
be to just let the user type carriage return.  Unfortunately if you
add something like the pair (NIL "") to the :CHOICES keyword then
when the choices are listed you get "(FOO, BAR or )" typed out
in the prompt or "( , FOO or BAR)", which is ugly.  It would be nice
if the empty string were handled specially in this list, e.g.
"(FOO, BAR or <cr>)" or some such.





Date: 20 May 1982 20:22-EDT
From: James M. Turner <JMTURN at MIT-AI>
To: kmp at MIT-MC
cc: BUG-LISPM at MIT-AI

    kmp@MIT-MC 05/20/82 00:17:07
    In ZWEI in System 79.46,...

    Finish Patch should say when it is finished.

It does. It says "Please save your files". I supose it should say more,
so I'll add something to it.

					James

Date: 20 May 1982 01:51-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

In ZWEI in System 79.46, ...

It is really dangerous that List Buffers doesn't show buffers as modified
if they have no associated filename. I don't care if it puts a * or some
other character there. I just care that some mention is made of it. I use
c-X c-B to see if I have things in need of writing and I often move things
from one buffer to another, planning to write the buffer to a filename later.
I almost just went away without writing several buffers; this is not the
first time. -kmp


Date: Thursday, 20 May 1982, 01:37-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Reply-to: BUG-LISPM-SCRC at SCRC-TENEX
Subject: System 210 is released to users.
To: INFO-LISPM at MIT-AI


Symbolics System 210 is now released for users.  This system has been
installed on all of the EE CADRs, and will run on any CADR at MIT.
You can find the release notes in either of the following files:

    EE:LIB:<LISPM.DOCUMENTATION>SYSTEM-210.RELEASE
    AI: LMDOC; SYS210 MSG

Please take a look at the release notes before using System 210.

As with previous Symbolics releases, the sources are stored on the
MIT-EECS (EE) machine.  If you attempt to access the sources, EE will
ask you for a user name to log in as; if you don't have your own
account, you can tell it "Anonymous"; no password is necessary (if
you provide one, it will be ignored).  If you want write-access to
the sources on EE, send mail to LISPM-ACCOUNTS at EE.

kmp@MIT-MC 05/20/82 00:17:07
To: (BUG LISPM) at MIT-AI
In ZWEI in System 79.46,...

Finish Patch should say when it is finished.


Date: Wednesday, 19 May 1982, 23:52-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: NOTIFY server
To: BUG-LISPM at MIT-AI

I copied the NOTIFY server and associated funtions CHAOS:NOTIFY and
CHAOS:NOTIFY-ALL-LMS to AI:LMIO;CHSAUX, and installed it as a patch in
system 85, so that all lispms now support this protocol.

Date: 19 May 1982 22:57-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 79.46, ...

Why does List Matching Functions ask you to end input with Control-Return
when (1) that's inconsistent with other things that let you end with End
and (2) if you type End it's going to end your input anyway ...?


Date: 19 May 1982 21:02-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Answering Function being Illegally Redefined queries
To: BUG-LISPM at MIT-AI
cc: DULCEY at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.38,
ZMail 44.3, microcode 122, UC 122, on Lisp Machine Five:

When you redefine a function from another file and get the Function
being Illegally Redefined query, the usual synonyms for Y and N (i.e.,
Hand-Up, etc.) are not accepted.

Date: 19 May 1982 2051-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
To: Dulcey at MIT-AI, RMS at MIT-AI
cc: BUG-LISPM at MIT-AI, RWK at SCRC-TENEX
In-Reply-To: Your message of 19-May-82 2040-EDT

I had thought that Terminal-M didn't work right sometimes, but I hadn't been
able to put my finger on what was wrong.  Now I know.  Would someone like
to explain the reasons behind the current behaviour to me?
-------

Date: Wednesday, 19 May 1982, 20:23-EDT
From: David Vinayak Wallace <GUMBY at MIT-AI>
To: Bug-lispm at AI
Cc: Richard M. Stallman <RMS at MIT-AI>

    EB suggests that Terminal M should complement the selected window's
    more flag, not the global one.  This seems somewhat reasonable to me.
    Does anyone else have an opinion?

I think it's a great idea. Could Terminal c-M do the old behaviour?

Date: 19 May 1982 20:17-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
To: RMS at MIT-AI
cc: BUG-LISPM at MIT-AI, DULCEY at MIT-AI

    Date: 19 May 1982 16:39-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    To: BUG-LISPM at MIT-AI

    EB suggests that Terminal M should complement the selected window's
    more flag, not the global one.  This seems somewhat reasonable to me.
    Does anyone else have an opinion?

Go for it!  (You might want to make Terminal/M with an argument have the
present behavior, in case anybody wants it.)

Date: 19 May 1982 16:39-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI

EB suggests that Terminal M should complement the selected window's
more flag, not the global one.  This seems somewhat reasonable to me.
Does anyone else have an opinion?

Date: Wednesday, 19 May 1982, 08:58-EDT
From: Richard E. Salz <SALZ at MIT-AI>
Subject: zwei, zmail init files...
To: BUG-lispm at EE

In System 210.23, ZMail 45.1, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
site configuration 3, on Zaphod Beeblebrox:

...where can I find out what they look like/can do?

Date: 18 May 1982 23:12-EDT
From: Edward Barton <EB at MIT-AI>
To: BUG-LISPM at MIT-AI


Sorry, I did not phrase my last bug report as I should have.  It should have
read like this, changes emphasized:

    EB@MIT-ML 05/18/82 05:28:22
    In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.36,
    ZMail 44.3, microcode 117, 60.45Hz, on Lisp Machine Six:

    SXHASH and GETHASH-EQUAL are horribly, awfully, abysmally bad on
    >> S-EXPRESSIONS << composed of defstruct-type structures.  When the set 
    of atoms is taken to consist of such structures the entire field of S-expressions
    hashes to zero and GETHASH-EQUAL degenerates to linear search.

Note that it is not unreasonable to want EQUAL hash tables that will
work on lists of structures.  For the structures themselves, EQUAL and
EQ would be the same, though the current EQUAL hash tables would still
be unboundedly worse than EQ hash tables for indexing them.


Date: Tuesday, 18 May 1982  18:47-EDT
From: HES at SCRC-TENEX
To:   MOON at SCRC-TENEX
Cc:   (BUG LISPM) at MIT-AI, BIL at MIT-MC
Subject: Maximum of 64 arguments and 64 local variables

    Date: Tuesday, 18 May 1982  13:00-EDT
    From: MOON
    To:   BIL at MIT-MC
    cc:   (BUG LISPM) at MIT-AI
    Re:   Maximum of 64 arguments and 64 local variables

Actually I have run into this problem also with dpl code which has too many
variables to compile.  

BEE cooked up a hack to deal with this which is gross but not completely
brain damaged in some cases. Since you are generating this code from
some macrexpansion or other, you can probably arrange to break the body
of the function up into a series of internal lambdas which are funcalled.
Each internal lambda is compiled separately and the thing seems to work
out.  Of course there is some extra overhead to the function calls, but
as MOON said you have to make some compromises (although hopefully most
of them are more tasteful than this hack)

Date: Tuesday, 18 May 1982  13:00-EDT
From: MOON at SCRC-TENEX
To:   BIL at MIT-MC
Cc:   (BUG LISPM) at MIT-AI
Subject: Maximum of 64 arguments and 64 local variables

This limit has always existed.  It is a result of design decisions made about 7
years ago.  There is both an architectural limit of 256 words on stack frame size
and no instructions in the compiled-code instruction set for accessing more than
64 arguments, nor more than 64 local variables.

There isn't much help we can offer you; this is just as solid a limit as the
address-space limit on pdp10s; every machine has to have some compromises to
make it finite.  I think you're the third person to run up against it in that
time (unless there were some who never complained).

I believe if your local variable names are gensyms, the compiler will share the
stack slots of variables whose extents don't overlap to the maximum extent
possible.  A declaration that made it do this for all variables could easily
be put in; you wouldn't want it on by default because it makes debugging more
difficult.

Date: Tuesday, 18 May 1982, 10:27-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Input vs. output character sets...
To: Kent M. Pitman <kmp at MIT-MC>
Cc: BUG-LISPM at MIT-AI, Rees at YALE
In-reply-to: The message of 18 May 82 00:41-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: 18 May 1982 00:41-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In System 79.46, ...

    (tyo (tyi))c-G
    >>ERROR: The argument CHAR was 327., which is not a character.
    While in the function TV:SHEET-TYO  (METHOD TV:STREAM-MIXIN TYO) ...

    This is probably not just a random bug. I imagine this is something
    that is the logical consequence of some other design decision (?)...
    Nevertheless, I don't think it's the right thing. Having TYO not
    be the inverse of TYI seems to me to be a bit wierd...

TYI and TYO aren't nearly as closely related as you think.  Mouse
clicks, Hyper-chars, etc. are all in TYI's range, but not in TYO's
domain.  I don't know of any system that has extended input characters
that has an output character set that includes them.

I also don't know of any system which lets you type fonts on the keyboard.

Date: Tuesday, 18 May 1982, 10:15-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Local variables limit
To: BIL at MIT-MC
Cc: bug-lispm at MIT-AI
In-reply-to: The message of 18 May 82 02:33-EDT from BIL at MIT-MC

    From: BIL@MIT-MC
    Date: 05/18/82 02:33:24
    Since when is there a limit (100) on the number of local variables a function
    can have to be compiled? I have a function which I can no longer compile 
    without unnaturally reusing variable names --- this is ridiculous. In case 
    you're curious, many of these are automatically generated.
This is unfortunately true, an artifact of the stack frame format, I
understand.

Date: Tuesday, 18 May 1982, 09:00-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: LOAD-AND-SAVE-PATCHES is confused about the current band
To: David W. Payton <PAYT at MIT-AI>
Cc: EB at MIT-ML, BUG-LISPM at MIT-AI
In-reply-to: The message of 13 May 82 23:26-EDT from David W. Payton <PAYT at MIT-AI>


    Date: 13 May 1982 23:26-EDT
    From: David W. Payton <PAYT at MIT-AI>
	    I fixed this bug a few Symbolics systems ago.  You can merge the changes
	    into the LMI/MIT system from EE if you like.

    Actually, I think the described behavior was partially correct.  You can loose in 
    both the case where you trash your current band and in the case where you trash
    your currently running band.  Suppose, for example, that your currently running band
    is the only good one on the machine and you have mistakenly set the current band
    to one that looses.  Clearly, the querry was incorrect, and both checks are needed.
    I patched this in System 85.
This isn't right.  The mistake was setting the current band to one that loses,
and that is always a mistake, whether you save or boot.  In fact, it's LESS
of a loss to do a disk save than to boot in that case, since only rarely will
you actually break something.

EB@MIT-ML 05/18/82 05:28:22
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.1, System 85.36,
ZMail 44.3, microcode 117, 60.45Hz, on Lisp Machine Six:

SXHASH and GETHASH-EQUAL are horribly, awfully, abysmally bad on
structures composed of defstruct-type structures.  When the set of atoms
is taken to consist of such structures the entire field of S-expressions
hashes to zero and GETHASH-EQUAL degenerates to linear search.



BIL@MIT-MC 05/18/82 02:33:24
To: (BUG LISPM) at MIT-AI
In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Macsyma 30.3, microcode 849, 60Hz, on Lisp Machine Sixteen:

Since when is there a limit (100) on the number of local variables a function
can have to be compiled? I have a function which I can no longer compile 
without unnaturally reusing variable names --- this is ridiculous. In case 
you're curious, many of these are automatically generated.

Date: 18 May 1982 01:58-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: :EXECUTE blips in ZWEI
To: MMCM at MIT-MC
cc: ZVONA at MIT-MC, BUG-LISPM at MIT-AI

In System 79.46,... microcode 849, ... on Lisp Machine Twenty-two:

I was wondering what happens to :EXECUTE blips that are sent to ZWEI's
input buffer during things like M-X commands and reading string search
and things. It seems to me that they should only be executed when ZWEI
is reading from its normal toplevel loop, not in mini-buffers, m-x readers,
etc., since ZWEI's state may be odd in those places... in any case,
I noted the following annoying oddities when sending a 
(:EXECUTE . (FORMAT T "...")) to a zwei input buffer...

 * in a mini-buffer, the typeout happens, but typing a space does not
   clear the typeout. this seems like a misfeature.

 * in a string search, the typeout does not happen. presumably, the reader
   that is in effect there is discarding blips. this seems like a real
   bad bug. i am really depending on these blips to have an effect...

can you comment on this behavior? i can't do with just having blips 
discarded at random.

-kmp


Date: 18 May 1982 00:41-EDT
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-LISPM at MIT-AI
cc: Rees at YALE

In System 79.46, ...

(tyo (tyi))c-G
>>ERROR: The argument CHAR was 327., which is not a character.
While in the function TV:SHEET-TYO  (METHOD TV:STREAM-MIXIN TYO) ...

This is probably not just a random bug. I imagine this is something
that is the logical consequence of some other design decision (?)...
Nevertheless, I don't think it's the right thing. Having TYO not
be the inverse of TYI seems to me to be a bit wierd...


NEVES@MIT-MC 05/18/82 00:39:05
To: (BUG lispm) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.36,
ZMail 44.3, microcode 117, 60.17hz, on Lisp Machine Twenty:

When I log into the Vax using the incorrect UNAME something gets into
an infinite loop.  (i.e. try (login "foobar" "vx") )

Date: 18 May 1982 00:28-EDT
From: Theodore H. Einwohner <The Anonymous Hacker at MIT-AI>
Sender: ___034 at MIT-AI
To: BUG-LISPM at MIT-AI

On Lisp-Machine Zaphod Beeblebrox
 The mouse has massive problems with the ball. One contantly
must hit the mouse violently to get it working. This problem
seems to stem from exherting more than one gram of pressure
on the mouse. For the sake of mankind, SOMEONE FIX IT!!!!

Date: 17 May 1982 20:43-EDT
From: Edward Barton <EB at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.36,
ZMail 44.3, microcode 117, 60.45Hz, on Lisp Machine Six:

I was in an error break and did (dribble-all).  I got the following file
[comments added later].  It didn't contain a copy of my typein, though
it did contain the output from the forms I typed while in the error
break.  Toplevel dribble-all calls do seem to get a copy of typein.

The problem I was trying to report when I did the dribble-all, though, is
that the method hash table printout from DESCRIBE-FLAVOR looks funny.

FOO		; resulted from (defflavor foo () ())

#<FOO 21414306> ; resulted from (make-instance 'foo)
NIL

; now I did a (describe-flavor 'foo):

Flavor FOO directly depends on flavors: none
 and directly or indirectly depends on FOO, SI:VANILLA-FLAVOR
Flavor FOO has instance size 2, instance variables ()
Defined in package ADB
Properties:
     SI:COMPONENT-MAPPING-TABLE-VECTOR:	#<ART-Q-LIST-2 2204555>
     SI:REMAINING-INIT-KEYWORDS:	NIL
     SI:ALL-INITABLE-INSTANCE-VARIABLES:	NIL
     SI:REMAINING-DEFAULT-PLIST:	NIL
     SI:INSTANCE-VARIABLE-INITIALIZATIONS:	NIL
Flavor FOO has method hash table:
#<HASH-TABLE (Funcallable) 2204614> is a hash-table with 9 entries out of a possible 16 (56%).
Locked by (NIL . 0)
FUNCALLing it hashes on the first argument to get a function to call.
There are 0 formerly used entries now deleted
Each key has 2 values associated.
 The rehash function is SI:HASH-TABLE-DOUBLE-SIZE-REHASH with increase parameter 1.3.
Do you want to see the contents of the hash table?Yes.
Do you want it sorted?Yes.
 BREAK -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)
 DESCRIBE -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)
 :EVAL-INSIDE-YOURSELF -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)
 :FUNCALL-INSIDE-YOURSELF -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)
 GET-HANDLER-FOR -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)
 :OPERATION-HANDLED-P -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)
 :PRINT-SELF -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)
 :SEND-IF-HANDLES -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)
 :WHICH-OPERATIONS -> (FORMAT:{ NIL NIL NIL NIL 265 . 24000000)

This is a ART-Q-LIST type array.
It is 60 long.
It has a leader, of length 12

#<HASH-TABLE (Funcallable) 2204614>


Date: 17 May 1982 18:21-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: GUMBY at MIT-AI, HDT at MIT-AI, BUG-LISPM at MIT-AI

The null file problem appears not to exist in 85.36.
If you can make it happen in 85.36 or above, please report it again.

Date: Monday, 17 May 1982, 14:51-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: HDT at MIT-AI, gumby at MIT-AI, BUG-LISPM at MIT-AI

This problem is already fixed in System 210.

Date: 17 May 1982 13:49-EDT
From: Carl Richard Feynman <CARLF at MIT-AI>
Subject: mode slippage in zwei
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.34,
ZMail 44.3, microcode 117, GCed, on Lisp Machine Five:

When I am in text mode, and save my file with c-x c-s, my buffer
changes to lisp mode.

			-- Carl

Date: 17 May 1982 13:48-EDT
From: David Vinayak Wallace <GUMBY at MIT-AI>
To: BUG-LISPM at MIT-AI

The problem HDT mentioned in his last letter (about trouble with ZWEI) seems
to be consistent -- ZWEI barfs trying to read the plist of ANY null file.
A file wit random text in it wins, however.

Date: 17 May 1982 13:17-EDT
From: Howie Daniel Trachtman <HDT at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.34,
ZMail 44.3, Experimental Play 6.5, microcode 122, Play, on Lisp Machine Nine:

In ZWEI: while doing a dired on ai:vsdb; most commands seemed to work fine.
  However, typing an E at _TECO_ OUTPUT  cause a trap:

>>>>TRAP 12100 (ARGTYP FIXNUM PP 2)
The third argument to %STRING-SEARCH-CHAR, NIL was of the wrong type.
The function expected a fixnum.
While in the function STRING-SEARCH <-- FS:FILE-READ-PROPERTY-LIST <-- 
  ZWIE:REVERT-BUFFER

STRING-SEARCH:
  Arg 0 (KEY): "-*-"			
  Arg 1 (STRING): "NIL"
  Arg 2 (FROM): NIL
  Arg 3 (TO): 1

;; since E worked on the other files, I tried a E on _SPELL OUTPUT and it
was fine, as well as the . on _TECO_ OUTPUT

   Could this possible be an error in the way file names are read in?
ZWEI did claim that it had started to read in the file. 
	--Howard--

Date: Monday, 17 May 1982, 13:01-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: dove at MIT-DSPG
Cc: BUG-LISPM at MIT-EECS

    Date: Monday, 17 May 1982, 10:31-EDT
    From: Webster Dove <dove at MIT-DSPG>
    In System 210.23, ZMail 45.1, Remote-File 103.0,
    Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
    site configuration 3, on Marvin:

    Imediately after logging in, I was unable to qc-file a program.  Got the following error:

    Compiling DSPG: /mnt/dove/lispm/signal-defs.l
    >>ERROR: NIL is not a meaningful refname in USER
This is already fixed in 210.37, which isn't on EE yet because LIB:
isn't mounted.  I'll get it there as soon as it's back.

    P.S. How can I collect the printed errors to mail them without copying them down?
If the error is repeatable, you do it in ZTop.  Otherwise you complain
to BUG-LISPM and hopefully this time somebody will add some featureism
to BUG and M-X Bug to allow you to do it right.

Date: Monday, 17 May 1982, 10:31-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 210.23, ZMail 45.1, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
site configuration 3, on Marvin:

Imediately after logging in, I was unable to qc-file a program.  Got the following error:

Compiling DSPG: /mnt/dove/lispm/signal-defs.l
>>ERROR: NIL is not a meaningful refname in USER
While in the function PKG-FIND-PACKAGECOMPILER:COMPUTE-FILE-PROPERTY-LIST(SELECT-METHOD
COMPILER:QC-FILE-PROCESS-FUNCTION INITIALIZE)

PKG-FIND-PACKAGE
  Arg0 (THING): NIL
  --Defaulted args:--
  Arg1 (CREATE-P): NIL
  Arg2 (UNDER-PKG): NIL

However, I was able to compile it within zwei via Compile File.  After that, I could
recompile it with qc-file even when I removed the .qf file via supdup.  Any ideas?

P.S. How can I collect the printed errors to mail them without copying them down?


kmp@MIT-MC 05/17/82 03:08:16
To: (BUG LISPM) at MIT-AI
In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
... microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

There should be documentation about what the :SET-PRIORITY message
to processes takes as args. I am currently using negative numbers
and haven't lost yet, but I couldn't find anywhere where it says
that's allowed. Probably the manual should say if negative numbers
are ok and if floating point numbers are allowed. I don't need floating
point now, but I can imagine cases where someone might.
-kmp

ps Apologies about earlier bug reports from KBE with no "From:" field.
   They were from me. I forgot I wasn't logged as me.

Date: 17 May 1982 02:48-EDT
From: Knowledge-Based Editor <KBE at MIT-AI>
Subject: nZ in Peek
To: BUG-LISPM at MIT-AI

In System 79.46, ... microcode 849, ... on Lisp Machine Twenty-two:

It seems a lot to me like the nZ in peek reads n in 60ths of a second.
3Z seems to (if anything) speed up the update rate. 180Z seems to slow
it down to every-3-second updates. At the very least, the Help-key
documentation should say what the units are.  -kmp

ps If it's not going to be seconds, maybe Z with no arg could prompt 
   for a form to eval so I could type (* 3 60.) and save myself the
   multiplication...

Date: 17 May 1982 01:10-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: BIGFNT incomplete
To: RWK at SCRC-TENEX, kmp at MIT-MC
cc: BUG-LISPM at MIT-AI, DULCEY at MIT-AI

    Date: Monday, 17 May 1982, 00:55-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Subject: BIGFNT incomplete
    To: kmp at MIT-MC
    Cc: BUG-LISPM at MIT-AI
    In-reply-to: The message of 16 May 82 21:06-EDT from kmp at MIT-MC

	From: kmp@MIT-MC
	Date: 05/16/82 21:06:31
	FONTS:BIGFNT is missing the backquote character. It would be nice
	if there were a usable large fonts for some kinds of demos. MEDFNB
	which is about the largest complete font I know about doesn't quite
	cut it for people standing more than 2 feet away...
    The Symbolics BIGFNT has the backquote character.  I'd ship it over for
    you but it looks like GUMBY may already have fixed it for you?

Actually, I'm doing a bit more than that.  I am editing BIGFNT to
contain the full MIT character set.  (The previous version is in
LMFONT;BIGOLD QFASL, in case anyone needs it.)

Until System 85 is patched to load the new font, you will have to
(load "AI:LMFONT;BIGFNT QFASL") before you use BIGFNT if you want the
new version.

Date: Monday, 17 May 1982, 00:55-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: BIGFNT incomplete
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 16 May 82 21:06-EDT from kmp at MIT-MC

    From: kmp@MIT-MC
    Date: 05/16/82 21:06:31
    FONTS:BIGFNT is missing the backquote character. It would be nice
    if there were a usable large fonts for some kinds of demos. MEDFNB
    which is about the largest complete font I know about doesn't quite
    cut it for people standing more than 2 feet away...
The Symbolics BIGFNT has the backquote character.  I'd ship it over for
you but it looks like GUMBY may already have fixed it for you?

MHS@MIT-MC 05/16/82 22:42:22 Re: Correction of previous bug report.
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.31,
ZMail 44.3, microcode 117, 60.17hz, on Lisp Machine Twenty:

ZWEI sets the buffer major mode to my default every time I save the file.
(I was saving before going to the supdup in the last bug report.)

Mark Shirley
MHS@MC


MHS@MIT-MC 05/16/82 21:09:00
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.31,
ZMail 44.3, microcode 117, 60.17hz, on Lisp Machine Twenty:

Inconsistantly (read "I don't see a pattern") when I switch back and
forth from my editor to a supdup, the editor buffer mode gets reset to
my default value.  (I'm using CWH's zwei setup, but I don't get this
problem with system 79.)

Mark Shirley
MHS@MC


kmp@MIT-MC 05/16/82 21:06:31
To: (BUG LISPM) at MIT-AI
In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 23.0, microcode 849, on CADR-22:

FONTS:BIGFNT is missing the backquote character. It would be nice
if there were a usable large fonts for some kinds of demos. MEDFNB
which is about the largest complete font I know about doesn't quite
cut it for people standing more than 2 feet away...


Date: 16 May 1982 16:24-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: PRESS:PRINT-FILE in font TimesRomanMIT10
To: BUG-LISPM at MIT-AI
cc: DULCEY at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.34,
ZMail 44.3, Experimental Play 6.5, microcode 122, Play, on Lisp Machine Nine:

(press:print-file "ai:gumby;dulcey rmail" ':font 'TimesRomanMIT10)

(or any other file for that matter) loses.  You get a message for
every character in the file saying that it is an undefined character
in the font.

If you manage to fool the machine into going on with the output by
repeatedly typing Spaces when it asks for **MORE**, the output will be
correct (if you succeed in not timing out the Spruce, anyway).

Date: Sunday, 16 May 1982, 14:31-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: SI:CONVERSE is not a function
To: Howie Daniel Trachtman <HDT at MIT-AI>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 16 May 82 08:26-EDT from Howie Daniel Trachtman <HDT at MIT-AI>

    Date: 16 May 1982 08:26-EDT
    From: Howie Daniel Trachtman <HDT at MIT-AI>
    To: BUG-LISPM at MIT-AI

    In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.29,
    ZMail 44.3, microcode 122, Copy me!, on Lisp Machine Twenty-four:

     This may not really be a bug report, but why does (apropos 'converse) show
    (si:converse) when a call to that function gets an error -- the function is undefined?

Did APROPOS say that it was a function?  (Try (apropos 'car) to see what its output
format is.)  si:converse is the name of a system, which is why that symbol is interned.
Apropos lists interned symbols, not functions, and gives a 1-line description of any
function or variable named by the symbol.

Date: 16 May 1982 08:26-EDT
From: Howie Daniel Trachtman <HDT at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.29,
ZMail 44.3, microcode 122, Copy me!, on Lisp Machine Twenty-four:

 This may not really be a bug report, but why does (apropos 'converse) show
(si:converse) when a call to that function gets an error -- the function is undefined?
  --Howard--

Date: 16 May 1982 05:42-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI

Making internal functions able to access instance variables of SELF
has the virtue of compatibility: the code will do the same thing
that it used to do when all instance variables were bound as specials.

What it does is not all that clean: if the internal function refers
to instance variable FOO, then it gets the FOO of whatever object
SELF happens to be when it is called, not necessarily the one which
the outer function was handed.

It used to be even less clean: FOO was made special for the inner
function and that function would see whatever binding FOO happened
to have, whether from an instance or not.  Now at least you either
get the slot from an instance of the right flavor or you get an
error message.

Date: 16 May 1982 05:37-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI

The two flavor problems reported recently by EB have been patched.

Date: Saturday, 15 May 1982, 14:53-EDT
From: David Chapman <Zvona at MIT-AI>
To: kwh at MIT-AI, bug-lispm at MIT-AI
In-reply-to: The message of 15 May 82 07:21-EDT from Ken Haase <kwh at MIT-AI>

    It's a real pain to have to type my password to a TWENEX
    over and over because the file connection to it has killed itself off.
dph has written a fix for this, which simply stores your password
in some datastructure.  You might ask him for it.

Symbolics has consistently refused to put such a feature into
their software, even on an optional switch-settable basis, on the
grounds that it is a security problem.  Since no one here cares
much about security problems here, I suggest that this fix be
added to the MIT system.

Date: 15 May 1982 14:54-EDT
From: Edward Barton <EB at MIT-AI>
To: RMS at MIT-AI
cc: BUG-LISPM at MIT-AI

    Date: 14 May 1982 21:22-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
        (defmethod (f-1 :adjust-x-of-object) (ob)
          (funcall ob ':funcall-on-x (let-closed ((i increment))
        			       #'(lambda (y) (+ y i)))))
    The internal lambda is inside a DECLARE-FLAVOR-INSTANCE-VARIABLES for
    F-1 because it is inside of a method for F-1.  I think this is
    reasonable; it means that the internal lambda can access instance
    variables of SELF.  If that is not what you want, you can give
    the internal function a name and define it outside:
        (defmethod (f-1 :adjust-x-of-object) (ob)
          (funcall ob ':funcall-on-x (let-closed ((i increment))
    				   'foo)))
        (defun foo (y) (+ y i))
    It would be possible for me to change the compiler so that the
    internal lambda is not able to access instance variables of SELF, if
    that can be shown to be the right thing to do.

I don't know what other people think, but I think that it is wrong for
the internal lambda to interpret things that might be instance
variables as instance variables.  I am not sure what interpreting them
as instance variables means.  Does it mean that semantically, instance
variables are implicitly closed over, so that an occurrence of
INCREMENT in the internal lambda would mean the INCREMENT of the
object in which the closure was generated?  Or would calling an
internal lambda that was generated inside one F-1, inside another F-1,
access INCREMENT of the object that is SELF at the time of call?  What
if the closure is called from somewhere besides a method?  It would be
nice to have a way of closing over instance variables [maybe there is
a way already, with some instance-variable-binding construct that I'm
not familiar with], but I don't think it should be automatic.  Note
that many other things are not propagated to internal lambdas; for
instance a COMPILER-LET wrapped around the body of the outer function
will not affect compilation of the inner lambda.  And what about the
behavior of the LAMBDA in interpreted code, which probably won't
propagate declaration information?  Also, I don't think the system
should be set up so that giving the internal function a name changes
things.  I can't think of other places where it does, except where
some kind of open-coding is going on, though there might be some.

If it is decided that internal lambdas should have access to instance
variables, that fact should be announced and presented in conjunction
with some coherent account of what does and doesn't get passed to an
internal LAMBDA, and whether or not #'(lambda..) is equivalent to
'(lambda..) in the interpreter.

Date: Saturday, 15 May 1982, 12:58-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Gumby at MIT-AI
Cc: Bug-lispm at MIT-AI

    Date: Saturday, 15 May 1982, 12:08-EDT
    From: David Vinayak Wallace <Gumby at MIT-AI>
    What if the lispm remembered the passwords and account names for various
    hosts after they had been used once (so that it could re-establish the
    file connexions automatically). Perhaps this could be user-disabled (so
    paranoiacs wouldn't have their passwords floating around).
Refer to the system 204 release notes.

Date: Saturday, 15 May 1982, 12:54-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: Gregor at MIT-AI
Cc: BUG-LISPM at MIT-AI

    Date: 14 May 1982 11:37-EDT
    From: Gregor J. Kiczales <Gregor at MIT-AI>
    In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.31,
    ZMail 44.3, microcode 117, 60.17hz, on Lisp Machine Twenty:

    In MAKE-SYSTEM.

    Doing a (make-system 'system-name ':compile ':noconfirm) for a
    system for which some of the qfasls don't exist (presumably the
    reason you chose those arguments to make system was to get them
    compiled) causes si:file-newer-than-installed-p to bomb out with
    a File Does Not Exist error.

This has evidently been fixed already in 210.

Date: Saturday, 15 May 1982, 12:08-EDT
From: David Vinayak Wallace <Gumby at MIT-AI>
To: Bug-lispm at MIT-AI

What if the lispm remembered the passwords and account names for various
hosts after they had been used once (so that it could re-establish the
file connexions automatically). Perhaps this could be user-disabled (so
paranoiacs wouldn't have their passwords floating around).

			david

Date: 15 May 1982 12:07-EDT
From: George J. Carrette <GJC at MIT-MC>
To: DLA at SCRC-TENEX
cc: BUG-LISPM at MIT-EECS, PEOT at MIT-AI

Perhaps some addition to the bug-mail-sending code, to say:
"this system is unreleased, do you really want to send a bug note."
Or perhaps better, for bug notes to unreleased system to go into
another mail destination. Specifically, *not* to a distribution-style list.

In the case of the EECS machines it is very difficult to control
who uses them, and what they think they are using them for, hence bug
notes may be fairly random in nature.


Date: 15 May 1982 07:21-EDT
From: Ken Haase <kwh at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.31,
ZMail 44.3, microcode 117, 60.17hz, on Lisp Machine Twenty:

File connections disappearing after a period of time should probably
be both per-host and user settable.  It's a real pain to have
to type my password to a TWENEX over and over because the file connection
to it has killed itself off.  On ITS's, I approve, but I don't think
it is a feature for Twenex's....

Ken

Date: Friday, 14 May 1982, 18:42-EDT
From: Mark Alan Peot <PEOT at MIT-AI>
To: BUG-LISPM at EE

In System 210.23, ZMail 45.1, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
site configuration 3, on Marvin:

Symbolics Lisp is not completely compatible with MIT Lisp Machine Lisp!!

The function (macro?) "<-" is not implemented, so Lisp Machine Logo Graphics
will really lose.  Fix this, please!

Date: Saturday, 15 May 1982, 02:18-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: fed:read-ast-into-font-descriptor
To: Bruce J. Nemnich <IPS.BJN at MIT-EECS>
Cc: BUG-lispm at MIT-EECS
In-reply-to: The message of 15 May 82 00:23-EDT from Bruce J. Nemnich <IPS.BJN at MIT-EECS>

    Date: Saturday, 15 May 1982, 00:23-EDT
    From: Bruce J. Nemnich <IPS.BJN at MIT-EECS>
    Subject: fed:read-ast-into-font-descriptor
    To: BUG-lispm at EE

    In fed in System 210.23, ZMail 45.1, Remote-File 103.0,
    Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
    site configuration 3, on Zaphod Beeblebrox:

    In fed:read-ast-into-font-descriptor:

    The lines pointed to by arrows below should be added in order for it to be
    able to handle ast files of the sort:

    37 Height
    21 Base Line
    0 Column Position Adjustment
    0 Character Code
    0 Raster Width
    22 Character Width
    0 Left Kern
    1 Character Code
    0 Raster Width
    22 Character Width
    ...

    In the current version, it will not see the  #\form of the following character
    and try to process the line as a raster line.

	    (DO-NAMED TOP ((VPOS 0 (1+ VPOS)))
		      ((= VPOS LINE-HEIGHT))
	      (DO ((HCNT 0 (1+ HCNT)))
		  ((= HCNT INPUT-RASTER-WIDTH)
		   (DO ((CH)) ()
		     (COND ((OR (NULL (SETQ CH (FUNCALL STREAM ':TYI)))
				(= CH #\RETURN))
			    (RETURN NIL))
	    -->	       ((= CH #\FORM)
	    -->		(FUNCALL STREAM ':UNTYI CH)
	    -->		(RETURN-FROM TOP NIL))	
			   ((NOT (= CH #\SPACE))
			    (FERROR NIL "non space seen past raster width")))))
		(SETQ CH (FUNCALL STREAM ':TYI))
		    ...

Has this change been tested?  The place where you are modifying the code
is never reached if INPUT-RASTER-WIDTH is zero.

Date: Saturday, 15 May 1982, 00:23-EDT
From: Bruce J. Nemnich <IPS.BJN at MIT-EECS>
Subject: fed:read-ast-into-font-descriptor
To: BUG-lispm at EE

In fed in System 210.23, ZMail 45.1, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
site configuration 3, on Zaphod Beeblebrox:

In fed:read-ast-into-font-descriptor:

The lines pointed to by arrows below should be added in order for it to be
able to handle ast files of the sort:

37 Height
21 Base Line
0 Column Position Adjustment
0 Character Code
0 Raster Width
22 Character Width
0 Left Kern
1 Character Code
0 Raster Width
22 Character Width
...

In the current version, it will not see the  #\form of the following character
and try to process the line as a raster line.

	(DO-NAMED TOP ((VPOS 0 (1+ VPOS)))
		  ((= VPOS LINE-HEIGHT))
	  (DO ((HCNT 0 (1+ HCNT)))
	      ((= HCNT INPUT-RASTER-WIDTH)
	       (DO ((CH)) ()
		 (COND ((OR (NULL (SETQ CH (FUNCALL STREAM ':TYI)))
			    (= CH #\RETURN))
			(RETURN NIL))
	-->	       ((= CH #\FORM)
	-->		(FUNCALL STREAM ':UNTYI CH)
	-->		(RETURN-FROM TOP NIL))	
		       ((NOT (= CH #\SPACE))
			(FERROR NIL "non space seen past raster width")))))
	    (SETQ CH (FUNCALL STREAM ':TYI))
		...

Date: Friday, 14 May 1982, 21:51-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: PEOT at MIT-AI
Cc: BUG-LISPM at MIT-EECS

    Date: Friday, 14 May 1982, 18:42-EDT
    From: Mark Alan Peot <PEOT at MIT-AI>
    In System 210.23, ZMail 45.1, Remote-File 103.0,
    Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
    site configuration 3, on Marvin:

    Symbolics Lisp is not completely compatible with MIT Lisp Machine Lisp!!

    The function (macro?) "<-" is not implemented, so Lisp Machine Logo Graphics
    will really lose.  Fix this, please!

This is mentioned in the system 210 release notes, which you should have
read before using system 210.  However, that is quite impossible because
they havn't been distributed yet.  Therefore, you shouldn't be using 210.

Also, I don't ever remember anybody claiming that "Symbolics Lisp" was
to be completely compatible with "MIT Lisp Machine Lisp".

Date: Friday, 14 May 1982, 21:36-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: NLM at MIT-AI
Cc: BUG-LISPM at MIT-AI

    Date: 11 May 1982 13:24-EDT
    From: Neil L. Mayle <NLM at MIT-AI>

    In any of the future worlds (beyond 79) is the inspector fixed so that
    it doesn't blow out on circular structure?

Microcode 896 fixes the class of problems such as MEMQ or LAST on a
circular list.  (You can abort out of them.)

Date: 14 May 1982 21:22-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: EB at MIT-ML
cc: BUG-LISPM at MIT-AI

    (defmethod (f-1 :adjust-x-of-object) (ob)
      (funcall ob ':funcall-on-x (let-closed ((i increment))
    			       #'(lambda (y) (+ y i)))))

The internal lambda is inside a DECLARE-FLAVOR-INSTANCE-VARIABLES for
F-1 because it is inside of a method for F-1.  I think this is
reasonable; it means that the internal lambda can access instance
variables of SELF.  If that is not what you want, you can give
the internal function a name and define it outside:

    (defmethod (f-1 :adjust-x-of-object) (ob)
      (funcall ob ':funcall-on-x (let-closed ((i increment))
				   'foo)))

    (defun foo (y) (+ y i))

It would be possible for me to change the compiler so that the
internal lambda is not able to access instance variables of SELF, if
that can be shown to be the right thing to do.

Date: 14 May 1982 21:04-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: EB at MIT-AI, BUG-LISPM at MIT-AI

    EB@MIT-ML 05/14/82 13:44:33
    In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.32,
    ZMail 44.3, microcode 122, GC@.28, on Lisp Machine Fifteen:

    It appears that M-X Load File will load the source unless you explicitly
    say "QFASL".  That makes Load File behave differently from LOAD.

I fixed this in the source.  By the way, only the idea for this
feature was copied in any sense from Symbolics.

Date: Friday, 14 May 1982  18:10-EDT
From: MOON at SCRC-TENEX
to:   BSG at SCRC-TENEX
cc:   BUG-LISPM at MIT-AI
Subject: Spurious answer to bug report about m-x Load File

Bernie, this bug exists only in the MIT system 85.  The Symbolics m-X Load File
command works correctly; the bug was introduced in transcription when the Symbolics
feature was copied by someone at MIT.

Date: Friday, 14 May 1982, 17:55-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: dove at MIT-DSPG
Cc: BUG-LISPM at MIT-EECS

    Date: Friday, 14 May 1982, 16:29-EDT
    From: Webster Dove <dove at MIT-DSPG>
    In System 210.23, ZMail 45.1, Remote-File 103.0,
    Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
    site configuration 3, on Zaphod Beeblebrox:

    This is a zwei bug.
    If I (setq zwei:*default-major-mode* zwei:text-mode) and have it create a default buffer,
    in text mode, then ^X^B lists up to that buffer then gets a failure.

That's because you really want to do (setq zwei:*default-major-mode*
'zwei:text-mode).

Date: 14 May 1982 17:46-EDT
From: Edward Barton <EB at MIT-AI>
To: BSG at SCRC-TENEX
cc: BUG-LISPM at MIT-AI

    Date: Friday, 14 May 1982, 17:14-EDT
    From: Bernard S Greenberg <BSG at SCRC-TENEX>
    In-reply-to: The message of 14 May 82 13:44-EDT from EB at MIT-ML

        From: EB@MIT-ML
        Date: 05/14/82 13:44:33
        EB@MIT-ML 05/14/82 13:44:33
        In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.32,
        ZMail 44.3, microcode 122, GC@.28, on Lisp Machine Fifteen:

        It appears that M-X Load File will load the source unless you explicitly
        say "QFASL".  That makes Load File behave differently from LOAD.

    Every time I've ever wanted to use it, or used it, I've wanted it to do what it does.

I believe it also loads the ">" version when you do M-x Compile and Load File.
If I am not remembering that wrong, it is certainly wrong for it to compile
the file and then load the source, whatever is decided about Load File.

Date: Friday, 14 May 1982, 16:47-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: DLA at MIT-EECS, MP at MIT-AI
Cc: BUG-LISPM at MIT-EECS

    Date: Saturday, 8 May 1982, 22:25-EDT
    From: DLA at MIT-EECS, MP at MIT-EECS
    In System 210.13, ZMail 45.1, Remote-File 103.0, microcode 895,
    site configuration 3, on Zaphod Beeblebrox:

    Telnet to multics and entering emacs causes all sorts of unbound
    variables errors.
Fixed in 210.32.  Am I schizophrenic yet?

Date: Friday, 14 May 1982, 16:37-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 210.23, ZMail 45.1, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
site configuration 3, on Zaphod Beeblebrox:

Concerning that last bug.  It appears that (setq zwei:*default-major-mode* 'zwei:text-mode)
fixes it.

Date: Friday, 14 May 1982, 16:29-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 210.23, ZMail 45.1, Remote-File 103.0,
Experimental Macsyma 36.0, DAEDALUS 45.0, microcode 895,
site configuration 3, on Zaphod Beeblebrox:

This is a zwei bug.
If I (setq zwei:*default-major-mode* zwei:text-mode) and have it create a default buffer,
in text mode, then ^X^B lists up to that buffer then gets a failure.  Something about
not being able to interpret the mode.  If I continue the error with nil, then the 
^X^B completes and lists that buffer as type (NIL).

EB@MIT-ML 05/14/82 14:33:10
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.32,
ZMail 44.3, microcode 122, GC@.28, on Lisp Machine Fifteen:

; Here is file BARF:

; -*- Mode:Lisp; Package:User -*-

(defflavor f-1 
  (increment)
  ()
  :initable-instance-variables)

(defmethod (f-1 :adjust-x-of-object) (ob)
  (funcall ob ':funcall-on-x (let-closed ((i increment))
			       #'(lambda (y) (+ y i)))))

(defflavor f-2
  (x)
  ()
  :initable-instance-variables)

(defmethod (f-2 :funcall-on-x) (f)
  (funcall f x))

(defun test-1 ()
  (let ((y (make-instance 'F-1 ':increment 1))
	(z (make-instance 'F-2 ':x 104)))
    (funcall y ':adjust-x-of-object z)))

; Here is a dribble file:

(qc-file-load "ml:eb;barf >")
Loading ML: EB; BARF QFASL into package USER

#<ITS-PATHNAME "ML: EB; BARF QFASL">

(test-1)
>>>>TRAP 5005 (NO-MAPPING-TABLE)
Flavor F-1 is not a component of SELF's flavor, F-2,
on a call to a function which assumes SELF is a F-1.
While in the function (INTERNAL (METHOD F-1 ADJUST-X-OF-OBJECT) 0)  (METHOD F-2 FUNCALL-ON-X)  (METHOD F-1 ADJUST-X-OF-OBJECT)

(INTERNAL (METHOD F-1 ADJUST-X-OF-OBJECT) 0):
   --Missing args:--
   Arg 0 (Y)


Someone please look into this soon.  I can't run any of my code.


EB@MIT-ML 05/14/82 13:44:33
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.32,
ZMail 44.3, microcode 122, GC@.28, on Lisp Machine Fifteen:

It appears that M-X Load File will load the source unless you explicitly
say "QFASL".  That makes Load File behave differently from LOAD.


Date: 14 May 1982 12:00-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.31,
ZMail 44.3, microcode 117, 60.17hz, on Lisp Machine Twenty:

IN ZWEI,

DO* doesn't grind the same way DO does.

(PLIST 'DO*)
(COMPILER:OPTIMIZERS (COMPILER:DOEXPANDER)
                     PREVIOUS-DEFINITION
                     #<DTP-FEF-POINTER DO* 1534770>
                     SOURCE-FILE-NAME
                     #<LOGICAL-PATHNAME "SYS: SYS; QFCTNS">)

Date: 14 May 1982 11:44-EDT
From: Gerald R. Barber <JerryB at MIT-AI>
Subject: SI:INSTANCE-HASH-FAILURE
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.32,
ZMail 44.3, microcode 122, 60Hz Mathlab, on Lisp Machine Sixteen:

SI:INSTANCE-HASH-FAILURE had a bug whereby if a user had an
:UNCLAIMED-MESSAGE handler, the handler would get the args but not the
operation.  I fixed this in the source but did not patch it.


Date: 14 May 1982 11:37-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.31,
ZMail 44.3, microcode 117, 60.17hz, on Lisp Machine Twenty:

In MAKE-SYSTEM.

Doing a (make-system 'system-name ':compile ':noconfirm) for a
system for which some of the qfasls don't exist (presumably the
reason you chose those arguments to make system was to get them
compiled) causes si:file-newer-than-installed-p to bomb out with
a File Does Not Exist error.

Date: 14 May 1982 09:48-EDT
From: Edward Barton <EB at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.32,
ZMail 44.3, microcode 122, GC@.28, on Lisp Machine Fifteen:

The reason why tracing QC-TRANSLATE-FUNCTION breaks the compilation of
flavor methods is that SI:APPLY-LAMBDA pushes onto LOCAL-DECLARATIONS
a form to invalidate the flavor-self-declaration, even though the lambda
being applied at compile time as a result of the TRACE encapsulation has
nothing to do with the runtime environment that the flavor declaration
presumably is trying to describe.

I don't know what the right fix to this is; I will get around it in my
own code by kludgerous methods.  (I will define a new encapsulation type
and manage to compile those encapsulations so that my encapsulated
QC-TRANSLATE-FUNCTION will not result in SI:APPLY-LAMBDA being called,
but that still leaves advising and uncompiled tracing of compiler
functions broken.)

Date: 13 May 1982 23:26-EDT
From: David W. Payton <PAYT at MIT-AI>
Subject: LOAD-AND-SAVE-PATCHES is confused about the current band
To: DLA at SCRC-TENEX, EB at MIT-ML
cc: BUG-LISPM at MIT-AI


	I fixed this bug a few Symbolics systems ago.  You can merge the changes
	into the LMI/MIT system from EE if you like.

Actually, I think the described behavior was partially correct.  You can loose in 
both the case where you trash your current band and in the case where you trash
your currently running band.  Suppose, for example, that your currently running band
is the only good one on the machine and you have mistakenly set the current band
to one that looses.  Clearly, the querry was incorrect, and both checks are needed.
I patched this in System 85.

Date: 13 May 1982 19:05-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI, NLM at MIT-AI

If the mouse is on the color screen and an inspector is to
appear on the default screen, should the mouse screen also
be changed automatically?  Or should the user have to do it?
Or perhaps there should be a keyboard command to do it?
What about changing it back if you exit the inspector?
But what if you don't exit it but simply switch windows
and never come back to it?

Date: Thursday, 13 May 1982  17:19-EDT
From: MOON at SCRC-TENEX
To:   Daniel Weise <Daniel at MIT-AI>
Cc:   BUG-LISPM at MIT-AI
Subject: DefSubst costs too much.

I guess we've always assumed that people would use them like macros.
Seems like it's more than past time to change them to be compiled as ordinary
functions with the substitutable body saved "on the side".

EB@MIT-ML 05/13/82 15:09:16
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.29,
ZMail 44.3, microcode 122, 60.45Hz, on Lisp Machine Nine:

Tracing COMPILER:QC-TRANSLATE-FUNCTION breaks the compiler.

(defflavor g1 (x) () :gettable-instance-variables)
G1

(trace compiler:qc-translate-function)
(COMPILER:QC-TRANSLATE-FUNCTION)

(defflavor g2 (x) () :gettable-instance-variables)
(1 ENTER COMPILER:QC-TRANSLATE-FUNCTION  ((METHOD G2 X) (LAMBDA (IGNORE) (DECLARE 
(SYS:FUNCTION-PARENT G2 DEFFLAVOR)) X) COMPILER:MACRO-COMPILE COMPILER:COMPILE-TO-CORE))
<< While compiling (METHOD G2 X) >>
Warning: X declared special.
(1 EXIT COMPILER:QC-TRANSLATE-FUNCTION  NIL)
G2

Actually, encapsulating it in any way breaks the compiler.
This is actually screwing me; it's not just an idle report.

This problem didn't happen in System 79, or if it did it had no
observable manifestations.


Date: 13 May 1982 14:13-EDT
From: Carl W. Hoffman <CWH at MIT-MC>
Subject: DefSubst costs too much.
To: Daniel at MIT-AI, BUG-LISPM at MIT-AI

    Date: 12 May 1982 16:43-EDT
    From: Daniel Weise <Daniel at MIT-AI>

    Is there
    some way to to have a FEF be generated for compiled defsubsts?

You could probably write a DEFINE-OPEN macro (something like LSB's
define-open-codable-procedure) which would generate a DEFUN and a
compiler-optimizer.

In the long term, I think Common Lisp should replace DEFMACRO with two
facilities: one for defining open-codable procedures, and another for
defining special forms.  Mapping, funcalling, and conditional
macro-expansion only make sense for the first category.


Date: Thursday, 13 May 1982, 14:11-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: LOAD-AND-SAVE-PATCHES is confused about the current band
To: EB at MIT-ML
Cc: BUG-LISPM at MIT-AI

I fixed this bug a few Symbolics systems ago.  You can merge the changes
into the LMI/MIT system from EE if you like.

Date: Thursday, 13 May 1982, 10:58-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: NLM at MIT-AI, BUG-LISPM at MIT-AI

Just for you information: The problem in which the Converse window pops
up on the color screen does not happen in system 210.

EB@MIT-ML 05/13/82 10:18:31
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.29,
ZMail 44.3, microcode 122, 60.45Hz, on Lisp Machine Nine:

Terminal-M doesn't seem to complement the **MORE** state.


EB@MIT-ML 05/13/82 09:58:05
To: (BUG LISPM) at MIT-AI
In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.29,
ZMail 44.3, microcode 122, 60.45Hz, on Lisp Machine Nine:

I logged in and intended to do LOAD-AND-SAVE-PATCHES.  I didn't want to
save into the current band so before I did the LOAD-AND-SAVE-PATCHES I set
the current band from LOD3 to LOD1 (another system 85 system).  Then I
did the LOAD-AND-SAVE-PATCHES.  When it printed the disk label LOD1 was
marked as the current band, but when I told it to save into LOD3, it
complained that it was dangerous to save into the current band.  LOD3
was only the running band, not the current band.  I haven't seen this
happen before.


Date: 13 May 1982 03:14-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Framed Split Screen including Editor
To: BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI
cc: DULCEY at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.2, MIT-Specific 7.0, System 85.27,
ZMail 44.3, microcode 122, 60Hz Mathlab, on Lisp Machine Sixteen:

Attempting to create a Framed split-screen which includes one or more
editors causes one to lose when you attempt to recall the frame with the
System key (assuming you set one up when you created the frame), with
the following error messsage:

--> Window system problems, using the cold-load stream <--


>>>>TRAP 5033 (FUNCTION-ENTRY)
The function (METHOD ZWEI:ZMACS-FRAME BEFORE EXPOSE) was called with too many arguments.
While in the function (METHOD ZWEI:ZMACS-FRAME BEFORE EXPOSE)  (INTERNAL (METHOD ZWEI:ZMACS-
FRAME COMBINED EXPOSE) 0)  TV:SHEET-EXPOSE

(METHOD ZWEI:ZMACS-FRAME BEFORE EXPOSE):
   Arg 0 (OPERATION): EXPOSE
   -- Extraneous args --
   Arg 1: NIL

Resuming this asks if you want to proceed, throwing away the extraneous
arguments.  If you do this, the frame gets properly set up, except that
the borders of the top window are not properly drawn (because the
cold-load clobbered them).  Aborting also seems to win.

The frame gets set up without incident the first time.  It only loses
when you come back to the frame with System whatever, or select one of
the windows, or whatever.

The complete sequence of events was:
{cold-boot}
(login 'dulcey 'ai nil)
{mouse-right}	;get system menu
{mouse-left on Split Screen}
{mouse-left on Lisp}
{mouse-left on Edit}
{mouse-left on Frame}
{mouse-left on none}	;as in System char to invoke
Y
{mouse-left on Do It}	;in main split-screen menu
<frame sets up correctly (well, almost.  The editor doesn't initialize
until that window is selected.  Is this a bug?)>
{System/C}	;go somewhere else
{System/Y}	;try to get back

Date: 12 May 1982 21:14-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: FS:*KNOWN-TYPES*
To: JERRYB at MIT-AI, BUG-LISPM at MIT-AI

    The variable FS:*KNOWN-TYPES* has disappeared in this system.  This is a
    documented special variable in the pathname facility.  There is no
    mention of its demise in either the SYS83 or SYS85 messages.

The announcement does say that generic pathnames have been
rehacked and you should come talk to people if you need to know the
details, since they are hairy.

RG is the expert on this, but I believe that all types are now treated
as "known" types, so the list became irrelevant.

Is the problem just that your code tries to add to the list and loses
because the variable is unbound?  I could fix that straightforwardly.
If the problem is more complicated, we should discuss it face to face
for better communication.

Date: 12 May 1982 16:43-EDT
From: Daniel Weise <Daniel at MIT-AI>
Subject: DefSubst costs too much.
To: BUG-LISPM at MIT-AI

In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental DAEDALUS 44.0, microcode 849, on Lisp Machine Two:

Let me tell this in story form...

Many low level accessors in DPL are functions.  I recently
discovered how much faster things run when low level accessors
are changed to macros, so I decided to change some dpl accessors
to macros.  However, I didn't want to force users to recompile
their code to avoid the FUNCALLING THE MACRO BAR stuff.
Therefore using a DEFSUBST seemed the right thing.  As a start
I changed one function to a defsubst and compiled it, but
compiled  no other code.  I then ran my extractor on a large cell.
JUST FROM CHANGING ONE FUNCTION TO A DEFSUBST MY EXTRACTOR 
LITERALLY RAN 3 TIMES SLOWER.  I was rather surprised.  Investigation
showed that compiling defsubsts does not generate FEFs, it generates
named-defsubsts which are interpreted.  This means that funcalling
a subst results in the evaluator always being run.  Is there
some way to to have a FEF be generated for compiled defsubsts?


Daniel

PS  I just checked, and this behavior is documented.  Also,
    to all you folks who use Defsubst:  be sure you are defsubst'ing
    functions before their use, or you are losing.

PPS If one maps a previously defsubst'ed function in code which
    is then compiled does the right thing happen?  (For some value
    of "right thing."  The wrong thing is clear.)

Date: 12 May 1982 16:40-EDT
From: David W. Payton <PAYT at MIT-AI>
To: HANSON at MIT-AI
cc: BUG-LISPM at MIT-AI

	Date: Wednesday, 12 May 1982, 11:39-EDT
	From: David L. Andre <DLA at SCRC-TENEX>

		Date: 12 May 1982 07:13-EDT
		From: Christopher P. Hanson <HANSON at MIT-AI>

		The :PROBE and :NOERROR keyword options to OPEN and WITH-OPEN-FILE do not
		prevent the "host not responding" error from happening; they are supposed to.

	No, I disagree.  The host being down is a quite different error than the
	file not existing. 

Maybe so, but the "device full" and "not enough resoruces" errors also have very little
to do with a file not existing, yet they do not cause errors with :PROBE and :NOERROR.
The "host not responding" bug has been fixed in System 85, with the advantage that you
are allowed to enter an alternate pathname if the host you originally wanted was down.  

Date: Wednesday, 12 May 1982, 11:39-EDT
From: George J. Carrette <GJC at MIT-MC>
To: DLA at MIT-MC
Cc: BUG-LISPM at EE

In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
Experimental Caretaker 2.2, microcode 865, site configuration 2,
Hitchhiker, on Zaphod Beeblebrox:

Thanks for taking care of CADR-10 and 13 so quickly. Now I have
just done an unhappy thing to CADR-13:

(disk-restore 2) ;; to test out the Macsyma band you made.

That band prefers microcode 895 but the running microcode is 865.
Do you really want to reload LOD2 (210.23 MacDead)? (Yes or No) no

;; oh well.

(set-current-microload "mcr1") ;; oops, that should be a "2" not a "1"
(set-current-band "lod2")

;; <control><meta><control><meta><rubout>!

;; After three tries, now I realize my typo. AAAAArgh!!!

Obviously you see what is needed here, a function BAND-RESTORE
that given the band you want does right thing with the microload.
And causes NO side-effects that can make the machine unbootable!

This is especially needed at EECS, since I will want to tell somebody 
how to get a Macsyma to use, and not always be there. If I can tell
him one function to call, great, but if I have to tell him to do
SET-CURRENT-MICROLOAD followed by SET-CURRENT-BAND, followed by
cold booting, and then to make sure he RESTORES the state afterwards
by a similar sequence, then I think that is asking too much of
"J-Random Macsyma User," and he will most certainly fuck things up,
as I have done just now!


Date: Wednesday, 12 May 1982, 11:39-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: HANSON at MIT-AI
Cc: BUG-LISPM at MIT-AI, NEW-ERROR-SYSTEM at SCRC-TENEX

    Date: 12 May 1982 07:13-EDT
    From: Christopher P. Hanson <HANSON at MIT-AI>

    The :PROBE and :NOERROR keyword options to OPEN and WITH-OPEN-FILE do not
    prevent the "host not responding" error from happening; they are supposed to.

No, I disagree.  The host being down is a quite different error than the
file not existing.  If indeed you really want to prevent any error from
happening (including "car of a number"), then you should be using
CATCH-ERROR.

Anyway, situations like this will be much easier to handle in the new
error system...

Date: 12 May 1982 10:35-EDT
From: Gerald R. Barber <JerryB at MIT-AI>
Subject: FS:*KNOWN-TYPES*
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.1, MIT-Specific 7.0, System 85.23,
ZMail 44.3, Experimental XMEGA 7.0, microcode 117, GCed, on Lisp Machine Sixteen:

The variable FS:*KNOWN-TYPES* has disappeared in this system.  This is a
documented special variable in the pathname facility.  There is no
mention of its demise in either the SYS83 or SYS85 messages.

Date: 12 May 1982 07:13-EDT
From: Christopher P. Hanson <HANSON at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.1, MIT-Specific 7.0, System 85.23,
ZMail 44.3, microcode 117, GCed, on Lisp Machine Sixteen:

The :PROBE and :NOERROR keyword options to OPEN and WITH-OPEN-FILE do not
prevent the "host not responding" error from happening; they are supposed to.

Date: 12 May 1982 04:52-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: INFO-LISPM at MIT-AI

System 85 is now released.  It appears to work reliably.
For full details, see LMDOC;SYS85 MSG.

MIT System 85 comes with microcode 122.

  Table of contents of additions to system 85 as compared to 83:
  Things you should take note of:
   [1] A new rubout handler installed by default.
   [2] There is a new compressed format for bands.
   [3] A new LOGIN syntax is being introduced.

  Things you may safely ignore:
   [A] During a QC-FILE the compile and run time flavor environments are segregated.
   [B] Flavor instantiation has been sped up, and the number of conses reduced.
   [C] Many new ZWEI features.
   [D] TV:SET-DEFAULT-FONT improved, TV:SET-STANDARD-FONT introduced.
   [E] DRIBBLE-ALL

Announcements for system 83.

  Things you should take note of:
   [0] Operational notes
   [1] File connections go away if unused for a period of time.
   [2] Flavors have been sped up considerably.
   [3] EQ hash tables have been improved.
   [4] &KEY and duplicate keywords.
   [5] Converse no longer appears by default.

  Things you may safely ignore:
   [A] New functions GETDECL, PUTDECL, DEFDECL.
   [B] DO* a sequential version of DO exists.
   [C] WITH-LOCK.
   [D] TYPECASE.
   [E] :NAMED-STRUCTURE is now allowed as a second argument for TYPEP.
   [F] PRESS:PRINT-FILE, PRESS:SPOOL-FILE and PRESS:PRINT-FROM-STREAM
   [G] Generic pathnames have been reimplemented.
   [H] Interlocking of garbage collector operations has been improved.
   [I] MAPHASH-EQUAL-RETURN
   [J] INTERSECTION and UNION.
   [K] Error level appears in error handler prompt.  EH:PDL-GROW-RATIO.
   [L] FQUERY:  :ANY as choice, and :STREAM option.
   [M] new ZWEI command SOURCE COMPARE CHANGES.
   [N] FILLARRAY creates array if first arg is NIL.

Date: 11 May 1982 15:45-EDT
From: Neil L. Mayle <NLM at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.43, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental DAEDALUS 41.2, microcode 849, 79.43 Daed 41.2, on Lisp Machine Eight:

the inspector should use the bucky bits (like daedalus)... so that when alter structure
you don't have to keep moving the mouse back to the menu. btw when is it going to stop 
building window on the color screen just because the mouse is there? (it's certainly a
misfeature)

Date: 11 May 1982 13:24-EDT
From: Neil L. Mayle <NLM at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.43, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental DAEDALUS 41.2, microcode 849, 79.43 Daed 41.2, on Lisp Machine Eight:

In any of the future worlds (beyond 79) is the inspector fixed so that
it doesn't blow out on circular structure?

Date: Tuesday, 11 May 1982, 06:50-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: HDT at MIT-AI
Cc: BUG-LISPM at MIT-AI
In-reply-to: Your message of 10 May 1982, 09:16-EDT

There are a number of bugs involved here.

1.  The system believed that LM27 was a "Symbolics file system" file
server.  This b.d. seems to be gone from the EE site files already, and
is fixed in 210.

2.  The "Symbolics file system", when given an obviously malformated
pathname, returned a string rather than signalling an error.  This is
due to a modularity problem in LMFS which BSG has promised to fix.
(Right, Bernie??)

3.  The XGP software wasn't loaded in 204, so it didn't know how to do
screen copies.  This is already fixed in the source, and will work in
210.

Your main problem was that you expected to be able to use FC without the
LMFILE-Remote system, which wasn't loaded.  Symbolics is not supporting
FC in their systems, and nobody at MIT seems to be interested in
supporting it in Symbolics systems either.  You can still access files
on FC via an ITS, using "AI:FC:HDT;".

Symbolics systems are set up with the SYS host (home base) at EE.  Bug
reports are sent to EE, and get forwarded appropriately to AI and SCRC.

Date: 10 May 1982 22:52-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject:  Incompetent, Irresponsible, Intollerable Cretinism.
To: DLA at MIT-EECS
cc: BUG-LISPM at MIT-EECS

So thats why those machines said: "terminal-io bashed, using cold-load stream"
and wouldn't cold-boot. I will personally remove the balls of those responsible
so that, even if they give a repeat performance, they cannot propogate the
lossage further.

Date: 10 May 1982 17:44-EDT
From: DLA@EE
Sender: LMFILE at MIT-AI
Subject: Incompetent, Irresponsible, Intollerable Cretinism.
To: BUG-LISPM at MIT-EECS

I just went over to EE to find that some asshole had rendered all but
one of the lisp machines there inoperable by propogating an obviously
untested band.  Since that person decided to disappear, I am venting my
anger on everyone, rather than let the appearance remain that this is
acceptable behavior.

1.  The band which was propogated was a 210 band, for which you haven't
seen any system release announcements, and MIT's copy of which hasn't
been tested yet.  You had no right to distribute it in the first place.

2.  When you load and save patches, you don't overwrite the only clean
copy of 210 at MIT!  I spent 3 hours which should have been spent on my
thesis transporting that band here from Symbolics, time which is now
wasted.

3.  You should test your bands before installing them everywhere.

4.  When you see all the machines crashing down in flames, you don't
fucking walk away and pretend nothing happened.

I hope the person responsible is sorry and won't do it again.  I also
hope for his sake that I'm not as mad as I am now when I find out who he is.

Date: Monday, 10 May 1982, 20:15-EDT
From: James M. Turner <JMTurn at MIT-AI>
To: Howard D. Trachtman <HDT at MIT-AI>
Cc: BUG-LISPM at AI
In-reply-to: The message of 10 May 82 09:16-EDT from Howard D. Trachtman <HDT at MIT-AI>


    Date: Monday, 10 May 1982, 09:16-EDT
    From: Howard D. Trachtman <HDT at MIT-AI>
    To: BUG-LISPM at AI
    Cc: hdt at mc

    In System 204.56, ZMail 42.11, Experimental Play 1.3, microcode 865,
    Play, on Lisp Machine Nine:

    After merely coldbooting, logging in to AI, and invoking ZWIE,
     an attempt to to a DIRED on FC:HDT; got the following error:

    The argument to cdr, the object /"marty"/ is not accempted to the file system
    as a directory component." was of the wrong type.
       ... while in the function ZWIE:directory-edit

Does 204 know about FC? AS I recall, it doesn't.

      A terminal-q failed immediately afterwards, claiming it couldn't get a 
    hardcopy at this site.  Also, for unknown reasons, (bug) tried to send
    this message to EE.  Is this really the right thing?

I believe you are running into a "I think I'm an EE machine" screw, which
I have no idea how to fix, if logining into AI doesn't do the right thing.
This may have to do with the mysterious "site configuration" parameter on
Brand S machines.
			James

Date: 10 May 1982 18:14-EDT
From: David Chapman <zvona at MIT-AI>
Sender: GUMBY at MIT-AI
To: BUG-LISPM at MIT-AI

if FOO is a named-subst, (who-calls 'foo) figures that foo does,
because of the name tag.  Whether of not this is a bug depends on
how smart who-calls is supposed to be, I guess.

Date: 10 May 1982 10:33-EDT
From: Gerald R. Barber <JerryB at MIT-AI>
Subject: Input Editor
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.1, MIT-Specific 7.0, System 85.20,
ZMail 44.3, microcode 117, Try me!, on Lisp Machine Four:

To a lisp listener Kill Ring Entries (the status key) doesn't seem to
work, it never displays any entries.  Typing C-Y and M-Y when nothing has
been killed gets errors.

Date: Monday, 10 May 1982, 09:16-EDT
From: Howard D. Trachtman <HDT at MIT-AI>
To: BUG-LISPM at AI
Cc: hdt at mc

In System 204.56, ZMail 42.11, Experimental Play 1.3, microcode 865,
Play, on Lisp Machine Nine:

After merely coldbooting, logging in to AI, and invoking ZWIE,
 an attempt to to a DIRED on FC:HDT; got the following error:

The argument to cdr, the object /"marty"/ is not accempted to the file system
as a directory component." was of the wrong type.
   ... while in the function ZWIE:directory-edit

  My default AI directory is marty but that should have been overridden when
I directly specified my directory.  Direds on the FC: device have worked
for me on other machines earlier under the same circumstances.

  A terminal-q failed immediately afterwards, claiming it couldn't get a 
hardcopy at this site.  Also, for unknown reasons, (bug) tried to send
this message to EE.  Is this really the right thing?

					-- Howard

Date: 10 May 1982 05:53-EDT
From: Gregor J. Kiczales <GREGOR at MIT-AI>
To: KMP at MIT-AI
cc: BUG-LISPM at MIT-AI


    Date: 10 May 1982 02:46-EDT
    From: Kent M. Pitman <KMP at MIT-AI>
    Sender: KBE at MIT-AI

    In system 79.46,...

    Typing System E inside an echo area reader (eg, a filename reader) in Zwei causes 
    the echo area blinker to stop blinking and the edit area blinker to start blinking. 
    Typing more characters you see they are going correctly to the echo area window even
    though its blinker is not flashing. Visually, it's quite confusing.

I think I've sen enough of these to say:
"This is the standard selection bug -- the new activity system will fix this."


Date: 10 May 1982 05:45-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM at MIT-AI

The MIT sources have been changed to accept
both :INITABLE-INSTANCE-VARIABLES and :INITTABLE...

Now how about :INITABEL-INSTANTS-VARYABELS?

Date: Monday, 10 May 1982, 02:17-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: ITS File job and archives
To: Barry Margolin at MIT-MULTICS
Cc: bug-lispm at MIT-MC, DLA at SCRC-TENEX

    Date:  9 May 1982 16:36 edt
    From:  Barry Margolin at MIT-MULTICS
    When you try to do a directory list of an archive via the ITS file job
    you get the error message:
	CANNOT LIST ARCHIVE DEVICE ON LISPM

    Lisp Machines are not the only things that try to list archive devices.
    I got this message using the Multics cftp program.  How about making the
    error message less specific, i.e. "CANNOT LIST ARCHIVE DEVICES".

I had already fixed this when I first saw it, but I didn't know how to
install it.  I guess I was hoping somebody else would before you sent
this bug report.


Date: 10 May 1982 02:46-EDT
From: Kent M. Pitman <KMP at MIT-AI>
Sender: KBE at MIT-AI
To: BUG-LISPM at MIT-AI

In system 79.46,...

Typing System E inside an echo area reader (eg, a filename reader) in Zwei causes 
the echo area blinker to stop blinking and the edit area blinker to start blinking. 
Typing more characters you see they are going correctly to the echo area window even
though its blinker is not flashing. Visually, it's quite confusing.

Date: Monday, 10 May 1982, 01:03-EDT
From: Christopher C. Stacy <CStacy at MIT-AI>
Subject: Re: :INITTABLE-INSTANCE-VARIABLES
To: Bug-LispM at AI

    Date:  10 May 1982 00:39 edt
    From:  Barry Margolin at MIT-MULTICS
    In-Reply-To:  Message of 9 May 1982 20:26 edt from Gregor J. Kiczales

    ....Of course, both could be accepted.

I agree with Gregor about the length of the names, but since there are
people who could get confused by trying to use correct English words, I
agree that the best thing would be to accept both spellings.

Date:  10 May 1982 00:39 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: :INITTABLE-INSTANCE-VARIABLES
Sender:  Margolin.PDO at MIT-MULTICS
To:  Gregor J. Kiczales <GREGOR at MIT-AI>
cc:  TURNIP at MIT-AI, BUG-LISPM at MIT-AI
In-Reply-To:  Message of 9 May 1982 20:26 edt from Gregor J. Kiczales

    Date:  9 May 1982 20:05-EDT
    From:  Gregor J. Kiczales <GREGOR at MIT-AI>
    Subject:  :INITTABLE-INSTANCE-VARIABLES


        Date: 9 May 1982 01:03-EDT
        From: Alias for KMP <turnip at MIT-AI>

        It is silly that GETTABLE and SETTABLE are spelled with 2 T's
        and INITABLE with only one in the :...-INSTANCE-VARIABLES keywords.

    There is this feature that
    gettable
    settable
    initable

    are all the same length, which helps me remember how to spell them.




Given the choice between using the length of the words and common
character combinations as the mnemonic, I would choose the common
characters.  I also agree with Kent about the way in which suffixes are
appended to English words.  Of course, both could be accepted.

Date:  9 May 1982 2052-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: make-system
To: dove at MIT-DSPG, bug-lispm at MIT-EECS
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 9-May-82 1805-EDT

You don't want the :COMPILE switch when you want the installed, working version
as opposed to the latest bugs edited into the source.  Also, if you're about to
dump out the band you're loading it into, you don't want to do any compilation.
-------

Date: 9 May 1982 20:05-EDT
From: Gregor J. Kiczales <GREGOR at MIT-AI>
Subject: :INITTABLE-INSTANCE-VARIABLES
To: TURNIP at MIT-AI
cc: BUG-LISPM at MIT-AI


    Date: 9 May 1982 01:03-EDT
    From: Alias for KMP <turnip at MIT-AI>

    It is silly that GETTABLE and SETTABLE are spelled with 2 T's
    and INITABLE with only one in the :...-INSTANCE-VARIABLES keywords.

There is this feature that
gettable
settable
initable

are all the same length, which helps me remember how to spell them.


Date: 9 May 1982 11:50:59-EDT
From: dove at mit-dspg
To: bug-lispm@mit-eecs
Subject: make-system

Thank you, I hadn't checked that I needed
the :compile switch.  When would one not want
to compile the most recent versin of the 
source by the way?  


Date:  9 May 1982 1722-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: ITS File job and archives
To: Barry Margolin at MIT-MULTICS, bug-lispm at MIT-MC
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 9-May-82 1705-EDT

DLA already fixed this brain bubble of mine in the source.
-------


Date:  9 May 1982 16:36 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  ITS File job and archives
Sender:  Margolin.PDO at MIT-MULTICS
To:  bug-lispm at MIT-MC

When you try to do a directory list of an archive via the ITS file job
you get the error message:
    CANNOT LIST ARCHIVE DEVICE ON LISPM

Lisp Machines are not the only things that try to list archive devices.
I got this message using the Multics cftp program.  How about making the
error message less specific, i.e. "CANNOT LIST ARCHIVE DEVICES".
				barmar


Date: 9 May 1982 10:43-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.1, MIT-Specific 7.0, System 85.20,
ZMail 44.3, microcode 117, Try me!, on Lisp Machine Four:

Running PEEK after setting the default font to MEDFNT will reliably
break in %DRAW-RECTANGLE, in the function TV:SHEET-CLEAR-EOL.  The
error message says that %DRAW-RECTANGLE is attempting to erase past
the edge of the screen.

Date:  9 May 1982 0634-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: QFASL file doesn't exist error in MAKE-SYSTEM
To: RMS at MIT-AI, dove at MIT-DSPG
cc: BUG-LISPM at MIT-EECS, RWK at SCRC-TENEX
In-Reply-To: Your message of 9-May-82 0612-EDT

RMS is right, I didn't read your bug report closely enough.  There was, hoever,
a bug such that it didn't work with ':COMPILE either.
-------

Date: 9 May 1982 06:20-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: QFASL file doesn't exist error in MAKE-SYSTEM
To: dove at MIT-DSPG
cc: BUG-LISPM at MIT-EECS

To me, it seems right that it should get an error
rather than compile the file.  It normally will not
compile anything unless you say ':COMPILE.
Not saying :COMPILE means "use the existing set of QFASL
files", and that is what it is doing; except that the
existing set has something wrong with it, so it tells you.

Date:  9 May 1982 0244-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
To: dove at MIT-DSPG, BUG-LISPM at MIT-EECS
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 8-May-82 1931-EDT

Your make-system bug was fixed somewhere around system 208.  You have found
the work-around, namely to QC-FILE it by hand.  System 210 will be released
there as soon as the release notes are finished.
-------

Date: 9 May 1982 02:47-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: APROPOS, cont'd
To: BUG-LISPM at MIT-MC

Also, it would be nice if I could just get the return value of APROPOS without
the typeout (for use in conjunction with the previous suggestion).


Date: 9 May 1982 02:46-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Feature request for APROPOS
To: BUG-LISPM at MIT-MC

In system 79.46,...

It would be *really* handy if APROPOS allowed its `package' arg to be a list
of symbols. That way things like:

 (APROPOS "FOO-" "BAR")
 (APROPOS "-BAR-" *)

or

 (APROPOS "FOO-" (FUNCALL BAR ':WHICH-OPERATIONS))

would work.

In this case, the last two args (DO-INFERIORS and DO-SUPERIORS) would just
be ignored. I suppose if this bothered someone, I wouldn't be so upset if
there were a different function to call which got me the this result easily...
I just want it to be easy to type.


Date: Sunday, 9 May 1982, 02:27-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: KMP at MIT-MC
Cc: BUG-LISPM at MIT-MC

    Date: 9 May 1982 02:11-EDT
    From: Kent M. Pitman <KMP at MIT-MC>
    In System 79.46,...

    It would be nice if DESCRIBE of symbols that had no value cell or plist
    or function said anything at all ... right now, no typeout happens in that
    case. maybe DESCRIBE of a symbol could always type out at least package info 
    for the symbol ...
It already does that in system 210.


Date: 9 May 1982 02:11-EDT
From: Kent M. Pitman <KMP at MIT-MC>
To: BUG-LISPM at MIT-MC

In System 79.46,...

It would be nice if DESCRIBE of symbols that had no value cell or plist
or function said anything at all ... right now, no typeout happens in that
case. maybe DESCRIBE of a symbol could always type out at least package info 
for the symbol ...


Date: Sunday, 9 May 1982, 00:50-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: UNDEF... questions
To: Kent M. Pitman <KMP at MIT-AI>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 9 May 82 00:43-EDT from Kent M. Pitman <KMP at MIT-AI>

    Date: 9 May 1982 00:43-EDT
    From: Kent M. Pitman <KMP at MIT-AI>
    Sender: turnip at MIT-AI
    Subject: UNDEF... questions
    To: BUG-LISPM at MIT-AI

    In system 79.46,...

    Why is UNDEFMETHOD a special form when UNDEFUN isn't? Why is UNDEFMETHOD
    needed at all when UNDEFUN is around?
Maybe because people have trouble remembering that the generalization of
UNDEFMETHOD to all functions is FUNDEFINE, not UNDEFUN?

Also so that the way you get rid of methods is syntactically parallel to
the way you create them.  NOTE WELL: getting rid of a method is
semantically quite different from undefining a function.  If you
undefine a function and someone calls it, they get an error.  If you
undefine a method and someone sends that message, they probably get a
method inherited from some other flavor.

    Why is it an error to UNDEFUN something with no previous definition? Making
    the thing revert to FUNBOUND is frequently exactly what I want. If I have
    done a test definition of something and I don't know if it was previously
    defined and only want to restore whatever state was there before, that's just
    the right behavior. Right now I get a really gratuitous error. It's especially
    annoying because it's rarely going to be the case that these things are
    called from code. Things that are intended primarily for use in debugging 
    should be as friendly as possible...
It probably works the way it does because no one ever suggested that it work
differently.  Changing UNDEFUN to know about the function not having a previous
definition would be all right with me.  Of course, UNDEFUN and UNCOMPILE are
crocks that were put in with about 5 minutes thought seven years ago; it's
probably about time that they were replaced with something better.

Date: 9 May 1982 01:03-EDT
From: Alias for KMP <turnip at MIT-AI>
Subject: :INITTABLE-INSTANCE-VARIABLES
To: BUG-LISPM at MIT-AI

It is silly that GETTABLE and SETTABLE are spelled with 2 T's
and INITABLE with only one in the :...-INSTANCE-VARIABLES keywords.

The rule which almost always works in English (yes, there are
some exceptions), in case you're interested, goes something like
this: you double the trailing consonant if the word (1) the word
ends in a single consonant other than y or w, (2) the vowel in
the last syllable is short, and (3) [the important clause]
stress falls on the last syllable. This explains, for example,
why one says "editing" and not "editting" ... no stress on the
"i" so no fear of its becoming a long vowel when "ing" is added.
Since "init" does have stress on the last syllable, it should
have a double T.  It is very hard to remember it as it is now.
(The closest English word (in pronunciation/spelling) I could
think of was "commit". I just looked it up and its "-able" form
is "comittable").

If you don't buy the analogy to English, perhaps just making all
three follow the double t rule would be good enough justification
for some people.

-kmp

Date: 9 May 1982 00:43-EDT
From: Kent M. Pitman <KMP at MIT-AI>
Sender: turnip at MIT-AI
Subject: UNDEF... questions
To: BUG-LISPM at MIT-AI

In system 79.46,...

Why is UNDEFMETHOD a special form when UNDEFUN isn't? Why is UNDEFMETHOD
needed at all when UNDEFUN is around?

Why is it an error to UNDEFUN something with no previous definition? Making
the thing revert to FUNBOUND is frequently exactly what I want. If I have
done a test definition of something and I don't know if it was previously
defined and only want to restore whatever state was there before, that's just
the right behavior. Right now I get a really gratuitous error. It's especially
annoying because it's rarely going to be the case that these things are
called from code. Things that are intended primarily for use in debugging 
should be as friendly as possible...

Date: Saturday, 8 May 1982, 22:25-EDT
From: DLA at MIT-EECS, MP at MIT-EECS
Sender: DLA at MIT-EECS
To: BUG-LISPM at EE
Cc: MP at MIT-EECS

In System 210.13, ZMail 45.1, Remote-File 103.0, microcode 895,
site configuration 3, on Zaphod Beeblebrox:

Telnet to multics and entering emacs causes all sorts of unbound
variables errors.  These seem to be due to 
(BASIC-TELNET :TELNET-SUPDUP-OUTPUT-SUBNEGOTIATION), which doesn't bind
SUPDUP-OUTPUT-BYTE-COUNT before the :NVT-NETI message uses it.  The
LET-GLOBALLY there looks suspiciously like it should be a BIND, too.

The unbound variables are SUPDUP-OUTPUT-BYTE-COUNT in the typeout
process, and SUPDUP-OUTPUT-OLD-STREAM in the typein process.

Date: Saturday, 8 May 1982, 19:20-EDT
From: Web Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
microcode 865, site configuration 2, on Zaphod Beeblebrox:

Append

(:compile-load signals)

on to the end of the defsystem in my last letter.

Date: Saturday, 8 May 1982, 19:18-EDT
From: Web Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
microcode 865, site configuration 2, on Zaphod Beeblebrox:

When I tried

(defsystem foo
	(:module signals "//mnt//dove//lispm//signal-defs"))

(make-system 'foo)

I got a message that signal-defs.qf didn't exist and I had to abort.
This occured in si:file-newer-than-installed-p.

That file didn't exist, but the signal-defs.l did.  I created signal-defs.qf with
qc-file and the makd-system was happy.  Doesn't it know enough to make one if it
doesn't exist?

Date: 8 May 1982 18:24-EDT
From: Gregor J. Kiczales <GREGOR at MIT-AI>
To: BUG-LISPM at MIT-AI


    Date: Friday, 7 May 1982, 23:26-EDT
    From: Web Dove <dove at MIT-DSPG>

    In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
    microcode 865, site configuration 2, on Marvin:

    Given that make-symbol will return |foo| when given foo, for the sake of novices
    the example on page 90 of the blue book should be changed to use FOO instead.
    Thanks to all who pointed out my case conversion problems.

Maybe it should even explain that the reader UPCASES .. that make symbol
will make a symbol in whatever case as its argument etc...

Date: 8 May 1982 16:06-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: New minor mode Return Indents
To: INFO-LISPM at MIT-AI, INFO-ZWEI at MIT-AI

I have made some changes (as of 85.19) to the command Indent New Line
(the function normally found on Line).

1.  The variables Indent New Line New Line Function and 
    Indent New Line Indent Function control how the Indent New Line
    function works.  If they are NIL (the default) Indent New Line performs
    the function placed on Return, then the function placed on Line (just
    like before).  If either is not NIL, the command named is executed
    instead.  Among other things, this allows Indent New Line to be
    placed on the Return key without causing infinite recursion.

2.  The new minor mode Return Indents Mode makes it easy to set up your
    ZMACS to cause the Return key to indent the new line (like the default
    definition of Line), and to put the normal definition of Return on Line
    (so you don't lose it altogether).  This wins (at least I think so) in
    Lisp Mode, and loses horribly in Text Mode.  It probably also wins in
    other programming language modes (but I haven't tried it).

This supersedes my previous announcement about a file to allow this in
LMLIB;.  That file is now considered obsolete and will go away soon.

Date: Saturday, 8 May 1982, 10:27-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: "window system problems"
To: MAP at MIT-AI, David L. Andre <DLA at SCRC-TENEX>, MOON at SCRC-TENEX,
    George J. Carrette <GJC at MIT-MC>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 9 Dec 81 21:19-EST from MAP at MIT-AI,
             The message of 29 Mar 82 23:56-EST from David L. Andre <DLA at SCRC-TENEX>,
             The message of 6 May 82 16:09-EDT from MOON at SCRC-TENEX

    Date: Thursday, 6 May 1982  16:09-EDT
    From: MOON at SCRC-TENEX
	Date: Thursday, 6 May 1982, 10:59-EDT
	From: George J. Carrette <GJC at MIT-EECS>
	I was in SUPDUP to MC when the runstate became stuck in NETO (which is not
	unusual when MC goes down), having nothing else to do I moused up a PEEK
	window and looked at active processes as I moved the mouse up and down
	to see the mouse process working, (lispmachines are fun no?).
	Then the usual CHAOS:HOST-DOWN (or whatever) error caused an unusual error,
	--> window system problems, entering the cold-load stream <--
    This is because at the instant the error occurred (in the supdup running
    in the background) it could not tell you about the error because the peek
    window was locked because it was being redisplayed.  Someone who is ambitious
    should rearrange the code to wait for a while, and only go into the cold-load
    stream after a timeout of a few seconds.
I finally did this.  Patched in 210.15.

However, while looking for other reports that this fixes, I found these:


    Date: 9 December 1981 21:19-EST
    From: MAP@MIT-AI
    I think the problem is whenever an error occurs in a process whose
    window is temp-locked, the window system gets an error and goes to the
    cold-load stream.
    ....
The above fix doesn't help these much unless the timeout is made
arbitrarily large (it's currently 10. seconds).  I don't think
temp-locking is the right thing, especially as used by Terminal-0-F.  If
they would just make the window they cover not be fully exposed, this
wouldn't happen.

There are lots of problems with that, at least a dozen of which I don't
know about.  (I counted them)

    Date: Monday, 29 March 1982, 23:56-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    In System 204.53, if I do (PROGN (PROCESS-SLEEP 600.) (ERR)) and
    immediately Terminal-0-F, the ERR will bomb out in the cold load stream,
    because it believes there are window system problems.

I made it a bit smarter in the source about this case.  If the selected
window checks out as reasonable, it will CAREFUL-NOTIFY like it does
when terminal-io is deexposed.  It's a bit harder to figure out that
J. Random Unselected Pop-up Menu is not gumming up the works.  Maybe this
can be cleaned up a bit when we have an activity system.

I did not patch the fix to the Terminal-0-F situation, since I'd like
someone to audit it, and it's not really important enough to put it
into a released system at such a critical point.

Date: Saturday, 8 May 1982, 03:26-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Redefining Return and Line
To: Mark J. Dulcey <Dulcey at MIT-AI>
Cc: BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI, DOC-CHANGES at SCRC-TENEX
In-reply-to: The message of 6 May 82 22:01-EDT from Mark J. Dulcey <Dulcey at MIT-AI>


    Date: 6 May 1982 22:01-EDT
    From: Mark J. Dulcey <Dulcey at MIT-AI>
    RMS has suggested another alternative for this.  The idea is to create a
    new ZMACS variable called Indent-New-Line-Function.  Insert New Line would
    call this instead of calling what is on Return (if the variable is bound
    and not NIL, of course).  I suppose to be completely general, you should
    have Indent-New-Line-New-Line-Function and Indent-New-Line-Indent-Function.
    Mode hook functions could, of course, set these.

    Comments?
RMS's suggestion is the right way to do this.  I can recall wishing for this
in EMACS for some reason or other.

*INDENT-NEW-LINE-NEW-LINE-FUNCTION* (default = NIL) and
*INDENT-NEW-LINE-INDENT-FUNCTION* (default = NIL).
(These can be set via M-X Set Variable, as Indent New Line New Line Function, etc.)
If NIL, the definitions on Return and Tab will be used, so people can
continue setting those and win.

This will appear in 211 and later.

Date: 8 May 1982 06:36-EDT
From: Richard M. Stallman <rms at MIT-AI>
Sender: ___016 at MIT-AI
To: BUG-LISPM at MIT-AI

Microcode assemblies fail to bind BASE when writing the symbol file.

Date: Friday, 7 May 1982, 23:26-EDT
From: Web Dove <dove at MIT-DSPG>
To: BUG-LISPM at EE

In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
microcode 865, site configuration 2, on Marvin:

Given that make-symbol will return |foo| when given foo, for the sake of novices
the example on page 90 of the blue book should be changed to use FOO instead.
Thanks to all who pointed out my case conversion problems.

Date: 7 May 1982 22:46-EDT
From: James M. Turner <JMTURN at MIT-AI>
To: BUG-LISPM at MIT-AI

Could someone who knows what's important do a reap of old
LMFOO; files on AI? We need the space.

DEXTER@MIT-MC 05/07/82 17:02:17
To: (BUG lispm) at MIT-AI, (BUG hardware) at MIT-AI
cadr-16 is up again, though down one memory...looks like it fried a little.
may be ok, after fixing a board select problem...probably back in a week or two.


incidently, I am phasing out of mit for the summer, but will be on call to
look at broken cadrs.  Leave messages at lmi in addition to bug-hardware reports.
(note: this does NOT apply to burned out tvs or bad keyboards. Also, if it wont
boot, check the disk cables before you call. thanks)

	-dexter

Date: 7 May 1982 13:42-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject: DRIBBLE
To: EB at MIT-MC
cc: BUG-LISPM at MIT-MC

I too have found DRIBBLE to be unsuitable for important applications,
such as keeping a complete record of what happens when a
(MAKE-SYSTEM 'MACSYMA) is done. Instead, what I use is a ZTOP
window, and do MAKE-SYSTEM *twice*, once to get the record
of what happens into the ZTOP buffer, and a second time
to make a saveable band, it works fine.



Date: 7 May 1982 13:42-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject: DRIBBLE
To: EB at MIT-MC
cc: BUG-LISPM at MIT-MC

I too have found DRIBBLE to be unsuitable for important applications,
such as keeping a complete record of what happens when a
(MAKE-SYSTEM 'MACSYMA) is done. Instead, what I use is a ZTOP
window, and do MAKE-SYSTEM *twice*, once to get the record
of what happens into the ZTOP buffer, and a second time
to make a saveable band, it works fine.



Date: 7 May 1982 13:20-EDT
From: Edward Barton <EB at MIT-AI>
To: dlw at SCRC-TENEX
cc: BUG-LISPM at MIT-AI

    Date: Friday, 7 May 1982, 10:50-EDT
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>

    SETQing TERMINAL-IO to STANDARD-OUTPUT is not recommended, to put it
    mildly.  It is not in any way intended to work.  The usual
    STANDARD-OUTPUT redirects output to TERMINAL-IO -- looping it back is
    not a good idea.  DRIBBLE intentionally only redirects STANDARD-OUTPUT,
    so that random incidental typeout won't get into the file.

I anticipated this response, and would accept it as reasonable if there
were some other way of making DRIBBLE get what you call random incidental
typeout.

Date: Friday, 7 May 1982, 10:50-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: EB at MIT-ML
Cc: bug-lispm at MIT-AI

SETQing TERMINAL-IO to STANDARD-OUTPUT is not recommended, to put it
mildly.  It is not in any way intended to work.  The usual
STANDARD-OUTPUT redirects output to TERMINAL-IO -- looping it back is
not a good idea.  DRIBBLE intentionally only redirects STANDARD-OUTPUT,
so that random incidental typeout won't get into the file.

Date: 7 May 1982 10:53-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
To: BUG-LISPM at MIT-AI

In Remote-File 7.0, LMFILE-Remote 15.1, MIT-Specific 7.0, System 85.13,
ZMail 44.3, microcode 117, 60.17hz, on Lisp Machine Twenty:

(arglist '(:METHOD TV:STREAM-MIXIN :DRAW-RECTANGLE))
>>>>TRAP 6962 (SELF-NOT-INSTANCE)
A method is referring to an instance variable,
but SELF is NIL, not an instance.
While in the function ARGLIST  ARGLIST  SI:*EVAL

ARGLIST:
   Arg 0 (FUNCTION): #<DTP-FEF-POINTER (METHOD TV:STREAM-MIXIN DRAW-RECTANGLE) 7402341>
   Arg 1 (REAL-FLAG): NIL


Date: 7 May 1982 04:38-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: error handler
To: BUG-LISPM at MIT-AI

In System 79.46, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

C-M-1 C-M-S should (I'd think) type the second special in this
frame.  Instead it gets an error:  EH:COM-PRINT-FRAME-BINDINGS
called with an extraneous arg of 1.

EB@MIT-ML 05/07/82 00:12:04
To: (BUG LISPM) at MIT-AI
In System 79.45, ZMail 40.7, LMFILE-Remote 5.3,
Experimental Remote-File 3.0, Experimental Local-File 35.2,
microcode 849, 79.35 fs 35.0, on Lisp Machine Three:

If I do (dribble-start <file>) and then setq terminal-io to
standard-output so that anything that goes to terminal-io will get
dribbled, and if I get an error under those conditions, then the first
character of each line I type to the debugger will fail to be echoed.


Date: 6 May 1982 22:37-EDT
From: Dexter Pratt <DEXTER at MIT-AI>
To: BUG-HARDWARE at MIT-AI, BUG-LISPM at MIT-AI

cadr16 has disk control problems, perhaps something more systemic (the smell of
burnt plastic is apparent) ...no active disk controls to replace it, so expect
its revival to be delayed a day or so.   -dexter

Date: 6 May 1982 22:01-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Redefining Return and Line
To: BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI
cc: DULCEY at MIT-ML

RMS has suggested another alternative for this.  The idea is to create a
new ZMACS variable called Indent-New-Line-Function.  Insert New Line would
call this instead of calling what is on Return (if the variable is bound
and not NIL, of course).  I suppose to be completely general, you should
have Indent-New-Line-New-Line-Function and Indent-New-Line-Indent-Function.
Mode hook functions could, of course, set these.

Comments?

Date:  6 May 1982 2120-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
To: eb at MIT-ML
cc: RWK at SCRC-TENEX, bug-lispm at SCRC-TENEX
In-Reply-To: Your message of 6-May-82 2003-EDT

Because the directory format on archive "devices" is incompatible with that
for disk directories, the file server cannot handle directory-listing them.
-------

Date: 6 May 1982 21:21-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Redefining Return and Line
To: BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI
cc: DULCEY at MIT-ML

It has been pointed out to me (by Gumby) that having to load such a small
change from a library is a losing interface.  Furthermore, the present
COMTAB hacking isn't really the right way to do it.  A better thing would
be as follows:

1.  Install an alternative to Indent New Line (called Winning Indent New Line
    or some such thing) which changes it in the way I have described.  (For
    now, at least, this would NOT be the default.  The two commands would be
    maintained next to each other in the source so future changes are made
    properly to both.)

2.  Create a new minor mode which would redefine Return to Winning Indent
    New Line and Line to Insert Crs.  (I haven't thought up a good name for
    this -- any suggestions?)

3.  Now users could get this mode, or not get it, as desired via mode hooks, etc.

If nobody objects, I will do this to ZMACS in the near future.  Any ideas
on this will be gratefully accepted.

Date: 6 May 1982 20:53-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: System 85 announcement
To: BUG-LISPM-MIT at MIT-AI
cc: DULCEY at MIT-ML

A few comments on the System 85 announcement:

1.  An omission about Converse:  The default was changed again from 83 to 85.
    In 85 the default is to NOTIFY the user.  In 83 the default was to give
    a pop-up reply window.

2.  The proposed elimination of LOGIN in favor of LOG1:  DON'T DO IT!!!
    Why do you want to make us poor lusers type more?  Having an alternative
    is OK for those who are gaga over keyword-parsing functions, but not all
    of us like that sort of thing -- especially for something which by
    definition is typed often from top level.

3.  A possible lossage in the new rubout handler:  Various ZWEI documentation
    advertises the fact that all editors share the same kill ring.  This is
    still strictly true, of course, but users should note that the new rubout
    handler does NOT use ZWEI or its kill ring!

EB@MIT-ML 05/06/82 20:03:56
To: (BUG LISPM) at MIT-AI
In System 79.45, ZMail 40.7, LMFILE-Remote 5.3,
Experimental Remote-File 3.0, Experimental Local-File 35.2,
microcode 849, 79.35 fs 35.0, on Lisp Machine Three:

M-X View Directory of an archive on MIT-ML seems to get a FNF file error
even if the archive exists.


Date: 6 May 1982 18:40-EDT
From: Edward Barton <EB at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.45, ZMail 40.7, LMFILE-Remote 5.3,
Experimental Remote-File 3.0, Experimental Local-File 35.2,
microcode 849, 79.35 fs 35.0, on Lisp Machine Three:

M-X View Directory of ML:FOO23;* * does not fail gracefully.  Process
ZMACS-WINDOWS gets an NED file error; the error message says you can
type RESUME to retry, but retrying is unlikely to be useful.

Date: Thursday, 6 May 1982  16:09-EDT
From: MOON at SCRC-TENEX
To:   George J. Carrette <GJC at MIT-EECS>
Cc:   BUG-LISPM at EE
Subject: "window system problems"

    Date: Thursday, 6 May 1982, 10:59-EDT
    From: George J. Carrette <GJC at MIT-EECS>
    To: BUG-LISPM at EE

    In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
    microcode 865, site configuration 2, on Marvin:

    I was in SUPDUP to MC when the runstate became stuck in NETO (which is not
    unusual when MC goes down), having nothing else to do I moused up a PEEK
    window and looked at active processes as I moved the mouse up and down
    to see the mouse process working, (lispmachines are fun no?).
    Then the usual CHAOS:HOST-DOWN (or whatever) error caused an unusual error,
    --> window system problems, entering the cold-load stream <--

This is because at the instant the error occurred (in the supdup running
in the background) it could not tell you about the error because the peek
window was locked because it was being redisplayed.  Someone who is ambitious
should rearrange the code to wait for a while, and only go into the cold-load
stream after a timeout of a few seconds.

Date: 6 May 1982 11:40-EDT
From: David A. Levitt <LEVITT at MIT-MC>
Subject: New buffers keep forgetting their Package.
To: BUG-LISPM at MIT-AI
cc: BUG-ZWEI at MIT-MC

In Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.1,
Experimental MIT-Specific 7.0, Experimental System 85.12,
Experimental ZMail 44.3, Experimental Play 6.2, microcode 117, 60.72 Hz, on Lisp Machine Nine:

After working in BUFFER-1 for a while, I did Set Package,
named it and wrote it out.  But every time I enter the error-handler
or visit another buffer, I'm in USER when I get back.

Date: Thursday, 6 May 1982, 10:59-EDT
From: George J. Carrette <GJC at MIT-EECS>
To: BUG-LISPM at EE

In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
microcode 865, site configuration 2, on Marvin:

I was in SUPDUP to MC when the runstate became stuck in NETO (which is not
unusual when MC goes down), having nothing else to do I moused up a PEEK
window and looked at active processes as I moved the mouse up and down
to see the mouse process working, (lispmachines are fun no?).
Then the usual CHAOS:HOST-DOWN (or whatever) error caused an unusual error,
--> window system problems, entering the cold-load stream <--
I imagine that this is easily reproducable if you can afford to
bring the system you supdup to down.


Date: Thursday, 6 May 1982, 04:53-EDT
From: James M. Turner <JMTurn at MIT-AI>
Subject: Help key in RH
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.1,
Experimental MIT-Specific 7.0, Experimental System 85.12,
Experimental ZMail 44.3, microcode 117, Try Me (GCed), on Lisp Machine Twenty-four:

The behavior of the new rubout handler isn't quite right in on respect.
When you press the HELP key, it prints out a help text, the prints the 
message "Type any character to flush". When you type a character, the
message goes away and the cursor returns to it's original position.
However, the text that was under the help text is not there anymore.

Perhaps the help key should pop up a temporary window, like 
terminal-help does.

					James

Date: Thursday, 6 May 1982, 03:20-EDT
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Idioms...
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-MC, DLA at SCRC-TENEX

From: Richard M. Stallman <RMS at MIT-AI>
To: [AI: LMDOC; BUG FIXES]

   Date: Saturday, 24 April 1982, 08:36-EST
   From: David L. Andre <DLA at SCRC-TENEX>
   Subject: Pkg-goto's in loaded files
   To: DCB at MIT-AI
   Cc: BUG-LISPM at MIT-AI, BUG-GPRINT at MIT-AI
   
   In System 209, the following construct will be available to declare
   packages in the same file which uses them:
   
   ;;; -*- Mode: Lisp; Package: (my-package global 2000 (myrefname global mine)) -*-
   
   In other words, the package spec may be a list, in which case it is
   interpreted as the package declaration for the package (minus the
   obligatory NIL for the file alist).  The package declaration is not run
   if the package already exists.  If your mode line becomes too long, you
   can write the following:
   
   #| -*- Mode: Lisp;
	  Package: (my-package global 2000 ...);
	  Base: 7;
	  Lowercase: Probably
      -*- |#

A compatible extension has been tested and will appear in system 85.


Date: Thursday, 6 May 1982, 03:07-EDT
From: Howard I. Cannon <HIC at SCRC-TENEX>
Subject: Idioms...
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-MC

Is there some reason that DLA's new feature doesn't take care of this?


Date: 6 May 1982 03:03-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Idioms...
To: BUG-LISPM at MIT-MC

The following piece of code lives in LMLIB;GPRINT > ... Can you guess what's
going on and why the package system is just crying out for a new feature to
make this kind of thing easier?

    ;-*- Mode:LISP; Package:FILE-SYSTEM; base:10.; fonts:MEDFNT; -*-
    
    ;NOTE THE PACKAGE IN THE MODE LINE --MUST-- BE DIFFERENT FROM ANY IN THE FILE.
    
    ...
    
    #Q(eval-when (eval load compile)
	(eval `(package-declare GPRINT global 1000 () )) ;must use eval
	(mapc #'globalize   ;note user may have typed on of these already.
	       '(Gcheckrecursion prinmode prinlevel prinlength prinendline ...)))
    
    #Q(eval-when (eval load compile) (pkg-goto 'gprint)) ;forces atoms into GPRINT:
    
    ...

I assume he would rather have written:

    ; -*- Mode:LISP; Package:GPRINT; PackageSuperior:GLOBAL; PackageSize:1000; ...

    #Q(eval-when (eval load compile) (mapc #'globalize ...))



Date: 5 May 1982 23:20-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: ZWEI question
To: INFO-LISPM at MIT-AI

Right now, Select Buffer is different from all other commands that do completion
in that if you type a name that does not exist, and end with Return,
it beeps, but if you type a second Return, it creates the buffer you specified.

In other commands that do completion, you would type End to request completion
and Return to submit the exact string you typed.

Would you like Select Buffer to be made compatible with those other commands?

Date: Wednesday, 5 May 1982, 22:45-EDT
From: Dan Gerson <DanG at SCRC-TENEX>
Subject: new :INITIAL-VALUE keyword for MAKE-ARRAY
To: bug-lispm at SCRC-TENEX
Cc: DanG at SCRC-TENEX

    Date: 5 May 1982 21:58-EDT
    From: Mark J. Dulcey <Dulcey at MIT-AI>
    Subject: new :INITIAL-VALUE keyword for MAKE-ARRAY
    To: DanG at SCRC-TENEX
    cc: DULCEY at MIT-ML

	Date: Wednesday, 5 May 1982, 16:13-EDT
	From: Dan Gerson <DanG at SCRC-TENEX>
	Subject: new :INITIAL-VALUE keyword for MAKE-ARRAY
	To: bug-lispm at SCRC-TENEX, doc-changes at SCRC-TENEX

	I've added :INITIAL-VALUE to MAKE-ARRAY in both QCONS and LCONS.

    This is rather cryptic!  How about telling us how to use it?

Oops.  I accidentally used the wrong mailing list.  Having ignored how
normal system installations are made, I'm not sure when the changes will
migrate to MIT; I just was notifying people here about a change I made
in the current machine sources (which is what QCONS referred to) and the
new machine sources (LCONS).

The :INITIAL-VALUE keyword of MAKE-ARRAY permits you to say what you
want the array elements to be initialized to instead of the default NIL
for ART-Q arrays, and 0 for numeric arrays.  For example:
	(MAKE-ARRAY 100 :INITIAL-VALUE 10)
could be written as:
	(SI:FILL-ARRAY (MAKE-ARRAY 100) 100 10)
However, on the new machine :initial-value is more efficient since only
one pass is made over the array, depositing words even for byte arrays.

Date: 5 May 1982 21:56-EDT
From: Mark J. Dulcey <Dulcey at MIT-AI>
Subject: Interchanging Return and Line
To: INFO-ZWEI at MIT-AI, BUG-LISPM at MIT-AI
cc: DULCEY at MIT-ML

For those of you out there who (like me) have trouble reaching the Line
key, and want to interchange the definitions of Return and Line:

I have created the file LMLIB;LINEFD QFASL which allows you to do this.
It redefines the command COM-INDENT-NEW-LINE so that it doesn't recurse
infinitely.  It changes *STANDARD-COMTAB* to change the key assignments.
Finally, it also changes COM-TEXT-MODE to undo these assignments
(because COM-TAB-TO-TAB-STOP isn't a useful default).

Anyway, folks, give it a try.  (The convenient way is to load the file
in your LISPM INIT file.)

Date: Wednesday, 5 May 1982, 21:48-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Multiple-value compiler-bug
To: Richard M. Stallman <RMS at MIT-AI>
Cc: BUG-LISPM at SCRC-TENEX
In-reply-to: The message of 5 May 82 19:33-EDT from Richard M. Stallman <RMS at MIT-AI>

    Date: 5 May 1982 19:33-EDT
    From: Richard M. Stallman <RMS at MIT-AI>
    What was the multiple-value compiler bug you fixed?
    I would like to fix it too.
We didn't fix it, but put in an error check that explains how to rewrite
your code.

The MISC instruction UNBIND-TO-INDEX-UNDER-N isn't implemented, and the
code in the compiler which generates it does (OUTI '(UNBIND-TO-INDEX-UNDER-N))
rather than '(MISC D-IGNORE UNBIND-TO-INDEX-UNDER-N)

(DEFUN FOO (&AUX X Y)
  (MULTIPLE-VALUE (X Y)
    (LET ()
      (BIND (LOCF FOO) NIL)
      )))

will illustrate the bug, including the bogus instructions produced because
of the malformed OUTI.  The code had clearly never been tested.

Date: 5 May 1982 18:55-EDT
From: Jerry Roylance <GLR at MIT-AI>
Subject: MAKE-PKT in wrong area
To: BUG-LISPM at MIT-AI

    Date: Wednesday, 5 May 1982, 15:16-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    In-reply-to: The message of 5 May 82 13:30-EDT from MOON at SCRC-TENEX


        Date: Wednesday, 5 May 1982  13:30-EDT
        From: MOON at SCRC-TENEX
    	Date: Wednesday, 5 May 1982, 04:31-EDT
    	From: Robert W. Kerns <RWK at SCRC-TENEX>
    	    Date: 4 May 1982 13:29-EDT
    	    From: Jerry Roylance <GLR at MIT-AI>
    	    While compiling a file CHAOS:MAKE-PKT consed its packet in the FASD temporary area
    	I put the obvious fix in the source.
        ???.  Since this was fixed long ago, I'm not sure what fix is "obvious".
    Right, DLA and I must both have been asleep, since he told me to do it.  But
    later he woke up and explained to me what was supposed to be going on.

The bug was on system 79.43 on CADR-8 (I thought M-X Bug supplied that information).
I had done
  (MAPC #'QC-FILE '("foo" "bar" "bletch"))

Date: Wednesday, 5 May 1982, 16:13-EDT
From: Dan Gerson <DanG at SCRC-TENEX>
Subject: new :INITIAL-VALUE keyword for MAKE-ARRAY
To: bug-lispm at SCRC-TENEX, doc-changes at SCRC-TENEX

I've added :INITIAL-VALUE to MAKE-ARRAY in both QCONS and LCONS.

Date: Wednesday, 5 May 1982, 15:16-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: MAKE-PKT in wrong area
To: MOON at SCRC-TENEX
Cc: bug-lispm at SCRC-TENEX, glr at MIT-AI
In-reply-to: The message of 5 May 82 13:30-EDT from MOON at SCRC-TENEX


    Date: Wednesday, 5 May 1982  13:30-EDT
    From: MOON at SCRC-TENEX
	Date: Wednesday, 5 May 1982, 04:31-EDT
	From: Robert W. Kerns <RWK at SCRC-TENEX>
	    Date: 4 May 1982 13:29-EDT
	    From: Jerry Roylance <GLR at MIT-AI>
	    While compiling a file CHAOS:MAKE-PKT consed its packet in the FASD temporary area
	I put the obvious fix in the source.
    ???.  Since this was fixed long ago, I'm not sure what fix is "obvious".
Right, DLA and I must both have been asleep, since he told me to do it.  But
later he woke up and explained to me what was supposed to be going on.

Date: Wednesday, 5 May 1982  13:30-EDT
From: MOON at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>
cc:   bug-lispm at SCRC-TENEX, glr at ai
Subject: MAKE-PKT in wrong area

    Date: Wednesday, 5 May 1982, 04:31-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Subject: MAKE-PKT in wrong area
    To: Jerry Roylance <GLR at MIT-AI>
    Cc: BUG-LISPM at MIT-AI
    In-reply-to: The message of 4 May 82 13:29-EDT from Jerry Roylance <GLR at MIT-AI>

        Date: 4 May 1982 13:29-EDT
        From: Jerry Roylance <GLR at MIT-AI>
        While compiling a file CHAOS:MAKE-PKT consed its packet in the FASD temporary area.

    I put the obvious fix in the source.
???.  Since this was fixed long ago, I'm not sure what fix is "obvious".
I suspect you changed CHAOS:MAKE-PKT, which of course doesn't deal with the
analogous problem for output to the local file system, output to the ethernet,
output to editor buffers, etc.  The compiler supposedly never does any I/O
with DEFAULT-CONS-AREA bound to the temporary area; the right fix to this
is to find what system GLR was running, what sort of compilation he was doing,
then what recent change to the compiler broke the rule that it shouldn't
call other programs (except, sigh, for macros) with DEFAULT-CONS-AREA bound.

Date: Wednesday, 5 May 1982, 04:31-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: MAKE-PKT in wrong area
To: Jerry Roylance <GLR at MIT-AI>
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 4 May 82 13:29-EDT from Jerry Roylance <GLR at MIT-AI>

    Date: 4 May 1982 13:29-EDT
    From: Jerry Roylance <GLR at MIT-AI>
    While compiling a file CHAOS:MAKE-PKT consed its packet in the FASD temporary area.

I put the obvious fix in the source.

Date: 5 May 1982 02:33-EDT
From: David Vinayak Wallace <Gumby at MIT-AI>
To: BUG-LISPM at MIT-AI


For those of you who use machines with kmouse installed and don't like
it, ECC told me that you can bind

TV:USER-EXTENDED-ASYNCHRONOUS-CHARACTERS to NIL

to disable it.

			david

Date: 4 May 1982 16:59-EDT
From: Carl W. Hoffman <CWH at MIT-MC>
To: BUG-LISPM at MIT-AI

    Date: 4 May 1982 02:40-EDT
    From: Michael A. Patton <MAP at MIT-AI>

    I have a window with (TV:PREEMPTABLE-READ-ANY-TYI-MIXIN TV:WINDOW-PANE) as components
    and when it gets a blip, it (deep down in the rubout handler) calls TV:COM-CLEAR-INPUT
    which tries to delete the ZERO characters that are typed ahead and RH-DELETE-CHAR (or
    something like that) beeps because it's confused.  It then returns back up and the input
    request returns the actual blip.  The right thing then happens (in my case at least),
    and nothing seems to go grossly wrong, there's just this beep.

The bug is in the technique used by (TV:PREEMPTABLE-READ-ANY-TYI-MIXIN :TYI)
to clear the rubout handler buffer.  KMP first recognized this a couple
weeks ago.


Date: 4 May 1982 13:29-EDT
From: Jerry Roylance <GLR at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.43, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Eight:

While compiling a file CHAOS:MAKE-PKT consed its packet in the FASD temporary area.


Date: 4 May 1982 02:40-EDT
From: Michael A. Patton <MAP at MIT-AI>
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.0,
Experimental MIT-Specific 7.0, Experimental System 85.10,
Experimental ZMail 44.2, microcode 117, Try Me (GCed), on Lisp Machine Four:

I have a window with (TV:PREEMPTABLE-READ-ANY-TYI-MIXIN TV:WINDOW-PANE) as components
and when it gets a blip, it (deep down in the rubout handler) calls TV:COM-CLEAR-INPUT
which tries to delete the ZERO characters that are typed ahead and RH-DELETE-CHAR (or
something like that) beeps because it's confused.  It then returns back up and the input
request returns the actual blip.  The right thing then happens (in my case at least),
and nothing seems to go grossly wrong, there's just this beep.

This problem can be reproduced at will with almost no notice.  If you want to see it
in action just contact me.

Date: 3 May 1982 23:21-EDT
From: James M. Turner <JMTURN at MIT-AI>
Subject: Sleep, lack thereoff
To: BUG-LISPM at MIT-AI, rpk at MIT-XX

I misparsed your original message, so my reply about WITH-OPEN-BUFFER
probably wasn't very helpful. It is unclear if with-open-mumble is
needed for buffers. There has to be something that returns the stream
associated with a buffer if you want to use logical pathnames, as the
#<FOO> construct is by defining non-typable from the keyboard. Using
the analogy of OPEN and WITH-OPEN for buffers will probably make
using buffers as streams as painless as possible. Since the main
difference between files and buffers is more in the messages they
take than the actual concept of them as streams, I think WITH-OPEN
&co are probably the right things for buffers.

On the entire concept of buffers as streams, this could be easily
implemented by using a ZWEI: device. There are some interesting questions,
like what happens if you are in ZWEI, and use a ZWEI: device. Could
you get it into an infinite loop somehow?? What happens if you are
writting to a stream that already exists, and abort the write. Will
we have to implement a _TECO_ OUTPUT-like hack for ZWEI?

Date: 3 May 1982 19:40-EDT
From: James M. Turner <JMTURN at MIT-AI>
Subject: Buffers as files
To: BUG-LISPM at MIT-AI
cc: rpk at MIT-XX

The macro WITH-OPEN-BUFFER has existed in the LMLIB directory
for a few months. This may be what you are looking for (although
there are plans to implement buffers as pathname-like entities
sometime soon.

Date: Monday, 3 May 1982  17:40-EDT
From: MOON at SCRC-TENEX
To:   James E. Kulp <JEK at SCRC-TENEX>
Cc:   BUG-LISPM at SCRC-TENEX
Subject: processes being "active"

"active" in terms of messages you can send to a process
is :RUN-REASONS non-NIL and :ARREST-REASONS NIL.  Internally this information
is cached to make the scheduler faster, and evidently there is a bug in the
caching; as you point out if you create it with run reasons it doesn't get
made active.  Note that there may possibly be other things you can't do
when creating a process; I'm not sure if the stack group gets initialized
properly or if you have to send an explicit :RESET or :PRESET message.

Date: Monday, 3 May 1982, 17:20-EDT
From: James E. Kulp <JEK at SCRC-TENEX>
Subject: processes being "active"
To: BUG-LISPM at SCRC-TENEX

In Experimental System 208.40, Experimental ZMail 44.5,
Experimental LMFS 25.14, Experimental Tape 9.0, Experimental Canon 13.1,
microcode 878, site configuration 6, on Spaniel:

Setting run-reasons in make-instance doesn't cause the process to be active.
Only the :run-reason method causes the process to be considered runnable.
I would expect a make-process that included run reasons to be equivalent to
sending the run-reason method unless told explicitly otherwise in the
manual.
In any case the "activeness" of a process seems like magic in relation to
what you can determine from its internal state and the messages you send to it.

Date: Monday, 3 May 1982, 14:48-EDT
From: Howie Shrobe <HES at SCRC-TENEX>
To: BUG-LISPM at SCRC-TENEX

In Experimental System 208.29, Experimental ZMail 44.3,
Experimental LMFS 25.10, Experimental Tape 9.0, Experimental Canon 13.0,
microcode 878, site configuration 6, on Bulldog:

I believe this is a bug in make-system.

When I load up daedalus by doing (make-system "daedalus") which is defined in the
files f:>dpl>dpl.lispm and f:>dpl>defsystem.lisp
it will load up all but the last two files (intcon and drc)
and then exits without printing any message.
If you then do a (make-system "daedalus") again it will load the last two files.

When it exits the first time, the third from the last file (ddinit) is still open.
If you cause a break and backtrace at this point you will find that you are wainting
for tyi for read-for-top-level, i.e. you are not in make-system anymore.

I don't think any of my files are doing a throw.


Date: 3 May 1982 13:04-EDT
From: Gregor J. Kiczales <Gregor at MIT-AI>
Subject: Mouse Cursor?
To: BUG-LISPM at MIT-AI
cc: ICE at MIT-MC


I think that there is some confusion about why Boxer style
cursor positioning is good in Boxer,, but somewhat less
interesting in the rest of the Lispm system.

The reason why having the mouse cursor and the typein cursor be
the "same" works well in Boxer is that Boxer is a |*integrated*|
system which in its design does not use a separate mouse cursor.
A major reason for this is the fact that the notion of "menus"
in Boxer is completely different from the notion of menus in the
Lisp Machine -- Boxer menus do not "pop-up" they are just Boxes
which contain executable statements (menu commands), in order to
execute a "menu" command in Boxer the user moves the cursor to
that line and presses the user key (this is exactly what the
user does to execute any other code).

So the notion of using Boxer style cursor positioning in the
Lispm is in some ways flawed,,, on the other hand some
experimenting I have done shows that Boxer style cursor
positioning is pleasant to use in Zwei,, but requires that the
cursors sometimes be seperated (e.g. whenever the user wants to
use a pop-up-menu).

--Gregor--

kmp@MIT-MC 05/03/82 02:38:10
To: (BUG LISPM) at MIT-AI
CC: BIL at MIT-MC
In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Knowledge-Based-Editor 16.1, microcode 849, on Lisp Machine Twenty-two:

(DRIBBLE-START "WORTHLESS" T)
(TYI)<Break>
(DRIBBLE-END)

gives an error saying that the lisp-listener doesn't support a dribble-end
message. At the very least, the user deserves an apology for the fact that
it can't do the right thing with STANDARD-INPUT/STANDARD-OUTPUT rebound by
the breakpoint rather than a message saying that the window didn't accept
a dribble-end message.


Date: Sunday, 2 May 1982, 23:40-EDT
From: Robert P. Krajewski <RpK at MIT-LISPM-27>
Reply-to: RpK at XX
Subject: OPEN and ZWEI buffers
To: BUG-LispM at EE
Cc: RpK at XX

I thought it would be nice if there was some way for a user to specify
input or output to go to a ZWEI buffer.  What would be needed would be a
flavor of pathname (and a ZWEI host) so that it could interface with
streams.  In this scheme, #<ZWEI:ZWEI-BUFFER-PATHNAME "ZWEI: Foo" 140323>
would refer to a buffer named ``Foo''.  I wanted an interface to OPEN
and WITH-OPEN-FILE then, so that using a ZWEI buffer for input or output
would not have to use a WITH-OPEN-BUFFER special form.  However, the
manual says that OPEN is really for streams from files.  Could ZWEI
buffers be considered files ?

bob

Date: 2 May 1982 19:36-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
Subject: 'nother notify bug
To: GUMBY at MIT-AI
cc: BUG-LISPM at MIT-AI

Not knowing the sizes of the windows in question, I can't be sure, but
this may have been caused by someone having done a SET-TV-SPEED on
your machine and then a DISK-SAVE.  Since SET-TV-SPEED changes the
size of the screen, it sometimes screws pop-up windows which make
assumptions about the screen size.

Date: 2 May 1982 18:20-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
Subject: Frame option in Split Screen
To: DULCEY at MIT-AI, HIC at SCRC-TENEX
cc: BUG-LISPM at MIT-AI


Cc: DULCEY at ML

    Date: Saturday, 1 May 1982, 04:27-EDT
    From: Howard I. Cannon <HIC at SCRC-TENEX>
    Subject: Frame option in Split Screen
    To: dulcey at MIT-AI
    Cc: BUG-LISPM at MIT-AI

	Date: Friday, 30 April 1982  01:27-EDT
	From: Mark J. Dulcey <dulcey at MIT-AI>
	To:   BUG-LISPM at MIT-AI
	cc:   Dulcey at MIT-ML
	Re:   Frame option in Split Screen

	In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
	microcode 849, 60.45hz, on Lisp Machine Five:

	The Frame option of Split Screen doesn't work.  If you select it,
	you get a menu offering to set the frame name and System key, but
	at the bottom, you only get the choice Abort -- Do It isn't offered!

	Try the following in a Lisp Listener:
	{Mouse-Right}
	{Mouse-Left on Split Screen}
	{Mouse-Left on Lisp}
	{Mouse-Left on Edit}
	{Mouse-Left on Frame}

	See what I mean?

    You are supposed to use the Do It on the main menu.  That's may be bad
    or confusing user interface.  Abort in the frame menu just lets you punt
    putting the windows in a frame, without undoing the other selections.

    There was also a bug with respect to positioning of the Abort box in
    208, which has been fixed (so anyone trying this shouldn't try to fix it
    again!)

Yes, it is a confusing interface.  Besides, in 79.45, clicking on Do It in the
main menu doesn't work -- it's just ignored!  That bug has been eliminated in
System 85.

Date: 2 May 1982 18:03-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
To: BUG-LISPM at MIT-EECS, DOVE at MIT-DSPG

    Date: Sunday, 2 May 1982, 17:29-EDT
    From: Web Dove <DOVE at MIT-DSPG>
    To: BUG-LISPM at EE

    In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
    microcode 865, site configuration 2, on Zaphod Beeblebrox:

    Why does %allocate-and-initialize return a symbol with |'s around it when called
    from make-symbol?

    (setq id (make-symbol "ks24" t))
    |ks24|

    It makes typing that symbol in again awkward.

The reason for this behavior is that the string you gave to make-symbol
is in lower-case.  Make-symbol assumes that was what you wanted, and so
the created symbol requires vertical bars to type.  Something like

(setq id (make-symbol (string-upcase "ks24") t)))

should get you what you want.

Date: Sunday, 2 May 1982  18:00-EDT
From: HIC at SCRC-TENEX
To:   bug-lispm at ee
Subject: [DOVE: forwarded]

Date: Sunday, 2 May 1982, 17:29-EDT
From: Web Dove <DOVE at MIT-DSPG>
To:   BUG-LISPM at EE

------

I have responded to this message.

Date: Sunday, 2 May 1982, 17:29-EDT
From: Web Dove <DOVE at MIT-DSPG>
To: BUG-LISPM at EE

In System 204.73, ZMail 42.11, Experimental Remote-File 101.2,
microcode 865, site configuration 2, on Zaphod Beeblebrox:

Why does %allocate-and-initialize return a symbol with |'s around it when called
from make-symbol?

(setq id (make-symbol "ks24" t))
|ks24|

It makes typing that symbol in again awkward.

Date: 2 May 1982 15:49-EDT
From: William A. Kornfeld <BAK at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Six:

(GRIND-TOP-LEVEL X) where X is an infinite list gets caught in a
microcode loop somewhere.  Also, the inspector, when called on such
a list, gets caught in a microcode loop.  (I don't know if the
inspector goes thru GRIND-TOP-LEVEL or something else.)  Anyway,
a more graceful behavior is clearly called for.

Date: Sunday, 2 May 1982  14:19-EDT
From: BAKER at SCRC-TENEX
To:   MOON at SCRC-TENEX
Cc:   BUG-LISPM at SCRC-TENEX, Clark M. Baker <CMB at SCRC-TENEX>
Subject: Large bit arrays

Bit arrays of only 2^27 elements are not acceptable on the 3600.
There are lots of people wanting to hack images, chips, etc., that
are larger.  In particular, it doesn't seem reasonable to make the limit
smaller than the amount of real memory that we could put onto a machine:
2^25 bytes, or 2^28 bits.
I would propose a more complex array structure mechanism when the array
became too large:  Lyn Quam has some excellent ideas on this.
The limit appears to be reasonable when working in 2 dimensions, but in
4 dimensions, it is entirely conceivable.

Date: 2 May 1982 13:50-EDT
From: David M. Neves <Neves at MIT-MC>
Subject: mouse positioning idea
To: NEVES at MIT-MC, MOON at SCRC-TENEX
cc: BUG-LISPM at MIT-MC, ICE at MIT-MC, card at PARC-MAXC

     From: MOON at SCRC-TENEX
     To:   David M. Neves <NEVES at MIT-MC>
     Cc:   BUG-LISPM at MIT-MC, card at PARC-MAXC, ICE at MIT-MC
     Subject: mouse positioning idea
     
     You left out two steps in the Boxer paradigm, which are to turn the mouse
     on its side when you're done moving, and put it back upright before you
     start moving it.  The mouse tends to move a little, presumably due to table ...
     
     Date: 2 May 1982 10:51-EDT
     From: David E. Goldfarb <Goldfa at MIT-AI>
     Subject: Alternative mouse usage
     To: NEVES at MIT-MC, BUG-LISPM at MIT-MC, ICE at MIT-MC
     cc: DEG at SCRC-TENEX, card at PARC-MAXC
     
     
     First of all, it is very easy to accidentally move the mouse; I can
     easily move the mouse cursor as much as a centimeter in any direction
     by, e.g., bumping into the table.
--------------------------------------------------------------------------------
I should correct some misconception due to my terse description of what
the mouse tracking code in the Boxer system does.  As is pointed out
above if the cursor moved if the mouse jiggled this would cause undue
frustration on the part of the user.  What we have implemented is
similar to Moon's suggestion as a fix.  Below is a description from
Gregor.

    " There are two variables
     	editor:*mouse-lower-stopped-speed*
     	editor:*mouse-upper-stopped-speed*
     which control when the system thinks the mouse has slowed down
     enough to be considered stopped, and when the system thinks the
     mouse is moving fast enought to be considered moving. The reason
     there are two is for the obvious hysteresis considerations. It
     seems like having upper be .3s0 greater than lower is good, the
     current default values are lower = .3s0 upper = .6s0.
     You might try playing with these values, I would like to know
     about the effect it has,, 
     There should be a most-responsive set of values,, meaning that I
     know that making them really low will cause bad response, and
     so will making them really high (of course).. "
I find it difficult to move the cursor even when subjecting the table
to substantial jolts.  I believe the above algorithm makes it a little
more difficult to move a very small distance (like a couple of letters)
because one must get up sufficient speed for the cursor to start moving.
However it is faster to use keyboard commands for small distances in any case.

Other points

     <Goldfarb>
     Lastly, many people, myself included, are annoyed by the flashing of the
     mouse cursor during typein and therefore like to keep it hidden.  (Hmm,
There is only one cursor, the keyboard cursor.  It can be moved either by
keyboard commands or by moving the mouse device.  I too find the mouse cursor
distracting at times and move it far away from the keyboard cursor when I type.
This, of course, makes actual use of the mouse more time consuming.  People might
ask themselves about their use of keyboard vs mouse positioning commands.  I
generally use keyboard (including search) commands quite a bit unless I have
a task that can require consecutive use of the mouse (like moving several sections
of text about).

     <Moon>
     Of course, the other problem is that you can't use the mouse for anything else,
     e.g. pointing at some menu elsewhere on the screen, scrolling, or whatever,
     because it will obnoxiously move your cursor when you don't intend it.
     I imagine you can think of ways around this, involving figuring out when
     to automatically move the cursor back to where it was.  But don't get screwed
     by pauses in the middle of a motion.

Of course when you combine the mouse and keyboard cursors you do give up
the ability to do tasks which require that they both be seperate.  I am
not sure what the range of such tasks is and what percentage of time the
average user engages in such tasks.  As Moon points out one such case
might be where one wants is selecting from another menu sometime that
may affect the keyboard position.  I believe scrolling, however, almost
always results in eventual movement of the keyboard cursor anyway.  Can
anyone think of an existing task that would be made more difficult if
the two cursors were combined?

Date: 2 May 1982 10:51-EDT
From: David E. Goldfarb <Goldfa at MIT-AI>
Subject: Alternative mouse usage
To: NEVES at MIT-MC, BUG-LISPM at MIT-MC, ICE at MIT-MC
cc: DEG at SCRC-TENEX, card at PARC-MAXC

    Date: 30 April 1982 13:31-EDT
    From: David M. Neves <NEVES at MIT-MC>

    ...

			In the Boxer system Gregor has implemented
    a joining of the mouse and keyboard cursors.  The current scheme
    works this way -- Normally the keyboard cursor looks like a flashing
    vertical bar.  When the mouse is moved the cursor changes shape
    until mouse movement stops.  Then the cursor jumps to the nearest
    logical position in the editor buffer and resumes its vertical bar
    shape.

    ...

    It seems as though it might not be all that difficult to change Zwie
    to use this method of positioning.

    Comments?  -dave


I don't like this idea at all for several reasons: (Though, I must admit
that I have not tried it and may be far off in my impressions).

First of all, it is very easy to accidentally move the mouse; I can
easily move the mouse cursor as much as a centimeter in any direction
by, e.g., bumping into the table.

Secondly, such a mechanism lacks he ability to diffirentiate between
the different pointing commands.  Were there no need for such
differentiation, mice would not need to have more than one button.

Lastly, many people, myself included, are annoyed by the flashing of the
mouse cursor during typein and therefore like to keep it hidden.  (Hmm,
this actually may not be a problem:  was your idea to merge the two
cursors in to one? In that case this problem would go away, though I can
see other problems arising (i.e. would this joint cursor blink or remain
constant?))

				- David



Date: 2 May 1982 06:53-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM-MIT at MIT-AI

The system 85 bugs reported yesterday, plus nearly all
ZWEI bugs reported since April 7, have been fixed in 85.8.
The remaining one or two will be fixed tomorrow, and then
onward into March.

Date: Sunday, 2 May 1982, 04:01-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: New FQUERY type
To: bug-lispm at SCRC-TENEX, DOC-CHANGES at SCRC-TENEX

:TYPE :MINI-BUFFER-OR-READLINE will use a minibuffer to read a line if
in a ZWEI context, otherwise it will use READLINE.

Date: 1 May 1982 16:57-EDT
From: Matthew T. Mason <MTM at MIT-AI>
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.0,
Experimental MIT-Specific 7.0, Experimental System 85.6,
Experimental ZMail 44.2, microcode 117, 60.72, on Lisp Machine Six:

ZWEI auto-fill mode deletes spaces, sort of.  This happens when inserting text 
in the middle of a line.  As words are moved from the end of the current line to the
beginning of the next line, no space is inserted between the newly-adjacent words.

Date: Saturday, 1 May 1982, 11:47-EDT
From: David Vinayak Wallace <Gumby at MIT-AI>
Subject: 'nother notify bug
To: BUG-LISPM at MIT-AI
Cc: Gumby at ai

In Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.0,
Experimental MIT-Specific 7.0, Experimental System 85.6,
Experimental ZMail 44.2, microcode 117, 60.72, on Lisp Machine One:

When in zwei, the beeper went off three or four times (instead of once).
Guessing that my supdup wanted to print out, I selected supdup. I then
got a notification that process tv:notify got an error. I selected its
window and got this:

>>ERROR: Attempt to expose #<POP-UP-NOTIFICATION-WINDOW POP-UP-NOTIFICATION-WINDOW-6 ... deexposed> Outside of its superior
While in the function TV:SHEET-EXPOSE  (METHOD TV:WINDOW COMBINED EXPOSE)  (METHOD TV:SELECT-MIXIN BEFOR SELECT)

TV:SHEET-EXPOSE:
   Arg 0:(DAEMON-ARGS): (EXPOSE T)
   Arg 1:(INTERNALS)  : #<DTP-FEF-POINTER (INTERNAL (METHOD TV:WINDOW SI:FASLOAD-COMBINED EXPOE) 0.) ...>

Date: 1 May 1982 08:01-EDT
From: Patrick G. Sobalvarro <pgs at MIT-AI>
Subject: Sorry, sorry, sorry
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.0,
Experimental MIT-Specific 7.0, Experimental System 85.6,
Experimental ZMail 44.2, microcode 117, 60.72, on Lisp Machine Six:

Oops.  I hadn't loaded patches before sending my bug message about
SET-DEFAULT-FONT.  It had already been fixed.  Sorry.

Date: 1 May 1982 07:42-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: BUG-LISPM at MIT-AI

In Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.0,
Experimental MIT-Specific 7.0, Experimental System 85.5,
Experimental ZMail 44.1, microcode 117, 60.72, on Lisp Machine Six:

Doing TV:SET-DEFAULT-FONT breaks in TV:SET-STANDARD-FONT, with an
extraneous arg.  The extraneous arg is the font I tried to make the
default, and NIL is in the place where that font should be.

Date: 1 May 1982 05:02-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: EB at MIT-AI, BUG-LISPM at MIT-AI

    Date: 30 April 1982 08:25-EDT
    From: Edward Barton <EB at MIT-AI>
    To: BUG-LISPM at MIT-AI

    In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    microcode 849, on Lisp Machine Nineteen:

    The argument to CDR, "FHN ERROR FNF F FILE NOT FOUND", was of the wrong type.
    The function expected a cons.
    While in the function SI:SYSTEM-GET-FILE-INFO  SI:FILE-NEWER-THAN-INSTALLED-P  SI:QUEUE-FILES-AS-NEEDED

What an absolutely wonderful bug report.  A clear, concise, statement of the
problem, with all extraneous information removed, including most that might
possibly be of help to people trying to fix the bug.

Date: Saturday, 1 May 1982, 04:27-EDT
From: Howard I. Cannon <HIC at SCRC-TENEX>
Subject: Frame option in Split Screen
To: dulcey at MIT-AI
Cc: BUG-LISPM at MIT-AI

    Date: Friday, 30 April 1982  01:27-EDT
    From: Mark J. Dulcey <dulcey at MIT-AI>
    To:   BUG-LISPM at MIT-AI
    cc:   Dulcey at MIT-ML
    Re:   Frame option in Split Screen

    In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    microcode 849, 60.45hz, on Lisp Machine Five:

    The Frame option of Split Screen doesn't work.  If you select it,
    you get a menu offering to set the frame name and System key, but
    at the bottom, you only get the choice Abort -- Do It isn't offered!

    Try the following in a Lisp Listener:
    {Mouse-Right}
    {Mouse-Left on Split Screen}
    {Mouse-Left on Lisp}
    {Mouse-Left on Edit}
    {Mouse-Left on Frame}

    See what I mean?

You are supposed to use the Do It on the main menu.  That's may be bad
or confusing user interface.  Abort in the frame menu just lets you punt
putting the windows in a frame, without undoing the other selections.

There was also a bug with respect to positioning of the Abort box in
208, which has been fixed (so anyone trying this shouldn't try to fix it
again!)

Date: Friday, 30 April 1982  23:52-EDT
From: MOON at SCRC-TENEX
To:   Clark M. Baker <CMB at SCRC-TENEX>
Cc:   BUG-LISPM at SCRC-TENEX
Subject: Large bit arrays

    Date: Friday, 30 April 1982, 22:57-EDT
    From: Clark M. Baker <CMB at SCRC-TENEX>
    Subject: Large bit arrays
    To: BUG-LISPM at SCRC-TENEX

    In Experimental System 208.34, Experimental ZMail 44.3,
    Experimental LMFS 25.13, Experimental Tape 9.0, Experimental Canon 13.1,
    microcode 878, site configuration 6, on Husky:

    I tried to make an art-1b array 4480 by 6315 (Scheme-81 chip size in
    lambda).  "Attempt to make an array too big" was the error message.
    This array is not large compared to the address space of the LM-2.  
The number of elements in the array doesn't fit in a fixnum.
									I
    understand that there is a limit imposed on the number of distince array
    elements (maybe due to the format of an array?).  
Yes.
						      I hope that this will
    not be propagated into the next machine.
The next machine will have bigger fixnums.  The number of elements will be
limited to 2^27 however, for hardware reasons; is that adequately large?
(It's only 16 times as large as the limit you ran up against).

Date: Friday, 30 April 1982, 22:57-EDT
From: Clark M. Baker <CMB at SCRC-TENEX>
Subject: Large bit arrays
To: BUG-LISPM at SCRC-TENEX

In Experimental System 208.34, Experimental ZMail 44.3,
Experimental LMFS 25.13, Experimental Tape 9.0, Experimental Canon 13.1,
microcode 878, site configuration 6, on Husky:

I tried to make an art-1b array 4480 by 6315 (Scheme-81 chip size in
lambda).  "Attempt to make an array too big" was the error message.
This array is not large compared to the address space of the LM-2.  I
understand that there is a limit imposed on the number of distince array
elements (maybe due to the format of an array?).  I hope that this will
not be propagated into the next machine.

Date: 30 April 1982 21:14-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-LISPM-MIT at MIT-AI

Rather than slow down the mailer with fixed bug reports,
I am maintaining a file LMDOC;BUG FIXES with a list of
bugs that I fix.  A lot of bugs, many of them around
since system 79 or before, have been fixed recently in 85,
which will probably be released soon.

Date: Friday, 30 April 1982  20:39-EDT
From: MOON at SCRC-TENEX
To:   David M. Neves <NEVES at MIT-MC>
Cc:   BUG-LISPM at MIT-MC, card at PARC-MAXC, ICE at MIT-MC
Subject: mouse positioning idea

You left out two steps in the Boxer paradigm, which are to turn the mouse
on its side when you're done moving, and put it back upright before you
start moving it.  The mouse tends to move a little, presumably due to table
vibration, when you're not touching it.  The amount varies depending on the
mouse; some mice will actually light up the run light fairly brightly while
someone else is typing on another keyboard on the same table, and you can
see the mouse cursor jiggling around slightly.

If you don't turn the mouse on its side, it will occasionally move your
cursor for you while you are editing with the keyboard, which will be fully
as frustrating as line noise on a dialup rubbing out characters for you
while you are editing.  If my memory is accurate, this was one big reason
why we chose to make the mouse and keyboard cursors independent when
designing the editor originally, years ago.

I expect this could be corrected with some algorithm involving simulated
starting friction; the mouse would not be considered to be moving unless it
was moved at a certain speed.  The variables SYS:MOUSE-X-SPEED and
SYS:MOUSE-Y-SPEED contain some sort of exponential-average smoothed speed
of the mouse if you want to experiment with this.  They might be commented
in SYS:SYS;QCOM LISP (or they might be undocumented).

Of course, the other problem is that you can't use the mouse for anything else,
e.g. pointing at some menu elsewhere on the screen, scrolling, or whatever,
because it will obnoxiously move your cursor when you don't intend it.
I imagine you can think of ways around this, involving figuring out when
to automatically move the cursor back to where it was.  But don't get screwed
by pauses in the middle of a motion.

This sounds like something worth experimenting with.

Date: Friday, 30 April 1982  15:18-EDT
From: MMCM at SCRC-TENEX
To:   EB at MIT-MC
cc:   BUG-LISPM at MIT-AI

    EB@MIT-MC 04/30/82 09:39:55
    In the editor, if I type a line-feed after the first line, the following
    indents like this:

    (foo bar
         bletch)

    But with :foo, it indents like this:

    (:foo bar
     bletch)
This bug in INDENT-FOR-LISP was fixed here a while ago.

Date: 30 April 1982 13:31-EDT
From: David M. Neves <NEVES at MIT-MC>
To: BUG-LISPM at MIT-MC, ICE at MIT-MC
cc: card at PARC-MAXC

I was inspired by Stu Card's talk yesterday to think about cursor
positioning on the Lisp Machine.  (In case you missed his talk 
the Card, Moran, Newell book in press published by Erlbaum 
describes the techniques used.)  

We have been experimenting with a slightly different way of using the
mouse for pointing in the Boxer system.  In the Lispm and Alto
systems there are two cursors, one for the keyboard and one for the
mouse.  To move the keyboard cursor one can move the mouse cursor
and then hit a key on the mouse device and the keyboard cursor moves
to the mouse position.  In the Boxer system Gregor has implemented
a joining of the mouse and keyboard cursors.  The current scheme
works this way -- Normally the keyboard cursor looks like a flashing
vertical bar.  When the mouse is moved the cursor changes shape
until mouse movement stops.  Then the cursor jumps to the nearest
logical position in the editor buffer and resumes its vertical bar
shape.

Below I outline the physical steps (ignoring mental preparation
issues) it takes for the two systems.

Steps taken to move keyboard cursor to position X.
<These times can be empirically determined.>

1.  Find mouse cursor (Lispm) /keyboard cursor (Boxer)
    It should be more difficult to find the mouse cursor than
    the keyboard cursor.  The keyboard cursor is larger, blinking and
    is usually the focus of attention of the user.  The mouse cursor
    is not used as much and can even be non visible if pushed off one
    of the sides of the screen.
2.  Position hand on mouse device.
    The time taken to position the hand should be longer in the
    existing Lispm system because the user must position his
    finger over the left button.  With Boxer the user need not
    position over the button because the button is not used for
    positioning.
3.  Move mouse.
    Probably similar for both systems but maybe shorter for Boxer
    because a different set of muscles can be used.  Because the
    hand does not have to be positioned on top of the mouse (with the
    wrist usually resting on the table)  there might be greater
    freedom in using muscles that can position faster.  I believe that
    Card said the elbow is slower than the wrist which is slower than
    fingers.
    Other relevant issues here go into mouse packaging design (the
    MIT mouse might be a bit too bulky), and the ratio of human
    movement to on screen mouse movement (I think CARD mentioned up to 
    20 times is OK -- that is for every physical unit moved by the mouse
    device the screen position of the mouse cursor is moved 20 units.)
    
4.  Mark and release mouse buttons
    Time taken only by Lispm.

Summary (* == takes a shorter time)

    Lispm       Boxer
1.               *
2.               *
3.   <same?>
4.               *

To experiment with the Boxer mouse positioning --
1. Get on a Lispm
2. (load "mc:ice;boxer lispm")
3. Type a few lines and move the cursor around.

It seems as though it might not be all that difficult to change Zwie
to use this method of positioning.

Comments?  -dave

Date: 30 April 1982 12:33-EDT
From: Gerald R. Barber <JerryB at MIT-AI>
Subject: FUNCTION-SPEC-GET bug
To: BUG-ZWEI at MIT-AI, BUG-LISPM at MIT-AI

In ZWEI in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Mega-Frame 1.0, Experimental MEGA 8.0, Experimental OMEGA-PRESENTER 5.0,
microcode 849, on Lisp Machine Four:

This machine loses when trying to read in the file ai:zmail;comnds >.
It dies in si:FUNCTION-SPEC-GET with the variable CC:A-PGF-WMD unbound.

Date: Friday, 30 April 1982, 15:09-EDT
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: moon at SCRC-TENEX
Cc: bug-lispm at SCRC-TENEX

I flushed the Mode-Lock/Roman key misfeature in the source.

EB@MIT-MC 04/30/82 09:39:55
To: (BUG LISPM) at MIT-AI
In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Reasoning Utility Package 1.0, microcode 849, on Lisp Machine Nineteen:

In the editor, if I type a line-feed after the first line, the following
indents like this:

(foo bar
     bletch)

But with :foo, it indents like this:

(:foo bar
 bletch)

I almost never want this.  Is it considered to be a feature?  How can I
disable it?  I want the two cases to line up the same.


Date: 30 April 1982 08:27-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
Subject: Redefining Return as Line
To: BUG-ZWEI at MIT-AI, BUG-LISPM at MIT-AI
cc: DULCEY at MIT-ML

In ZWEI in Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.0,
Experimental MIT-Specific 7.0, Experimental System 85.3,
Experimental ZMail 44.1, microcode 117, Try Me (GCed), on Lisp Machine Fifteen:

The following appears in my Lispm Init file.  The idea is to interchange
the functions of the Return and Line keys.

(login-eval
  (zwei:set-comtab-return-undo
    zwei:*standard-comtab*
    '(#\Control-// zwei:com-evaluate-defun

	{other key assignments}

      #\Return zwei:com-indent-new-line
      #\Line zwei:com-insert-crs)))

The problem is that every time I hit Return, I get stack-overflow
errors in my Zmacs!  Why does this lose?

(The other key assignments win.  Also, Return and Line seem to be
getting the correct commands assigned -- Help-C produces the appropriate
results.)

I just thought of a possible answer.  When I type Return, it invokes
zwei:com-indent-new-line.  This in turn produces a new Return character --
which invokes zwei:com-indent-new-line!  Can anybody think of a way around
this?

Date: 30 April 1982 08:25-EDT
From: Edward Barton <EB at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Nineteen:

The argument to CDR, "FHN ERROR FNF F FILE NOT FOUND", was of the wrong type.
The function expected a cons.
While in the function SI:SYSTEM-GET-FILE-INFO  SI:FILE-NEWER-THAN-INSTALLED-P  SI:QUEUE-FILES-AS-NEEDED


Date: 30 April 1982 06:21-EDT
From: DULCEY@ML
Sender: dulcey at MIT-AI
Subject: MAKE-MACSYMA on System 85
To: BUG-LISPM at MIT-AI
cc: DULCEY at MIT-ML

In LMMAX@MC in Experimental Remote-File 7.0,
Experimental LMFILE-Remote 15.0, Experimental MIT-Specific 7.0,
Experimental System 85.2, Experimental ZMail 44.1, microcode 117,
Try Me (GCed), on Lisp Machine Fifteen:

MAKE-MACSYMA on this system lost while loading MC:LMMAXQ;LMSUP QFASL
with the following error message:

>>>>TRAP 15433 (TRANS-TRAP)
The function SYS:FIXUP-METHOD-FROM-FASD is undefined.
While in the function SI:*EVAL  SYS:FASL-OP-EVAL1  SI:FASL-GROUP

SI:*EVAL:
   Arg 0 (FORM): (SYS:FIXUP-METHOD-FROM-FASD #<DTP-FEF-POINTER (:METHOD MACSYMA-LISTENER "CHAR-

Date: Friday, 30 April 1982, 05:41-EDT
From: James M. Turner <JMTurn at MIT-AI>
Subject: Inept user/maintainer interface.
To: George J. Carrette <GJC at MIT-MC>
Cc: JMTURN at MIT-AI, BUG-LISPM at MIT-AI, DANIEL at MIT-AI,
    DULCEY at MIT-AI
In-reply-to: The message of 30 Apr 82 01:36-EDT from George J. Carrette <GJC at MIT-MC>

People really do seem to think my original message was out of line, so
I guess I'll tone things down in the future. Now lets back back to the 
business of debugging software...
					James

Date: 30 April 1982 03:34-EDT
From: Mark J. Dulcey <dulcey at MIT-AI>
Subject: Band transfer notifications
To: BUG-LISPM at MIT-AI
cc: DULCEY at MIT-ML

In Experimental Remote-File 7.0, Experimental LMFILE-Remote 15.0,
Experimental MIT-Specific 7.0, Experimental System 85.2,
Experimental ZMail 44.1, microcode 117, Try Me (GCed), on Lisp Machine Fifteen:

I was running ZMail when a band-transfer started from CADR-16.
The notification of the transfer flashed by so quickly I couldn't
read it.  (Fortunately, I already knew what it was, and the
"BAND-TRANSFER serving" message did show up in the file area of
the wholine.)

Date: 30 April 1982 01:36-EDT
From: George J. Carrette <GJC at MIT-MC>
Subject:  Inept user/maintainer interface.
To: JMTURN at MIT-AI
cc: BUG-LISPM at MIT-AI, DANIEL at MIT-AI, DULCEY at MIT-AI

Turner, you are way out of line here, so just cool it. It is simply bad
style to respond to bug notes by puffing yourself up. That was the
essence of what Daniel was trying to tell you; to which you replied
with a further display of bombastic intelectual ironclad, laughably
off target. Politics indeed!




Date: Friday, 30 April 1982  02:02-EDT
From: MOON at SCRC-TENEX
To:   David Vinayak Wallace <Gumby at MIT-AI>
Cc:   BUG-LISPM at MIT-AI, Gumby at ai
Subject: KeyMouse

You might be getting shafted by the misfeature that if the "mode lock" key
is down, the roman numeral keys turn into mouse buttons.  It should be flushed.

Date: 30 April 1982 01:27-EDT
From: Mark J. Dulcey <dulcey at MIT-AI>
Subject: Frame option in Split Screen
To: BUG-LISPM at MIT-AI
cc: Dulcey at MIT-ML

In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45hz, on Lisp Machine Five:

The Frame option of Split Screen doesn't work.  If you select it,
you get a menu offering to set the frame name and System key, but
at the bottom, you only get the choice Abort -- Do It isn't offered!

Try the following in a Lisp Listener:
{Mouse-Right}
{Mouse-Left on Split Screen}
{Mouse-Left on Lisp}
{Mouse-Left on Edit}
{Mouse-Left on Frame}

See what I mean?

Date: Friday, 30 April 1982, 01:16-EDT
From: David Vinayak Wallace <Gumby at MIT-AI>
Subject: KeyMouse
To: BUG-LISPM at MIT-AI
Cc: Gumby at ai

In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine One:


Who installed Keymouse on this machine? I bind a lot of commands to
these keys in the editor, and then find myself screwed because the mouse
commands are installed. Please don't install software like this on
public machines (or at least, please put some sort of notice in the
herald!

			-david

Date: 29 April 1982 22:50-EDT
From: Richard M. Stallman <RMS at MIT-AI>
To: JMTURN at MIT-AI
cc: DANIEL at MIT-AI, BUG-LISPM at MIT-AI, DULCEY at MIT-AI

I too thought JMTURN's message was hostile.
I have to admit I have sometimes been short with people who were
reporting problems, but that doesn't mean anyone ought to.

Date: 29 April 1982 22:38-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
Subject: Operating the Lisp Machine manual
To: INFO-LISPM at MIT-AI
cc: DULCEY at MIT-ML

A new batch of printed copies of Working Paper 209 showed up in
Room 907.  Take these, rather than :DOVERing it yourself.

Date: Thursday, 29 April 1982  21:51-EDT
From: MOON at SCRC-TENEX
To:   kmp at MIT-MC
Cc:   (BUG LISPM) at MIT-AI
Subject: notification and more-breaks

    kmp@MIT-MC 04/23/82 01:20:58  Re: notification and more-breaks

    (tv:notify nil "A~%B~%C") wins.
    (tv:notify nil "A~%B~%C~%D") types the text. Pauses. Then types **More**
    (tv:notify nil "A~%B~%C~%D~%E") types the text WITHOUT a more break
The bug that caused a more break not to happen sometimes is fixed (in the source).

    kmp@MIT-MC 04/23/82 01:04:18

    Go into a mini-buffer in Zwei and type Break. From the breakpoint,
    type (tv:notify nil "A"). Note you get a pop-up notification over
    the mini-buffer. Now type (tv:notify nil "A") again. Note that you
    get a non-pop-up-notification in your break-loop-lisp-listener.
This is the usual selection bug that will be fixed by the "activity system",
and is sufficiently hard to fix until then that it doesn't seem worth fixing.
Deselecting the editor frame and selecting it again changes the selected
window from the mini buffer to the typeout window; and it is the selected
window that controls how notifications come out.  The pop-up notification
deselects the editor frame when it pops up and then selects it again when
it pops down.

    I have found myself recently forming messages and trying to get them in
    the amount of space I know TV:NOTIFY will give me. I don't think this is
    very reasonable. NOTIFY should do the work to give me a window which has
    all the text visible ....
I occupied my time while digesting dinner in fixing it (in the source) so that
notifications come out in a window of the right size, properly placed.  This
will appear in system 210 I believe.

Date: 29 April 1982 20:01-EDT
From: James M. Turner <JMTURN at MIT-AI>
To: DANIEL at MIT-AI
cc: JMTURN at MIT-AI, BUG-LISPM at MIT-AI, DULCEY at MIT-AI

    Date: 29 April 1982 14:59-EDT
    From: Daniel Weise <DANIEL at MIT-AI>

        From: James M. Turner <JMTURN>

        Please don't bug report system 83 ZMAIL. WE KNOW system 83 zmail is fukt.
        83 is experimental, and is about to be superceeded by 85.
        						James
    James, your tone here is completely uncalled for.  You are saying
    "don't tell us what to do, we know what to do!"  I, for one, am
    pleased when people are willing to try out experimentl systems
    and bug report them; it means the system will that much better 
    when released.  
So am I. However, System 83 ZMAIL was a known loser in many respects
and bug reports on it would not be particularly helpful. I'm sorry
if it seems as if I overreacted, but I find it hard to read that
much into a three sentance message...
                   You are attempting to undo literally years of 
    system maintainer's efforts in getting people to report bugs,
    no matter how small or complex the bug.  Also, I find your choice
    of words completely unacceptable -- vulgarisms are vulgarisms no
    matter how you spell them.  
Oh am I? I wish we got twice as many bug reports on experimental
systems as we do. And I remember several bug reports or replies from
maintainers that used much worse words than that, even spelled
correctly. A simple request to hold off comment on ZMAIL until a
working version was up doesn't seem that unreasonable.

    Daniel

    P.S.  I am CC'ing the to bug-lispm to advertise that your views
    on software maintenance are not shared by all and that  all
    bugs reports are still welcome.  If this is not the case, then
    it is indeed a black day for Lisp Machine software maintenace 
    at MIT.
Can we please, please keep politics out of this?!! 

Date: 29 April 1982 18:22-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: Copy File to FC
To: BUG-LISPM at MIT-AI

In Experimental LMFILE-Remote 12.1, Experimental MIT-Specific 4.0,
Experimental System 83.19, Experimental ZMail 43.1,
Experimental Remote-File 5.0, microcode 104, Try me, on Lisp Machine Six:

I get the error that #<REMOTE-CHARACTER-OUTPUT-STREAM "FC: lmlib; zval#12" 27114474>
received a :CHANGE-PROPERTIES message, which went unclaimed.

This happened when I did (from Zwei):

M-X Copy File
ai:lmlib;zval >
fc:lmlib;zval #12

Date: 29 April 1982 16:48-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
To: BUG-ZMAIL at MIT-AI
Remailed-date: 29 Apr 1982 1700-EDT
Remailed-from: Mike McMahon <MMCM at SCRC-TENEX>
Remailed-to: bug-lispm-mit at MIT-AI

In ZMAIL in Experimental LMFILE-Remote 12.1,
Experimental MIT-Specific 4.0, Experimental System 83.19,
Experimental ZMail 43.1, Experimental Remote-File 5.0, microcode 104,
Try me, on Lisp Machine Six:

I am sending mail using Middle-Click on "Mail", though the
problem also seems to happen when I use the M command.  I now
type a Control-U Control-B to move back four characters.    WWWWhhhhyyyy



ddddooooeeeessssnnnn''''tttt    tttthhhheeee    CCCCoooonnnnttttrrrroooollll----UUUU



cccclllleeeeaaaarrrr    iiiittttsssseeeellllffff????

Date: Thursday, 29 April 1982, 16:07-EDT
From: David L. Andre <DLA at SCRC-TENEX>
To: EB at MIT-AI
Cc: BUG-LISPM at MIT-AI

    Date: 29 April 1982 07:32-EDT
    From: Edward Barton <EB at MIT-AI>

    Why is package-declare a macro?  Apparently, if you accidentally compile
    your package declaration file and load it compiled, it doesn't do any
    package-declaring any more.

This screw has been around for quite a while; apparently the only reason
that nobody fixed it is because nobody felt like it.  Fixed in the
Symbolics sources.

Date: 29 April 1982 14:59-EDT
From: Daniel Weise <DANIEL at MIT-AI>
To: JMTURN at MIT-AI
cc: BUG-LISPM at MIT-AI, DULCEY at MIT-AI

    From: James M. Turner <JMTURN>

    Please don't bug report system 83 ZMAIL. WE KNOW system 83 zmail is fukt.
    83 is experimental, and is about to be superceeded by 85.
    						James
James, your tone here is completely uncalled for.  You are saying
"don't tell us what to do, we know what to do!"  I, for one, am
pleased when people are willing to try out experimentl systems
and bug report them; it means the system will that much better 
when released.  You are attempting to undo literally years of 
system maintainer's efforts in getting people to report bugs,
no matter how small or complex the bug.  Also, I find your choice
of words completely unacceptable -- vulgarisms are vulgarisms no
matter how you spell them.

Daniel

P.S.  I am CC'ing the to bug-lispm to advertise that your views
on software maintenance are not shared by all and that  all
bugs reports are still welcome.  If this is not the case, then
it is indeed a black day for Lisp Machine software maintenace 
at MIT.

Date: Thursday, 29 April 1982, 14:09-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: File reads taking 5 times longer than they ought
To: kmp at MIT-MC
Cc: BUG-LISPM at MIT-AI, CWH at MIT-MC, DANIEL at MIT-AI, ZVONA at MIT-AI

    kmp@MIT-MC 04/28/82 00:19:45 Re: File reads taking 5 times longer than they ought
    In System 79.45, ..., Remote-File 2.0, LMFILE-Remote 5.3, microcode 849,
    ..., on Lisp Machine Twenty-two:
    I just tried this on a large file of my own. It took 60 seconds to read
    the file in without a Fonts: spec, and 5 mins and 30 seconds to read it
    in with a Fonts:MEDFNB; in the file property list. That's absurd. I can
    see the overhead with multiple fonts, but since I could read in a bare file
    and do m-X Set Fonts faster than this, then something is clearly wrong.
I put in the special case for a single font.

Date: Thursday, 29 April 1982  13:10-EDT
From: MOON at SCRC-TENEX
To:   Barry Margolin at MIT-MULTICS
Cc:   deg at scrc, bug-lispm at MIT-AI, dla at MIT-MC
Subject: Re: Accessing the FC: device

    Date:  29 April 1982 02:57 edt
    From:  Barry Margolin at MIT-MULTICS
    Subject:  Re: Accessing the FC: device
    Sender:  Margolin.PDO at MIT-MULTICS
    To:  moon at MIT-MC, "deg@scrc" at MIT-MC
    cc:  dla at MIT-MC, bug-lispm at MIT-AI
    In-Reply-To:  Message of 29 April 1982 02:17 edt from MOON

    I agree that colon should not be serving double duty (I remember when
    the pathname system was young and I had to do flipflops to switch from
    MC: to EE: [no such device: MC: EE: ...]).  I scanned my keyboard
    looking for a character that might be a suitable character for this
    syntax, an wasn't already used by the pathname system.  My favorite was
    "]", with runners up ";", "|", and "!".
Every single one of these characters is already used by the pathname syntax
of some file system that the Lisp machine already supports.  I think this
proves my point that there is no possible way to make hosts completely
unambiguous (other than requiring all pathnames to always start with a host,
which is clearly unacceptable to users).

Date: Thursday, 29 April 1982  13:08-EDT
From: MMCM at SCRC-TENEX
To:   Mark J. Dulcey <DULCEY at MIT-ML>
Cc:   BUG-LISPM at MIT-AI, EB at MIT-AI

    Date: 28 April 1982 23:58-EDT
    From: Mark J. Dulcey <DULCEY at MIT-ML>
        Date: Wednesday, 28 April 1982  14:29-EDT
        From: MMCM at SCRC-TENEX
    	Date: 28 April 1982 11:32-EDT
    	From: Edward Barton <EB at MIT-AI>
    	I am not sure this is a bug, but it certainly is surprising.  I made a
    	list of a bunch of pathnames and wanted to edit each one in turn, going
    	on to the next one by typing ^Z in the editor.  I mapc'ed ED over the
    	pathname list hoping to get that result.  But the result of doing the
    	MAPC was that the files were read into the editor one after the other,
    	without my having a chance to do any editing.
        That's right.  The ED function calls up the editor giving it something
        to edit.  Since the editor runs in its own process, the function
        returns right away, at which time it is given another file to edit.
        If you want to give explicit commands to move to the next file, you are
        much better off doing everything in the editor itself.

    The problem with this is that you can't use the power of LISP to COMPUTE
    the list of filenames to edit.  I assume that's what he wanted to do.
    There ought to be some way to do that.
What makes you say that?  The ED function just isn't the one he wants since
it runs in the wrong process.

Date: 29 April 1982 07:32-EDT
From: Edward Barton <EB at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.38, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Nine:

Why is package-declare a macro?  Apparently, if you accidentally compile
your package declaration file and load it compiled, it doesn't do any
package-declaring any more.

Date: Wednesday, 28 April 1982, 21:42-EDT
From: James M. Turner <JMTurn at MIT-AI>
Subject: New Login Feature
To: William A. Kornfeld <BAK at MIT-AI>
Cc: JMTURN at MIT-AI, BUG-LISPM at MIT-AI
In-reply-to: The message of 28 Apr 82 13:33-EDT from William A. Kornfeld <BAK at MIT-AI>



    Date: 28 April 1982 13:33-EDT
    From: William A. Kornfeld <BAK at MIT-AI>
    Subject: New Login Feature
    To: JMTURN at MIT-AI
    cc: BUG-LISPM at MIT-AI

	System 84 (and patched versions of 83) have a new command LOG1,
	which is like LOGIN but with keywords. The format is:
	(LOG1 user-name ':HOST host-name ':INIT boolean ':keyword1 ':arg1 ...)

    There is no need for a LOG1.  LOGIN can accept both the old and this
    new syntax, since there are no hosts with names :HOST or T.
Yes, if we assumed that no user would have a keyword called AI.
Remember, this is a legal syntax under LOGIN:

(LOGIN "FOO" 'ai t)

which can't be distinguished from:
(LOGIN "FOO" ':AI T)

If users don't mind always typing hosts as strings, we can indeed flush
LOG1.

					James

Date: 29 April 1982 04:02-EDT
From: Richard M. Stallman <RMS at MIT-AI>
Subject: GMSGS when logged into FC:
To: DULCEY at MIT-AI
cc: BUG-LISPM-MIT at MIT-AI

Actually, FC: does have a mail server, but if your mail is not being
sent there, that doesn't make any difference.  I suppose it is just
that ZMAIL has no idea that your RMAIL file might be on a different
machine from your mail file.

Date: 29 April 1982 03:59-EDT
From: Mark J. Dulcey <dulcey at MIT-AI>
Subject: Window error handler
To: BUG-LISPM at MIT-AI
cc: DULCEY at MIT-ML

In Experimental LMFILE-Remote 12.2, Experimental MIT-Specific 4.0,
Experimental System 83.19, Experimental ZMail 43.1,
Experimental Remote-File 5.0, microcode 104, Try me, on Lisp Machine Four:

The window error handler doesn't work on this system.  An example:

(car a)
>>>>TRAP 15453 (TRANS-TRAP)
The variable A is unbound.
While in the function SI:*EVAL  SI:*EVAL  SI:LISP-TOP-LEVEL1

SI:*EVAL:
   Arg 0 (FORM): A
c-m-W 
Window error handler!

>>>>TRAP 15453 (TRANS-TRAP)
The instance variable EH:ARGS-WINDOW is unbound in #<ERROR-HANDLER-FRAME ERROR-HANDLER-FRAME-1 7211276 deactivated>.
While in the function (METHOD EH:ERROR-HANDLER-FRAME SET-SENSITIVE-ITEM-TYPES)  EH:COM-WINDOW-ERROR-HANDLER  EH:COMMAND-LOOP

(METHOD EH:ERROR-HANDLER-FRAME SET-SENSITIVE-ITEM-TYPES):
   Arg 0 (OPERATION): SET-SENSITIVE-ITEM-TYPES
   Arg 1 (VAL): (VALUE FUNCTION EH:STACK-FRAME)
 
 

(This was done in Ztop, but the same error occurs in a Lisp Listener.)

Date: 29 April 1982 03:58-EDT
From: James M. Turner <JMTURN at MIT-AI>
To: BUG-LISPM at MIT-AI
cc: DULCEY at MIT-AI

Please don't bug report system 83 ZMAIL. WE KNOW system 83 zmail is fukt.
83 is experimental, and is about to be superceeded by 85.
						James

Date:  29 April 1982 02:57 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: Accessing the FC: device
Sender:  Margolin.PDO at MIT-MULTICS
To:  moon at MIT-MC, "deg@scrc" at MIT-MC
cc:  dla at MIT-MC, bug-lispm at MIT-AI
In-Reply-To:  Message of 29 April 1982 02:17 edt from MOON

I agree that colon should not be serving double duty (I remember when
the pathname system was young and I had to do flipflops to switch from
MC: to EE: [no such device: MC: EE: ...]).  I scanned my keyboard
looking for a character that might be a suitable character for this
syntax, an wasn't already used by the pathname system.  My favorite was
"]", with runners up ";", "|", and "!".  Alt-mode might be another
choice, but I would like to stick to ASCII graphics (I like to be able
to read mail sent from LispMachines even though I am using Multics).
				barmar

Date: 29 April 1982 03:20-EDT
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: DULCEY at MIT-ML
cc: EB at MIT-AI, BUG-LISPM at MIT-AI, MMCM at SCRC-TENEX


        ...If you want to give explicit commands to move to the next
        file, you are much better off doing everything in the editor
        itself.

    The problem with this is that you can't use the power of LISP to
    COMPUTE the list of filenames to edit.  I assume that's what he
    wanted to do.  There ought to be some way to do that.

What language do you think one writes Zwei commands in?

Date: 29 April 1982 03:19-EDT
From: Mark J. Dulcey <dulcey at MIT-AI>
Subject: Edit profile
To: BUG-LISPM at MIT-AI, BUG-ZMAIL at MIT-AI, RWK at SCRC-TENEX
cc: DULCEY at MIT-ML

    Date: Tuesday, 27 April 1982, 21:41-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Subject: Edit profile
    To: DULCEY at MIT-ML
    Cc: bug-zmail at SCRC-TENEX
    In-reply-to: The message of 27 Apr 82 02:19-EDT from DULCEY at MIT-ML


	From: DULCEY@MIT-ML
	Date: 04/27/82 02:19:11
	Subject: Edit profile
	The Edit option in the Profile subsystem of Zmail doesn't work.
	You can invoke, but you cannot change the buffer.  The usual editing
	commands, typing of text characters, etc., have no effect on the
	buffer.  (It's very frustrating!)

    Did the Edit button light up when you clicked on it?  did the cursor
    inthe edit pane start blinking?  It doesn't happen to me.  I use this
    all the time and haven't had the problem in any earlier systems either.

    Try it again, and if the problem persists, report it to BUG-LISPM.  It
    might be a system 83 bug.

(In Experimental System 83.19, Experimental Zmail 43.1, etc.)

Yep, it does it every time.  (On 79.46, it works.)  The Edit button lights
(and stays lit), the cursor starts blinking, but type all you want --
nothing changes.  (The display does blink momentarily as though redisplay
is being done.)

Date: 29 April 1982 02:31-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
Subject: GMSGS when logged into FC:
To: BUG-ZMAIL at MIT-AI, BUG-LISPM at MIT-AI
cc: DULCEY at MIT-ML

    Date: 29 April 1982 00:36-EDT
    From: Mark J. Dulcey <DULCEY at MIT-AI>
    Subject: GMSGS when logged into FC:
    To: BUG-ZMAIL at MIT-AI, BUG-LISPM at MIT-AI
    cc: dulcey at MIT-ML

    In ZMAIL in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    microcode 849, on Lisp Machine Nineteen:

    If one logs into FC:, any attempt to do GMSGS in Zmail loses.
    Presumably Zmail is trying to get messages from FC:, which doesn't
    understand any such thing.  It would be nice if Zmail could figure
    that fact out and instead get the messages from someplace sensible
    (such as AI:).

Actually, it's worse than that.  There are two more lossages:

1.  The behavior doesn't actually depend on which host you log into at all!
    What it really depends on is where your RMAIL file lives!  (This is
    usually the same as your host, but you can change it in your ZMAIL init.)

2.  If ZMAIL erroneously gets the idea that FC: is the place to go, it also
    takes it as the place to look for new mail.  Of course, it never finds
    any, since FC: has no mail server.  It doesn't bother checking your ITS
    mail file, even though your ZMAIL init file lists it as another mail file.

Date: 29 April 1982 02:09-EDT
From: David Vinayak Wallace <Gumby at MIT-AI>
To: BUG-LISPM at MIT-AI

In Experimental LMFILE-Remote 12.2, Experimental MIT-Specific 4.0,
Experimental System 83.19, Experimental ZMail 43.1,
Experimental Remote-File 5.0, microcode 104, Try me, on Lisp Machine One:

(supdup'foo) creates a window and connects you to foo.
(telnet'foo) uses terminal-io for its window.

This incompatability sucks.

Also, as some hosts are valid telnet servers but invalid supdup servers (i.e. VX:),
It would be nice to be able to type (supdup'foo) and have it do te right thing.

Date: Thursday, 29 April 1982  00:47-EDT
From: MOON at SCRC-TENEX
To:   David E. Goldfarb <DEG at SCRC-TENEX>
Cc:   BUG-LISPM at SCRC-TENEX, DLA at SCRC-TENEX
Subject: Accessing the FC: device

    Date: Wednesday, 28 April 1982, 20:37-EDT
    From: David E. Goldfarb <DEG at SCRC-TENEX>
    Subject: Accessing the FC: device

    What I find unreasonable
    is that ":" is used to indicate both computers and devices.  Is there
    any good reason not to use some other character for one of the two?
Yes.  What character would you propose?  Note that you cannot change the
character that is used for devices, since the file name syntax for a host
is fixed by that host and all the file systems that have devices are already
using colon.

Date: 29 April 1982 00:36-EDT
From: Mark J. Dulcey <DULCEY at MIT-AI>
Subject: GMSGS when logged into FC:
To: BUG-ZMAIL at MIT-AI, BUG-LISPM at MIT-AI
cc: dulcey at MIT-ML

In ZMAIL in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Nineteen:

If one logs into FC:, any attempt to do GMSGS in Zmail loses.
Presumably Zmail is trying to get messages from FC:, which doesn't
understand any such thing.  It would be nice if Zmail could figure
that fact out and instead get the messages from someplace sensible
(such as AI:).

Date: 28 April 1982 23:58-EDT
From: Mark J. Dulcey <DULCEY at MIT-ML>
To: MMCM at SCRC-TENEX, EB at MIT-AI
cc: BUG-LISPM at MIT-AI


    Date: Wednesday, 28 April 1982  14:29-EDT
    From: MMCM at SCRC-TENEX
    To:   Edward Barton <EB at MIT-AI>
    Cc:   BUG-LISPM at MIT-AI

	Date: 28 April 1982 11:32-EDT
	From: Edward Barton <EB at MIT-AI>
	I am not sure this is a bug, but it certainly is surprising.  I made a
	list of a bunch of pathnames and wanted to edit each one in turn, going
	on to the next one by typing ^Z in the editor.  I mapc'ed ED over the
	pathname list hoping to get that result.  But the result of doing the
	MAPC was that the files were read into the editor one after the other,
	without my having a chance to do any editing.
    That's right.  The ED function calls up the editor giving it something
    to edit.  Since the editor runs in its own process, the function
    returns right away, at which time it is given another file to edit.
    If you want to give explicit commands to move to the next file, you are
    much better off doing everything in the editor itself.

The problem with this is that you can't use the power of LISP to COMPUTE
the list of filenames to edit.  I assume that's what he wanted to do.
There ought to be some way to do that.

Date: Wednesday, 28 April 1982, 20:37-EDT
From: David E. Goldfarb <DEG at SCRC-TENEX>
Subject: Accessing the FC: device
To: DLA at SCRC-TENEX
Cc: BUG-LISPM at SCRC-TENEX, DEG at SCRC-TENEX

    Date: Tuesday, 27 April 1982, 20:24-EDT
    From: David L. Andre <DLA at SCRC-TENEX>
    Subject: Accessing the FC: device
    To: DULCEY at MIT-ML
    Cc: BUG-LISPM at MIT-EECS

	Date: Tuesday, 27 April 1982, 17:38-EDT
	From: Mark J. Dulcey <DULCEY at MIT-ML>

	The FC: device doesn't work on these machines, since there is no
	LMFILE-remote system on them.  This much I can accept.  The problem
	is that one doesn't get anything like a sensible error message if
	you try it -- you just get File Not Found errors.

    What would you consider a sensible error message?  I assume that what's
    really happening is that "FC:" is parsed as a device on another file
    computer, such as "EE:FC:", or "AI:FC:".  As such it seems reasonable to
    me.

In and of itself, yes, it does seem reasonable.  What I find unreasonable
is that ":" is used to indicate both computers and devices.  Is there
any good reason not to use some other character for one of the two?
				- David

Date: Wednesday, 28 April 1982  12:50-EDT
From: MOON at SCRC-TENEX
To:   Christopher C. Stacy <CStacy at MIT-AI>
Cc:   Bug-Lispm at MIT-AI
Subject: cute way of getting window size from mouse

    Date: Wednesday, 28 April 1982, 01:10-EDT
    From: Christopher C. Stacy <CStacy at MIT-AI>
    Subject: cute way of getting window size from mouse
    To: Bug-Lispm at MIT-AI

    I watched someone on a Nu machine today create a window, and thought
    that the way thir system did it was sort of flashy.  Instead of the
    putting up a pair of corners, it drew a tiny box a few pixels wide,
    and you pulled the box open by moving the mouse in whichever axis you
    wanted the box to grow.
That's the way the Lisp machine used to do it, too.  I don't remember why
it was changed, but I presume because the current way looked bette, at
least at the time.

Date: 28 April 1982 11:32-EDT
From: Edward Barton <EB at MIT-AI>
To: BUG-LISPM at MIT-AI

In System 79.40, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Six:

I am not sure this is a bug, but it certainly is surprising.  I made a
list of a bunch of pathnames and wanted to edit each one in turn, going
on to the next one by typing ^Z in the editor.  I mapc'ed ED over the
pathname list hoping to get that result.  But the result of doing the
MAPC was that the files were read into the editor one after the other,
without my having a chance to do any editing.

