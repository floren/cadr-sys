 4-Aug-83 12:12:27-EDT,797;000000000000
Return-path: <dove@MIT-DSPG>
Date: Thursday, 4 August 1983, 11:51-EDT
From: Webster Dove <dove at MIT-DSPG>
To: BUG-LISPM at MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17, microcode 239, uC239,
on Arthur Dent:

I want to define a macro which will expand eventually into a defun
and this macro takes and arglist followed by body.  How can I arrange to
allow an optional documentation string as the first item after the macro
name and still have the editor indent correctly.  Since it is optional I
don't want:

(defmacro foo (documentation parameter-list &body body)
	...)

but

(defmacro foo (parameter-list &body body)
	...)

Doesn't have a variable assigned to receive the documentation.
Obviously defun and defmethod have this capability, how do I provide it?
 4-Aug-83 12:17:41-EDT,373;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Thursday, 4 August 1983, 12:08-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: Zmacs suggestion
To: bug-lispm at oz

Since uses of macros are now being recorded in compiled functions, how about
a Zmacs command like "M-X Recompile Macro Callers" that will recompile all
functions calling the specified macro.
 4-Aug-83 12:37:34-EDT,1263;000000000000
Return-path: <dove@MIT-DSPG>
Date: Thursday, 4 August 1983, 12:35-EDT
From: Webster Dove <dove at MIT-DSPG>
Subject: documentation using defmacro
To: BUG-LISPM at MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17, microcode 239, uC239,
on Arthur Dent:

In simplified terms, I am using:

(DEFMACRO DEFINE-SYS (SYSTEM-NAME PARAMETER-LIST &BODY FORMS)
	`(DEFUN ,SYSTEM-NAME ,PARAMETER-LIST
	   ,@(COND ((TYPEP (CAR FORMS) ':STRING)
	            (LIST (POP FORMS))))	;system documentation
	  ...)
	;generate a flavor
	;generate some methods)

my real problem (I think) is that for my purpose, the elements of FORMS
are eventually used to create defmethods for a flavor.  They all have
the structure:

(method arg-list &body body)

Is there a way to get zemacs to indent such forms properly :

(DEFINE-SYS HAMMING (LENGTH)
   "documentation"
   (:FETCH (ARG)
      "documentation for fetch method"
      BODY)
   (:STRUCTURE (ARG)
      "documentation for structure method"
      BODY))

as opposed to what it now does?

(DEFINE-SYS HAMMING (LENGTH)
   "documentation"
   (:FETCH (ARG)
	   "documentation for fetch method"
	   BODY)
   (:STRUCTURE (ARG)
	       "documentation for structure method"
	       BODY))

 4-Aug-83 14:20:32-EDT,1179;000000000000
Return-path: <JBA@MIT-OZ>
Mail-From: JBA created at  4-Aug-83 14:18:28
Date: Thu, 4 Aug 1983  14:18 EDT
From: JBA@MIT-OZ
To:   D. Scott Cyphers <SR.CYPHER@MIT-SPEECH>
Cc:   bug-lispm@MIT-OZ
Subject: Zmacs suggestion
In-reply-to: Msg of 4 Aug 1983 12:08-EDT from D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>

    Date: Thursday, 4 August 1983, 12:08-EDT
    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
    To:   bug-lispm at oz
    Re:   Zmacs suggestion

    Since uses of macros are now being recorded in compiled functions, how about
    a Zmacs command like "M-X Recompile Macro Callers" that will recompile all
    functions calling the specified macro.


What I'd *really* like, and this is a real wish-listy thing, is to
have a system like Goldstein & Bobrow's PIE--sort of a defsystem
facility at the function level--which would automagically recompile
all and only those things that need it.  I would expect it to
recognize most dependencies (like those related to macros)
automatically, and at least try to warn you about other things.
Needless to say, doing this right is a big job, and I'll be happy with
things like the above for now.  
 4-Aug-83 14:35:22-EDT,704;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: 4 August 1983  14:28-EDT (Thursday)
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
To:   bug-lispm at oz
Subject: Zmacs suggestion


    Date: Thursday, 4 August 1983, 12:08-EDT
    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
    To:   bug-lispm at oz
    Re:   Zmacs suggestion

    Since uses of macros are now being recorded in compiled functions, how about
    a Zmacs command like "M-X Recompile Macro Callers" that will recompile all
    functions calling the specified macro.

A related command that would be really useful would be something that
would do the above for a system, making patches for what needs to be
recompiled. 
 5-Aug-83 00:40:52-EDT,340;000000000000
Return-path: <dph@MIT-OZ>
Date: Friday, 5 August 1983, 00:37-EDT
From: Daniel Huttenlocher <dph@MIT-OZ>
Subject: unallocated VMA
To: BUG-LISPM@MIT-OZ

In System 222.249, Zmail 74.46, LMFS 30.39, Tape 19.2,
site configuration 49, on Lisp Machine Jimi Hendrix:

Lisp stopped itself with "Page fault on unallocated VMA 12600025(8)".
 5-Aug-83 10:07:03-EDT,5043;000000000000
Return-path: <CAL@MIT-OZ>
Date: Friday, 5 August 1983, 06:18-EDT
From: Cliff Lasser <CAL at MIT-OZ>
To: BUG-LISPM at mc

In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-3:

OZ was down for schedules maintenance.

>>Error: MIT-OZ did not respond to a MAIL request.
While in the function CHAOS:CONNECT  CHAOS:OPEN-STREAM  ZWEI:CHAOS-SEND-IT-1

CHAOS:CONNECT:  (P.C. = 123)
   Arg 0 (ADDRESS): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (CONTACT-NAME): "MAIL"
   Arg 2 (WINDOW-SIZE): 13.
   Arg 3 (TIMEOUT): 600.
   Local 4: ("Retry connection to ~A at ~S with longer timeout" #<TOPS20-CHAOS-HOST MIT-OZ> "MAIL")
   Local 5 (CONN): #<CHAOS Connection for MAIL to OZ 7354534>
   Local 6 (REAL-ADDRESS): 4870.
   Local 7 (TRY): 1.
   Local 8: "Retry connection to ~A at ~S with longer timeout"
   Local 9: #<TOPS20-CHAOS-HOST MIT-OZ>
   Local 10: "MAIL"
   Local 11: #<ERROR-RESTART-HANDLER 53320655>
   Local 12: #<DTP-LOCATIVE 1143114>
   Local 13: #<DTP-LOCATIVE 17400417>
   Local 14: (#<ERROR-RESTART-HANDLER 53320655> #<DTP-LOCATIVE 1143114> #<DTP-LOCATIVE 17400417>)
   Local 15: #<DTP-CLOSURE 17400426>
   Local 16: (#<DTP-CLOSURE 17400114> #<DTP-CLOSURE 17400020>)
   Local 17 (*RESTART-HANDLERS*-initialization): (#<DTP-CLOSURE 17400426> #<DTP-CLOSURE 17400114> #<DTP-CLOSURE 17400020>)
   Local 18: #<DTP-LOCATIVE 17400432>
   Local 19: #<DTP-ODD-PC 5017052>
   Local 20: #<DTP-LOCATIVE 52460001>
   Local 21: #<DTP-LOCATIVE 17400376>
   Local 22: T
   Local 23: #<DTP-EVEN-PC 5017060>
   Local 24: #<DTP-LOCATIVE 52460001>
   Local 25: #<DTP-LOCATIVE 17400435>
   Local 26 (.SELECTQ-ITEM.): CHAOS:RFC-SENT-STATE

CHAOS:OPEN-STREAM:  (P.C. = 110)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (CONTACT-NAME): "MAIL"
   Rest arg: NIL

ZWEI:CHAOS-SEND-IT-1:  (P.C. = 15)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (RECIPIENTS): ((:NAME "CAL" :HOST (:SINGLE "OZ") :INTERVAL (("cc: CAL@OZ" 4.) ("cc: CAL@OZ" 10.))) (:NAME "philip" :HOST (:SINGLE "oz") :INTERVAL (("To: philip@oz" 4.) ("To: philip@oz" 13.))))
   Arg 2 (TEMPLATE-EXPANSION): (:TEXT #<NODE 14367331> :HEADERS (:DATE 2637915419. :FROM ((:HOST ** :PERSONAL-NAME "Cliff Lasser" :NAME "CAL")) :SUBJECT "dover graphics" :TO ((:NAME "philip" :HOST ** :INTERVAL **)) :CC ((:NAME "CAL" :HOST ** :INTERVAL **))) :HEADER-FORMAT :INCLUDE-PERSONAL :TRANSMIT-TIME 2637915419. :DRAFT-MSG #<ZMACS-DRAFT-MSG 14367344>)

ZWEI:CHAOS-DIRECT-SEND-IT:  (P.C. = 155)
   Arg 0 (RECIPIENTS): ((:NAME "philip" :HOST (:SINGLE "oz") :INTERVAL (("To: philip@oz" 4.) ("To: philip@oz" 13.))) (:NAME "CAL" :HOST (:SINGLE "OZ") :INTERVAL (("cc: CAL@OZ" 4.) ("cc: CAL@OZ" 10.))))
   Arg 1 (TEMPLATE-EXPANSION): (:TEXT #<NODE 14367331> :HEADERS (:DATE 2637915419. :FROM ((:HOST ** :PERSONAL-NAME "Cliff Lasser" :NAME "CAL")) :SUBJECT "dover graphics" :TO ((:NAME "philip" :HOST ** :INTERVAL **)) :CC ((:NAME "CAL" :HOST ** :INTERVAL **))) :HEADER-FORMAT :INCLUDE-PERSONAL :TRANSMIT-TIME 2637915419. :DRAFT-MSG #<ZMACS-DRAFT-MSG 14367344>)

ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 66)
   Arg 0 (TEMPLATE-EXPANSION): (:TEXT #<NODE 14367331> :HEADERS (:DATE 2637915419. :FROM ((:HOST ** :PERSONAL-NAME "Cliff Lasser" :NAME "CAL")) :SUBJECT "dover graphics" :TO ((:NAME "philip" :HOST ** :INTERVAL **)) :CC ((:NAME "CAL" :HOST ** :INTERVAL **))) :HEADER-FORMAT :INCLUDE-PERSONAL :TRANSMIT-TIME 2637915419. :DRAFT-MSG #<ZMACS-DRAFT-MSG 14367344>)
   Arg 1 (FUNCTION): ZWEI:CHAOS-DIRECT-SEND-IT
   Rest arg (ARGS): (((:NAME "philip" :HOST (:SINGLE "oz") :INTERVAL (** **)) (:NAME "CAL" :HOST (:SINGLE "OZ") :INTERVAL (** **))) (:TEXT #<NODE 14367331> :HEADERS (:DATE 2637915419. :FROM (**) :SUBJECT "dover graphics" :TO (**) :CC (**)) :HEADER-FORMAT :INCLUDE-PERSONAL :TRANSMIT-TIME 2637915419. :DRAFT-MSG #<ZMACS-DRAFT-MSG 14367344>))

(:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 416)
   Arg 0 (SELF): #<ZMACS-DRAFT-MSG 14367344>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:BASIC-DRAFT-MSG -- 6. IV's, 0. FL's 62072345>
   Arg 2 (OPERATION): :TRANSMIT

(:METHOD ZWEI:ZMACS-DRAFT-MSG :COMBINED :TRANSMIT):  (P.C. = 21)
   Arg 0 (SELF): #<ZMACS-DRAFT-MSG 14367344>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMACS-DRAFT-MSG -- 0. IV's, 2. FL's 62072337>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:SEND-MESSAGE:  (P.C. = 24)
   Arg 0 (HEADER-BP1): ("To: philip@oz" 0. :NORMAL)
   Arg 1 (HEADER-BP2): ("--Text follows this line--" 0.)
   Arg 2 (HEADER-IN-ORDER-P): T
   Arg 3 (TEXT-BP1): ("   I was trying to use your dover.lisp program.  All seemed to work fine until I" 0.)
   Arg 4 (TEXT-BP2): ("		Thanx,  Cliff" 15. :MOVES)
   Arg 5 (TEXT-IN-ORDER-P): T

Rest of stack:
ZWEI:COM-EXIT-COM-MAIL:  (P.C. = 26)
ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 173)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
 5-Aug-83 12:02:42-EDT,799;000000000000
Return-path: <sr.kaufman@MIT-SPEECH>
Date: Friday, 5 August 1983, 11:56-EDT
From: David H. Kaufman <sr.kaufman at MIT-SPEECH>
Subject: Input editor / Debugger compatibility problems
To: BUG-LISPM at MIT-OZ
Cc: Sr.Kaufman at MIT-SPEECH

In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.29,
Experimental SpireX 6.0, site configuration 54, on Lisp Machine Boo Boo:

There is a conflict between the character-assignment scheme for the
debugger and the input editor such that one cannot use both at the same
time (I got put into the debugger under the same circumstances twice,
and wanted to type the same thing the second time as I had the first.
Automatically, I typed c-C, which is (*sigh*) a debugger command).
Long-term, it would be nice to use the input editor in the debugger.
 5-Aug-83 12:29:29-EDT,1296;000000000000
Return-path: <BSG@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Fri 5-Aug-83 12:21:40-EDT
Date: Friday, 5 August 1983, 12:19-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: Input editor / Debugger compatibility problems
To: sr.kaufman@MIT-SPEECH, BUG-LISPM@MIT-OZ
In-reply-to: The message of 5 Aug 83 11:56-EDT from David H. Kaufman <sr.kaufman at MIT-SPEECH>

    Date: Friday, 5 August 1983, 11:56-EDT
    From: David H. Kaufman <sr.kaufman at MIT-SPEECH>
    In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.29,
    Experimental SpireX 6.0, site configuration 54, on Lisp Machine Boo Boo:

    There is a conflict between the character-assignment scheme for the
    debugger and the input editor such that one cannot use both at the same
    time (I got put into the debugger under the same circumstances twice,
    and wanted to type the same thing the second time as I had the first.
    Automatically, I typed c-C, which is (*sigh*) a debugger command).
    Long-term, it would be nice to use the input editor in the debugger.
We are well aware of this problem.  To get around it, type a space 
before c-C, in the debugger, to get the functionality of the input
editor's c-C.  There is a grand scheme for key assignments in the
works.
 5-Aug-83 13:17:07-EDT,1537;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-MERRIMACK by SCRC-SPANIEL with CHAOS; Fri 5-Aug-83 13:15:38-EDT
Date: Friday, 5 August 1983, 13:10-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
To: CAL at MIT-AI, BUG-LISPM at MIT-MC
In-reply-to: The message of 5 Aug 83 06:18-EDT from Cliff Lasser <CAL at MIT-AI>

    Date: Friday, 5 August 1983, 06:18-EDT
    From: Cliff Lasser <CAL at MIT-OZ>
    In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-3:

    OZ was down for schedules maintenance.

    >>Error: MIT-OZ did not respond to a MAIL request.
    While in the function CHAOS:CONNECT  CHAOS:OPEN-STREAM  ZWEI:CHAOS-SEND-IT-1

From your zmail.init:
    (LOGIN-SETQ *MAIL-SENDING-MODE* 'CHAOS-DIRECT-SEND-IT)
This means that it will try to send the mail to the host you specified
directly, instead of using the store-and-forward list of hosts that is
in the site file.  Therefore, when a host (here OZ) is down, you will
not be able to send to the host.  It is personal preference, of course,
but after I got screwed by this a few times I let it use the
store-and-forward search list.  The lines from the site file are
    ;; Hosts that have mail servers capable of forwarding mail anyplace
    (:CHAOS-MAIL-SERVER-HOSTS '("MC" "XX" "OZ" "EE" "ML" "VX"))
I would probably suggest rearranging it a little, probably leaving MC on
the front (to avoid problems with experimental mailers on OZ) and
putting XX after EE, and probably putting ML after OZ.  I.e.,
	mc oz ml ee xx vx
 5-Aug-83 13:36:52-EDT,1296;000000000000
Return-path: <BSG@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Fri 5-Aug-83 12:21:40-EDT
Date: Friday, 5 August 1983, 12:19-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: Input editor / Debugger compatibility problems
To: sr.kaufman@MIT-SPEECH, BUG-LISPM@MIT-OZ
In-reply-to: The message of 5 Aug 83 11:56-EDT from David H. Kaufman <sr.kaufman at MIT-SPEECH>

    Date: Friday, 5 August 1983, 11:56-EDT
    From: David H. Kaufman <sr.kaufman at MIT-SPEECH>
    In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.29,
    Experimental SpireX 6.0, site configuration 54, on Lisp Machine Boo Boo:

    There is a conflict between the character-assignment scheme for the
    debugger and the input editor such that one cannot use both at the same
    time (I got put into the debugger under the same circumstances twice,
    and wanted to type the same thing the second time as I had the first.
    Automatically, I typed c-C, which is (*sigh*) a debugger command).
    Long-term, it would be nice to use the input editor in the debugger.
We are well aware of this problem.  To get around it, type a space 
before c-C, in the debugger, to get the functionality of the input
editor's c-C.  There is a grand scheme for key assignments in the
works.
 5-Aug-83 16:16:29-EDT,1096;000000000000
Return-path: <sr.kaufman@MIT-SPEECH>
Date: Friday, 5 August 1983, 16:12-EDT
From: David H. Kaufman <sr.kaufman at MIT-SPEECH>
Subject: Chaos:Forward-All
To: bug-lispm at oz
Cc: sr.kaufman at speech


I think Chaos:Forward-All pushes the wrong code on server-alist.
The proper code seems to be:

(DEFUN FORWARD-ALL (CONTACT-NAME HOST)
    (SETQ HOST (ADDRESS-PARSE HOST))
    (PUSH (CONS CONTACT-NAME
		(list `(PROG (CONN)
		   (SETQ CONN (LISTEN ,CONTACT-NAME))
		   (FORWARD CONN (GET-NEXT-PKT CONN) ,HOST))))
	  SERVER-ALIST)
    NIL)

The current code does not have the "(list", and pushes a form such as
	("versatec" PROG (CHAOS:CONN)
	(SETQ CHAOS:CONN (CHAOS:LISTEN "versatec"))
	(CHAOS:FORWARD CHAOS:CONN (CHAOS:GET-NEXT-PKT CHAOS:CONN) 7316.))
onto server-alist, whereas what wants to be pushed is:
	("versatec" (PROG (CHAOS:CONN)
	(SETQ CHAOS:CONN (CHAOS:LISTEN "versatec"))
	(CHAOS:FORWARD CHAOS:CONN (CHAOS:GET-NEXT-PKT CHAOS:CONN) 7316.)))
Also, maybe Forward-All should look to see if there is already a form for
that server on the alist, and delete it?
 5-Aug-83 16:37:25-EDT,2498;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-BORZOI by SCRC-TENEX with CHAOS; Fri 5-Aug-83 16:36:03-EDT
Date: Friday, 5 August 1983, 16:33-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: wired-wait-timeout on 3600s
To: TLP@MIT-OZ
Cc: bug-3600-software@MIT-OZ, bug-3600-hardware@MIT-OZ, hoss@SCRC-VIXEN,
    info-lispm@MIT-OZ
In-reply-to: The message of 5 Aug 83 15:53-EDT from TLP at MIT-AI

    Date: Fri, 5 Aug 1983  15:53 EDT
    From: TLP@MIT-OZ
    One of our 3600's (ROBOT1) keeps dropping dead (about once a day) with
    the following message from FEP:

    FEP> Machine halted "Wired-wait timeout, predicate ~S false for over
    ~D ms. ~@
    <211><211> Proceed to attempt recovery <DTP-6 20067> 72460(8)
    FEP>

Diagnosis:

  There are a large number of problems that all manifest themselves
  with this or a similar error message.  There are several software
  and microcode bugs; these are fixed in Release 5.  There are also
  at least two hardware bugs for which ECOs have been written.  These
  problems are all being worked on pretty vigorously.

Getting it fixed:

  It will probably take some time for the fixes to the sources of this
  problem to get to you.  As far as I know we have not decided to try to
  retrofit software fixes for this into Release 4; Release 5 should get to
  you some time in the fall.  You could contact field service to check
  on when they can install the hardware fixes; the phone number is
  576-2524 I think (you may want to check with Tom Callahan first).

Recovery:

  Normally you could type continue (at the FEP> prompt) and the
  machine would recover and continue the disk operation that timed
  out.  That's what the "proceed to attempt recovery" is trying to
  say.  Unfortunately this does not work because of a bug in the
  FEP software that bashes the state of the machine so that continuing
  doesn't work at all.

  In all cases that I have seen you can successfully recover from
  a wired-wait timeout by warm booting; type start <return> at
  the "FEP>" prompt.

Reports:

  If you feel like reporting this, please get more information, such
  as exactly what the machine was doing at the time.  You will probably
  find that it is impossible to get sufficiently precise information
  about which was going on, in which case we have to assume you are
  encountering one (or more) of the known causes of this symptom,
  not a new one that we don't know about yet.
 5-Aug-83 17:07:34-EDT,894;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Fri 5-Aug-83 17:06:21-EDT
Date: Friday, 5 August 1983, 17:04-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Chaos:Forward-All
To: sr.kaufman@MIT-SPEECH, bug-lispm@MIT-OZ
In-reply-to: The message of 5 Aug 83 16:12-EDT from David H. Kaufman <sr.kaufman at MIT-SPEECH>

    Date: Friday, 5 August 1983, 16:12-EDT
    From: David H. Kaufman <sr.kaufman at MIT-SPEECH>
    I think Chaos:Forward-All pushes the wrong code on server-alist.
    The proper code seems to be:

Not only does forward-all not work, but as I recall the LispM code to
handle reception of a forward packet is also bankrupt.

I would imagine whatever reason you have to user forward-all will go
away in Release 5 because of the service mechanism.  I would sure hope
so, because forward-all isn't in the new Chaos NCP.
 6-Aug-83 01:29:38-EDT,2976;000000000000
Return-path: <LMFile@MIT-OZ>
Date: Saturday, 6 August 1983, 01:29-EDT
From: The AI File Server <LMFile@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.35, ZMail 50.16,
Experimental Local-File 44.3, FILE-Server 6.6, MagTape 14.4,
Experimental LFS 2.3, microcode 238, FC, on Lisp Machine Filecomputer:


Insert your description of the circumstances here:

I got this error in the middle of a vanilla incremental tape dump.
It was trying to write out the LAMBDA-UCODE directory.
After this mail gets sent, Tim will try to force the subnode flavor to 3
(i.e. an alphabetical dir node) with fingers crossed...

  --Cent.

>>ERROR: Lossage: subnode flavor code 29 out of range
Backtrace from the debugger:

DIR-READ-ENTRY (P.C. = 216)

 Arg 0 (FULL-PATHSTEP): (:VERSION (:NAME "UNIB ' UNIBUS-3COM-HARDWARE-INSTALLATI") 23426516)
 Arg 1 (EXTRA-FLAGS): 1
Local 0 (ENTRY): #<dir-entry (:VERSION (:NAME "UNIB ' UNIBUS-3COM-HARDWARE-INSTALLATI") 23426516) 33475631>
Local 1 (FLAVOR-CODE): 35
Local 2 (PLIST-LENGTH): 13232755
Local 3 (FLAGS): NIL
Local 4 (PTR-INFO-LENGTH): NIL
Local 5 (-BYTE-SIZE-): NIL
Local 6 (TEM): NIL


READ-NEW-DIR-FORMAT (P.C. = 130)

Local 0 (NAMELENGTH): 47
Local 1 (EXTRA-FLAG-BITS): 1
Local 2 (NEW-DIR-LIST): (("UNIB ' UNIBUS-3COM-HARDWARE-INSTALLATI" NIL **) ("UNIBUS-3COM-HARDWARE-INSTALLATION-NOTES" NIL **))
Local 3 (NAME): "UNIB ' UNIBUS-3COM-HARDWARE-INSTALLATI"
Local 4 (VERSION): 23426516
Local 5 (NAME-ENTRY): ("UNIB ' UNIBUS-3COM-HARDWARE-INSTALLATI" NIL (23426516))
Local 6 (VERSION-ENTRY): (23426516)
Local 7 (G1150): NIL


(:METHOD NAME-AND-VERSION-DIR-NODE READ-DIR) (P.C. = 101)
  (SELF is #<ALPHABETICAL-DIR-NODE NAHA 33475527>)

 Arg 0 (OPERATION): READ-DIR
Local 0 (DIRECTORY-DATA-END): NIL


(:METHOD DIR-NODE :AFTER INIT-NODE) (P.C. = 155)
  (SELF is #<ALPHABETICAL-DIR-NODE NAHA 33475527>)

 Arg 0 (OPERATION): INIT-NODE
 Arg 1 (IGNORE): (:PACK-NUMBER 0 :FIRST-BLOCK-NUMBER 472155)
 Rest arg (G7363): (:PRESERVE-DATES T)
Local 1 (OLD-ENTRY): NIL
Local 2 (INHERIT-SUBNODES): T
Local 3 (OLD-NODE): NIL
Local 4 (PACK): NIL


Additional information supplied with call:
 Expecting 2 values

(:METHOD ALPHABETICAL-DIR-NODE :COMBINED INIT-NODE) (P.C. = 67)
  (SELF is #<ALPHABETICAL-DIR-NODE NAHA 33475527>)

 Rest arg (.DAEMON-CALLER-ARGS.): (INIT-NODE (:PACK-NUMBER 0 :FIRST-BLOCK-NUMBER 472155) :PRESERVE-DATES T)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-5 30454352>
Local 2 (.VAL1.): #<ALPHABETICAL-DIR-NODE-ENTITY NAHA 31701330>
Local 3 (.VAL2.): NIL
Local 4 (.VAL3.): NIL


Remainder of stack:

DIR-NODE-OPEN-SUBNODE (P.C. = 145)
(:METHOD DIR-NODE OPEN-SUBNODE-ENTRY) (P.C. = 47)
NODE-ENCAPSULATION (P.C. = 171)
DIR-NODE-DUMP-SUBNODES (P.C. = 107)
(:METHOD NAME-AND-VERSION-DIR-NODE DIR-ITERATE) (P.C. = 267)
(:METHOD ROOT-NODE :COMBINED DIR-ITERATE) (P.C. = 63)
NODE-ENCAPSULATION (P.C. = 142)
DUMP-START-TREE-WALK (P.C. = 62)
 6-Aug-83 19:44:14-EDT,462;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Saturday, 6 August 1983, 19:43-EDT
From: Gavan Duffy <GAVAN@MIT-OZ>
Subject: can't read arglist
To: BUG-LISPM@MIT-OZ

In System 222.249, Zmail 74.46, site configuration 54, Vanilla, on Lisp Machine Four:

Try super-meta e, to evaluate a lisp form into the buffer, and then try
control-shift a, for the arglist.  You won't be able to read the arglist
too easily.  It probably should be directed to the typeout window.
 7-Aug-83 22:49:34-EDT,2726;000000000000
Return-path: <Hewitt@MIT-OZ>
Date: Sunday, 7 August 1983, 22:43-EDT
From: Carl Hewitt <Hewitt@MIT-OZ>
Subject: bug in Zmail?
To: BUG-LISPM@MIT-MC

In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-4:

I tried to read mail from OZ after saving my mail file.

>>Error: Buffer OZ:PS:<HEWITT>HEWITT.BABYL is idle, but still points to the active inbox OZ:PS:<HEWITT>MAIL.TXT.1.
While in the function ZWEI:COM-GET-INBOX-INTERNAL  ZWEI:COM-GET-NEW-MAIL-FROM-INBOX  ZWEI:COMMAND-EXECUTE

ZWEI:COM-GET-INBOX-INTERNAL:  (P.C. = 154)
   Arg 0 (FIRST-TIME-P): NIL
   --Defaulted args:--
   Arg 1 (FOR-BUFFER): #<BABYL-BUFFER "OZ:PS:<HEWITT>HEWITT.BABYL" 3571423>
   Local 2 (OTHER-BUFFER): #<TENEX-INBOX-BUFFER "OZ:PS:<HEWITT>MAIL.TXT.1" 3572635>
   Local 3 (PATHNAME): "Buffer ~A is idle, but still points to the active inbox ~A."

ZWEI:COM-GET-NEW-MAIL-FROM-INBOX:  (P.C. = 7)

ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
   Arg 0 (COMMAND): ZWEI:COM-GET-NEW-MAIL-FROM-INBOX
   Arg 1 (CHAR): (MENU ("Get inbox" . ZWEI:COM-GET-NEW-MAIL-FROM-INBOX) 1. #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 1 3005415 exposed>)
   --Defaulted args:--
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 6)
   Arg 0 (*CURRENT-COMMAND*-initialization): ZWEI:COM-GET-NEW-MAIL-FROM-INBOX

(INTERNAL ZWEI:ZMAIL-COMMAND-LIST 0.):  (P.C. = 10)
   Arg 0 (**DEFSELECT-OP**): MENU
   Arg 1 (ITEM): ("Get inbox" . ZWEI:COM-GET-NEW-MAIL-FROM-INBOX)
   Arg 2 (CH): 1.
   Arg 3 (WINDOW): #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 1 3005415 exposed>

ZWEI:ZMAIL-COMMAND-LIST:  (P.C. = 12)
   Arg 0 (OPERATION): MENU
   Rest arg (SELECT-METHOD-ARGS): (("Get inbox" . ZWEI:COM-GET-NEW-MAIL-FROM-INBOX) 1. #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 1 3005415 exposed>)

(METHOD ZWEI:ZMAIL-FRAME PROCESS-SPECIAL-COMMAND):  (P.C. = 5)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 3000143 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 60. IV's, 20. FL's 62046770>
   Arg 2 (OPERATION): PROCESS-SPECIAL-COMMAND
   Rest arg (ARGS): (MENU ("Get inbox" . ZWEI:COM-GET-NEW-MAIL-FROM-INBOX) 1. #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 1 3005415 exposed>)

(METHOD ZWEI:ZMAIL-FRAME COMMAND-LOOP):  (P.C. = 136)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 3000143 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 60. IV's, 20. FL's 62046770>
   Arg 2 (OPERATION): COMMAND-LOOP

Rest of stack:
(METHOD ZWEI:ZMAIL-FRAME COMBINED COMMAND-LOOP):  (P.C. = 45)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 56)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
 7-Aug-83 23:31:05-EDT,418;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Sunday, 7 August 1983, 23:27-EDT
From: Hewitt@MIT-OZ
Sender: GAVAN@MIT-OZ
Subject: Apiary 4 unusable
To: BUG-LISPM@MIT-OZ

Apiary 4 cannot be used for more than a few minuutes without halting
itself.

Sequencer status: TSK-STOP

MC status: ADDR-IN-AMEM 0, VMA-MD-OFFESET 0, BMA-FOR-MD-0 0,
ECC Syndrome 4, address 2xxxxx3

Please call Symbolics.

Thanks,

Carl
 
 7-Aug-83 23:32:05-EDT,1185;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Sun 7-Aug-83 23:29:50-EDT
Date: Sunday, 7 August 1983, 23:27-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: VMS pathname merging anomaly
To: David Chapman <Zvona@MIT-OZ>, RWK@SCRC-TENEX, SWM@SCRC-TENEX
Cc: BUG-lispm@MIT-OZ
In-reply-to: The message of 3 Aug 83 22:33-EDT from David Chapman <Zvona at MIT-AI>

    Date: Wednesday, 3 August 1983, 22:33-EDT
    From: David Chapman <Zvona@MIT-OZ>
    In System 222.249, Zmail 74.46, site configuration 54, on Lisp Machine Six:

    ``.txt''completing against a vms pathname of ``foo.lsp'' gets a
    null-string name component.

I assume that when you say "completing" you mean "merging".

This is still true in the latest system.  As I recall, when the merging behavior
of pathnames that start with a dot was rationalized last year, it was stated that
VMS pathnames had to behave this way because files with null names are both legal
and frequently used on VMS.  (You don't really expect to be able to win when using
VMS, do you?)

I don't have access to a VMS to test this.  Bob, could you give us the definitive
story?
 8-Aug-83 03:00:47-EDT,1504;000000000000
Return-path: <RWK@SCRC-TENEX>
Received: from SCRC-BLACKSTONE by SCRC-TENEX with CHAOS; Mon 8-Aug-83 02:58:18-EDT
Date: Monday, 8 August 1983, 02:56-EDT
From: Robert W. Kerns <RWK@SCRC-TENEX>
Subject: VMS pathname merging anomaly
To: David A. Moon <Moon@SCRC-TENEX>
Cc: David Chapman <Zvona@MIT-OZ>, SWM@SCRC-TENEX, BUG-lispm@MIT-OZ
In-reply-to: The message of 7 Aug 83 23:27-EDT from David A. Moon <Moon at SCRC-TENEX>

    Date: Sunday, 7 August 1983, 23:27-EDT
    From: David A. Moon <Moon@SCRC-TENEX>
	Date: Wednesday, 3 August 1983, 22:33-EDT
	From: David Chapman <Zvona@MIT-OZ>
	In System 222.249, Zmail 74.46, site configuration 54, on Lisp Machine Six:

	``.txt''completing against a vms pathname of ``foo.lsp'' gets a
	null-string name component.

    I assume that when you say "completing" you mean "merging".

    This is still true in the latest system.  As I recall, when the merging behavior
    of pathnames that start with a dot was rationalized last year, it was stated that
    VMS pathnames had to behave this way because files with null names are both legal
    and frequently used on VMS.  (You don't really expect to be able to win when using
    VMS, do you?)

    I don't have access to a VMS to test this.  Bob, could you give us the definitive
    story?
That's what the  symbol is for.  See the 4.0 Release Notes.  This is hardly
the only situation where you run into this.  Logical pathnames, for an obvious
example.  Unix types, for another.
 8-Aug-83 10:04:54-EDT,571;000000000000
Return-path: <JBA@MIT-OZ>
Mail-From: JBA created at  8-Aug-83 09:59:37
Date: Mon, 8 Aug 1983  09:59 EDT
Message-ID: <[MIT-OZ].JBA. 8-Aug-83 09:59:36>
From: JBA@MIT-OZ
To:   bug-oz@MIT-OZ, bug-lispm@MIT-OZ
Subject: alto -> oz, lispm

What is the easiest way to transfer files (press files in particular)
from altos to either oz or a lispm?  

Also, does anyone know if/where I could get an alto disk cartridge?

The reason for all this is that I'm getting into DRAW.  Now, if
someone wanted to implement DRAW on lispms, all my problems would be
solved... 
 8-Aug-83 10:14:34-EDT,1829;000000000000
Return-path: <BSG@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Mon 8-Aug-83 10:13:56-EDT
Date: Monday, 8 August 1983, 10:11-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: [JWalker at SCRC-TENEX: beware m-X Rename File for the next while]
To: Hewitt@MIT-OZ
Cc: joseph@SCRC-VIXEN, bug-lispm@MIT-OZ, feinberg@SCRC-VIXEN,
    JWalker@SCRC-TENEX
In-reply-to: The message of 6 Aug 83 16:42-EDT from Joseph R. Goldstone <joseph at SCRC-VIXEN>

Carl, is this a description of your problem?
  
  Date: Monday, 1 August 1983, 16:21-EDT
  From: Jan Walker <JWalker@SCRC-TENEX>
  Ever had some changes that you swore you made disappear on you?  Perhaps
  one possible explanation has now been removed.
  
  It seems that m-X Rename File and m-X Copy File, when they were not
  maintaining the version number, used to take the files in the order they
  appeared in the directory list.  This led to the following interesting
  situation where .newest was not preserved:
  foo.txt.4 --> bar.txt.1
  foo.txt.6 --> bar.txt.2
  foo.txt.5 --> bar.txt.3
This problem was recently discovered and fixed in 232, and we will
probably fix it in Release 4, too.

If you are copying to a file of the same name and type, i.e., >foo>bar.*
to >mumble>, it should preserve the version numbers all by itself.
If you want to copy >foo>bar.* to >baz>boz.*, and preserve the version
numbers ANYWAY, which is not the system's idea of fun, say >baz>boz.*.*
for the second operand, and it will be done.

Both of these cases should work even without this recent bug fix, and
I would like to see any test case of a situation where they do not.
The recent fix involves preserving version SEQUENCING, not actual
numbers, in the cases where the mechanism is trying to preserve the
actual numbers itself.
 8-Aug-83 14:22:28-EDT,1212;000000000000
Return-path: <kbe@MIT-OZ>
Date: Monday, 8 August 1983, 14:20-EDT
From: Apprentice for KMP <kbe@MIT-OZ>
Subject: Feature idea: c-U c-X c-B
To: BUG-LISPM@MIT-OZ

In System 222.249, ...

You probably know I typically edit 70-80 files at a time. I 
wouldn't mind if there were a way in ZWEI to list (a la c-X c-B) 
some subset of those buffers. The thing I typically want to see
is the modified buffers, but that might be somewhat to specialized.
Instead, what if c-U c-X c-B listed only the buffers which had
actually been selected at one time or another? Typically, out of 
these 80 files, I might touch only 10 or 20 in a session, so this
would greatly reduce the number of buffers I had to see in a 
listing. This would also list buffers which I had selected but not
modified, but that would be acceptable; sometimes even useful. It
should not list buffers that have just been Tags Search'd or some 
such. I assume it's possible to tell which have been visited and 
which not since the sorting predicate c-X c-B seems to take such 
into account somehow.

I won't push this if someone thinks it's a bad idea for some reason, but I do
think it would be easy to implement and pretty handy.
 8-Aug-83 19:12:23-EDT,1257;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS; Mon 8-Aug-83 19:08:33-EDT
Date: Monday, 8 August 1983, 19:01-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Feature idea: c-U c-X c-B
To: kmp@MIT-OZ
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 8 Aug 83 14:20-EDT from Apprentice for KMP <kbe at MIT-AI>

    Date: Monday, 8 August 1983, 14:20-EDT
    From: Apprentice for KMP <kbe@MIT-OZ>

    You probably know I typically edit 70-80 files at a time. I 
    wouldn't mind if there were a way in ZWEI to list (a la c-X c-B) 
    some subset of those buffers.
    Instead, what if c-U c-X c-B listed only the buffers which had
    actually been selected at one time or another?

In recent systems, c-U c-X c-B prompts for a string and lists only
buffers "apropos of" that string.  I use this all the time: more often
than I use plain c-X c-B.  Would this satisfy your need, or do you really
want to see exactly all buffers that had been selected since they were
reverted?  There is a longstanding pending feature request for division
of buffers into categories when listing them, but I don't recall seeing
any concrete proposals that could be implemented; however this is clearly
related.
 8-Aug-83 19:27:56-EDT,999;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from CHAOS|24610 by SCRC-SPANIEL with CHAOS; Mon 8-Aug-83 19:26:54-EDT
Date: Monday, 8 August 1983, 19:21-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: alto -> oz, lispm
To: JBA at MIT-AI
Cc: bug-oz at MIT-AI, bug-lispm at MIT-AI
In-reply-to: <[MIT-OZ].JBA. 8-Aug-83 09:59:36>

    Date: Mon, 8 Aug 1983  09:59 EDT
    From: JBA@MIT-OZ
    What is the easiest way to transfer files (press files in particular)
    from altos to either oz or a lispm?  

(chaos:eftp-binary-file-from-alto filename octal-alto-address).  If the
Alto says it's 2#6# when you boot it, then the address is (+ (ash 2 8) 6)
if I remember correctly.  I believe you need to use "my EFTP", which has
a bug fixed (otherwise your packets won't make it through the Chaos-PUP
gateway).  It's on a directory named moon on the IFS; maybe other places
as well.

I heard there is also a TFTP program that runs on Altos and XX, but I don't
know anything about it.
 9-Aug-83 00:50:13-EDT,4118;000000000000
Return-path: <KMP@MIT-OZ>
Mail-From: KMP created at  9-Aug-83 00:47:47
Date:  9 Aug 1983 0047-EDT
From: KMP@MIT-OZ
Subject: Re: Feature idea: c-U c-X c-B
To: Moon@SCRC-TENEX
cc: BUG-LISPM@MIT-OZ
In-Reply-To: Your message of 8-Aug-83 1912-EDT

    Date: Monday, 8 August 1983, 19:01-EDT
    From: David A. Moon <Moon@SCRC-TENEX>

        Date: Monday, 8 August 1983, 14:20-EDT
        From: Apprentice for KMP <kbe@MIT-OZ>

        You probably know I typically edit 70-80 files at a time. I 
        wouldn't mind if there were a way in ZWEI to list (a la c-X c-B) 
        some subset of those buffers.
        Instead, what if c-U c-X c-B listed only the buffers which had
        actually been selected at one time or another?

    In recent systems, c-U c-X c-B prompts for a string and lists only
    buffers "apropos of" that string.  I use this all the time: more often
    than I use plain c-X c-B.  Would this satisfy your need, or do you really
    want to see exactly all buffers that had been selected since they were
    reverted?  There is a longstanding pending feature request for division
    of buffers into categories when listing them, but I don't recall seeing
    any concrete proposals that could be implemented; however this is clearly
    related.

Your c-X c-B would be worthless to me for this application though perhaps
useful in other situations. Since it's already implemented, I won't advocate
changing things. It's not that big an issue; I mostly agree with you that
the c-X c-B problem needs much more to fix it right than changing its 
conventions about what to do when given an argument...

I proposed something a while back about something I called "contexts" which
were like collections of buffers. My proposal was very elaborate though it 
left enough things open that I can see why no one could just run out and 
implement it from my description. I hope the proposal was saved as fuel for
thought if/when someone gets serious about this issue.

Here are some things that came to mind about your reply above, though, which
might be of some interest to your user-interface folks in thinking about
the problem. Again, I'm not trying to push a particular solution; just trying
to identify the issues.

* I don't know the names of the files I've edited, so anything like
  Apropos is not helpful.
  
* In cases where this might be useful, it would be even more useful if it
  allowed extended search characters. Does it? That would allow groups of files
  with nothing textually in common.

* Your hack could be stretched to accomodate me (though I wouldn't advocate
  doing so) by making the search be on the whole line. Then I could type "*"
  for the search string and match on the buffer modification flag rather than
  the filename. On the other hand, this would mean it would have to cons the
  strings for all the lines which would probably be at least as timewise 
  expensive as just putting them on the screen, so would be worthless.

* Your hack addresses the issue of getting files clumped which wouldn't 
  otherwise appear side-by-side in a display. My hack happens to not address
  this -- they already appear side-by-side. I just want it to stop after it
  prints them, rather than continuing typeout and speeding up the time when it
  will over-write what is in view. 

* The amount of time I want to save is very small. If I have to get prompted,
  it is too much time and I might as well be letting the c-X c-B run to 
  completion. It's like the problem of c-T. I hate to let it waste a single
  key, but unless it's one keystroke, it's worthless because if you make it
  two or three keystrokes, you almost might as well have typed rubout, etc.

* Your hack means that if I'm consistently working with the same N files, then
  every time I want to list them, I have to type c-U c-X c-B FOOBAR Return,
  I presume. You might consider sticky defaulting and/or allowing c-U c-U to
  remember the last default without reprompting. Perhaps you already do 
  something like this.

-------
 9-Aug-83 04:49:40-EDT,3715;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Tuesday, 9 August 1983, 04:45-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: MOUSE-BUTTON-ENCODE enhancement
To: bug-lispm at oz

The reader recognizes #\c-m-mouse-l-1, format's ~c knows what to do with such
characters and Zmac's mouse comtabs are set up for doing things with shifted
mice.  MOUSE-BUTTON-ENCODE seems to be the only thing that doesn't deal with
people who would like to have shifted mice.  The following MOUSE-BUTTON-ENCODE
will put the shift bits into the mouse character if *mouse-incrementing-keystates*
is (:MOUSE-SHIFT).  Could someone add it to the system?  It works on a #-3600 and
I think I have the correct shift bits for the #+3600.  A minor change should
make it work on the MIT system without changing the old behavior.

Thanks

;;; Shifty mice

(defconst %%shifts-control-meta #-3600 #o0404 #+3600 #o0104
	  "Byte specifier for hyper-super-meta-control in shifts")

;;; MOUSE-BUTTON-ENCODE
;;; When a mouse button has been pushed, and you want to support
;;; double-clicking, call this function.  It returns NIL if no
;;; button is pushed, or 100000 + 8 N + B, where B is the bit number
;;; in the button word, and N is one less than the number of clicks.
;;; Timing is computed from the microsecond clock.
;;; The argument, BD, is which buttons were just pushed, supplied by the caller
;;; who presumably got it from MOUSE-INPUT for the sake of good rollover.
(defvar *mouse-incrementing-keystates* '(:shift :control :hyper))

(DEFUN MOUSE-BUTTON-ENCODE (BD &AUX BUTTON MASK CH TIME NEW-BUTTONS NEW-TIME)
  (when ( (SETQ BUTTON (1- (HAULONG BD))) 0)  ;Pick a button that was just pushed
    (SETQ MASK (LSH 1 BUTTON)
	  CH (DPB 1 %%KBD-MOUSE BUTTON)
	  TIME MOUSE-LAST-BUTTONS-TIME)
    (cond ((memq ':shift-mouse *mouse-incrementing-keystates*)
	   (tv:kbd-process-main-loop-internal)
	   (setq ch
		 (dpb (ldb %%shifts-control-meta
			   (logior si:kbd-left-shifts si:kbd-right-shifts))
		      %%kbd-control-meta ch)))
	  ((dolist (state *mouse-incrementing-keystates*)
	     (cond ((key-state state) (return (INCF CH 8)))))))
    (PROG1
      (LOOP NAMED MOUSE-BUTTON-ENCODE DOING	;Do forever (until guy's finger wears out)
	    ;; Ignore any clicking during the bounce delay
	    (LOOP DOING (MULTIPLE-VALUE (NEW-BUTTONS NEW-TIME) (MOUSE-BUTTONS))
		  UNTIL (> (TIME-DIFFERENCE NEW-TIME TIME) MOUSE-BOUNCE-TIME)
		  FINALLY (SETQ TIME NEW-TIME))
	    (COND (MOUSE-DOUBLE-CLICK-TIME
		   ;; Look for button to be lifted, or for double-click timeout
		   (LOOP WHILE (BIT-TEST MASK NEW-BUTTONS)
			 DO (MULTIPLE-VALUE (NEW-BUTTONS NEW-TIME) (MOUSE-BUTTONS))
			 WHEN (> (TIME-DIFFERENCE NEW-TIME TIME) MOUSE-DOUBLE-CLICK-TIME)
			 ;; Timed-out with button still down
			 DO (RETURN-FROM MOUSE-BUTTON-ENCODE CH)
			 FINALLY (SETQ TIME NEW-TIME))
		   ;; Button was lifted, do another bounce delay
		   (LOOP DOING (MULTIPLE-VALUE (NEW-BUTTONS NEW-TIME) (MOUSE-BUTTONS))
			 UNTIL (> (TIME-DIFFERENCE NEW-TIME TIME) MOUSE-BOUNCE-TIME)
			 FINALLY (SETQ TIME NEW-TIME))
		   ;; Now watch for button to be pushed again
		   (LOOP UNTIL (BIT-TEST MASK NEW-BUTTONS)
			 DO (MULTIPLE-VALUE (NEW-BUTTONS NEW-TIME) (MOUSE-BUTTONS))
			 WHEN (> (TIME-DIFFERENCE NEW-TIME TIME) MOUSE-DOUBLE-CLICK-TIME)
			 ;; Timed-out with button still up
			 DO (RETURN-FROM MOUSE-BUTTON-ENCODE CH)
			 FINALLY (SETQ CH (+ CH 8)	;Count multiplicity of clicks
				       TIME NEW-TIME)))
		  (T
		   (RETURN-FROM MOUSE-BUTTON-ENCODE CH)))
	    ;; Continue scanning (for triple click)
	    )
	   (SETQ MOUSE-LAST-BUTTONS NEW-BUTTONS
		 MOUSE-LAST-BUTTONS-TIME NEW-TIME))))
 9-Aug-83 09:56:37-EDT,1076;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Tue 9-Aug-83 09:51:31-EDT
Date: Tuesday, 9 August 1983, 09:45-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: alto -> oz, lispm
To: Moon@SCRC-TENEX, JBA@MIT-OZ
Cc: bug-lispm@MIT-OZ
In-reply-to: The message of 8 Aug 83 19:21-EDT from David A. Moon <Moon at SCRC-TENEX>

    Date: Monday, 8 August 1983, 19:21-EDT
    From: David A. Moon <Moon at SCRC-TENEX>
	Date: Mon, 8 Aug 1983  09:59 EDT
	From: JBA@MIT-OZ
	What is the easiest way to transfer files (press files in particular)
	from altos to either oz or a lispm?  

    (chaos:eftp-binary-file-from-alto filename octal-alto-address).  If the
    Alto says it's 2#6# when you boot it, then the address is (+ (ash 2 8) 6)
    if I remember correctly.

I fear this won't work in the Release 5 Chaos NCP.
eftp-...-file-from-alto uses the distinguished port "feature" that has
disappeared.  I can't tell by looking at the gateway-pup code whether it
will work or not and I don't have any notion of how to test it.
 9-Aug-83 22:39:41-EDT,1833;000000000000
Return-path: <JGB@MIT-OZ>
Date: Tuesday, 9 August 1983, 22:36-EDT
From: Jonathan G. Bliss <JGB@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.34, ZMail 50.15, microcode 238, jmb 8/8,
on Lisp Machine Thirty:

 


PROBLEM :
 (fraz nil) hangs the LISPM during execution -
 it won't respond to any <ABORT> or <BREAK>'s - 
 it will warm boot with (seemingly) no ill after-effects.


MORE INFO :
1) (fraz t) works ok.

2) if the  "(format t "~% ~a ~a" n (aref phasor-arr n))" is replaced by
    "(aref phasor-arr n)" , then (fraz nil) works ok.

3) however, same problem has been observed with "(format ...)" replaced by
   a form like "(setq foo (* (..) (aref phasor-arr n)))"

4) if "(aset (cis angle) outarr n)"  in sample-unit-circle  is replaced by
   "(aset (small-float (cis angle)) outarr n)", then (fraz nil) works ok.

5) compiled vs. interpreted has no effect.



;;; 	 -*- Mode:Lisp; Package:User; Base: 10. -*-

(defun FRAZ ( &optional (complex-float-p nil) &aux  phasor-arr )
  (setq xdim 32.)  
  (setq phasor-arr (sample-unit-circle xdim complex-float-p))
  (dotimes (k xdim)
    (format t "~% k ~a ~a" k (aref phasor-arr k))
    (dotimes (n xdim)
;      (aref phasor-arr n) ))
      (format t "~% ~a ~a" n (aref phasor-arr n)) ))
  )


; produces an array of (complex) sample values of the unit circle.

(defun SAMPLE-UNIT-CIRCLE (n-samples &optional  (complex-float-p nil)
			   &aux outarr delta angle)

  (setq outarr (make-array n-samples
			   ':type (if complex-float-p 'art-complex-float
				    'art-complex)))
  (setq two-pi (* 2 (atan 0 -1))
	delta (// two-pi n-samples)
	angle 0)
  
  (dotimes (n n-samples)
    (aset (cis angle) outarr n)
;    (aset (small-float (cis angle)) outarr n)
    (setq angle (+ angle delta)))
  outarr)

 9-Aug-83 23:39:23-EDT,407;000000000000
Return-path: <Henry@MIT-OZ>
Date: Tuesday, 9 August 1983, 23:34-EDT
From: Henry Lieberman <Henry@MIT-OZ>
Subject: Choose variable values
To: BUG-LISPM@MIT-OZ

In Release 4.3, LMFS 30.42, site configuration 33, on Lisp Machine Apiary-1:

If you pop up a Choose Variable Values window and some margin choice
operation causes an error, it tries to type out on the window underneath
and gets stuck. 
10-Aug-83 00:38:55-EDT,2135;000000000000
Return-path: <TIM@MIT-OZ>
Date: Wednesday, 10 August 1983, 00:32-EDT
From: Tim McNerney <TIM@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Two:


Insert your description of the circumstances here:

Blew up while doing a Redo (Control-Shift-R)

>>ERROR: The index 4 is greater than the length of the line "  )"
Backtrace from the debugger:

ZWEI:MOVE-BP (P.C. = 47)

 Arg 0 (BP): ("  )" 2 :MOVES)
 Arg 1 (LINE): "  )"
 Arg 2 (INDEX): 4
Local 0 (OLINE): "  )"


ZWEI:RESTORE-BP-VALUES (P.C. = 62)

 Arg 0 (SAVED-BP-VALUES): ((** 0 4) (** 0 4) (** 0 4) (** 0 4) ...)
 Arg 1 (STARTING-BP): ("  )" 2 :NORMAL)
Local 0 (LINE-NUMBER): 0
Local 1 (LINE): "  )"
Local 2: ((** 0 4) (** 0 4) (** 0 4) (** 0 4) ...)
Local 3 (ELT): (("  )" 2 :MOVES) 0 4)


ZWEI:UNDO-SAVED-CHANGE (P.C. = 155)

 Arg 0 (UNDO-ITEM): ("Small changes" ("  )" 2 :MOVES) ("     `(go ,,name)))" 22 :NORMAL) #<NODE 34304642> ...)
 Arg 1 (UNDO-STATUS): (#<ZMACS-BUFFER "MACROS.LSP SRC:<TIM.WW> OZ:" 33772021> (** ** ** ** ...) NIL NIL ...)
Local 0 (BP): ("  )" 2 :NORMAL)


ZWEI:COM-QUICK-REDO (P.C. = 132)

Local 0 (UNDO-STATUS): (#<ZMACS-BUFFER "MACROS.LSP SRC:<TIM.WW> OZ:" 33772021> (** ** ** ** ...) NIL NIL ...)
Local 1 (UNDO-ITEM): ("Small changes" ("  )" 2 :MOVES) ("     `(go ,,name)))" 22 :NORMAL) #<NODE 34304642> ...)
Local 2 (NAME): "Small changes"


Additional information supplied with call:
 Expecting 3 values

ZWEI:COMMAND-EXECUTE (P.C. = 116)

 Arg 0 (COMMAND): ZWEI:COM-QUICK-REDO
 Arg 1 (CHAR): 562
 Arg 2 (PREFIX-CHAR): NIL
 Arg 3 (HOOK-LIST): NIL
Local 0 (HOOK-SUCCESS): T
Local 1: NIL
Local 2 (HOOK): NIL


Remainder of stack:

ZWEI:PROCESS-COMMAND-CHAR (P.C. = 67)
(:METHOD ZWEI:WINDOW :EDIT) (P.C. = 470)
(:INTERNAL (:METHOD ZWEI:ZMACS-WINDOW :COMBINED :EDIT) 0) (P.C. = 74)
FUNCALL (P.C. = 25)
(:METHOD ZWEI:DISPLAYER :AROUND :EDIT) (P.C. = 31)
(:METHOD ZWEI:ZMACS-WINDOW :COMBINED :EDIT) (P.C. = 47)
ZWEI:ZMACS-WINDOW-TOP-LEVEL (P.C. = 46)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
10-Aug-83 02:39:19-EDT,930;000000000000
Return-path: <RMS@MIT-OZ>
Date: Wednesday, 10 August 1983, 02:38-EDT
From: Richard M. Stallman <RMS@MIT-OZ>
To: jgb@MIT-OZ, bug-lispm-mit@MIT-OZ

The bug you reported turns out to be in the microcode.
There is no way I can fix it for system 94.  It will be fixed in the
next system, which should be ready for testing in a week or two.

In the meantime, you can prevent the bug from happening by storing
the complex number into a SPECIAL variable (LOSER, in this example)
and then copying from there into the array.

You must not do those things one after the other or the compiler
will optimize it in such a way that the bug will happen again!
Something else must be done in between.
Here, the incrementation of ANGLE serves that purpose.

  (dotimes (n n-samples)
    (setq loser (cis angle))
    (setq angle (+ angle delta))
    (aset loser outarr n)
;    (aset (small-float (cis angle)) outarr n)
    )
11-Aug-83 03:34:58-EDT,377;000000000000
Return-path: <Gumby@MIT-OZ>
Date: Thursday, 11 August 1983, 03:29-EDT
From: David Vinayak Wallace <Gumby@MIT-OZ>
Subject: reprogramming the l-machine keyboard
To: BUG-LISPM@MIT-OZ

In Release 4.4, FEP 12, site configuration 58, on Lisp Machine Apiary-4:

I would like to swap ESCAPE and TAB, as I almost never use TAB.  Is
there a way to do this, at least in SUPDUP?
11-Aug-83 07:29:13-EDT,2303;000000000000
Return-path: <kmp@MIT-OZ>
Date: Thursday, 11 August 1983, 07:24-EDT
From: kmp@MIT-OZ
Subject: LOGIN-FORMS
To: BUG-LISPM@MIT-OZ
Cc: ECC@MIT-OZ, KMP@MIT-OZ

In Symbolics System 222.249 on MIT-AVATAR...

I was talking with ECC the other day about undoable environments and we
have some applications where we wouldn't mind being able to hook into the
mechanism LOGIN-FORMS and other things use for undoing. I note that things
that are undoable have :UNDO-FUNCTION properties, but it seems like the
system could provide a more general-purpose interface. The current interface,
so you don't have to look it up, is:

  (DEFMACRO LOGIN-FORMS (&BODY FORMS)
    `(LOGIN-FORMS-1 ',FORMS))
  
  (DEFUN LOGIN-FORMS-1 (FORMS)
    (LOOP FOR FORM IN FORMS
	  FOR UNDO-FCTN = (GET (CAR FORM) ':UNDO-FUNCTION)
	  FOR UNDO-FORM = (IF UNDO-FCTN (FUNCALL UNDO-FCTN FORM) NIL)
	  DO (EVAL FORM)
	  IF (NULL UNDO-FCTN)
	  DO (FORMAT T "~&Warning: Dont know how to undo form ~S;~@
			it will stay in effect after you log out"
		     FORM)
	  ELSE DO (PUSH UNDO-FORM LOGOUT-LIST)))

I propose changing things to something like:

  (DEFMACRO LOGIN-FORMS (&BODY FORMS)
    `(WITH-UNDO-FORMS LOGIN-FORMS ,@FORMS))
  
  (DEFMACRO WITH-UNDO-FORMS (UNDO-LIST &BODY FORMS)
    `(EVAL-FOR-UNDO ',UNDO-LIST ',FORMS))
  
  (DEFUN EVAL-FOR-UNDO (UNDO-LIST-NAME FORMS &OPTIONAL (ERROR-P ':WARN))
    (DOLIST (FORM FORMS)
      (WHEN (NOT (ATOM FORM)) ;ignore atoms
	(LET ((UNDO-FUNCTION (GET (CAR FORM) ':UNDO-FUNCTION)))
	  (WHEN (NOT UNDO-FUNCTION)
	    (COND ((EQ ERROR-P ':WARN)
		   (FORMAT ERROR-OUTPUT
			   "~&Evaluating this now but it won't be undone later:~
			    ~% ~S~%"
			   FORM))
		  (ERROR-P
		   (FSIGNAL "About to evaluate ~S,~%but don't know how to undo it."
			    FORM))))
	  (LET ((UNDO-FORM (IF UNDO-FUNCTION (FUNCALL UNDO-FUNCTION FORM) NIL)))
	    (EVAL FORM)
	    (IF UNDO-FORM (PUSH UNDO-FORM (SYMEVAL UNDO-LIST-NAME))))))))
  
  (DEFUN UNDO-EVALUATIONS (UNDO-LIST-NAME)
    (DO ((FORMS? (SYMEVAL UNDO-LIST-NAME) (SYMEVAL UNDO-LIST-NAME)))
	((NOT FORMS?))
      (EVAL (POP (SYMEVAL UNDO-LIST-NAME)))))

This would allow the facility to be of more general purpose use without making
people duplicate the part that is likely to always be the same...
11-Aug-83 08:09:27-EDT,3862;000000000000
Return-path: <Mailer@MIT-OZ>
Date: Thursday, 11 August 1983, 08:02-EDT
From: File Server at MIT-LISPM-15
Subject: LMFS problems on CADR15
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, site configuration 58, on Lisp Machine Fifteen:

I tried to open the directory "lm15:>Schema>" and go the following.

>>Error: The first argument (CONDITION-NAME) to MAKE-CONDITION, LMFS:DIRECTORY-FORMAT-ERROR, was of the wrong type.
The function expected the name of a condition.
While in the function MAKE-CONDITION  DBG:GET-CONDITION  ERROR

MAKE-CONDITION:  (P.C. = 41)
   Arg 0 (CONDITION-NAME): LMFS:DIRECTORY-FORMAT-ERROR
   Rest arg (INIT-OPTIONS): (REPORT-STRING "Directory in bad version: 4543" PATHNAME #<LMFS-PATHNAME "LM15:>Schema.directory.1"> FILE #<FILE-DESC 22460522 Schema>)

DBG:GET-CONDITION:  (P.C. = 27)
   Arg 0 (FLAVOR): LMFS:DIRECTORY-FORMAT-ERROR
   Arg 1 (INIT-OPTIONS): (REPORT-STRING "Directory in bad version: 4543" PATHNAME #<LMFS-PATHNAME "LM15:>Schema.directory.1"> FILE #<FILE-DESC 22460522 Schema>)

ERROR:  (P.C. = 73)
   Arg 0 (FLAVOR): LMFS:DIRECTORY-FORMAT-ERROR
   Rest arg (INIT-OPTIONS): (REPORT-STRING "Directory in bad version: 4543" PATHNAME #<LMFS-PATHNAME "LM15:>Schema.directory.1"> FILE #<FILE-DESC 22460522 Schema>)

LMFS:SIGNAL-LMFS-ERROR:  (P.C. = 117)
   Arg 0 (FLAVOR): LMFS:DIRECTORY-FORMAT-ERROR
   Arg 1 (FILE): #<FILE-DESC 22460522 Schema>
   Rest arg (FORMAT-ARGS): ("Directory in bad version: ~S" 4543)

LMFS:SCAN-DIRECTORY:  (P.C. = 150)
   Arg 0 (DIR): #<FILE-DESC 22460522 Schema>
   Arg 1 (FCN): #<DTP-FEF-POINTER (INTERNAL LMFS:DIRECTORY-LIST 0) 6767731>
   Arg 2 (ENV): (NIL (WILD WILD WILD) NIL (NO-DIR-INFO DELETED) #<FILE-DESC 22460522 Schema> NIL)
   --Defaulted args:--
   Arg 3 (ZUIDSW): NIL

LMFS:DIRECTORY-LIST:  (P.C. = 77)
   Arg 0 (DIRPN): ("Schema")
   Arg 1 (NAME): WILD
   Arg 2 (TYPE): WILD
   Arg 3 (VERSION): WILD
   Arg 4 (OPTIONS): (NO-DIR-INFO DELETED)

(METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER DIRECTORY-LIST):  (P.C. = 410)
   (SELF = #<LMFS-PATHNAME "LM15:>Schema>*.*.*">)
   Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (INTERNAL (METHOD FS:LMFS-PATHNAME COMBINED DIRECTORY-LIST) 0) 10702042>
   Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor FS:LMFS-PATHNAME -- 4. IV's, 13. FL's 16536653>
   Arg 2 (SELF-MAPPING-TABLE): #<Map to flavor FS:LOCAL-LMFS-PATHNAME-MIXIN -- 5. IV's, 2. FL's 2335346>
   Arg 3 (.OPERATION.): DIRECTORY-LIST
   Arg 4 (OPTIONS): (NO-DIR-INFO DELETED)

(METHOD FS:LMFS-PATHNAME COMBINED DIRECTORY-LIST):  (P.C. = 36)
   (SELF = #<LMFS-PATHNAME "LM15:>Schema>*.*.*">)
   Rest arg (.DAEMON-CALLER-ARGS.): (DIRECTORY-LIST (NO-DIR-INFO DELETED))

Rest of stack:
(METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER LIST-DIR-NO-SUBDIR-INFO):  (P.C. = 67)
(METHOD FS:LMFS-PATHNAME COMBINED LIST-DIR-NO-SUBDIR-INFO):  (P.C. = 36)
(METHOD TV:DIRECTORY-TREE GENERATE-INFERIORS-LIST):  (P.C. = 45)
(METHOD TV:DIRECTORY-TREE BEFORE VISIBLE-INFERIORS):  (P.C. = 55)
(METHOD TV:DIRECTORY-TREE COMBINED VISIBLE-INFERIORS):  (P.C. = 34)
(METHOD TV:DIRECTORY-TREE DISPLAY-OBJECT):  (P.C. = 77)
(METHOD TV:TREE LINE-REDISPLAY):  (P.C. = 103)
(METHOD TV:DIRECTORY-TREE AFTER SET-INFERIORS-VISIBLE):  (P.C. = 24)
(METHOD TV:DIRECTORY-TREE COMBINED SET-INFERIORS-VISIBLE):  (P.C. = 52)
(METHOD TV:TREE OPEN-OBJECT):  (P.C. = 25)
(INTERNAL (METHOD TV:DIRECTORY-TREE COMBINED OPEN-OBJECT) 0):  (P.C. = 67)
(METHOD TV:DIRECTORY-TREE WHOPPER OPEN-OBJECT):  (P.C. = 101)
(METHOD TV:DIRECTORY-TREE COMBINED OPEN-OBJECT):  (P.C. = 32)
(METHOD TV:MOUSABLE-TREE-SCROLL-MIXIN TREE-INTERPRET-BLIP):  (P.C. = 60)
(METHOD LMFS:FSMAINT-FRAME INTERPRET-INPUT):  (P.C. = 145)
(METHOD LMFS:FSMAINT-FRAME FSMAINT-TOP-LEVEL):  (P.C. = 160)
LMFS:FSMAINT-TOP-LEVEL:  (P.C. = 26)
SI:PROCESS-TOP-LEVEL:  (P.C. = 125)
11-Aug-83 15:21:26-EDT,1279;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-YAMASKA by SCRC-TENEX with CHAOS; Thu 11-Aug-83 15:21:34-EDT
Date: Thursday, 11 August 1983, 15:19-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: reprogramming the l-machine keyboard
To: David Vinayak Wallace <Gumby@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 11 Aug 83 03:29-EDT from David Vinayak Wallace <Gumby at MIT-AI>

    Date: Thursday, 11 August 1983, 03:29-EDT
    From: David Vinayak Wallace <Gumby@MIT-OZ>
    In Release 4.4, FEP 12, site configuration 58, on Lisp Machine Apiary-4:

    I would like to swap ESCAPE and TAB, as I almost never use TAB.  Is
    there a way to do this, at least in SUPDUP?

If you look at the source of si:kbd-convert-to-software-char (this function
has entirely different definitions for 3600 and LM-2, so m-. on a 3600 or
look in SYS:SYS;LFEPIO), you should be able to figure out how to patch the
keyboard translation table in your init file.  Needless to say we don't
encourage this.  Use the LOGIN-FORMS undoability mechanism to make LOGOUT
set the keyboard back the way it was, or else always boot rather than logging
out.  Otherwise the next person to use the machine is going to be very confused
when the keyboard "doesn't work right."
11-Aug-83 17:02:47-EDT,1279;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-YAMASKA by SCRC-TENEX with CHAOS; Thu 11-Aug-83 15:21:34-EDT
Date: Thursday, 11 August 1983, 15:19-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: reprogramming the l-machine keyboard
To: David Vinayak Wallace <Gumby@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 11 Aug 83 03:29-EDT from David Vinayak Wallace <Gumby at MIT-AI>

    Date: Thursday, 11 August 1983, 03:29-EDT
    From: David Vinayak Wallace <Gumby@MIT-OZ>
    In Release 4.4, FEP 12, site configuration 58, on Lisp Machine Apiary-4:

    I would like to swap ESCAPE and TAB, as I almost never use TAB.  Is
    there a way to do this, at least in SUPDUP?

If you look at the source of si:kbd-convert-to-software-char (this function
has entirely different definitions for 3600 and LM-2, so m-. on a 3600 or
look in SYS:SYS;LFEPIO), you should be able to figure out how to patch the
keyboard translation table in your init file.  Needless to say we don't
encourage this.  Use the LOGIN-FORMS undoability mechanism to make LOGOUT
set the keyboard back the way it was, or else always boot rather than logging
out.  Otherwise the next person to use the machine is going to be very confused
when the keyboard "doesn't work right."
11-Aug-83 20:27:36-EDT,2021;000000000000
Return-path: <Lori@MIT-SPEECH>
Date: Thursday, 11 August 1983, 20:26-EDT
From: Lori F. Lamel <Lori at MIT-SPEECH>
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.31,
site configuration 54, on Lisp Machine Boo Boo:

I was trying to do a dired and this happened.

>>Error: The object #<EDITOR 35607214> received a SELECT-SPECIAL-BUFFER message, which went unclaimed.
The rest of the message was (DIRED T SET-PATHNAME #<LMFS-PATHNAME "BOOBOO:>lamel>*.*.*">)
While in the function (DEFUN-METHOD ZWEI:DIRECTORY-EDIT)  ZWEI:DIRECTORY-EDIT  ZWEI:COM-DIRED

(DEFUN-METHOD ZWEI:DIRECTORY-EDIT):  (P.C. = 51)
   (SELF = #<EDITOR 35607214>)
   Arg 0 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 24562024>
   Arg 1 (PATHNAME): #<LMFS-PATHNAME "BOOBOO:>lamel>*.*.*">

ZWEI:DIRECTORY-EDIT:  (P.C. = 64)
   Rest arg (ARGS): (#<LMFS-PATHNAME "BOOBOO:>lamel>*.*.*">)

ZWEI:COM-DIRED:  (P.C. = 30)

ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 67)

ZWEI:COMMAND-EXECUTE:  (P.C. = 100)
   Arg 0 (COMMAND): ZWEI:COM-EXTENDED-COMMAND
   Arg 1 (CHAR): 600.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 67)
   Arg 0 (CH): 600.

(METHOD ZWEI:EDITOR EDIT):  (P.C. = 377)
   (SELF = #<EDITOR 35607214>)
   Arg 0 (OPERATION): EDIT
   --Defaulted args:--
   Arg 1 (TOP-LEVEL-P): NIL

ZWEI:COMMAND-LOOP:  (P.C. = 115)
   Arg 0 (COMTAB): #<ART-Q-4. 6335350>
   Arg 1 (WINDOW): #<WINDOW 5515711>
   --Defaulted args:--
   Arg 2 (TYPE): ZWEI:EDITOR

Rest of stack:
ZWEI:CONTROL-R:  (P.C. = 62)
ZWEI:QUERY-REPLACE-INTERNAL:  (P.C. = 622)
ZWEI:QUERY-REPLACE:  (P.C. = 111)
ZWEI:COM-QUERY-REPLACE:  (P.C. = 73)
ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 67)
ZWEI:COMMAND-EXECUTE:  (P.C. = 100)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 67)
(METHOD ZWEI:EDITOR EDIT):  (P.C. = 377)
(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 102)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 52)
SI:PROCESS-TOP-LEVEL:  (P.C. = 125)
11-Aug-83 23:29:13-EDT,325;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Thursday, 11 August 1983, 23:23-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: format ~$ bug
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.37,
site configuration 54, on Lisp Machine Yogi:

(format t "~0$" 3) --> 3.0 instead of 3.
12-Aug-83 01:45:55-EDT,3542;000000000000
Return-path: <TIM@MIT-OZ>
Date: Friday, 12 August 1983, 01:44-EDT
From: Tim McNerney <TIM@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Six:


Insert your description of the circumstances here:

While searching the microcode for %OPEN-MOUSE-CURSOR

>>ERROR: Package "SI#" does not exist.
Backtrace from the debugger:

Additional information supplied with call:
 Expecting 2 values

(:PROPERTY SI:PACKAGE-PREFIX SI:STANDARD-READ-FUNCTION) (P.C. = 75)

 Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "SYS: UCADR; UCODE LISP >" 11422337>
 Arg 1 (STRING): "SI#"
 Arg 2 (LAST-CH): 72
Local 0 (THING): NIL
Local 1 (TYPE): NIL
Local 2 (PK): NIL


Additional information supplied with call:
 Expecting 2 values

SI:XR-READ-THING (P.C. = 337)

 Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "SYS: UCADR; UCODE LISP >" 11422337>
Local 0 (CH): 72
Local 1 (NUM): 25
Local 2 (A): NIL
Local 3 (B): NIL
Local 4 (STRING): "SI#"
Local 5 (INDEX): 3
Local 6 (STLEN): 100
Local 7 (REAL-CH): 72
Local 8 (READTABLE-FSM): #<ART-Q-52-26 1201125>
Local 9 (FNPROP): SI:STANDARD-READ-FUNCTION
Local 10 (STATE): (SI:LAST-CHAR . SI:PACKAGE-PREFIX)
Local 11 (FLAG): SI:LAST-CHAR
Local 12 (TODO): SI:PACKAGE-PREFIX


Additional information supplied with call:
 Expecting 2 values

(:PROPERTY LIST SI:STANDARD-READ-FUNCTION) (P.C. = 255)

 Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "SYS: UCADR; UCODE LISP >" 11422337>
 Arg 1 (SHOULD-BE-NIL): NIL
 Arg 2 (FIFTY): 50
Local 0 (LIST): NIL
Local 1 (THING): NIL
Local 2 (TYPE): NIL
Local 3 (SPLICEP): NIL
Local 4 (END-OF-LIST): #<DTP-LOCATIVE 7150553>
Local 5 (BP): NIL
Local 6 (CORRESPONDENCE-ENTRY): NIL
Local 7 (THIS-IS-COLUMN-0-LIST): NIL
Local 8: NIL


Additional information supplied with call:
 Expecting 2 values

SI:XR-READ-THING (P.C. = 155)

 Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "SYS: UCADR; UCODE LISP >" 11422337>
Local 0 (CH): 50
Local 1 (NUM): 5
Local 2 (A): NIL
Local 3 (B): NIL
Local 4 (STRING): NIL
Local 5 (INDEX): 0
Local 6 (STLEN): 100
Local 7 (REAL-CH): 50
Local 8 (READTABLE-FSM): #<ART-Q-52-26 1201125>
Local 9 (FNPROP): SI:STANDARD-READ-FUNCTION
Local 10 (STATE): (SI:LAST-CHAR . LIST)
Local 11 (FLAG): SI:LAST-CHAR
Local 12 (TODO): LIST


READ (P.C. = 142)

 Rest arg (READ-ARGS): (#<FILE-INPUT-CHARACTER-STREAM "SYS: UCADR; UCODE LISP >" 11422337> (NIL))
Local 1 (W-O): (:ADVANCE-INPUT-BUFFER BREAK :CHANGE-PROPERTIES :CHARACTERS ...)
Local 2 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "SYS: UCADR; UCODE LISP >" 11422337>
Local 3 (EOF-OPTION): (NIL)
Local 4 (THING): NIL
Local 5 (TYPE): NIL
Local 6 (SPLICEP): NIL


Remainder of stack:

SI:READFILE-INTERNAL (P.C. = 201)
READFILE (P.C. = 103)
SI:READFILE-1 (P.C. = 32)
SI:DO-FILE-TRANSFORMATIONS (P.C. = 261)
SI:PERFORM-TRANSFORMATIONS (P.C. = 125)
MAKE-SYSTEM (P.C. = 210)
SI:MAYBE-RELOAD-FILE (P.C. = 215)
SI:MAYBE-RELOAD-SYSTEM-DECLARATION (P.C. = 111)
SI:FIND-SYSTEM-NAMED (P.C. = 161)
SI:SYSTEM-SOURCE-FILES-1 (P.C. = 64)
...
ZWEI:COMMAND-EXECUTE (P.C. = 116)
ZWEI:PROCESS-COMMAND-CHAR (P.C. = 67)
(:METHOD ZWEI:WINDOW :EDIT) (P.C. = 470)
(:INTERNAL (:METHOD ZWEI:ZMACS-WINDOW :COMBINED :EDIT) 0) (P.C. = 74)
FUNCALL (P.C. = 25)
(:METHOD ZWEI:DISPLAYER :AROUND :EDIT) (P.C. = 31)
(:METHOD ZWEI:ZMACS-WINDOW :COMBINED :EDIT) (P.C. = 47)
ZWEI:ZMACS-WINDOW-TOP-LEVEL (P.C. = 46)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
12-Aug-83 02:21:22-EDT,1384;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Fri 12-Aug-83 02:19:54-EDT
Date: Friday, 12 August 1983, 02:17-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Editor recursion bug
To: Lori F. Lamel <Lori@MIT-SPEECH>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 11 Aug 83 20:26-EDT from Lori F. Lamel <Lori at MIT-SPEECH>

    Date: Thursday, 11 August 1983, 20:26-EDT
    From: Lori F. Lamel <Lori at MIT-SPEECH>
    In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.31,
    site configuration 54, on Lisp Machine Boo Boo:

    I was trying to do a dired and this happened.
    >>Error: The object #<EDITOR 35607214> received a SELECT-SPECIAL-BUFFER message, which went unclaimed.
    The rest of the message was (DIRED T SET-PATHNAME #<LMFS-PATHNAME "BOOBOO:>lamel>*.*.*">)
    While in the function (DEFUN-METHOD ZWEI:DIRECTORY-EDIT)  ZWEI:DIRECTORY-EDIT  ZWEI:COM-DIRED

It was because you typed m-x Dired while in the middle of a "recursive edit"
caused by typing c-R while in a Query Replace.  You have to type End or Abort
first to get back to the normal mode.  This bug is still present in the latest
system.

In Release 4 there may have been a bug that caused the editor mode line not to
tell you that you need to type End or Abort; I forget whether that one was fixed
before or after the release.
12-Aug-83 04:30:24-EDT,1977;000000000000
Return-path: <kmp@MIT-OZ>
Date: Friday, 12 August 1983, 04:30-EDT
From: kmp@MIT-OZ
Subject: Calling ZWEI commands from code
To: BUG-LISPM@MIT-OZ

In System 222.249, Zmail 74.46, Knowledge-Based-Editor 212.0,
site configuration 58, AAAI-83, on PA Lisp Machine Avatar:

Why are so many ZWEI commands written in such a way as to prevent users
from being able to use them as subroutines? As a matter of style, it seems
like things that go to a lot of hair should always do like:

  (defcom com-hack-buffer "Hacks the buffer" (KM)
    (hack-buffer ...prompt from minibuffer...))

  (defun hack-buffer (normal-arg1 normal-arg2 ...)
    ...normal functional definition which really hacks buffer...)

so that HACK-BUFFER can be called from code. An example of this is 
COM-SET-FONTS, which I wanted to call last night. I ended up extracting
the relevant code from the middle of this into my own function since there
was no obvious way to reach the code in COM-SET-FONTS without having it
interactively prompt through the minibuffer.

I suppose that in fact the functions might have to be DEFUN-METHODS if they
need to get at ZWEI instance variables. I'm not sure exactly how that works.
Anyway, I'm sure that part must be doable.

Another possible convention might be to do as is done with proceed cases
and try to set up the functional form to take optional args which will be
prompted for if not supplied. eg,

  (defcom com-hack-buffer "Hacks the buffer" (KM)
    (hack-buffer))

  (defun hack-buffer (&optional (normal-arg1 ...minibuffer prompting...)
		                (normal-arg2 ...minibuffer prompting...))
    ...normal functional definition which really hacks buffer...)

In any case, ZWEI internals are hairy enough due to all the data structures
which have to be kept consistent that it seems to me essential that the code
be organized so that users don't have to make private copies of system code
to do standard operations...
12-Aug-83 07:00:06-EDT,692;000000000000
Return-path: <DLW@SCRC-TENEX>
Date: Friday, 12 August 1983  06:53-EDT
From: DLW at SCRC-TENEX
To:   kmp at MIT-OZ
Cc:   BUG-LISPM at MIT-OZ
Subject: Calling ZWEI commands from code
In-reply-to: The message of 12 Aug 1983 04:30-EDT from kmp at MIT-OZ

In order to make it easier to write Zwei commands, Zwei commands are
allowed to make various nice assumptions about being called in an
environment in which a lot of things are set up.  That's why you can't
just call them from arbitrary Lisp code.  If we instead modularized
things so that every Zwei command was forced to be written so that
it could be callable from Lisp code, then it would be harder to
write such commands.
12-Aug-83 07:30:10-EDT,1557;000000000000
Return-path: <KMP@MIT-OZ>
Mail-From: KMP created at 12-Aug-83 07:26:30
Date: 12 Aug 1983 0726-EDT
From: KMP@MIT-OZ
Subject: Re: Calling ZWEI commands from code
To: DLW@SCRC-TENEX
cc: BUG-LISPM@MIT-OZ
In-Reply-To: Your message of 12-Aug-83 0659-EDT

You must have misunderstood my suggestion. I didn't say every ZWEI
command should be callable from Lisp code. Rather, I suggested that
every ZWEI command which does a large amount of work to achieve its
effect should also offer a Lisp-callable version of itself so that
the core behavior is not tied to the way the DEFCOM half happens.
If you look at ZWEI:COM-SET-FONTS, you'll see the sort of thing I mean.
Almost all ZWEI commands that do anything significant (whether it be
Set Fonts or Query Replace or whatever) have two components which
occur sequentially:
 * Code to prompt for arguments
 * Code which does some core activity
In the case of COM-SET-FONTS, there is a lot of baggage which a user
would have to attend to if he wanted to write his own SET-FONTS
utility. It would be very nice if the result of the READ-FROM-STRING
in the middle of COM-SET-FONTS were passed off to some named subroutine
that could be called separately.

I also didn't mean to suggest that this be in some way enforced other
than that it be documented as "good style" and encouraged wherever possible
(such as here).

I don't believe that what I'm suggesting makes any commands any harder
to write and it has a strong potential for making extensions considerably
easier to write.
-------
12-Aug-83 08:55:15-EDT,1282;000000000000
Return-path: <JBA@MIT-OZ>
Date: Friday, 12 August 1983, 08:49-EDT
From: Jon Amsterdam <JBA@MIT-OZ>
Subject: bug with system menu
To: BUG-LISPM@MIT-MC

In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-4:

I was using RLB's metering stuff.

>>Trap: The SYS:%INSTANCE-REF microcode ran into an DBG:INSTANCE-SIZE that was not a fixnum.
While in the function TV:CHECK-DEEXPOSED-WINDOW-RESOURCE  ALLOCATE-RESOURCE  (INTERNAL TV:MOUSE-CALL-SYSTEM-MENU 0)

TV:CHECK-DEEXPOSED-WINDOW-RESOURCE:  (P.C. = 3)
   Arg 0 (IGNORE): #<RESOURCE 737117>
   Arg 1 (WINDOW): <<Error printing value>>
   Arg 2 (IGNORE): NIL
   Rest arg (IGNORE): (#<MAIN-SCREEN Main Screen 3000061 exposed>)

ALLOCATE-RESOURCE:  (P.C. = 124)
   Arg 0 (RESOURCE-NAME): TV:SYSTEM-MENU
   Rest arg (PARAMETERS): (#<MAIN-SCREEN Main Screen 3000061 exposed>)

(INTERNAL TV:MOUSE-CALL-SYSTEM-MENU 0):  (P.C. = 6)
   Arg 0 (SUP): #<MAIN-SCREEN Main Screen 3000061 exposed>

SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
   Arg 0 (RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (INTERNAL TV:MOUSE-CALL-SYSTEM-MENU 0) 13314345>
   Rest arg (ARGS): (#<MAIN-SCREEN Main Screen 3000061 exposed>)

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   Arg 0 (IGNORE): NIL
12-Aug-83 09:55:22-EDT,652;000000000000
Return-path: <DLW@SCRC-TENEX>
Received: from SCRC-MUDDY by SCRC-SPANIEL with CHAOS; Fri 12-Aug-83 09:54:32-EDT
Date: Friday, 12 August 1983, 09:49-EDT
From: Daniel L. Weinreb <DLW at SCRC-TENEX>
Subject: Re: Calling ZWEI commands from code
To: KMP at MIT-AI
Cc: BUG-LISPM at MIT-AI
In-reply-to: The message of 12 Aug 83 07:26-EDT from KMP at MIT-AI

Oh.  In that case, we're in complete agreement.  I already consider this
to be good style.  It's just that lots of the editor is not written
sufficiently tastefully.  Yes, we should do this.  When we write the
Zmacs extension-writers guide, it will be a big incentive to fix all
this up.
12-Aug-83 12:06:39-EDT,444;000000000000
Return-path: <PGS@MIT-OZ>
Date: Friday, 12 August 1983, 12:06-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.40, ZMail 50.17, microcode 239, uC239,
on Lisp Machine Twenty-five:

Some interaction of the Lisp Machine and the VMS file server causes files
written by the Lisp Machine to a VMS system to lack their final crlf.  I don't
believe CFTP does this, but I'm not completely sure.
12-Aug-83 13:11:36-EDT,920;000000000000
Return-path: <Cassels@SCRC-TENEX>
Received: from SCRC-MENOTOMY by SCRC-TENEX with CHAOS; Fri 12-Aug-83 13:12:33-EDT
Date: Friday, 12 August 1983, 13:10-EDT
From: Robert A. Cassels <Cassels@SCRC-TENEX>
Subject: format ~$ bug
To: SR.CYPHER@MIT-SPEECH, BUG-LISPM@MIT-OZ
In-reply-to: The message of 11 Aug 83 23:23-EDT from D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>

    Date: Thursday, 11 August 1983, 23:23-EDT
    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
    In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.37,
    site configuration 54, on Lisp Machine Yogi:

    (format t "~0$" 3) --> 3.0 instead of 3.
Comments in the code note that ~0$ doesn't work.  Fixed in release 5.
If it's important to you, a back-patch could be made, but it's a little
hairy.  The entire floating-point read/print system was redone for
release 5.

For now, (format t "~D." (fixr 3.0)) ought to do the trick.
13-Aug-83 03:46:37-EDT,261;000000000000
Return-path: <RMS@MIT-OZ>
Mail-From: RMS created at 13-Aug-83 03:42:52
Date: 13 Aug 1983 0342-EDT
From: RMS@MIT-OZ
Subject: Undoing forms
To: bug-lispm-mit@MIT-OZ

KMP's suggestion seems to be essentially what is implemented in the MIT system.
-------
15-Aug-83 04:36:06-EDT,444;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Monday, 15 August 1983, 04:31-EDT
From: Gavan Duffy <GAVAN at OZ>
Subject: Electric Shift-Lock lost by updating attributes
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, Tape 19.2, site configuration 62, on PI Project:

If I'm in Electric Shift-Lock Mode and I do m-x Update Attribute List,
I'm unceremoniously thrown out of Electric Shift-Lock Mode.  This
doesn't seem to be the right thing.
15-Aug-83 09:01:52-EDT,3219;000000000000
Return-path: <Gumby@MIT-OZ>
Date: Monday, 15 August 1983, 08:57-EDT
From: David Vinayak Wallace <Gumby@MIT-OZ>
Subject: "File is not open (at 6507 inside FILE server)"
To: BUG-LISPM@MIT-OZ
Cc: bug-file@MIT-OZ

In Release 4.3, System 222.239, Zmail 74.46, LMFS 30.42,
site configuration 62, on Lisp Machine Apiary-1:

What does thisa mean?

>>Error: File system bug on host MIT-OZ:
File is not open (at 6507 inside FILE server)
For OZ:SRC:<GUMBY.LISPM>INIT.LISP.39
While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:OPEN-CHAOS  (METHOD FS:CHAOS-PATHNAME OPEN)

(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 363)
   (SELF = #<HOST-UNIT 2732006>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): NIL
   Arg 2 (STREAM-OR-HANDLE): "O1847"
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Open"
   Rest arg (COMMANDS): ("OPEN " WRITE " " CHARACTER "" "" "" "" "" "" ...)
   Local 1 (HANDLE): "O1847"
   Local 2 (STREAM): NIL
   Local 3 (PKT): #<CHAOS Packet 25041223>
   Local 4 (SUCCESS): NIL
   Local 5 (STRING): "O1847 ERROR BUG F File is not open (at 6507 inside FILE server)"
   Local 6 (TRANSACTION-ID): "T1855"
   Local 7 (CREATE-P): T
   Local 8 (FROM): 6.
   Local 9 (CONDITION): NIL
   Local 10: T
   Local 11: (#<CASE-HANDLER 2351607> #<BIND-HANDLER 2345041> #<BIND-HANDLER 2345553>)

FS:OPEN-CHAOS:  (P.C. = 577)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (*COMMAND-PATHNAME*): #<TOPS20-PATHNAME "OZ:SRC:<GUMBY.LISPM>INIT.LISP.39">
   Arg 2 (OPTIONS): (DIRECTION OUTPUT CHARACTERS T BYTE-SIZE NIL)

(METHOD FS:CHAOS-PATHNAME OPEN):  (P.C. = 26)
   (SELF = #<TOPS20-PATHNAME "OZ:SRC:<GUMBY.LISPM>INIT.LISP.39">)
   Arg 0 (OPERATION): OPEN
   Arg 1 (PATHNAME): #<TOPS20-PATHNAME "OZ:SRC:<GUMBY.LISPM>INIT.LISP.39">
   Rest arg (OPTIONS): (DIRECTION OUTPUT CHARACTERS T BYTE-SIZE NIL)

OPEN:  (P.C. = 375)
   Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:SRC:<GUMBY.LISPM>INIT.LISP.39">
   Rest arg (KEYWORD-ARGS): (DIRECTION OUTPUT CHARACTERS T BYTE-SIZE NIL)

COPYF:  (P.C. = 456)
   Arg 0 (FROM-PATHNAME): #<LMFS-PATHNAME "AP1:>gumby>mit>init.lisp.39">
   Arg 1 (TO-PATHNAME): #<TOPS20-PATHNAME "OZ:SRC:<GUMBY.LISPM>INIT.LISP.39">
   Rest arg: NIL

COPIER:  (P.C. = 25)
   Arg 0 (FILE): #<LMFS-PATHNAME "AP1:>gumby>mit>init.lisp.39">

ZWEI:DIRED-APPLY-FUNCTION:  (P.C. = 32)
   Arg 0 (LINE): "A     init.lisp.39     3   8025(8)     !   08//15//83 05:07:21 (08//15//83)   GUMBY"

ZWEI:DIRED-DO-FILE-LIST:  (P.C. = 153)
   Arg 0 (FILES): ("A     init.lisp.39     3   8025(8)     !   08//15//83 05:07:21 (08//15//83)   GUMBY" "A     useful.lisp.35    5  15693(8)    !   08//15//83 05:00:51 (08//15//83)   GUMBY" "A     zwei.lisp.28     3   8997(8)     !   08//10//83 01:31:47 (08//15//83)   GUMBY")
   Arg 1 (FUNCTION): ZWEI:DIRED-APPLY-FUNCTION
   Arg 2 (NAME): NIL
   --Defaulted args:--
   Arg 3 (MULTIPLE-FILE-MESSAGE): NIL

Rest of stack:
ZWEI:COM-DIRED-EXIT:  (P.C. = 425)
ZWEI:COMMAND-EXECUTE:  (P.C. = 100)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 67)
(METHOD ZWEI:EDITOR EDIT):  (P.C. = 377)
(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 102)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 52)
SI:PROCESS-TOP-LEVEL:  (P.C. = 125)
15-Aug-83 16:30:05-EDT,372;000000000000
Return-path: <Henry@MIT-OZ>
Date: Monday, 15 August 1983, 16:21-EDT
From: Henry Lieberman <Henry@MIT-OZ>
Subject: Dover hard copy of windows
To: BUG-LISPM@MIT-OZ

In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-3:

Is there any way yet to get press files of a window on the 3600?
[staying, of course, within the size limits of the dover]

15-Aug-83 18:15:03-EDT,1342;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-COLLIE by SCRC-TENEX with CHAOS; Mon 15-Aug-83 18:07:19-EDT
Date: Mon, 15 Aug 83 18:06 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: Dover hard copy of windows
To: Henry@MIT-OZ
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 15 Aug 83 16:21-EDT from Henry Lieberman <Henry at MIT-AI>
Message-ID: <830815180645.6.MMcM@SCRC-TENEX>

    Date: Monday, 15 August 1983, 16:21-EDT
    From: Henry Lieberman <Henry@MIT-OZ>
    In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-3:

    Is there any way yet to get press files of a window on the 3600?
    [staying, of course, within the size limits of the dover]
I'm afraid the answer is still the same as it was last january.

    Date: Monday, 17 January 1983, 13:10-EST
    From: Henry Lieberman <Henry at MIT-OZ>
    Is there a function in the new hard copy system to make
    a press file from a window on the screen? I know that the
    Dover can't print a full LM screen, but there should be 
    a way to make a hardcopy of a window if it is sufficiently
    small.

There is a piece of code in SYS:HARDCOPY;PRESS that is commented out
that could serve as a start for implementing it.  It's unlikely that
anyone here will ever do it, since we don't have access to a dover for
debugging.
15-Aug-83 23:19:00-EDT,2002;000000000000
Return-path: <Daniel@MIT-OZ>
Date: Monday, 15 August 1983, 23:09-EDT
From: Daniel W. Weise <Daniel@MIT-OZ>
Subject: fuuny trap
To: BUG-LISPM@MIT-OZ

In Release 4.4, Experimental DAEDALUS 58.0, Experimental DATA-PATH 6.0,
FEP 12, site configuration 62, on Lisp Machine Janis Joplin:

We have no idea what caused this trap.  

Only interesting state might be that we are running with the incremental
garbage collector on without enough guaranteed space, though it has
flipped many times without problem. (This is probably irrelevant.)

Daniel, GJS, Batali

>>Trap: Attempt to unbind in a frame without bindings.
While in the function MARK-ERROR  POLY-DIFF-CHECK  DRC-CHECKS

MARK-ERROR:  (P.C. = 135)
   Arg 0 (SIZE): 2
   Arg 1 (X): 44.0
   Arg 2 (Y): 106.0
   Arg 3 (FORMAT-CTRL-STRING): "Bad transistor or poly-diff spacing"
   Rest arg (ARGS): NIL
   Local 5: T
   Local 6: #<DTP-EVEN-PC 47006706>
   Local 7: #<DTP-LOCATIVE 53113257>
   Local 8: #<DTP-LOCATIVE 31240164>
   Local 9 (.SELECTQ-ITEM.): R

POLY-DIFF-CHECK:  (P.C. = 100)
   Arg 0 (WINDOW): #<ART-8B-4-4 7661457>
   Arg 1 (X): 44.0
   Arg 2 (Y): 106.0

DRC-CHECKS:  (P.C. = 332)
   Arg 0 (WINDOW): #<ART-8B-4-4 7661457>
   Arg 1 (I): 52
   Arg 2 (J): 1
   Arg 3 (X): 44.0
   Arg 4 (Y): 106.0
   Arg 5 (SCREEN-BUFFER-initialization): #<ART-8B-240-8 30315313>

DRC:  (P.C. = 305)
   --Defaulted args:--
   Arg 0 (THING): #<BUFFER 7224271>
   Arg 1: NIL
   Arg 2 (INTERACTIVE?-initialization): T
   Arg 3 (METAL-ONLY?): NIL
   Arg 4 (MIN-X): NIL
   Arg 5 (MIN-Y): NIL
   Arg 6 (MAX-X): NIL
   Arg 7 (MAX-Y): NIL

(:PROPERTY DRC DRAW):  (P.C. = 2)

PROCESS-TOP-LEVEL-MENU-INPUT:  (P.C. = 65)
   Arg 0 (FORM): (:MENU (DRC :KBD DRC DOCUMENTATION NIL) 1 #<COMMAND-MENU-PANE Command Menu Pane 5 340470 exposed>)

DO-IT-LOOP:  (P.C. = 151)

INTERNAL-DAED-STARTUP:  (P.C. = 153)

Rest of stack:
SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
16-Aug-83 10:26:21-EDT,1257;000000000000
Return-path: <TLP@MIT-OZ>
Mail-From: TLP created at 16-Aug-83 10:20:26
Date: Tue, 16 Aug 1983  10:20 EDT
Message-ID: <[MIT-OZ].TLP.16-Aug-83 10:20:26>
From: TLP@MIT-OZ
To:   tc@MIT-OZ, bug-3600-software@MIT-OZ, bug-3600-hardware@MIT-OZ, welg@MIT-OZ
Subject: Anger and Frustration


ROBOT-1 just died, again, with a disk problem, again.

This time the messages generated was:

BAD DISK COMMAND LENGTH IN DCW ...

This happened while flipping in the garbage collector.

And when trying to BOOT, right afterwards:

DISK ERROR, SEEK ERROR
NULL HEADER PAGE WHEN RETURNING

And when trying again:

DISK ERROR FAULT ON DRIVE

This had been preceded by dropping dead twice a day with Wired Wait
Halts.  In short, we haven't been able to run for more than a few
hours at a time since we got the machine.  We've been running a
program that runs perfectly well on the CADR's.

WHAT THE HELL IS THE MATTER ?????  Is this thing supposed to be a
usable machine or what?  Is it that we're only supposed to use the
editor?  Or, perhaps we should not use the GC?  We're no expecting
100% up-time, but it would be nice to have greater than 10%.  We're
getting a little tired of losing work ...

Somebody come and FIX the damn machine.

16-Aug-83 12:18:19-EDT,478;000000000000
Return-path: <Chunka@MIT-OZ>
Date: Tuesday, 16 August 1983, 12:22-EDT
From: Chunka Mui <Chunka@MIT-OZ>
Subject: wrong time of day
To: BUG-LISPM@MIT-OZ, bug-3600@MIT-OZ
Cc: chunka@mit-oz

In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-3:


Every time ap-3 is booted, it gets the wrong time for the time line at
the bottom of the screen.  This is annoying but I can live with it.  I
just wonder what other subtle things are going wrong though.
16-Aug-83 13:26:22-EDT,555;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Tue 16-Aug-83 13:14:56-EDT
Date: Tuesday, 16 August 1983, 13:09-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
To: bug-LispM@MIT-OZ

Sorry folks, I goofed.  Any machine that gets its time of day from a
MINITS system is probably getting the wrong time.  If the PDP-11 didn't
have such a sucky divide instruction I would have this fixed by now.
For now, if you get the wrong time, you should do
	(time:initialize-timebase nil nil)
which will ask you for the time.
16-Aug-83 13:37:00-EDT,632;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Tue 16-Aug-83 13:28:13-EDT
Date: Tuesday, 16 August 1983, 13:22-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Anger and Frustration
To: TLP@MIT-OZ, tc@MIT-OZ, bug-3600-software@MIT-OZ,
    bug-3600-hardware@MIT-OZ, welg@MIT-OZ
In-reply-to: <[MIT-OZ].TLP.16-Aug-83 10:20:26>

I don't blame you for being angry.  It looks clear that the ECO process
is still not adequate.  Soon (I would hope today) field service will
be over there to install two ECOs which are thought to solve most, if
not all, the wired-wait timeout problems.
16-Aug-83 15:28:21-EDT,4130;000000000000
Return-path: <CAL@MIT-OZ>
Date: Tuesday, 16 August 1983, 15:15-EDT
From: Cliff Lasser <CAL@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Release 4.4, FEP 12, site configuration 58, on Lisp Machine Janis Joplin:

I was creating a split screen.  I moused the FRAME option and this happened: 

>>Trap: The instance variable SYS:STACK-GROUP is unbound in #<TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW Split Screen Choose Values 5700103 deactivated>.
While in the function (:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :ITEM-WIDTH)  (:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :ADJUST-GEOMETRY-FOR-NEW-VARIABLES)  (:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :SET-VARIABLES)

(:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :ITEM-WIDTH):  (P.C. = 34)
   Arg 0 (SELF): #<TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW Split Screen Choose Values 5700103 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-CHOOSE-VARIABLE-VALUES -- 7. IV's, 0. FL's 61112330>
   Arg 2 (OPERATION): :ITEM-WIDTH
   Arg 3 (ITEM): (TV:*FRAME-NAME* "Name of frame" STRING)
   --Defaulted args:--
   Arg 4 (EXTRA-WIDTH): 0.
   Arg 5 (STOP-X): NIL
   Local 6 (X): 120.
   Local 7 (PREFIX-WIDTH): 120.
   Local 8 (CHOICE-TAIL): NIL
   Local 9 (STR): "Name of frame"
   Local 10 (FONTNO): 1.
   Local 11 (VAR): TV:*FRAME-NAME*
   Local 12 (PF): PRINC
   Local 13 (IGNORE): READLINE
   Local 14 (CHOICES): NIL
   Local 15 (GPVF): NIL
   Local 16 (GVVF): NIL

(:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :ADJUST-GEOMETRY-FOR-NEW-VARIABLES):  (P.C. = 24)
   Arg 0 (SELF): #<TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW Split Screen Choose Values 5700103 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-CHOOSE-VARIABLE-VALUES -- 7. IV's, 0. FL's 61112330>
   Arg 2 (OPERATION): :ADJUST-GEOMETRY-FOR-NEW-VARIABLES
   Arg 3 (WID): NIL

(:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :SET-VARIABLES):  (P.C. = 23)
   Arg 0 (SELF): #<TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW Split Screen Choose Values 5700103 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-CHOOSE-VARIABLE-VALUES -- 7. IV's, 0. FL's 61112330>
   Arg 2 (OPERATION): :SET-VARIABLES
   Arg 3 (ELEMS): ((TV:*FRAME-NAME* "Name of frame" STRING) (TV:*SYSTEM-KEY* "[SYSTEM] <char> selects it" :CHARACTER-OR-NIL))
   Arg 4 (NO-SET-HEIGHT): T

(:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :AFTER :INIT):  (P.C. = 14)
   Arg 0 (SELF): #<TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW Split Screen Choose Values 5700103 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-CHOOSE-VARIABLE-VALUES -- 7. IV's, 0. FL's 61112330>
   Arg 2 (OPERATION): :INIT
   Arg 3 (PLIST): #<DTP-LOCATIVE 31240303>

(:METHOD TV:TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW :COMBINED :INIT):  (P.C. = 136)
   Arg 0 (SELF): #<TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW Split Screen Choose Values 5700103 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW -- 0. IV's, 14. FL's 61112444>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

TV:MAKE-WINDOW:  (P.C. = 70)
   Arg 0 (FLAVOR-NAME): TV:TEMPORARY-CHOOSE-VARIABLE-VALUES-WINDOW
   Rest arg: (:SUPERIOR #<MAIN-SCREEN Main Screen 3000061 exposed> :NAME "Split Screen Choose Values" :LABEL "Frame characteristics:" :CHARACTER-WIDTH 40. :IO-BUFFER NIL ...)

(:PROPERTY TV:SPLIT-SCREEN-CHOOSE-VALUES SI:RESOURCE-CONSTRUCTOR):  (P.C. = 32)
   Arg 0 (IGNORE): #<RESOURCE 737563>
   Arg 1 (SUPERIOR): #<MAIN-SCREEN Main Screen 3000061 exposed>

ALLOCATE-RESOURCE:  (P.C. = 212)
   Arg 0 (RESOURCE-NAME): TV:SPLIT-SCREEN-CHOOSE-VALUES
   Rest arg (PARAMETERS): (#<MAIN-SCREEN Main Screen 3000061 exposed>)

Rest of stack:
TV:SYSTEM-MENU-SPLIT-SCREEN-VIA-MENUS:  (P.C. = 322)
(:METHOD TV:MENU-EXECUTE-MIXIN :EXECUTE):  (P.C. = 61)
(:METHOD TV:MOMENTARY-MENU :COMBINED :EXECUTE):  (P.C. = 16)
(:METHOD TV:BASIC-MENU :CHOOSE):  (P.C. = 21)
(:METHOD TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-MENU :COMBINED :CHOOSE):  (P.C. = 34)
(:INTERNAL TV:MOUSE-CALL-SYSTEM-MENU 0.):  (P.C. = 12)
SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
16-Aug-83 17:37:20-EDT,1841;000000000000
Return-path: <JWalker@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Tue 16-Aug-83 16:36:42-EDT
Date: Tuesday, 16 August 1983, 16:36-EDT
From: Jan Walker <JWalker@SCRC-TENEX>
Subject: CHI '83 Call for video
To: user-interface@SCRC-TENEX, bug-lispm@MIT-OZ, editor-people@SU-SCORE

			CHI '83 Conference
		Human Factors in Computing Systems
		Call for Videotapes and Movies

CHI '83 will include sessions and continuous viewings of videotapes and
movies demonstrating state-of-the-art computer human interfaces.  Two
sessions will each consist of three or four tape presentations (a short
introduction, the videotape or film, and questions).  In addition, a
wide variety of interfaces will be shown by continuously running video
tapes and films one day of the conference.  Examples of innovative
computer human interfaces both for programming environments and for
applications are encouraged.

Anyone who would like to present work in this manner is encouraged to
send a description of the tape for consideration, no later than
September 6, 1983, to
			Sara Bly
			Lawrence Livermore National Laboratory
			P.O. Box 5504, L-156
			Livermore, CA  94550
			(415) 422-6562

Please send the following information:
1. the title of the tape
2. a paragraph describing the work
3. the name(s) and address(es) of the contributor(s)
4. the tape format (VHS, 3/4", 16mm)
5. the tape length (20 minutes or less is preferred)
6. an indication (yes or no) of whether you wish to have the tape
   considered for a session presentation as well as for inclusion 
   in the continuous showing.

Those whose tapes are selected for inclusion in the presentations and
continuous showing will be notified.  A summary of all the accepted
videotapes and films will be available to the conference attendees.
16-Aug-83 17:53:22-EDT,893;000000000000
Return-path: <williams@SCRC-TENEX>
Received: from SCH-OWENS by SCRC-TENEX with CHAOS; Tue 16-Aug-83 16:50:27-EDT
Date: Tuesday, 16 August 1983, 13:54-PDT
From: Bob Williams <williams@SCRC-TENEX>
Subject: Anger and Frustration
To: DCP@SCRC-TENEX, TLP@MIT-OZ, tc@MIT-OZ, bug-3600-software@MIT-OZ,
    bug-3600-hardware@MIT-OZ, welg@MIT-OZ
In-reply-to: The message of 16 Aug 83 10:22-PDT from David C. Plummer <DCP at SCRC-TENEX>

The changes to the I/O were officially released on July 12. Because of its "machine don't work"
classification the ECO was written as a field mandatory. In Manufacturing, when a mandatory change
is released all machines/boards have to have that ECO in them before they can be shipped.  QC is
the enforcer in this case.  The field is a much more complicated issue and mandatory changes are
usually done when the next service call if performed. 

Bob
16-Aug-83 18:54:55-EDT,887;000000000000
Return-path: <RWK@SCRC-TENEX>
Received: from SCRC-BLACKSTONE by SCRC-SPANIEL with CHAOS; Tue 16-Aug-83 18:41:35-EDT
Date: Tuesday, 16 August 1983, 18:41-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: wrong time of day
To: Chunka Mui <Chunka at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ, bug-3600 at MIT-OZ
In-reply-to: The message of 16 Aug 83 12:22-EDT from Chunka Mui <Chunka at MIT-OZ>

    Date: Tuesday, 16 August 1983, 12:22-EDT
    From: Chunka Mui <Chunka@MIT-OZ>
    In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-3:


    Every time ap-3 is booted, it gets the wrong time for the time line at
    the bottom of the screen.  This is annoying but I can live with it.  I
    just wonder what other subtle things are going wrong though.
Presumably whoever it is asking for the time also has it wrong.  You don't
say how much it is wrong by.
16-Aug-83 22:29:25-EDT,586;000000000000
Return-path: <BRoberts@BBNG>
Date: Tue 16 Aug 83 22:21:19-EDT
From: Bruce Roberts <BRoberts@BBNG.ARPA>
Subject: The competition
To: bug-lispm@MIT-MC.ARPA

I am often asked to compare the Lisp machines with the Dandelion/Dolphin/
Dorado family.  Anecdotes I have, but I am in need of real up-to-date "data".
If anyone has pointers to some recent unbiased report of speeds, objective and
subjective, I would like to know.  Please respond directly to me; I'm using
this mailing list for its audience, not because it is the proper forum for
these discussions.

Bruce
-------
16-Aug-83 23:29:10-EDT,1515;000000000000
Return-path: <DCP@SCRC-TENEX>
Date: Tuesday, 16 August 1983  23:11-EDT
From: DCP at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-OZ, Chunka Mui <Chunka at MIT-OZ>
Subject: wrong time of day
In-reply-to: The message of 16 Aug 1983 18:41-EDT from Robert W. Kerns <RWK>

    Date: Tuesday, 16 August 1983, 18:41-EDT
    From: Robert W. Kerns <RWK at SCRC-TENEX>

        Date: Tuesday, 16 August 1983, 12:22-EDT
        From: Chunka Mui <Chunka@MIT-OZ>
        In Release 4.4, FEP 12, site configuration 43, on Lisp Machine
        Apiary-3:


        Every time ap-3 is booted, it gets the wrong time for the time
        line at the bottom of the screen.  This is annoying but I can live
        with it.  I just wonder what other subtle things are going wrong
        though.
    Presumably whoever it is asking for the time also has it wrong.  

I sent a not to bug-LispM about time lossages.  I guess I should have
included Chunka's message as a reference.  Anyway, it was my fault,
and I think I have undone all the observable damage.  You may find the
machine thinking it is 5 minutes late, but that's because Vixen is 5
minutes late.

    You don't say how much it is wrong by.

Most likely 3 hours slow (why 3 hours I don't know).  Other
possibilities were 10 hours fast, and 52 YEARS slow!!  It depends on
what the time servers are in the site file and how much damage I had
done to those machines.  I think most were all withing 24 hours...
17-Aug-83 11:10:07-EDT,302;000000000000
Return-path: <Batali@MIT-OZ>
Date: Wednesday, 17 August 1983, 11:01-EDT
From: John Batali <Batali@MIT-OZ>
Subject: Flakey Serial
To: BUG-LISPM@MIT-OZ

In System 222.249, Zmail 74.46, site configuration 54, on Lisp Machine Eight:
Serial Streams are broken on LM2s.  Try using a PROM programmer.
17-Aug-83 12:25:21-EDT,679;000000000000
Return-path: <DANIEL@MIT-OZ>
Mail-From: DANIEL created at 17-Aug-83 12:21:04
Date: Wed, 17 Aug 1983  12:21 EDT
Message-ID: <[MIT-OZ].DANIEL.17-Aug-83 12:21:03>
From: Daniel Weise <DANIEL@MIT-OZ>
To:   Henry@MIT-OZ
Cc:   BUG-LISPM@MIT-OZ
Subject: Dover hard copy of windows
In-reply-to: Msg of 15 Aug 1983  18:06-EDT from Mike McMahon <MMcM at SCRC-TENEX>

        Is there any way yet to get press files of a window on the 3600?
        [staying, of course, within the size limits of the dover]

For a while now there has been <philip.general>dover.lisp which
will send portions of CADR screens to the dover, bit for bit.
Maybe it can be made to work for 3600's.
17-Aug-83 13:31:08-EDT,1001;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Wed 17-Aug-83 13:15:52-EDT
Date: Wednesday, 17 August 1983, 13:16-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Flakey Serial
To: Batali@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 17 Aug 83 11:01-EDT from John Batali <Batali at MIT-AI>

    Date: Wednesday, 17 August 1983, 11:01-EDT
    From: John Batali <Batali@MIT-OZ>
    In System 222.249, Zmail 74.46, site configuration 54, on Lisp Machine Eight:
    Serial Streams are broken on LM2s.  Try using a PROM programmer.

If 222.249 means Release 4.4+, then you have to recompile the function
in PROMP that calles si:make-serial-stream.  This is because the default
for the :force-output option is now NIL, while the prom programming
software wants it to be T.  If you previously opened the stream, you
should close it and setq it to NIL to be sure it doesn't get
accidentally reused.  If this isn't the problem, complain again.
17-Aug-83 15:21:22-EDT,526;000000000000
Return-path: <CAL@MIT-OZ>
Mail-From: CAL created at 17-Aug-83 15:20:11
Date: 17 Aug 1983 1520-EDT
From: Clifford A. Lasser <CAL@MIT-OZ>
Subject: Re: Dover hard copy of windows
To: DANIEL@MIT-OZ
cc: CAL@MIT-OZ, bug-lispm@MIT-OZ, philip@MIT-OZ
In-Reply-To: Your message of 17-Aug-83 1225-EDT

I've tried using <philip.general>dover.lisp to make hardcopies.  
Unfortunately, the few times I have needed it, the dover refuses 
to print out my graphs and instead complains about something 
being too complex!
-------
17-Aug-83 16:01:25-EDT,1659;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Wed 17-Aug-83 15:39:25-EDT
Date: Wednesday, 17 August 1983, 15:39-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Re: Dover hard copy of windows
To: CAL@MIT-OZ, DANIEL@MIT-OZ
Cc: bug-lispm@MIT-OZ, philip@MIT-OZ
In-reply-to: The message of 17 Aug 83 15:20-EDT from Clifford A. Lasser <CAL at MIT-AI>

    Date: 17 Aug 1983 1520-EDT
    From: Clifford A. Lasser <CAL@MIT-OZ>
    I've tried using <philip.general>dover.lisp to make hardcopies.  
    Unfortunately, the few times I have needed it, the dover refuses 
    to print out my graphs and instead complains about something 
    being too complex!
    -------

I might be able to explain a few things from my vague memories of my
experiences with the spooler.  It has plenty of disk space, but
additionally has a limitation on the amount of information it is willing
to buffer per page.  It does not have enough memory to rasterize an
entire page, so instead it uses a more compact representation that it
orders in the direction of paper movement.  It then has hardware assist
(the OrBit) to slam the characters from the compact representation to
the raster buffer which then goes out to the laser.  The amount of
information you are trying to screen hardcopy is large.  The show dots
command (which is the actuall workhorse) may specify a region too large
for the spooler to deal with (especially if it needs to be rotated).  I
also seem to remember the amount of page buffering significantly
decreased about 2 years ago, which caused TeX (among other things) to
have a few problems.
17-Aug-83 23:10:34-EDT,1791;000000000000
Return-path: <JGB@MIT-OZ>
Date: Wednesday, 17 August 1983, 23:05-EDT
From: Jonathan G. Bliss <JGB@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.35, ZMail 50.16, microcode 239, use me,
on Lisp Machine Twenty-four:

This is less a bug and more a question.

I've been trying to do some number crunching on arrays of complex
numbers.  In an old version of this program, two art-q arrays are
maintained - one each for the real and imaginary parts - and crunching
functions aref/aset both arrays.  Each array is full of small-flonums.
I modified this program to use a single, art-complex array, also full of
small-flonums.  Amazingly, this slowed down the crunching by a factor of
two.

After much probing around, I figured out, I think, that the problem
is in the multiplications.  Specifically :

  (setq sfc1 (aref sfc-array ---)	;art-complex array
	sfc2 (aref sfc-array ---)
	foo (* sfc1 sfc2))		;sfc = small-flonum complex


is slower (factor of two) than :

  (setq sf1 (aref sf-real-array ---)		;art-q arrays
	sf2 (aref sf-imag-array ---)
	sf3 (aref sf-real-array ---)
	sf4 (aref sf-imag-array ---))

  (setq foo-real (- (* sf1 sf3) (sf2 sf4))	;sf = small-flonum
	foo-imag (+ (* sf1 sf4) (sf2 sf3)))


The reason for my surprise is that, since #'* must do the same thing to
multiply two complex numbers as I did in the older version, I figured
it would not go any slower; indeed, I figured it might go quite a bit
faster since it knows how to do this in micro-code and I don't.

This is not making me lose sleep or miss deadlines,  however I am
curious as to what's going on.  I've looked extensively in the manual,
but have not found a clue.  So if you've got a minute to kill, could you
enlighten me ?

thanks - jon bliss

18-Aug-83 03:59:12-EDT,868;000000000000
Return-path: <kbe@MIT-OZ>
Date: Thursday, 18 August 1983, 03:50-EDT
From: Apprentice for KMP <kbe@MIT-OZ>
Subject: SI:COMPILE-UNCOMPILED-PATCHES
To: BUG-LISPM@MIT-OZ

In System 222.249, Zmail 74.46, Knowledge-Based-Editor 214.0,
site configuration 62, AAAI-83, on PA Lisp Machine Avatar:

Shouldn't SI:COMPILE-UNCOMPILED-PATCHES have a P option for when
there are many Y's to be typed.

In conjunction with this, shouldn't it summarize first what the
current patch version is so that typing P would be safe (you
wouldn't have to worry that someone had added a new patch in the
last 30 seconds which was going to be compiled). It could
say something like:
  For KBE 234.56, all patches are compiled.
or
  For KBE 234.56, 2 patches are not compiled.
or
  For KBE 234.56, 1 patch is not compiled and 1 patch is not finished.
or some such.

--kmp
18-Aug-83 03:59:59-EDT,532;000000000000
Return-path: <kbe@MIT-OZ>
Date: Thursday, 18 August 1983, 03:52-EDT
From: Apprentice for KMP <kbe@MIT-OZ>
Subject: Add Patch
To: BUG-LISPM@MIT-OZ

In System 222.249, Zmail 74.46, Knowledge-Based-Editor 214.0,
site configuration 62, AAAI-83, on PA Lisp Machine Avatar:

Shouldn't Add Patch warn if the system being patched does not have
its patches loaded? Frequently, it doesn't matter if the patches are
loaded in order to make a patch (or in order to know if a patch is
needed), but the information couldn't hurt... 
18-Aug-83 08:36:03-EDT,2473;000000000000
Return-path: <TIM@MIT-OZ>
Date: Thursday, 18 August 1983, 08:30-EDT
From: Tim McNerney <TIM@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Two:


Insert your description of the circumstances here:

After exiting several recursive DIRED's, the mode line still
indicated that I was in DIRED, although rest of the screen was
blank.  For nothing better to do, I typed Q to bet back to my
other buffer but got this lossage instead.

>>TRAP 7434. (TRANS-TRAP)
The function NIL is undefined.
Backtrace from the debugger:

ZWEI:DIRED-PROCESS-FILES (P.C. = 234)

Local 0 (LINE): NIL
Local 1 (UNDELETEABLE): NIL
Local 2 (DELETE-FILES): NIL
Local 3 (UNDELETE-FILES): NIL
Local 4 (FIND-FILES): NIL
Local 5 (PRINT-FILES): NIL
Local 6 (APPLY-FILES): NIL
Local 7 (LAST-LINE): NIL
Local 8 (QUERY-RESULT): NIL
Local 9 (DELETED-P): NIL
Local 10 (*SELECTQ-ITEM*): NIL
Local 11 (FNSPEC): NIL
Local 12 (STRING): NIL
Local 13: NIL
Local 14: NIL
Local 15 (BLOCKS-FREED): NIL
Local 16 (LINE): NIL


ZWEI:COM-DIRED-EXIT (P.C. = 31)



Additional information supplied with call:
 Expecting 3 values

ZWEI:COMMAND-EXECUTE (P.C. = 116)

 Arg 0 (COMMAND): ZWEI:COM-DIRED-EXIT
 Arg 1 (CHAR): 113.
 Arg 2 (PREFIX-CHAR): NIL
 Arg 3 (HOOK-LIST): NIL
Local 0 (HOOK-SUCCESS): T
Local 1: NIL
Local 2 (HOOK): NIL


ZWEI:PROCESS-COMMAND-CHAR (P.C. = 67)

 Arg 0 (CH): 113.
Local 0 (VALUE): NIL
Local 1 (LINE): NIL
Local 2 (INDEX): NIL
Local 3: NIL
Local 4 (HOOK): NIL


(METHOD ZWEI:WINDOW EDIT) (P.C. = 470)
  (SELF is #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 6743245 exposed>)

 Arg 0 (OPERATION): EDIT
   --Defaulted args:--
 Arg 1 (IGNORE): NIL
 Arg 2 (*COMTAB*): #<COMTAB ZWEI:MODE-COMTAB 34772504>
 Arg 3 (*MODE-LINE-LIST*): ("ZMACS " "(" ZWEI:*MODE-NAME-LIST* ") " ...)
 Arg 4 (TOP-LEVEL-P): T
Local 0 (TEM1): ((** ** T ** ...))
Local 1: ("Return to top level editor command loop.")
Local 2: ((SYS:ABORT ERROR) ("Return to top level editor command loop.") T ("Return to top level editor command loop.") ...)
Local 3 (CH): 113.


Remainder of stack:

(INTERNAL (METHOD ZWEI:ZMACS-WINDOW COMBINED EDIT) 0.) (P.C. = 74)
FUNCALL (P.C. = 25)
(METHOD ZWEI:DISPLAYER AROUND EDIT) (P.C. = 31)
(METHOD ZWEI:ZMACS-WINDOW COMBINED EDIT) (P.C. = 47)
ZWEI:ZMACS-WINDOW-TOP-LEVEL (P.C. = 46)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
18-Aug-83 11:20:59-EDT,372;000000000000
Return-path: <CAL@MIT-OZ>
Date: Thursday, 18 August 1983, 11:12-EDT
From: Cliff Lasser <CAL@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.40, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Four:

Whenever I try to access a file on PIG:, I get something like
"assign channel system service request failed for ..."18-Aug-83 11:36:01-EDT,2390;000000000000
Return-path: <CAL@MIT-OZ>
Date: Thursday, 18 August 1983, 11:26-EDT
From: Cliff Lasser <CAL@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.40, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Four:


Insert your description of the circumstances here:

I was trying to Append Msg To Referenced Msg

>>TRAP 5662 (ARGTYP CONS M-T T CAR CAR)
The argument to CAR, DATE, was of the wrong type.
The function expected a cons.
Backtrace from the debugger:

ZWEI:REFERENCE-HASH (P.C. = 32)

 Arg 0 (REFERENCE): DATE


(METHOD SI:EQ-HASH-TABLE GET-HASH) (P.C. = 63)
  (SELF is #<EQ-HASH-TABLE 34243106>)

 Arg 0 (OPERATION): GET-HASH
 Arg 1 (KEY): DATE
Local 0 (HASH-TABLE): #<ZWEI:REFERENCE-COMPARE-HASH-ARRAY 34243127>
Local 1 (HASH-FUNCTION): ZWEI:REFERENCE-HASH
Local 2 (COMPARE-FUNCTION): ZWEI:REFERENCE-COMPARE
Local 3 (HASH-CODE): NIL
Local 4 (POINTER): NIL
Local 5 (ALREADY-MINE): NIL
Local 6 (P): NIL
Local 7 (BLEN): NIL


GETHASH (P.C. = 23)

 Arg 0 (KEY): DATE
 Arg 1 (HASH-TABLE): #<EQ-HASH-TABLE 34243106>


(METHOD ZWEI:MAIL-FILE-BUFFER REFERENCED-MSGS) (P.C. = 55)
  (SELF is #<BABYL-MAIL-FILE-BUFFER "CAL.BABYL PS:<CAL> OZ:" 34213443>)

 Arg 0 (OPERATION): REFERENCED-MSGS
 Arg 1 (REFERENCES): (DATE 23516715404)
Local 0 (G6531): (DATE 23516715404)
Local 1 (MAP-TEM): NIL
Local 2 (MAP-RESULT): NIL
Local 3 (REFERENCE): DATE


ZWEI:FIND-MSG-FROM-REFERENCES-IN-UNIVERSE (P.C. = 34)

 Arg 0 (REF): (DATE 23516715404)
 Arg 1 (MAP-FUNCTION): ZWEI:MAP-OVER-SINGLE-ZMAIL-BUFFER
 Arg 2 (MAP-ARG): #<BABYL-MAIL-FILE-BUFFER "CAL.BABYL PS:<CAL> OZ:" 34213443>


Remainder of stack:

ZWEI:FIND-MSG-FROM-REFERENCES (P.C. = 146)
ZWEI:FIND-MSG-FROM-CURRENT-REFERENCES (P.C. = 63)
ZWEI:COM-ZMAIL-APPEND-TO-REFERENCED-MSG (P.C. = 57)
ZWEI:COM-ZMAIL-EXTENDED-COMMAND (P.C. = 124)
ZWEI:COMMAND-EXECUTE (P.C. = 116)
ZWEI:ZMAIL-COMMAND-EXECUTE (P.C. = 27)
(METHOD ZWEI:ZMAIL-FRAME PROCESS-COMMAND-CHAR) (P.C. = 40)
(METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN COMMAND-LOOP) (P.C. = 266)
(INTERNAL (METHOD ZWEI:ZMAIL-FRAME COMBINED COMMAND-LOOP) 0) (P.C. = 50)
FUNCALL (P.C. = 25)
(METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN AROUND COMMAND-LOOP) (P.C. = 57)
(METHOD ZWEI:ZMAIL-FRAME COMBINED COMMAND-LOOP) (P.C. = 47)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL (P.C. = 115)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
18-Aug-83 14:07:51-EDT,668;000000000000
Return-path: <RMS@MIT-MC>
Date: 18 August 1983 14:00 EDT
From: Richard M. Stallman <RMS @ MIT-MC>
To: BUG-LISPM @ MIT-MC, cal @ MIT-OZ

The problem reading files from PYG seems to be that the
default device is SYS$SYSDSK:, whereas the user directories
actually seem to be on USRD$:.  Specifying USRD$: in the
pathname makes it work.  For some reason, the error obtained
for trying to read from SYS$SYSDSK: is that mysterious
"assign channel system service request failed".

Does anyone know whether "USRD$" is a better default
devidce for VMS pathnames than "SYS$SYSDSK"?  Is this one
of those cases where nothing is going to be right especially often?
18-Aug-83 14:55:58-EDT,436;000000000000
Return-path: <TIM@MIT-OZ>
Date: Thursday, 18 August 1983, 14:47-EDT
From: Tim McNerney <TIM@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Two:

For some reason part of the who line is wedged.
It is constantly displaying the name of the last
qfasl file I loaded, and idle time is never displayed.
How does one diagnose this?18-Aug-83 16:51:18-EDT,1490;000000000000
Return-path: <swm@SCRC-VIXEN>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Thu 18-Aug-83 16:19:10-EDT
Date: Thursday, 18 August 1983, 16:19-EDT
From: swm@SCRC-VIXEN
Subject: system disk on PYG:
To: RMS@MIT-MC, BUG-LISPM@MIT-MC, cal@MIT-OZ, bug-vms@SCRC-VIXEN
In-reply-to: The message of 18 Aug 83 14:00-EDT from Richard M. Stallman <RMS at MC>

    Date: 18 August 1983 14:00 EDT
    From: Richard M. Stallman <RMS @ MIT-MC>
    The problem reading files from PYG seems to be that the
    default device is SYS$SYSDSK:, whereas the user directories
    actually seem to be on USRD$:.  Specifying USRD$: in the
    pathname makes it work.  For some reason, the error obtained
    for trying to read from SYS$SYSDSK: is that mysterious
    "assign channel system service request failed".

    Does anyone know whether "USRD$" is a better default
    devidce for VMS pathnames than "SYS$SYSDSK"?  Is this one
    of those cases where nothing is going to be right especially often?
The "new and improved" logical name for the SYSTEM disk is SYS$DISK.
SYS$SYSDISK (NOT SYS$SYSDSK!) has the same translation as SYS$SYSROOT,
which is __disk:[SYS0.], where disk: is the name of the system disk
(i.e., it's the root of the system directories).  If you want your user
accounts on the "system" disk, use SYS$DISK.  Otherwise,
SYS$MANAGER:SYSTARTUP.COM should define a logical name like USRD$, and
all user directories should be there.  (Yukky, huh?)
						--swm
19-Aug-83 10:14:21-EDT,4012;000000000000
Return-path: <PGS@MIT-MC>
Date: Friday, 19 August 1983, 08:10-EDT
From: Patrick G. Sobalvarro <PGS at MIT-MC>
To: BUG-LISPM at MIT-OZ

In MIT-Specific 19.5, System 94.40, ZMail 50.17, microcode 239, uC239,
on Lisp Machine Twenty-five:

I logged in on MC.  OZ is my gmsgs-host, but it was down.  This looks like it
blew out, rather than giving a reasonable error message.

>>ERROR: The object #SYS:CONNECTION-ERROR PROPERTY-LIST (CONNECTION #<CHAOS Connection to MIT-OZ FILE 1 20446471>) CONDITION-NAMES (SYS:CONNECTION-ERROR SYS:REMOTE-NETWORK-ERROR SYS:NETWORK-ERROR ERROR ...) FORMAT-STRING "Host ~1G~A not responding." FORMAT-ARGS (#<CHAOS Connection to MIT-OZ FILE 1 20446471> #FS:TOPS20-CHAOS-HOST "MIT-OZ") CONNECTION #<CHAOS Connection to MIT-OZ FILE 1 20446471> FOREIGN-HOST #FS:TOPS20-CHAOS-HOST "MIT-OZ" received a PATHNAME message, which went unclaimed.
The rest of the message was NIL.
Backtrace from the debugger:

#SYS:CONNECTION-ERROR PROPERTY-LIST (CONNECTION #<CHAOS Connection to MIT-OZ FILE 1 20446471>) CONDITION-NAMES (SYS:CONNECTION-ERROR SYS:REMOTE-NETWORK-ERROR SYS:NETWORK-ERROR ERROR CONDITION ...) FORMAT-STRING "Host ~1G~A not responding." FORMAT-ARGS (#<CHAOS Connection to MIT-OZ FILE 1 20446471> #FS:TOPS20-CHAOS-HOST "MIT-OZ") CONNECTION #<CHAOS Connection to MIT-OZ FILE 1 20446471> FOREIGN-HOST #FS:TOPS20-CHAOS-HOST "MIT-OZ":
   Arg 0: PATHNAME


EH:CONDITION-DATA-PLIST-LOOKUP (P.C. = 41)

 Arg 0 (OPERATION): PATHNAME
 Rest arg (ARGS): NIL


SI:INSTANCE-HASH-FAILURE (P.C. = 140)

 Arg 0 (OP): PATHNAME
 Rest arg (ARGS): NIL
Local 1 (HT): #<EQ-HASH-ARRAY (Funcallable) 556336>
Local 2 (FN-LOCATION): NIL
Local 3 (FUNC): EH:CONDITION-DATA-PLIST-LOOKUP
Local 4 (NEWHT): NIL


(METHOD ZWEI:INBOX-BUFFER START-NEXT-FILE) (P.C. = 401)
  (SELF is #<TENEX-INBOX-BUFFER "MC: PGS; PGS MAIL" 16724251>)

 Arg 0 (OPERATION): START-NEXT-FILE
Local 0 (FILE): #FS:TOPS20-PATHNAME "OZ:PS:<PGS>GMSGS.TXT."
Local 1 (RENAME): #FS:TOPS20-PATHNAME "OZ:PS:<PGS>GMSGS._ZMAIL_TXT."
Local 2 (DELETE-P): T
Local 3 (STR): #SYS:CONNECTION-ERROR PROPERTY-LIST (CONNECTION #<CHAOS Connection to MIT-OZ FILE 1 20446471>) CONDITION-NAMES (SYS:CONNECTION-ERROR SYS:REMOTE-NETWORK-ERROR SYS:NETWORK-ERROR ERROR ...) FORMAT-STRING "Host ~1G~A not responding." FORMAT-ARGS (#<CHAOS Connection to MIT-OZ FILE 1 20446471> #FS:TOPS20-CHAOS-HOST "MIT-OZ") CONNECTION #<CHAOS Connection to MIT-OZ FILE 1 20446471> FOREIGN-HOST #FS:TOPS20-CHAOS-HOST "MIT-OZ"
Local 4 (LOADING-NAME): NIL
Local 5 (LOADING-TRUENAME): NIL
Local 6: (402 . #<DTP-FEF-POINTER EH:CONDITION-DATA-PLIST-LOOKUP 1716213>)
Local 7: (NIL . 1005012)
Local 8 (*SELECTQ-ITEM*): NIL
Local 9 (TEM): NIL
Local 10: NIL
Local 11 (*SELECTQ-ITEM*): NIL


(METHOD ZWEI:INBOX-BUFFER START-NEXT-FILE) (P.C. = 215)
  (SELF is #<TENEX-INBOX-BUFFER "MC: PGS; PGS MAIL" 16724251>)

 Arg 0 (OPERATION): START-NEXT-FILE
Local 0 (FILE): #FS:TOPS20-PATHNAME "OZ:PS:<PGS>GMSGS.TXT."
Local 1 (RENAME): #FS:TOPS20-PATHNAME "OZ:PS:<PGS>GMSGS._ZMAIL_TXT."
Local 2 (DELETE-P): T
Local 3 (STR): NIL
Local 4 (LOADING-NAME): NIL
Local 5 (LOADING-TRUENAME): NIL
Local 6: (#FS:TOPS20-PATHNAME "OZ:PS:<PGS>GMSGS.TXT." #FS:TOPS20-PATHNAME "OZ:PS:<PGS>GMSGS._ZMAIL_TXT." T)
Local 7: NIL
Local 8 (*SELECTQ-ITEM*): NIL
Local 9 (TEM): NIL
Local 10: NIL
Local 11 (*SELECTQ-ITEM*): NIL


Remainder of stack:

(METHOD ZWEI:INBOX-BUFFER LOADING-DONE) (P.C. = 44)
(METHOD ZWEI:ITS-INBOX-BUFFER COMBINED LOADING-DONE) (P.C. = 111)
(SELECT-METHOD ZWEI:ZMAIL-BACKGROUND-REQUEST ZWEI:FILE-LOADED) (P.C. = 22)
(METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN COMMAND-LOOP) (P.C. = 234)
(INTERNAL (METHOD ZWEI:ZMAIL-FRAME COMBINED COMMAND-LOOP) 0) (P.C. = 50)
FUNCALL (P.C. = 25)
(METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN AROUND COMMAND-LOOP) (P.C. = 57)
(METHOD ZWEI:ZMAIL-FRAME COMBINED COMMAND-LOOP) (P.C. = 47)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL (P.C. = 115)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
19-Aug-83 22:52:31-EDT,299;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Friday, 19 August 1983, 19:54-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at OZ

In Release 4.4, FEP 12, site configuration 68, on Lisp Machine Elvis Presley:

The error message in dbg:canonicalize-local-name should have ``local''
for ``arg''.
19-Aug-83 22:55:39-EDT,639;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Friday, 19 August 1983, 22:52-EDT
From: David Chapman <Zvona@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Release 4.4, FEP 12, site configuration 68, on Lisp Machine Elvis Presley:

When a breakon'd function returns, there are two procede options ``Retry
the RETURN-MULTIPLE instruction.''  If these do the same thing, there
ought only to be one displayed.  If they do something different, this
should be explained.

Also, this RETURN-MULTIPLE business is really at too low a level of
abstraction.  The string really ought to be something like ``continue
from break point'' or ``go ahead and return''.
19-Aug-83 23:17:09-EDT,789;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Friday, 19 August 1983, 23:16-EDT
From: David Chapman <Zvona@MIT-OZ>
Subject: bizzare window system blowout
To: BUG-nws@MIT-OZ

In Release 4.4, FEP 12, site configuration 68, on Lisp Machine Elvis Presley:

I did a system e.  Nothing interesting had happened.

It half exposed the editor frame and then blew out to the cold load
stream, complaining that some argument to %bitblt-long-row (the error
message doesn't give the value of the offending arg) was not a fixnum;
at instruction 454 in bitblt as called from (:method tv:sheet :refresh).

Various attempts to abort, continue, c-M, and so forth, resulted in two
other interesting error messages: ``Error reading command''; and
``Attempt to read from kbd while in cold load stream''.
20-Aug-83 05:36:06-EDT,1114;000000000000
Return-path: <KMP@MIT-OZ>
Date: Saturday, 20 August 1983, 05:33-EDT
From:  <KMP@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Two:

I managed to get it very confused about which of two fonts I was editing.
All I wanted to do was read in a KST file, select that font, write the font.
In fact, several things screwed up completely. I am afraid I cannot reproduce
all the bad behavior easily, but the following is one of the symptoms I got
which is trivially reproducible....

   (FED)
   Clicked Left on File; it gave me a menu of types.
   Clicked Left on KST; it prompted for a filename (default PS:<KMP>NIL.KST).
   Typed "SESAME"; it read that KST file.
   Clicked Left on Font; it displayed a list of fonts.
   Clicked Left on SESAME; it did some screen update to indicate that SESAME was selected.
   Typed Space in response to the "Type any space to flush" prompt, but FED
     just hung forever here and never correctly updated the display or returns to
     the FED command reader.
20-Aug-83 20:35:19-EDT,534;000000000000
Return-path: <JBA@MIT-OZ>
Date: Saturday, 20 August 1983, 20:33-EDT
From: Jon Amsterdam <JBA@MIT-OZ>
Subject: apiary-4 troubles (again)
To: bug-lispm@MIT-OZ

Twice today ap-4 died in the sequencer and got thrown into the fep.
Warm-booting didn't work, and attempting to cold-boot gave disk errors ("Null
header page" or whatever).  This is the first time this problem has happened in
a while.  I thought it had been fixed, but I guess it hasn't.  Are there ECO's,
patches or whatever to fix this?  May we have them please?
20-Aug-83 21:25:29-EDT,2662;000000000000
Return-path: <JBA@MIT-OZ>
Date: Saturday, 20 August 1983, 21:18-EDT
From: Jon Amsterdam <JBA@MIT-OZ>
Subject: editor bug with fonts
To: BUG-LISPM@MIT-MC

In Release 4.4, FEP 12, site configuration 43, on Lisp Machine Apiary-3:

I was trying to change the font of a buffer whose font was tr12b
to jbafont, my own personal (variable-width) font.  jbafont is
in t:<jba>jbafont.kst.  It died when reparsing the attribute
list.

As far as I can tell, this error is unrecoverable--typing c-z or
<abort> just brings it right back.  Is there any way to get out
of it without warm-booting?

>>Trap: The second argument given to SYS:--INTERNAL, NIL, was not a EXTENDED-NUMBER, a fixnum or a floating-point number.
While in the function (METHOD TV:SHEET EDITOR-LINE-OUT)  ZWEI:REDISPLAY  ZWEI:REDISPLAY-ALL-WINDOWS

(METHOD TV:SHEET EDITOR-LINE-OUT):  (P.C. = 566)
   Arg 0 (SELF): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Arg 1 (SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (OPERATION): EDITOR-LINE-OUT
   Arg 3 (STRING): "@comment(-*- fonts: jbafont -*-)"
   Arg 4 (START): 0
   Arg 5 (END): 40
   Arg 6 (SET-XPOS): 0
   Arg 7 (SET-YPOS): 0
   --Defaulted args:--
   Arg 8 (DWIDTH): NIL
   Local 9 (I): 0
   Local 10 (N): 40
   Local 11 (RIGHT-LIMIT): 1365
   Local 12 (MARGIN-FLAG): T
   Local 13 (XPOS): 3
   Local 14 (YPOS): 2
   Local 15 (OYPOS): 2
   Local 16 (ALUF): 7
   Local 17 (WID): 0
   Local 18 (FWT): #<ART-Q-175 5224010>
   Local 19 (LKT): #<ART-Q-175 5224306>
   Local 20 (CH): 100
   Local 21 (FONT): #<FONT JBAFONT 5224504>
   Local 22 (FONTX): 0
   Local 23 (TEM): 0
   Local 24 (BASE-ADJ): 0

ZWEI:REDISPLAY:  (P.C. = 1217)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): POINT
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 36)
   --Defaulted args:--
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): T

(METHOD ZWEI:EDITOR EDIT):  (P.C. = 122)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
20-Aug-83 22:18:41-EDT,991;000000000000
Return-path: <Daniel@MIT-OZ>
Date: Saturday, 20 August 1983, 22:07-EDT
From: Daniel W. Weise <Daniel@MIT-OZ>
Subject: bug in sxhash
To: BUG-LISPM@MIT-OZ

In Release 4.4, Experimental DAEDALUS 58.0, Experimental DATA-PATH 7.0,
FEP 12, site configuration 62, schip3, on Lisp Machine Janis Joplin:

Just type (sxhash 9.0).  This bug doesn't occur on lm-2's.   Can whoever
patches this send me the patch?

Daniel

>>Error: The argument WORD to SYS:LDB-ESCAPE, 9.0, was of the wrong type.
The function expected a bignum.
While in the function SYS:LDB-ESCAPE  SXHASH  SI:*EVAL

SYS:LDB-ESCAPE:  (P.C. = 65)
   Arg 0 (PC): #<DTP-EVEN-PC 33145061>
   Arg 1 (WORD): 9.0
   Local 2 (X): 1
   Local 3 (PPSS): 1985

SXHASH:  (P.C. = 154)
   Arg 0 (X): 9.0

SI:*EVAL:  (P.C. = 405)
   Arg 0 (FORM): (SXHASH 9.0)

SI:LISP-TOP-LEVEL1:  (P.C. = 130)
   Arg 0 (TERMINAL-IO-initialization): #<LISP-LISTENER Lisp Listener 1 3000000 exposed>

SYS:LISP-TOP-LEVEL:  (P.C. = 7)
20-Aug-83 22:59:01-EDT,803;000000000000
Return-path: <Cassels@SCRC-TENEX>
Received: from SCRC-MENOTOMY by SCRC-TENEX with CHAOS; Sat 20-Aug-83 22:52:51-EDT
Date: Saturday, 20 August 1983, 22:58-EDT
From: Robert A. Cassels <Cassels@SCRC-TENEX>
Subject: bug in sxhash
To: Daniel@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 20 Aug 83 22:07-EDT from Daniel W. Weise <Daniel at MIT-OZ>

    Date: Saturday, 20 August 1983, 22:07-EDT
    From: Daniel W. Weise <Daniel@MIT-OZ>
    In Release 4.4, Experimental DAEDALUS 58.0, Experimental DATA-PATH 7.0,
    FEP 12, site configuration 62, schip3, on Lisp Machine Janis Joplin:

    Just type (sxhash 9.0).  This bug doesn't occur on lm-2's.   Can whoever
    patches this send me the patch?

Fixed in the source.  Will patch later.  I'll send the fix to Daniel
now, though.
20-Aug-83 23:38:45-EDT,1008;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Sat 20-Aug-83 23:30:42-EDT
Date: Saturday, 20 August 1983, 23:30-EDT
From: David A. Moon <Moon@SCRC-TENEX>
To: David Chapman <Zvona@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 19 Aug 83 22:52-EDT from David Chapman <Zvona at OZ>

    Date: Friday, 19 August 1983, 22:52-EDT
    From: David Chapman <Zvona@MIT-OZ>
    In Release 4.4, FEP 12, site configuration 68, on Lisp Machine Elvis Presley:

    When a breakon'd function returns, there are two procede options ``Retry
    the RETURN-MULTIPLE instruction.''  If these do the same thing, there
    ought only to be one displayed.  If they do something different, this
    should be explained.

    Also, this RETURN-MULTIPLE business is really at too low a level of
    abstraction.  The string really ought to be something like ``continue
    from break point'' or ``go ahead and return''.

Fixed in the source and will be patched.
21-Aug-83 02:29:31-EDT,901;000000000000
Return-path: <Daniel@MIT-OZ>
Date: Sunday, 21 August 1983, 02:29-EDT
From: Daniel W. Weise <Daniel@MIT-OZ>
Subject: gc bug.
To: BUG-LISPM@MIT-OZ

In Release 4.4, FEP 12, site configuration 68, on Lisp Machine Elvis Presley:

I have been having problems with half my address space disappearing
after doing a gc-immediately.  The particular bug is that my lisp is
stopping itself saying it ran out of swapping space.  This last time
upon warm booting (only way to get lisp to start again) GC-STATUS shows 
dynamic space of 5,485,515, old space of 0., static space of 4,797,160
and free space of 5,090,357!  Any attempt to do anything immediately
causes the lisp to stop claiming it has no swapping space.  The bug
happens if during the session I did a GC-IMMEDIATELY.  (I think it
also happens if I have had incremental gc on for a while (past a
flip) and then turn it off).

Daniel
21-Aug-83 02:48:48-EDT,2269;000000000000
Return-path: <kmp@MIT-MC>
Date: Sunday, 21 August 1983, 02:46-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail -- [Sort]
To: BUG-LISPM at MC

In Symbolics Release 4.4, FEP 12, site configuration 61, on PA Lisp Machine Merlin:

Having merged my four Babyl files together into one big 1800 message
file, I decided to sort by date. I clicked Left on Sort which instantly
began sorting without confirmation, realizing only moments too late
that I wanted Reverse sort by date, not Forward sort...  For fear
of screwing my world (sort being destructive and aborting in the middle
of it being something I class as dangerous), I waited for it to finish.

Sorting those 1800 messages took an hour. Why? This feels MUCH too slow.

I typed c-m-Suspend a few times in the middle just to see what it was up
to. Some of the following might be relevant...

* It used a sort predicate that kept checking repeatedly for message parsed-ness.
  It should have mapped something down the sequence first which parsed them all
  and then not checked this again.

* It spent most of its time with the page bar flickering heavily. One thing
  that immediately occurs to me is that the DATE entry on the plist of the
  message structure was typically in the middle of the plist. I'm guessing the
  incidence rate of page faults was probably large and that moving all the property
  indicators by which you plan to sort to the front of the plist would help 
  considerably.

  Alternatively, one might want to construct an Aarray keyed on whatever the
  sort data was and then call SORTCAR using a simpler predicate.

* It kept doing PROCESS-WAIT. Many times when I c-m-Suspend'd, it was doing
  STRINGP on "Parse" which is the first argument to PROCESS-WAIT. Without looking
  at the source, I'm guessing someone is doing
    (PROCESS-WAIT "Parse" #'ASSURE-MSG-PARSED message)
  It seems unfair, however, to penalize the calls to this for which the message
  IS parsed. I assume that's intended to be the common case. It seems to me like
    (IF (NOT (ASSURE-MSG-PARSED message)) (PROCESS-WAIT "Parse" #'ASSURE-MSG-PARSED message))
  would be likely to run faster.

  This is if this ASSURE-MSG-PARSED is really warranted in the first place.

21-Aug-83 03:03:24-EDT,1350;000000000000
Return-path: <kmp@MIT-MC>
Date: Sunday, 21 August 1983, 02:58-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: [R: Save]
To: BUG-LISPM at OZ

In Release 4.4, FEP 12, site configuration 61, on PA Lisp Machine Merlin:

I clicked Right on Save because I wasn't sure what it would do. Rather than
immediately popping up a menu, it spent about 5 minutes doing something
to my mail files (which were large) in order to come up with the menu.

I think things which do not take a constant small amount of time (such
as Sort, this Save thing, etc) -- ie, things the time for which grows
with the size of the mail file -- should query about operations that are
going to take forever. They know the number of messages in the file and
could pop up a menu confirmation saying

  [This is going to take about 5 mins.]
  [-----------------------------------]
  [            Confirm                ]

In fact, I was particularly annoyed by the Save thing even though it took
less time than the Sort because it was something I expected to take no time
at all. At least in the case of Sort, I was expecting a long time. When the
Save menu finally came up, the X's it had put in boxes didn't seem at all
worth the amount of time it had spent figuring out the defaults. I could 
have filled in the same values very easily in MUCH less time.
21-Aug-83 04:03:12-EDT,2274;000000000000
Return-path: <kmp@MIT-MC>
Date: Sunday, 21 August 1983, 03:56-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Zmail -- [Sort / Position-Reverse]
To: BUG-LISPM at OZ

In Release 4.4, FEP 12, site configuration 61, on PA Lisp Machine Merlin:

Well, the sort predicate I gave to my 1800 message file (Sort Forward by Date)
by accidentally clicking Left on Sort was the wrong thing. So I tried to reverse
the file.

There was no Reverse Sequence operator that I saw. This is probably a bug. That
must be a common thing for people to want to do.

So I got a menu of sort options and figured that Sorting Reversed by Position couldn't
be too slow. Ha! After half an hour, I typed Suspend and went into the editor to find
out what was taking too long. It had moved from N=1796 to N=1741 in the half hour and
was counting down. I assume this was an N^3 sorting algorithm, which is pretty pathetic.
Not only is it bubble sorting (something I'd be willing to give up -- especially on sort
predicates that are known to not need stable sorting) slow, but the predicate it was given
was:

 (DEFUN MSG-POSITION-LESSP (MSG-1 MSG-2 &AUX BUFFER-1 BUFFER-2)
  (SETQ BUFFER-1 (MSG-BUFFER MSG-1)
	BUFFER-2 (MSG-BUFFER MSG-2))
  (IF (NEQ BUFFER-1 BUFFER-2)
      (STRING-LESSP (SEND BUFFER-1 ':NAME) (SEND BUFFER-2 ':NAME))
      (DOMSGS (MSG BUFFER-1)
	(COND ((EQ MSG MSG-1) (RETURN T))	;Found first message, it is less
	      ((EQ MSG MSG-2) (RETURN NIL))))))

This is awful! Every single time it does a comparison, it's going to search the whole
message sequence? Imagine how slow this is going to be in the worst case (which I think
I have happened to hit) ... 

Again, this is a case where an Aarray with the message position information cached
as the key would speed this up tremendously. Quick sort on a 2000 element array keyed on
the car of the entry using interpreted predicate #'(lambda (x y) (< (car x) (car y)))
takes about fifteen seconds. 

Also, there's a comment by SORT-ARRAY-STABLE which says "Simple minded, slow, but works".
If there is a faster algorithm around (I don't know off the top of my head), I would 
heartily recommend someone taking the time to look it up. This kind of slowness adds up
fast in lost time by users.
21-Aug-83 13:28:18-EDT,447;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Sunday, 21 August 1983, 13:25-EDT
From: David Chapman <Zvona@MIT-OZ>
To: bug-lispm@MIT-OZ

I sometimes wish I could mung some local variables of a function in the
debugger and then continue execution from a specified instruction. 
(This is useful when the function as a whole makes some side-effect that
you don't want to have repeated, so c-m-R is the wrong thing.)  Is there
a way this could be done?
21-Aug-83 14:12:41-EDT,879;000000000000
Return-path: <CWH@SCRC-TENEX>
Received: from SCRC-HOUSATONIC by SCRC-SPANIEL with CHAOS; Sun 21-Aug-83 14:08:05-EDT
Date: Sunday, 21 August 1983, 14:02-EDT
From: Carl W. Hoffman <CWH at SCRC>
Subject: ZMail -- [Sort]
To: kmp at MC, BUG-LISPM at MC
In-reply-to: The message of 21 Aug 83 02:46-EDT from Kent M. Pitman <kmp at MC>

    Date: Sunday, 21 August 1983, 02:46-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
								 It seems to me like
	(IF (NOT (ASSURE-MSG-PARSED message)) (PROCESS-WAIT "Parse" #'ASSURE-MSG-PARSED message))
      would be likely to run faster.

PROCESS-WAIT does exactly this itself.  Before switching to the scheduler's
stack group, it invokes the wait function in the stack group of the caller.
The return value will be NIL if it never co-called the scheduler, and T if it
did, although this is probably not a part of its contract.
21-Aug-83 15:11:37-EDT,344;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Sunday, 21 August 1983, 15:09-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, LMFS 30.42, Experimental Compute 1.0,
Experimental Attribute 1.0, site configuration 49, on Lisp Machine Yogi:

%%Q-POINTER-WITHIN-PAGE is 7 instead of 8.  
21-Aug-83 15:22:19-EDT,551;000000000000
Return-path: <DCP@SCRC-TENEX>
Date: Sunday, 21 August 1983  15:12-EDT
From: DCP at SCRC-TENEX
To:   Daniel W. Weise <Daniel at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ, hoss at SCRC-TENEX
Subject: gc bug.
In-reply-to: The message of 21 Aug 1983 02:29-EDT from Daniel W. Weise <Daniel at MIT-OZ>

This is an unfortunate Release 4 bug on the 3600.  Each time you flip
you lose some swap space.  Moon thought he kludged around the bugs in
the storage management allocator.  I think this has been fixed in
release 5.  I'll check when I get a chance.
21-Aug-83 15:23:40-EDT,2370;000000000000
Return-path: <SR.BICKLEY@MIT-SPEECH>
Date: Sunday, 21 August 1983, 15:19-EDT
From: sr.cypher at speech
Sender: SR.BICKLEY at MIT-SPEECH
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.40,
site configuration 68, on Lisp Machine Polar:

This happened while fasdumping some forms.  Some kind of infinite
loop was occurring and breaking it gave this.

>>Break: 
While in the function MAKE-ARRAY  DBG:SG-GROW-PDL  DBG:SG-MAYBE-GROW-PDLS

MAKE-ARRAY:  (P.C. = 1032)
   Arg 0 (DIMENSIONS): 218607.
   Rest arg (OPTIONS): (ART-REG-PDL 218607. NIL 1.)
   Local 1 (LENGTH-OF-OPTIONS): 4.
   Local 2 (LEADER-LIST): NIL
   Local 3 (DISPLACED-TO): NIL
   Local 4 (DISPLACED-INDEX-OFFSET): NIL
   Local 5 (NAMED-STRUCTURE-SYMBOL): NIL
   Local 6 (AREA): 38.
   Local 7 (TYPE): 13.
   Local 8 (ARRAY): #<ART-REG-PDL-218607. -27477775>
   Local 9 (N-DIMENSIONS): 1.
   Local 10 (INDEX-LENGTH): 218607.
   Local 11 (LONG-ARRAY-P): T
   Local 12 (LEADER-QS): 3.
   Local 13 (DATA-LENGTH): 218607.
   Local 14 (LEADER-LENGTH): 1.
   Local 15 (INITIAL-VALUE): NIL
   Local 16 (FILL-POINTER): NIL
   Local 17 (OPTIONS): NIL
   Local 18 (VALUE): NIL
   Local 19 (.SELECTQ-ITEM.): NIL
   Local 20: NIL
   Local 21 (DIM): NIL
   Local 22 (ENTRIES-PER-Q): 1.
   Local 23 (HEADER-WORD): 6952960.
   Local 24 (I): NIL
   Local 25 (DIMLIST): NIL
   Local 26 (N): NIL
   Local 27 (IDX): NIL
   Local 28 (LEADER-LIST): NIL
   Local 29 (FILL-POINTER): NIL

DBG:SG-GROW-PDL:  (P.C. = 142)
   Arg 0 (PDL): #<ART-REG-PDL-163940. -30477541>
   Arg 1 (PDL-PTR): 109335.
   Arg 2 (NEW-LIMIT): 218543.

DBG:SG-MAYBE-GROW-PDLS:  (P.C. = 157)
   Arg 0 (SG): #<DTP-STACK-GROUP SI:MAIN-STACK-GROUP 10540053>
   --Defaulted args:--
   Arg 1 (IGNORE): NIL
   Arg 2 (REGULAR-ROOM): 54667.
   Arg 3 (SPECIAL-ROOM): 4092.

DBG:SG-SAVE-STATE:  (P.C. = 76)
   Arg 0 (SG): #<DTP-STACK-GROUP SI:MAIN-STACK-GROUP 10540053>
   --Defaulted args:--
   Arg 1 (SUPPRESS-PDL-GROWING): NIL

DBG:SG-SIGNAL-ERROR:  (P.C. = 40)
   Arg 0 (SG): #<DTP-STACK-GROUP SI:MAIN-STACK-GROUP 10540053>
   Arg 1 (ERROR): #<UNDEFINED-FUNCTION-TRAP -34201277>
   --Defaulted args:--
   Arg 2 (FUNCTION): DBG:SIGNAL-TRAP

DBG:LISP-ERROR-HANDLER-1:  (P.C. = 522)
   Arg 0 (SG): #<DTP-STACK-GROUP SI:MAIN-STACK-GROUP 10540053>
   Arg 1 (KEY): NIL
21-Aug-83 15:36:31-EDT,1328;000000000000
Return-path: <DCP@SCRC-TENEX>
Date: Sunday, 21 August 1983  15:25-EDT
From: DCP at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   bug-lispm at MIT-OZ
In-reply-to: The message of 21 Aug 1983 13:25-EDT from David Chapman <Zvona at MIT-OZ>

    Return-path: <Zvona@MIT-OZ>
    Received: from MIT-OZ by SCRC-TENEX with CHAOS; Sun 21-Aug-83 13:25:05-EDT
    Date: Sunday, 21 August 1983, 13:25-EDT
    From: David Chapman <Zvona@MIT-OZ>
    To: bug-lispm@MIT-OZ

    I sometimes wish I could mung some local variables of a function in the
    debugger and then continue execution from a specified instruction. 
    (This is useful when the function as a whole makes some side-effect that
    you don't want to have repeated, so c-m-R is the wrong thing.)  Is there
    a way this could be done?
Depends on the answers to questions such as:

Is there enough information in the debugging info to know what the
stack level of the restart point ought to be?

It's easy to pop values off the stack.  What if the user specifies a
level which wants more locals?

What about special bindings, unwind-protects and catches?  As long as
you stay within them you /might/ be safe.  You might be able to undo
an unwind-protect or a special variable binding.  It is probably
harder to enter one from the side.
21-Aug-83 17:15:16-EDT,415;000000000000
Return-path: <Bagley@MIT-OZ>
Date: Sunday, 21 August 1983, 17:13-EDT
From: Steven C. Bagley <Bagley@MIT-OZ>
Subject: property list operations on instances?
To: bug-symbolics-software@MIT-OZ

Any chance that the property list functions are going to work soon with
instances of flavors with si:property-list-mixin mixed-in?  I
implemented it using advise, and it slows things (the editor, etc.) down
a bit.
21-Aug-83 17:54:10-EDT,1677;000000000000
Return-path: <DANIEL@MIT-OZ>
Mail-From: DANIEL created at 21-Aug-83 17:51:15
Date: Sun, 21 Aug 1983  17:51 EDT
Message-ID: <[MIT-OZ].DANIEL.21-Aug-83 17:51:15>
From: Daniel Weise <DANIEL@MIT-OZ>
To:   DCP@SCRC-TENEX
Cc:   BUG-LISPM@MIT-OZ, hoss@SCRC-TENEX
Subject: gc bug.
In-reply-to: Msg of 21 Aug 1983  15:12-EDT from DCP at SCRC-TENEX

    From: DCP at SCRC-TENEX
    To:   Daniel W. Weise <Daniel>

    This is an unfortunate Release 4 bug on the 3600.  Each time you flip
    you lose some swap space.  Moon thought he kludged around the bugs in
    the storage management allocator.  I think this has been fixed in
    release 5.  I'll check when I get a chance.

What is the difference between swap space and free space?  If
they are the same I would say that losing 1/3 of my address space
due to one flip is more than unfortunate.  This bug has not
arisen when I leave the incremental gc on: I have had the machine
successfully flip many times when it remains on.  (Though I
haven't checked the size of swap space after each flip.  How does
one?)  Since the machine runs out of swap space at the time a
flip would have occured had the incremental been on, I would
guess that the gc is reserving the TO space when it shouldn't be.
Is there any hope of this getting fixed in release 4 and making
it into 4.5?  Or is the fix too drastic?

The reason I would like to get this patched as quickly as
possible is because I must do a gc-immediately in order to get a
scheme chip band saved on the 3600 and having this force me to
run the gc when I restore the band thereby slowing down my
machine by a factor of 2 is undesirable.

Daniel
21-Aug-83 18:21:03-EDT,2307;000000000000
Return-path: <PGS@MIT-OZ>
Date: Sunday, 21 August 1983, 18:17-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Experimental System 97.1, CADR 1.0, Experimental ZMail 51.0,
MIT-Specific 21.0, microcode 255, ZM MIT, on Lisp Machine Three:

My init file does a (TV:SET-DEFAULT-FONT "medfnt") in order to keep me
from going blind.  Looks like it didn't work here.

>>ERROR: FONT is not a type known to TYPEP
Backtrace from the debugger:

GLOBAL:TYPEP (P.C. = 453)

 Arg 0 (X): #<FONT COLOR-MEDFNT 23425052>
 Arg 1 (TYPE): FONT
Local 0 (PRED): NIL
Local 1 (D): NIL
Local 2 (DTP): 21
Local 3 (SYMBOL): NIL
Local 4 (*SELECTQ-ITEM*): NIL


TV:SET-SCREEN-STANDARD-FONT (P.C. = 60)

 Arg 0 (SCREEN): #<COLOR-SCREEN COLOR 1000062 deexposed>
 Arg 1 (PURPOSE): DEFAULT
 Arg 2 (FONT-DESCRIPTOR): #<FONT MEDFNT 7563614>
Local 0 (FONT): #<FONT COLOR-MEDFNT 23425052>
Local 1 (FONT-NAME): NIL
Local 2 (STANDARD-NAME): NIL
Local 3 (OLD-FONT): NIL


TV:SET-STANDARD-FONT (P.C. = 33)

 Arg 0 (PURPOSE): DEFAULT
 Arg 1 (FONT-DESCRIPTOR): #<FONT MEDFNT 7563614>
Local 0: (#<COLOR-SCREEN COLOR 1000062 deexposed> #<STANDARD-SCREEN Main Screen 1000146 exposed> #<WHO-LINE-SCREEN Who Line Screen 1140000 exposed>)
Local 1 (SCREEN): #<COLOR-SCREEN COLOR 1000062 deexposed>


TV:SET-DEFAULT-FONT (P.C. = 25)

 Arg 0 (FONT-DESCRIPTOR): #<FONT MEDFNT 7563614>


SI:*EVAL (P.C. = 1240)

 Arg 0 (FORM): (TV:SET-DEFAULT-FONT FONTS:MEDFNT)
Local 0 (ARGNUM): 1
Local 1 (FCTN): #<DTP-FEF-POINTER TV:SET-DEFAULT-FONT 12145621>
Local 2 (ARG-DESC): 101
Local 3 (NUM-ARGS): 1
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10: NIL
Local 11: NIL
Local 12 (IGNORE): NIL
Local 13 (ADL): NIL
Local 14 (ITEM): NIL
Local 15 (*SELECTQ-ITEM*): NIL


Remainder of stack:

SYSTEM:FASL-OP-EVAL1 (P.C. = 115)
SI#:FASL-GROUP (P.C. = 130)
SI#:FASL-WHACK-SAVE-FASL-TABLE (P.C. = 67)
SI#:FASL-WHACK (P.C. = 23)
SI#:FASL-TOP-LEVEL (P.C. = 32)
SI#:FASLOAD-INTERNAL (P.C. = 471)
GLOBAL:LOAD (P.C. = 303)
GLOBAL:LOGIN (P.C. = 223)
SI:*EVAL (P.C. = 1240)
SI:EVAL-ABORT-TRIVIAL-ERRORS (P.C. = 44)
SI:LISP-TOP-LEVEL1 (P.C. = 256)
SI:LISP-TOP-LEVEL (P.C. = 35)
21-Aug-83 18:36:16-EDT,475;000000000000
Return-path: <PGS@MIT-OZ>
Date: Sunday, 21 August 1983, 18:35-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Experimental System 97.1, CADR 1.0, Experimental ZMail 51.0,
MIT-Specific 21.0, microcode 255, ZM MIT, on Lisp Machine Three:

In Supdup, if the foreign host sends a ^G, I don't get a beep or flash, but a
pi printed on my screen.  I don't know if this is the server's fault (it's been
hacked recently, I think), or the Lisp Machine's.
21-Aug-83 18:45:08-EDT,853;000000000000
Return-path: <ZVONA@MIT-OZ>
Mail-From: ZVONA created at 21-Aug-83 18:39:20
Date: Sunday, August 21, 1983 6:39PM-EDT
From: David Chapman <ZVONA@MIT-OZ>
Subject: restart from middle of function
To: bug-lispm at MIT-OZ

Well, maybe this all gets more hairy than it is worth.  But:

If the start point wants more locals, could ask the user (a la function
called on too few args).

It might be worth having the feature even if potentially you could lose
on unwind-protects, etc.  If the debugger could just COMPUTE whether or
not an instruction is safe to start at, then that would be idiot-proof
(though it adds to the cognitive load).

Then there is that magic piece of code that Moon and HIC and Gregor wrote
to add special variables in random places.  Maybe that would be enough
to handle the "entering contexts from the side" problem.21-Aug-83 18:52:21-EDT,997;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Sun 21-Aug-83 18:42:47-EDT
Date: Sunday, 21 August 1983, 18:43-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
To: PGS@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 21 Aug 83 18:35-EDT from Patrick Sobalvarro <PGS at OZ>

    Date: Sunday, 21 August 1983, 18:35-EDT
    From: Patrick Sobalvarro <PGS@MIT-OZ>
    In Experimental System 97.1, CADR 1.0, Experimental ZMail 51.0,
    MIT-Specific 21.0, microcode 255, ZM MIT, on Lisp Machine Three:

    In Supdup, if the foreign host sends a ^G, I don't get a beep or flash, but a
    pi printed on my screen.  I don't know if this is the server's fault (it's been
    hacked recently, I think), or the Lisp Machine's.
That is the correct behaviour in supdup.  ^G (aka 007) is a sail
character and gets displayed.  If the host really wanted to make your
screen flash it should have sent a %TDBEL.  Now there is a slew of bugs
in Twenex that...
21-Aug-83 19:12:32-EDT,1250;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Sun 21-Aug-83 18:46:48-EDT
Date: Sunday, 21 August 1983, 18:47-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
To: bug-supdup@MIT-OZ, Marty@MIT-OZ
Cc: PGS@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 21 Aug 83 18:35-EDT from Patrick Sobalvarro <PGS at OZ>
Supersedes: The message of 21 Aug 83 18:43-EDT from David C. Plummer <DCP@SCRC-TENEX>

	Date: Sunday, 21 August 1983, 18:35-EDT
	From: Patrick Sobalvarro <PGS@MIT-OZ>
	In Experimental System 97.1, CADR 1.0, Experimental ZMail 51.0,
	MIT-Specific 21.0, microcode 255, ZM MIT, on Lisp Machine Three:
    
	In Supdup, if the foreign host sends a ^G, I don't get a beep or flash, but a
	pi printed on my screen.  I don't know if this is the server's fault (it's been
	hacked recently, I think), or the Lisp Machine's.
    That is the correct behaviour in supdup.  ^G (aka 007) is a sail
    character and gets displayed.  If the host really wanted to make your
    screen flash it should have sent a %TDBEL.  Now there is a slew of bugs
    in Twenex that...
Hmmm... I see what you mean.  Note that it happens on all the 20X
systems except SPEECH.  Marty, looks like this one's for you.
21-Aug-83 21:44:34-EDT,3626;000000000000
Return-path: <MARTY@MIT-OZ>
Mail-From: MARTY created at 21-Aug-83 21:42:00
Date: 21 Aug 1983  21:42 EDT (Sun)
Message-ID: <[MIT-OZ].MARTY.21-Aug-83 21:42:00>
From: Martin David Connor <MARTY@MIT-OZ>
Subject: SUPDUP Madness!
To:   David C. Plummer <DCP@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ, bug-supdup@MIT-OZ, PGS@MIT-OZ, Bug-Twenex@MIT-XX
In-reply-to: Msg of 21 Aug 1983 18:47-EDT from David C. Plummer <DCP at SCRC-TENEX>

    Date: Sunday, 21 August 1983, 18:47-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>
    To:   bug-supdup, Marty
    cc:   PGS, BUG-LISPM
    Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Sun 21-Aug-83 18:46:48-EDT
    Supersedes: The message of 21 Aug 83 18:43-EDT from David C. Plummer <DCP@SCRC-TENEX>

    	Date: Sunday, 21 August 1983, 18:35-EDT
    	From: Patrick Sobalvarro <PGS@MIT-OZ>
    	In Experimental System 97.1, CADR 1.0, Experimental ZMail 51.0,
    	MIT-Specific 21.0, microcode 255, ZM MIT, on Lisp Machine Three:
        
    	In Supdup, if the foreign host sends a ^G, I don't get a beep or flash, but a
    	pi printed on my screen.  I don't know if this is the server's fault (it's been
    	hacked recently, I think), or the Lisp Machine's.
        That is the correct behaviour in supdup.  ^G (aka 007) is a sail
        character and gets displayed.  If the host really wanted to make your
        screen flash it should have sent a %TDBEL.  Now there is a slew of bugs
        in Twenex that...

    Hmmm... I see what you mean.  Note that it happens on all the 20X
    systems except SPEECH.  Marty, looks like this one's for you.

Fixed, sort of.  This is one of several screws I have run into while
trying for the proper behavior.  For some reason, VT100's have their
visible bell capability turned on, even though the can't really do it right.

I you SUPDUP from a VT100 (e.g. EE), and you hit a control G, it will
cause the screen to be INVERSE VIDEO (black on white), and WILL NOT
switch it back.  Someone told me about this, so I turned off the 
VISIBLE BELL switch.  I guess the right fix is for the monitor
database on VT100 capabilities be updated to say that VT100's don't have
visible bells. 

I installed "fixed" versions of the file-server on OZ, EE, and XX.

While we're on the subject of SUPDUP bugs,  you will notice that
LISPMs do not wrap properly SUPDUPing to 20's, but terminal concentrator
terminals do.  After talking to RMS, I suspect that if we could agree
what the line-width really means, (i.e. what really should happen on
a remote system when a character is typed in the last column) I could
fix the SUPDUP server on OZ to do the right thing.  If I try to emulate
what MC does, then the EXEC understands, but *EMACS* no longer does
wrapping properly on SUPDUP connections, if you type long lines, it will
throw in an extra line with just a ! on it.  I think EMACS  needs to 
alter the TTY a little when it is entered (turn off WRAP mode, and 
alter the TERMINAL width so that is one bigger so that VTS is faked out).

Ever wonder why when you supdup from a UNIX system to a Tops-20, it
sets your terminal width to 1 more than it should be?  That's because
the Tops-20 supdup server INCREMENTS the terminal width the USER sends
it by 1.  Unix sends 80.  Terminal concentrators send 79.
You don't believe it? SUPDUP to MC and do :TCTYP DES and then SUPDUP
XX and do INFO TERM.

Anyway, if anyone still cares at this point, I will continue to
hack on this.  I suspect some TECO hacking might be required.

Has anyone else had thought about fixing this brain damage?

22-Aug-83 01:27:57-EDT,3922;000000000000
Return-path: <Mailer@MIT-OZ>
Date:  22 August 1983 01:17 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: SUPDUP Madness!
To:  Martin David Connor <MARTY at MIT-OZ>
cc:  David C. Plummer <DCP at SCRC-TENEX>, BUG-LISPM at MIT-OZ, 
     bug-supdup at MIT-OZ, PGS at MIT-OZ, Bug-Twenex at MIT-XX
In-Reply-To:  Message of 21 August 1983 21:46 edt from Martin David Connor

    Date:  21 Aug 1983  21:42 EDT (Sun)
    From:  Martin David Connor <MARTY@MIT-OZ>
    Subject:  SUPDUP Madness!

        Date: Sunday, 21 August 1983, 18:47-EDT
        From: David C. Plummer <DCP at SCRC-TENEX>
        To:   bug-supdup, Marty
        cc:   PGS, BUG-LISPM
        Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Sun 21-Aug-83 18:46:48-EDT
        Supersedes: The message of 21 Aug 83 18:43-EDT from David C. Plummer <DCP@SCRC-TENEX>

              Date: Sunday, 21 August 1983, 18:35-EDT
              From: Patrick Sobalvarro <PGS@MIT-OZ>
              In Experimental System 97.1, CADR 1.0, Experimental ZMail 51.0,
              MIT-Specific 21.0, microcode 255, ZM MIT, on Lisp Machine Three:

              In Supdup, if the foreign host sends a ^G, I don't get a beep or flash, but a
              pi printed on my screen.  I don't know if this is the server's fault (it's been
              hacked recently, I think), or the Lisp Machine's.
            That is the correct behaviour in supdup.  ^G (aka 007) is a sail
            character and gets displayed.  If the host really wanted to make your
            screen flash it should have sent a %TDBEL.  Now there is a slew of bugs
            in Twenex that...

        Hmmm... I see what you mean.  Note that it happens on all the 20X
        systems except SPEECH.  Marty, looks like this one's for you.

    Fixed, sort of.  This is one of several screws I have run into while
    trying for the proper behavior.  For some reason, VT100's have their
    visible bell capability turned on, even though the can't really do it right.

    I you SUPDUP from a VT100 (e.g. EE), and you hit a control G, it will
    cause the screen to be INVERSE VIDEO (black on white), and WILL NOT
    switch it back.  Someone told me about this, so I turned off the
    VISIBLE BELL switch.  I guess the right fix is for the monitor
    database on VT100 capabilities be updated to say that VT100's don't have
    visible bells.

    I installed "fixed" versions of the file-server on OZ, EE, and XX.

    While we're on the subject of SUPDUP bugs,  you will notice that
    LISPMs do not wrap properly SUPDUPing to 20's, but terminal concentrator
    terminals do.  After talking to RMS, I suspect that if we could agree
    what the line-width really means, (i.e. what really should happen on
    a remote system when a character is typed in the last column) I could
    fix the SUPDUP server on OZ to do the right thing.  If I try to emulate
    what MC does, then the EXEC understands, but *EMACS* no longer does
    wrapping properly on SUPDUP connections, if you type long lines, it will
    throw in an extra line with just a ! on it.  I think EMACS  needs to
    alter the TTY a little when it is entered (turn off WRAP mode, and
    alter the TERMINAL width so that is one bigger so that VTS is faked out).

    Ever wonder why when you supdup from a UNIX system to a Tops-20, it
    sets your terminal width to 1 more than it should be?  That's because
    the Tops-20 supdup server INCREMENTS the terminal width the USER sends
    it by 1.  Unix sends 80.  Terminal concentrators send 79.
    You don't believe it? SUPDUP to MC and do :TCTYP DES and then SUPDUP
    XX and do INFO TERM.

    Anyway, if anyone still cares at this point, I will continue to
    hack on this.  I suspect some TECO hacking might be required.

    Has anyone else had thought about fixing this brain damage?



22-Aug-83 03:25:26-EDT,3129;000000000000
Return-path: <JTW@MIT-SPEECH>
Date: 22 Aug 1983 0227-EDT
From   &HOST    8HOST2   JHSNAM   \HT      mHUH     .zIDDT    IF      $INQUI   6INQUI   HINSTA   ZINTRO   lISPEL   ISPIC   ITYPE   (JFNS    7JOBDA   IKLMSG   [KSTIZ   mLASTN   LINK    LINK1   +LISP    <LNKX1   NLOADS   `LOGGE   rLOKI    LOOKU   LPTFT   (LSB     9LSBCL   KMAC80   ]MACLI   oMACN1   MACRE   MACRO   (MACSY   -_MAIL    kMAKE-   }MAKLI   MARVI   #MC      5MDL     FMDL10   XMDL10   MEMO    #MIDAS   2ML      $MMM      eMNT     vMOUNT   MSEND   ,MSGS    ;MSTAT   MMUDDL   _MUDSU   MUF     /	NDDT    -"NDIR    YNEMAC   kNETCO   }NETMS   NETST   !NEWAT   3NEWLF   .NHOST   WOCHTN   iOCOMP   OCTOP   OCTPU   %ODOVE   8OFFIN   JOLISP   \OSPEL   nOZ      PA105   PASCA   #PASDD   5PASLI   GPASSE   YPASUN   kPAT     PCOMP   PCRTS   %PDP11   7PEOPL   IPFIND   -PHOTO   [PLEAS   mPREP    EPRESS   .PRMAI   #PRMEM   .!PROLO   5PRSEN   GPRSEN   YPSXLI   kPTYCO   PWD     QDMAI   %QFOLL   7QFT     HQMAIL   ZQUENC   lR       ~R20     RALP    !RDMAI   3REAPS   EREPLY   WRFC     hRMODE   RMSSY   ROUTE   .3RPMAI   7RSXFM   IRUNFI   [RUNOF   mSCHEM   SCRC    SCRIB   8SCRTS   JSD      \SDDT     SEND     SFDAT    #SHDUM    5SHELL    GSHELL    YSHORT    kSHOUT    }SLEEP   !SMDAT   !!SNDFI   !3SNDFM   !ESORT    !VSPEAR   "SPEEC   "SPELL   "(SPELL   ";SPICE   "MSPRAN   "_SPRCO   #SPRIN   #SPRIN   #%SPRMS   #7SPRRE   #ZSPRSU   $SRCCH   $SRCCO   $%STATU   $7STINK   JSUPDU   $~SYSDP   %SYSMS   %"TAIL    %4TAPEI   %FTASM    %WTCMP    %iTEACH   &TECO    &TED     &:TELNE   &ITEX     &[TEXCM   &mTEXTB   &TEXTR   'TIMES   '#TLINK   '5TPEMS   'GTTYFR   'kTTYLO   .CTTYPL   ($TTYRO@      ?AAA      SACTGE    iALERT    zANSIR   ANSIW   ARCF    
ARTHU   /ASCII   AASSEM   WASTIZ   hATSIG   BABYL   BASIC   )BASIC   >BASOT   SBBOAR   dBKG     sBOLIO   	BUG     CALC    -CC      ACCC     PCFTP    bCHAOS   CHIPM   ;CHTN    JCLU     ZCLUME   lCMD     COMBA    COMDE   2COMPA   DCOMPL   VCONVR   hCOOKI   "COOMP   4CR      WCRC     jCREF    zCRTST   CVT     DECID   /DECRE   ADED     SDLINE   GDOVER   /(DOVER   .zDPRES   )DSKMS   >DTEMP   ODUP     ^DVRQ    pDVRS    	EDDIE   	EE      	%EMACS   	:ENLIS   	KFIFTH   	\FILCO   	nFILDD   DFINGE   
%FIX-H   
8FORLI   
JFOROT   
\FORTH   
nFORTR    FORUM   FRED    #FREED   5FREPL   GFS      YFSEND   nFTP     GALGE   GETRU   )GLUE    -?GMSGS   JGREP    \GRIPE   nGROUP   GROVE   HERME kludges. Logic 
advises us that if both EMACS and the EXEC manage to do the right thing
with all terminal types except SUPDUP NVT's, then the problem lies
in the SUPDUP system, rather than either the EXEC or EMACS.

	Ever wonder why when you supdup from a UNIX system to a Tops-20, ...
	Unix sends 80.  Terminal concentrators send 79.

So UNIX is broken. Nothing new. See SUPDUP RFC fragment, above.

	Has anyone else had thought about fixing this brain damage?

AAARGGGH!

	-john
-------
22-Aug-83 07:48:06-EDT,1131;000000000000
Return-path: <PGS@MIT-OZ>
Date: Monday, 22 August 1983, 07:44-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
Subject: Re: SUPDUP Madness!
To: JTW@MIT-MC, MARTY@MIT-OZ, DCP@SCRC-TENEX
CC: BUG-LISPM@MIT-OZ, bug-supdup@MIT-OZ, PGS@MIT-OZ, Bug-Twenex@MIT-XX
In-reply-to: The message of 22 Aug 83 02:27-EDT from John Wroclawski <JTW at MIT-SPEECH>

    Date: 22 Aug 1983 0227-EDT
    From: John Wroclawski <JTW at MIT-SPEECH>
    Subject: Re: SUPDUP Madness!

    About the only piece of software not at fault here is the SUPDUP server
    program. Marty's comment about fixing VTS's idea of VIS-BELL on a VT100
    is correct, but doesn't go too far towards explaining why PGS lost on 
    a LM. If not having this capability set by the server causes the LM bug,
    a VTS problem is indicated. However (wakeup, Pat), I am curious as to
    whether you were running EMACS at the time - I think there is a case
    where EMACS does a "super-image" ^G, assuming that it will ring a bell.
    If you were running, say, the EXEC, there is a VTS bug.

How did you know I would be half-asleep?  This did happen in the exec.
22-Aug-83 07:52:58-EDT,1329;000000000000
Return-path: <PGS@MIT-OZ>
Date: Monday, 22 August 1983, 07:50-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: DCP@SCRC-TENEX, bug-supdup@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 21 Aug 83 18:43-EDT from David C. Plummer <DCP at SCRC-TENEX>

    Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Sun 21-Aug-83 18:42:47-EDT
    Date: Sunday, 21 August 1983, 18:43-EDT
    From: David C. Plummer <DCP@SCRC-TENEX>
    To: PGS@MIT-OZ, BUG-LISPM@MIT-OZ
    In-reply-to: The message of 21 Aug 83 18:35-EDT from Patrick Sobalvarro <PGS at OZ>

	Date: Sunday, 21 August 1983, 18:35-EDT
	From: Patrick Sobalvarro <PGS@MIT-OZ>
	In Experimental System 97.1, CADR 1.0, Experimental ZMail 51.0,
	MIT-Specific 21.0, microcode 255, ZM MIT, on Lisp Machine Three:

	In Supdup, if the foreign host sends a ^G, I don't get a beep or flash, but a
	pi printed on my screen.  I don't know if this is the server's fault (it's been
	hacked recently, I think), or the Lisp Machine's.
    That is the correct behaviour in supdup.  ^G (aka 007) is a sail
    character and gets displayed.  If the host really wanted to make your
    screen flash it should have sent a %TDBEL.  Now there is a slew of bugs
    in Twenex that...

I think it wanted to give me a %tdbel; this was when completion failed (used to
feep).
22-Aug-83 09:40:49-EDT,360;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Monday, 22 August 1983, 09:35-EDT
From: Gavan Duffy <GAVAN@MIT-OZ>
Subject: page fault on ap6
To: BUG-LISPM@MIT-OZ

In Release 4.4, site configuration 62, on Lisp Machine Apiary-6:

While going from lisp-listener to editor window, lisp stopped itself.
Halt reason: ("Page fault on unallocated VMA ~O" 15111733 (8)).
22-Aug-83 10:12:23-EDT,781;000000000000
Return-path: <DCP@MIT-MC>
Date: 22 August 1983 10:04 EDT
From: David C. Plummer <DCP @ MIT-MC>
Subject: Re: SUPDUP Madness!
To: JTW @ MIT-MC
cc: Bug-Twenex @ MIT-XX, MARTY @ MIT-OZ, BUG-LISPM @ MIT-OZ,
    bug-supdup @ MIT-OZ, PGS @ MIT-OZ, DCP @ SCRC-TENEX

JTW hit the nail on the head.  The fragment from the SUPDUP RFC
should be (and has been for the last 2 years when I remember
seeing this silly discussion about 20X supdup lossage) the last
word on the meaning of terminal width and autowrap.  I believe I
have had to forward that fragment a couple times.

The only new piece of information I have, which answers JTW's
question with an example:

From a LispM: SUPDUP to EE, OZ or XX (as of yesterday) and type
rubout.  Instead of flash/feep you get a pi.
22-Aug-83 11:21:04-EDT,1324;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS; Mon 22-Aug-83 11:10:45-EDT
Date: Monday, 22 August 1983, 11:10-EDT
From: David A. Moon <Moon@SCRC-TENEX>
To: sr.cypher@MIT-SPEECH
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 21 Aug 83 15:19-EDT from sr.cypher at SPEECH

    Date: Sunday, 21 August 1983, 15:19-EDT
    From: sr.cypher at speech
    In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.40,
    site configuration 68, on Lisp Machine Polar:

    This happened while fasdumping some forms.  Some kind of infinite
    loop was occurring and breaking it gave this.

    >>Break: 
    While in the function MAKE-ARRAY  DBG:SG-GROW-PDL  DBG:SG-MAYBE-GROW-PDLS
    ....
    DBG:SG-SIGNAL-ERROR:  (P.C. = 40)
       Arg 0 (SG): #<DTP-STACK-GROUP SI:MAIN-STACK-GROUP 10540053>
       Arg 1 (ERROR): #<UNDEFINED-FUNCTION-TRAP -34201277>
       --Defaulted args:--
       Arg 2 (FUNCTION): DBG:SIGNAL-TRAP

Well you were signalling that UNDEFINED-FUNCTION-TRAP.  You may have been in
an infinite recursion of errors.  There isn't enough information in your report
to figure out anything more.  You could have selected that frame with the
condition object in it, then done (send (dbg:arg 1) ':report-string) to get
it to tell you its error message.
22-Aug-83 12:00:40-EDT,5051;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS; Mon 22-Aug-83 11:50:37-EDT
Date: Monday, 22 August 1983, 11:50-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: gc bug.
To: Daniel W. Weise <Daniel@MIT-OZ>, DCP@SCRC-TENEX
Cc: BUG-LISPM@MIT-OZ, hoss@SCRC-TENEX
In-reply-to: The message of 21 Aug 83 02:29-EDT from Daniel W. Weise <Daniel at OZ>,
             The message of 21 Aug 83 15:12-EDT from DCP at SCRC,
             <[MIT-OZ].DANIEL.21-Aug-83 17:51:15>

    Date: Sunday, 21 August 1983, 02:29-EDT
    From: Daniel W. Weise <Daniel@MIT-OZ>
    In Release 4.4, FEP 12, site configuration 68, on Lisp Machine Elvis Presley:

    I have been having problems with half my address space disappearing
    after doing a gc-immediately.  The particular bug is that my lisp is
    stopping itself saying it ran out of swapping space.  This last time
    upon warm booting (only way to get lisp to start again) GC-STATUS shows 
    dynamic space of 5,485,515, old space of 0., static space of 4,797,160
    and free space of 5,090,357!  Any attempt to do anything immediately
    causes the lisp to stop claiming it has no swapping space.  The bug
    happens if during the session I did a GC-IMMEDIATELY.  (I think it
    also happens if I have had incremental gc on for a while (past a
    flip) and then turn it off).

    Date: Sunday, 21 August 1983  15:12-EDT
    From: DCP at SCRC-TENEX
    This is an unfortunate Release 4 bug on the 3600.  Each time you flip
    you lose some swap space.  Moon thought he kludged around the bugs in
    the storage management allocator.  I think this has been fixed in
    release 5.  I'll check when I get a chance.

This is misinformation.  You don't actually lose swap space every time you
flip.  The problem is that some swap space is allocated to old-space and
is supposed to get reused after old-space has been deleted, but it doesn't
always get reused or doesn't get reused right away.  There isn't a progressive
deterioration, though.

    Date: Sun, 21 Aug 1983  17:51 EDT
    From: Daniel Weise <DANIEL@MIT-OZ>

    What is the difference between swap space and free space?  

Swap space is space on the disk for swapping (typically in the file
FEP:>PAGE.PAGE).  Free space is address space that is not committed to
any area.  With a 160 MB disk and a 28-bit address space, there is always
much more free space than swap space; consequently there is code in the
system to try to avoid considering more space to be free than the size of
the disk.

Unfortunately, in Release 4 there are several bugs in that code and
furthermore a routine in the paging system called by the garbage
collector to deallocate swap space isn't implemented.  There is code to
try to get around that, but it doesn't always work.  All of these are
fixed in Release 5.

(room) will tell you how much swap space is available.  I suspect that
the free space in the (gc-status) printout you mention above is just
complete garbage, due to warm-booting after an error while allocating space.

							       If
    they are the same I would say that losing 1/3 of my address space
    due to one flip is more than unfortunate.  This bug has not
    arisen when I leave the incremental gc on: I have had the machine
    successfully flip many times when it remains on.  (Though I
    haven't checked the size of swap space after each flip.  How does
    one?)  Since the machine runs out of swap space at the time a
    flip would have occured had the incremental been on, I would
    guess that the gc is reserving the TO space when it shouldn't be.
    Is there any hope of this getting fixed in release 4 and making
    it into 4.5?  Or is the fix too drastic?

    The reason I would like to get this patched as quickly as
    possible is because I must do a gc-immediately in order to get a
    scheme chip band saved on the 3600 and having this force me to
    run the gc when I restore the band thereby slowing down my
    machine by a factor of 2 is undesirable.

I don't think this bug has anything to do with gc-immediately, since that
does the same thing as the incremental GC, exactly, but just does it faster
by scavenging in the foreground instead of in the background.  The bug usually
depends on the exact size of your dynamic areas, plus where your address space
is fragmented, plus your consing pattern (all in one area or not).

You can get some extra swap space if you have any FEP files you are not
using, such as a spare world.load or a lmfs.file (make absolutely sure that
there is nothing in the local LMFS!  Look at local:>*.*.*).  Do (si:halt),
add pag >file.name, start.  Don't use the world.load you booted from or
the one you intend to save into, of course (they can be one and the same if
you are adventurous).

You might also try loading everything without the GC turned on, then doing
a single gc-immediately (assuming you have enough address space to load
everything).
22-Aug-83 13:08:56-EDT,821;000000000000
Return-path: <DanG@SCRC-TENEX>
Received: from SCRC-MERRIMACK by SCRC-TENEX with CHAOS; Mon 22-Aug-83 12:59:19-EDT
Date: Monday, 22 August 1983, 12:59-EDT
From: Dan Gerson <DanG@SCRC-TENEX>
Subject: disk saving into the boot file.
To: Moon@SCRC-TENEX, Daniel@MIT-OZ
Cc: BUG-LISPM@MIT-OZ, hoss@SCRC-TENEX
In-reply-to: The message of 22 Aug 83 11:50-EDT from David A. Moon <Moon at SCRC>

    Date: Monday, 22 August 1983, 11:50-EDT
    From: David A. Moon <Moon@SCRC-TENEX>
				Don't use the world.load you booted from or
    the one you intend to save into, of course (they can be one and the same if
    you are adventurous).

I believe in release 4, saving into the same world file the system was
booted from takes an incredible amount of time, like 15 to 30 minutes.
This has been fixed in release 5.
22-Aug-83 15:10:52-EDT,1062;000000000000
Return-path: <DanG@SCRC-TENEX>
Received: from scrc-merrimack by scrc-vixen with CHAOS; 22 Aug 1983 14:20:39-EDT
Date: Monday, 22 August 1983, 14:20-EDT
From: Dan Gerson <DanG at SCRC>
Subject: page fault on ap6
To: GAVAN at OZ, BUG-LISPM at OZ
Cc: DanG at SCRC
In-reply-to: The message of 22 Aug 83 09:35-EDT from Gavan Duffy <GAVAN at OZ>

    Date: Monday, 22 August 1983, 09:35-EDT
    From: Gavan Duffy <GAVAN@MIT-OZ>
    In Release 4.4, site configuration 62, on Lisp Machine Apiary-6:

    While going from lisp-listener to editor window, lisp stopped itself.
    Halt reason: ("Page fault on unallocated VMA ~O" 15111733 (8)).

That error is trying to tell you that the address 15111733 was
referenced but was not in any region.  Since lisp stopped itself rather
than entering the debugger the reference must have been from some code
running on the auxiliary stack buffer, such as from a sequence break
(including the disk driver) or the paging code.

Most likely some memory got clobbered for some reason.  Did warm booting
work?
22-Aug-83 17:11:15-EDT,451;000000000000
Return-path: <LISPM@MIT-OZ>
Date: Monday, 22 August 1983, 17:06-EDT
From: The Lisp Machine <LISPM@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.37, ZMail 50.16, microcode 239, use me,
on Lisp Machine Twenty-four:

Loading the patch file for 94.38 crashes this machine, repeatably, when
78% percent of the file has been read in.  Makes it sort of hard to load
the rest of the patches.  The machine will warm boot successfully.22-Aug-83 19:59:04-EDT,2909;000000000000
Return-path: <PGS@MIT-OZ>
Date: Monday, 22 August 1983, 19:55-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.41, ZMail 50.17, microcode 239, uC239,
on Lisp Machine Twenty-five:

I do M-X Clean Directory <PGS*>.  It offers to delete some files, does so
successfully, and when I tell it to go ahead nad expunge, I get

>>ERROR: No such file type for OZ:PS:<PGS*>*.*.*
Backtrace from the debugger:

FS:DIRECTORY-OPERATION-CHAOS (P.C. = 136)

 Arg 0 (OPERATION): EXPUNGE
 Arg 1 (HOST): #FS:TOPS20-CHAOS-HOST "MIT-OZ"
 Arg 2 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:PS:<PGS*>*.*.*"
 Arg 3 (ERROR-P): T
Local 0 (HOST-UNIT): #<HOST-UNIT 10230436>
Local 1 (PKT): #<CHAOS Packet 34061546>
Local 2 (SUCCESS): NIL
Local 3 (FILE-STRING): " ERROR FNF F No such file type"
Local 4 (START): NIL
Local 5 (IGNORE): NIL


(METHOD FS:TOPS20-PATHNAME EXPUNGE) (P.C. = 62)
  (SELF is #FS:TOPS20-PATHNAME "OZ:PS:<PGS*>*.*.*")

 Arg 0 (OPERATION): EXPUNGE
 Rest arg: NIL
Local 1 (ERROR): T


FS:EXPUNGE-DIRECTORY (P.C. = 154)

 Arg 0 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:PS:<PGS*>*.*.*"
 Rest arg (OPTIONS): NIL
Local 1 (ERROR): T
Local 2: (FS:FILE-ERROR SI:CONDITION-CASE-THROW FS:G5018)
Local 3: ((FS:FILE-ERROR SI:CONDITION-CASE-THROW FS:G5018))
Local 4 (ERROR-OBJECT): NIL
Local 5 (*SELECTQ-ITEM*): NIL


ZWEI:REAP-DIRECTORY (P.C. = 170)

 Arg 0 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:PS:<PGS*>*.*.*"
 Arg 1 (N-TO-KEEP): 3
 Arg 2 (STREAM): SI:TERMINAL-IO-SYN-STREAM
Local 0 (DIRECTORY-LIST): ((#FS:TOPS20-PATHNAME "OZ:PS:<PGS>AAA.CONFIGURATION.5" PROTECTION "777754" GENERATION-RETENTION-COUNT ...) (#FS:TOPS20-PATHNAME "OZ:PS:<PGS>ASM.DIRECTORY.1" DIRECTORY T DONT-DUMP ...) (#FS:TOPS20-PATHNAME "OZ:PS:<PGS>BOB.QFASL.1" PROTECTION "777754" GENERATION-RETENTION-COUNT ...) (#FS:TOPS20-PATHNAME "OZ:PS:<PGS>BOB2.QFASL.1" PROTECTION "777754" GENERATION-RETENTION-COUNT ...) ...)
Local 1 (SOMETHING-DELETED): T
Local 2 (LIST): NIL
Local 3 (HEAD): NIL
Local 4 (PREV-NAME): "Z"
Local 5 (NAME): "Z"
Local 6 (PREV-TYPE): "GUIDE"
Local 7 (TYPE): "GUIDE"
Local 8 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:PS:<PGS.STUFF>Z.GUIDE.2"


ZWEI:CLEAN-DIRECTORY (P.C. = 110)

 Arg 0 (PATHNAME): #FS:TOPS20-PATHNAME "OZ:PS:<PGS*>*.*.*"
 Arg 1 (N-TO-KEEP): 3
 Arg 2 (PROMPT-STREAM): #<MODE-LINE-WINDOW Mode Line Window 1 1443365 exposed>


Remainder of stack:

ZWEI:COM-CLEAN-DIRECTORY (P.C. = 66)
ZWEI:COM-EXTENDED-COMMAND (P.C. = 67)
ZWEI:COMMAND-EXECUTE (P.C. = 116)
ZWEI:PROCESS-COMMAND-CHAR (P.C. = 67)
(METHOD ZWEI:WINDOW EDIT) (P.C. = 470)
(INTERNAL (METHOD ZWEI:ZMACS-WINDOW COMBINED EDIT) 0) (P.C. = 74)
FUNCALL (P.C. = 25)
(METHOD ZWEI:DISPLAYER AROUND EDIT) (P.C. = 31)
(METHOD ZWEI:ZMACS-WINDOW COMBINED EDIT) (P.C. = 47)
ZWEI:ZMACS-WINDOW-TOP-LEVEL (P.C. = 46)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
22-Aug-83 23:36:34-EDT,2135;000000000000
Return-path: <MARTY@MIT-OZ>
Mail-From: MARTY created at 22-Aug-83 23:33:58
Date: 22 Aug 1983  23:33 EDT (Mon)
Message-ID: <[MIT-OZ].MARTY.22-Aug-83 23:33:58>
From: Martin David Connor <MARTY@MIT-OZ>
To:   JTW@MIT-MC
Cc:   BUG-LISPM@MIT-OZ, bug-supdup@MIT-OZ, Bug-Twenex@MIT-XX, DCP@SCRC-TENEX,
      PGS@MIT-OZ
Subject: SUPDUP Madness!
In-reply-to: Msg of 22 Aug 1983  02:27-EDT from John Wroclawski <JTW at MIT-SPEECH>

    Date: Monday, 22 August 1983  02:27-EDT
    From: John Wroclawski <JTW at MIT-SPEECH>

    ENOUGH ALREADY! Three weeks ago 20X had prefectly acceptable SUPDUP
    service, with the exception of one bug involving screwed-up autowrapping
    of long lines when supduping from another Twenex. This bug was in the
    20X SUPDUP *USER* program, not the server. In the last weeks I have
    seen N new-and-different SUPDUP bug reports about N newly added SUPDUP
    bugs.

Supduping from a LISPM to any 20 (My version of the SUPDUP server is
now functionally equivalent to the old one still running on SPEECH),
will show that line wrapping does not work properly. Supduping from a
terminal concentrator, line wrapping works.  Obviously since the 20
doesn't know what kind of terminal is SUPDUPing to it, they should do
the SAME wrapping.

Incidentally, following your advice, I have fixed the Tops-20 supdup
program so that it wraps properly when used from terminal
concentrators or hardwires.

   Why the hell are people fixing things that aren't broken?

Why are people not fixing things that are broken?

I have "fixed" several bugs in the SUPDUP user end that really were the
fault of VTS.  With the lack of systems hackers we have here, and the
lack of documentation on abandoned crocks, I am sure you understand
the difficulty in deciding whose fault a bug is.  I admit that I have
had to debug some to figure out whose fault some bugs are, but the
result is a better SUPDUP user program for Tops-20, and a better
understanding of the SUPDUP protocol in general.  

I understand your aggravation.  I hope you can understand mine.
I do appreciate your comments.

22-Aug-83 23:56:38-EDT,1480;000000000000
Return-path: <Hewitt@MIT-OZ>
Date: Monday, 22 August 1983, 23:52-EDT
From: Carl Hewitt <Hewitt@MIT-OZ>
Subject: copy file does not always preserve version numbers between hosts
To: Bernard S. Greenberg <BSG@SCRC-TENEX>
Cc: Hewitt@MIT-XX, bug-symbolics-software@MIT-OZ
In-reply-to: The message of 5 Aug 83 15:35-EDT from Bernard S. Greenberg <BSG at SCRC-TENEX>

    Return-path: <BSG@SCRC-TENEX>
    Received: from SCRC-BEAGLE by SCRC-SPANIEL with CHAOS; Fri 5-Aug-83 15:35:36-EDT
    Date: Friday, 5 August 1983, 15:35-EDT
    From: Bernard S. Greenberg <BSG at SCRC-TENEX>
    Subject: copy file does not preserve version numbers between hosts
    To: Hewitt at MIT-XX, bug-symbolics-software at MIT-AI
    In-reply-to: <[MIT-XX].HEWITT. 5-Aug-83 14:49:09>

        Date: Fri, 5 Aug 1983  14:49 EDT
        From: HEWITT@MIT-XX
        Is there any way to tell M-X Copy File to preserve
        version numbers for the files that it copies?
        It currently does not always do so between hosts.
    It certainly is supposed to.  Can you give us a test case 
    that fails to?
All the cases that I know of involve the pre-existence
of a file by the same name on the other host.  When a file
by the same version number already exists on a TOPS-20 then
a greater than version is created instead.  Also is going
between TOPS-20 systems when a gap would be created in the sequencing,
a greater than version is also created with lower version number.
23-Aug-83 01:18:14-EDT,1107;000000000000
Return-path: <GAVAN@MIT-OZ>
Mail-From: GAVAN created at 23-Aug-83 01:11:06
Date: Tue, 23 Aug 1983  01:11 EDT
Message-ID: <[MIT-OZ].GAVAN.23-Aug-83 01:11:06>
From: GAVAN@MIT-OZ
To:   Dan Gerson <DanG@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ
Subject: page fault on ap6
In-reply-to: Msg of 22 Aug 1983 14:20-EDT from Dan Gerson <DanG at SCRC>

    From: Dan Gerson <DanG at SCRC>

        From: Gavan Duffy <GAVAN@MIT-OZ>

        While going from lisp-listener to editor window, lisp stopped itself.
        Halt reason: ("Page fault on unallocated VMA ~O" 15111733 (8)).

    That error is trying to tell you that the address 15111733 was
    referenced but was not in any region.  Since lisp stopped itself rather
    than entering the debugger the reference must have been from some code
    running on the auxiliary stack buffer, such as from a sequence break
    (including the disk driver) or the paging code.

    Most likely some memory got clobbered for some reason.  Did warm booting
    work?

No.  The run lights ran for a second or so, and then the same message
appeared.  
23-Aug-83 09:57:03-EDT,581;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Tuesday, 23 August 1983, 09:41-EDT
From: Gavan Duffy <GAVAN@MIT-OZ>
Subject: Mispelt filnames
To: BUG-LISPM@MIT-OZ

In Release 4.4, site configuration 68, on Lisp Machine Apiary-6:

I just added a newly-created filename to my defsystem, and of course I
spelled it incorrectly.  When the make-system bombed, I was given a
proceed option which would have allowed me to retry finding the missing
file.  There was no proceed option which would allow me to retype the
filename.  There probably should be.  Or is this considered a feature?
23-Aug-83 11:24:52-EDT,1284;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS; Tue 23-Aug-83 11:13:00-EDT
Date: Tuesday, 23 August 1983, 11:18-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Mispelt filnames
To: Gavan Duffy <GAVAN@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 23 Aug 83 09:41-EDT from Gavan Duffy <GAVAN at OZ>

    Date: Tuesday, 23 August 1983, 09:41-EDT
    From: Gavan Duffy <GAVAN@MIT-OZ>
    In Release 4.4, site configuration 68, on Lisp Machine Apiary-6:

    I just added a newly-created filename to my defsystem, and of course I
    spelled it incorrectly.  When the make-system bombed, I was given a
    proceed option which would have allowed me to retry finding the missing
    file.  There was no proceed option which would allow me to retype the
    filename.  There probably should be.  Or is this considered a feature?

To be acceptable it would have had to find the source of the defsystem and
edit it to contain the new filename.  This could be done, but so far has
been too hard and too "dwimish."  If it left your defsystem inconsistent
with what it actually loaded, you would be shafted sooner or later and
would have every right to complain about "pseudo intelligent do what I don't
mean features."
23-Aug-83 14:07:47-EDT,559;000000000000
Return-path: <PGS@MIT-OZ>
Date: Tuesday, 23 August 1983, 13:43-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: BUG-LISPM@MIT-OZ, bug-supdup@MIT-OZ, bug-twenex@MIT-XX

In MIT-Specific 19.5, System 94.41, ZMail 50.17, microcode 239, uC239,
on Lisp Machine Five:

Lately when I Supdup to OZ, if I start typing before there's a prompt, my
Supdup wedges in chaosnet output.  This doesn't seem to happen when I Supdup to
MC.  I seem to remember something like this a long time ago, but I thought it
had been fixed.  Wasn't it a timing screw of some sort?
23-Aug-83 14:10:11-EDT,1730;000000000000
Return-path: <DanG@SCRC-TENEX>
Received: from SCRC-MERRIMACK by SCRC-TENEX with CHAOS; Tue 23-Aug-83 13:36:42-EDT
Date: Tuesday, 23 August 1983, 13:36-EDT
From: Dan Gerson <DanG@SCRC-TENEX>
Subject: page fault on ap6
To: GAVAN@MIT-OZ, DanG@SCRC-TENEX
Cc: BUG-LISPM@MIT-OZ
In-reply-to: <[MIT-OZ].GAVAN.23-Aug-83 01:11:06>

    Date: Tue, 23 Aug 1983  01:11 EDT
    From: GAVAN@MIT-OZ
	From: Dan Gerson <DanG at SCRC>
	    From: Gavan Duffy <GAVAN@MIT-OZ>
	    While going from lisp-listener to editor window, lisp stopped itself.
	    Halt reason: ("Page fault on unallocated VMA ~O" 15111733 (8)).

	Most likely some memory got clobbered for some reason.  Did warm booting
	work?

    No.  The run lights ran for a second or so, and then the same message
    appeared.  

Ok.  If warm booting had worked, it would have weakened the memory
clobberage theory, making one of the processing boards more suspect.
But since warm booting didn't work, it still looks like some page was
smashed.

Pages can get smashed by a processing board failure, a network or disk
hardware failure, or a system-internals software failure.  Unfortunately
it is hard to diagnose without being able to look at smashed page and
see what sort of data it was clobbered with.  There have been some page
clobbering bugs fixed in release 5, but thinking back I believe they
were fixes to bugs introduced after release 4.  Known page clobbering
bugs are of course normally patched.

So I can't help much without some more data.  If this fails repeatibly,
or often, but only on this one machine, it looks like the hardware.
Otherwise it could still be either hardware or software.  Let me know if
you have any reoccurances.
23-Aug-83 14:58:39-EDT,1094;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Tue 23-Aug-83 14:36:26-EDT
Date: Tuesday, 23 August 1983, 14:41-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
To: PGS@MIT-OZ, BUG-LISPM@MIT-OZ, bug-supdup@MIT-OZ, bug-twenex@MIT-XX
In-reply-to: The message of 23 Aug 83 13:43-EDT from Patrick Sobalvarro <PGS at MIT-OZ>

    Date: Tuesday, 23 August 1983, 13:43-EDT
    From: Patrick Sobalvarro <PGS@MIT-OZ>
    In MIT-Specific 19.5, System 94.41, ZMail 50.17, microcode 239, uC239,
    on Lisp Machine Five:

    Lately when I Supdup to OZ, if I start typing before there's a prompt, my
    Supdup wedges in chaosnet output.  This doesn't seem to happen when I Supdup to
    MC.  I seem to remember something like this a long time ago, but I thought it
    had been fixed.  Wasn't it a timing screw of some sort?
Long ago was December (I was in California at the time).  I think it
happens if you typeahead to fast to a MINITS as well.  Marty has been
hacking the SUPDUP server recently.  Maybe his current familiarity will
find the problem.
24-Aug-83 17:04:44-EDT,1256;000000000000
Return-path: <GAVAN@MIT-OZ>
Mail-From: GAVAN created at 24-Aug-83 16:51:35
Date: Wed, 24 Aug 1983  16:51 EDT
Message-ID: <[MIT-OZ].GAVAN.24-Aug-83 16:51:33>
From: GAVAN@MIT-OZ
To:   David A. Moon <Moon@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ
Subject: Mispelt filnames
In-reply-to: Msg of 23 Aug 1983 11:18-EDT from David A. Moon <Moon at SCRC-TENEX>

    From: David A. Moon <Moon at SCRC-TENEX>

[about a proceed option in make-system errors allowing user to correct
filenames misspelled in the defsystem]

    To be acceptable it would have had to find the source of the defsystem and
    edit it to contain the new filename.  This could be done, but so far has
    been too hard and too "dwimish."  If it left your defsystem inconsistent
    with what it actually loaded, you would be shafted sooner or later and
    would have every right to complain about "pseudo intelligent do what I 
    don't mean features."

OK, it's a feature, and I can understand the dwimmishness of
automatically editing the defsystem.  But wouldn't it be more
featureful if it allowed the user to supply the correct spelling, warn
the user that defsystem needs to be edited, finish making the system,
and then go to the appropriate defsystem in zmacs?
24-Aug-83 23:39:06-EDT,2320;000000000000
Return-path: <CAL@MIT-OZ>
Date: Wednesday, 24 August 1983, 23:19-EDT
From: Cliff Lasser <CAL at OZ>
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, Tape 19.2, site configuration 53, on PI Project:

I did a list fonts, then moused 43vxms then tiny then this happened:

>>Error: The negative array dimension -374 is illegal.
While in the function MAKE-ARRAY  FED:FONT-INTO-FONT-DESCRIPTOR  FED:FONT-NAME-FONT-DESCRIPTOR

MAKE-ARRAY:  (P.C. = 325)
   Arg 0 (DIMENSIONS): (6 -374)
   Rest arg (OPTIONS): (:LEADER-LENGTH 6 NAMED-STRUCTURE-SYMBOL FED:CHAR-DESCRIPTOR :TYPE ART-1B)
   Local 2 (AREA): 4
   Local 3 (TYPE): ART-1B
   Local 4 (LEADER-LIST): NIL
   Local 5 (LEADER-LENGTH): 6
   Local 6 (DISPLACED-TO): NIL
   Local 7 (DISPLACED-INDEX-OFFSET): NIL
   Local 8 (NAMED-STRUCTURE-SYMBOL): FED:CHAR-DESCRIPTOR
   Local 9 (DISPATCH): NIL
   Local 10 (N-HEADER-WORDS): NIL
   Local 11 (N-ELEMS): NIL
   Local 12 (ARRAY): NIL
   Local 13 (INDEX-P): NIL
   Local 14 (Q-P): NIL
   Local 15 (N-WORDS): NIL
   Local 16 (N-DIMS): NIL
   Local 17 (TOTAL-SIZE): NIL
   Local 18 (INITIAL-VALUE): NIL
   Local 19 (FILL-POINTER): NIL
   Local 20: (-374)
   Local 21 (DIM): -374

FED:FONT-INTO-FONT-DESCRIPTOR:  (P.C. = 151)
   Arg 0 (FONT): #<FONT TINY 53262257>

FED:FONT-NAME-FONT-DESCRIPTOR:  (P.C. = 22)
   Arg 0 (FONTNAME): FONTS:TINY

FED:FONT-GET-FD:  (P.C. = 7)
   Arg 0 (FONT-SYMBOL): FONTS:TINY

FED:COM-DISPLAY-FONT:  (P.C. = 17)
   Arg 0 (FONT): #<FONT TINY 53262257>
   Arg 1 (WINDOW): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 3024414 exposed>
   Arg 2 (CHARACTER): NIL
   Arg 3 (CLEAR-FIRST-P): NIL
   --Defaulted args:--
   Arg 4 (FED-P): NIL

ZWEI:DISPLAY-FONT:  (P.C. = 15)
   Arg 0 (FONT-SYMBOL): FONTS:TINY

(:INTERNAL ZWEI:PROCESS-SPECIAL-COMMAND 7):  (P.C. = 5)
   Arg 0 (**DEFSELECT-OP**): :TYPEOUT-EXECUTE
   Arg 1 (FUNCTION): ZWEI:DISPLAY-FONT
   Rest arg (ARGS): (FONTS:TINY)

ZWEI:PROCESS-SPECIAL-COMMAND:  (P.C. = 106)
   Arg 0 (OPERATION): :TYPEOUT-EXECUTE
   Rest arg (SELECT-METHOD-ARGS): (ZWEI:DISPLAY-FONT FONTS:TINY)

Rest of stack:
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 156)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
24-Aug-83 23:39:47-EDT,2070;000000000000
Return-path: <CAL@MIT-OZ>
Date: Wednesday, 24 August 1983, 23:25-EDT
From: Cliff Lasser <CAL at OZ>
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, Tape 19.2, site configuration 53, on PI Project:

The font editor is also fuckt

>>Trap: The subscripts given to AS-2, 0 and 41, on #<CHAR-DESCRIPTOR 7721030> were beyond the limits, 
   43 by 41
While in the function FED:FONT-NAME-STORE-CD  (DEFUN-METHOD FED:FONT-STORE-CD)  (METHOD FED:BASIC-FED COM-SAVE-CHARACTER)

FED:FONT-NAME-STORE-CD:  (P.C. = 205)
   Arg 0 (FONTNAME): FONTS:43VXMS
   Arg 1 (CD): #<CHAR-DESCRIPTOR 7721030>
   Arg 2 (CHAR-CODE): 114
   Local 3 (FONT): #<FONT 43VXMS 53270123>
   Local 4 (WIDTH): 41
   Local 5 (HEIGHT): 43
   Local 6 (FD): #<FONT-DESCRIPTOR 7023003>
   Local 7 (CX): 1365
   Local 8 (CW): 41
   Local 9 (ROW): 41
   Local 10: 53
   Local 11 (COL): 0
   Local 12: 41
   Local 13 (FCOL): 1365

(DEFUN-METHOD FED:FONT-STORE-CD):  (P.C. = 364)
   Arg 0 (SELF): #<BASIC-FED-PANE Basic Fed Pane 1 4441220 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FED:BASIC-FED -- 23. IV's, 10. FL's 53542174>
   Arg 2 (FONT): FONTS:43VXMS
   Arg 3 (CHAR): 114
   --Defaulted args:--
   Arg 4 (UPDATE-FONT-FLAG): T

(METHOD FED:BASIC-FED COM-SAVE-CHARACTER):  (P.C. = 21)
   Arg 0 (SELF): #<BASIC-FED-PANE Basic Fed Pane 1 4441220 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FED:BASIC-FED -- 23. IV's, 10. FL's 53542174>
   Arg 2 (OPERATION): COM-SAVE-CHARACTER
   Arg 3 (IGNORE): (MENU ("Save Char" VALUE COM-SAVE-CHARACTER DOCUMENTATION "Make edits to this character permanent.") 1 #<COMMAND-MENU-PANE Command Menu Pane 8 4442464 exposed>)

(METHOD FED COMMAND-LOOP):  (P.C. = 423)
   Arg 0 (SELF): #<FED Fed 1 4441112 deexposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FED -- 16. IV's, 15. FL's 61630427>
   Arg 2 (OPERATION): COMMAND-LOOP

FED:FED-TOP-LEVEL:  (P.C. = 73)
   Arg 0 (WINDOW): #<FED Fed 1 4441112 deexposed>

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
25-Aug-83 09:11:46-EDT,1446;000000000000
Return-path: <BSG@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Thu 25-Aug-83 09:06:47-EDT
Date: Thursday, 25 August 1983, 09:04-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: 3600 FED in Release 4.
To: CAL@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 24 Aug 83 23:19-EDT from Cliff Lasser <CAL at OZ>

    Date: Wednesday, 24 August 1983, 23:19-EDT
    From: Cliff Lasser <CAL at OZ>
    In System 222.249, Zmail 74.46, Tape 19.2, site configuration 53, on PI Project:

    I did a list fonts, then moused 43vxms then tiny then this happened:

    >>Error: The negative array dimension -374 is illegal.
    While in the function MAKE-ARRAY  FED:FONT-INTO-FONT-DESCRIPTOR  FED:FONT-NAME-FONT-DESCRIPTOR
    Date: Wednesday, 24 August 1983, 23:25-EDT
    From: Cliff Lasser <CAL at OZ>
    To: BUG-LISPM at OZ

    In System 222.249, Zmail 74.46, Tape 19.2, site configuration 53, on PI Project:

    The font editor is also fuckt

    >>Trap: The subscripts given to AS-2, 0 and 41, on #<CHAR-DESCRIPTOR 7721030> were beyond the limits, 
       43 by 41
    While in the function FED:FONT-NAME-STORE-CD  (DEFUN-METHOD FED:FONT-STORE-CD) 

That's right, 3600 FED is completely fukt in Release 4, and is
documented as such in the Release notes.  Wait exactly one week, or
maybe less, and Release 4.5, which claims to fix 3600 FED in all known
ways, will be on your doorstep.
26-Aug-83 18:47:09-EDT,317;000000000000
Return-path: <RMS@MIT-OZ>
Mail-From: RMS created at 26-Aug-83 18:19:33
Date: 26 Aug 1983 1819-EDT
From: RMS@MIT-OZ
Subject: Window system manual
To: info-lispm-mit@MIT-OZ

Copies of the window system manual are now available near room 818,
or by mail from the publications department of the AI lab.
-------
26-Aug-83 21:55:38-EDT,437;000000000000
Return-path: <KMP@MIT-OZ>
Mail-From: KMP created at 26-Aug-83 21:36:59
Date: Friday, August 26, 1983 9:37PM-EDT
From: Kent M. Pitman <KMP@MIT-OZ>
Subject: compile-uncompiled-patches
To: bug-lispm at MIT-OZ

There is a problem with COMPILE-UNCOMPILED-PATCHES that it does not load
the patches it compiles before offering to compile the next. Many patches
rely on previous patches in order (eg, for macro or other data support).
27-Aug-83 00:44:11-EDT,1564;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Saturday, 27 August 1983, 00:44-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
To: BUG-LISPM at OZ

In HARDWARE in System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.40,
site configuration 73, on Lisp Machine Boo Boo:

I aborted out of an error (dividing by nil) after having looked at some things
with the editor when it halted.

Machine being debugged is MIT-YOGI.
Bus-interface errors since last reset:
  Unibus non-existent device
  UnibusXbus map error: invalid or write-protect
The running microcode is version 979.
Microcode halted via ILLOP from GET-MAP-BITS+12
The running microcode is version 979.
Micro PC History (OPC's), oldest first:
   22026   (XRGN1 7)
   22027   (XRGN1 10)
   05650   CDR-IS-NIL
   05651   (XFALSE 1)
   20753   (GET-MAP-BITS 12)
   20754   (GET-MAP-BITS 13)
   00361   ILLOP
   00362   TRAP-NO-VMA
Backtrace of microcode subroutine stack:
    3  016100   (TRANS-OLD0 2)
    2  024116   (XTHRW6 3)
    1  004224   (XTHRW1B 15)
    0  040170   QMLP
Current stack group is: <Stack Group Spire>
Current process is: #<DTP-INSTANCE 27710066>"Spire"
Complete backtrace follows: (type Space to stop)

11160326 5[5]
11160316 23[5] 345 0 3 5 10 5 15 5 #<DTP-LOCATIVE 0> 15 345 5 46114 200234 6416 #<DTP-FEF-POINTER FH-STREAM-BINDING-EVALER 10510310> (APPLY (QUOTE #<DTP-INSTANCE 30006716>) (QUOTE (PROCEED GROW-PDL))) NIL
11160306 0[23] 1 0 14000001 5 14000010 5 #<DTP-LOCATIVE 22311304> 23 345 0 3 5 10 5 15 5 #<DTP-LOCATIVE 0> 15
11160002 5[6025]

27-Aug-83 01:22:29-EDT,6066;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Saturday, 27 August 1983, 01:04-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: More on my previous problem
To: BUG-LISPM at OZ

In HARDWARE in System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.40,
site configuration 73, on Lisp Machine Boo Boo:

After sending in the last error, I saved my buffers with CC and warm-booted
Yogi with CC.  It got to the part where it says it has warm booted after
printing the herald when it again died.  An additional warm boot revived
things.  I assume this is related to the first problem, since the backtrace
is of the stack that got the error.

Machine being debugged is MIT-YOGI.
Bus-interface errors since last reset:
  Unibus non-existent device
The running microcode is version 979.
Microcode halted via ILLOP from QMMPO2+5
The running microcode is version 979.
Micro PC History (OPC's), oldest first:
   03467   (QMMPO2 1)
   03470   (QMMPO2 2)
   03471   (QMMPO2 3)
   03472   (QMMPO2 4)
   03473   (QMMPO2 5)
   03474   (QMMPO2 6)
   00361   ILLOP
   00362   TRAP-NO-VMA
Backtrace of microcode subroutine stack:
    1  030466   (XSYME2 2)
    0  040170   QMLP
Halted due to bad data type: MD/ 6734030466   FLAG-BIT INSTANCE 34030466 
	VMA/ 27710356  Area # = 37 WORKING-STORAGE-AREA

  from microcode:
(QMMPO2 4)/  ( (M-TEM ) LDB (BYTE-FIELD 5 30) MD A-ZERO )   
(QMMPO2 5)/  (CALL-NOT-EQUAL M-TEM 670@A[5] ILLOP )   
Current stack group is: <Stack Group Spire>
Current process is: #<DTP-INSTANCE 27710066>"Spire"
Complete backtrace follows: (type Space to stop)

11156733 #<DTP-FEF-POINTER SG-UNWIND 10507726>[135] <Stack Group DEBUGGER-SG-2> T NIL NIL <Stack Group Spire> CALL
11156722 #<DTP-FEF-POINTER UNWIND-SG 10507430>[77] <Stack Group DEBUGGER-SG-2> <Stack Group Spire> NIL NIL
11156711 #<DTP-FEF-POINTER FREE-DEBUGGER-SG 10510575>[75] <Stack Group DEBUGGER-SG-2>
11156664 #<DTP-FEF-POINTER FH-APPLIER 10510007>[155] #<DTP-CLOSURE 11155632> (HANDLE-CONDITION #<DTP-INSTANCE 34030466> #<DTP-LOCATIVE 11155635>) (ED) T (DESCRIBE *) #<DTP-INSTANCE 20557333> SELF #<DTP-INSTANCE 20557333> #<DTP-LOCATIVE 11156316> <Stack Group DEBUGGER-SG-2> NIL
11156550 #<DTP-FEF-POINTER FOOTHOLD 10506025>[20]
11156544 <Stack Group DEBUGGER-SG-2>[31575]
11156534 #<DTP-FEF-POINTER ENTER-DEBUGGER 10510642>[47] #<DTP-INSTANCE 34030466>
11156525 #<DTP-FEF-POINTER DEBUGGER-HANDLER-HANDLE-CONDITION 10463400>[32] HANDLE-CONDITION #<DTP-INSTANCE 34030466> #<DTP-LOCATIVE 14035433>
11156507 #<DTP-FEF-POINTER (METHOD CONDITION SIGNAL) 10462354>[145] SIGNAL T
11156461 #<DTP-FEF-POINTER (METHOD CONDITION COMBINED SIGNAL) 10521710>[66] SIGNAL T
11156453 #<DTP-FEF-POINTER SIGNAL 10461002>[30] #<DTP-INSTANCE 34030466>
11156442 #<DTP-FEF-POINTER SIGNAL-TRAP 10521550>[31] #<DTP-INSTANCE 34030466>
11156326 #<DTP-FEF-POINTER FOOTHOLD 10506025>[20]
11156316 #<DTP-FEF-POINTER (METHOD OVERLAY PIXEL-X-VALUE) 30151036>[43] PIXEL-X-VALUE 0
11156271 #<DTP-FEF-POINTER (METHOD DISPLAY DRAW-LABEL) 30157162>[160] DRAW-LABEL
11156257 #<DTP-FEF-POINTER (METHOD DISPLAY REDISPLAY-PLOTS) 30160576>[123] REDISPLAY-PLOTS T
11156246 #<DTP-FEF-POINTER (METHOD DISPLAY AFTER REFRESH) 30160420>[74] REFRESH COMPLETE-REDISPLAY
11156233 #<DTP-FEF-POINTER (METHOD DISPLAY COMBINED REFRESH) 30171150>[74] REFRESH COMPLETE-REDISPLAY
11156102 #<DTP-FEF-POINTER MAKE-WINDOW 10310101>[256] DISPLAY MOUSE-CURSOR (CURSOR-PLOT CURSOR-NAME CURSOR-TIME DECIMAL-PLACES 4 SHOW-VALUES? T) MOUSE-MARKER (CURSOR-PLOT CURSOR-NAME MARKER-TIME DRAW-METHOD DRAW-MARKER) MOUSE-OVERLAY (SPECTRAL-LINE-OVERLAY DECIMAL-PLACES 3 VALUE-NAME "Wide-Band Spectral Slice") TOP-VALUE #<DTP-EXTENDED-NUMBER 23214730> X-AXIS-LOCATION #<DTP-EXTENDED-NUMBER 23214732> SUPERIOR #<DTP-INSTANCE 20555011> EDGES (350 1305 1140 1522)
11156066 #<DTP-FEF-POINTER SPECTRAL-SLICE-ATTRIBUTE-WINDOW 30164630>[560] (NIL SUPERIOR #<DTP-INSTANCE 20555011> EDGES (350 1305 1140 1522))
11156031 #<DTP-FEF-POINTER MAKE-ATTRIBUTE-WINDOW 30162230>[447] #<ATT #<DTP-INSTANCE 34020416> 34020410> #<DTP-INSTANCE 20555011> (350 1305 1140 1522) NIL
11156021 #<DTP-FEF-POINTER CREATE-ATTRIBUTE-WINDOW 30171107>[75]
11156011 #<DTP-FEF-POINTER (METHOD MENU-EXECUTE-MIXIN EXECUTE) 23747531>[106] EXECUTE ("Create Display Window" FUNCALL CREATE-ATTRIBUTE-WINDOW DOCUMENTATION "Click any button, then select attribute to display and corner positions for new window.")
11156001 #<DTP-FEF-POINTER (METHOD MOMENTARY-MENU COMBINED EXECUTE) 7714537>[47] EXECUTE ("Create Display Window" FUNCALL CREATE-ATTRIBUTE-WINDOW DOCUMENTATION "Click any button, then select attribute to display and corner positions for new window.")
11155774 #<DTP-FEF-POINTER (METHOD BASIC-MENU CHOOSE) 7707745>[54] CHOOSE
11155754 #<DTP-FEF-POINTER (METHOD DYNAMIC-MOMENTARY-WINDOW-HACKING-MENU COMBINED CHOOSE) 7717264>[104] CHOOSE
11155750 #<DTP-FEF-POINTER EDIT-LAYOUT 30162123>[26]
11155744 #<DTP-FEF-POINTER EDIT-LAYOUT 30162123>[30]
11155740 #<DTP-FEF-POINTER EDIT-LAYOUT 30162123>[30]
11155730 #<DTP-FEF-POINTER (METHOD MENU-EXECUTE-MIXIN EXECUTE) 23747531>[106] EXECUTE ("Edit Layout" FUNCALL EDIT-LAYOUT DOCUMENTATION "Modify the current layout. A menu will appear.")
11155720 #<DTP-FEF-POINTER (METHOD MOMENTARY-MENU COMBINED EXECUTE) 7714537>[47] EXECUTE ("Edit Layout" FUNCALL EDIT-LAYOUT DOCUMENTATION "Modify the current layout. A menu will appear.")
11155713 #<DTP-FEF-POINTER (METHOD BASIC-MENU CHOOSE) 7707745>[54] CHOOSE
11155673 #<DTP-FEF-POINTER (METHOD DYNAMIC-MOMENTARY-WINDOW-HACKING-MENU COMBINED CHOOSE) 7717264>[104] CHOOSE
11155666 #<DTP-FEF-POINTER (INTERNAL (PROPERTY SPIRE-MENU SPIRE-COMMAND) 0) 30163455>[24] (#<DTP-INSTANCE 20555626> 541 107 100002)
11155653 #<DTP-FEF-POINTER (METHOD TOP-LEVEL-SPIRE COMMAND-LOOP) 30147064>[141] COMMAND-LOOP
11155614 #<DTP-FEF-POINTER (METHOD TOP-LEVEL-SPIRE INSPIRE) 30146755>[202] INSPIRE
11155610 #<DTP-FEF-POINTER SPIRE-TOP-LEVEL 30146477>[73]
11155540 #<DTP-FEF-POINTER PROCESS-TOP-LEVEL 10452646>[125]

BOUND-LOC-POINTER-NOT-LOCATIVE 
27-Aug-83 02:26:06-EDT,5456;000000000000
Return-path: <s.barmar@MIT-EECS>
Date: Saturday, 27 August 1983, 02:03-EDT
From: Barry Margolin <s.barmar at MIT-EECS>
Subject: Error logging into PTR to check patches
To: BUG-LISPM at OZ

In Release 4.0, Experimental Macsyma 6.13, site configuration 12, on Zarniwoop:

I was checking to see if there were any patches to the Macsyma system
while logging into EE.  I hate to bother you with such an ancient
system, but it's what I've got.  This never used to happen in 218.

>>Error: Directory names may not have versions or types: >S.BARMAR>
While in the function (METHOD FS:LMFS-PATHNAME-MIXIN PARSE-NAMESTRING)  FS:PARSE-PATHNAME  (METHOD FS:FILE-HOST-LISPM-MIXIN HSNAME-INFORMATION)


(METHOD FS:LMFS-PATHNAME-MIXIN PARSE-NAMESTRING): (P.C. = 256)
 (SELF = #<LMFS-PATHNAME "PTR:">)
 Arg 0 (OPERATION): PARSE-NAMESTRING
 Arg 1 (IGNORE): NIL
 Arg 2 (NAMESTRING): ">S.BARMAR>"
 Arg 3 (START): 0
 Arg 4 (END): 12
 Local 0 (VDINDEX): 2
 Local 1 (TDINDEX): 2
 Local 2 (PDINDEX): 11
 Local 3 (APDINDEX): 11
 Local 4 (VSTART): NIL
 Local 5 (T-DIR): NIL
 Local 6 (T-NAME): NIL
 Local 7 (T-TYPE): NIL
 Local 8 (T-VERSION): NIL


(METHOD FS:LMFS-PATHNAME-MIXIN PARSE-NAMESTRING):  (P.C. = 256)
   (SELF = #<LMFS-PATHNAME "PTR:">)
   Arg 0 (OPERATION): PARSE-NAMESTRING
   Arg 1 (IGNORE): NIL
   Arg 2 (NAMESTRING): ">S.BARMAR>"
   Arg 3 (START): 0
   Arg 4 (END): 12

FS:PARSE-PATHNAME:  (P.C. = 365)
   Arg 0 (THING): ">S.BARMAR>"
   Arg 1 (WITH-RESPECT-TO): #<LISPM-CHAOS-HOST SCRC-POINTER>
   --Defaulted args:--
   Arg 2 (DEFAULTS): ((#<TOPS20-CHAOS-HOST MIT-EECS> . #<TOPS20-PATHNAME "EE:PS:<S.BARMAR>FOO.LISP">) (#<ITS-CHAOS-HOST MIT-MC> . #<ITS-PATHNAME "MC: JIM; FOO >">) (#<TOPS20-CHAOS-HOST MIT-OZ> . #<TOPS20-PATHNAME "OZ:PS:<LISPM>FOO.LISP">) (NIL . #<TOPS20-PATHNAME "EE:PS:<S.BARMAR>FOO.LISP">))

(METHOD FS:FILE-HOST-LISPM-MIXIN HSNAME-INFORMATION):  (P.C. = 126)
   (SELF = #<LISPM-CHAOS-HOST SCRC-POINTER>)
   Arg 0 (OPERATION): HSNAME-INFORMATION
   Arg 1 (IGNORE): #<HOST-UNIT 22466332>
   Arg 2 (STR): " LOGIN s.barmar 
>S.BARMAR>
"
   Arg 3 (IDX): 21

FS:LOGIN-HOST-UNIT:  (P.C. = 362)
   Arg 0 (UNIT): #<HOST-UNIT 22466332>
   Arg 1 (LOGIN-P): T
   Arg 2 (CONDITION): NIL

(METHOD FS:FILE-HOST-MIXIN LOGIN-UNIT):  (P.C. = 24)
   (SELF = #<LISPM-CHAOS-HOST SCRC-POINTER>)
   Arg 0 (OPERATION): LOGIN-UNIT
   Arg 1 (UNIT): #<HOST-UNIT 22466332>
   Arg 2 (LOGIN-P): T
   --Defaulted args:--
   Arg 3 (CONDITION): NIL

(METHOD FS:LISPM-CHAOS-HOST COMBINED LOGIN-UNIT):  (P.C. = 42)
   (SELF = #<LISPM-CHAOS-HOST SCRC-POINTER>)
   Rest arg (.DAEMON-CALLER-ARGS.): (LOGIN-UNIT #<HOST-UNIT 22466332> T)

(METHOD FS:HOST-UNIT VALIDATE-CONTROL-CONNECTION):  (P.C. = 233)
   (SELF = #<HOST-UNIT 22466332>)
   Arg 0 (OPERATION): VALIDATE-CONTROL-CONNECTION
   Arg 1 (NO-ERROR-P): T

(METHOD FS:FILE-HOST-MIXIN GET-DATA-CONNECTION):  (P.C. = 47)
   (SELF = #<LISPM-CHAOS-HOST SCRC-POINTER>)
   Arg 0 (OPERATION): GET-DATA-CONNECTION
   Arg 1 (DIRECTION): INPUT

FS:OPEN-CHAOS:  (P.C. = 436)
   Arg 0 (HOST): #<LISPM-CHAOS-HOST SCRC-POINTER>
   Arg 1 (*COMMAND-PATHNAME*): #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">
   Arg 2 (OPTIONS): NIL

(METHOD FS:CHAOS-PATHNAME OPEN):  (P.C. = 26)
   (SELF = #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">)
   Arg 0 (OPERATION): OPEN
   Arg 1 (PATHNAME): #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">
   Rest arg (OPTIONS): NIL

(INTERNAL (METHOD FS:LMFS-PATHNAME COMBINED OPEN) 0):  (P.C. = 44)
   (SELF = #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">)
   Arg 0 (SELF-MAPPING-TABLE): FS:CHAOS-PATHNAME
   Rest arg (.DAEMON-CALLER-ARGS.): (OPEN #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">)

(METHOD FS:LOCAL-LMFS-PATHNAME-MIXIN WHOPPER OPEN):  (P.C. = 70)
   (SELF = #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">)
   Arg 0 (.WHOPPER-CONTINUATION.): #<DTP-FEF-POINTER (INTERNAL (METHOD FS:LMFS-PATHNAME COMBINED OPEN) 0) 11125132>
   Arg 1 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor FS:LMFS-PATHNAME -- 4. IV's, 13. FL's 16776041>
   Arg 2 (SELF-MAPPING-TABLE): #<Map to flavor FS:LOCAL-LMFS-PATHNAME-MIXIN -- 5. IV's, 2. FL's 2431331>
   Arg 3 (.OPERATION.): OPEN
   Arg 4 (PATH): #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">
   Rest arg (ARGS): NIL

(METHOD FS:LMFS-PATHNAME COMBINED OPEN):  (P.C. = 36)
   (SELF = #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">)
   Rest arg (.DAEMON-CALLER-ARGS.): (OPEN #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">)

OPEN:  (P.C. = 375)
   Arg 0 (PATHNAME): #<LMFS-PATHNAME "PTR:>MACSYMA>PATCHES>Macsyma-6.patch-dir">
   Rest arg (KEYWORD-ARGS): NIL

SI:READ-PATCH-DIRECTORY:  (P.C. = 134)
   Arg 0 (PATCH): ("Macsyma" 6 EXPERIMENTAL ((15 "Fix so that several Macsyma special forms can be
found with  meta-." "jim") (14 "Make sure MBIND'ings get undone when error is signalled." "jim") (13 "Bug in BIGLSH, assumed Bfloatness was symmetrical around
zero." "jim") (12 "Add Macsyma TRACE." "jim") (11 "Macsyma function spec decoding bug." "jim") (10 "Fix bug to MAPPLY." "jim") (7 "Add WITHOUT-TYY-INTERRUPTS and make MBIND use it." "jim") (6 "Fix bug in sratexpnd." "jim") (5 "Make DEMO mode look for ^L." "jim") (4 "Add a little finesse to entering the Debugger." "jim") ...))
   --Defaulted args:--
   Arg 1 (NOERROR): NIL
27-Aug-83 02:26:39-EDT,401;000000000000
Return-path: <s.barmar@MIT-EECS>
Date: Saturday, 27 August 1983, 02:10-EDT
From: Margolin@MIT-Multics
Sender: s.barmar@MIT-EECS
Subject: Addendum to previous message
To: BUG-LISPM@MIT-OZ

In Release 4.0, Experimental Macsyma 6.13, site configuration 12, on Zarniwoop:

Regarding my previous message about being unable to login to PTR, it
worked when I selected S-A "Retry OPEN of PTR:...".
27-Aug-83 17:30:17-EDT,3358;000000000000
Return-path: <KMP@MIT-OZ>
Mail-From: KMP created at 27-Aug-83 17:28:35
Date: 27 Aug 1983 1728-EDT
From: KMP@MIT-OZ
Subject: Problems with Add Patch, etc.
To: bug-lispm@MIT-OZ

Here's a report I just got from Dick about some patches he recently 
made to the KBE...

    Date: Tuesday, 23 August 1983, 19:29-EDT
    From: Richard C. Waters <DICK@MIT-OZ>
    Re:   compile-uncompiled-patches won't work for patches 18 -> 22
    To:   BUG-KBE@MIT-OZ

    In band 8 (Hacked Magic) with microcode 979 on PA Lisp Machine Avatar,
    using KBE 214.25 in Release 4.3, System 222.249 ...

    You can compile 18, but you must load it before you can compile any other
    patches.

    patch 22 cannot be compiled even if all other patches are loaded.

    you have to read it into a buffer and compile the functions in it
    before the cliches in it can be defined. Make sure
    you get the fns defined in the kbe package, not the user package.

    I suggest just recompiling the whole system before trying to 
    run it on the 3600.

The obvious problems he had are:

* COMPILE-UNCOMPILED-PATCHES doesn't load patches as it goes.
  I reported this yesterday under separate cover.

* When patches are added to the patch buffer, they are not added
  in order of macro dependencies, etc. I have previously reported this
  about Add Patch Changed Definitions {of Buffer} but it hadn't occurred
  to me that this is actually a general problem even for Add Patch. I
  am sufficiently used to worrying about this issue because of how I do
  Add Patch (adding each patch as I make it) and I'd not really realized
  that other users use it differently (eg, Dick just tosses everything into
  a patch when he's done testing a whole patch). 

  I suspect that it's not easy to make Add Patch have the flexibility
  of letting you write arbitrary stuff in arbitrary orders in patch files
  while at the same time telling you when you're likely to be screwing
  yourself, but although it's not easy, I think it can probably be done
  if someone is willing to think about it awhile. Perhaps I will think 
  about it sometime but I'm presenting the issue in case someone has time
  first. 

  The kind of thing I'm proposing is for Add Patch to say things like:

    Warning: Adding a patch for the macro FOO. You have already patched the
    function BAR, which is in a file (XYZ.LISP) that has a compile dependency
    on FOO's source file (ABC.LISP). Do you want the patch for FOO to precede
    the patch for BAR? (Y or N)

  or for Add Patch to say

    Warning: Adding a patch for the function FOO, but you have already
    patched the function FOO. Do you want this patch instead or should the
    patch file contain two (possibly redundant) definitions for FOO?

  The latter case didn't happen in the above situation but is clearly the
  sort of thing that should go in at the same time.

* Finally, Dick's comment in the above note about "Make sure you get the fns
  defined in the KBE package, not the user package" seems to indicate that
  he's been bitten at least once by sectionization lossage where c-sh-C and
  such find the function in the wrong package. I've reported this before of
  course; I just thought I'd point out that it's apparently not just me that
  this strikes.
-------
27-Aug-83 17:44:30-EDT,3673;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Saturday, 27 August 1983, 17:42-EDT
From: Gavan Duffy <GAVAN at OZ>
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, Tape 19.2, site configuration 73, on PI Project:

While looking for a font with which I could read the parantheses inside
my code on a machine whose console sorely needs adjustment, I tried to
set the font to something random (this time TOG), the console flashed, a
horizontal black streak was displayed (permanently?) across the screen.
and I got this message.

>>Trap: Some argument to SYS:%BITBLT-LONG-ROW was not a fixnum.
While in the function SYS:%DRAW-CHAR  (:METHOD TV:SHEET :EDITOR-LINE-OUT)  ZWEI:REDISPLAY

SYS:%DRAW-CHAR:  (P.C. = 430)
   Arg 0 (FONT): #<FONT TOG 53310242>
   Arg 1 (CHAR): 69.
   Arg 2 (X): 693.
   Arg 3 (Y): 2.
   Arg 4 (ALU): 7.
   Arg 5 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Local 6 (IGNORE): NIL
   Local 7 (IGNORE): NIL
   Local 8 (IGNORE): NIL
   Local 9 (BB-WIDTH): 64160.
   Local 10 (BB-S-DATA-ADDR): #<DTP-LOCATIVE 53310264>
   Local 11 (BB-S-ROW-OFFSET): 140.
   Local 12 (BB-S-OFFSET): 5.
   Local 13 (BB-S-BITPOS): 0.
   Local 14 (BB-S-ROW-LENGTH): 5.
   Local 15 (BB-D-DATA-ADDR): 256117080.
   Local 16 (BB-D-OFFSET): 1161.
   Local 17 (BB-D-BITPOS): 22.
   Local 18 (BB-EVENT-COUNT): 2759.
   Local 19 (BB-ALU-OPERATION): 7.
   Local 20 (S-BEG-ADDR): #<DTP-LOCATIVE 53310264>
   Local 21 (S-BEG-BITPOS): 0.
   Local 22 (S-ROW-LENGTH): 5.
   Local 23 (S-HEIGHT): 29.
   Local 24 (S-BITS-PER-ELT): 0.
   Local 25 (D-BEG-ADDR): 256117080.
   Local 26 (D-BEG-BITPOS): 1.
   Local 27 (D-ROW-LENGTH): 38.
   Local 28 (D-HEIGHT): 684.
   Local 29 (D-BITS-PER-ELT): 0.
   Local 30 (S-ROW-BITPOS): 0.
   Local 31 (S-ROW-OFFSET): 5.
   Local 32 (S-ROW): 0.
   Local 33 (D-ROW-BITPOS): 22.
   Local 34 (D-ROW-OFFSET): 21.
   Local 35 (D-ROW): 2.
   Local 36 (SHORT-ROW): NIL
   Local 37 (CET): #<ART-1B-128. 53310505>
   Local 38 (CX): 160.
   Local 39 (CY): 0.
   Local 40 (CW): 64160.
   Local 41 (CH): 29.
   Local 42 (FIT): #<ART-16B-129. 53310512>
   Local 43 (TEM): 653.
   Local 44: 0.
   Local 45 (S-ROW-ADDR-OFFSET): 140.
   Local 46: 5.
   Local 47 (D-ADDR-OFFSET): 1161.

(:METHOD TV:SHEET :EDITOR-LINE-OUT):  (P.C. = 420)
   Arg 0 (SELF): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Arg 1 (SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (OPERATION): :EDITOR-LINE-OUT
   Arg 3 (STRING): "	     (COND ((AND INDIRECTION (EQ PART 'VB)"
   Arg 4 (START): 0.
   Arg 5 (END): 43.
   Arg 6 (SET-XPOS): 0.
   Arg 7 (SET-YPOS): 0.
   --Defaulted args:--
   Arg 8 (DWIDTH): NIL

ZWEI:REDISPLAY:  (P.C. = 1217)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 36)
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): NIL

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 163)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
27-Aug-83 20:57:25-EDT,1432;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS; Sat 27-Aug-83 20:53:13-EDT
Date: Saturday, 27 August 1983, 20:46-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Problems with Add Patch, etc.
To: KMP@MIT-OZ
Cc: bug-lispm@MIT-OZ
In-reply-to: The message of 27 Aug 83 17:28-EDT from KMP at OZ

I think that compile-uncompiled-patches was written with the assumption that the
person running it knows what they're doing and understands the patch; typically
it's supposed to be the person who wrote the patch originally.

Your points about the patch system are well taken, except that the patch system
isn't trying to be a programmer's assistant (or apprentice), which is what you're
really asking it to be.  That would be a good thing to work on; probably you
would end up with something rather different from the present patch system, since
(as you point out) it's not easy to, er, patch the patch system to provide such
features.

Actually m-x Add Patch Changed Definitions [of Buffer] works pretty well for me.
It certainly doesn't make it unnecessary to think about the order of putting
things in patch files, and it doesn't make it unnecessary to reboot and test a
patch file in a clean environment before being 100% sure of it, but it does ease
some of the pain.  I think the version in Release 4 is from before the time when
I fixed the myriad bugs in it, though.
28-Aug-83 06:56:59-EDT,2892;000000000000
Return-path: <LMFile@MIT-OZ>
Date: Sunday, 28 August 1983, 05:37-EDT
From:  <LMFile@MIT-OZ>
Subject: lossage in dumping FC
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.41, ZMail 50.17,
Experimental Local-File 44.3, FILE-Server 6.6, MagTape 14.4,
Experimental LFS 2.3, microcode 238, FC, on Lisp Machine Filecomputer:

Insert your description of the circumstances here:
while doing a full dump of FC. finished 4 tapes. the fifth one was being written
on and was almost full; apparently died while dumping FS:RUP\loader#2, but i 
doubt the particular file is important.

>>TRAP 4750 (VIRTUAL-MEMORY-OVERFLOW)
You've used up all available virtual memory!
Backtrace from the debugger:

SI:SIMPLE-MAKE-ARRAY (P.C. = 417)

 Arg 0 (DIMENSIONS): 3720
 Arg 1 (TYPE): 4
 Arg 2 (AREA): 36
 Arg 3 (LEADER-LENGTH): 1
   --Defaulted args:--
 Arg 4 (INITIAL-VALUE): NIL
Local 0 (INITIAL-VALUE-P): NIL
Local 1 (DATA-LENGTH): 764
Local 2 (LONG-ARRAY-P): T
Local 3 (ARRAY): NIL
Local 4 (ENTRIES-PER-Q): 4
Local 5 (HEADER-WORD): 10414000


GET-FC-CS-BFR (P.C. = 50)



SI:*EVAL (P.C. = 1234)

 Arg 0 (FORM): (GET-FC-CS-BFR)
Local 0 (ARGNUM): 0
Local 1 (FCTN): #<DTP-FEF-POINTER GET-FC-CS-BFR 4701642>
Local 2 (ARG-DESC): 0
Local 3 (NUM-ARGS): 0
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10: NIL
Local 11: NIL
Local 12 (IGNORE): NIL
Local 13 (ADL): NIL
Local 14 (ITEM): NIL
Local 15 (*SELECTQ-ITEM*): NIL


INSTANTIATE-FLAVOR (P.C. = 314)

 Arg 0 (FLAVOR-NAME): FC-LISPM-INPUT-STREAM
 Arg 1 (INIT-PLIST): #<DTP-LOCATIVE 177755>
 Arg 2 (SEND-INIT-MESSAGE-P): T
   --Defaulted args:--
 Arg 3 (RETURN-UNHANDLED-KEYWORDS-P): NIL
 Arg 4 (AREA-TO-CONS-INSTANCE-IN): NIL
Local 0 (FL): #<FLAVOR FC-LISPM-INPUT-STREAM 30420206>
Local 1 (UNHANDLED-KEYWORDS): NIL
Local 2 (INSTANCE): #<FC-LISPM-INPUT-STREAM "NIL" -1200302>
Local 3 (VARS): (FACTOR SI:INPUT-POINTER-BASE SI:STREAM-INPUT-LOWER-LIMIT SI:STREAM-INPUT-BUFFER ...)
Local 4 (NEW-PLIST): NIL
Local 5 (V): NIL
Local 6 (I): 24
Local 7 (VAR-KEYWORDS): (NIL NIL NIL NIL ...)
Local 8 (REMAINING-KEYWORDS): NIL
Local 9 (PL): NIL
Local 10 (INDEX): 22
Local 11: ((11 **) (10 0) (7 0) (4 NIL) ...)
Local 12 (D): (11 (GET-FC-CS-BFR))


MAKE-INSTANCE (P.C. = 24)

 Arg 0 (FLAVOR-NAME): FC-LISPM-INPUT-STREAM
 Rest arg (INIT-OPTIONS): (:BYTE-SIZE 10 :NODE #<TEXT-NODE-ENTITY RUP\loader#2 -3261225> ...)


Remainder of stack:

(:INTERNAL (:METHOD NODE :TAPE-DUMP) 0) (P.C. = 71)
DUMP-FILE (P.C. = 106)
(:METHOD NODE :TAPE-DUMP) (P.C. = 31)
NODE-ENCAPSULATION (P.C. = 171)
DUMP-ONE-TAPE (P.C. = 355)
DUMP-FILE-SYSTEM (P.C. = 141)
SI:*EVAL (P.C. = 1234)
SI:EVAL-ABORT-TRIVIAL-ERRORS (P.C. = 44)
SI:LISP-TOP-LEVEL1 (P.C. = 254)
SI:LISP-TOP-LEVEL (P.C. = 35)
28-Aug-83 14:44:05-EDT,2079;000000000000
Return-path: <KMP@MIT-MC>
Date: 28 August 1983 14:45 EDT
From: Kent M. Pitman <KMP @ MIT-MC>
Subject:  Customization
To: BUG-LISPM @ MIT-MC

By the way, I sometimes wish there were some optional way when 
customizing various kinds of environments to declare what I expect
to be altering and to be informed when the defaults change.

For example, I still use my own DEFINE-SYSTEM-KEY macro rather than the
system-provided TV:ADD-SYSTEM-KEY or whatever it's called. There are two
reasons. The first has nothing to do with this bug report -- it's a
DEF-form and I find that attractive visually. The second, however, is
that I can specify whether I want to be warned if I am clobbering
something already present. For example, I know that when I redefine
System E in the KBE band, I will be clobbering the editor. On the other
hand, when I redefine System A, I don't expect to be clobbering anything
so I ask DEFINE-SYSTEM-KEY to warn me if something is already there.

In fact, the right approach is probably not boolean but rather for me to
specify what I think is already there. That way, if System E later
changed to be something different, I might get notification that I was
clobbering a different thing than I was expecting to clobber.

The same argument applies to SET-COMTAB. This has struck me more in 
Emacs because my Emacs was more heavily customized than my ZWEI is yet, but
let's just imagine. In my dumped Emacs on MC, I redefine huge numbers of
keys. This has the disadvantage that if an Emacs designer decides to add
a new feature or key arrangement, I won't see it. I might like to at least
be warned of its existence so that I can contemplate shuffling my key bindings
around to take advantage of it... 

Not all users would want this, so it would have to at least be optional. I'm
not even sure a single user would want to do this uniformly ...

Anyway, it's something to think about. One advantage of customization is
stability, but one disadvantage of stability is that you can be isolated
from new and interesting ideas.
28-Aug-83 15:26:03-EDT,415;000000000000
Return-path: <CARLF@MIT-OZ>
Date: Sunday, 28 August 1983, 15:06-EDT
From: Carl Richard Feynman <CARLF@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Four:

This machine does not know that pig: is a host.  When I ask to
see a directory on pig: it tells me there is no such device as oz:pig:.

				--carlf28-Aug-83 15:59:53-EDT,1048;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS; Sun 28-Aug-83 16:01:23-EDT
Date: Sunday, 28 August 1983, 15:55-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
To: CARLF@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 28 Aug 83 15:06-EDT from Carl Richard Feynman <CARLF at OZ>

    Date: Sunday, 28 August 1983, 15:06-EDT
    From: Carl Richard Feynman <CARLF@MIT-OZ>
    In MIT-Specific 19.5, System 94.39, ZMail 50.17,
    Experimental Local-File 44.3, microcode 239, gc@34,
    on Lisp Machine Four:

    This machine does not know that pig: is a host.  When I ask to
    see a directory on pig: it tells me there is no such device as oz:pig:.

If what you say is true, then (si:parse-host "PIG") gives an error.  If
what you meant is "This machine does not know that pig is a file
computer" then once again:

(1)	(fs:add-chaosnet-file-computer "PIG") until you (or somebody)
(2)	Fix the System 94 site files and do (si:recompile-site-files)
	  and (si:update-site-configuration-info)
29-Aug-83 01:37:19-EDT,3372;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Monday, 29 August 1983, 01:06-EDT
From: Gavan Duffy <GAVAN@MIT-OZ>
Subject: more font lossage
To: BUG-LISPM@MIT-OZ

In Release 4.4, site configuration 74, on Lisp Machine Apiary-5:

This is what happens when you try to set the current font to abacus.

>>Trap: Some argument to SYS:%BITBLT-LONG-ROW was not a fixnum.
While in the function SYS:%DRAW-CHAR  (:METHOD TV:SHEET :EDITOR-LINE-OUT)  ZWEI:REDISPLAY

SYS:%DRAW-CHAR:  (P.C. = 430)
   Arg 0 (FONT): #<FONT ABACUS 53310614>
   Arg 1 (CHAR): 103
   Arg 2 (X): 313
   Arg 3 (Y): 132
   Arg 4 (ALU): 7
   Arg 5 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 4 12701163 exposed>
   Local 6 (IGNORE): NIL
   Local 7 (IGNORE): NIL
   Local 8 (IGNORE): NIL
   Local 9 (BB-WIDTH): 175400
   Local 10 (BB-S-DATA-ADDR): #<DTP-LOCATIVE 53310636>
   Local 11 (BB-S-ROW-OFFSET): 46
   Local 12 (BB-S-OFFSET): 2
   Local 13 (BB-S-BITPOS): 0
   Local 14 (BB-S-ROW-LENGTH): 2
   Local 15 (BB-D-DATA-ADDR): 1721004530
   Local 16 (BB-D-OFFSET): 10064
   Local 17 (BB-D-BITPOS): 14
   Local 18 (BB-EVENT-COUNT): 46602
   Local 19 (BB-ALU-OPERATION): 7
   Local 20 (S-BEG-ADDR): #<DTP-LOCATIVE 53310636>
   Local 21 (S-BEG-BITPOS): 0
   Local 22 (S-ROW-LENGTH): 2
   Local 23 (S-HEIGHT): 24
   Local 24 (S-BITS-PER-ELT): 0
   Local 25 (D-BEG-ADDR): 1721004530
   Local 26 (D-BEG-BITPOS): 1
   Local 27 (D-ROW-LENGTH): 46
   Local 28 (D-HEIGHT): 1254
   Local 29 (D-BITS-PER-ELT): 0
   Local 30 (S-ROW-BITPOS): 0
   Local 31 (S-ROW-OFFSET): 2
   Local 32 (S-ROW): 0
   Local 33 (D-ROW-BITPOS): 14
   Local 34 (D-ROW-OFFSET): 6
   Local 35 (D-ROW): 132
   Local 36 (SHORT-ROW): NIL
   Local 37 (CET): #<ART-BOOLEAN-200 53310706>
   Local 38 (CX): 100
   Local 39 (CY): 0
   Local 40 (CW): 175400
   Local 41 (CH): 24
   Local 42 (FIT): #<ART-16B-201 53310713>
   Local 43 (TEM): 1076
   Local 44: 0
   Local 45 (S-ROW-ADDR-OFFSET): 46
   Local 46: 2
   Local 47 (D-ADDR-OFFSET): 10064

(:METHOD TV:SHEET :EDITOR-LINE-OUT):  (P.C. = 420)
   Arg 0 (SELF): #<ZMACS-WINDOW-PANE Zmacs Window Pane 4 12701163 exposed>
   Arg 1 (SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (OPERATION): :EDITOR-LINE-OUT
   Arg 3 (STRING): "		    ':GC ':TEMPORARY"
   Arg 4 (START): 4
   Arg 5 (END): 26
   Arg 6 (SET-XPOS): 0
   Arg 7 (SET-YPOS): 130
   --Defaulted args:--
   Arg 8 (DWIDTH): NIL

ZWEI:REDISPLAY:  (P.C. = 1217)
   Arg 0 (WINDOW): #<WINDOW 20374543>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 36)
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): NIL

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 163)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   Arg 0 (IGNORE): NIL
29-Aug-83 23:00:48-EDT,3329;000000000000
Return-path: <CAL@MIT-OZ>
Date: Monday, 29 August 1983, 22:27-EDT
From: Cliff Lasser <CAL@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Release 4.4, FEP 12, site configuration 74, on Lisp Machine Elvis Presley:

I was frobbing around and ran into this problem:

>>Error: #<LISPM-CHAOS-HOST SCRC-POINTER> is not a known file server host.
While in the function FS:GET-PATHNAME-HOST  FS:MAKE-PATHNAME-1  (:METHOD FS:PATHNAME :NEW-PATHNAME)

FS:GET-PATHNAME-HOST:  (P.C. = 75)
   Arg 0 (HOST-NAME): #<LISPM-CHAOS-HOST SCRC-POINTER>
   --Defaulted args:--
   Arg 1 (NO-ERROR-P): NIL
   Local 2 (INHIBIT-SCHEDULING-FLAG-initialization): T
   Local 3 (HOSTP): T
   Local 4 (L): NIL
   Local 5 (L1): (#<FEP-FILE-HOST FEP>)

FS:MAKE-PATHNAME-1:  (P.C. = 66)
   Rest arg (OPTIONS): (:DEFAULT-HOST #<LISPM-CHAOS-HOST SCRC-POINTER> :DEFAULT-DEVICE :UNSPECIFIC :DEFAULT-DIRECTORY ("lmach") :DEFAULT-NAME "sysdef" :DEFAULT-TYPE NIL ...)

(:METHOD FS:PATHNAME :NEW-PATHNAME):  (P.C. = 37)
   Arg 0 (SELF): #<LMFS-PATHNAME "F:>lmach>sysdef">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 60530627>
   Arg 2 (OPERATION): :NEW-PATHNAME
   Rest arg (OPTIONS): (:TYPE :LISP :VERSION :NEWEST)

(:METHOD FS:PATHNAME :COMBINED :NEW-PATHNAME):  (P.C. = 36)
   Arg 0 (SELF): #<LMFS-PATHNAME "F:>lmach>sysdef">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 60530627>
   Rest arg (.DAEMON-CALLER-ARGS.): (:NEW-PATHNAME :TYPE :LISP :VERSION :NEWEST)

(:METHOD ZWEI:DEFINITIONS-EDITING-BUFFER :ADD-NODES-FOR-FUNCTION-SPEC):  (P.C. = 120)
   Arg 0 (SELF): #<DEFINITIONS-EDITING-BUFFER "*Definitions-1*" 10271451>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:DEFINITIONS-EDITING-BUFFER -- 3. IV's, 3. FL's 61512052>
   Arg 2 (OPERATION): :ADD-NODES-FOR-FUNCTION-SPEC
   Arg 3 (FUNCTION-SPEC): %MMPT-STATUS-NORMAL
   Arg 4 (ALLOWED-TYPES): NIL

(:METHOD ZWEI:DEFINITIONS-EDITING-BUFFER :REVERT):  (P.C. = 14)
   Arg 0 (SELF): #<DEFINITIONS-EDITING-BUFFER "*Definitions-1*" 10271451>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:DEFINITIONS-EDITING-BUFFER -- 3. IV's, 3. FL's 61512052>
   Arg 2 (OPERATION): :REVERT

(:METHOD ZWEI:DEFINITIONS-EDITING-BUFFER :COMBINED :REVERT):  (P.C. = 20)
   Arg 0 (SELF): #<DEFINITIONS-EDITING-BUFFER "*Definitions-1*" 10271451>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:DEFINITIONS-EDITING-BUFFER -- 3. IV's, 3. FL's 61512052>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD ZWEI:ZMACS-EDITOR :FIND-SPECIAL-BUFFER):  (P.C. = 151)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMACS-EDITOR -- 3. IV's, 0. FL's 61277771>
   Arg 2 (OPERATION): :FIND-SPECIAL-BUFFER
   Arg 3 (TYPE): :DEFINITIONS
   Arg 4 (NEW-P): T
   Rest arg (SETS): (:SET-FUNCTION-SPECS (%MMPT-STATUS-NORMAL) :SET-ALLOWED-DEFINITION-TYPES NIL :SET-LOOKALIKES-ALLOWED T)

Rest of stack:
(:METHOD ZWEI:ZMACS-EDITOR :SETUP-FUNCTION-SPECS-TO-EDIT):  (P.C. = 21)
ZWEI:COM-EDIT-DEFINITION:  (P.C. = 14)
ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 173)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
PROCESS-TOP-LEVEL:  (P.C. = 54)
30-Aug-83 03:37:12-EDT,906;000000000000
Return-path: <kmp@MIT-MC>
Date: Tuesday, 30 August 1983, 02:54-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: m-X Update Attribute List
To: BUG-LISPM at MIT-MC

It's sad that when I do m-X Lisp Mode, the -*- Mode:Fundamental -*- in
my file attribute list doesn't get updated. Even worse, if I then do
m-X Update Attribute List, nothing tries to insure a leading ; on the
line with the attribute list. It would be very nice if something tried
to make sure there was either a leading ";" or a "#|...|#" construction
commenting out the attribute list. At mode-change time is the really right
time to assure this, of course, since you have both the old and the new
mode info available, making it easy to know what characters need to be 
stripped from each end to de-comment the old attribute list and what
characters to add to each end to re-comment the attribute list in the new
language.
30-Aug-83 08:42:18-EDT,758;000000000000
Return-path: <DLW@SCRC-TENEX>
Date: Tuesday, 30 August 1983  08:01-EDT
From: DLW at SCRC-TENEX
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   BUG-LISPM at MIT-MC
Subject: m-X Update Attribute List
In-reply-to: The message of 30 Aug 1983 02:54-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: Tuesday, 30 August 1983, 02:54-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    It's sad that when I do m-X Lisp Mode, the -*- Mode:Fundamental -*- in
    my file attribute list doesn't get updated. Even worse, if I then do
    m-X Update Attribute List, nothing tries to insure a leading ; on the
    line with the attribute list.

I belive that the last time I polled people about this, they agreed
with KMP.  Would someone please make this change?
30-Aug-83 14:43:53-EDT,1350;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS; Tue 30-Aug-83 10:39:48-EDT
Date: Tuesday, 30 August 1983, 10:33-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Unknown file server host
To: Cliff Lasser <CAL@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 29 Aug 83 22:27-EDT from Cliff Lasser <CAL at OZ>

    Date: Monday, 29 August 1983, 22:27-EDT
    From: Cliff Lasser <CAL@MIT-OZ>
    In Release 4.4, FEP 12, site configuration 74, on Lisp Machine Elvis Presley:

    I was frobbing around and ran into this problem:

    >>Error: #<LISPM-CHAOS-HOST SCRC-POINTER> is not a known file server host.

    (:METHOD FS:PATHNAME :NEW-PATHNAME):  (P.C. = 37)
       Arg 0 (SELF): #<LMFS-PATHNAME "F:>lmach>sysdef">
       Rest arg (OPTIONS): (:TYPE :LISP :VERSION :NEWEST)

    (:METHOD ZWEI:ZMACS-EDITOR :FIND-SPECIAL-BUFFER):  (P.C. = 151)
       Rest arg (SETS): (:SET-FUNCTION-SPECS (%MMPT-STATUS-NORMAL) :SET-ALLOWED-DEFINITION-TYPES NIL :SET-LOOKALIKES-ALLOWED T)

The pathname should have been SYS:L-SYS;SYSDEF.  I believe this is a bootstrapping artifact
in Release 4.  Anyway the pathname is a logical pathname in Release 5 (I just checked).
You can use the debugger c-R command to return (fs:parse-pathname "sys:l-sys;sysdef lisp >")
from the :new-pathname method.
30-Aug-83 14:56:22-EDT,2928;000000000000
Return-path: <KwH@MIT-OZ>
Date: Tuesday, 30 August 1983, 14:38-EDT
From: Ken Haase <KwH@MIT-OZ>
Subject: Options needed on file write.
To: BUG-LISPM@MIT-OZ

In Release 4.4, Experimental LMRLL 11.0, FEP 12, site configuration 58, on Lisp Machine Janis Joplin:

This should offer to run DIRED or CLEAN Directory.

>>Error: File system bug on host MIT-OZ:
Disk structure completely full (at 6021 inside FILE server)
For OZ:PS:<KWH.RLL>RLL.LISP
While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:OPEN-CHAOS  (:METHOD FS:CHAOS-PATHNAME OPEN)

(:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 245)
   Arg 0 (SELF): #<HOST-UNIT 2356062>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): :COMMAND
   Arg 3 (MARK-P): NIL
   Arg 4 (STREAM-OR-HANDLE): (:CREATE "O1875")
   Arg 5 (SIMPLE-P): NIL
   Arg 6 (WHOSTATE): "Open"
   Rest arg (COMMANDS): ("OPEN " :WRITE " " CHARACTER "" "" "" "" "" "" ...)
   Local 8 (HANDLE): "O1875"
   Local 9 (STREAM): NIL
   Local 10 (PKT): #<CHAOS Packet 2361030>
   Local 11 (SUCCESS): NIL
   Local 12 (STRING): "O1875 ERROR BUG F Disk structure completely full (at 6021 inside FILE server)"
   Local 13 (TRANSACTION-ID): "T1888"
   Local 14 (CREATE-P): T
   Local 15 (CONDITION): NIL

FS:OPEN-CHAOS:  (P.C. = 424)
   Arg 0: #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (*COMMAND-PATHNAME*-initialization): #<TOPS20-PATHNAME "OZ:PS:<KWH.RLL>RLL.LISP">
   Arg 2 (OPTIONS): (:CHARACTERS T :DIRECTION :OUTPUT)

(:METHOD FS:CHAOS-PATHNAME OPEN):  (P.C. = 6)
   Arg 0 (SELF): #<TOPS20-PATHNAME "OZ:PS:<KWH.RLL>RLL.LISP">
   Arg 1 (SELF-MAPPING-TABLE): FS:CHAOS-PATHNAME
   Arg 2 (OPERATION): OPEN
   Arg 3 (PATHNAME): #<TOPS20-PATHNAME "OZ:PS:<KWH.RLL>RLL.LISP">
   Rest arg (OPTIONS): (:CHARACTERS T :DIRECTION :OUTPUT)

FS:MACLISP-COMPATIBILITY-OPEN:  (P.C. = 421)
   Arg 0 (FILENAME): #<TOPS20-PATHNAME "OZ:PS:<KWH.RLL>RLL.LISP">
   Arg 1 (OPTIONS): (ZWEI:OUT)

OPEN:  (P.C. = 276)
   Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:PS:<KWH.RLL>RLL.LISP">
   Rest arg (KEYWORD-ARGS): ((ZWEI:OUT))

(:METHOD ZWEI:FILE-BUFFER-MIXIN :SAVE):  (P.C. = 47)
   Arg 0 (SELF): #<FILE-BUFFER "RLL.LISP PS:<KWH.RLL> OZ:" 12041636>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:FILE-BUFFER-MIXIN -- 9. IV's, 0. FL's 61305555>
   Arg 2 (OPERATION): :SAVE

ZWEI:SAVE-BUFFER:  (P.C. = 214)
   Arg 0 (BUFFER): #<FILE-BUFFER "RLL.LISP PS:<KWH.RLL> OZ:" 12041636>

ZWEI:COM-SAVE-FILE:  (P.C. = 15)

Rest of stack:
ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:  (P.C. = 106)
SYS:CALL-FUNNY-FUNCTION:  (P.C. = 71)
Closure of ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:
ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 173)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
30-Aug-83 16:27:26-EDT,1330;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS; Tue 30-Aug-83 15:15:01-EDT
Date: Tuesday, 30 August 1983, 15:09-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Options needed on file write.
To: Ken Haase <KwH@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ, bug-file@MIT-OZ, bug-midas@MIT-OZ
In-reply-to: The message of 30 Aug 83 14:38-EDT from Ken Haase <KwH at OZ>

    Date: Tuesday, 30 August 1983, 14:38-EDT
    From: Ken Haase <KwH@MIT-OZ>
    In Release 4.4, Experimental LMRLL 11.0, FEP 12, site configuration 58, on Lisp Machine Janis Joplin:

    This should offer to run DIRED or CLEAN Directory.

    >>Error: File system bug on host MIT-OZ:
    Disk structure completely full (at 6021 inside FILE server)
    For OZ:PS:<KWH.RLL>RLL.LISP

It would have if the Lisp machine had known that this error meant "disk structure
completely full".  As you can see, it says "File system bug."  I've reported this
at least once before: the bug is that MIDAS is broken on OZ; it assembles the
wrong system error codes into the FILE server.  I don't remember now the exact
error code that is wrong (or, more likely, undefined).  Someone at OZ should
fix MIDAS and reassemble SS:<SYS.SYSTEM>FILE.MID and start the resulting binary
at PURIFY, which will dump it into SYSTEM:CHAOS.FILE.
30-Aug-83 18:10:23-EDT,1056;000000000000
Return-path: <RMS@MIT-OZ>
Date: Tuesday, 30 August 1983, 17:33-EDT
From: Richard M. Stallman <RMS@MIT-OZ>
Subject: Incompatible changes poll
To: info-lispm-mit@MIT-OZ

There are two incompatible changes, part of Common Lisp,
that I warned users a year ago to watch out for.

These are (LISTP NIL) returning T,
and (// 5 2) returning the rational number 5\2 instead of 2.

I am now considering making these changes only for files
marked as being Common Lisp files, so that they will not affect
existing code.
This change of plans would mean less conversion work for you,
but it would produce a slightly less clean system.

I will leave the decision up to you, the users.  Please tell me your opinion.
Each of the two planned changes is a separate issue.


It would be desirable to treat the change to order of array elements
in the same fashion, but this is easier said than done.  Unless I
see a way to do it, I will have to make this change for all programs
as I announced a year ago.  See section 8.8 of the manual for details.
31-Aug-83 02:53:50-EDT,2558;000000000000
Return-path: <MARTY@MIT-OZ>
Mail-From: MARTY created at 31-Aug-83 02:52:19
Date: 31 Aug 1983  02:52 EDT (Wed)
Message-ID: <[MIT-OZ].MARTY.31-Aug-83 02:52:18>
From: Martin David Connor <MARTY@MIT-OZ>
To:   David A. Moon <Moon@SCRC-TENEX>
Cc:   bug-file@MIT-OZ, BUG-LISPM@MIT-OZ, bug-midas@MIT-OZ,
      Ken Haase <KwH@MIT-OZ>, bug-system@MIT-OZ
Subject: Options needed on file write.
In-reply-to: Msg of 30 Aug 1983 15:09-EDT from David A. Moon <Moon at SCRC-TENEX>

    Date: Tuesday, 30 August 1983, 15:09-EDT
    From: David A. Moon <Moon at SCRC-TENEX>
    To:   Ken Haase <KwH>
    cc:   BUG-LISPM, bug-file, bug-midas
    Re:   Options needed on file write.
    Received: from SCRC-QUABBIN by SCRC-TENEX with CHAOS;
              Tue 30-Aug-83 15:15:01-EDT

        Date: Tuesday, 30 August 1983, 14:38-EDT
        From: Ken Haase <KwH@MIT-OZ>
        In Release 4.4, Experimental LMRLL 11.0, FEP 12,
	 site configuration 58, on Lisp Machine Janis Joplin:

        This should offer to run DIRED or CLEAN Directory.

        >>Error: File system bug on host MIT-OZ:
        Disk structure completely full (at 6021 inside FILE server)
        For OZ:PS:<KWH.RLL>RLL.LISP

    It would have if the Lisp machine had known that this error meant
    "disk structure completely full".  As you can see, it says "File
    system bug."  I've reported this at least once before: the bug is
    that MIDAS is broken on OZ; it assembles the wrong system error
    codes into the FILE server.  I don't remember now the exact error
    code that is wrong (or, more likely, undefined).  Someone at OZ
    should fix MIDAS and reassemble SS:<SYS.SYSTEM>FILE.MID and start
    the resulting binary at PURIFY, which will dump it into
     SYSTEM:CHAOS.FILE.

Fixed. The file server should now know all about IOX34 (Disk structure
completely full).

Fixing MIDAS was a pain.

The TWXBTS file on OZ seems to be missing some things.  I ended up
getting the TNXBTS file from XX, and SRCCOMing XX's version of MIDAS
with OZ's.  What we have now is a MIDAS that is basically a TENEX
version, but it seems to have everything defined properly.

Also, starting MIDAS PURIFY barfs it when it tries to set the page
access of a the core image (did I say CORE), but if CONTINUED it seems
to win.  There is a pure version now on PS:<SUBSYS>.

If anybody *really* knows how to assemble a TOPS-20 version of MIDAS
that uses TWXBTS, please spill your guts.  MACCNV sort of works, but
what it produced would not compile properly.

 2-Sep-83 10:17:31-EDT,1477;000000000000
Return-path: <TIM@MIT-OZ>
Date: Friday, 2 September 1983, 05:27-EDT
From: Tim McNerney <TIM@MIT-OZ>
To: BUG-LISPM@MIT-OZ, TIM@MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Four:

Tried to do a Bdired from Zwei on oz:src:<tim.ww> and pig:usrd[tim]
died trying to get directories.  Got this mess upon C-Abort'ing.

Insert your description of the circumstances here:


>>ERROR: File system fucked, unknown transaction id in "T1211 I1206 ERROR MSC C Connection in illegal state"
Backtrace from the debugger:

(INTERNAL FS:HOST-CHAOS-INTERRUPT-FUNCTION 0.) (P.C. = 41)

 Arg 0 (PKT): #<CHAOS Packet 33637551>


Additional information supplied with call:
 SYS:ADI-FEXPR-CALL

SI:PROCESS-RUN-FUNCTION-INTERNAL (P.C. = 102)

 Arg 0 (RESTART-ON-RESET): NIL
 Arg 1 (FUNCTION): #<DTP-FEF-POINTER (INTERNAL FS:HOST-CHAOS-INTERRUPT-FUNCTION 0.) 2057134>
 Rest arg (ARGS): (#<CHAOS Packet 33637551>)
Local 1: ("Terminate and free process ~A." "File system fucked")
Local 2: ((SYS:ABORT ERROR) ("Terminate and free process ~A." "File system fucked") T ("Terminate and free process ~A." "File system fucked") ...)


SI:PROCESS-TOP-LEVEL (P.C. = 115)

 Arg 0 (IGNORE): NIL
Local 0: ("Restart process ~A." "File system fucked")
Local 1: ((SYS:ABORT ERROR) ("Restart process ~A." "File system fucked") T ("Restart process ~A." "File system fucked") ...)
Local 2 (IGNORE): NIL
 2-Sep-83 12:33:25-EDT,736;000000000000
Return-path: <Fleck@MIT-OZ>
Date: Friday, 2 September 1983, 12:21-EDT
From: Margaret M. Fleck <Fleck@MIT-OZ>
Subject: reader bug?
To: BUG-LISPM@MIT-OZ

In Release 4.4, FEP 12, site configuration 58, on Lisp Machine Janis Joplin:

I have this function:

(defun breakup (string)
  (with-input-from-string (mystring string)
    (do ((next-item (read mystring nil) (read mystring nil))
	 (result nil))
	((null next-item) result)
      (setq result (nconc result (list next-item))))))



The function call (breakup " /# x") loses, complaining about not being able to find a sharp sign macro,
but the function call (breakup " x /#") wins and returns (list 'x '|#|).  Why does it behave differently
in these two cases?

 2-Sep-83 21:50:20-EDT,1594;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-SCHUYLKILL by SCRC-TENEX with CHAOS; Fri 2-Sep-83 13:41:12-EDT
Date: Friday, 2 September 1983, 13:40-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: not a reader bug
To: Margaret M. Fleck <Fleck@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 2 Sep 83 12:21-EDT from Margaret M. Fleck <Fleck at OZ>

    Date: Friday, 2 September 1983, 12:21-EDT
    From: Margaret M. Fleck <Fleck@MIT-OZ>

    The function call (breakup " /# x") loses, complaining about not being able to find a sharp sign macro,
    but the function call (breakup " x /#") wins and returns (list 'x '|#|).  Why does it behave differently
    in these two cases?

The first case correctly complains that #<space> is not defined.  You probably meant to say
(break " //# x"); note that you have to quote a slash with a second slash to get a slash
into the string.  The one slash you have does nothing, since # is not a special character
in strings and does not require quoting with slash.

The second case treating # followed by the end of the string as the symbol rather than
an illegal use of sharp sign macros is an artifact of the way the reader parses input.
A sharp macro is a sharp sign followed by a character (with optional intervening digits
and greek letters); since this sharp sign isn't followed by anything, it isn't recognized
as a sharp macro and instead is taken to be a symbol.  Maybe we should make the reader
detect this and signal an error "end of file in the middle of a sharp sign macro"?  It
would be easy to do.
 2-Sep-83 22:02:11-EDT,855;000000000000
Return-path: <FAUST@MIT-OZ>
Date: Friday, 2 September 1983, 16:26-EDT
From: Gregory G. Faust <FAUST@MIT-OZ>
Subject: Flaky &optional and &body interaction.
To: BUG-LISPM@MIT-OZ

In System 222.249, Zmail 74.46, Knowledge-Based-Editor 214.11,
Experimental eXperimental PLANs 5.0, site configuration 62, Hacked Magic, on PA Lisp Machine Avatar:

     The combination of &optional and &body results in some rather peculiar
identing behavior.  In the macro:
(defmacro foo (arg1 arg2 &optional arg3 arg4 &body body)
  ...)

Whenever a foo form is being written, indenting at the third character
(the usual body place) will begin at arg3 instead of at arg5 as one
might hope.  In the general case, the body position indenting will
begin at the argument just after the &optional instead of the argument
immediately following the &body.

Greg
 3-Sep-83 00:06:56-EDT,2371;000000000000
Return-path: <Hewitt@MIT-OZ>
Date: Friday, 2 September 1983, 17:57-EDT
From: Carl Hewitt <Hewitt@MIT-OZ>
Subject: zmail bug trying to read mail on oz
To: BUG-LISPM@MIT-MC, bug-zmail@MIT-MC, bug-file@MIT-OZ

In Release 4.3, System 222.239, Zmail 74.46, LMFS 30.42,
site configuration 62, on Lisp Machine Apiary-1:

I tried to read my mail on OZ.

>>Trap: The argument to the PLUSP instruction, NIL, was of the wrong type.
The instruction expected a number.
While in the function (METHOD ZWEI:TENEX-BUFFER-MIXIN LINE-END-OF-MSG-P)  (METHOD ZWEI:MSG-BUFFER READ-NEXT-MSG)  ZWEI:ZMAIL-SELECT-NEXT-MSG

(METHOD ZWEI:TENEX-BUFFER-MIXIN LINE-END-OF-MSG-P):  (P.C. = 64)
   (SELF = #<TENEX-INBOX-BUFFER "OZ:PS:<HEWITT>MAIL._ZMAIL_TXT.1" 36163557>)
   Arg 0 (OPERATION): LINE-END-OF-MSG-P
   Arg 1 (LINE): "a bin file, and so forth.  It is running vanilla 4.4.25-Aug-83 14:48:30-EDT,269;000000000000"
   Arg 2 (LENGTH): 92.
   Arg 3 (STATE): NIL
   Arg 4 (IGNORE): NIL
   Local 0 (COMMA-IDX): 11.
   Local 1 (SEMI-IDX): 79.

(METHOD ZWEI:MSG-BUFFER READ-NEXT-MSG):  (P.C. = 320)
   (SELF = #<TENEX-INBOX-BUFFER "OZ:PS:<HEWITT>MAIL._ZMAIL_TXT.1" 36163557>)
   Arg 0 (OPERATION): READ-NEXT-MSG
   --Defaulted args:--
   Arg 1 (NMSGS): 1.

ZWEI:ZMAIL-SELECT-NEXT-MSG:  (P.C. = 112)
   Arg 0 (CONDITION): ZWEI:DELETED
   Arg 1 (NO-ERROR-P): T
   --Defaulted args:--
   Arg 2 (TIMES): 1.

ZWEI:MOVE-AFTER-DELETE:  (P.C. = 62)
   Arg 0 (MODE): FORWARD

ZWEI:COM-ZMAIL-DELETE-INTERNAL:  (P.C. = 105)
   Arg 0 (MODE): FORWARD
   Arg 1 (MSG): #<MSG 26534775>

ZWEI:COM-ZMAIL-DELETE:  (P.C. = 57)

ZWEI:COMMAND-EXECUTE:  (P.C. = 100)
   Arg 0 (COMMAND): ZWEI:COM-ZMAIL-DELETE
   Arg 1 (CHAR): (MENU ("Delete" . ZWEI:COM-ZMAIL-DELETE) 1. #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 1 20524451 exposed>)
   --Defaulted args:--
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 27)
   Arg 0 (*CURRENT-COMMAND*): ZWEI:COM-ZMAIL-DELETE

Rest of stack:
(SELECT-METHOD ZWEI:ZMAIL-COMMAND-LIST MENU):  (P.C. = 32)
(METHOD ZWEI:ZMAIL-FRAME PROCESS-SPECIAL-COMMAND):  (P.C. = 23)
(METHOD ZWEI:ZMAIL-FRAME COMMAND-LOOP):  (P.C. = 262)
(METHOD ZWEI:ZMAIL-FRAME COMBINED COMMAND-LOOP):  (P.C. = 106)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 153)
SI:PROCESS-TOP-LEVEL:  (P.C. = 125)
 3-Sep-83 00:38:52-EDT,2273;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Friday, 2 September 1983, 22:43-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: 3600 doesn't compile destructuring let*
To: BUG-LISPM at OZ

In Release 4.4, site configuration 75, on Lisp Machine Grizzly:

Destructuring let is loaded, but the (let* (((left top right bottom) edges)) ...
is claimed to be an invalid let by the compiler.
Also, M-X BUG does not include that this is a 3600 I am using.


(defun make-attribute-window (att layout edges keywords-and-values)
  ;; entries in keywords-and-values override everything
  ;; then come entries in create-window-plist, followed by flavor defaults
  ;; create-window-plist and flavor defaults have their property values evaluated
  ;; in the environment of the attribute's instance.
  (let* ((plist (cons nil (copylist (att-send att ':default-create-window-plist att))))
	 (name (att-name att))
	 (spec (send *default-att-table* ':get-hash name))
	 (create-window-plist (data-type-window-params spec))
	 (window-type (data-type-window-type spec)))
    (when window-type
      (if (eq window-type 'display) (setq plist (cons nil nil)))
      (unless edges
	(setq edges (multiple-value-list
		      (tv:mouse-specify-rectangle nil nil nil nil layout 0 0 t))))
      (when (car edges)
	(loop for (keyword value) on create-window-plist by #'cddr
	      do (setf (get plist keyword) value))
	(loop for (keyword value) on keywords-and-values by #'cddr
	      do (setf (get plist keyword) `',value))
	(setf (cdr plist)
	      (att-send att ':eval-inside-yourself
			`(list ,@(loop for (keyword value) on (cdr plist) by #'cddr
				       collect `',keyword
				       collect value))))
	(setf (get plist ':attribute-name) name)
	(let* (((left top right bottom) edges))
	  (multiple-value-bind (lay-left lay-top lay-right lay-bottom)
	      (send layout ':inside-edges)
	    (setq left (clip left lay-left lay-right))
	    (setq right (clip right lay-left lay-right))
	    (setq top (clip top lay-top lay-bottom))
	    (setq bottom (clip bottom lay-top lay-bottom))
	    (setq edges (list left top right bottom))))
	(setf (get plist ':edges) edges)
	(setf (get plist ':superior) layout)
	(make-wind-x window-type plist)))))
 3-Sep-83 00:42:56-EDT,2883;000000000000
Return-path: <sr.rob@MIT-SPEECH>
Date: Friday, 2 September 1983, 22:45-EDT
From: Robert H. Kassel <sr.rob at MIT-SPEECH>
Subject: bug in zwei
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, LMFS 30.42, Spire 11.40,
Experimental lexis 5.0, site configuration 73, on Lisp Machine Boo Boo:

I was using the function COMPILE CHANGED DEFINITIONS.  The compiler
found a comma that was not inside a back-quote and upon display
of the offending file, this mess happened.

>>Trap: Some argument to the ARRAY-LEADER instruction, NIL, was of the wrong type.
The instruction expected an array.
While in the function ARRAY-LEADER  ZWEI:REDISPLAY  ZWEI:REDISPLAY-ALL-WINDOWS  (METHOD ZWEI:EDITOR EDIT)

ZWEI:REDISPLAY:  (P.C. = 1363)
   Arg 0 (WINDOW): #<WINDOW 5515711>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL
   Local 0 (N-PLINES): 57.
   Local 1 (POINT): ("     ,@body))	  " 6. NORMAL)
   Local 2 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 27423175 exposed>
   Local 3 (DEGREE): 4.
   Local 4 (POINT-BLINKER): #<RECTANGULAR-BLINKER 27601460>
   Local 5 (INTERVAL): #<FILE-BUFFER "LEXIS-INTERFACE.LISP SS:<LEXIS> SPEECH:" -35744676>
   Local 6 (START-BP): ("       (send *default-message-stream* ':fresh-line))))" 0. NORMAL)
   Local 7 (NOW): 10952.
   Local 8 (POINT-PLINE): NIL
   Local 9 (LH): 14.
   Local 10 (POINT-LINE): "     ,@body))	  "
   Local 11 (POINT-INDEX): 6.
   Local 12 (TOP-LINE): "       (send *default-message-stream* ':fresh-line))))"
   Local 13 (TOP-INDEX): 0.
   Local 14 (LAST-BP): ("" 0. MOVES)
   Local 15 (INITIAL-DEGREE): 4.
   Local 16 (NEW-TOP-INDEX): NIL
   Local 17 (Y): NIL
   Local 18 (LINE): NIL
   Local 19 (INDEX): NIL
   Local 20 (P): NIL
   Local 21 (LINE-LENGTH): NIL
   Local 22 (LEN): NIL
   Local 23 (DWID): NIL
   Local 24 (CH): NIL
   Local 25 (FONT): NIL
   Local 26 (CWT): NIL
   Local 27 (CWID): NIL
   Local 28 (RWID): NIL
   Local 29 (I): 1.
   Local 30 (TW): 0.
   Local 31 (L): NIL
   Local 32 (FROM-INDEX): 0.
   Local 33 (TO-INDEX): 0.
   Local 34 (PLINE): 54.
   Local 35 (STOP-LINE): ""
   Local 36 (FROB): NIL
   Local 37 (PLINE): NIL
   Local 38: NIL
   Local 39 (BL): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 102)
   --Defaulted args:--
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): T

(METHOD ZWEI:EDITOR EDIT):  (P.C. = 337)
   (SELF = #<ZMACS-TOP-LEVEL-EDITOR 6335601>)
   Arg 0 (OPERATION): EDIT
   --Defaulted args:--
   Arg 1 (TOP-LEVEL-P): T

(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 102)
   (SELF = #<ZMACS-TOP-LEVEL-EDITOR 6335601>)
   Rest arg (.DAEMON-CALLER-ARGS.): (EDIT)

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 52)

SI:PROCESS-TOP-LEVEL:  (P.C. = 125)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
 3-Sep-83 00:46:15-EDT,569;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Friday, 2 September 1983, 22:47-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: small-float
To: BUG-LISPM at OZ

In Release 4.4, site configuration 75, on Lisp Machine Grizzly:
3600

It would be nice if the function SMALL-FLOAT would turn into FLOAT or
something like that on the 3600, rather than be undefined.  In my case,
and I imagine in everyone elses, it is used to avoid number-consing
rather than to make calculations less accurate, so FLOAT is probably
the right thing for it to turn into.
 3-Sep-83 17:59:10-EDT,1412;000000000000
Return-path: <DCP@SCRC-TENEX>
Date: Saturday, 3 September 1983  17:53-EDT
From: DCP at SCRC-TENEX
To:   D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Cc:   BUG-LISPM at OZ
Subject: small-float
In-reply-to: The message of 2 Sep 1983 22:47-EDT from D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>

    Date: Friday, 2 September 1983, 22:47-EDT
    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>

    In Release 4.4, site configuration 75, on Lisp Machine Grizzly:
    3600

    It would be nice if the function SMALL-FLOAT would turn into FLOAT or
    something like that on the 3600, rather than be undefined.
You can, of course, define your own macro to do this.  There may be a
reason (good or bad) that we decided not to include this compatibility.

    In my case,
    and I imagine in everyone elses, it is used to avoid number-consing
    rather than to make calculations less accurate, so FLOAT is probably
    the right thing for it to turn into.
You are confusing architectures.  Single precision floating point
numbers are immediate on the 3600; they are not a pointer to storage
as they are on the LM-2.  Therefore, there is no consing issue.  Note
that the reader will read 4.543s3 as a (regular) floating point number
on the 3600.  I think this is all discussed in the compatibility
document (ask your software support contact for some copies if you
don't have some already).
 3-Sep-83 19:24:15-EDT,3507;000000000000
Return-path: <s.barmar@MIT-EECS>
Date: Saturday, 3 September 1983, 19:21-EDT
From: Margolin@MIT-MULTICS
Sender: s.barmar@MIT-EECS
Subject: Supdup path spec
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.41, ZMail 50.17, microcode 239, uC239,
on Arthur Dent:

Insert your description of the circumstances here:

When specifying an TCP port number (which the HELP doc still calls by
the obsolete term "socket number", BTW) I should be able to use decimal
numbers.  I tried saying "96.", but that also didn't work.  Perhaps it
should just use READ, so that it uses IBASE, but I would just be happy
if appending a "." forced it to be decimal.  I might actually go so far
as to suggest that the number be read in decimal by default, since that
is what all the standard TCP documentation uses for all its numbers.

When I didn't specify the gateway explicitly, I got an even more bizarre
error; I'll send another report on that.

>>ERROR: "mcmultics//96" is not a meaninful specification
Backtrace from the debugger:

Additional information supplied with call:
 Expecting 4 values

SUPDUP:PARSE-PATH (P.C. = 245)

 Arg 0 (PATH): "mcmultics//96"
 Arg 1 (CONTACT-NAME): "SUPDUP"
 Arg 2 (ARPA-SOCKET): 137
Local 0 (HOST): NIL
Local 1 (GATEWAY): "mc"
Local 2 (SPECIFIED-CONTACT): NIL
Local 3 (GATE-P): 2
Local 4 (SLASH-P): 12
Local 5 (HST): NIL
Local 6 (NUMBER): NIL
Local 7 (NUMBER-P): NIL


(METHOD SUPDUP:BASIC-SUPDUP CONNECT) (P.C. = 100)
  (SELF is #<SUPDUP Supdup 1 1441017 exposed>)

 Arg 0 (OPERATION): CONNECT
 Arg 1 (PATH): "mcmultics//96"
   --Defaulted args:--
 Arg 2 (NET-WINDOW): 3
Local 0 (HOST): NIL
Local 1 (GATEWAY): NIL
Local 2 (CONTACT): NIL
Local 3 (CONTACT-P): NIL


(METHOD SUPDUP COMBINED CONNECT) (P.C. = 52)
  (SELF is #<SUPDUP Supdup 1 1441017 exposed>)

 Rest arg (.DAEMON-CALLER-ARGS.): (CONNECT "mcmultics//96")
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-7 10023127>


(METHOD SUPDUP:BASIC-NVT TYPEIN-TOP-LEVEL) (P.C. = 645)
  (SELF is #<SUPDUP Supdup 1 1441017 exposed>)

 Arg 0 (OPERATION): TYPEIN-TOP-LEVEL
   --Defaulted args:--
 Arg 1 (TOP-LEVEL-P): T
Local 0 (TERMINAL-IO): #<SUPDUP Supdup 1 1441017 exposed>
Local 1 (STR): ABORT
Local 2: ("Return to command level; optionally disconnect.")
Local 3: ((SYS:ABORT ERROR) ("Return to command level; optionally disconnect.") T ("Return to command level; optionally disconnect.") ...)
Local 4: ((** ** T ** ...) (** ** T ** ...))
Local 5: ((SYS:REMOTE-NETWORK-ERROR SI:CONDITION-CASE-THROW SUPDUP:G6303))
Local 6: (SYS:REMOTE-NETWORK-ERROR SI:CONDITION-CASE-THROW SUPDUP:G6303)
Local 7 (CH): NIL
Local 8 (*SELECTQ-ITEM*): (SYS:CONNECTION-ERROR SYS:REMOTE-NETWORK-ERROR SYS:NETWORK-ERROR ERROR ...)
Local 9 (ERROR): #SYS:CONNECTION-ERROR PROPERTY-LIST (CONNECTION #<CHAOS Connection to MIT-MC TCP MIT-MULTICS 137 10230301> FOREIGN-HOST #FS:ITS-CHAOS-HOST "MIT-MC" ...) CONDITION-NAMES (SYS:CONNECTION-ERROR SYS:REMOTE-NETWORK-ERROR SYS:NETWORK-ERROR ERROR ...) FORMAT-STRING "Connection to ~1G~A refused: ~A." FORMAT-ARGS (#<CHAOS Connection to MIT-MC TCP MIT-MULTICS 137 10230301> #FS:ITS-CHAOS-HOST "MIT-MC" "Bad icp socket") CONNECTION #<CHAOS Connection to MIT-MC TCP MIT-MULTICS 137 10230301> FOREIGN-HOST #FS:ITS-CHAOS-HOST "MIT-MC"
Local 10 (HOST-NAME): "mcmultics//96"


SUPDUP:TYPEIN-TOP-LEVEL (P.C. = 24)

 Arg 0 (WINDOW): #<SUPDUP Supdup 1 1441017 exposed>


Remainder of stack:

SI:PROCESS-TOP-LEVEL (P.C. = 115)
 3-Sep-83 19:25:12-EDT,2181;000000000000
Return-path: <s.barmar@MIT-EECS>
Date: Saturday, 3 September 1983, 19:23-EDT
From: Margolin@MIT-MULTICS
Sender: s.barmar@MIT-EECS
Subject: More supdup path problems
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.41, ZMail 50.17, microcode 239, uC239,
on Arthur Dent:

Insert your description of the circumstances here:

This is what happened when I specified "multics/96" to Supdup.

>>ERROR: The object #SI:MULTICS-HOST "MIT-MULTICS" received a CHAOS-ADDRESS message, which went unclaimed.
The rest of the message was NIL.
Backtrace from the debugger:

#SI:MULTICS-HOST "MIT-MULTICS":
   Arg 0: CHAOS-ADDRESS


SI:INSTANCE-HASH-FAILURE (P.C. = 163)

 Arg 0 (OP): CHAOS-ADDRESS
 Rest arg (ARGS): NIL
Local 1 (HT): #<EQ-HASH-ARRAY (Funcallable) 7535417>
Local 2 (FN-LOCATION): NIL
Local 3 (FUNC): NIL
Local 4 (NEWHT): NIL


CHAOS:ADDRESS-PARSE (P.C. = 56)

 Arg 0 (ADDRESS): #SI:MULTICS-HOST "MIT-MULTICS"
Local 0 (HOST): #SI:MULTICS-HOST "MIT-MULTICS"


CHAOS:CONNECT (P.C. = 231)

 Arg 0 (ADDRESS): #SI:MULTICS-HOST "MIT-MULTICS"
 Arg 1 (CONTACT-NAME): "96"
 Arg 2 (WINDOW-SIZE): 3
   --Defaulted args:--
 Arg 3 (TIMEOUT): 1130
Local 0 (CONN): NIL
Local 1 (REAL-ADDRESS): NIL
Local 2 (HOST-NAME): NIL
Local 3: ("Try the connection again.")
Local 4: (SYS:REMOTE-NETWORK-ERROR RETRY-CONNECTION T ("Try the connection again.") ...)
Local 5: ((SYS:REMOTE-NETWORK-ERROR RETRY-CONNECTION T ** ...) (** ** T ** ...) (** ** T ** ...))
Local 6 (*SELECTQ-ITEM*): NIL
Local 7 (PKT): NIL
Local 8 (STRING): NIL


(METHOD SUPDUP:BASIC-NVT NEW-CONNECTION) (P.C. = 55)
  (SELF is #<SUPDUP Supdup 1 1441017 exposed>)

 Arg 0 (OPERATION): NEW-CONNECTION
 Arg 1 (HOST): #SI:MULTICS-HOST "MIT-MULTICS"
 Arg 2 (GATEWAY): NIL
 Arg 3 (CONTACT): "96"
 Arg 4 (CONTACT-P): T
 Arg 5 (WINDOW): 3
Local 0 (LABEL-SPEC): "Supdup 1 -- MIT-MULTICS (96)"
Local 1 (CONN): NIL


Remainder of stack:

(METHOD SUPDUP:BASIC-SUPDUP CONNECT) (P.C. = 136)
(METHOD SUPDUP COMBINED CONNECT) (P.C. = 52)
(METHOD SUPDUP:BASIC-NVT TYPEIN-TOP-LEVEL) (P.C. = 645)
SUPDUP:TYPEIN-TOP-LEVEL (P.C. = 24)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
 4-Sep-83 15:00:03-EDT,1006;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Sunday, 4 September 1983, 14:56-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
To: BUG-LISPM at MIT-OZ

In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
Experimental Attribute 2.0, Experimental Audio 3.0,
Experimental Speech Attributes 2.0, Experimental Display 3.0,
Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

I was in the editor trying to do a kill or save buffers when lisp halted itself.
It would not continue but it would warm boot, saying it had been in the zwei coroutining
process.  I tried to do the kill or save buffers again and the same thing happened.  I
warm booted again, did zwei:save-all-files, and then I think I did (ed 'zwei:reload)
and again lisp stopped itself.  I warm booted again, it tried, said something about the
GC daemon, and halted again and the FEP said
"Disk unit ~o out of bounds; maximum is ~o" 2(8) 0(8)) 
and would not warm boot afterwards.
 4-Sep-83 19:13:45-EDT,1129;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Sunday, 4 September 1983, 19:09-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
To: BUG-LISPM at OZ

In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
Experimental Attribute 2.0, Experimental Audio 3.0,
Experimental Speech Attributes 2.0, Experimental Display 3.0,
Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

If I have a function like:

(defun (:property utterance-dump-handler dump-handler)
       (stream utterance)
  (let* ((plist (ncons (typep utterance)))
	 (attrs))
    (send utterance ':fasd plist)
    (setq attrs (get plist 'attribute-alist))
    (remprop plist 'attribute-alist)
    (dump-thing1 stream plist)
    (dump-integer stream (length attrs))
    (loop for (attr-name attr) in attrs
	  doing
	  (dump-string stream attr-name)
	  (dump-thing1 stream attr))))

and I type c-sh-C in the editor, it does not get compiled, but if I put
the form in a region, it does get compiled.  If this is a feature, I fail
to see why.  It is very confusing for it not to behave like a defun.
 5-Sep-83 07:45:58-EDT,741;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Monday, 5 September 1983, 07:45-EDT
From: Gavan Duffy <GAVAN@MIT-OZ>
Subject: m-x List Definitions
To: BUG-LISPM@MIT-OZ

In Release 4.4, site configuration 75, on Lisp Machine Apiary-6:

M-X List Definitions sends mouse-sensitive definition names to the
typeout-window.  When you mouse-right on them you get a momentary-menu
with only one option, edit.  That's silly, especially when mouse-left
will get you there without the extra step of the momentary-menu.  Why
bother to have the menu at all if there's only one option?  Shouldn't
there be an option for listing the callers of the definition (and then
returning to the list of definitions) and probably for lots of other
things as well?
 5-Sep-83 11:06:01-EDT,4921;000000000000
Return-path: <sr.cypher@MIT-SPEECH>
Date: Monday, 5 September 1983, 11:04-EDT
From: sr.cypher at MIT-SPEECH
Subject: Compiler bug
To: BUG-LISPM at MIT-OZ

In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
Experimental Attribute 2.0, Experimental Audio 3.0,
Experimental Speech Attributes 2.0, Experimental Display 3.0,
Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

I had two versions of a (:property foo bar) type thing, the new one, and the old one.
I had forgotten to delete the old one, so I got screwed.  So, I deleted the old one
from the buffer and compiled the region of the "new" one (since, as I earlier reported,
that is the only way that seems to give me the new definition) and got this error.

>>Error: The argument PFRAME to COMPILER:EMIT-END-CATCH, #<DTP-LOCATIVE 4666274>, was of the wrong type.
The function expected CATCH-PFRAME.
While in the function COMPILER:EMIT-END-CATCH  (:PROPERTY UNWIND-PROTECT COMPILER:PHASE-1)  COMPILER:PHASE-1
While compiling (:PROPERTY UTTERANCE-DUMP-HANDLER UNDUMP-HANDLER)

COMPILER:EMIT-END-CATCH:  (P.C. = 6)
   Arg 0 (PFRAME): #<DTP-LOCATIVE 4666274>
   Arg 1 (DESTINATION): IGNORE

(:PROPERTY UNWIND-PROTECT COMPILER:PHASE-1):  (P.C. = 122)
   Arg 0 (BODY): ((PROGN (WITHOUT-INTERRUPTS (INCF SI:GC-FLIP-INHIBIT)) (MULTIPLE-VALUE-BIND (IGNORE VMA WORDS) (SI:PAGE-ARRAY-CALCULATE-BOUNDS STRING NIL NIL) (UNDUMP-WORDS STREAM VMA WORDS))) (WITHOUT-INTERRUPTS (DECF SI:GC-FLIP-INHIBIT)))
   Arg 1 (DESTINATION): IGNORE

COMPILER:PHASE-1:  (P.C. = 251)
   Arg 0 (FORM): (SI:INHIBIT-GC-FLIPS (MULTIPLE-VALUE-BIND (IGNORE VMA WORDS) (SI:PAGE-ARRAY-CALCULATE-BOUNDS STRING NIL NIL) (UNDUMP-WORDS STREAM VMA WORDS)))
   Arg 1 (DESTINATION): IGNORE
   --Defaulted args:--
   Arg 2 (DO-TRANSFORM): T

COMPILER:PHASE-1-PROGN:  (P.C. = 24)
   Arg 0 (FORMS): ((SI:INHIBIT-GC-FLIPS (MULTIPLE-VALUE-BIND (IGNORE VMA WORDS) (SI:PAGE-ARRAY-CALCULATE-BOUNDS STRING NIL NIL) (UNDUMP-WORDS STREAM VMA WORDS))) STRING)
   Arg 1 (DESTINATION): COMPILER:STACK

COMPILER:PHASE-1-PROGN-WITH-BINDING-STACK-LEVEL:  (P.C. = 41)
   Arg 0 (BODY): ((SI:INHIBIT-GC-FLIPS (MULTIPLE-VALUE-BIND (IGNORE VMA WORDS) (SI:PAGE-ARRAY-CALCULATE-BOUNDS STRING NIL NIL) (UNDUMP-WORDS STREAM VMA WORDS))) STRING)
   Arg 1 (DESTINATION): COMPILER:STACK

COMPILER:PHASE-1-LET:  (P.C. = 30)
   Arg 0 (BODY): (((STRING (MAKE-ARRAY ** ** **))) (SI:INHIBIT-GC-FLIPS (MULTIPLE-VALUE-BIND (IGNORE VMA WORDS) (SI:PAGE-ARRAY-CALCULATE-BOUNDS STRING NIL NIL) (UNDUMP-WORDS STREAM VMA WORDS))) STRING)
   Arg 1 (DESTINATION): COMPILER:STACK
   Arg 2 (PARALLEL-P): T

(:PROPERTY LET COMPILER:PHASE-1):  (P.C. = 5)
   Arg 0 (BODY): (((STRING (MAKE-ARRAY ** ** **))) (SI:INHIBIT-GC-FLIPS (MULTIPLE-VALUE-BIND (IGNORE VMA WORDS) (SI:PAGE-ARRAY-CALCULATE-BOUNDS STRING NIL NIL) (UNDUMP-WORDS STREAM VMA WORDS))) STRING)
   Arg 1 (DESTINATION): COMPILER:STACK

COMPILER:PHASE-1:  (P.C. = 251)
   Arg 0 (FORM): (UNDUMP-STRING STREAM)
   Arg 1 (DESTINATION): COMPILER:STACK
   --Defaulted args:--
   Arg 2 (DO-TRANSFORM): T

Rest of stack:
(:PROPERTY SETQ COMPILER:PHASE-1):  (P.C. = 35)
COMPILER:PHASE-1:  (P.C. = 251)
COMPILER:PHASE-1-PROG:  (P.C. = 230)
(:PROPERTY PROG COMPILER:PHASE-1):  (P.C. = 5)
COMPILER:PHASE-1:  (P.C. = 251)
COMPILER:PHASE-1-PROGN:  (P.C. = 31)
COMPILER:PHASE-1-LAMBDA-COMBINATION:  (P.C. = 46)
COMPILER:PHASE-1:  (P.C. = 143)
COMPILER:PHASE-1-PROGN:  (P.C. = 31)
COMPILER:PHASE-1-LAMBDA-COMBINATION:  (P.C. = 46)
COMPILER:PHASE-1:  (P.C. = 143)
COMPILER:PHASE-1-PROGN:  (P.C. = 31)
COMPILER:PHASE-1-LAMBDA-COMBINATION:  (P.C. = 46)
COMPILER:PHASE-1:  (P.C. = 143)
COMPILER:PHASE-1-PROGN:  (P.C. = 24)
COMPILER:PHASE-1-PROGN-WITH-BINDING-STACK-LEVEL:  (P.C. = 41)
COMPILER:PHASE-1-LET:  (P.C. = 30)
(:PROPERTY LET COMPILER:PHASE-1):  (P.C. = 5)
COMPILER:PHASE-1:  (P.C. = 251)
COMPILER:PHASE-1-PROGN:  (P.C. = 24)
COMPILER:PHASE-1-FUNCTION-DEFINITION:  (P.C. = 250)
COMPILER:PHASE-1-EXTERNAL-FUNCTION:  (P.C. = 24)
COMPILER:RUN-PHASE-1-FUNCTION:  (P.C. = 65)
COMPILER:COMPILE-DEFINITION-1:  (P.C. = 11)
COMPILER:COMPILE-DEFINITION:  (P.C. = 46)
(:INTERNAL COMPILER:COMPILE-TO-CORE 0.):  (P.C. = 5)
COMPILER:COMPILE-TO-CORE:  (P.C. = 12)
COMPILER:COMPILE-FORM-FUNCTION:  (P.C. = 41)
COMPILER:COMPILE-FROM-STREAM-1:  (P.C. = 362)
COMPILER:PROCESS-FORMS-FROM-STREAM:  (P.C. = 114)
COMPILER:COMPILE-FROM-STREAM:  (P.C. = 250)
ZWEI:COMPILE-INTERVAL:  (P.C. = 124)
ZWEI:COMPILE-PRINT-INTERVAL:  (P.C. = 101)
ZWEI:COMPILE-DEFINITION-INTERNAL:  (P.C. = 104)
ZWEI:COM-COMPILE-REGION:  (P.C. = 5)
ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 173)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
 5-Sep-83 12:26:02-EDT,291;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Monday, 5 September 1983, 12:25-EDT
From: David Chapman <Zvona@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Release 4.4, site configuration 75, on Lisp Machine John Lennon:

C in dired from OZ to PIG (20X to VMS) does not preserve creation date.
Shouldn't it?
 5-Sep-83 13:02:08-EDT,1210;000000000000
Return-path: <Gregor@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Mon 5-Sep-83 13:00:42-EDT
Date: Monday, 5 September 1983, 12:54-EDT
From: Gregor J. Kiczales <Gregor@SCRC-TENEX>
Subject: The message of 4 Sep 83 19:09-EDT from D. Scott Cyphers <SR.CYPHER at SPEECH>
To: SR.CYPHER@MIT-SPEECH, BUG-LISPM@MIT-OZ
In-reply-to: The message of 4 Sep 83 19:09-EDT from D. Scott Cyphers <SR.CYPHER at SPEECH>

    Date: Sunday, 4 September 1983, 19:09-EDT
    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
    In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
    Experimental Attribute 2.0, Experimental Audio 3.0,
    Experimental Speech Attributes 2.0, Experimental Display 3.0,
    Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

    If I have a function like:

    (defun (:property utterance-dump-handler dump-handler)
	...)

    and I type c-sh-C in the editor, it does not get compiled, but if I put
    the form in a region, it does get compiled.  If this is a feature, I fail
    to see why.  It is very confusing for it not to behave like a defun.

This works for me. Could send the name of the file?
 5-Sep-83 15:00:40-EDT,1694;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Monday, 5 September 1983, 14:48-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: The message of 4 Sep 83 19:09-EDT from D. Scott Cyphers <SR.CYPHER at SPEECH>
To: Gregor at SCRC-TENEX, SR.CYPHER at MIT-SPEECH, BUG-LISPM at MIT-OZ
In-reply-to: The message of 5 Sep 83 12:54-EDT from Gregor J. Kiczales <Gregor at SCRC-TENEX>

    Date: Monday, 5 September 1983, 12:54-EDT
    From: Gregor J. Kiczales <Gregor at SCRC-TENEX>
    To:   SR.CYPHER, BUG-LISPM at MIT-OZ
    Re:   The message of 4 Sep 83 19:09-EDT from D. Scott Cyphers <SR.CYPHER at SPEECH>
    Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Mon 5-Sep-83 13:00:42-EDT

	If I have a function like:

	(defun (:property utterance-dump-handler dump-handler)
	    ...)

	and I type c-sh-C in the editor, it does not get compiled, but if I put
	the form in a region, it does get compiled.

    This works for me. Could send the name of the file?
You're right -- it does seem to be working now, but on three separate days it has gotten into
a state where it stopped working on different files, always, I believe, on the 3600.  I think,
but am not sure, that I had changed the package of the buffer in question in the same session,
and that it was after that that things got funny.  Since I know it is a bug now, and since I
have no way of making it repeatable, I'll wait for it to happen again and fix it and tell you
what was wrong.  If it happens to someone else, let me know so that I don't think I'm going
crazy if it turns elusive.  The files were SPEECH:SS:<SPIRE>DUMP.LISP and UTTDMP.  DUMP needs
MACROS, and UTTDMP needs a bunch of stuff.
 5-Sep-83 15:43:37-EDT,1379;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-SCHUYLKILL by SCRC-TENEX with CHAOS; Mon 5-Sep-83 15:41:03-EDT
Date: Monday, 5 September 1983, 15:42-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: 3600 doesn't compile destructuring let*
To: D. Scott Cyphers <SR.CYPHER@MIT-SPEECH>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 2 Sep 83 22:43-EDT from D. Scott Cyphers <SR.CYPHER at SPEECH>

    Date: Friday, 2 September 1983, 22:43-EDT
    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
    In Release 4.4, site configuration 75, on Lisp Machine Grizzly:

    Destructuring let is loaded, but the (let* (((left top right bottom) edges)) ...
    is claimed to be an invalid let by the compiler.
In Release 4, there is a bug in the compiler, left over from bootstrapping,
that prevents you from redefining the LET or LET* special forms with macros.
You didn't say where you loaded destructuring LET from, but the only version
I know of doesn't work anyway (it doesn't handle SPECIAL declarations correctly).
Consequently redefining LET and LET* to be the destructuring versions will cause
some programs to compile incorrectly.

You can get around both of the above problems by picking some other name for
the destructuring let special forms.

    Also, M-X BUG does not include that this is a 3600 I am using.
It only does that in Release 5.
 5-Sep-83 16:33:32-EDT,1574;000000000000
Return-path: <cmb@SCRC-CUPID>
Received: from SCRC-CONNECTICUT by SCRC-TENEX with CHAOS; Mon 5-Sep-83 15:48:41-EDT
Date: Monday, 5 September 1983, 15:48-EDT
From: Clark M. Baker <cmb@SCRC-CUPID>
Subject: m-x List Definitions
To: Gavan Duffy <GAVAN@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 5 Sep 83 07:45-EDT from Gavan Duffy <GAVAN at MIT-OZ>

    Date: Monday, 5 September 1983, 07:45-EDT
    From: Gavan Duffy <GAVAN@MIT-OZ>
    In Release 4.4, site configuration 75, on Lisp Machine Apiary-6:

    M-X List Definitions sends mouse-sensitive definition names to the
    typeout-window.  When you mouse-right on them you get a momentary-menu
    with only one option, edit.  That's silly, especially when mouse-left
    will get you there without the extra step of the momentary-menu.  Why
    bother to have the menu at all if there's only one option?  Shouldn't
    there be an option for listing the callers of the definition (and then
    returning to the list of definitions) and probably for lots of other
    things as well?

I like the convention that mousing right on something (usually) gives a
menu of alternatives (even if in some cases the menu contains only one
alternative).

No one made Gaven push the right button instead of the left one.  If he
didn't want to click an extra time, he should have used the left button
in the first place.

Maybe we should consider menus with only one choice to be poor form much
like outlines with only one entry at the same level.  It sounds nice but
I don't believe in it.
 6-Sep-83 03:09:42-EDT,1105;000000000000
Return-path: <GAVAN@MIT-OZ>
Mail-From: GAVAN created at  6-Sep-83 03:04:48
Date: Tue, 6 Sep 1983  03:04 EDT
Message-ID: <[MIT-OZ].GAVAN. 6-Sep-83 03:04:47>
From: GAVAN@MIT-OZ
To:   Clark M. Baker <cmb@SCRC-CUPID>
Cc:   BUG-LISPM@MIT-OZ
Subject: m-x List Definitions
In-reply-to: Msg of 5 Sep 1983 15:48-EDT from Clark M. Baker <cmb at SCRC-CUPID>

    From: Clark M. Baker <cmb at SCRC-CUPID>

    I like the convention that mousing right on something (usually) gives a
    menu of alternatives (even if in some cases the menu contains only one
    alternative).

    No one made Gaven push the right button instead of the left one.  If he
    didn't want to click an extra time, he should have used the left button
    in the first place.

I certainly didn't send the bug report because I don't like to have to
click the mouse a second time.  The main point was that there are
other things that could be in that menu, like listing the callers of
the definitions.  Also, you should be able to list the definitions
into a buffer.  There is apparently no ready-made way to do that.
 6-Sep-83 09:51:54-EDT,1193;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Tue 6-Sep-83 09:50:52-EDT
Date: Tuesday, 6 September 1983, 09:43-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: m-x List Definitions
To: GAVAN@MIT-OZ, cmb@SCRC-CUPID
Cc: BUG-LISPM@MIT-OZ
In-reply-to: <[MIT-OZ].GAVAN. 6-Sep-83 03:04:47>

    Date: Tue, 6 Sep 1983  03:04 EDT
    From: GAVAN@MIT-OZ

    I certainly didn't send the bug report because I don't like to have to
    click the mouse a second time.  The main point was that there are
    other things that could be in that menu, like listing the callers of
    the definitions.  

Yes, List Callers could be on the menu.  Have you ever done a m-X List
Callers?  (I assume you have.)  It takes FOREVER.  Something that takes
that long is a really nasty thing to put on a menu for naive users to
stumble across.  This may get better in 5.1 and perhaps List Callers
should go in the menu then.

    Also, you should be able to list the definitions
    into a buffer.  There is apparently no ready-made way to do that.

If you do m-X List Callers, then c-0 c-. (I think) it will select the
current possibilities buffer.
 6-Sep-83 11:15:36-EDT,1829;000000000000
Return-path: <Cassels@SCRC-TENEX>
Received: from SCRC-ASSABET by SCRC-TENEX with CHAOS; Tue 6-Sep-83 11:16:37-EDT
Date: Tuesday, 6 September 1983, 11:16-EDT
From: Robert A. Cassels <Cassels@SCRC-TENEX>
Subject: small-float
To: DCP@SCRC-TENEX, SR.CYPHER@MIT-SPEECH
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 3 Sep 83 17:53-EDT from DCP at SCRC-TENEX

    Date: Saturday, 3 September 1983  17:53-EDT
    From: DCP at SCRC-TENEX
	Date: Friday, 2 September 1983, 22:47-EDT
	From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
	In Release 4.4, site configuration 75, on Lisp Machine Grizzly:
	3600

	It would be nice if the function SMALL-FLOAT would turn into FLOAT or
	something like that on the 3600, rather than be undefined.
    You can, of course, define your own macro to do this.  There may be a
    reason (good or bad) that we decided not to include this compatibility.
No good reason that I know of.  For the same reason that the reader is
compatible, we should probably define SMALL-FLOAT to be FLOAT on the
3600.  If nobody objects, I'll add it in my next patch.

	In my case,
	and I imagine in everyone elses, it is used to avoid number-consing
	rather than to make calculations less accurate, so FLOAT is probably
	the right thing for it to turn into.
    You are confusing architectures.  Single precision floating point
    numbers are immediate on the 3600; they are not a pointer to storage
    as they are on the LM-2.  Therefore, there is no consing issue.
You are misunderstanding Scott, who is not confused.
								     Note
    that the reader will read 4.543s3 as a (regular) floating point number
    on the 3600.  I think this is all discussed in the compatibility
    document (ask your software support contact for some copies if you
    don't have some already).
 6-Sep-83 11:26:04-EDT,2804;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Tuesday, 6 September 1983, 11:18-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: zwei bug
To: BUG-LISPM at MIT-OZ

In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
Experimental Attribute 2.0, Experimental Audio 3.0,
Experimental Speech Attributes 2.0, Experimental Display 3.0,
Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

I was doing an incremental search for initializer in allocate-resource.  I had found
the first one and typed c-S to find the next one when this happened.

>>Trap: The first argument given to *-INTERNAL, #<DTP-LOCATIVE 13062215>, was not a number.
While in the function ZWEI:RECENTER-WINDOW  ZWEI:REDISPLAY  ZWEI:INCREMENTAL-SEARCH

ZWEI:RECENTER-WINDOW:  (P.C. = 71)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Local 4 (TOP-LINE): NIL
   Local 5 (TOP-INDEX): NIL
   Local 6 (POINT-PLINE): NIL
   Local 7 (POINT): ("  (AND (SETQ INITIALIZER (RESOURCE-INITIALIZER RESOURCE))" 24. :NORMAL)
   Local 8 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Local 9 (INTERVAL): #<FILE-BUFFER "RESOUR.LISP SRC:<S.SYS2> OZ:" 10200707>
   Local 10 (LH): 14.
   Local 11 (FIRST-BP): (";;;-*- Mode:LISP; Package:SYSTEM-INTERNALS; Base:8. -*-" 0. :NORMAL)
   Local 12 (LAST-BP): ("" 0. :MOVES)
   Local 13 (DEGREE): 2.
   Local 14 (N-PLINES): 48.
   Local 15 (START-BP): (";; PARAMS is the list of parameters specified in PARAMETERS, plus those which have been" 0. :NORMAL)

ZWEI:REDISPLAY:  (P.C. = 254)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   Arg 1 (RECENTER-TYPE): :POINT
   --Defaulted args:--
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:INCREMENTAL-SEARCH:  (P.C. = 102)
   Arg 0 (REVERSE-P): NIL

ZWEI:COM-INCREMENTAL-SEARCH:  (P.C. = 7)

ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
   Arg 0 (COMMAND): ZWEI:COM-INCREMENTAL-SEARCH
   Arg 1 (CHAR): 339.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
   Arg 0 (CH): 339.

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 173)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

Rest of stack:
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
PROCESS-TOP-LEVEL:  (P.C. = 54)
 6-Sep-83 11:30:00-EDT,2877;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Tuesday, 6 September 1983, 11:22-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: Way to repeat the last Zwei bug
To: BUG-LISPM at MIT-OZ

In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
Experimental Attribute 2.0, Experimental Audio 3.0,
Experimental Speech Attributes 2.0, Experimental Display 3.0,
Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

I killed off the buffer with allocate-resource, and meta-dotted allocate resource.  It
loaded it back in from Oz and then I did the c-S again in the same way, and got the same
error, so it's repeatable.

>>Trap: The first argument given to *-INTERNAL, #<DTP-LOCATIVE 13062215>, was not a number.
While in the function ZWEI:RECENTER-WINDOW  ZWEI:REDISPLAY  ZWEI:INCREMENTAL-SEARCH

ZWEI:RECENTER-WINDOW:  (P.C. = 71)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Local 4 (TOP-LINE): NIL
   Local 5 (TOP-INDEX): NIL
   Local 6 (POINT-PLINE): NIL
   Local 7 (POINT): ("  (AND (SETQ INITIALIZER (RESOURCE-INITIALIZER RESOURCE))" 24. :NORMAL)
   Local 8 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Local 9 (INTERVAL): #<FILE-BUFFER "RESOUR.LISP SRC:<S.SYS2> OZ:" 10306004>
   Local 10 (LH): 14.
   Local 11 (FIRST-BP): (";;;-*- Mode:LISP; Package:SYSTEM-INTERNALS; Base:8. -*-" 0. :NORMAL)
   Local 12 (LAST-BP): ("" 0. :MOVES)
   Local 13 (DEGREE): 2.
   Local 14 (N-PLINES): 48.
   Local 15 (START-BP): (";; PARAMS is the list of parameters specified in PARAMETERS, plus those which have been" 0. :NORMAL)

ZWEI:REDISPLAY:  (P.C. = 254)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   Arg 1 (RECENTER-TYPE): :POINT
   --Defaulted args:--
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:INCREMENTAL-SEARCH:  (P.C. = 102)
   Arg 0 (REVERSE-P): NIL

ZWEI:COM-INCREMENTAL-SEARCH:  (P.C. = 7)

ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
   Arg 0 (COMMAND): ZWEI:COM-INCREMENTAL-SEARCH
   Arg 1 (CHAR): 339.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
   Arg 0 (CH): 339.

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 173)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

Rest of stack:
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
PROCESS-TOP-LEVEL:  (P.C. = 54)
 6-Sep-83 12:11:15-EDT,2551;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Tuesday, 6 September 1983, 12:08-EDT
From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: Zwei bug
To: BUG-LISPM at MIT-OZ

In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
Experimental Attribute 2.0, Experimental Audio 3.0,
Experimental Speech Attributes 2.0, Experimental Display 3.0,
Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

(def-dump-form :INSTANCE
  (let ((dump-handler? (send thing ':get-handler-for ':dump-handler)))
    (cond (dump-handler?
	   (let ((handler (send thing ':dump-handler)))
	     (send stream ':tyo 0)
	     (dump-thing1 stream handler)
	     (funcall (get handler 'dump-handler) stream thing)))
	  (t (send stream ':tyo 1)
	     (dump-thing1 stream (send thing ':fasd-form)))))
  (insert-dump-entry thing))X

I did a control-; with the cursor where that X is and got this error.  The error is
repeatable in that buffer.

>>Error: Cannot coerce #<DTP-LOCATIVE 13062455> into a string
While in the function STRING  ZWEI:INSERT  ZWEI:INDENT-FOR-COMMENT

STRING:  (P.C. = 56)
   Arg 0 (X): #<DTP-LOCATIVE 13062455>

ZWEI:INSERT:  (P.C. = 1056)
   Arg 0 (BP): ("  (insert-dump-entry thing))			" 31. :MOVES)
   Arg 1 (STRING): #<DTP-LOCATIVE 13062455>
   --Defaulted args:--
   Arg 2 (STRING-START): 0.
   Arg 3 (STRING-LENGTH): NIL

ZWEI:INDENT-FOR-COMMENT:  (P.C. = 160)
   Arg 0 (BP): ("  (insert-dump-entry thing))			" 28. :NORMAL)
   Arg 1 (TIMES): 1.
   Arg 2 (CREATE-P): T
   Arg 3 (MOVE-TO-NEXT-P): NIL
   --Defaulted args:--
   Arg 4 (BEG-LINE-NOT-SPECIAL): NIL

ZWEI:COM-INDENT-FOR-COMMENT:  (P.C. = 12)

ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
   Arg 0 (COMMAND): ZWEI:COM-INDENT-FOR-COMMENT
   Arg 1 (CHAR): 315.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
   Arg 0 (CH): 315.

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 173)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

Rest of stack:
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
 6-Sep-83 13:55:57-EDT,1590;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-SCHUYLKILL by SCRC-TENEX with CHAOS; Tue 6-Sep-83 13:51:54-EDT
Date: Tuesday, 6 September 1983, 13:51-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: small-float
To: Robert A. Cassels <Cassels@SCRC-TENEX>
Cc: DCP@SCRC-TENEX, SR.CYPHER@MIT-SPEECH, BUG-LISPM@MIT-OZ
In-reply-to: The message of 6 Sep 83 11:16-EDT from Robert A. Cassels <Cassels at SCRC>

    Date: Tuesday, 6 September 1983, 11:16-EDT
    From: Robert A. Cassels <Cassels@SCRC-TENEX>
	Date: Saturday, 3 September 1983  17:53-EDT
	From: DCP at SCRC-TENEX
	    Date: Friday, 2 September 1983, 22:47-EDT
	    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
	    In Release 4.4, site configuration 75, on Lisp Machine Grizzly:
	    3600

	    It would be nice if the function SMALL-FLOAT would turn into FLOAT or
	    something like that on the 3600, rather than be undefined.
	You can, of course, define your own macro to do this.  There may be a
	reason (good or bad) that we decided not to include this compatibility.
    No good reason that I know of.  For the same reason that the reader is
    compatible, we should probably define SMALL-FLOAT to be FLOAT on the
    3600.  If nobody objects, I'll add it in my next patch.

Do we really have to perpetuate this LM-2 crock forever?  Note that there
is no function named SMALL-FLOAT (nor SHORT-FLOAT) in Common Lisp.  I think
it would be better to let the few users who need this take the ten seconds
to define it for themselves, than for us to have to support it and document
it forever.
 6-Sep-83 14:23:18-EDT,2541;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-SCHUYLKILL by SCRC-TENEX with CHAOS; Tue 6-Sep-83 14:22:14-EDT
Date: Tuesday, 6 September 1983, 14:21-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Way to repeat the last Zwei bug
To: D. Scott Cyphers <SR.CYPHER@MIT-SPEECH>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 6 Sep 83 11:22-EDT from D. Scott Cyphers <SR.CYPHER at SPEECH>,
             The message of 6 Sep 83 12:08-EDT from D. Scott Cyphers <SR.CYPHER at SPEECH>

The enclosed look like several of the special variables used by the editor got
clobbered to have locatives as their value.  (In the first case, something controlling
recentering of the window, in the second case the *comment-start* string).  Suspect
that either your machine is broken or you somehow trashed part of virtual memory.

    Date: Tuesday, 6 September 1983, 11:22-EDT
    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
    In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
    Experimental Attribute 2.0, Experimental Audio 3.0,
    Experimental Speech Attributes 2.0, Experimental Display 3.0,
    Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

    >>Trap: The first argument given to *-INTERNAL, #<DTP-LOCATIVE 13062215>, was not a number.
    While in the function ZWEI:RECENTER-WINDOW  ZWEI:REDISPLAY  ZWEI:INCREMENTAL-SEARCH

    Date: Tuesday, 6 September 1983, 12:08-EDT
    From: D. Scott Cyphers <SR.CYPHER at MIT-SPEECH>
    In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
    Experimental Attribute 2.0, Experimental Audio 3.0,
    Experimental Speech Attributes 2.0, Experimental Display 3.0,
    Experimental Speech Layouts 2.0, site configuration 75, on Lisp Machine Grizzly:

    >>Error: Cannot coerce #<DTP-LOCATIVE 13062455> into a string
    While in the function STRING  ZWEI:INSERT  ZWEI:INDENT-FOR-COMMENT

    STRING:  (P.C. = 56)
       Arg 0 (X): #<DTP-LOCATIVE 13062455>

    ZWEI:INSERT:  (P.C. = 1056)
       Arg 0 (BP): ("  (insert-dump-entry thing))			" 31. :MOVES)
       Arg 1 (STRING): #<DTP-LOCATIVE 13062455>
       --Defaulted args:--
       Arg 2 (STRING-START): 0.
       Arg 3 (STRING-LENGTH): NIL

    ZWEI:INDENT-FOR-COMMENT:  (P.C. = 160)
       Arg 0 (BP): ("  (insert-dump-entry thing))			" 28. :NORMAL)
       Arg 1 (TIMES): 1.
       Arg 2 (CREATE-P): T
       Arg 3 (MOVE-TO-NEXT-P): NIL
       --Defaulted args:--
       Arg 4 (BEG-LINE-NOT-SPECIAL): NIL
 6-Sep-83 16:01:59-EDT,754;000000000000
Return-path: <PGS@MIT-OZ>
Date: Tuesday, 6 September 1983, 16:00-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: bug-hardware@MIT-OZ, bug-lispm@MIT-OZ

The new mice are here, as promised, but their scale is slightly wrong -- it's a
little too fine.  Using a VMI monitor and the MIT system, the top of a chinual
no longer corresponds to a whole screen.  I tried bashing the second entries of
sys:mouse-x-scale-array and sys:mouse-y-scale-array to 1500 and 2300
respectively, and this seems to produce more or less the right results.
However, I wish there were a more aesthetic way of hacking this -- it would be
nice if there were a keyworded function for setting it (maybe
(tv:set-mouse-type ':purbrick) or (tv:set-mouse-type ':mouse-house)).
 6-Sep-83 17:08:05-EDT,778;000000000000
Return-path: <dove@MIT-DSPG>
Date: Tuesday, 6 September 1983, 17:03-EDT
From: Web Dove <dove at MIT-DSPG>
Subject: draw-line is messy on 3600's
To: BUG-LISPM at MIT-OZ

In Release 4.4, Experimental KBSP 3.0, site configuration 71,
happy days!, on Lisp Machine Tweety Pie:

Plotting math functions like gaussians which have say 400 points in a
700 point window gives a poor quality line drawing.  For one thing,
there is an almost "random" wiggling to the line (rather than a regular
one which I would expect) and although the function is symetric, the
random fluctuations are not.  I have used these functions on LM-2's with
brand L  software and never seen this problem.  It appears to be
inherent in the %draw-line function.   Is anyone aware of this problem?
 7-Sep-83 08:18:52-EDT,3222;000000000000
Return-path: <hqm.ee@MIT-OZ>
Date: Wednesday, 7 September 1983, 08:18-EDT
From: ??? <hqm.ee@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In MIT-Specific 19.5, System 94.39, ZMail 50.17,
Experimental Local-File 44.3, microcode 239, gc@34,
on Lisp Machine Six:


Insert your description of the circumstances here:

What the fuck???

>>TRAP 10174 (ARGTYP ARRAY M-A NIL GAHDR)
Some argument to ARRAY-LEADER, NIL, was of the wrong type.
The function expected an array.
Backtrace from the debugger:

(METHOD ZWEI:WINDOW REDISPLAY) (P.C. = 1231)
  (SELF is #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 6743245 exposed>)

 Arg 0 (OPERATION): REDISPLAY
 Arg 1 (RECENTER-TYPE): POINT
 Arg 2 (RC1): NIL
 Arg 3 (RC2): NIL
 Arg 4 (FORCE-TO-COMPLETION-P): NIL
Local 0 (LH): 16
Local 1 (NOW): 17041
Local 2 (POINT-PLINE): NIL
Local 3 (POINT-LINE): "         year=/"1978/")"
Local 4 (POINT-INDEX): 25
Local 5 (TOP-LINE): "@book(author=/"Roberge, J. K./",key=/"Roberge/","
Local 6 (TOP-INDEX): 0
Local 7 (LAST-BP): ("" 0 MOVES)
Local 8 (INITIAL-DEGREE): 4
Local 9 (POINT-NODE): NIL
Local 10 (START-BP-NODE): NIL
Local 11 (BUF): NIL
Local 12 (NEW-TOP-INDEX): NIL
Local 13 (Y): NIL
Local 14 (LINE): NIL
Local 15 (INDEX): NIL
Local 16 (P): NIL
Local 17 (LINE-LENGTH): NIL
Local 18 (LEN): NIL
Local 19 (DWID): NIL
Local 20 (CH): NIL
Local 21 (FONT): NIL
Local 22 (CWT): NIL
Local 23 (CWID): NIL
Local 24 (RWID): NIL
Local 25 (I): 26
Local 26 (TW): 250
Local 27 (L): NIL
Local 28 (FROM-INDEX): 0
Local 29 (TO-INDEX): 25
Local 30 (PLINE): 20
Local 31 (STOP-LINE): ""
Local 32 (FROB): NIL
Local 33 (PLINE): NIL
Local 34: NIL
Local 35 (BL): NIL


ZWEI:REDISPLAY (P.C. = 72)

 Arg 0 (WINDOW): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 6743245 exposed>
   --Defaulted args:--
 Arg 1 (RECENTER-TYPE): POINT
 Arg 2 (RC1): NIL
 Arg 3 (RC2): NIL
 Arg 4 (FORCE-TO-COMPLETION-P): NIL


ZWEI:REDISPLAY-ALL-WINDOWS (P.C. = 75)

   --Defaulted args:--
 Arg 0 (FORCE-TO-COMPLETION-P): NIL
 Arg 1 (SELECT-P): T
Local 0: (#<ZMACS-WINDOW-PANE Zmacs Window Pane 1 6743245 exposed>)
Local 1 (WINDOW): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 6743245 exposed>


(METHOD ZWEI:WINDOW EDIT) (P.C. = 417)
  (SELF is #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 6743245 exposed>)

 Arg 0 (OPERATION): EDIT
   --Defaulted args:--
 Arg 1 (IGNORE): NIL
 Arg 2 (*COMTAB*): #<COMTAB ZWEI:MODE-COMTAB 34772504>
 Arg 3 (*MODE-LINE-LIST*): ("ZMACS " "(" ZWEI:*MODE-NAME-LIST* ") " ...)
 Arg 4 (TOP-LEVEL-P): T
Local 0 (TEM1): ((** ** T ** ...))
Local 1: ("Return to top level editor command loop.")
Local 2: ((SYS:ABORT ERROR) ("Return to top level editor command loop.") T ("Return to top level editor command loop.") ...)
Local 3 (CH): NIL


Additional information supplied with call:
 SYS:ADI-FEXPR-CALL

(INTERNAL (METHOD ZWEI:ZMACS-WINDOW COMBINED EDIT) 0) (P.C. = 74)

 Rest arg (.DAEMON-CALLER-ARGS.): (EDIT)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-15 22044471>


Remainder of stack:

FUNCALL (P.C. = 25)
(METHOD ZWEI:DISPLAYER AROUND EDIT) (P.C. = 31)
(METHOD ZWEI:ZMACS-WINDOW COMBINED EDIT) (P.C. = 47)
ZWEI:ZMACS-WINDOW-TOP-LEVEL (P.C. = 46)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
 7-Sep-83 09:44:22-EDT,2739;000000000000
Return-path: <KwH@MIT-OZ>
Date: Wednesday, 7 September 1983, 09:42-EDT
From: Ken Haase <KwH@MIT-OZ>
Subject: Eager Expungation
To: BUG-LISPM@MIT-OZ

In Release 4.4, site configuration 75, on Lisp Machine Keith Moon:

The LISPM offered to expunge a VMS after a "Clean Directory".

>>Error: Unknown Operation
For VULCAN:USRD$:[KWH.RLL]*.*;*
While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:EXPUNGE-CHAOS  (METHOD FS:CHAOS-PATHNAME EXPUNGE)

(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 245)
   Arg 0 (SELF): #<HOST-UNIT 5301166>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): COMMAND
   Arg 3 (MARK-P): NIL
   Arg 4 (STREAM-OR-HANDLE): NIL
   Arg 5 (SIMPLE-P): NIL
   Arg 6 (WHOSTATE): "Expunge"
   Rest arg (COMMANDS): ("EXPUNGE" 141. "USRD$:[KWH.RLL]*.*;*" 141.)
   Local 8 (HANDLE): NIL
   Local 9 (STREAM): NIL
   Local 10 (PKT): #<CHAOS Packet 5445722>
   Local 11 (SUCCESS): NIL
   Local 12 (STRING): " ERROR UKC C Unknown Operation"
   Local 13 (TRANSACTION-ID): "T1886"
   Local 14 (CREATE-P): NIL
   Local 15 (CONDITION): NIL

FS:EXPUNGE-CHAOS:  (P.C. = 56)
   Arg 0 (HOST): #<VMS-CHAOS-HOST MIT-HEPHAESTUS>
   Arg 1 (*COMMAND-PATHNAME*-initialization): #<VMS-PATHNAME "VULCAN:USRD$:[KWH.RLL]*.*;*">
   Arg 2 (OPTIONS): NIL

(METHOD FS:CHAOS-PATHNAME EXPUNGE):  (P.C. = 6)
   Arg 0 (SELF): #<VMS-PATHNAME "VULCAN:USRD$:[KWH.RLL]*.*;*">
   Arg 1 (SELF-MAPPING-TABLE): FS:CHAOS-PATHNAME
   Arg 2 (OPERATION): EXPUNGE
   Rest arg (OPTIONS): NIL

FS:EXPUNGE-DIRECTORY:  (P.C. = 120)
   Arg 0 (PATHNAME): #<VMS-PATHNAME "VULCAN:USRD$:[KWH.RLL]*.*;*">
   Rest arg (OPTIONS): NIL

ZWEI:REAP-ONE-FILE:  (P.C. = 414)
   Arg 0 (HEAD): ((#<VMS-PATHNAME "VULCAN:USRD$:[KWH.RLL]UNITS.VAS;1"> CREATION-DATE 2640713910. BLOCK-SIZE 512. LENGTH-IN-BLOCKS 58. AUTHOR "[200,107]"))
   Arg 1 (TAIL): NIL
   Arg 2 (N-TO-KEEP): 1.
   Arg 3 (QUERY-IO-initialization): TERMINAL-IO-SYN-STREAM
   Arg 4 (OFFER-EXPUNGE-P): T

ZWEI:REAP-DIRECTORY:  (P.C. = 125)
   Arg 0 (PATHNAME): #<LOGICAL-PATHNAME "VRLL: SOURCES; * VAS *">
   Arg 1 (N-TO-KEEP): 1.
   Arg 2 (STREAM): TERMINAL-IO-SYN-STREAM

ZWEI:CLEAN-DIRECTORY:  (P.C. = 27)
   Arg 0 (PATHNAME): #<LOGICAL-PATHNAME "VRLL: SOURCES; * VAS *">
   Arg 1 (N-TO-KEEP): 1.
   Arg 2 (PROMPT-STREAM): #<ZMACS-MODE-LINE-WINDOW Zmacs Mode Line Window 2 3001165 exposed>

ZWEI:COM-CLEAN-DIRECTORY:  (P.C. = 16)

Rest of stack:
ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 30)
ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
(METHOD ZWEI:EDITOR EDIT):  (P.C. = 173)
(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
 7-Sep-83 15:50:22-EDT,1024;000000000000
Return-path: <GAVAN@MIT-OZ>
Mail-From: GAVAN created at  7-Sep-83 15:45:48
Date: Wed, 7 Sep 1983  15:45 EDT
Message-ID: <[MIT-OZ].GAVAN. 7-Sep-83 15:45:47>
From: GAVAN@MIT-OZ
To:   David C. Plummer <DCP@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ, cmb@SCRC-CUPID
Subject: m-x List Definitions
In-reply-to: Msg of 6 Sep 1983 09:43-EDT from David C. Plummer <DCP at SCRC-TENEX>

    From: David C. Plummer <DCP at SCRC-TENEX>

    Yes, List Callers could be on the menu.  Have you ever done a m-X List
    Callers?  (I assume you have.)  It takes FOREVER.  

Yes, but not when it's restricted to a package.  If list callers does appear
on the list definitions menu it should ask whether to check just the current
package and its subpackages rather than defaultedly rummaging through
everything.  Trace should probably be on the menu too.

    Something that takes that long is a really nasty thing to put on a
    menu for naive users to stumble across.  

Maybe, but how better to learn?  Thanks for the info.
 7-Sep-83 20:52:38-EDT,2357;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 7 September 1983, 20:36-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Zmail Background and its errors...
To: BUG-LISPM at OZ

In Release 4.4, Knowledge-Based-Editor 214.0, FEP 12,
site configuration 62, AAAI-83, on PA Lisp Machine Merlin:

When an error occurs in Zmail background, I get a notification but 
no chance to intervene. Function 0 S seems to be useless. Peek seems
to be the only way to get any debugging info and even then it's hard
because if there's some query going on, it is still hard to get it to
get redirected to the Peek window. Here are some of the situations
that have occurred frequently in the past several days of abortive
attempts to simply soak up my existing mail and write it back out...

* When reading/writing a file, it may need to log me into OZ so
  it can check if there's a font called CPTFONTI on SRC:<S.FONTS>.
  If it has blocked waiting for input on the force-user-to-login thing,
  I can't even log in from another window because some lock is locked.
  I find this massively irritating. Certainly it should do nothing
  with this unless it tries to actually display the message for me
  and then it should look for the font carefully such that it 
  just types out "Couldn't get font <x>; substituting CPTFONT."

* I may get a directory full errors. Right now my Babyl file is very
  large and frequently I can't fit two copies in my directory. I would
  prefer it let me do Function 0 S and type Resume when I have cleared
  this error.

* MC's file server may flake out when it's trying to read my mail file
  in background. When this happens, I have a truncated in-core copy 
  of my Babyl file which I haven't tried to write out but would be 
  surprised if it didn't trash my on-disk copy. Maybe I'm not giving
  you credit for enough,...

Basically, Zmail feels *very* fragile and this background error handling
contributes heavily to that feeling. I have the definite feeling that
at any moment if I touch the wrong key it will either screw my messages
in some unwanted way or begin something that I will have no way of 
stopping or will err in some way I won't be able to get my hands on.
Now whether it actually will do that sort of thing is another question,
but it certainly conveys that impression to me.
-kmp
 8-Sep-83 14:07:24-EDT,706;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Thursday, 8 September 1983, 14:07-EDT
From: David Chapman <Zvona at MIT-OZ>
Subject: packet too long
To: bug-lispm at MIT-OZ

Never seen this one before.  I couldn't c-M because I got the
cold-load-stream blow out from error while reading command in the mail
window. 

406 packet too long
in (transmit-epacket #<locative whose car is -1> 406) 
from transmit-chaos-packet on #<art-16b-717 mumble>
from transmit-int-packet with same arg, plus defaulted args of 13001 and
     26
from receive-int-packet of the same array
from receive-any-function (no args)
from si:process-scheduler.

At the time I was having Chaos Bugger problems, if that is relevant.
 8-Sep-83 17:19:14-EDT,2674;000000000000
Return-path: <SR.AULL@MIT-SPEECH>
Date: Thursday, 8 September 1983, 17:17-EDT
From: Ann Marie Aull <SR.AULL at MIT-SPEECH>
To: BUG-LISPM at OZ

In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
Experimental Attribute 2.0, Experimental Audio 3.0,
Experimental Speech Attributes 2.0, Experimental Display 3.0,
Experimental Speech Layouts 2.0, Experimental SpireX 6.0,
site configuration 75, on Lisp Machine Grizzly:



>>Error: The argument CONDITION-NAME to MAKE-CONDITION, TV:BITBLT-ROW-OUT-OF-BOUNDS, was of the wrong type.
The function expected the name of a condition.
While in the function MAKE-CONDITION  DBG:GET-CONDITION  ERROR

(:METHOD CONDITION :COMBINED SIGNAL):  (P.C. = 21)
   Arg 0 (SELF): #<CHECK-ARG 16014740>
   Arg 1 (SELF-MAPPING-TABLE): CONDITION
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

SIGNAL:  (P.C. = 10)
   Arg 0 (FLAVOR): CHECK-ARG
   Rest arg (INIT-OPTIONS): (FUNCTION #<DTP-COMPILED-FUNCTION MAKE-CONDITION 1370604> :ARG-NAME DBG:CONDITION-NAME :OLD-VALUE TV:BITBLT-ROW-OUT-OF-BOUNDS :DESCRIPTION "the name of a condition" :ARG-NUMBER NIL ...)

DBG:CHECK-ARG-2:  (P.C. = 72)
   Arg 0 (FLAVOR): CHECK-ARG
   Arg 1 (ARGNAME): DBG:CONDITION-NAME
   Arg 2 (OLD-VALUE): TV:BITBLT-ROW-OUT-OF-BOUNDS
   Arg 3 (TYPE-KEY): :DESCRIPTION
   Arg 4 (TYPE-VAL): "the name of a condition"

DBG:CHECK-ARG-1:  (P.C. = 23)
   Arg 0 (ARGNAME): DBG:CONDITION-NAME
   Arg 1 (OLD-VALUE): TV:BITBLT-ROW-OUT-OF-BOUNDS
   Arg 2 (DESCRIPTION): "the name of a condition"

MAKE-CONDITION:  (P.C. = 7)
   Arg 0 (CONDITION-NAME): TV:BITBLT-ROW-OUT-OF-BOUNDS
   Rest arg (INIT-OPTIONS): (:ROW 521. :HEIGHT 462.)

DBG:GET-CONDITION:  (P.C. = 10)
   Arg 0 (FLAVOR): TV:BITBLT-ROW-OUT-OF-BOUNDS
   Arg 1 (INIT-OPTIONS): (:ROW 521. :HEIGHT 462.)

ERROR:  (P.C. = 33)
   Arg 0 (FLAVOR): TV:BITBLT-ROW-OUT-OF-BOUNDS
   Rest arg (INIT-OPTIONS): (:ROW 521. :HEIGHT 462.)

BITBLT:  (P.C. = 311)
   Arg 0 (ALU): 7.
   Arg 1 (WIDTH): 6.
   Arg 2 (HEIGHT): -63.
   Arg 3 (FROM-ARRAY): #<ART-1B-32.-32. 7112716>
   Arg 4 (FROM-X): 0.
   Arg 5 (FROM-Y): 0.
   Arg 6 (TO-ARRAY): #<ART-1B-1216.-460. 7742414>
   Arg 7 (TO-X): 256.
   Arg 8 (TO-Y): 521.

Rest of stack:
(:METHOD TV:STREAM-MIXIN BITBLT):  (P.C. = 70)
(:METHOD TV:STREAM-MIXIN :DRAW-CHAR-ROTATED):  (P.C. = 71)
(:METHOD TV:STREAM-MIXIN :DRAW-STRING-ROTATED):  (P.C. = 35)
DRAW-AXIS-LABEL:  (P.C. = 54)
DRAW-BOTTOM-AXIS:  (P.C. = 250)
DRAW-AXES:  (P.C. = 34)
DISPLAY-HISTOGRAM:  (P.C. = 74)
SI:*EVAL:  (P.C. = 405)
PERFORM-DISPLAY:  (P.C. = 4)
VIEW-DISPLAY:  (P.C. = 21)
MAIN-LOOP:  (P.C. = 100)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
 8-Sep-83 18:31:50-EDT,2455;000000000000
Return-path: <SR.AULL@MIT-SPEECH>
Date: Thursday, 8 September 1983, 18:28-EDT
From: Ann Marie Aull <SR.AULL at MIT-SPEECH>
Subject: Bug in Zwei
To: BUG-LISPM at OZ

In Release 4.4, Experimental Spire Macros 2.0, Experimental Compute 2.0,
Experimental Attribute 2.0, Experimental Audio 3.0,
Experimental Speech Attributes 2.0, Experimental Display 3.0,
Experimental Speech Layouts 2.0, Experimental SpireX 6.0,
site configuration 75, on Lisp Machine Grizzly:

this happened when I typed m-<

>>Trap: The first argument given to SYS:*-INTERNAL, #<DTP-LOCATIVE 13062215>, was not a number.
While in the function ZWEI:RECENTER-WINDOW  ZWEI:REDISPLAY  ZWEI:REDISPLAY-ALL-WINDOWS

ZWEI:RECENTER-WINDOW:  (P.C. = 71)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Local 4 (TOP-LINE): NIL
   Local 5 (TOP-INDEX): NIL
   Local 6 (POINT-PLINE): NIL
   Local 7 (POINT): (";;; -*- mode: lisp; package: spirex; base: 10. -*-" 0. :NORMAL)
   Local 8 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Local 9 (INTERVAL): #<FILE-BUFFER "SPIREX.LISP SS:<SPIRE.SPIREX> SPEECH:" 15615541>
   Local 10 (LH): 14.
   Local 11 (FIRST-BP): (";;; -*- mode: lisp; package: spirex; base: 10. -*-" 0. :NORMAL)
   Local 12 (LAST-BP): ("" 0. :MOVES)
   Local 13 (DEGREE): 2.
   Local 14 (N-PLINES): 48.
   Local 15 (START-BP): ("(defun character-center (font char)" 0. :NORMAL)

ZWEI:REDISPLAY:  (P.C. = 254)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 36)
   --Defaulted args:--
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): T

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 122)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   Arg 0 (IGNORE): NIL
 9-Sep-83 11:51:04-EDT,3555;000000000000
Return-path: <RAY@MIT-ML>
Date: Friday, 9 September 1983, 11:49-EDT
From: Ray Hirschfeld <RAY at MIT-ML>
To: BUG-LISPM at OZ

In System 222.249, Zmail 74.46, Tape 19.2, site configuration 53, on PI Project:

I typed "[escape] [return]" when it asked for a password....

>>Trap: The array given to SYS:SETUP-FORCE-1D-ARRAY, ANONYMOUS, was not an array.
While in the function COPY-ARRAY-PORTION  (METHOD SI:BUFFERED-FAST-STRING-OUT-MIXIN STRING-OUT)  (METHOD SI:RECORD-STREAM-OUTPUT-MIXIN WRITE-RECORD)

COPY-ARRAY-PORTION:  (P.C. = 3)
   Arg 0 (FROM-ARRAY): ANONYMOUS
   Arg 1 (FROM-START): 0
   Arg 2 (FROM-END): 11
   Arg 3 (TO-ARRAY): ""
   Arg 4 (TO-START): 3
   Arg 5 (TO-END): 14

(METHOD SI:BUFFERED-FAST-STRING-OUT-MIXIN STRING-OUT):  (P.C. = 52)
   Arg 0 (SELF): #<CHARACTER-STREAM 4342631>
   Arg 1: #<Map to flavor SI:BUFFERED-FAST-STRING-OUT-MIXIN -- 3. IV's, 0. FL's 60522573>
   Arg 2: STRING-OUT
   Arg 3 (STRING): ANONYMOUS
   Arg 4 (START): 0
   Arg 5 (END): 11

(METHOD SI:RECORD-STREAM-OUTPUT-MIXIN WRITE-RECORD):  (P.C. = 21)
   Arg 0 (SELF): #<RECORD-STREAM-CHARACTER-IO-STREAM 4342645>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:RECORD-STREAM-OUTPUT-MIXIN -- 6. IV's, 0. FL's 62356432>
   Arg 2 (OPERATION): WRITE-RECORD
   Arg 3 (OP): 1
   Arg 4 (STRING): ANONYMOUS
   --Defaulted args:--
   Arg 5 (FIRST): 0
   Arg 6 (END): 11

(METHOD TAPE:REMOTE-TAPE-MIXIN COMMAND):  (P.C. = 30)
   Arg 0 (SELF): #<REMOTE-TAPE-INPUT-STREAM 4342567>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TAPE:REMOTE-TAPE-MIXIN -- 15. IV's, 0. FL's 62537275>
   Arg 2 (OPERATION): COMMAND
   Arg 3 (OP): 1
   Arg 4 (STRING): ANONYMOUS

(DEFUN-METHOD TAPE:REMOTE-TAPE-MIXIN-LOGIN):  (P.C. = 25)
   Arg 0 (SELF): #<REMOTE-TAPE-INPUT-STREAM 4342567>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TAPE:REMOTE-TAPE-MIXIN -- 15. IV's, 0. FL's 62537275>

(METHOD TAPE:REMOTE-TAPE-MIXIN AFTER INIT):  (P.C. = 63)
   Arg 0 (SELF): #<REMOTE-TAPE-INPUT-STREAM 4342567>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TAPE:REMOTE-TAPE-MIXIN -- 15. IV's, 0. FL's 62537275>
   Arg 2 (OPERATION): INIT
   Rest arg (IGNORE): (#<DTP-LOCATIVE 100350>)

(INTERNAL (METHOD TAPE:REMOTE-TAPE-INPUT-STREAM COMBINED INIT) 0):  (P.C. = 17)
   Arg 0 (SELF): #<REMOTE-TAPE-INPUT-STREAM 4342567>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TAPE:REMOTE-TAPE-INPUT-STREAM -- 0. IV's, 5. FL's 62537326>
   Rest arg (.DAEMON-CALLER-ARGS.): (INIT #<DTP-LOCATIVE 100350>)

(METHOD TAPE:REMOTE-TAPE-MIXIN WHOPPER INIT):  (P.C. = 23)
   Arg 0 (SELF): #<REMOTE-TAPE-INPUT-STREAM 4342567>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TAPE:REMOTE-TAPE-MIXIN -- 15. IV's, 0. FL's 62537275>
   Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (INTERNAL (METHOD TAPE:REMOTE-TAPE-INPUT-STREAM COMBINED INIT) 0) 33255524>
   Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor TAPE:REMOTE-TAPE-INPUT-STREAM -- 0. IV's, 5. FL's 62537326>
   Arg 4 (.OPERATION.): INIT
   Rest arg (ARGS): (#<DTP-LOCATIVE 100350>)

Rest of stack:
(METHOD TAPE:REMOTE-TAPE-INPUT-STREAM COMBINED INIT):  (P.C. = 12)
INSTANTIATE-FLAVOR:  (P.C. = 345)
MAKE-INSTANCE:  (P.C. = 6)
TAPE:MAKE-REMOTE-TAPE-STREAM:  (P.C. = 50)
TAPE:MAKE-STREAM:  (P.C. = 222)
DIS:RAW-DISTRIBUTION-STREAM:  (P.C. = 76)
DIS:DISTRIBUTION-TAPE-STREAM:  (P.C. = 101)
DIS:DISTRIBUTION-RELOADER-GET-STREAM:  (P.C. = 141)
DIS:LOAD-DISTRIBUTION-TAPE:  (P.C. = 12)
SI:*EVAL:  (P.C. = 405)
SI:LISP-TOP-LEVEL1:  (P.C. = 130)
SYS:LISP-TOP-LEVEL:  (P.C. = 7)
 9-Sep-83 17:46:14-EDT,914;000000000000
Return-path: <BSG@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Fri 9-Sep-83 16:07:21-EDT
Date: Friday, 9 September 1983, 16:08-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: Tape server login
To: RAY@MIT-ML, BUG-LISPM@MIT-OZ
In-reply-to: The message of 9 Sep 83 11:49-EDT from Ray Hirschfeld <RAY at ML>

    Date: Friday, 9 September 1983, 11:49-EDT
    From: Ray Hirschfeld <RAY at MIT-ML>
    In System 222.249, Zmail 74.46, Tape 19.2, site configuration 53, on PI Project:

    I typed "[escape] [return]" when it asked for a password....

    >>Trap: The array given to SYS:SETUP-FORCE-1D-ARRAY, ANONYMOUS, was not an array.
    While in the function COPY-ARRAY-PORTION  (METHOD SI:BUFFERED-FAST-STRING-OUT-MIXIN STRING-OUT)  (METHOD SI:RECORD-STREAM-OUTPUT-MIXIN WRITE-RECORD)

Fixed in release 5.  For now, instead of [return], type the string "anonymous".
 9-Sep-83 22:59:09-EDT,1136;000000000000
Return-path: <CStacy@MIT-MC>
Date: Friday, 9 September 1983, 22:23-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
Subject: Tape server login
To: Bernard S. Greenberg <BSG at SCRC-TENEX>
Cc: RAY at MIT-ML, BUG-LISPM at MIT-OZ
In-reply-to: The message of 9 Sep 83 16:08-EDT from Bernard S. Greenberg <BSG at SCRC-TENEX>

    Date: Friday, 9 September 1983, 16:08-EDT
    From: Bernard S. Greenberg <BSG@SCRC-TENEX>
	Date: Friday, 9 September 1983, 11:49-EDT
	From: Ray Hirschfeld <RAY at MIT-ML>
	In System 222.249, Zmail 74.46, Tape 19.2, site configuration 53, on PI Project:

	I typed "[escape] [return]" when it asked for a password....

	>>Trap: The array given to SYS:SETUP-FORCE-1D-ARRAY, ANONYMOUS, was not an array.
	While in the function COPY-ARRAY-PORTION  (METHOD SI:BUFFERED-FAST-STRING-OUT-MIXIN STRING-OUT) 
         (METHOD SI:RECORD-STREAM-OUTPUT-MIXIN WRITE-RECORD)
    Fixed in release 5.  For now, instead of [return], type the string "anonymous".

Then is asks for a password.  If the password is typed in, it bombs out again with the same error.
(I was trying to help this person today.)
10-Sep-83 01:31:55-EDT,853;000000000000
Return-path: <INQUPD@MIT-MC>
Date: 10 September 1983 00:55 EDT
From: INQUPD @ MIT-MC
To: ANCIENT-ITS-INQUIR-PEOPLE @ MIT-OZ


Hello,

This message is being mailed to you automatically by a program,
because some ITS INQUIR entry pointed to your address on MIT-AI.
The INQUIR entry on ITS has been changed to point to MIT-OZ, and this
message is testing whether you are a real person on OZ or a bogus
INQUIR entry that can be flushed.

  *********************************************
  * If you are receiving this message,        *
  * simply ignore and do NOT respond to it.   *
  *********************************************

(If you do NOT receive this message, you must not exist, and so your
ITS INQUIR entry will probably be reaped soon.)

         - message on behalf of
            Chris Stacy <CSTACY @ MIT-MC>

Thanks
10-Sep-83 11:28:58-EDT,657;000000000000
Return-path: <ZVONA@MIT-OZ>
Date: Saturday, 10 September 1983, 11:27-EDT
From: David Chapman <ZVONA@MIT-OZ>
Subject: I can't find mcr 217.
To: BUG-LISPM@MIT-OZ

In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
site configuration 75, on Lisp Machine Keith Moon:

I couldn't find a 217 here at MIT anywhere.  Is there a canonical machine for new 
bands to go to that I should know to look on?

>>Error: This patch file can only be loaded with microcodes 217
While in the function SI:*EVAL  PROGN  SI:*EVAL

SI:LOAD-BIN-OP-FORM:  (P.C. = 4)
   Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222-253.BIN" 5473330>
10-Sep-83 12:40:27-EDT,2647;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Saturday, 10 September 1983, 12:40-EDT
From: Gavan Duffy <GAVAN@MIT-OZ>
Subject: can't expunge
To: BUG-LISPM@MIT-OZ

In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
site configuration 75, on Lisp Machine Apiary-6:

When trying to expunge an oz directory, this never happened to me
before.  Dunno where the FOO came from.  The directory specification is
valid up until the FOO.

>>Error: File system bug on host MIT-OZ:
Invalid directory specification (at 11541 inside FILE server)
For OZ:SRC:<RELATUS.LEXIS>FOO.*.*
While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:EXPUNGE-CHAOS  (:METHOD FS:CHAOS-PATHNAME :EXPUNGE)

(:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 245)
   Arg 0 (SELF): #<HOST-UNIT 2356024>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): :COMMAND
   Arg 3 (MARK-P): NIL
   Arg 4 (STREAM-OR-HANDLE): NIL
   Arg 5 (SIMPLE-P): NIL
   Arg 6 (WHOSTATE): "Expunge"
   Rest arg (COMMANDS): ("EXPUNGE" 141. "SRC:<RELATUS.LEXIS>FOO.*.*" 141.)
   Local 8 (HANDLE): NIL
   Local 9 (STREAM): NIL
   Local 10 (PKT): #<CHAOS Packet 5552604>
   Local 11 (SUCCESS): NIL
   Local 12 (STRING): " ERROR BUG F Invalid directory specification (at 11541 inside FILE server)"
   Local 13 (TRANSACTION-ID): "T2182"
   Local 14 (CREATE-P): NIL
   Local 15 (CONDITION): NIL

FS:EXPUNGE-CHAOS:  (P.C. = 56)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (*COMMAND-PATHNAME*-initialization): #<TOPS20-PATHNAME "OZ:SRC:<RELATUS.LEXIS>FOO.*.*">
   Arg 2 (OPTIONS): (ERROR NIL)

(:METHOD FS:CHAOS-PATHNAME :EXPUNGE):  (P.C. = 6)
   Arg 0 (SELF): #<TOPS20-PATHNAME "OZ:SRC:<RELATUS.LEXIS>FOO.*.*">
   Arg 1 (SELF-MAPPING-TABLE): FS:CHAOS-PATHNAME
   Arg 2 (OPERATION): :EXPUNGE
   Rest arg (OPTIONS): (ERROR NIL)

FS:EXPUNGE-DIRECTORY:  (P.C. = 120)
   Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:SRC:<RELATUS.LEXIS>">
   Rest arg (OPTIONS): (ERROR NIL)

ZWEI:COM-DIRED-EXIT:  (P.C. = 371)

ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
   Arg 0 (COMMAND): ZWEI:COM-DIRED-EXIT
   Arg 1 (CHAR): 113.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
   Arg 0 (CH): 113.

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 173)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

Rest of stack:
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
11-Sep-83 05:01:15-EDT,1364;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Sat 10-Sep-83 14:54:37-EDT
Date: Saturday, 10 September 1983, 14:48-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: can't expunge
To: Ian@MIT-OZ
Cc: BUG-LISPM@MIT-OZ, Gavan Duffy <GAVAN@MIT-OZ>
In-reply-to: The message of 10 Sep 83 12:40-EDT from Gavan Duffy <GAVAN at OZ>

    Date: Saturday, 10 September 1983, 12:40-EDT
    From: Gavan Duffy <GAVAN@MIT-OZ>
    In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
    site configuration 75, on Lisp Machine Apiary-6:

    When trying to expunge an oz directory, this never happened to me
    before.  Dunno where the FOO came from.  The directory specification is
    valid up until the FOO.

    >>Error: File system bug on host MIT-OZ:
    Invalid directory specification (at 11541 inside FILE server)
    For OZ:SRC:<RELATUS.LEXIS>FOO.*.*
    While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:EXPUNGE-CHAOS  (:METHOD FS:CHAOS-PATHNAME :EXPUNGE)

    (:METHOD FS:CHAOS-PATHNAME :EXPUNGE):  (P.C. = 6)
       Arg 0 (SELF): #<TOPS20-PATHNAME "OZ:SRC:<RELATUS.LEXIS>FOO.*.*">

    FS:EXPUNGE-DIRECTORY:  (P.C. = 120)
       Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:SRC:<RELATUS.LEXIS>">
       Rest arg (OPTIONS): (ERROR NIL)

Well, I guess you broke it in your change yesterday.
11-Sep-83 05:01:46-EDT,1183;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Sat 10-Sep-83 14:56:31-EDT
Date: Saturday, 10 September 1983, 14:50-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: I can't find mcr 217.
To: David Chapman <ZVONA@MIT-OZ>, RWK@SCRC-TENEX
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 10 Sep 83 11:27-EDT from David Chapman <ZVONA at OZ>

    Date: Saturday, 10 September 1983, 11:27-EDT
    From: David Chapman <ZVONA@MIT-OZ>
    In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
    site configuration 75, on Lisp Machine Keith Moon:

    I couldn't find a 217 here at MIT anywhere.  Is there a canonical machine for new 
    bands to go to that I should know to look on?

    >>Error: This patch file can only be loaded with microcodes 217
    While in the function SI:*EVAL  PROGN  SI:*EVAL

    SI:LOAD-BIN-OP-FORM:  (P.C. = 4)
       Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222-253.BIN" 5473330>

Probably if your band calls itself a "System" rather than a "Release" it is broken and
you shouldn't be using it.

RWK can probably direct you to a source of correct software.
11-Sep-83 07:52:51-EDT,1096;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Sat 10-Sep-83 15:52:52-EDT
Date: Saturday, 10 September 1983, 15:51-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: I can't find mcr 217.
To: ZVONA@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 10 Sep 83 11:27-EDT from David Chapman <ZVONA at MIT-OZ>

    Date: Saturday, 10 September 1983, 11:27-EDT
    From: David Chapman <ZVONA@MIT-OZ>
    In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
    site configuration 75, on Lisp Machine Keith Moon:

    I couldn't find a 217 here at MIT anywhere.  Is there a canonical machine for new 
    bands to go to that I should know to look on?

    >>Error: This patch file can only be loaded with microcodes 217
    While in the function SI:*EVAL  PROGN  SI:*EVAL

    SI:LOAD-BIN-OP-FORM:  (P.C. = 4)
       Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222-253.BIN" 5473330>

There appears be a usable 219 in sys:l-ucode;tmc5-mic.mic.219
(OZ:SRC:<S.L-UCODE>).  Use the SI:INSTALL-MICROCODE function.
11-Sep-83 08:24:29-EDT,1096;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Sat 10-Sep-83 15:52:52-EDT
Date: Saturday, 10 September 1983, 15:51-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: I can't find mcr 217.
To: ZVONA@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: The message of 10 Sep 83 11:27-EDT from David Chapman <ZVONA at MIT-OZ>

    Date: Saturday, 10 September 1983, 11:27-EDT
    From: David Chapman <ZVONA@MIT-OZ>
    In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
    site configuration 75, on Lisp Machine Keith Moon:

    I couldn't find a 217 here at MIT anywhere.  Is there a canonical machine for new 
    bands to go to that I should know to look on?

    >>Error: This patch file can only be loaded with microcodes 217
    While in the function SI:*EVAL  PROGN  SI:*EVAL

    SI:LOAD-BIN-OP-FORM:  (P.C. = 4)
       Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222-253.BIN" 5473330>

There appears be a usable 219 in sys:l-ucode;tmc5-mic.mic.219
(OZ:SRC:<S.L-UCODE>).  Use the SI:INSTALL-MICROCODE function.
11-Sep-83 12:43:58-EDT,1345;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Sunday, 11 September 1983, 12:39-EDT
From: David Chapman <Zvona@MIT-OZ>
Subject: no file partition here; procede handlers for too-few-args and lmfs create directory 
To: bug-lispm@MIT-OZ

In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
site configuration 75, on Lisp Machine Keith Moon:

Keith Moon (MIT-MOON) has no file partition.  Presumably machines should
not be shipped without them, since there seems to be no way to fix this
in rel 4.

It would be featureful if the procede frobby for lmfs non-existent
directory error that offers to create could deal with the superior also
being non existent, recursively, and ask you if you want to create that
too. 

In a two-few args trap.  Setfing the (dbg:arg n)'s that were missing and
c-m-R-ing clobbered the args and lost again.  I resetfed the args and
tried c-C (supply missing args).  It wanted me to supply the missing
args, even though they were no longer missing.  I aborted; it had
clobbered the args to unbound again.  I resetfed again and tried the
other proceed frobby, Retry the TAKE-N-ARGS Instruction (not a
transparent description).  That didn't win either; once again, it
managed to clobber the args. 

Obviously I could have used c-C to start with, but it would be better if
doing what I did were supported.
11-Sep-83 15:03:50-EDT,1258;000000000000
Return-path: <IAN@MIT-OZ>
Mail-From: IAN created at 11-Sep-83 15:01:30
Date: 11 Sep 1983  15:01 EDT (Sun)
Message-ID: <[MIT-OZ].IAN.11-Sep-83 15:01:30>
From: Ian Macky <Ian@MIT-OZ>
To:   David A. Moon <Moon@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ, Gavan Duffy <GAVAN@MIT-OZ>
Subject: can't expunge
In-reply-to: Msg of 10 Sep 1983 14:48-EDT from David A. Moon <Moon at SCRC-TENEX>

Something seems to have vanished the version of the FILE server that did
expunges correctly.  The one on SSY: that Moon converted to 10X didn't
work right, obviously - it was a test one I had done at one point, then
abandoned.  The (quite different) one that did it right was nowhere to
be found (after I put it in SSY: and installed a server version).  I
have no idea where they went.

So I made all the changes again and it works right (again).  Moon, there
is nothing that has to be translated to 10X in this one (version 531).

I'm sorry about that, I don't know what happened.

P.S. you can specify either a full filespec to expunge (caution: it
     expunges directories ONLY, so if you say to expunge <FOO>BAR.*
     then ALL of BAR will be expunged (this should be fixed)), or
     just a directory (<FOO>, or <FOO*> or whatever) with no filespec.
11-Sep-83 20:13:46-EDT,744;000000000000
Return-path: <MOON@SCRC-TENEX>
Date: Sunday, 11 September 1983  19:44-EDT
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   bug-lispm at MIT-OZ
Subject: no file partition here; procede handlers for too-few-args and lmfs create directory 
In-reply-to: The message of 11 Sep 1983 12:39-EDT from David Chapman <Zvona@MIT-OZ>

    Date: Sunday, 11 September 1983, 12:39-EDT
    From: David Chapman <Zvona@MIT-OZ>

    Keith Moon (MIT-MOON) has no file partition.  Presumably machines should
    not be shipped without them, since there seems to be no way to fix this
    in rel 4.

Someone, perhaps knowing what they were doing, renamed it to page1.page,
or so I deduce from looking at the directory fep:>*.*.*.
11-Sep-83 22:05:19-EDT,1047;000000000000
Return-path: <KBE@MIT-OZ>
Date: Sunday, 11 September 1983, 22:01-EDT
From: Apprentice for KMP <KBE@MIT-OZ>
Subject: More problems with 3600
To: BUG-LISPM@MIT-OZ

In Release 4.4, microcode TMC5-MIC 219, site configuration 75, 
on Lisp Machine Keith Moon:

Why is it that Terminal M seems to have been done by default on 3600's
in Release 4.4?  This has happened for weeks on Merlin and I've been
supposing it's because I dumped it out wrong, but I am now on another
3600 and notice that it's true here. A couple of other people in the
room when I asked if they'd noticed it said they thought it was general
to many or all of the machines around. 

Is this an intended feature?  We don't have Release 4.4 for the LM-2, so
we don't have anything to compare against.

Is it even in the system definition at all? ie, could it be something 
 that happens when systems get installed [incorrectly]? Someone 
 suggested maybe some long installation diagnostic causes the person
 running the diagnostic to want to type Terminal M ...
12-Sep-83 01:20:29-EDT,895;000000000000
Return-path: <JCMa@MIT-OZ>
Date: Monday, 12 September 1983, 01:14-EDT
From: John C. Mallery <JCMa@MIT-OZ>
Subject: Is CALL broken?
To: BUG-LISPM@SCRC-TENEX

In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5, FEP 12,
site configuration 75, on Lisp Machine Apiary-3:

Call doesn't want to win here.  What's the problem?

>>Trap: The argument given to CAR, #<DTP-COMPILED-FUNCTION PRINT 1256665>, was not a list, a locative or NIL.
While in the function CALL  *EVAL  BREAK

CALL:  (P.C. = 16)
   Arg 0 (FN): #<DTP-COMPILED-FUNCTION PRINT 1256665>
   Rest arg (ALTERNATES): (NIL FOO)
   Local 2 (MAX-ARGS): 1.
   Local 3 (COUNT-ONLY): NIL
   Local 4 (N-ARGS): 1.
   Local 5 (Y): #<DTP-COMPILED-FUNCTION PRINT 1256665>
   Local 6 (OPTIONAL-FLAG): (NIL FOO)
   Local 7 (SPREAD-FLAG): NIL

*EVAL:  (P.C. = 405)
   Arg 0 (FORM): (CALL (FUNCTION PRINT) NIL (QUOTE FOO))

12-Sep-83 02:25:16-EDT,1043;000000000000
Return-path: <IAN@MIT-OZ>
Mail-From: IAN created at 12-Sep-83 02:17:56
Date: 12 Sep 1983  02:17 EDT (Mon)
Message-ID: <[MIT-OZ].IAN.12-Sep-83 02:17:55>
From: Ian Macky <Ian@MIT-OZ>
To:   Bug-MAIL@MIT-OZ, Bug-LISPM@MIT-OZ
CC:   Joseph@MIT-OZ
Subject: [JOSEPH: Testing...]

Date: Sunday, 11 September 1983  23:28-EDT
From: JOSEPH
To:   Ian Macky <IAN>
cc:   joseph
Re:   Testing...

	.
	.
	.

A minor problem seems to have cropped up.  I've received a message
intended for another joseph; don't know why or how.  I hope that
adding <joseph> hasn't messed things up.  I checked first to see if
anyone was using such a name and inquir said no and there was no
directory by that name...

"Intercepted" message:

	Date: Saturday, 10 September 1983, 12:18-EDT
	From: David Chapman <Zvona>
	To:   Joseph R. Goldstone <joseph at SCRC-LETHE>
	Re:   I can't find mcr 217.

	Thank you very much.  I didn't know about si:install-microcode.

;;;;Joseph(@oz)

[Anyone know how this might have ended up delivered to OZ?]
12-Sep-83 05:25:48-EDT,347;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Monday, 12 September 1983, 05:19-EDT
From: Gavan Duffy <GAVAN@MIT-OZ>
Subject: deff loses macro indentation
To: BUG-LISPM@MIT-OZ

In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
site configuration 75, on Lisp Machine Apiary-5:

When you DEFF a macro-surrounding-code it doesn't indent correctly.
12-Sep-83 09:47:20-EDT,1178;000000000000
Return-path: <BSG@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Mon 12-Sep-83 09:41:24-EDT
Date: Monday, 12 September 1983, 09:40-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: no file partition here; procede handlers for too-few-args and lmfs create directory 
To: Zvona@MIT-OZ, bug-lispm@MIT-OZ
In-reply-to: The message of 11 Sep 83 12:39-EDT from David Chapman <Zvona at OZ>

    Date: Sunday, 11 September 1983, 12:39-EDT
    From: David Chapman <Zvona@MIT-OZ>
    In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
    site configuration 75, on Lisp Machine Keith Moon:

    Keith Moon (MIT-MOON) has no file partition.  Presumably machines should
    not be shipped without them, since there seems to be no way to fix this
    in rel 4.

    It would be featureful if the procede frobby for lmfs non-existent
    directory error that offers to create could deal with the superior also
    being non existent, recursively, and ask you if you want to create that
    too. 
In Release 5, the proceed handler, when invoked, creates all superior
directories recursively.  The handler is generic, i.e., not LMFS-specific.
12-Sep-83 13:53:05-EDT,701;000000000000
Return-path: <MOON@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Mon 12-Sep-83 13:02:36-EDT
Date: Monday, 12 September 1983, 12:55-EDT
From: David A. Moon <MOON@SCRC-TENEX>
Subject: More problems with 3600
To: Apprentice for KMP <KBE@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 11 Sep 83 22:01-EDT from Apprentice for KMP <KBE at OZ>

    Date: Sunday, 11 September 1983, 22:01-EDT
    From: Apprentice for KMP <KBE@MIT-OZ>
    In Release 4.4, microcode TMC5-MIC 219, site configuration 75, 
    on Lisp Machine Keith Moon:

    Why is it that Terminal M seems to have been done by default on 3600's
    in Release 4.4?

"Cockpit error" somewhere.
12-Sep-83 15:07:10-EDT,701;000000000000
Return-path: <MOON@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Mon 12-Sep-83 13:02:36-EDT
Date: Monday, 12 September 1983, 12:55-EDT
From: David A. Moon <MOON@SCRC-TENEX>
Subject: More problems with 3600
To: Apprentice for KMP <KBE@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 11 Sep 83 22:01-EDT from Apprentice for KMP <KBE at OZ>

    Date: Sunday, 11 September 1983, 22:01-EDT
    From: Apprentice for KMP <KBE@MIT-OZ>
    In Release 4.4, microcode TMC5-MIC 219, site configuration 75, 
    on Lisp Machine Keith Moon:

    Why is it that Terminal M seems to have been done by default on 3600's
    in Release 4.4?

"Cockpit error" somewhere.
12-Sep-83 15:36:36-EDT,701;000000000000
Return-path: <MOON@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Mon 12-Sep-83 13:02:36-EDT
Date: Monday, 12 September 1983, 12:55-EDT
From: David A. Moon <MOON@SCRC-TENEX>
Subject: More problems with 3600
To: Apprentice for KMP <KBE@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 11 Sep 83 22:01-EDT from Apprentice for KMP <KBE at OZ>

    Date: Sunday, 11 September 1983, 22:01-EDT
    From: Apprentice for KMP <KBE@MIT-OZ>
    In Release 4.4, microcode TMC5-MIC 219, site configuration 75, 
    on Lisp Machine Keith Moon:

    Why is it that Terminal M seems to have been done by default on 3600's
    in Release 4.4?

"Cockpit error" somewhere.
12-Sep-83 16:19:52-EDT,813;000000000000
Return-path: <dove@MIT-DSPG>
Date: Monday, 12 September 1983, 16:15-EDT
From: Web Dove <dove at MIT-DSPG>
Subject: remhash-equal fails to return the object
To: BUG-LISPM at OZ

In Release 4.4, Experimental KBSP 8.1, site configuration 71,
happy days!, on Lisp Machine Tweety Pie:

with eq hash tables remhash returns t

(setq hash (make-hash-table))
#<EQ-HASH-TABLE 16054532>
(puthash 'a 'stuff hash)
STUFF
(gethash 'a hash)
STUFF
T
(remhash 'a hash)
T
(remhash 'a hash)
NIL
(gethash 'a hash)
NIL

with equal hash tables it doesn't

(setq hash (make-equal-hash-table))
#<EQUAL-HASH-TABLE 16055063>
(puthash-equal 'a 'stuff hash)
STUFF
(gethash-equal 'a hash)
STUFF
T
(remhash-equal 'a hash)
NIL
(remhash-equal 'a hash)
NIL
(gethash-equal 'a hash)
NIL
NIL

(dribble-end)
12-Sep-83 16:39:42-EDT,1887;000000000000
Return-path: <MOON@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Mon 12-Sep-83 16:36:10-EDT
Date: Monday, 12 September 1983, 16:34-EDT
From: David A. Moon <MOON@SCRC-TENEX>
Subject: proceed handler for too-few-args
To: David Chapman <Zvona@MIT-OZ>
Cc: bug-lispm@MIT-OZ
In-reply-to: The message of 11 Sep 83 12:39-EDT from David Chapman <Zvona at OZ>

    Date: Sunday, 11 September 1983, 12:39-EDT
    From: David Chapman <Zvona@MIT-OZ>
    In System 222.252, Zmail 74.47, LMFS 30.46, Tape 19.5,
    site configuration 75, on Lisp Machine Keith Moon:

    In a two-few args trap.  Setfing the (dbg:arg n)'s that were missing and
    c-m-R-ing clobbered the args and lost again.  I resetfed the args and
    tried c-C (supply missing args).  It wanted me to supply the missing
    args, even though they were no longer missing.  I aborted; it had
    clobbered the args to unbound again.  I resetfed again and tried the
    other proceed frobby, Retry the TAKE-N-ARGS Instruction (not a
    transparent description).  That didn't win either; once again, it
    managed to clobber the args. 

    Obviously I could have used c-C to start with, but it would be better if
    doing what I did were supported.

(setf (dbg:arg n) x) should have given an error, telling you that there weren't
that many args.  You were bashing random locations in the function's stack frame.
It's a little complicated to make it do its error checking correctly however
(it's already trying, but fails in this particular case where the function has
not yet been entered and there was a too-few-args error; it thinks there are
slots in the stack frame for the arguments you didn't supply, but there aren't
yet.)

Also (setf (dbg:arg n) x) will not cause c-m-R to supply optional args that were
defaulted the previous time.  It really ought to, I suppose.
12-Sep-83 17:33:17-EDT,806;000000000000
Return-path: <MOON@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-SPANIEL with CHAOS; Mon 12-Sep-83 17:21:41-EDT
Date: Monday, 12 September 1983, 17:20-EDT
From: David A. Moon <MOON at SCRC>
Subject: remhash-equal fails to return the object
To: Web Dove <dove at DSPG>
Cc: BUG-LISPM at OZ
In-reply-to: The message of 12 Sep 83 16:15-EDT from Web Dove <dove at DSPG>

    Date: Monday, 12 September 1983, 16:15-EDT
    From: Web Dove <dove at MIT-DSPG>
    In Release 4.4, Experimental KBSP 8.1, site configuration 71,
    happy days!, on Lisp Machine Tweety Pie:

    with eq hash tables remhash returns t
    with equal hash tables it doesn't

Thanks for the report.  It's supposed to return T if it found something
to remove, NIL if it didn't.  Fixed in release 5 by my next patch.
12-Sep-83 20:13:56-EDT,2116;000000000000
Return-path: <Anonymous@MIT-OZ>
Date: Monday, 12 September 1983, 19:54-EDT
From: File Transfer Login <Anonymous@MIT-OZ>
Subject: microcode 217, where are you?
To: BUG-LISPM@MIT-OZ

In System 222.252, FEP 12, site configuration 43, on Lisp Machine Apiary-3:

When doing load-and-save-patches.

>>Error: This patch file can only be loaded with microcodes 217
While in the function SI:*EVAL  PROGN  SI:*EVAL

SI:*EVAL:  (P.C. = 405)
   Arg 0 (FORM): (FERROR "This patch file can only be loaded with microcodes 217")
   Local 1: NIL
   Local 2 (ARGNUM): 1
   Local 3 (FCTN): #<DTP-COMPILED-FUNCTION FERROR 1370147>
   Local 4 (CFCTN): #<DTP-COMPILED-FUNCTION FERROR 1370147>
   Local 5 (ARGL): NIL
   Local 6 (MAX-ARGS): 1
   Local 7 (N-ARGS): 1
   Local 8 (ARG-DESC): 200401
   Local 9 (TEM): NIL
   Local 10 (COUNT): NIL
   Local 11 (QUOTE-STATUS): NIL
   Local 12 (REST-FLAG): NIL
   Local 13 (FEXPR-FLAG): NIL
   Local 14 (LAMBDA-LIST): NIL

PROGN:  (P.C. = 27)
   Rest arg (EXPRESSIONS): ((FERROR "This patch file can only be loaded with microcodes 217"))

SI:*EVAL:  (P.C. = 443)
   Arg 0 (FORM): (PROGN (FERROR "This patch file can only be loaded with microcodes 217"))

COND:  (P.C. = 57)
   Rest arg (CLAUSES): (((NOT ( ** 331)) (PROGN (FERROR "This patch file can only be loaded with microcodes 217"))))

SI:*EVAL:  (P.C. = 443)
   Arg 0 (FORM): (COND ((NOT ( ** 331)) (PROGN (FERROR "This patch file can only be loaded with microcodes 217"))))

SI:LOAD-BIN-OP-FORM:  (P.C. = 4)
   Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222-253.BIN" 3576366>

SI:BIN-LOAD-NEXT-COMMAND:  (P.C. = 21)
   Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222-253.BIN" 3576366>

SI:BIN-LOAD-TOP-LEVEL:  (P.C. = 6)
   Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222-253.BIN" 3576366>

Rest of stack:
SI:BIN-LOAD-FILE-INTERNAL:  (P.C. = 120)
LOAD-PATCHES:  (P.C. = 505)
LOAD-AND-SAVE-PATCHES:  (P.C. = 23)
SI:*EVAL:  (P.C. = 405)
SI:LISP-TOP-LEVEL1:  (P.C. = 130)
SYS:LISP-TOP-LEVEL:  (P.C. = 7)
12-Sep-83 21:16:16-EDT,1668;000000000000
Return-path: <dove@MIT-DSPG>
Date: Monday, 12 September 1983, 21:10-EDT
From: Web Dove <dove at MIT-DSPG>
Subject: (atan2 0 0)->bust
To: BUG-LISPM at MIT-OZ

In Release 4.4, Experimental KBSP 8.4, site configuration 71,
happy days!, on Lisp Machine Tweety Pie:

Is this supposed to bust?  I thought that was the reason for two
arguments!

>>Error: The condition FLOAT-INVALID-OPERATION occurred while doing SYS:%FLOAT-OPERATION-DIVIDE
While in the function SI:ATAN-AUX  ATAN  ATAN2

SI:ATAN-AUX:  (P.C. = 23)
   Arg 0 (Y): 0.
   Arg 1 (X): 0.
   Local 2 (ABSX): 0.0
   Local 3 (ABSY): 0.0
   Local 4 (TEMP): NIL
   Local 5 (TEMP2): NIL
   Local 6 (ANS): -0.004054058
   Local 7 (L): #<DTP-ODD-PC 1366550>

ATAN:  (P.C. = 4)
   Arg 0 (Y): 0.
   Arg 1 (X): 0.

ATAN2:  (P.C. = 16)
   Arg 0 (Y): 0.
   Arg 1 (X): 0.

SI:*EVAL:  (P.C. = 405)
   Arg 0 (FORM): (ATAN2 0. 0.)

BREAK:  (P.C. = 360)
   Arg 0 (TAG): ZWEI:ZMACS
   --Defaulted args:--
   Arg 1 (CONDITIONAL): T

(DEFUN-METHOD ZWEI:COM-BREAK):  (P.C. = 7)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>

ZWEI:COM-BREAK:  (P.C. = 12)
   Rest arg (ARGS): NIL

ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
   Arg 0 (COMMAND): ZWEI:COM-BREAK
   Arg 1 (CHAR): 129.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): (ZWEI:SHIFT-LOCK-HOOK)

Rest of stack:
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
(METHOD ZWEI:EDITOR EDIT):  (P.C. = 173)
(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
12-Sep-83 21:37:58-EDT,1211;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Mon 12-Sep-83 21:32:32-EDT
Date: Mon, 12 Sep 83 21:31 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: (atan2 0 0)->bust
To: dove@MIT-DSPG
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 12 Sep 83 21:10-EDT from Web Dove <dove at DSPG>
Message-ID: <830912213140.5.MMcM@SCRC.SCRC>

    Date: Monday, 12 September 1983, 21:10-EDT
    From: Web Dove <dove at MIT-DSPG>
    In Release 4.4, Experimental KBSP 8.4, site configuration 71,
    happy days!, on Lisp Machine Tweety Pie:

    Is this supposed to bust?  I thought that was the reason for two
    arguments!

    >>Error: The condition FLOAT-INVALID-OPERATION occurred while doing SYS:%FLOAT-OPERATION-DIVIDE

    SI:*EVAL:  (P.C. = 405)
       Arg 0 (FORM): (ATAN2 0. 0.)

It's supposed to be an error, but it's not "supposed to bust".  Fixed
in release 5 to be comprehensible.

The reason for two arguments is to determine which of two possible
quadrants you mean by giving both signs rather than just one from the
quotient (tangent).  0 and 0 is still indeterminate -- what direction
does a vector that doesn't point anywhere point in?
13-Sep-83 02:02:05-EDT,1688;000000000000
Return-path: <CStacy@MIT-MC>
Date: Tuesday, 13 September 1983, 01:58-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
To: BUG-LISPM at MC

In Release 4.5, site configuration 75, on Lisp Machine Keith Moon:

ZMAIL randomly dies in the background process.

>>Trap: The array given to AR-1, NIL, was not an array.
While in the function ZWEI:ZMAIL-BACKGROUND-PARSE-MSGS  ZWEI:ZMAIL-BACKGROUND-PERFORM  ZWEI:ZMAIL-BACKGROUND-LOOP-BODY

ZWEI:ZMAIL-BACKGROUND-PARSE-MSGS:  (P.C. = 43)
   Arg 0 (REQUEST): (ZWEI:ZMAIL-BACKGROUND-PARSE-MSGS #<BABYL-BUFFER "MC: CSTACY; CSTACY BABYL" 5637645> 87.)
   Local 1 (BUFFER): #<BABYL-BUFFER "MC: CSTACY; CSTACY BABYL" 5637645>
   Local 2 (START): 87.
   Local 3 (ARRAY): #<ART-Q-256. 5637667>
   Local 4: #<DTP-LOCATIVE 5637646>
   Local 5: T
   Local 6: T
   Local 7: #<DTP-ODD-PC 23263075>
   Local 8: #<DTP-LOCATIVE 52320351>
   Local 9: #<DTP-LOCATIVE 31340063>
   Local 10 (INDEX): 195.
   Local 11 (MAX): 226.
   Local 12 (COUNT): 0.
   Local 13 (MSG): NIL

ZWEI:ZMAIL-BACKGROUND-PERFORM:  (P.C. = 21)
   Arg 0 (CURRENT-REQUEST): (ZWEI:ZMAIL-BACKGROUND-PARSE-MSGS #<BABYL-BUFFER "MC: CSTACY; CSTACY BABYL" 5637645> 87.)

ZWEI:ZMAIL-BACKGROUND-LOOP-BODY:  (P.C. = 32)
   Arg 0 (LOCK): #<DTP-LOCATIVE 52320236>
   Arg 1 (COMMAND-BUFFER-POINTER): #<DTP-LOCATIVE 52320235>
   Arg 2 (PRELOAD-QUEUE-POINTER): #<DTP-LOCATIVE 52320237>
   Arg 3 (PRELOAD-FILE-POINTER): #<DTP-LOCATIVE 52320240>

ZWEI:ZMAIL-BACKGROUND:  (P.C. = 32)
   Arg 0 (*FOREGROUND-WINDOW*-initialization): #<ZMAIL-FRAME Main Zmail Window 3000143 deexposed>

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
14-Sep-83 18:30:22-EDT,920;000000000000
Return-path: <SR.CYPHER@MIT-SPEECH>
Date: Wednesday, 14 September 1983, 18:26-EDT
From: D. Scott Cyphers <SR.CYPHER@MIT-SPEECH>
To: BUG-LISPM@SCRC-TENEX

In Release 4.4, site configuration 75, on Lisp Machine Grizzly:
There is this problem that might be hardware and might be software.  It happens
in Release 4.5, microcode 219.  I rebuilt 4.5 from 4.4 distribution and the problem
continued to happen in the same manner.  Mark Graffam has changed IO boards and the
I/O paddle card and asked me to send you this.  Grizzly has an Eagle disk.  The
problem does not happen in 4.4/214.  The show status at the halt is the same as
if you stop lisp yourself.

If you start with a 4.5/219 and say
(login 'username 'speech nil)
(load "sys:site;spire system")
(load "spire:spire;nspire-system")
it will almost always get to between 16 and 20% of the way through loading
the file and then lisp will stop itself
14-Sep-83 22:09:10-EDT,769;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 22:09-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail window configuration
To: BUG-LISPM at MC

In Release 4.4, Knowledge-Based-Editor 214.0, site configuration 62,
AAAI-83, on PA Lisp Machine Merlin:

I frequently find myself wanting to access my normal editor while 
in ZMail without losing my sense of context. I think it would be
nice if there were an item in the middle menu-window which was 
gave me a reconfiguration of the ZMail frame which had shrunk the
summary and message windows and which left the bottom part of the
screen being a ZWEI window so I could play with ZWEI without losing
my context. I suppose doing this through configurations would be
the right thing...
14-Sep-83 22:43:35-EDT,429;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 22:40-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Aborted Messages in ZMail
To: BUG-LISPM at OZ
Cc: CStacy at MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

There should be a way of telling ZMail that I really don't plan 
to continue certain messages so I don't have to get a cluttered
menu of things when I mouse Right on Continue. 
-kmp
14-Sep-83 23:09:43-EDT,545;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 22:49-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: c-F in ZMail
To: BUG-LISPM at OZ

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

The c-F command seems to only search undeleted messages.
Its docoumentation does not mention this.

The Babyl command c-F (which I was thinking about at the time)
searches both deleted and undeleted messages. I believe that
to be the right thing. Usually it's better it should stop at too
many messages rather than too few...
14-Sep-83 23:13:33-EDT,549;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 22:52-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Fencepost condition in the Jump command
To: BUG-LISPM at MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

The Jump command should implicitly move to the next before
trying to find something. It's frustrating to click repeatedly
on Jump and wonder why nothing's happening just because you're
at the message in question. If I wanted to search the current
message, I'd edit the current message and use normal c-S.
14-Sep-83 23:18:07-EDT,1360;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 22:59-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Editing Keywords in ZMail
To: BUG-LISPM at MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

I have a lot of keywords in my Keywords list which I no longer use. 
In Babyl, I never see them, so it has never bothered me, but in ZMail,
I see them a lot when that keyword window pops up. It would be nice if
I could edit them directly from the Keywords window rather than having
to enter the profile mode, which is relatively tedious to get to from
the place I am when I notice the problem.

Couldn't Right click in Keywords give a menu of things to do to a keyword?
The operations I can think of offhand that would be useful are:
 * Delete keyword
 * Rename keyword (messages with that keyword would get the new name)
 * Tell me if keyword is in use on any message (so I know if 
    it's a candidate for deletion). This could even be standardly
    displayed by making such keywords grey if they are not in use.
There are other operations one can do with keywords certainly, but these are 
the only ones that come to mind immediately which can be done interactively
while the Keywords menu is exposed. Things like "Summarize messages marked
with keyword" would require typeout on a window which isn't exposed...
14-Sep-83 23:20:59-EDT,474;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 23:01-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Right click on filter name in ZMail filter creation window
To: BUG-lispm at MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

Right click on the name of the filter in the filter creation window
of ZMail pops up a window that's about 3 by 5 pixels, presumably
asking me to confirm something. Perhaps that window should contain 
some text.
14-Sep-83 23:25:02-EDT,1770;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 23:13-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Mouse sensitive items in Zmail filter-creation window
To: BUG-LISPM at MC
Cc: User-Interface at SCRC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

I had a lot of initial confusion using the ZMail filter-creation
window because I didn't realize that some of the things in it
(particularly the name of the filter) were mouse sensitive,
since I received no feedback from it when I waved the mouse over
it. I later noticed, upon becoming exasperated that there was no
menu item that would allow me to change the name, that the mouse
documentation changed when my mouse was over the top of the name
and that I could click on it directly.

This same thing occurs with the little Abort and Exit boxes at the
bottom of multiple-choice windows, which I've mentioned before ages
ago.  There the problem isn't not knowing what's going to happen,
but you still want to know when you're close enough to the box that
you can click -- especially since there are various problems with 
the scrolling blinkers that can come into play in that situation 
to try to confuse you.

I definitely prefer for things that are mouse sensitive to show it
by drawing some sort of box around them when the mouse is near
them unless there is some strong reason not to (and this isn't
such a reason).

I almost sometimes have the impression that everyone just wants to
experiment with their own little mouse sensitive box types. I would
really prefer, in a lot of cases, if things looked just like the
same old boring menus I get anyplace else ... then at least I could
have a better chance of predicting the functionality that's available.
14-Sep-83 23:28:42-EDT,568;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 23:19-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Suggestion for new Menu Item in Zmail main menu
To: BUG-LISPM at MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

It would be nice if there were a menu item in Zmail which I could click
on which would just prompt me for the topic of a bug report I was going
to start writing later without actually putting me in a window to type
it. That way, I could finish one bug report before having to worry about
starting the next...

:->
14-Sep-83 23:32:39-EDT,1487;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 23:33-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail -- [Sort]
To: CWH at SCRC, kmp at MC, BUG-LISPM at MC
In-reply-to: The message of 21 Aug 83 14:02-EDT from Carl W. Hoffman <CWH at SCRC>

    Date: Sunday, 21 August 1983, 14:02-EDT
    From: Carl W. Hoffman <CWH at SCRC>
    Re:   ZMail -- [Sort]

	Date: Sunday, 21 August 1983, 02:46-EDT
	From: Kent M. Pitman <kmp at MIT-MC>
        It seems to me like
	    (IF (NOT (ASSURE-MSG-PARSED message))
	        (PROCESS-WAIT "Parse" #'ASSURE-MSG-PARSED message))
        would be likely to run faster.

    PROCESS-WAIT does exactly this itself.  Before switching to the scheduler's
    stack group, it invokes the wait function in the stack group of the caller.
    The return value will be NIL if it never co-called the scheduler, and T if it
    did, although this is probably not a part of its contract.

No, it doesn't. It does CHECK-ARG, then it does this.

I admit this is nitpicky, but I did type Break a whole lot of times during the
sort and a very large percentage of the time that I did I found it doing STRINGP 
on "Parse" in the CHECK-ARG in that PROCESS-WAIT.

The case of the n^3 sort (O(n^2) algorithm * O(n) predicate) is for real, though.
Something should absolutely be done about that. That's the sort of thing that 
when people in the real world find out about, they will laugh you right out of 
the market ... 
14-Sep-83 23:37:04-EDT,411;000000000000
Return-path: <saund@MIT-OZ>
Date: Wednesday, 14 September 1983, 23:35-EDT
From: saund@MIT-OZ
Subject: with-open-file
To: bug-lispm@MIT-OZ

on cadr-24, load-band 2, system 94.35, (with-open-file) doesn't seem
to accept the ':new-file option like it says on page 435 of the manual,
and in doing (load-patches) none of the patches
appear to have anything to do with this.  Please, what am I doing wrong?
14-Sep-83 23:41:58-EDT,238;000000000000
Return-path: <saund@MIT-OZ>
Date: Wednesday, 14 September 1983, 23:40-EDT
From: saund@MIT-OZ
Subject: with-open-file
To: bug-lispm@MIT-OZ

Please pardon my last question; 
I now see that I have to set the direction to be ':input.
15-Sep-83 00:38:54-EDT,334;000000000000
Return-path: <CSTAC0@MIT-MC>
Date: 15 September 1983 00:39 EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
Sender: CSTAC0 @ MIT-MC
To: BUG-LISPM @ MIT-MC


In ZMAIL 74.46, in Release 4.4...:

The "Append" command should be called "Concatenate" instead.
The former sounds like something to do with files, not messages.


15-Sep-83 04:32:36-EDT,2757;000000000000
Return-path: <CENT5@MIT-ML>
Date: Thursday, 15 September 1983, 04:28-EDT
From: Pandora B. Berman <CENT5 at MIT-ML>
Subject: no more memory?
To: BUG-LISPM at MIT-OZ

In MIT-Specific 19.5, System 94.41, ZMail 50.17,
Experimental Local-File 44.3, FILE-Server 6.6, MagTape 14.4,
Experimental LFS 2.3, microcode 238, FC, on Lisp Machine Filecomputer:

whie trying to do this full dump of cadr27. i DID SO say (gc-on) before
i started it.

>>TRAP 4750 (VIRTUAL-MEMORY-OVERFLOW)
You've used up all available virtual memory!
Backtrace from the debugger:

SI:SIMPLE-MAKE-ARRAY (P.C. = 417)

 Arg 0 (DIMENSIONS): 3720
 Arg 1 (TYPE): 4
 Arg 2 (AREA): 36
 Arg 3 (LEADER-LENGTH): 1
   --Defaulted args:--
 Arg 4 (INITIAL-VALUE): NIL
Local 0 (INITIAL-VALUE-P): NIL
Local 1 (DATA-LENGTH): 764
Local 2 (LONG-ARRAY-P): T
Local 3 (ARRAY): NIL
Local 4 (ENTRIES-PER-Q): 4
Local 5 (HEADER-WORD): 10414000

GET-FC-CS-BFR (P.C. = 50)

SI:*EVAL (P.C. = 1234)

 Arg 0 (FORM): (GET-FC-CS-BFR)
Local 0 (ARGNUM): 0
Local 1 (FCTN): #<DTP-FEF-POINTER GET-FC-CS-BFR 4701642>
Local 2 (ARG-DESC): 0
Local 3 (NUM-ARGS): 0
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10: NIL
Local 11: NIL
Local 12 (IGNORE): NIL
Local 13 (ADL): NIL
Local 14 (ITEM): NIL
Local 15 (*SELECTQ-ITEM*): NIL

INSTANTIATE-FLAVOR (P.C. = 314)

 Arg 0 (FLAVOR-NAME): FC-LISPM-INPUT-STREAM
 Arg 1 (INIT-PLIST): #<DTP-LOCATIVE 200027>
 Arg 2 (SEND-INIT-MESSAGE-P): T
   --Defaulted args:--
 Arg 3 (RETURN-UNHANDLED-KEYWORDS-P): NIL
 Arg 4 (AREA-TO-CONS-INSTANCE-IN): NIL
Local 0 (FL): #<FLAVOR FC-LISPM-INPUT-STREAM 30420206>
Local 1 (UNHANDLED-KEYWORDS): NIL
Local 2 (INSTANCE): #<FC-LISPM-INPUT-STREAM "NIL" 16140137>
Local 3 (VARS): (FACTOR SI:INPUT-POINTER-BASE SI:STREAM-INPUT-LOWER-LIMIT SI:STREAM-INPUT-BUFFER ...)
Local 4 (NEW-PLIST): NIL
Local 5 (V): NIL
Local 6 (I): 24
Local 7 (VAR-KEYWORDS): (NIL NIL NIL NIL ...)
Local 8 (REMAINING-KEYWORDS): NIL
Local 9 (PL): NIL
Local 10 (INDEX): 22
Local 11: ((11 **) (10 0) (7 0) (4 NIL) ...)
Local 12 (D): (11 (GET-FC-CS-BFR))

MAKE-INSTANCE (P.C. = 24)

 Arg 0 (FLAVOR-NAME): FC-LISPM-INPUT-STREAM
 Rest arg (INIT-OPTIONS): (:BYTE-SIZE 10 :NODE #<TEXT-NODE-ENTITY l\sys2\SELEV QFASL#11 25440004> ...)

Remainder of stack:

(:METHOD NODE :TAPE-COMPARE) (P.C. = 112)
NODE-ENCAPSULATION (P.C. = 171)
VERIFY-FILE (P.C. = 135)
VERIFY-TAPE (P.C. = 63)
DUMP-ONE-TAPE (P.C. = 441)
DUMP-FILE-SYSTEM (P.C. = 141)
SI:*EVAL (P.C. = 1234)
SI:EVAL-ABORT-TRIVIAL-ERRORS (P.C. = 44)
SI:LISP-TOP-LEVEL1 (P.C. = 254)
SI:LISP-TOP-LEVEL2 (P.C. = 27)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
15-Sep-83 12:21:33-EDT,431;000000000000
Return-path: <RWK@SCRC-TENEX>
Date: 15 Sep 1983 1216-EDT
From: Robert W. Kerns <RWK@SCRC-TENEX>
Subject: Re: I can't find mcr 217.
To: Moon@SCRC-TENEX, ZVONA@MIT-OZ
cc: BUG-LISPM@MIT-OZ, RWK@SCRC-TENEX
In-Reply-To: The message of Saturday, 10 September 1983, 14:50-EDT from David A. Moon <Moon@SCRC-TENEX>

You do not have microcode 217 at MIT for good reason.  Try 219.
Let me know if you still have problems.
-------
15-Sep-83 14:01:48-EDT,507;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 14 September 1983, 23:50-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Useful, but missing commands in ZMail's Mail pane
To: BUG-LISPM at MIT-MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

Why isn't c-X ^ available in ZMail's Mail pane with the Header and Mail panes?

When I went to send this bug report, I found that m-X Bug is not available
from inside ZMail either.

In general, I wish that ZWEI were not so inaccessible from ZMail.
15-Sep-83 14:40:33-EDT,377;000000000000
Return-path: <RWK@SCRC-TENEX>
Date: 15 Sep 1983 1258-EDT
From: Robert W. Kerns <RWK@SCRC-TENEX>
Subject: Re: I can't find mcr 217.
To: Moon@SCRC-TENEX, ZVONA@MIT-OZ
cc: BUG-LISPM@MIT-OZ, RWK@SCRC-TENEX
In-Reply-To: The message of 15 Sep 1983 1216-EDT from Robert W. Kerns <RWK@SCRC-TENEX>

Hmm, I forgot to suggest you use the SI:INSTALL-MICROCODE function.
-------
15-Sep-83 15:09:28-EDT,808;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Thu 15-Sep-83 15:03:10-EDT
Date: Thursday, 15 September 1983, 14:55-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Re: I can't find mcr 217.
To: RWK@SCRC-TENEX, Moon@SCRC-TENEX
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 15 Sep 83 12:16-EDT from Robert W. Kerns <RWK at SCRC-TENEX>

    Date: 15 Sep 1983 1216-EDT
    From: Robert W. Kerns <RWK@SCRC-TENEX>
    You do not have microcode 217 at MIT for good reason.  Try 219.
    Let me know if you still have problems.

I assume the distribution problems that caused the original 219 to be
put on OZ in the wrong format are (being) fixed.  I.e., it though
microcode files were :CHARACTERS T instead of the correct :BYTE-SIZE 8
:CHARACTERS NIL.
15-Sep-83 22:16:35-EDT,1269;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-SPANIEL with CHAOS; Thu 15-Sep-83 22:03:32-EDT
Date: Thu, 15 Sep 83 22:01 EDT
From: Mike McMahon <MMcM@SCRC.SCRC>
Subject: ZMail window configuration
To: kmp@MC.ARPA
Cc: BUG-LISPM@MC.ARPA
In-reply-to: The message of 14 Sep 83 22:09-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830915220148.3.MMcM@SCRC.SCRC>

    Date: Wednesday, 14 September 1983, 22:09-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    I frequently find myself wanting to access my normal editor while 
    in ZMail without losing my sense of context. I think it would be
    nice if there were an item in the middle menu-window which was 
    gave me a reconfiguration of the ZMail frame which had shrunk the
    summary and message windows and which left the bottom part of the
    screen being a ZWEI window so I could play with ZWEI without losing
    my context. I suppose doing this through configurations would be
    the right thing...

I don't think this is right.  Configurations change the arrangement of
panes within the zmail frame, where ever you put it on the screen.  This
changes the size and position of the zmail frame itself.
Something outside of zmail should be doing what you want.
15-Sep-83 22:26:13-EDT,1069;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Thu 15-Sep-83 22:27:05-EDT
Date: Thu, 15 Sep 83 22:24 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: c-F in ZMail
To: kmp@MIT-MC
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 14 Sep 83 22:49-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830915222433.5.MMcM@SCRC.SCRC>

    Date: Wednesday, 14 September 1983, 22:49-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

    The c-F command seems to only search undeleted messages.
    Its docoumentation does not mention this.

    The Babyl command c-F (which I was thinking about at the time)
    searches both deleted and undeleted messages. I believe that
    to be the right thing. Usually it's better it should stop at too
    many messages rather than too few...
This was requested by an RMAIL user, and the comment ;Not if deleted (is this right?)
occurs in the source.  I don't have any opinion myself on changing it or
making it a user option.
15-Sep-83 22:35:47-EDT,987;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Thu 15-Sep-83 22:31:19-EDT
Date: Thu, 15 Sep 83 22:28 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: Right click on filter name in ZMail filter creation window
To: kmp@MIT-MC
Cc: BUG-lispm@MIT-MC
In-reply-to: The message of 14 Sep 83 23:01-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830915222847.7.MMcM@SCRC.SCRC>

    Date: Wednesday, 14 September 1983, 23:01-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

    Right click on the name of the filter in the filter creation window
    of ZMail pops up a window that's about 3 by 5 pixels, presumably
    asking me to confirm something. Perhaps that window should contain 
    some text.
No, it's asking for which existing filter to edit.  You don't have any
existing filters I take it.  In some future system, that menu has a label.
I'll make it check beforehand too.
15-Sep-83 22:37:11-EDT,1020;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Thu 15-Sep-83 22:35:40-EDT
Date: Thu, 15 Sep 83 22:33 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: Editing Keywords in ZMail
To: kmp@MIT-MC
Cc: BUG-LISPM@MIT-MC
In-reply-to: The message of 14 Sep 83 22:59-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830915223309.8.MMcM@SCRC.SCRC>

    Date: Wednesday, 14 September 1983, 22:59-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    Couldn't Right click in Keywords give a menu of things to do to a keyword?
You mean clicking right on a keyword in the menu you get when you click right on
keywords?
Would you really want to have to go down another level to do that while in the middle
of adding keywords to a message.  If you want to change the set of keywords but not
do anything to the current message, do you have to click right and them remember to
abort?
Is going into profile mode worse just because switching constraint frame configurations
is so slow?
15-Sep-83 22:40:42-EDT,909;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-SPANIEL with CHAOS; Thu 15-Sep-83 22:41:27-EDT
Date: Thu, 15 Sep 83 22:39 EDT
From: Mike McMahon <MMcM@SCRC.SCRC>
Subject: Aborted Messages in ZMail
To: kmp@MC.ARPA
Cc: BUG-LISPM@OZ.ARPA, CStacy@MC.ARPA
In-reply-to: The message of 14 Sep 83 22:40-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830915223933.0.MMcM@SCRC.SCRC>

    Date: Wednesday, 14 September 1983, 22:40-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    There should be a way of telling ZMail that I really don't plan 
    to continue certain messages so I don't have to get a cluttered
    menu of things when I mouse Right on Continue. 
How would you like it to work?  Special buttons to that menu?
Another command?  Presumably there would still be a way to get
back drafts you were absolutely positive you wouldn't need again
an hour ago but do now.
15-Sep-83 22:50:49-EDT,1464;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-SPANIEL with CHAOS; Thu 15-Sep-83 22:48:56-EDT
Date: Thu, 15 Sep 83 22:47 EDT
From: Mike McMahon <MMcM@SCRC.SCRC>
Subject: Useful, but missing commands in ZMail's Mail pane
To: kmp@MC.ARPA
Cc: BUG-LISPM@MC.ARPA
In-reply-to: The message of 14 Sep 83 23:50-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830915224712.2.MMcM@SCRC.SCRC>

    Date: Wednesday, 14 September 1983, 23:50-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

    Why isn't c-X ^ available in ZMail's Mail pane with the Header and Mail panes?

    When I went to send this bug report, I found that m-X Bug is not available
    from inside ZMail either.

    In general, I wish that ZWEI were not so inaccessible from ZMail.

First, to get the terms straight, it's zmacs features you're missing,
not zwei.  Zwei is just the editor basics.  It's present everywhere.

If you think about it, you can see how the m-X Bug command couldn't just
work inside zmail mail mode.  There aren't any buffers.  There are
multiple drafts, however, and in fact there is a recursive C-X M command
and could be a m-X Bug.

Likewise the windows aren't the same for c-X ^.

What you're really getting at is commands from zmacs for which there is
an obvious analogue.  That point's well taken, but they can only get
there by someone enumerating them one-by-one.
15-Sep-83 22:52:04-EDT,1083;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-SPANIEL with CHAOS; Thu 15-Sep-83 22:52:39-EDT
Date: Thu, 15 Sep 83 22:50 EDT
From: Mike McMahon <MMcM@SCRC.SCRC>
Subject: Suggestion for new Menu Item in Zmail main menu
To: kmp@MC.ARPA
Cc: BUG-LISPM@MC.ARPA
In-reply-to: The message of 14 Sep 83 23:19-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830915225055.3.MMcM@SCRC.SCRC>

    Date: Wednesday, 14 September 1983, 23:19-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

    It would be nice if there were a menu item in Zmail which I could click
    on which would just prompt me for the topic of a bug report I was going
    to start writing later without actually putting me in a window to type
    it. That way, I could finish one bug report before having to worry about
    starting the next...
I suppose this applies equally well to any message which you need to remember
to send later.  It could quite easily create an unsent draft.
Care to suggest a name for these commands?
16-Sep-83 02:42:38-EDT,1079;000000000000
Return-path: <Gregor@SCRC-TENEX>
Received: from SCRC-MUDDY by SCRC-TENEX with CHAOS; Fri 16-Sep-83 02:36:16-EDT
Date: Friday, 16 September 1983, 02:10-EDT
From: Gregor J. Kiczales <Gregor at SCRC>
Subject: Aborted Messages in ZMail
To: MMcM at SCRC.SCRC, kmp at MC
Cc: BUG-LISPM at OZ, CStacy at MC
In-reply-to: <830915223933.0.MMcM@SCRC.SCRC>

    Date: Thu, 15 Sep 83 22:39 EDT
    From: Mike McMahon <MMcM@SCRC.SCRC>
	Date: Wednesday, 14 September 1983, 22:40-EDT
	From: Kent M. Pitman <kmp at MIT-MC>
	There should be a way of telling ZMail that I really don't plan 
	to continue certain messages so I don't have to get a cluttered
	menu of things when I mouse Right on Continue. 
    How would you like it to work?  Special buttons to that menu?
    Another command?  Presumably there would still be a way to get
    back drafts you were absolutely positive you wouldn't need again
    an hour ago but do now.

Seems like any good ideas that apply to this also apply to the working
out this sets of buffers stuff that was being discussed last week...
16-Sep-83 09:57:33-EDT,1036;000000000000
Return-path: <DLW@SCRC-TENEX>
Received: from SCRC-SHEPHERD by SCRC-TENEX with CHAOS; Fri 16-Sep-83 06:34:46-EDT
Date: Friday, 16 September 1983, 06:33-EDT
From: Daniel L. Weinreb <DLW@SCRC-TENEX>
Subject: Useful, but missing commands in ZMail's Mail pane
To: kmp@MIT-MC, BUG-LISPM@MIT-MC
In-reply-to: The message of 14 Sep 83 23:50-EDT from Kent M. Pitman <kmp at MC>

    Date: Wednesday, 14 September 1983, 23:50-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    When I went to send this bug report, I found that m-X Bug is not available
    from inside ZMail either.

(1) That's right, it isn't.  It also isn't available from the Inspector,
the window error handler, the Hardcopy menu, the system menu, Peek, or
Telnet.

(2) That's wrong, it is.  The command is System E m-X Bug.  This also
works from the Inspector, the window error handler, the Hardcopy menu,
the system menu, Peek, and Telnet.

Just because Zmail happens to use the Zwei subroutine package to let
you edit does not mean that Zmail is Zmacs.
16-Sep-83 12:16:20-EDT,3158;000000000000
Return-path: <doughty@SCRC-VIXEN>
Received: from scrc-afghan by scrc-vixen with CHAOS; 16 Sep 1983 10:04:59-EDT
Date: Friday, 16 September 1983, 10:04-EDT
From: Dennis Doughty <doughty at SCRC-VIXEN>
Subject: Editing Keywords in ZMail
To: MMcM at SCRC-TENEX
Cc: kmp at MIT-MC, BUG-LISPM at MIT-MC
In-reply-to: <830915223309.8.MMcM@SCRC.SCRC>
Fonts: CPTFONT, CPTFONTB, CPTFONTI

    Received: from scrc-tenex by scrc-vixen with CHAOS; 15 Sep 1983 22:37:44-EDT
    Received: from MIT-MC by SCRC-TENEX with CHAOS; Thu 15-Sep-83 22:37:47-EDT
    Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Thu 15-Sep-83 22:35:40-EDT
    Date: Thu, 15 Sep 83 22:33 EDT
    From: Mike McMahon <MMcM@SCRC-TENEX>
    Subject: Editing Keywords in ZMail
    To: kmp@MIT-MC
    Cc: BUG-LISPM@MIT-MC
    In-reply-to: The message of 14 Sep 83 22:59-EDT from Kent M. Pitman <kmp at MC>
    Message-ID: <830915223309.8.MMcM@SCRC.SCRC>

	Date: Wednesday, 14 September 1983, 22:59-EDT
	From: Kent M. Pitman <kmp at MIT-MC>
	Couldn't Right click in Keywords give a menu of things to do to a keyword?
    You mean clicking right on a keyword in the menu you get when you click right on
    keywords?
    Would you really want to have to go down another level to do that while in the middle
    of adding keywords to a message.  If you want to change the set of keywords but not
    do anything to the current message, do you have to click right and them remember to
    abort?
    Is going into profile mode worse just because switching constraint frame configurations
    is so slow?

No, that is not the reason.  I find that I associate keywords with a
particular 2file0 or 2sequence0, not2 0with my profile.  This is probably due
to the fact that different files tend to have different sets of keywords
and that the keywords are saved in the file.  It seems odd to me to have
to switch contexts from the current sequence (where the keywords have
meaning) to my profile in order to change the properties of the keywords
in the sequence I was just looking at.

I think that KMP is right.  I'd like to be able to add a new keyword
from the keyword menu and then say "sort the keyword list
alphabetically" so that the new keyword ends up in the right place.  I
think that it's a real lose to have to sort this list manually in
profile mode.  I'm sure KMP has other things that he'd like to do from
this menu.

On a separate, but interesting note, it would seem reasonable to
me if the keyword menu were in reality two menus.  Then 2Abort0, 2Do It0,
and 2New0 could be in the top menu (always available) and the keywords
could be in the bottom, scrollable menu.  I think that this would be
useful in situations where there are more keywords than fit on the
screen in three nice columns (i.e., more than 100 or so keywords, which
isn't unheard of).  I've found myself scrolling the menu only to find
that the keyword that I thought was there wasn't and realizing that I
wanted to click 2New0.  Then I'd have to scroll back to click it.  Maybe I
just want everything, but those extra keystrokes (clicks) annoy me.
16-Sep-83 13:30:22-EDT,1168;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Fri 16-Sep-83 13:21:49-EDT
Date: Fri, 16 Sep 83 12:56 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: Editing Keywords in ZMail
To: doughty@SCRC-VIXEN
Cc: kmp@MIT-MC, BUG-LISPM@MIT-MC
In-reply-to: The message of 16 Sep 83 10:04-EDT from Dennis Doughty <doughty at VIXEN>
Fonts: CPTFONT, CPTFONTB, CPTFONTI
Message-ID: <830916125610.2.MMcM@SCRC.SCRC>

    Date: Friday, 16 September 1983, 10:04-EDT
    From: Dennis Doughty <doughty at SCRC-VIXEN>
    No, that is not the reason.  I find that I associate keywords with a
    particular 2file0 or 2sequence0, not2 0with my profile.  This is probably due
    to the fact that different files tend to have different sets of keywords
    and that the keywords are saved in the file.  It seems odd to me to have
    to switch contexts from the current sequence (where the keywords have
    meaning) to my profile in order to change the properties of the keywords
    in the sequence I was just looking at.
But you edit the other file options from profile mode too.
It includes more than just your init file.
16-Sep-83 19:55:17-EDT,596;000000000000
Return-path: <KMP@MIT-OZ>
Mail-From: KMP created at 16-Sep-83 19:51:30
Date: Friday, September 16, 1983 7:51PM-EDT
From: Kent M. Pitman <KMP@MIT-OZ>
Subject: Symbolics ZMAIL patch dir
To: bug-lispm, cent

What happened to SRC:<S.ZMAIL>PATCH-74-nn for low values of nn? Those files
are still needed even though they come prepatched in the standard releases
in case I need to do m-. and see a definition or in case I have an old system
that needs to have patches loaded into it... Were these files ever present on
OZ; if so, who deleted them and can they be brought back? Thanks. --kmp
16-Sep-83 20:00:10-EDT,747;000000000000
Return-path: <Gregor@SCRC-TENEX>
Received: from SCRC-YAMASKA by SCRC-TENEX with CHAOS; Fri 16-Sep-83 19:56:43-EDT
Date: Friday, 16 September 1983, 19:55-EDT
From: Gregor J. Kiczales <Gregor@SCRC-TENEX>
Subject: Editing Keywords in ZMail
To: MMcM@SCRC-TENEX
Cc: Doughty@SCRC-VIXEN, kmp@MIT-MC, BUG-LISPM@MIT-MC


It would be nice if when I started using ZMAIL each day it remembered
the default action for each of the menu choices for which it would "make
sense" to remember the default action from the previous session.

I don't really expect to see this, I am just sending it in to add it to
the list of things that we would win on if we ever got away from this
weird notion of cold-booting machines at the end of a work session.
16-Sep-83 20:29:07-EDT,3069;000000000000
Return-path: <kmp@MIT-MC>
Date: Friday, 16 September 1983, 20:21-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail -- [Sort]
To: MMcM at SCRC-TENEX, kmp at MIT-MC
Cc: CWH at SCRC-TENEX, BUG-LISPM at MC
In-reply-to: <830915222210.4.MMcM@SCRC.SCRC>

    Date: Thu, 15 Sep 83 22:22 EDT
    From: Mike McMahon <MMcM@SCRC-TENEX>

	Date: Wednesday, 14 September 1983, 23:33-EDT
	From: Kent M. Pitman <kmp at MIT-MC>

	... The case of the n^3 sort (O(n^2) algorithm * O(n) predicate) is for real, though.
	Something should absolutely be done about that. That's the sort of thing that 
	when people in the real world find out about, they will laugh you right out of 
	the market ... 

    This case is to say the least overstated.
    It would be interesting to know whether the machine ever got into solid
    run, or continued to page all though the sorting.  For most zmail
    operations on very large mail files, paging is much more important than
    computing.

I clicked on sort backward by position. I had 1790 messages.

I waited one hour and a half.

I went into the debugger and noticed that according to the available
 debugging info, it had counted backward from 1790 to 1750. I know I had
 a worst-case configuration for the sort. I figure it had 40 hours to go
 if everything kept taking the same length of time, but since I think it
 was really n^3/2, I will say there was only 20 hours to go ...

I wasted an entire evening reproducing this behavior in a couple of different
 forms using other sort predicates, just to assure myself that this wasn't one
 bad case.

Since all I wanted to do was reverse my mail file (and there is no command that
 would do that), I finally went into the inspector on my ZMAIL window, walked
 up the hierarchy until I found an array that looked like it had mail messages
 in it. LISTARRAY'd the contents. REVERSE'd that. FILLARRAY'd the result back
 in. I then held my breath and asked it to save my file. It saved it correctly.
 This all took under 15 minutes. Far better than the 20 hours I was going to
 be looking forward to the other way.

SORT of a 2000 element array (in reversed order, using predicate #'>) takes 1 or 2
 seconds. STABLE-SORT of the same array takes 1 minute 40 seconds. I presume
 this is small enough to not even be taking paging into account; that just makes 
 matters worse.

In view of all of this, there is no excuse for:
 * the slowness of this STABLE-SORT 
 * the fact that normal SORT is not called in places where a stable sort 
   is not called for (eg, when sorting by position).
 * the fact that where possible (eg, sorting by position again) you do not map 
   across the frobs to be sorted and build a datastructure which is an alist of
   the key to sort by and the object to sort, call SORTCAR, then (MAPCAR #'CDR ...) 
   down the result. This directly addresses the issue of paging.

I find it hard to believe this case is overstated. In my opinion, ZMail is too
 slow on this sort business and for no good reason.
16-Sep-83 20:51:05-EDT,806;000000000000
Return-path: <MMcM@SCRC-TENEX>
Date: 16 Sep 1983 2038-EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: Re: ZMail -- [Sort]
To: kmp@MIT-MC
cc: CWH@SCRC-TENEX, BUG-LISPM@MIT-MC
In-Reply-To: The message of Friday, 16 September 1983, 20:21-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: Friday, 16 September 1983, 20:21-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    Since all I wanted to do was reverse my mail file (and there is no command that
     would do that),
m-X Reverse Sequence is in 242 at least.

     * the fact that normal SORT is not called in places where a stable sort 
       is not called for (eg, when sorting by position).
Not true.  If the messages came from more than one buffer, their positions
could be equal and stable sorting is indeed called for.
-------
16-Sep-83 20:56:00-EDT,806;000000000000
Return-path: <MMcM@SCRC-TENEX>
Date: 16 Sep 1983 2038-EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: Re: ZMail -- [Sort]
To: kmp@MIT-MC
cc: CWH@SCRC-TENEX, BUG-LISPM@MIT-MC
In-Reply-To: The message of Friday, 16 September 1983, 20:21-EDT from Kent M. Pitman <kmp at MIT-MC>

    Date: Friday, 16 September 1983, 20:21-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    Since all I wanted to do was reverse my mail file (and there is no command that
     would do that),
m-X Reverse Sequence is in 242 at least.

     * the fact that normal SORT is not called in places where a stable sort 
       is not called for (eg, when sorting by position).
Not true.  If the messages came from more than one buffer, their positions
could be equal and stable sorting is indeed called for.
-------
16-Sep-83 22:20:41-EDT,2273;000000000000
Return-path: <kmp@MIT-MC>
Date: Friday, 16 September 1983, 21:41-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Useful, but missing commands in ZMail's Mail pane
To: MMcM at SCRC.SCRC
Cc: BUG-LISPM at MC.ARPA
In-reply-to: <830915224712.2.MMcM@SCRC.SCRC>

    Date: Thu, 15 Sep 83 22:47 EDT
    From: Mike McMahon <MMcM@SCRC.SCRC>
    Re:   Useful, but missing commands in ZMail's Mail pane

	Date: Wednesday, 14 September 1983, 23:50-EDT
	From: Kent M. Pitman <kmp at MIT-MC>
	In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

	Why isn't c-X ^ available in ZMail's Mail pane with the Header and Mail panes?

	When I went to send this bug report, I found that m-X Bug is not available
	from inside ZMail either.

	In general, I wish that ZWEI were not so inaccessible from ZMail.

    First, to get the terms straight, it's zmacs features you're missing,
    not zwei.  Zwei is just the editor basics.  It's present everywhere.

I actually knew this; I was just being sloppy in my terminology. Sorry. I should
have said "ZMacs" in the last line in place of "ZWEI".

    If you think about it, you can see how the m-X Bug command couldn't just
    work inside zmail mail mode.  There aren't any buffers.  There are
    multiple drafts, however, and in fact there is a recursive C-X M command
    and could be a m-X Bug.

Yeah, again I understand the technical issues. But this is software, after all, and
just because something isn't a one-line change doesn't really mean it can't be done.
It suggests that m-X Bug might want to be rethought so that it can be shared by both,
perhaps ... The purpose of this bug report was as a datapoint in a larger problem,
not to evoke an immediate solution.

    Likewise the windows aren't the same for c-X ^.

The reason it bothered me was that c-X O does work. This is what primed me to
expect c-X ^ to work also.

    What you're really getting at is commands from zmacs for which there is
    an obvious analogue.  That point's well taken, but they can only get
    there by someone enumerating them one-by-one.

Or by redesigning the theory of how ZWEI and ZMacs relate. I certainly don't think
that's a trivial thing, but I think is a worthwhile thing to want to do someday.
16-Sep-83 22:34:13-EDT,710;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Fri 16-Sep-83 22:23:10-EDT
Date: Fri, 16 Sep 83 21:57 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: ZMail -- [Sort]
To: kmp@MIT-MC
Cc: CWH@SCRC-TENEX, BUG-LISPM@MIT-MC
In-reply-to: The message of 16 Sep 83 20:21-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830916215732.2.MMcM@SCRC.SCRC>

    Date: Friday, 16 September 1983, 20:21-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
						       In my opinion, ZMail is too
     slow on this sort business and for no good reason.
I made a few simple optimizations.  Reverse Sort by Position of a 2000 long buffer
will take about 15 seconds in release 5.1.
17-Sep-83 07:42:41-EDT,392;000000000000
Return-path: <JCMa@MIT-OZ>
Date: Saturday, 17 September 1983, 07:41-EDT
From: John C. Mallery <JCMa@MIT-OZ>
Subject: character code 137.
To: BUG-LISPM@SCRC-TENEX
Cc: gavan@MIT-OZ

In Release 4.5, site configuration 62, on Lisp Machine Apiary-5:

Can someone explain to me what this character does?  It seems as if
it behaves like 4 spaces???  I found it in a Zwei interval stream.
17-Sep-83 14:21:34-EDT,549;000000000000
Return-path: <dove@MIT-DSPG>
Date: Saturday, 17 September 1983, 14:07-EDT
From: Web Dove <dove at MIT-DSPG>
Subject: line numbering in disassemble always octal
To: BUG-LISPM at MIT-OZ

In Release 4.4, site configuration 71, happy days!, on Lisp Machine Tweety Pie:

While working in an emacs buffer in base 10., I did
exec com in buf
M-X disassemble
my-defun

The results were line numbered in octal.  Unfortunately, the branch
statement arguments were all given in decimal!  Can these two numbering
schemes be made the same please?
17-Sep-83 16:04:05-EDT,919;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Sat 17-Sep-83 15:38:09-EDT
Date: Saturday, 17 September 1983, 15:37-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: line numbering in disassemble always octal
To: dove@MIT-DSPG, BUG-LISPM@MIT-OZ
In-reply-to: The message of 17 Sep 83 14:07-EDT from Web Dove <dove at MIT-DSPG>

    Date: Saturday, 17 September 1983, 14:07-EDT
    From: Web Dove <dove at MIT-DSPG>
    In Release 4.4, site configuration 71, happy days!, on Lisp Machine Tweety Pie:

    While working in an emacs buffer in base 10., I did
    exec com in buf
    M-X disassemble
    my-defun

    The results were line numbered in octal.  Unfortunately, the branch
    statement arguments were all given in decimal!  Can these two numbering
    schemes be made the same please?
This was reported internally long ago and is fixed in Release 5.
17-Sep-83 17:39:56-EDT,2177;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Saturday, 17 September 1983, 17:37-EDT
From: David Chapman <Zvona@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Release 4.5, FEP 12, site configuration 62, on Lisp Machine Janis Joplin:

You get this if you do (car 1 2), <resume>, n.

>>Error: Attempt to return NIL from a proceed handler.
While in the function (:METHOD DBG:TOO-MANY-ARGUMENTS-TRAP :COMBINED :PROCEED)  APPLY  SI:*EVAL

(:METHOD DBG:TOO-MANY-ARGUMENTS-TRAP :COMBINED :PROCEED):  (P.C. = 134)
   Arg 0 (SELF): #<TOO-MANY-ARGUMENTS-TRAP 33566620>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor DBG:TOO-MANY-ARGUMENTS-TRAP -- 2. IV's, 4. FL's 60510326>
   Rest arg (.DAEMON-CALLER-ARGS.): (:PROCEED :FEWER-ARGUMENTS)
   Local 3: (:FEWER-ARGUMENTS)
   Local 4 (.OP.): :FEWER-ARGUMENTS
   Local 5 (.PROCEED-VALUES.): (NIL)

APPLY:  (P.C. = 4)
   Arg 0 (FUNCTION): #<TOO-MANY-ARGUMENTS-TRAP 33566620>
   Arg 1 (ARGS): (:PROCEED :FEWER-ARGUMENTS)

SI:*EVAL:  (P.C. = 405)
   Arg 0 (FORM): (APPLY (QUOTE #<TOO-MANY-ARGUMENTS-TRAP 33566620>) (QUOTE (:PROCEED :FEWER-ARGUMENTS)))

DBG:EVAL-IN-ERROR-ENVIRONMENT:  (P.C. = 337)
   Arg 0 (FORM): (APPLY (QUOTE #<TOO-MANY-ARGUMENTS-TRAP 33566620>) (QUOTE (:PROCEED :FEWER-ARGUMENTS)))
   Arg 1 (BIND-STREAMS): T

DBG:EXECUTE-PROCEED-COMMAND:  (P.C. = 53)
   Arg 0 (ENTRY): (:PROCEED :FEWER-ARGUMENTS)

DBG:COMMAND-LOOP:  (P.C. = 520)

DBG:DEBUGGER-TOP-LEVEL:  (P.C. = 503)
   Arg 0 (*ERROR*-initialization): #<TOO-MANY-ARGUMENTS-TRAP 33566620>
   Arg 1 (*INNERMOST-VISIBLE-FRAME*-initialization): #<DTP-LOCATIVE 101611>
   Arg 2 (*REASON-DEBUGGER-ENTERED*-initialization): NIL
   Arg 3 (SPECIAL-COMMANDS): NIL

DBG:ENTER-DEBUGGER:  (P.C. = 16)
   Arg 0 (ERROR): #<TOO-MANY-ARGUMENTS-TRAP 33566620>
   --Defaulted args:--
   Arg 1 (REASON): NIL
   Arg 2 (SPECIAL-COMMANDS): NIL

Rest of stack:
DBG:DEBUGGER-HANDLER-HANDLE-CONDITION:  (P.C. = 7)
DBG:DEBUGGER-HANDLER:  (P.C. = 12)
(:METHOD CONDITION SIGNAL):  (P.C. = 101)
(:METHOD CONDITION :COMBINED SIGNAL):  (P.C. = 21)
SIGNAL:  (P.C. = 10)
DBG:SIGNAL-TRAP:  (P.C. = 3)
SYS:MICROCODE-ERROR-HANDLER:  (P.C. = 66)
CAR:
SI:*EVAL:  (P.C. = 405)
18-Sep-83 02:34:46-EDT,608;000000000000
Return-path: <ED@MIT-MC>
Date: 18 September 1983 02:32 EDT
From: Ed Schwalenberg <ED @ MIT-MC>
Subject: Whither BACKNEXT?
To: Moon @ SCRC-TENEX
cc: Gumby @ MIT-OZ, BUG-LISPM @ MIT-OZ

        How do I generate BACKNEXT in SUPDUP?  
    MACRO on the LM-2.  SCROLL on the 3600 in Release 5, but in Release 4 there
    is no 3600 key that maps into BACKNEXT in supdup.
	DDT ignores ^_.
    Backnext is not a DDT command.  But I know what you mean.
Actually, ^_ is the inclusive or operator in DDT, though I believe it was added
"recently" so I'm not totally amazed that Dave didn't know about it.
18-Sep-83 13:28:40-EDT,972;000000000000
Return-path: <IAN@MIT-OZ>
Mail-From: IAN created at 18-Sep-83 03:16:55
Date: 18 Sep 1983  03:16 EDT (Sun)
Message-ID: <[MIT-OZ].IAN.18-Sep-83 03:16:54>
From: Ian Macky <Ian@MIT-OZ>
To:   Bug-LISPM@MIT-OZ
CC:   DCB.TECH@MIT-OZ
Subject: gmsgs dieing
In-reply-to: Msg of 17 Sep 1983  23:58-EDT from DCB.TECH

    Date: Saturday, 17 September 1983  23:58-EDT
    From: DCB.TECH

    I have the RUN-GMSGS-P variable set.  Everytime I click on Get New
    Mail/Get Inbox, I get "GMSGS GMSGS DCB;DCB.TECH went into answered
    state rather than open state" or something similar....

Sigh.  At one time, the GMSGS server on OZ opened a full connection
and sent back text; somewhere along the line it was decided that this
was incorrect, and that a simple connection was the right thing.  So
now the GMSGS server does an Answer with whatever text...  apparently
this isn't right after all.

OK, I give up.  What IS the right behavior?  Is there agreement?
18-Sep-83 13:40:02-EDT,430;000000000000
Return-path: <BAGLEY@MIT-OZ>
Mail-From: BAGLEY created at 18-Sep-83 11:23:26
Date: 18 Sep 1983  11:23 EDT (Sun)
Message-ID: <[MIT-OZ].BAGLEY.18-Sep-83 11:23:25>
From: Steven C. Bagley <BAGLEY@MIT-OZ>
To:   bug-lispm@MIT-OZ, bug-finger@MIT-OZ
Subject: finger oz from a 3600

When fingering oz from a 3600, something somewhere chops off the
display after the first seven or so lines of the display.  This is
repeatable. 
18-Sep-83 13:51:37-EDT,325;000000000000
Return-path: <JCMa@MIT-OZ>
Date: Sunday, 18 September 1983, 13:13-EDT
From: John C. Mallery <JCMa@MIT-OZ>
Subject: Documentaiton Strings For DEFUN-METHODS
To: BUG-LISPM@SCRC-TENEX

In Release 4.5, site configuration 62, on Lisp Machine John Lennon:
Shouldn't DEFUN-METHODs hack documentation strings for consistency?
18-Sep-83 15:45:42-EDT,3067;000000000000
Return-path: <IAN@MIT-OZ>
Mail-From: IAN created at 18-Sep-83 15:44:32
Date: 18 Sep 1983  15:44 EDT (Sun)
Message-ID: <[MIT-OZ].IAN.18-Sep-83 15:44:31>
From: Ian Macky <Ian@MIT-OZ>
To:   Steven C. Bagley <BAGLEY@MIT-OZ>
Cc:   bug-finger@MIT-OZ, bug-lispm@MIT-OZ
Subject: finger oz from a 3600
In-reply-to: Msg of 18 Sep 1983  11:23-EDT from Steven C. Bagley <BAGLEY>

    Date: Sunday, 18 September 1983  11:23-EDT
    From: Steven C. Bagley <BAGLEY>
    To:   bug-lispm, bug-finger
    Re:   finger oz from a 3600

    When fingering oz from a 3600, something somewhere chops off the
    display after the first seven or so lines of the display.  This is
    repeatable. 

This is how OZ's name server was behaving:

@rfc oz name
Type ^G to abort.
Type '?' for a list of commands.
[RFC sent]
[Open]
[2 packets waiting]
[#1: Data has 488 bytes]
-User-      --Full name--         -What- Idle TTY Console location^@
AM       T  Alan M. Mainwaring    BABYL      .  7 The Emerald City Telethon
BERWICK     Robert C. Berwick     EXEC   2:44. 13 Deepest Afrika Fern Co.
BORIS       Boris Katz            LEDIT      .116 MIT-NE43-8A-HUB (Chaos)
BRD         Bruce R. Donald       EXEC       .120 MIT-ROBOT-4 (Chaos)
CJL         Chris Lindblad        EXEC   1:02.123 7B: 707 x8828
DANIEL      Daniel Weise          E TYPE     ;104 MOON: Mr. Na
[#2: Data has 488 bytes]
tural
DCP      ~  David C. Plummer      EXEC   1:50.106 SCRC-DANCER (Chaos)
DMS         David M. Siegel       EMACS      .111 MIT-NE43-3A-HUB (Chaos)
EPS      T  Eric P. Scott         EXEC       .121 MIT-MC (Chaos)
GLR         Jerry Roylance        LISP       .125 MIT-NE43-7B-HUB (Chaos)
HANSON      Chris Hanson          EMACS    28. 10 Dialup: At home (864-6875)
IAN         Ian Macky             RFC        .  4 791 Hasty Sessions x7951
JOHNH    M  John G. Harris        E TYPE    2;1
[Closed]
[4 packets waiting]
[#3: Data has 488 bytes]
22 MIT-ZARNIWOOP (Chaos)
JON      T  Jonathan S. Drukman   EXEC      6.  2 920: Hasty & Nasty
KDO      $  Ken Olum              EXEC      4.115 MIT-PI (Chaos)
LEE         Lee S. Tavrow         EXEC      2.127 MIT-NE43-7A-HUB (Chaos)
ME          Michael Erdmann       EXEC   2:23.114 ROBOT-1: Dazed & Confused
                                  EXEC     19.113 9A: Dazed & Confused
PHILIP      Philippe Brou         EXEC      6.105 MIT-LISPM-25 (Chaos)
PHW         Patrick H. Winston    ZEM
[#4: Data has 383 bytes]
ACS     . 11 AT&T #1
PSR         Paul S. Rosenblum     EMACS      . 17 Dialup: 2W: Paul's 494-8980
RMS      *  Richard M. Stallman   MM       19.107 MIT-NE43-9A-HUB (Chaos)
TK          Tom Knight            EXEC     26.117 MIT-ELVIS (Chaos)
TLP         Tomas Lozano-Perez    EXEC        110 MIT-NE43-9A-HUB (Chaos)
WILLIAMS    Brian C. Williams     EXEC   2:21.112 MIT-ELVIS (Chaos)
[#5: End of File]
[#6: Close]
@

I put in something that claims to "force out any buffered stream output
then wait for it to be transmitted and acknowledged" before the EOF is
sent, which fixed it.
18-Sep-83 20:06:20-EDT,710;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Sun 18-Sep-83 19:14:54-EDT
Date: Sunday, 18 September 1983, 18:49-EDT
From: David A. Moon <Moon@SCRC-TENEX>
To: David Chapman <Zvona@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 17 Sep 83 17:37-EDT from David Chapman <Zvona at OZ>

    Date: Saturday, 17 September 1983, 17:37-EDT
    From: David Chapman <Zvona@MIT-OZ>
    In Release 4.5, FEP 12, site configuration 62, on Lisp Machine Janis Joplin:

    You get this if you do (car 1 2), <resume>, n.

    >>Error: Attempt to return NIL from a proceed handler.

Both Y and N answers work for me in Release 5.  I guess this was fixed already.
18-Sep-83 21:12:46-EDT,1109;000000000000
Return-path: <kmp@MIT-MC>
Date: Sunday, 18 September 1983, 21:11-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Clicking Left in ZMAIL when there is no default
To: BUG-LISPM at OZ

In Release 4.4, Knowledge-Based-Editor 214.0, site configuration 62,
AAAI-83, on PA Lisp Machine Merlin:

Clicking Left on something in ZMAIL when there is no default says
"There is no default for this item" rather than just giving me the
menu that Right Click would have given me.

I clicked Right on Mail and it prompted with a menu. I clicked Left
on Bug. There should be an initial default of LISPM there anyway.
But aborting me out of the menu was foolish. In the worst case, it
should have flashed the screen and retried presenting me the same 
menu. I think the really right behavior in the absence of defaults 
is for mouse Left to work like Mouse Right.

There is nothing more aggravating than a program typing out an error 
message for which there is really only one logical correction which
could have been tried harmlessly in the same amount of time it takes
it to type the error message.
18-Sep-83 21:17:11-EDT,914;000000000000
Return-path: <kmp@MIT-MC>
Date: Sunday, 18 September 1983, 21:16-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Click Left in ZMAIL when there IS a default
To: BUG-LISPM at OZ
Cc: USER-INTERACE at SCRC

In Release 4.4, Knowledge-Based-Editor 214.0, site configuration 62,
AAAI-83, on PA Lisp Machine Merlin:

I think there should be an option variable in ZMAIL which allows me to
get queried before the default is taken on a Left Click. I believe I
would be willing to have it always pop up a menu saying what it was 
going to do before it did it. Since I've just left-clicked anyway, I'll
be all set to click again in confirmation. 

This option might should be defaultly off, since I might not be the
typical case. On the other hand, it might be that it should be defaultly
on for novices and experienced users might just frequently want to change 
it once they were used to the defaults.
19-Sep-83 00:24:09-EDT,468;000000000000
Return-path: <GAVAN@MIT-OZ>
Date: Monday, 19 September 1983, 00:21-EDT
From: Gavan Duffy <GAVAN@MIT-OZ>
Subject: ZMACS lies about encapsulated fns
To: BUG-LISPM@SCRC-TENEX

In Release 4.5, site configuration 62, on Lisp Machine Apiary-3:

Encapsulations are turning off documentation strings again.  Wasn't this
fixed months ago?  Doing control-shift-D in ZMACS on a documented
function reports that the function is not documented, which is clearly a
lie.
19-Sep-83 01:14:32-EDT,817;000000000000
Return-path: <RMS@MIT-OZ>
Date: Monday, 19 September 1983, 01:11-EDT
From: Richard M. Stallman <RMS@MIT-OZ>
Subject: System 97 is now released.
To: info-lispm-mit@MIT-OZ

Documentation for System 97 is in OZ:SRC:<L.DOC>SYS97.MSG.
I have been using system 97 for a month, and it is pretty solid.
Make sure you use a band that uses microcode 257!
Good sources of these are CADR1 and CADR18.

The current version is 97.6.

The most interesting improvements are:

 A new Common-Lisp-compatible package system.

 An improved undo facility,
  the best an editor has ever had.

 Incremental band saving:
  save just the differences between your world
  and the system you loaded, in a small partition.

There are some incompatibilities, mostly due to Common Lisp,
 so make sure you read SYS97.MSG.
19-Sep-83 01:30:35-EDT,383;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 01:30-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: OZ:SRC:<L.DOC>SYS97.MSG
To: BUG-LISPM at OZ

In Symbolics Release 4.4 on MIT-MERLIN...

m-X View File does not hack fonts. It just shows the file with
a bunch of epsilons. Seems like it should try to parse the attribute
list looking for font information...
19-Sep-83 03:02:54-EDT,2200;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 02:59-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Strange ZMAIL state
To: BUG-LISPM at OZ

In ZMAIL in Symbolics Release 4.4 on MIT-MERLIN...

Doing [seemingly] completely normal operations (such as clicking mouse middle to delete
one message after another) I found my summary window in a wierd state where the
message numbers in the summary window were not in order, some were missing, some were
replaced by others. eg, the order of the lines went something like
  42: ...
 110: ...
  45: ...
  46: ...
 111: ...
  48: ...
  ...
etc. I am pretty sure these 110: and 111: things are really truncated 4-digit numbers
though that probably doesn't matter. The odder thing to my mind is that there are not
two lines between 42 and 45. When I type 43J, it takes me to the message line labeled
110: but does not show me an arrow indicating the message is selected.  I don't really
know what I did to get into this state, but I wish I knew how to decache things. I can
even exit this sequence back into another sequence and if I use the same filter to get
back, I find it doesn't try to recompute the filter. Even worse, when I move back to
my main Babyl file, I find it thinks I am simultaneously at two different messages or
sometimes not at any message at all.

I've processed a lot of mail in the last hour since my last save. I wish I could tell if
only the display-related datastructures are screwed or if the message data structures
are confused, too. I don't want to risk losing mail and will probably have to just boot
and retry. 

About the only hint I can give that might help is that I have been brave and typed c-Abort
a couple of times when I felt a mouse click had been lost or when I'd accidentally clicked
on a Select I hadn't meant to do ... Perhaps something isn't doing appropriate protection
against unwinds...

I'm sorry I can't give a case of how to reproduce this situation, but I'm reporting it
on the off chance someone recognizes the symptom and can tell me better what to look for
next time it happens or can surprise me by telling me it's fixed in a later release.
-kmp
19-Sep-83 04:46:22-EDT,960;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 04:21-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Mouse should warp back after a Mouse Right command to summary window
To: BUG-LISPM at MIT-MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

I find myself quite disconcerted by the fact that when I end an 
interaction with a menu in ZMail, my mouse does not return to the
message I was pointing at it when I began. It seems to me that if
I did Mouse-Right on a message in the summary window to begin the
command, it ought to warp my mouse back to there when done.

The reason is that I am using the mouse to represent my sense of
focus and I am uncomfortable with having my focus lost by execution
of a simple command.

I think I would not expect this behavior as strongly if I invoked 
the command from the keyboard because that would be an 
acknowledgment of the fact that my focus was not on the mouse at
the time.
19-Sep-83 04:59:54-EDT,1639;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 04:58-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail -- window deadlocking, etc.
To: BUG-LISPM at MIT-OZ

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

Sometimes ZMail gets into states where the window system is
deadlocked in odd ways. It feels like that menu is inferior to
the ZMail frame rather than to TV:MOUSE-SHEET (since when I
select ZMacs or Lisp and then come back, the menu quietly awaits
me). I wonder if that is related.  My intuition is that it might
be...

I can't give an exact example offhand of how to reproduce this,
but probably could come up with one if you need one since I see
it often enough. An example of roughly when it happens is when
the menu that you get when you click Right on Select is exposed
and you get a notification. The notification is wanting to type
out in the echo area, but is blocked by the menu I'm in, which
seems to then stop listening to input.  Function
Control-Clear-Input seems to get me out ok.

One time when something was trying to type out, the
aforementioned menu window got confused so I typed Function
Refresh.  That doesn't work very well. It redisplayed most of
the window but then later when the menu went down, part of the
main ZMail frame was blanked out from where there'd been a menu
on top of it. So I had to type Function Refresh again, which
worked ok.  Later when the menu came back up, though, it was
partly erased (I don't know why) and Function Refresh would not
fix it. It was a big mess. Cold booting seems to have corrected
the symptom for the time being.
19-Sep-83 05:47:55-EDT,657;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 03:58-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail -- Label on Keywords menu
To: BUG-LISPM at MIT-MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

I clicked Right on a message in the survey window.
Then I clicked Right again on Keywords.
A window popped up that said "Set keywords of this message to:", etc.

Then I talked to CStacy on the phone for a while.

Then I tried to figure out what the "this message" was that was
being referred to by the vague reference "this message".

It would help if it somehow named the message I was editing the 
keywords for.
19-Sep-83 05:48:25-EDT,729;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 04:03-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail -- Keywords, L vs R
To: BUG-LISPM at MIT-MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

After clicking Right on an item in the summary window,
I frequently click Left on Keywords by accident. More often
than not, this leaves the message with several wrong labels.
Usually, then, I have to click again on the message, then
click on the item, then click Right on Keywords, then erase
a whole bunch of keywords from the menu. It might be handy
if there were an italic "Clear" option at the top which 
would flush all the keywords to keep me from having to mouse
each one individually.
19-Sep-83 05:48:57-EDT,1259;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 04:14-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail -- Keywords, more thoughts about Defaults
To: BUG-LISPM at MIT-MC
Fonts: CPTFONT

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

I notice that frequently I have many messages which have the
same complex keyword pattern, but also, I do not necessarily
see those messages without intervening messages with another
pattern.

In conjunction with the suggestion I made earlier about having
a ZMail mode where Left Click would prompt me with the default
for confirmation, it has occurred to me that such a mode is
compatible with the following additional functionality: 

The confirmation, rather than just being

   Add keywords (click to confirm):
    FOO, BAR, and BAZ

would be something like:

   Add keywords:
    FOO, BAR, BAZ
    menu

where "Menu" would be in italic and would be as if I'd done Right
Click originally. This would save me starting over if the default
was not the one I wanted. 

Further, in cases like Keywords, multiple defaults could be presented.
So I might get:

   Choose one:
    LispM, ZMail, Bugs, Amazing, ToDo
    Emacs, TAGS, ToDo
    Maclisp, Humor
    menu

19-Sep-83 06:20:09-EDT,2812;000000000000
Return-path: <TIM@MIT-OZ>
Date: Monday, 19 September 1983, 06:12-EDT
From: Tim McNerney <TIM@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Experimental System 97.4, CADR 1.0, Experimental ZMail 51.2,
MIT-Specific 21.0, microcode 257, ZM MIT, on Lisp Machine Two:


Made a magnifying blinker with :visibility :on.
Then send message ':track-mouse.
As soon as I physically moved the mouse, I ended up in the cold load stream.
(This sort of blinker will track the mouse just fine when its :visibilityis set to :blink)
[typo above: "Then send...
should read "Then send to said blinker..."]

>>TRAP 7674 (SUBSCRIPT-OOB M-Q M-S (NIL XAREF-RECHECK-INDEX) M-A)
The subscripts (33 40) for #<ART-1B-40-40 15201275> were out of range in GLOBAL:AS-2-REVERSE.
Backtrace from the debugger:

(METHOD TV:MAGNIFYING-BLINKER BEFORE BLINK) (P.C. = 165)
  (SELF is #<MAGNIFYING-BLINKER 1044424>)

 Arg 0 (OPERATION): BLINK
Local 0 (SCREEN-ARRAY): #<ART-1B-1400-1653 7002273>
Local 1 (SWIDTH): 1400
Local 2 (SHEIGHT): 1653
Local 3 (I): 474
Local 4 (I1): 33
Local 5 (J): 665
Local 6 (J1): 36
Local 7 (TEM): 1
Local 8 (I2): 0
Local 9: 3
Local 10 (J2): 2
Local 11: 3
Local 12 (-X-POS-): NIL
Local 13 (-Y-POS-): NIL
Local 14 (-HEIGHT-): NIL
Local 15 (-WIDTH-): NIL


(METHOD TV:MAGNIFYING-BLINKER COMBINED BLINK) (P.C. = 75)
  (SELF is #<MAGNIFYING-BLINKER 1044424>)

 Rest arg (.DAEMON-CALLER-ARGS.): (BLINK)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-12 10043245>
Local 2 (.VAL1.): NIL
Local 3 (.VAL2.): NIL
Local 4 (.VAL3.): NIL


(METHOD TV:BLINKER SET-CURSORPOS) (P.C. = 216)
  (SELF is #<MAGNIFYING-BLINKER 1044424>)

 Arg 0 (OPERATION): SET-CURSORPOS
 Arg 1 (X): 463
 Arg 2 (Y): 653
Local 0 (OLD-PHASE): T


TV:MOUSE-SET-BLINKER-CURSORPOS (P.C. = 63)

 Rest arg (IGNORE): (MOUSE-MOVES 461 651)
Local 1 (X-OFF): 0
Local 2 (Y-OFF): 0


TV:MOUSE-DEFAULT-HANDLER (P.C. = 654)

 Arg 0 (WINDOW): #<LISP-LISTENER Lisp Listener 1 1000000 exposed>
 Arg 1 (SCROLL-BAR-FLAG): NIL
Local 0 (WINDOW-X-OFFSET): 0
Local 1 (WINDOW-Y-OFFSET): 0
Local 2 (WINDOW-X): 461
Local 3 (WINDOW-Y): 651
Local 4 (MOVE-METHOD): MOUSE-MOVES
Local 5 (BUTTONS-METHOD): MOUSE-BUTTONS
Local 6 (DX): 2
Local 7 (DY): 3
Local 8 (BU): 0
Local 9 (BD): 0
Local 10 (HAND): NIL
Local 11 (X): 461
Local 12 (Y): 651
Local 13 (OLD-OWNER): NIL
Local 14 (X-OFFSET): 0
Local 15 (WAIT-FLAG): T
Local 16 (MIN-X): NIL
Local 17 (MIN-Y): NIL
Local 18 (MAX-X): NIL
Local 19 (MAX-Y): NIL
Local 20 (XTOP): NIL
Local 21 (XBOTTOM): NIL
Local 22 (XLEFT): NIL
Local 23 (XRIGHT): NIL
Local 24 (XX): NIL
Local 25 (YY): NIL
Local 26 (I): NIL
Local 27: NIL


Remainder of stack:

(METHOD TV#:ESSENTIAL-MOUSE HANDLE-MOUSE) (P.C. = 37)
TV#:MOUSE-OVERSEER (P.C. = 134)
SI#:PROCESS-TOP-LEVEL (P.C. = 115)
19-Sep-83 07:08:41-EDT,2545;000000000000
Return-path: <TIM@MIT-OZ>
Date: Monday, 19 September 1983, 07:02-EDT
From: Tim McNerney <TIM@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In Experimental System 97.4, CADR 1.0, Experimental ZMail 51.2,
MIT-Specific 21.0, microcode 257, ZM MIT, on Lisp Machine Two:


Tried the same thing without using fast tracking...

>>TRAP 7674 (SUBSCRIPT-OOB M-Q M-S (NIL XAREF-RECHECK-INDEX) M-A)
The subscripts (41 100) for #<ART-1B-100-100 15534165> were out of range in GLOBAL:AS-2-REVERSE.
Backtrace from the debugger:

(METHOD TV:MAGNIFYING-BLINKER BEFORE BLINK) (P.C. = 165)
  (SELF is #<MAGNIFYING-BLINKER 1044560>)

 Arg 0 (OPERATION): BLINK
Local 0 (SCREEN-ARRAY): #<ART-1B-1400-1653 7002273>
Local 1 (SWIDTH): 1400
Local 2 (SHEIGHT): 1653
Local 3 (I): 365
Local 4 (I1): 41
Local 5 (J): 757
Local 6 (J1): 77
Local 7 (TEM): 1
Local 8 (I2): 0
Local 9: 3
Local 10 (J2): 1
Local 11: 3
Local 12 (-X-POS-): NIL
Local 13 (-Y-POS-): NIL
Local 14 (-HEIGHT-): NIL
Local 15 (-WIDTH-): NIL


(METHOD TV:MAGNIFYING-BLINKER COMBINED BLINK) (P.C. = 75)
  (SELF is #<MAGNIFYING-BLINKER 1044560>)

 Rest arg (.DAEMON-CALLER-ARGS.): (BLINK)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-12 10043245>
Local 2 (.VAL1.): NIL
Local 3 (.VAL2.): NIL
Local 4 (.VAL3.): NIL


(METHOD TV:BLINKER SET-CURSORPOS) (P.C. = 216)
  (SELF is #<MAGNIFYING-BLINKER 1044560>)

 Arg 0 (OPERATION): SET-CURSORPOS
 Arg 1 (X): 352
 Arg 2 (Y): 732
Local 0 (OLD-PHASE): T


TV:MOUSE-SET-BLINKER-CURSORPOS (P.C. = 63)

 Rest arg (IGNORE): (MOUSE-MOVES 350 730)
Local 1 (X-OFF): 0
Local 2 (Y-OFF): 0


TV:MOUSE-DEFAULT-HANDLER (P.C. = 654)

 Arg 0 (WINDOW): #<LISP-LISTENER Lisp Listener 1 1000000 exposed>
 Arg 1 (SCROLL-BAR-FLAG): NIL
Local 0 (WINDOW-X-OFFSET): 0
Local 1 (WINDOW-Y-OFFSET): 0
Local 2 (WINDOW-X): 350
Local 3 (WINDOW-Y): 730
Local 4 (MOVE-METHOD): MOUSE-MOVES
Local 5 (BUTTONS-METHOD): MOUSE-BUTTONS
Local 6 (DX): -2
Local 7 (DY): -25
Local 8 (BU): 0
Local 9 (BD): 0
Local 10 (HAND): NIL
Local 11 (X): 350
Local 12 (Y): 730
Local 13 (OLD-OWNER): NIL
Local 14 (X-OFFSET): 0
Local 15 (WAIT-FLAG): T
Local 16 (MIN-X): NIL
Local 17 (MIN-Y): NIL
Local 18 (MAX-X): NIL
Local 19 (MAX-Y): NIL
Local 20 (XTOP): NIL
Local 21 (XBOTTOM): NIL
Local 22 (XLEFT): NIL
Local 23 (XRIGHT): NIL
Local 24 (XX): NIL
Local 25 (YY): NIL
Local 26 (I): NIL
Local 27: NIL


Remainder of stack:

(METHOD TV#:ESSENTIAL-MOUSE HANDLE-MOUSE) (P.C. = 37)
TV#:MOUSE-OVERSEER (P.C. = 134)
SI#:PROCESS-TOP-LEVEL (P.C. = 115)
19-Sep-83 07:39:42-EDT,2367;000000000000
Return-path: <Mailer@MIT-OZ>
Date: Monday, 19 September 1983, 07:39-EDT
From:  <Tim@MIT-OZ>
Sender:@MIT-OZ
To: BUG-LISPM@MIT-OZ

In Experimental System 97.4, CADR 1.0, Experimental ZMail 51.2,
MIT-Specific 21.0, microcode 257, ZM MIT, on Lisp Machine Two:


Insert your description of the circumstances here:

After cold booting, the first form I typed was:

  (setq LL1-window (inspect tv:main-screen)

and the window system wedged!

>>Keyboard break.
Backtrace from the debugger:

GLOBAL:PROCESS-WAIT (P.C. = 46)

 Arg 0 (WHOSTATE): "Output Hold"
 Arg 1 (FUNCTION): #<DTP-FEF-POINTER (INTERNAL (METHOD TV:SHEET OUTPUT-HOLD-EXCEPTION) 0) 12127120>
 Rest arg (ARGUMENTS): (#<INSPECT-HISTORY-WINDOW-WITH-MARGIN-SCROLLING Inspect History Window With Margin Scrolling 1 1010014 deexposed>)
Local 1 (STATE): 7


(METHOD TV:SHEET OUTPUT-HOLD-EXCEPTION) (P.C. = 164)
  (SELF is #<INSPECT-HISTORY-WINDOW-WITH-MARGIN-SCROLLING Inspect History Window With Margin Scrolling 1 1010014 deexposed>)

 Arg 0 (OPERATION): OUTPUT-HOLD-EXCEPTION


TV#:SHEET-PREPARE-SHEET-INTERNAL (P.C. = 54)

 Arg 0 (SHEET): #<INSPECT-HISTORY-WINDOW-WITH-MARGIN-SCROLLING Inspect History Window With Margin Scrolling 1 1010014 deexposed>
Local 0 (LOCK): T
Local 1: NIL
Local 2 (BLINKER): NIL


TV#:SCROLL-BAR-DRAW (P.C. = 210)

Local 0 (ITEM-HEIGHT): 16
Local 1 (TOP-ITEM-NUM): 0
Local 2 (TOTAL-ITEMS): 0
Local 3 (LEFT): 0
Local 4 (TOP): 0
Local 5 (RIGHT): 3
Local 6 (BOTTOM): 164
Local 7 (BAR-HEIGHT): 164
Local 8 (N-ITEMS): 6
Local 9 (BAR-TOP): 0
Local 10 (BAR-BOTTOM): 164
Local 11 (BAR-WIDTH): 3


(METHOD TV:BASIC-SCROLL-BAR AFTER NEW-SCROLL-POSITION) (P.C. = 33)
  (SELF is #<INSPECT-HISTORY-WINDOW-WITH-MARGIN-SCROLLING Inspect History Window With Margin Scrolling 1 1010014 deexposed>)

 Arg 0 (OPERATION): NEW-SCROLL-POSITION
   --Defaulted args:--
 Arg 1 (IGNORE): NIL


Remainder of stack:

(METHOD TV#:INSPECT-HISTORY-WINDOW-WITH-MARGIN-SCROLLING COMBINED NEW-SCROLL-POSITION) (P.C. = 77)
(METHOD TV#:INSPECT-HISTORY-WINDOW FLUSH-CONTENTS) (P.C. = 73)
(METHOD TV:INSPECT-FRAME PREPARE-FOR-USE) (P.C. = 176)
GLOBAL:INSPECT (P.C. = 110)
SI:*EVAL (P.C. = 1247)
GLOBAL:SETQ (P.C. = 54)
SI:*EVAL (P.C. = 1247)
SI:EVAL-ABORT-TRIVIAL-ERRORS (P.C. = 44)
SI:LISP-TOP-LEVEL1 (P.C. = 256)
SI:LISP-TOP-LEVEL (P.C. = 35)
19-Sep-83 08:36:08-EDT,1727;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 07:48-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Editing Keywords in ZMail
To: MMcM at SCRC-TENEX
Cc: BUG-LISPM at MIT-MC
In-reply-to: <830915223309.8.MMcM@SCRC.SCRC>

    Date: Thu, 15 Sep 83 22:33 EDT
    From: Mike McMahon <MMcM@SCRC-TENEX>

	Date: Wednesday, 14 September 1983, 22:59-EDT
	From: Kent M. Pitman <kmp at MIT-MC>
	Couldn't Right click in Keywords give a menu of things to do to a keyword?

    You mean clicking right on a keyword in the menu you get when you click 
    right on keywords?

Yes.

    Would you really want to have to go down another level to do that while in the middle
    of adding keywords to a message.

Yes. It would save me from the two alternatives:
 * aborting out, doing that, then trying to get back to where I am.
 * remembering (or writing a reminder on hardcopy near my terminal) to do the change later.
The problem is that I want to do it while I'm thinking about it.

    If you want to change the set of keywords but not do anything to the current message, 
    do you have to click right and them remember to abort?

After this change, I'd be back in the message's menu. Yes, I'd have to Abort if I wanted
to not change this message. That's no different, though, than having to Abort if I hadn't
changed any keywords.

    Is going into profile mode worse just because switching constraint frame configurations
    is so slow?

No. That is in fact not prohibitively slow (except the first time). The problem is the
conceptual overhead of remembering long enough to do it and of having to wade through n
extra menus to get to a place where I can say what I want to say.
19-Sep-83 08:43:25-EDT,1993;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 07:58-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Suggestion for new Menu Item in Zmail main menu
To: MMcM at SCRC.SCRC
Cc: BUG-LISPM at MC.ARPA
In-reply-to: <830915225055.3.MMcM@SCRC.SCRC>

    Date: Thu, 15 Sep 83 22:50 EDT
    From: Mike McMahon <MMcM@SCRC.SCRC>
    Re:   Suggestion for new Menu Item in Zmail main menu

	Date: Wednesday, 14 September 1983, 23:19-EDT
	From: Kent M. Pitman <kmp at MIT-MC>
	In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

	It would be nice if there were a menu item in Zmail which I could click
	on which would just prompt me for the topic of a bug report I was going
	to start writing later without actually putting me in a window to type
	it. That way, I could finish one bug report before having to worry about
	starting the next...

    I suppose this applies equally well to any message which you need to remember
    to send later.  It could quite easily create an unsent draft.
    Care to suggest a name for these commands?

Sigh. I thought about this "generalization" when I was writing the bug report
but suppressed it lest it destroy the intended humor of my report. You're right,
though, it might actually be useful. Maybe call it "Seed"...

Actually, though, you know what might be as useful would be a little pane that is
always visible in ZMail, just a line or two, which is a raw ZWEI window that you
can click on and write notes to yourself in.

These are both relatively low priority things, though. I think the really 
important thing is to keep thinking about different ways in which ZMail could
be more helpful about remembering complex state. I find that it occurs to me to
do many things in ZMail and then as I wade through what it takes to do them --
particularly the huge number of menus it takes to do anything -- my short term
memory gets completely whitewashed  and I find myself forever losing my train of
thought.

19-Sep-83 08:53:01-EDT,1313;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 07:26-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail -- Left Click on Append => "Included-References: Your Message"
To: BUG-LISPM at MIT-MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

I clicked Right on a message in the Summary window and Left on Append.
The merged message came out looking like...

    Date: Sat, 17 Sep 1983  21:53 EDT
    Message-ID: <[MIT-OZ].GLR.17-Sep-83 21:53:22>
    From: Jerry Roylance <GLR@MIT-OZ>
    To:   BUG-LISP@MIT-OZ
    Subject: SETSYNTAX and (STATUS CHTRAN) on TOPS-20
    Included-msgs: The message of 18 Sep 83 17:00-EDT from ALAN at MIT-MC,
		   The message of 17 Sep 83 21:53-EDT from GLR at MIT-OZ,
		   <[MIT-OZ].GLR.17-Sep-83 21:53:22>
    Included-References: Your message
    
    
    ...random text...
    
    Date: 18 September 1983 17:00 EDT
    From: Alan Bawden <ALAN @ MIT-MC>
    Subject:  SETSYNTAX and (STATUS CHTRAN) on TOPS-20
    To: GLR @ MIT-OZ
    cc: BUG-LISP @ MIT-MC
    In-reply-to: Msg of Sat 17 Sep 1983  21:53 EDT from Jerry Roylance <GLR at MIT-OZ>
    
    ...more random text...
    
I'm not really sure about this "Included-References: Your message". That looks
pretty bogus. With that exception, the merge happened correctly.
19-Sep-83 09:21:39-EDT,1312;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 08:03-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail window configuration
To: MMcM at SCRC.SCRC
Cc: BUG-LISPM at MC.ARPA
In-reply-to: <830915220148.3.MMcM@SCRC.SCRC>

    Date: Thu, 15 Sep 83 22:01 EDT
    From: Mike McMahon <MMcM@SCRC.SCRC>

	Date: Wednesday, 14 September 1983, 22:09-EDT
	From: Kent M. Pitman <kmp at MIT-MC>
        ... I think it would be nice if there were an item in the middle 
        menu-window which was gave me a reconfiguration of the ZMail frame
        which had shrunk the summary and message windows and which left the
        bottom part of the screen being a ZWEI window so I could play with 
        ZWEI without losing my context. I suppose doing this through 
        configurations would be the right thing...

    I don't think this is right.  Configurations change the arrangement of
    panes within the zmail frame, where ever you put it on the screen.  This
    changes the size and position of the zmail frame itself.
    Something outside of zmail should be doing what you want.

No, I really did mean have a ZWEI window be a frame in the ZMail frame. 
That would be appropriate in Configurations. Is there some reason why that
would be an inappropriate thing to have?
19-Sep-83 10:50:45-EDT,568;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Mon 19-Sep-83 10:26:03-EDT
Date: Monday, 19 September 1983, 10:25-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: ZMail -- Keywords, L vs R
To: kmp@MIT-MC, BUG-LISPM@MIT-MC
In-reply-to: The message of 19 Sep 83 04:03-EDT from Kent M. Pitman <kmp at MC>

    Date: Monday, 19 September 1983, 04:03-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

Is there any reason these messages shouldn't be going to Bug-Zmail?
19-Sep-83 10:59:01-EDT,592;000000000000
Return-path: <REID@MIT-OZ>
Date: Monday, 19 September 1983, 10:56-EDT
From: Reid G. Simmons <REID@MIT-OZ>
Subject: split screens
To: BUG-LISPM@MIT-OZ

In Release 4.5, Reasoning Utility Package 5.0, Experimental DIAGRAM 9.0,
Experimental QUANTITY 12.0, Experimental HISTORY 17.1,
Experimental PROCESS 17.0, site configuration 75, on Lisp Machine Apiary-5:

When splitting a screen with Lisp-listener-1 and a Zmacs buffer, the 
borders of the Zmacs window and the lisp windows are erased.  Hitting "refresh"
does not bring them back, neither does leaving the window and returning.
19-Sep-83 11:00:13-EDT,1362;000000000000
Return-path: <BSG@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Mon 19-Sep-83 10:53:45-EDT
Date: Monday, 19 September 1983, 10:52-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: Clicking Left in ZMAIL when there is no default
To: kmp@MIT-MC, BUG-LISPM@MIT-OZ
In-reply-to: The message of 18 Sep 83 21:11-EDT from Kent M. Pitman <kmp at MC>

    Date: Sunday, 18 September 1983, 21:11-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    There is nothing more aggravating than a program typing out an error 
    message for which there is really only one logical correction which
    could have been tried harmlessly in the same amount of time it takes
    it to type the error message.
I agree with this tenet in principle.  Yet, if we take your advice, people
may get used to clicking left to get the menu, and get surprised when
there is, in fact, a default.  Now you address that in your other proposal,
by making it confirm the default.  This puts more slowness and annoyance
into the common path.  I would almost say, "Let it ask a stupid question
to give you the menu, in order to up the annoyance factor sufficiently
such that you will not get used to clicking left for the menu."

Final conclusion: the issue is murkier than you make it out to be, and
maybe there is something to be said for the way it is.
19-Sep-83 11:29:37-EDT,1362;000000000000
Return-path: <BSG@SCRC-TENEX>
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Mon 19-Sep-83 10:53:45-EDT
Date: Monday, 19 September 1983, 10:52-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: Clicking Left in ZMAIL when there is no default
To: kmp@MIT-MC, BUG-LISPM@MIT-OZ
In-reply-to: The message of 18 Sep 83 21:11-EDT from Kent M. Pitman <kmp at MC>

    Date: Sunday, 18 September 1983, 21:11-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    There is nothing more aggravating than a program typing out an error 
    message for which there is really only one logical correction which
    could have been tried harmlessly in the same amount of time it takes
    it to type the error message.
I agree with this tenet in principle.  Yet, if we take your advice, people
may get used to clicking left to get the menu, and get surprised when
there is, in fact, a default.  Now you address that in your other proposal,
by making it confirm the default.  This puts more slowness and annoyance
into the common path.  I would almost say, "Let it ask a stupid question
to give you the menu, in order to up the annoyance factor sufficiently
such that you will not get used to clicking left for the menu."

Final conclusion: the issue is murkier than you make it out to be, and
maybe there is something to be said for the way it is.
19-Sep-83 12:40:09-EDT,556;000000000000
Return-path: <Mailer@MIT-OZ>
Date: Monday, 19 September 1983, 12:35-EDT
From: KDF at MIT-OZ%MIT-MC
Subject: Random type-in bugs
To: BUG-LISPM at OZ

In Release 4.5, site configuration 62, on Lisp Machine John Lennon:

While waiting for typein in both Lisp and ZMACS, random characters will
sometimes appear, resulting in crap in files, random Zmacs commands
going off, and extra errors at lisp toplevel.  Typein in ZMACs can be
accompanied by double characters, extra characters, and random
characters.  Sadly, the bug is INTERMITTENT.
		Ken
19-Sep-83 14:19:37-EDT,1151;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Mon 19-Sep-83 13:24:39-EDT
Date: Monday, 19 September 1983, 13:23-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Random type-in bugs
To: KDF%MIT-OZ@MIT-MC, BUG-LISPM@MIT-OZ
In-reply-to: The message of 19 Sep 83 12:35-EDT from KDF at MIT-OZ%MIT-MC

    Date: Monday, 19 September 1983, 12:35-EDT
    From: KDF at MIT-OZ%MIT-MC
    In Release 4.5, site configuration 62, on Lisp Machine John Lennon:

    While waiting for typein in both Lisp and ZMACS, random characters will
    sometimes appear, resulting in crap in files, random Zmacs commands
    going off, and extra errors at lisp toplevel.  Typein in ZMACs can be
    accompanied by double characters, extra characters, and random
    characters.  Sadly, the bug is INTERMITTENT.

Sounds like cable (console -> 3600) noise to me.  Check for loose
connections.  If that isn't it, it may be that some component (in the
keyboard, console or FEP) may be overly heat sensitive.  If you can
create a solid failure (during the day), try and get field service over
before it fixes itself.
19-Sep-83 15:42:40-EDT,1475;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Mon 19-Sep-83 15:28:04-EDT
Date: Monday, 19 September 1983, 15:26-EDT
From: David A. Moon <Moon at SCRC>
Subject: remembering complex state in ZMail or anywhere else
To: Kent M. Pitman <kmp at MC>
Cc: MMcM at SCRC.SCRC, BUG-LISPM at MC
In-reply-to: The message of 19 Sep 83 07:58-EDT from Kent M. Pitman <kmp at MC>

    Date: Monday, 19 September 1983, 07:58-EDT
    From: Kent M. Pitman <kmp at MIT-MC>

    Actually, though, you know what might be as useful would be a little pane that is
    always visible in ZMail, just a line or two, which is a raw ZWEI window that you
    can click on and write notes to yourself in.

    These are both relatively low priority things, though. I think the really 
    important thing is to keep thinking about different ways in which ZMail could
    be more helpful about remembering complex state. I find that it occurs to me to
    do many things in ZMail and then as I wade through what it takes to do them --
    particularly the huge number of menus it takes to do anything -- my short term
    memory gets completely whitewashed  and I find myself forever losing my train of
    thought.

I keep a notepad under my mouse.  This also has the advantage that it lasts across
cold boots, although it does have the disadvantage of eventually inundating my
desk in pieces of paper containing things I haven't done yet.
19-Sep-83 22:48:35-EDT,2597;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 22:48-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Clicking Left in ZMAIL when there is no default
To: BSG at SCRC-TENEX, BUG-LISPM at MIT-MC
In-reply-to: The message of 19 Sep 83 10:52-EDT from Bernard S. Greenberg <BSG at SCRC-TENEX>

    Date: Monday, 19 September 1983, 10:52-EDT
    From: Bernard S. Greenberg <BSG@SCRC-TENEX>

	Date: Sunday, 18 September 1983, 21:11-EDT
	From: Kent M. Pitman <kmp at MIT-MC>

	There is nothing more aggravating than a program typing out an error 
	message for which there is really only one logical correction which
	could have been tried harmlessly in the same amount of time it takes
	it to type the error message.

    I agree with this tenet in principle.  Yet, if we take your advice, people
    may get used to clicking left to get the menu, and get surprised when
    there is, in fact, a default.

This argument is reasonable in the case where Left Click doesn't require 
confirmation, but carries no weight in the other case. I will buy it as a
reason for maintaining the current behavior in the current cases.

    Now you address that in your other proposal, by making it confirm the
    default.  This puts more slowness and annoyance into the common path.
    I would almost say, "Let it ask a stupid question to give you the menu,
    in order to up the annoyance factor sufficiently such that you will
    not get used to clicking left for the menu."

Well, this isn't clear. The main problem is that we all value different
things in our interactions. To me, I have a strong dislike for things that
are easy to do by mistake and hard to undo. I am only minimally bothered by
latency time for menus if the menus are offering reasonable options. 

    Final conclusion: the issue is murkier than you make it out to be, and
    maybe there is something to be said for the way it is.

Of course, any changes to the default are always subject to question and in
this case you have a completely reasonable case for wanting to maintain the
status quo. On the other hand, your arguments support only having the option
turned off by default; they don't address the original question of whether
this was a reasonable idea for an enableable option.

Typos with the mouse, unlike those with the keyboard, are not subject to 
rubout. I type very fast, but make a lot of mistakes. The same interaction
style tends to hold for my mouse clicking style, so I don't like to be in a
state where a single wrong click is going to be a pain to undo.
19-Sep-83 22:53:24-EDT,868;000000000000
Return-path: <kmp@MIT-MC>
Date: Monday, 19 September 1983, 22:53-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Zmail -- Reminders, Expiration
To: BUG-LISPM at OZ

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

I would like to see an option to mark a message with an expiration
date. It could add an "Expires" line to the message header.

Also, I would like to be able to mark a message as something I 
should be reminded about on or after a certain date.

I suspect that calendar mode offers me some of this functionality
in an oblique way. But my feeling is that this should probably be
an important part of the normal interaction style as well. One of
the worst problems I have with backlogs of mail is that messages
whose usefulness is past do not get deleted and I carry them around
for years until I have time to read and flush them.
19-Sep-83 23:19:16-EDT,521;000000000000
Return-path: <Zvona@MIT-OZ>
Date: Monday, 19 September 1983, 23:17-EDT
From: David Chapman <Zvona@MIT-OZ>
To: BUG-lispm@MIT-OZ

In zwei in Release 4.5, site configuration 62, on Lisp Machine John Lennon:

m-X Reap File sometime does not offer to reap excess versions.  For
example, there are now about 10 versions of pig:[zvona.luser]debug.lsp,
but m-1 m-X Reap File on pig:[zvona.luser]debug.* fails to reap
anything.  m-X Clean Directory on that directory does offer to delete
excess versions of debug.lsp.
19-Sep-83 23:28:39-EDT,305;000000000000
Return-path: <dove@MIT-DSPG>
Date: 19 Sep 1983 23:25:53-EDT
From: dove at mit-dspg
Subject: why is get-hash slow?
To: bug-lispm at mit-oz

On a 3600, if I make a 200 element equal hash table, I can do gethash
from it in about .5 ms.  That seems very slow to me.  Is it ever going
to be faster?

20-Sep-83 00:17:12-EDT,777;000000000000
Return-path: <DCP@SCRC-TENEX>
Date: Tuesday, 20 September 1983  00:12-EDT
From: DCP at SCRC-TENEX
To:   dove at mit-dspg
Cc:   bug-lispm at mit-oz
Subject: why is get-hash slow?
In-reply-to: The message of 19 Sep 1983  23:25-EDT from dove at mit-dspg

    Date: 19 Sep 1983 23:25:53-EDT
    From: dove at mit-dspg

    On a 3600, if I make a 200 element equal hash table, I can do gethash
    from it in about .5 ms.  That seems very slow to me.  Is it ever going
    to be faster?
Two questions:

What kind of things are you hashing?  Even small trees can take a
moderate amount of time to compute the hash and do some number of
EQUAL comparisons.  (I assume EQ hash tables won't fit the
application?)

How fast is the LM-2/CADR for the same operations?
20-Sep-83 10:58:38-EDT,596;000000000000
Return-path: <dove@MIT-DSPG>
Date: 20 Sep 1983 09:16:22-EDT
From: dove at mit-dspg
Subject: Re:  why is get-hash slow?
To: DCP at scrc-tenex
Cc: bug-lispm at mit-oz

In the experiment, I was using numbers as keys.

fill the hash table with numbers 0 to 199.  Then do (gethash 5 hash-table)
1000 times.  There didn't seem to be an improvement with eq tables.
I haven't tried on LM-2.

In actual practice, I will use lists of length perhaps 4.  What
surprised me is the lack of increase in time when the table went from
200 to 2000 elements.  It seems that 500us is housekeeping.

20-Sep-83 11:49:25-EDT,1711;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Tue 20-Sep-83 11:52:40-EDT
Date: Tuesday, 20 September 1983, 11:49-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Re:  why is get-hash slow?
To: dove@MIT-DSPG, DCP@SCRC-TENEX
Cc: bug-lispm@MIT-OZ
In-reply-to: The message of 20 Sep 83 09:16-EDT from dove at DSPG

    Date: 20 Sep 1983 09:16:22-EDT
    From: dove at mit-dspg
    In the experiment, I was using numbers as keys.

    fill the hash table with numbers 0 to 199.  Then do (gethash 5 hash-table)
    1000 times.  There didn't seem to be an improvement with eq tables.
    I haven't tried on LM-2.

(defun hh ()
  (let ((hash (make-equal-hash-table)))
    (loop for i below 200. do (send hash ':put-hash i i))
    (without-interrupts
      (list (float (- (- (sys:%microsecond-clock)
			 (progn (loop repeat 5 do
				      (loop for i below 200. do (gethash i hash)))
				(sys:%microsecond-clock)))))
	    (float (- (- (sys:%microsecond-clock)
			 (progn (loop repeat 5 do
				      (loop for i below 200. do (send hash ':get-hash i)))
				(sys:%microsecond-clock)))))))))
typically returns (210453.0 204956.0), giving about .2 microseconds for
a :get-hash message (the currently prefered way to use hash tables).
This is in the Release 5 world.  I don't know if this was one of the
many things that was made faster.

    In actual practice, I will use lists of length perhaps 4.  What
    surprised me is the lack of increase in time when the table went from
    200 to 2000 elements.  It seems that 500us is housekeeping.

It shouldn't be surprising.  That's what hash tables are for:
more-or-less contant-time lookup.
20-Sep-83 12:31:16-EDT,920;000000000000
Return-path: <Mailer@MIT-OZ>
Date:  20 September 1983 12:32 edt
From:  Barry Margolin at MIT-MULTICS
Subject:  Re:  why is get-hash slow?
To:  David C. Plummer <DCP at SCRC-TENEX>
cc:  dove at MIT-DSPG, bug-lispm at MIT-OZ
In-Reply-To:  Message of 20 September 1983 12:14 edt from David C. Plummer

    Date:  Tuesday, 20 September 1983, 11:49-EDT
    From:  David C. Plummer <DCP@SCRC-TENEX>
    Subject:  Re:  why is get-hash slow?

        Date: 20 Sep 1983 09:16:22-EDT
        From: dove at mit-dspg

        What
        surprised me is the lack of increase in time when the table went from
        200 to 2000 elements.  It seems that 500us is housekeeping.

    It shouldn't be surprising.  That's what hash tables are for:
    more-or-less contant-time lookup.

In fact, hash tables get FASTER as they get larger (except for extra
paging time), because there should be fewer collisions.
20-Sep-83 12:58:11-EDT,340;000000000000
Return-path: <ALR@MIT-OZ>
Date: Tuesday, 20 September 1983, 13:03-EDT
From: Andrew L. Ressler <ALR@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In System 97.6, CADR 1.0, ZMail 51.2, MIT-Specific 21.0, microcode 257,
ZM MIT, on Lisp Machine Two:

In the Inspector.
Typing <BREAK> followed by <RESUME> does not refresh the lower window.

Andrew
20-Sep-83 13:49:49-EDT,1137;000000000000
Return-path: <MMcM@SCRC-TENEX>
Received: from SCRC-COLLIE by SCRC-TENEX with CHAOS; Tue 20-Sep-83 13:49:14-EDT
Date: Tue, 20 Sep 83 13:46 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: Zmail -- Reminders, Expiration
To: kmp@MIT-MC
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 19 Sep 83 22:53-EDT from Kent M. Pitman <kmp at MC>
Message-ID: <830920134636.2.MMcM@SCRC.SCRC>

    Date: Monday, 19 September 1983, 22:53-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

    I would like to see an option to mark a message with an expiration
    date. It could add an "Expires" line to the message header.
m-X Set Expiration Date

    Also, I would like to be able to mark a message as something I 
    should be reminded about on or after a certain date.
m-X Set Start Date

    I suspect that calendar mode offers me some of this functionality
    in an oblique way. But my feeling is that this should probably be
    an important part of the normal interaction style as well.
There is a user option whereby expunge will offer to delete expired
messages.
20-Sep-83 14:45:21-EDT,415;000000000000
Return-path: <TIM@MIT-OZ>
Date: Tuesday, 20 September 1983, 14:42-EDT
From: Tim McNerney <TIM@MIT-OZ>
Subject: Supdup window does not do change of default font correctly
To: BUG-symbolics-software@MIT-OZ

In symbolics-software in Release 4.5, site configuration 75, on Lisp Machine John Lennon:

When one does a (tv:set-default-font ...) the supdup window does not change the size of
it cursor blinker.  
20-Sep-83 16:47:08-EDT,727;000000000000
Return-path: <GZ@MIT-OZ>
Mail-From: GZ created at 20-Sep-83 16:45:26
Date: Tuesday, 20 September 1983, 15:25-EDT
Message-ID: <[MIT-OZ].GZ.20-Sep-83 16:45:25>
Sender: BRD@MIT-OZ
From: BRD@MIT-OZ
To: BUG-symbolics@MIT-OZ, TC@MIT-OZ, tlp@MIT-OZ
Subject:   File Loading won't work until warm booting.
ReSent-From: GZ@MIT-OZ
ReSent-To: bug-symbolics-software
ReSent-Date: Tue 20 Sep 1983 16:45-EDT

In Release 4.4, site configuration 72, on Lisp Machine Robot-3:

When loading files, the server frequently wedges with "Chaos Buffer"
displayed in the wholine. C-ABORT will unwedge it, but no subsequent
file operations will work until Warm Booting. After warm booting and a
file retry, the operation usually works.
20-Sep-83 19:24:54-EDT,327;000000000000
Return-path: <Gumby@MIT-OZ>
Date: Tuesday, 20 September 1983, 19:21-EDT
From: David Vinayak Wallace <Gumby@MIT-OZ>
Subject: mail file problem on OZ now fixed
To: bug-lispm@MIT-OZ
Cc: hewitt@MIT-OZ

The ZMAIL problem with reading OZ mail files has now been fixed by
changing OZ mail files to conform with the standard.
20-Sep-83 23:17:33-EDT,784;000000000000
Return-path: <JBA@MIT-OZ>
Mail-From: JBA created at 20-Sep-83 23:11:44
Date: Tue, 20 Sep 1983  23:11 EDT
Message-ID: <[MIT-OZ].JBA.20-Sep-83 23:11:42>
From: JBA@MIT-OZ
To:   Barry Margolin@MIT-MULTICS
Cc:   bug-lispm@MIT-OZ, David C. Plummer <DCP@SCRC-TENEX>, dove@MIT-DSPG
Subject: why is get-hash slow?
In-reply-to: Msg of 20 Sep 1983  12:32-EDT from Barry Margolin at MIT-MULTICS


    In fact, hash tables get FASTER as they get larger (except for extra
    paging time), because there should be fewer collisions.


Yeah.  I was wondering why someone hadn't brought this up before.  
A full hash table makes an unfair timing test--with some hashing
algorithms, full tables can give you hideous behavior.  You should
always leave, I don't know, maybe 20% empty.
20-Sep-83 23:31:59-EDT,1836;000000000000
Return-path: <JBA@MIT-OZ>
Date: Tue, 20 Sep 1983  23:25 EDT
Message-ID: <[MIT-OZ].JBA.20-Sep-83 23:25:59>
From: JBA@MIT-OZ
To:   David A. Moon <Moon@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-MC, Kent M. Pitman <kmp@MIT-MC>, MMcM@SCRC-TENEX
Subject: remembering complex state in ZMail or anywhere else
In-reply-to: Msg of 19 Sep 1983 15:26-EDT from David A. Moon <Moon at SCRC>

    Date: Monday, 19 September 1983, 15:26-EDT
    From: David A. Moon <Moon at SCRC>
    To:   Kent M. Pitman <kmp at MC>
    cc:   MMcM at SCRC.SCRC, BUG-LISPM at MC
    Re:   remembering complex state in ZMail or anywhere else
    Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Mon 19-Sep-83 15:28:04-EDT

    I keep a notepad under my mouse.  This also has the advantage that it lasts across
    cold boots, although it does have the disadvantage of eventually inundating my
    desk in pieces of paper containing things I haven't done yet.


My philosophy is that with a mumblety-thousand-dollar lisp machine
under my fingers, I should be able to forget, not only @i[about]
writing, but also @i[how to write].  (I hope I really will be able to
eventually, since my handwriting is very bad.)  My current patch for
this problem is a little Zmacs command that lets me type some lines in
a minibuffer and then puts them in a buffer that I can look at later.
The problem is that I first have to be in Zmacs.

If we had a Xeroxy window system, we could just have a little, 
deactivated notes window in the corner that we could get at from
anywhere.  We could sort of mimic this with the current software by
changing the default sizes of all the standard full-screen windows
(ZMail, Converse, Lisp, etc.) to be just shy lengthwise; then we could
mouse on the thin vertical strip on the right to get to a little Zmacs
window.
21-Sep-83 22:44:11-EDT,1263;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 21 September 1983, 22:42-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: L command in ZMail, ZWEI minibuffer types
To: BUG-LISPM at MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

I feel like the L command should allow completion over words.

This would probably involve having minibuffer style such as the
KBE has where you get completion anywhere in the buffer over a
collection of words regardless of what other words are present.
I think ZWEI should have such a feature anyway. I know many 
people have asked me about the minibuffer I use in KBE demos,
wondering where it came from since they have wanted a similar
thing. 

Alternatively, if you want a more immediate way of getting this
which doesn't involve such a minibuffer, I wouldn't mind only
being able to type one keyword per minibuffer. Typing L foo Return,
L bar Return, etc. The potential typing savings by getting 
completion far outweighs the overhead of typing the extra L's 
and Returns. Also, it could beep at me if I use a bad keyword 
and make me type c-Return to confirm. It's easy to accidentally 
think the keyword named Foo was really Foos and then have two 
nearly identical labels floating around.
-kmp
21-Sep-83 22:52:58-EDT,1088;000000000000
Return-path: <kmp@MIT-MC>
Date: Wednesday, 21 September 1983, 22:52-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: m-X Set Fonts, Interface
To: BUG-LISPM at MC

In Release 4.4, Knowledge-Based-Editor 214.0, site configuration 62,
AAAI-83, on PA Lisp Machine Merlin:

If to m-X Set Fonts, you type "MEDFNT,MEDFNB" instead of "MEDFNT MEDFNB"
you get a hard error about comma not inside backquote and are left
in the debugger.

I doubt a Fortran programmer or secretary using the LispM would find
this intuitive. At the least, a CONDITION-CASE is needed here.

Further, I think that although if you read the prompt correctly you 
know that commas aren't desired, they probably should be desired. That
would make it consistent with the way they appear in attribute lists
and would mean one context-dependent syntax for users to have to remember.

By the way, if the funny context-independent word-completion minibuffers
I mentioned in my earlier bug report about the L command in ZMail were
implemented, the Set Fonts minibuffer could use that style of completion.
22-Sep-83 05:34:49-EDT,941;000000000000
Return-path: <kmp@MIT-MC>
Date: Thursday, 22 September 1983, 05:32-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: ZMail, Moving messages to Files
To: BUG-LISPM at MC

In ZMail in Symbolics Release 4.4 on MIT-MERLIN...

When ZMail has both a main mail file to write and some auxiliary files,
it writes them in the wrong order. The BABYL file should be the last
to be written, not the first to minimize the chance of losing mail.

There is a major potential for bad timing error here.  The problem is
that if my machine crashes or things otherwise wedge while writing
things, my new littler Babyl file may have successfully written but the
messages I moved to files may not have. I think it's relatively
important that the first thing to get written be the aux files since
then if anything dies the odds are high the old copy of the Babyl file
will contain a superset of the messages that were to be written
everywhere.
22-Sep-83 14:53:14-EDT,3819;000000000000
Return-path: <PGS@MIT-OZ>
Date: Thursday, 22 September 1983, 14:39-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In System 97.6, CADR 1.0, ZMail 51.2, MIT-Specific 21.0, microcode 257,
ZM MIT, on Lisp Machine Thirty-one:


I read a file into my Zwei with C-X C-F.  I found that the file didn't exist, and
did C-X C-F with the right filename.  I then quickly did C-M-L and C-X K return return
(to bring me back to the right buffer.  As redisplay was about to happen, I lost
>>TRAP 12746 (ARGTYP NUMBER M-T 1 QIADD0)
The second argument to GLOBAL:+, NIL, was of the wrong type.
The function expected a number.
Backtrace from the debugger:

Additional information supplied with call:
 Expecting 3 values

TV:SHEET-COMPUTE-MOTION (P.C. = 742)

 Arg 0 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>
 Arg 1 (X): 0
 Arg 2 (Y): 531
 Arg 3 (STRING): "(DEFVAR *OBLIST* NIL)"
 Arg 4 (START): NIL
 Arg 5 (END): NIL
 Arg 6 (CR-AT-END-P): NIL
 Arg 7 (STOP-X): 231
 Arg 8 (STOP-Y): 1034
   --Defaulted args:--
 Arg 9 (BOTTOM-LIMIT): 1522
 Arg 10 (RIGHT-LIMIT): 1360
 Arg 11 (FONT): #<FONT MEDFNT 7563614>
 Arg 12 (LINE-HT): 17
 Arg 13 (TAB-WIDTH): 110
Local 0 (CWA): NIL
Local 1 (CW): 11
Local 2 (CH): NIL
Local 3 (FONTX): NIL
Local 4 (TEM): NIL
Local 5 (I): NIL
Local 6 (N): 25
Local 7 (NN): NIL
Local 8 (II): NIL
Local 9 (MARGIN-FLAG): T
Local 10 (MAXIMUM-X): 0
Local 11 (WIDTH-INCR): NIL
Local 12 (LIMIT): NIL
Local 13 (FONT-MAP): NIL


Additional information supplied with call:
 Expecting 6 values

ZWEI#:MOUSE-CHAR (P.C. = 244)

 Arg 0 (WINDOW): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>
   --Defaulted args:--
 Arg 1 (FIXUP-P): NIL
 Arg 2 (X): 231
 Arg 3 (Y): 1041
Local 0 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>
Local 1 (LINE): "(DEFVAR *OBLIST* NIL)"
Local 2 (PLINE): 27
Local 3 (CHAR-POS): NIL
Local 4 (LH): 17
Local 5 (REAL-PLINE): 44
Local 6 (START): NIL
Local 7 (END): NIL
Local 8 (BP): ("" 0 MOVES)
Local 9 (FONT-MAP): NIL
Local 10 (CH): NIL
Local 11 (FONT): NIL
Local 12 (CHAR-X): NIL
Local 13 (CHAR-WIDTH): NIL


(METHOD ZWEI#:ZWEI MOUSE-MOVES) (P.C. = 144)
  (SELF is #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>)

 Arg 0 (OPERATION): MOUSE-MOVES
 Arg 1 (NEW-X): 234
 Arg 2 (NEW-Y): 1043
Local 0 (CHAR): NIL
Local 1 (CHAR-X): NIL
Local 2 (CHAR-Y): NIL
Local 3 (LINE): NIL
Local 4 (INDEX): NIL
Local 5 (WIDTH): NIL
Local 6 (FONT-NUMBER): NIL
Local 7 (FONT): NIL
Local 8 (CH): NIL
Local 9 (LKT): NIL


(METHOD ZWEI#:ZWEI-WINDOW COMBINED MOUSE-MOVES) (P.C. = 67)
  (SELF is #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>)

 Rest arg (.DAEMON-CALLER-ARGS.): (MOUSE-MOVES 234 1043)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-5 10376535>
Local 2 (X): 234
Local 3 (Y): 1043


TV:MOUSE-DEFAULT-HANDLER (P.C. = 654)

 Arg 0 (WINDOW): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>
 Arg 1 (SCROLL-BAR-FLAG): T
Local 0 (WINDOW-X-OFFSET): 1
Local 1 (WINDOW-Y-OFFSET): 1
Local 2 (WINDOW-X): 234
Local 3 (WINDOW-Y): 1043
Local 4 (MOVE-METHOD): MOUSE-MOVES
Local 5 (BUTTONS-METHOD): MOUSE-BUTTONS
Local 6 (DX): 0
Local 7 (DY): 0
Local 8 (BU): 0
Local 9 (BD): 0
Local 10 (HAND): NIL
Local 11 (X): 235
Local 12 (Y): 1044
Local 13 (OLD-OWNER): NIL
Local 14 (X-OFFSET): 0
Local 15 (WAIT-FLAG): T
Local 16 (MIN-X): NIL
Local 17 (MIN-Y): NIL
Local 18 (MAX-X): NIL
Local 19 (MAX-Y): NIL
Local 20 (XTOP): NIL
Local 21 (XBOTTOM): NIL
Local 22 (XLEFT): NIL
Local 23 (XRIGHT): NIL
Local 24 (XX): NIL
Local 25 (YY): NIL
Local 26 (I): NIL
Local 27: NIL


Remainder of stack:

(METHOD ZWEI#:ZWEI HANDLE-MOUSE) (P.C. = 110)
TV#:MOUSE-OVERSEER (P.C. = 134)
SI#:PROCESS-TOP-LEVEL (P.C. = 115)
22-Sep-83 17:47:46-EDT,967;000000000000
Return-path: <TIM@MIT-OZ>
Mail-From: TIM created at 22-Sep-83 17:42:12
Date: Thu, 22 Sep 1983  17:42 EDT
Message-ID: <[MIT-OZ].TIM.22-Sep-83 17:42:11>
From: TIM@MIT-OZ
To:   Bug-Symbolics-Software@MIT-OZ
Subject: Can't set base in init file on 3600

My login init file tries to SETQ BASE and IBASE to 10. (ten).  It works on a
CADR in both the Symbolics and the MIT system, but does not work on a 3600.
The exact same file LMINIT.(QFASL, QBIN, and BIN), as compiled on all three
systems, is loaded by an interpreted LISPM.INIT.  There seem to be an
unnecessary level of binding when the file(s) are loaded:  After the init file
is loaded, the BASE and IBASE are restored back to 10 (eight).  I do not bind
the BASE in any attribute list (a classic screw which should probably be fixed
as well).  When I invoke the same functions used in the init file from the
keyboard, the right thing happens.  (If you want to stare at my code, it is in
PS:<TIM>)
22-Sep-83 19:32:20-EDT,521;000000000000
Return-path: <Moon@SCRC-TENEX>
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Thu 22-Sep-83 19:13:56-EDT
Date: Thursday, 22 September 1983, 19:11-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Can't set base in init file on 3600
To: TIM@MIT-OZ
Cc: Bug-Symbolics-Software@MIT-OZ
In-reply-to: <[MIT-OZ].TIM.22-Sep-83 17:42:11>

    Date: Thu, 22 Sep 1983  17:42 EDT
    From: TIM@MIT-OZ
    My login init file tries to SETQ BASE and IBASE to 10. (ten).
Refer to page 7 of Release 4.3 Patch Notes.
22-Sep-83 20:41:21-EDT,553;000000000000
Return-path: <CStacy@MIT-MC>
Date: Thursday, 22 September 1983, 20:21-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
Subject: CONVERSE loses
To: Bug-LISPM at MIT-MC

Sometimes when I get a send (I use the pop-up kind) and I reply to it,
when I press the END key, nothing happens except self-inserting an END
into the buffer.  Nothing I have found will get the message out, and I
have to [ABORT], lose my lengthy reply, and think about sending it
again.  This happens completely randomly as far as I can tell, and is
terribly frustrating.
22-Sep-83 20:42:09-EDT,513;000000000000
Return-path: <CStacy@MIT-MC>
Date: Thursday, 22 September 1983, 20:33-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
Subject: window trouble
To: BUG-LISPM at MC

In Release 4.5, site configuration 75, on Lisp Machine Apiary-4:

I was in ZMAIL, reading in a mail file via Select.  I typed SYSTEM-E
and got a send.  I answered the send.  Then when I got back at ZMACS,
my whostate was "Selected" and ZMACS commands did not work.  If I were
a novice user, I would not have guessed to re-select ZMAIL.
22-Sep-83 20:42:48-EDT,1027;000000000000
Return-path: <CStacy@MIT-MC>
Date: Thursday, 22 September 1983, 20:36-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
Subject: window trouble worse than I thought
To: BUG-LISPM at MC
Supersedes: The message of 22 Sep 83 20:33-EDT from Christopher C. Stacy <CStacy at MIT-MC>

In Release 4.5, site configuration 75, on Lisp Machine Apiary-4:

I was in ZMAIL, reading in a mail file via Select.  It was taking a
long time so I typed SYSTEM-E to do some other stuff. In ZMACS, I got
a send.  I answered the send.  Then when I got dropped back into
ZMACS, my whostate was "Selected" and ZMACS commands did not work.  If
I were a novice user, I would not have guessed to re-select ZMAIL.

Well, I let ZMAIL type out at me and stuff, and now I went back to the
editor.  It is still in "Selected".  Telling it to refresh (via the
System menu) made it clear the buffer display but not redisplay
anything.  It was not listening to any keystrokes.  I had to Reset
the process in the window to get it to work again.
22-Sep-83 22:01:47-EDT,633;000000000000
Return-path: <DCP@SCRC-TENEX>
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Thu 22-Sep-83 21:49:37-EDT
Date: Thursday, 22 September 1983, 21:46-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: window trouble worse than I thought
To: CStacy@MIT-MC, BUG-LISPM@MIT-MC
In-reply-to: The message of 22 Sep 83 20:36-EDT from Christopher C. Stacy <CStacy at MC>

Sounds like you wanted Function-0-S which probably would have let a
typeout window expose itself and give you an error message or something.
Great huh?  You're not a novice and even /you/ didn't guess that one!
"Fixed in the activity system," I suppose.
22-Sep-83 22:40:19-EDT,1083;000000000000
Return-path: <CStacy@MIT-MC>
Date: Thursday, 22 September 1983, 21:56-EDT
From: Christopher C. Stacy <CStacy at MIT-MC>
Subject: window trouble worse than I thought
To: David C. Plummer <DCP at SCRC-TENEX>
Cc: BUG-LISPM at MIT-MC
In-reply-to: The message of 22 Sep 83 21:46-EDT from David C. Plummer <DCP at SCRC-TENEX>

    Date: Thursday, 22 September 1983, 21:46-EDT
    From: David C. Plummer <DCP@SCRC-TENEX>
    Sounds like you wanted Function-0-S which probably would have let a
    typeout window expose itself and give you an error message or something.
    Great huh?  You're not a novice and even /you/ didn't guess that one!
    "Fixed in the activity system," I suppose.

Thank's for the reply. That's not what the (old) documentation really says
to me is supposed to work.  I might have tried it though if the whostate
was "Output Hold".  Oh, well.  We're all waiting for the new activity
system.  As more new users show up, and more old users create fun windows
for them to try out, using the system gets to be more and more obscure and magical.

23-Sep-83 14:19:34-EDT,1195;000000000000
Return-path: <CWH@SCRC-TENEX>
Received: from CHAOS|24407 by SCRC-SPANIEL with CHAOS; Fri 23-Sep-83 14:16:37-EDT
Date: Friday, 23 September 1983, 14:16-EDT
From: Carl W. Hoffman <CWH at SCRC>
Subject: CONVERSE loses
To: CStacy at MC, Bug-LISPM at MC
In-reply-to: The message of 22 Sep 83 20:21-EDT from Christopher C. Stacy <CStacy at MC>

    Date: Thursday, 22 September 1983, 20:21-EDT
    From: Christopher C. Stacy <CStacy at MIT-MC>
    Sometimes when I get a send (I use the pop-up kind) and I reply to it,
    when I press the END key, nothing happens except self-inserting an END
    into the buffer.  Nothing I have found will get the message out, and I
    have to [ABORT], lose my lengthy reply, and think about sending it
    again.  This happens completely randomly as far as I can tell, and is
    terribly frustrating.

This happens when you type the End key at some place other than at the end of
the input buffer.  This is sometimes hard to detect, since there may be only
whitespace characters after the cursor.  If this happens, rubout the <End>
character, then type m-> End.

This is fixed in Release 5.  You can type End anyplace in the input buffer.
23-Sep-83 16:31:08-EDT,3072;000000000000
Return-path: <sr.rob@MIT-SPEECH>
Date: Friday, 23 September 1983, 15:52-EDT
From: sr.rob at speech
Subject: Error in conditions
To: BUG-LISPM at OZ

In Release 4.4, site configuration 62, on Lisp Machine Grizzly:

You should not worry about the fact that this error 
was signled.  That is because of my code.  Worry
about why the error could not be signaled!

>>Error: The argument CONDITION-NAME to MAKE-CONDITION, TV:BITBLT-DESTINATION-ROW-TOO-SMALL, was of the wrong type.
The function expected the name of a condition.
While in the function MAKE-CONDITION  DBG:GET-CONDITION  ERROR

MAKE-CONDITION:  (P.C. = 7)
   Arg 0 (CONDITION-NAME): TV:BITBLT-DESTINATION-ROW-TOO-SMALL
   Rest arg (INIT-OPTIONS): (SOURCE-WIDTH 2000. STARTING-COLUMN 0. DESTINATION-WIDTH 1216.)

DBG:GET-CONDITION:  (P.C. = 10)
   Arg 0 (FLAVOR): TV:BITBLT-DESTINATION-ROW-TOO-SMALL
   Arg 1 (INIT-OPTIONS): (SOURCE-WIDTH 2000. STARTING-COLUMN 0. DESTINATION-WIDTH 1216.)

ERROR:  (P.C. = 33)
   Arg 0 (FLAVOR): TV:BITBLT-DESTINATION-ROW-TOO-SMALL
   Rest arg (INIT-OPTIONS): (SOURCE-WIDTH 2000. STARTING-COLUMN 0. DESTINATION-WIDTH 1216.)

SYS:%DRAW-RECTANGLE:  (P.C. = 302)
   Arg 0 (WIDTH): 2000.
   Arg 1 (HEIGHT): 2000.
   Arg 2 (X): 0.
   Arg 3 (Y): 0.
   Arg 4 (ALU): 2.
   Arg 5 (SHEET): #<BIG-GUY-TYPE-WINDOW Big Guy Type Window 3 5500451 deactivated>

(METHOD TV:SHEET REFRESH):  (P.C. = 165)
   Arg 0 (SELF): #<BIG-GUY-TYPE-WINDOW Big Guy Type Window 3 5500451 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (OPERATION): REFRESH
   Arg 3 (TYPE): COMPLETE-REDISPLAY

(METHOD TV:SHEET COMBINED REFRESH):  (P.C. = 14)
   Arg 0 (SELF): #<BIG-GUY-TYPE-WINDOW Big Guy Type Window 3 5500451 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): TV:SHEET
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

TV:MAKE-WINDOW:  (P.C. = 117)
   Arg 0 (FLAVOR-NAME): BIG-GUY-TYPE-WINDOW
   Rest arg: (HEIGHT 2000. WIDTH 2000. MY-SLIPPY-SCROLL #<SLIPPY-SCROLL-WINDOW Slippy Scroll Window 3 5500350 deactivated>)

(METHOD SLIPPY-SCROLL-WINDOW AFTER INIT):  (P.C. = 12)
   Arg 0 (SELF): #<SLIPPY-SCROLL-WINDOW Slippy Scroll Window 3 5500350 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SLIPPY-SCROLL-WINDOW -- 20. IV's, 10. FL's 4005623>
   Arg 2 (OPERATION): INIT
   Arg 3 (IGNORE): #<DTP-LOCATIVE 17400465>

Rest of stack:
(METHOD SLIPPY-SCROLL-WINDOW COMBINED INIT):  (P.C. = 63)
TV:MAKE-WINDOW:  (P.C. = 70)
SI:*EVAL:  (P.C. = 405)
SETQ:  (P.C. = 16)
SI:*EVAL:  (P.C. = 443)
ZWEI:EVAL-PRINT:  (P.C. = 3)
COMPILER:PROCESS-FORMS-FROM-STREAM:  (P.C. = 114)
ZWEI:COMPILE-INTERVAL:  (P.C. = 241)
ZWEI:COMPILE-PRINT-INTERVAL:  (P.C. = 101)
ZWEI:COMPILE-DEFINITION-INTERNAL:  (P.C. = 104)
ZWEI:COM-EVALUATE-REGION:  (P.C. = 7)
ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 30)
ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
(METHOD ZWEI:EDITOR EDIT):  (P.C. = 173)
(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 42)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
23-Sep-83 17:47:47-EDT,2391;000000000000
Return-path: <PGS@MIT-OZ>
Date: Friday, 23 September 1983, 17:21-EDT
From: Patrick Sobalvarro <PGS@MIT-OZ>
To: BUG-LISPM@MIT-OZ

In System 97.6, CADR 1.0, ZMail 51.2, MIT-Specific 21.0, microcode 257,
ZM MIT, on Lisp Machine Thirty-one:

This is new.  This is in the interpreter, executing
(do () (()) (return))

>>ERROR: RETURN or RETURN-LIST not within a BLOCK named NIL, DO or PROG
Backtrace from the debugger:

GLOBAL:RETURN-LIST (P.C. = 33)

 Arg 0 (VALS): NIL


GLOBAL:RETURN (P.C. = 40)

 Rest arg (VALS): NIL


SI:*EVAL (P.C. = 1247)

 Arg 0 (FORM): (RETURN)
Local 0 (ARGNUM): 0.
Local 1 (FCTN): #<DTP-FEF-POINTER GLOBAL:RETURN 1606062>
Local 2 (ARG-DESC): 2097152.
Local 3 (NUM-ARGS): 0.
Local 4 (CLOSURE-PASSED): NIL
Local 5 (LAMBDA-LIST): NIL
Local 6 (LL): NIL
Local 7 (QUOTE-STATUS): NIL
Local 8 (REST-FLAG): NIL
Local 9 (ARGL): NIL
Local 10: NIL
Local 11: NIL
Local 12 (IGNORE): NIL
Local 13 (ADL): NIL
Local 14 (ITEM): NIL
Local 15 (*SELECTQ-ITEM*): NIL


Additional information supplied with call:
 Expecting 2 values

SI#:PROG-BODY (P.C. = 66)

 Arg 0 (BODY): ((RETURN))
 Arg 1 (CATCH-TAG): ((**))
 Arg 2 (THROW-OP-LOCATION): #<DTP-LOCATIVE 3060471>
 Arg 3 (THROW-ARG-LOCATION): #<DTP-LOCATIVE 3060472>
Local 0 (PROG-PC): NIL
Local 1 (EXP): (RETURN)


SI#:DO-INTERNAL (P.C. = 342)

 Arg 0 (DO-NAME): NIL
 Arg 1 (X): (NIL (NIL) (RETURN))
Local 0 (VARLIST): NIL
Local 1 (VARS-LEFT): NIL
Local 2 (ENDTEST): NIL
Local 3 (RETVALS): NIL
Local 4 (OLDP): NIL
Local 5 (ONCEP): NIL
Local 6 (DESCPTR): (NIL (**) NIL NIL ...)
Local 7 (CHAIN): NIL
Local 8 (NAME): NIL
Local 9 (BODY): ((RETURN))
Local 10 (OP): NIL
Local 11 (VALUE): NIL
Local 12 (CATCH-TAG): ((**))
Local 13 (VL): NIL
Local 14 (VALUES): NIL
Local 15 (DROP-OFF-FLAG): NIL
Local 16 (VALS): NIL


Remainder of stack:

GLOBAL:DO (P.C. = 23)
SI:*EVAL (P.C. = 1247)
SI:EVAL-ABORT-TRIVIAL-ERRORS (P.C. = 44)
GLOBAL:BREAK (P.C. = 443)
TV:KBD-INTERCEPT-BREAK (P.C. = 35)
EH#:IO-BUFFER-OUTPUT-FUNCTION (P.C. = 61)
TV:IO-BUFFER-GET (P.C. = 140)
TV:KBD-IO-BUFFER-GET (P.C. = 103)
(METHOD TV:STREAM-MIXIN ANY-TYI) (P.C. = 101)
(METHOD TV:STREAM-MIXIN TYI) (P.C. = 31)
EH#:COMMAND-LOOP-READ (P.C. = 110)
EH#:COMMAND-LOOP (P.C. = 542)
(METHOD GLOBAL:CONDITION DEBUGGER-COMMAND-LOOP) (P.C. = 27)
EH#:SECOND-LEVEL-ERROR-HANDLER (P.C. = 1415)
24-Sep-83 19:29:40-EDT,2852;000000000000
Date: Saturday, 24 September 1983, 19:29-EDT
From: Gavan Duffy <GAVAN at MIT-OZ>
Subject: font selection bug
To: BUG-LISPM at MIT-OZ

In Release 4.5, site configuration 62, on Lisp Machine Robot-4:

setting some fonts in zmacs causes a throw to the cold load stream.
Here's an example.  Are these bugs set to be fixed soon?

>>Trap: There was an attempt to divide by zero in SYS://-INTERNAL.
While in the function (:METHOD TV:SHEET :CHARACTER-WIDTH)  (:METHOD TV:SHEET :COMPUTE-MOTION)  ZWEI:PUT-POINT-AT-PLINE

(:METHOD TV:SHEET :CHARACTER-WIDTH):  (P.C. = 47)
   Arg 0 (SELF): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Arg 1 (SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (OPERATION): :CHARACTER-WIDTH
   Arg 3 (CH): 211
   Arg 4 (FONT): #<FONT SEARCH 52367641>
   Local 5 (TEM): 0

(:METHOD TV:SHEET :COMPUTE-MOTION):  (P.C. = 226)
   Arg 0 (SELF): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Arg 1 (SELF-MAPPING-TABLE): TV:SHEET
   Arg 2 (OPERATION): :COMPUTE-MOTION
   Arg 3 (STRING): "			       (T (LOOP FOR THING IN (CDR ITEM)"
   Arg 4 (START): 0
   Arg 5 (END): 0
   Arg 6 (X): 0
   Arg 7 (Y): 0
   Arg 8 (CR-AT-END-P): NIL
   Arg 9 (STOP-X): 0
   Arg 10 (STOP-Y): 17777777
   Arg 11 (BOTTOM-LIMIT): 17777777
   Arg 12 (RIGHT-LIMIT): NIL
   Arg 13 (ACCOUNT-FOR-CONTINUATION-AFTER): T

ZWEI:PUT-POINT-AT-PLINE:  (P.C. = 51)
   Arg 0 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Arg 1 (POINT-LINE): "			       (T (LOOP FOR THING IN (CDR ITEM)"
   Arg 2 (POINT-INDEX): 0
   Arg 3 (POINT-PLINE): 56
   Arg 4 (FIRST-BP): ("			       (T (LOOP FOR THING IN (CDR ITEM)" 0 :NORMAL)
   Arg 5 (LAST-BP): NIL

ZWEI:PLINE-OF-POINT:  (P.C. = 162)
   Arg 0 (IN-BOUNDS-P): T
   Arg 1 (WINDOW): #<WINDOW 52456655>
   Arg 2 (POINT): ("			       (T (LOOP FOR THING IN (CDR ITEM)" 0 :NORMAL)

ZWEI:REDISPLAY:  (P.C. = 237)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): :POINT
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 36)
   --Defaulted args:--
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): T

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 122)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

Rest of stack:
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
25-Sep-83 16:30:10-EDT,217;000000000000
Date: 25 Sep 1983 1631-EDT
From: Robert Kassel <SR.ROB at MIT-SPEECH>
Subject: FLAME FLAME
To: bug-lispm at MIT-OZ


The Symbolics examples directory and 4.5 patch qbins don't
exist as they should!

-------
26-Sep-83 12:42:38-EDT,1140;000000000000
Received: from SCRC-EUPHRATES by SCRC-SPANIEL with CHAOS; Mon 26-Sep-83 12:02:57-EDT
Date: Monday, 26 September 1983, 12:00-EDT
From: Scott W. McKay <SWM at VIXEN>
Subject: VMS creation dates, etc
To: Zvona at OZ, BUG-LISPM at OZ
In-reply-to: The message of 5 Sep 83 12:25-EDT from David Chapman <Zvona at OZ>

    Date: Monday, 5 September 1983, 12:25-EDT
    From: David Chapman <Zvona@MIT-OZ>
    In Release 4.4, site configuration 75, on Lisp Machine John Lennon:

    C in dired from OZ to PIG (20X to VMS) does not preserve creation date.
    Shouldn't it?
Sorry about the delay.  Yes, it should.  The Dired C command eventually
sends a :CHANGE-PROPERTIES message (via COPYF) to the output stream to
preserve both the author and the creation date.  The old VMS file server
did not do either of these things.  The new one does.  However, there
appears to be a bug in setting creation dates - the disk ACP says "no
privs", even though the VMS environment seems fine.  NB: to get a "fine"
environment, you will probably need SYSPRV and BYPASS privs on VMS -
(fs:enable-capabilities "PIG" ':all) should do the trick.
26-Sep-83 14:33:55-EDT,1334;000000000000
Received: from SCRC-AMAZON by SCRC-TENEX with CHAOS; Mon 26-Sep-83 14:21:47-EDT
Date: Monday, 26 September 1983, 14:18-EDT
From: joseph@SCRC-VIXEN
Subject: FLAME FLAME
To: Robert Kassel <SR.ROB@MIT-SPEECH>
Cc: bug-lispm@MIT-OZ, CSTACY@MIT-MC, CSTACY@MIT-OZ
In-reply-to: The message of 25 Sep 83 16:31-EDT from Robert Kassel <SR.ROB at SPEECH>

    Date: 25 Sep 1983 1631-EDT
    From: Robert Kassel <SR.ROB at MIT-SPEECH>
    The Symbolics examples directory and 4.5 patch qbins don't
    exist as they should!

    -------
The examples directory and the press fonts directory are missing because there
wasn't enough space for them on OZ when I loaded the 3600 4.5 tape.  CSTACY once
told me he'd try to free up the space.  I have asked about this several times
since but nothing has come back to me.  Chris, can we open some space up and
get those files where they should be?

As for the 4.5 qbins, I didn't even try to load the LM-2 4.5 tape after seeing
the 3600 tape eat up all free space on OZ.  Same precondition as above.

I'd like to be able to take this off my whiteboard.  If someone will clear up
the space on OZ I will put the rest of 4.5 there.  Please call me (at 864-4660)
if we need to coordinate these processes (i.e. so the freed space doesn't
instantly get sucked up again).

-- joseph
26-Sep-83 15:32:59-EDT,839;000000000000
Date: 26 September 1983 15:13 EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
Subject:  FLAME FLAME
To: joseph @ SCRC-VIXEN
cc: CSTACY @ MIT-MC, bug-lispm @ MIT-OZ, CSTACY @ MIT-OZ,
    SR.ROB @ MIT-SPEECH
In-reply-to: Msg of 26 Sep 1983 14:18-EDT from joseph at SCRC-VIXEN


I sent you a note the other day indicating that I though there was now
enough space on OZ for thos directories, but it was returned this morning
because the address I replied to you at (some 3600, I think) said
you did not exist.

BTW, with the state of affairs such as it is, that persons on OZ who
believe they are in charge of disk alocation randomly delete my own
directories, I can't really make any promises about space for this
stuff.  So, if the space gets filled up orsomething else happens, I
really dont want to hear shit about it.
26-Sep-83 20:02:56-EDT,3525;000000000000
Date: Monday, 26 September 1983, 20:02-EDT
From: Richard Mlynarik <Mly at MIT-ML>
To: BUG-LISPM-mit at MIT-OZ, philip at oz

In System 97.6, microcode 257
(load "<philip.general>dover") =>

>>ERROR: Flavor TV:CHOOSE-VARIABLE-VALUES-PANE does not handle the init keyword FUNCTION
Backtrace from the debugger:

GLOBAL:INSTANTIATE-FLAVOR (P.C. = 370)

 Arg 0 (FLAVOR-NAME): TV:CHOOSE-VARIABLE-VALUES-PANE
 Arg 1 (INIT-PLIST): #<DTP-LOCATIVE 207275>
 Arg 2 (SEND-INIT-MESSAGE-P): T
   --Defaulted args:--
 Arg 3 (RETURN-UNHANDLED-KEYWORDS-P): NIL
 Arg 4 (AREA-TO-CONS-INSTANCE-IN): 51.
Local 0 (FL): #<FLAVOR TV:CHOOSE-VARIABLE-VALUES-PANE 10240126>
Local 1 (UNHANDLED-KEYWORDS): (FUNCTION)
Local 2 (INSTANCE): #<CHOOSE-VARIABLE-VALUES-PANE NIL 1027231 deactivated>
Local 3 (VARS): (TV:SCREEN-ARRAY TV#:LOCATIONS-PER-LINE TV#:OLD-SCREEN-ARRAY TV:BIT-ARRAY ...)
Local 4 (NEW-PLIST): (SAVE-BITS NIL CHARACTER-WIDTH 50. ...)
Local 5 (V): NIL
Local 6 (I): 68.
Local 7 (VAR-KEYWORDS): (NIL NIL NIL BIT-ARRAY ...)
Local 8 (REMAINING-KEYWORDS): (ACTIVATE-P AREA ASYNCHRONOUS-CHARACTERS BACKSPACE-NOT-OVERPRINTING-FLAG ...)
Local 9 (PL): NIL
Local 10 (INDEX): 64.
Local 11: NIL
Local 12 (D): (64. (QUOTE **))


TV:MAKE-WINDOW (P.C. = 26)

 Arg 0 (FLAVOR-NAME): TV:CHOOSE-VARIABLE-VALUES-PANE
 Rest arg (OPTIONS): (SUPERIOR #<BORDERED-CONSTRAINT-FRAME-WITH-SHARED-IO-BUFFER Bordered Constraint Frame With Shared Io Buffer 2 1027142 deactivated> IO-BUFFER #<IO-BUFFER 33655702: empty, State: NIL> ...)
Local 1 (PLIST): #<DTP-LOCATIVE 207256>


(METHOD TV:CONSTRAINT-FRAME-WITH-SHARED-IO-BUFFER CREATE-PANE) (P.C. = 42)
  (SELF is #<BORDERED-CONSTRAINT-FRAME-WITH-SHARED-IO-BUFFER Bordered Constraint Frame With Shared Io Buffer 2 1027142 deactivated>)

 Arg 0 (OPERATION): CREATE-PANE
 Arg 1 (IGNORE): CHOOSE-VARIABLE-VALUES-REGION
 Arg 2 (FLAVOR): TV:CHOOSE-VARIABLE-VALUES-PANE
 Rest arg (OPTIONS): (STACK-GROUP #<DTP-STACK-GROUP SI#:MAIN-STACK-GROUP 1200053> LABEL NIL ...)


TV#:CONSTRAINT-FRAME-WINDOWS (P.C. = 45)

 Arg 0 (DESCS): ((CHOOSE-VARIABLE-VALUES-REGION TV:CHOOSE-VARIABLE-VALUES-PANE STACK-GROUP #<DTP-STACK-GROUP SI#:MAIN-STACK-GROUP 1200053> ...) (COMMAND-REGION TV:COMMAND-MENU-PANE GEOMETRY ** ...))
Local 0 (PARSED): NIL
Local 1: ((CHOOSE-VARIABLE-VALUES-REGION TV:CHOOSE-VARIABLE-VALUES-PANE STACK-GROUP #<DTP-STACK-GROUP SI#:MAIN-STACK-GROUP 1200053> ...) (COMMAND-REGION TV:COMMAND-MENU-PANE GEOMETRY ** ...))
Local 2 (DESC): (CHOOSE-VARIABLE-VALUES-REGION TV:CHOOSE-VARIABLE-VALUES-PANE STACK-GROUP #<DTP-STACK-GROUP SI#:MAIN-STACK-GROUP 1200053> ...)


TV#:CONSTRAINT-FRAME-PROCESS-CONSTRAINTS (P.C. = 62)

 Rest arg (IGNORE): NIL
Local 1: NIL
Local 2 (CONSTR): NIL


Remainder of stack:

(METHOD TV#:BASIC-CONSTRAINT-FRAME AFTER INIT) (P.C. = 43)
(INTERNAL (METHOD TV:CONSTRAINT-FRAME-WITH-SHARED-IO-BUFFER COMBINED INIT) 0.) (P.C. = 127)
(METHOD TV:SHEET INVERSE-AROUND INIT) (P.C. = 146)
(METHOD TV:CONSTRAINT-FRAME-WITH-SHARED-IO-BUFFER COMBINED INIT) (P.C. = 47)
GLOBAL:INSTANTIATE-FLAVOR (P.C. = 375)
TV:MAKE-WINDOW (P.C. = 26)
SI:*EVAL (P.C. = 1247)
SI:*EVAL (P.C. = 1174)
SYSTEM:FASL-OP-EVAL1 (P.C. = 115)
SI#:FASL-GROUP (P.C. = 130)
SI#:FASL-WHACK-SAVE-FASL-TABLE (P.C. = 67)
SI#:FASL-WHACK (P.C. = 23)
SI#:FASL-TOP-LEVEL (P.C. = 32)
SI#:FASLOAD-INTERNAL (P.C. = 471)
GLOBAL:LOAD (P.C. = 303)
SI:*EVAL (P.C. = 1247)
SI:EVAL-ABORT-TRIVIAL-ERRORS (P.C. = 44)
SI:LISP-TOP-LEVEL1 (P.C. = 256)
SI:LISP-TOP-LEVEL (P.C. = 35)
27-Sep-83 13:50:07-EDT,513;000000000000
Date: Tuesday, 27 September 1983, 13:33-EDT
From: Gregory G. Faust <FAUST at OZ>
Subject: make-list* function?
To: BUG-LISPM at OZ

In Release 4.4, Knowledge-Based-Editor 214.0,
Experimental eXperimental PLANs 13.0, site configuration 62, AAAI-83, on PA Lisp Machine Merlin:

     It might be nice to have a make-list* function.
This would be consistent with all the other functions
which create lists and is useful in spots; like for
creating a queue that might get expanded if it overflows.

Greg
27-Sep-83 16:31:26-EDT,585;000000000000
Date: Tuesday, 27 September 1983, 16:30-EDT
From: SR.ROB at SPEECH
Subject: Serial Flame
To: BUG-LISPM at OZ

In Release 4.5, site configuration 62, on Lisp Machine Grizzly:

serial streams send DC1 on opening which is 
not always the right thing to do.  What would
be nice is a set of messages and init
options:

	:open-sequence string ;sent after opening stream
	:before-sequence string ;sent before sends
	:after-sequence string ;sent after sends
	:close-sequence string ;sent before close

Perhaps something similar would be useful for input
too.


				ROB

27-Sep-83 21:20:07-EDT,1758;000000000000
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Tue 27-Sep-83 20:54:54-EDT
Date: Tuesday, 27 September 1983, 21:15-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Serial Flame
To: SR.ROB@MIT-SPEECH, BUG-LISPM@MIT-OZ
In-reply-to: The message of 27 Sep 83 16:30-EDT from SR.ROB at SPEECH

    Date: Tuesday, 27 September 1983, 16:30-EDT
    From: SR.ROB at SPEECH
    In Release 4.5, site configuration 62, on Lisp Machine Grizzly:

    serial streams send DC1 on opening which is 
    not always the right thing to do.  

It only does this when you enable :GENERATE-XON-XOFF (at least it's only
supposed to).  I don't consider it a bug since DC1 when you enable
:GENERATE-XON-XOFF is a completely valid thing to do; it allows the
other side to start sending in case it was xoffed.  If the other side
wasn't xoffed, I can imagine a lot of people losing time wondering why
the other side received data but refused to send.  (This happened to me
too many times.)

    What would be nice is a set of messages and init options:

	    :open-sequence string ;sent after opening stream
	    :close-sequence string ;sent before close
Why?  No other system that I know of does this with serial streams.  If
you really wanted this, you could define your own flavor based on the
appropriate serial stream flavor and define whoppers or something.

	    :before-sequence string ;sent before sends
	    :after-sequence string ;sent after sends
    Perhaps something similar would be useful for input
    too.
These (:before, :after and input) only work for frames.  If you want
frames you should define your own framing sequence since we can't
implement the n**m possible framing possibilities various people might
dream up.
28-Sep-83 18:47:01-EDT,2401;000000000000
Date: Wednesday, 28 September 1983, 18:47-EDT
From: Richard Mlynarik <daniel.g.mly at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 97.6, CADR 1.0, ZMail 51.6, MIT-Specific 21.0, microcode 257,
ZM MIT, on Lisp Machine Six:


cold-booted
(lo m m [this was done as typeahead whilst my init was loading]
=> lossage

>>ERROR: Unknown configuration SEND
Backtrace from the debugger:

(METHOD TV#:BASIC-CONSTRAINT-FRAME SET-CONFIGURATION) (P.C. = 51)
  (SELF is #<ZMAIL-FRAME Main ZMail window 1000311 deexposed>)

 Arg 0 (OPERATION): SET-CONFIGURATION
 Arg 1 (NEW-CONFIG-NAME): GLOBAL:SEND
Local 0 (CONFIG): NIL


(METHOD ZWEI#:ZMAIL-FRAME SET-WINDOW-CONFIGURATION) (P.C. = 213)
  (SELF is #<ZMAIL-FRAME Main ZMail window 1000311 deexposed>)

 Arg 0 (OPERATION): SET-WINDOW-CONFIGURATION
 Arg 1 (NEW-CONFIGURATION): GLOBAL:SEND
 Arg 2 (STARTING-WINDOW): NIL
Local 0 (EXPOSE-P): T
Local 1 (SELECT-P): T
Local 2 (.QUEUE-LEFT.): T
Local 3: NIL
Local 4 (E): NIL


ZWEI#:SET-MAIL-WINDOW-CONFIGURATION (P.C. = 305)

 Arg 0 (CONFIGURATION): GLOBAL:SEND
 Arg 1 (STARTING-WINDOW): #<ZMAIL-WINDOW Zmail Window 2 1010427 deactivated>
 Arg 2 (SWITCHING-P): NIL
Local 0 (OLD-*WINDOW*): #<ZMAIL-WINDOW Zmail Window 1 1003651 exposed>
Local 1 (DRAFT-WINDOWS-EXPOSED-P): NIL
Local 2 (MSG-POINT): NIL
Local 3 (WINDOW-TO-MOVE): NIL


GLOBAL:FUNCALL (P.C. = 25)

 Arg 0 (FN): ZWEI#:SET-MAIL-WINDOW-CONFIGURATION
 Rest arg (ARGS): (MAIL HEADER NIL)


(METHOD ZWEI#:ZMAIL-WINDOW FUNCALL-INSIDE-YOURSELF) (P.C. = 26)
  (SELF is #<ZMAIL-WINDOW Zmail Window 1 1003651 exposed>)

 Arg 0 (OPERATION): FUNCALL-INSIDE-YOURSELF
 Arg 1 (FUNCTION): ZWEI#:SET-MAIL-WINDOW-CONFIGURATION
 Rest arg (ARGS): (MAIL HEADER NIL)


Remainder of stack:

ZWEI#:ZMAIL-MAIL (P.C. = 256)
ZWEI#:COM-ZMAIL-MAIL-INTERNAL (P.C. = 417)
ZWEI#:COM-ZMAIL-MAIL (P.C. = 62)
ZWEI#:COMMAND-EXECUTE (P.C. = 120)
ZWEI#:ZMAIL-COMMAND-EXECUTE (P.C. = 27)
(METHOD ZWEI#:ZMAIL-FRAME PROCESS-COMMAND-CHAR) (P.C. = 40)
(METHOD ZWEI#:ZMAIL-COMMAND-LOOP-MIXIN COMMAND-LOOP) (P.C. = 263)
(INTERNAL (METHOD ZWEI#:ZMAIL-FRAME COMBINED COMMAND-LOOP) 0) (P.C. = 50)
GLOBAL:FUNCALL (P.C. = 25)
(METHOD ZWEI#:ZMAIL-COMMAND-LOOP-MIXIN AROUND COMMAND-LOOP) (P.C. = 57)
(METHOD ZWEI#:ZMAIL-FRAME COMBINED COMMAND-LOOP) (P.C. = 47)
ZWEI#:ZMAIL-PROCESS-TOP-LEVEL (P.C. = 115)
SI#:PROCESS-TOP-LEVEL (P.C. = 115)
28-Sep-83 19:42:28-EDT,664;000000000000
Date: Wednesday, 28 September 1983, 19:42-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Info given prior to confirmation of m-X Delete File
To: BUG-LISPM at MC

In Release 4.5, site configuration 75, on Lisp Machine Apiary-4:

When I do m-X Delete File, and specify FOO.LISP.*, I am shown a dir listing
which has no date or file author information and then asked for confirmation.
I really can't answer that question wisely without knowing who wrote each
file and when. 

Also, in the case where the version was not wildcarded, it would be handy
to have information provided saying if the specified version was the :NEWEST
version (a la Dired).
28-Sep-83 19:45:06-EDT,772;000000000000
Date: Wednesday, 28 September 1983, 19:44-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Showing deleted files in Dired -- d vs D
To: BUG-LISPM at MC

In Release 4.5, site configuration 75, on Lisp Machine Apiary-4:

On a file system where files can be in a deleted state, a Dired window may
come up with D's in some of the positions. Unfortunately, once I start
D'ing things, I find it hard to tell the difference between my in-buffer D's
(which are not in danger of being expunged as I dilly-dally around in the
Dired buffer) and the on-disk D's which a system expunge may flush at any
moment. Would it be possible to mark the to-be-deleted files with little
d's instead of big D's so that the two sets of things could be visually
distinguished?
-kmp
28-Sep-83 19:50:28-EDT,1220;000000000000
Date: Wednesday, 28 September 1983, 19:50-EDT
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Undelete in Dired
To: BUG-LISPM at OZ

In Release 4.5, site configuration 75, on Lisp Machine Apiary-4:

Gads, the case of Undelete is far worse. If I have specified that a file
should be undeleted, you should do it immediately and not waste any time
about it. If not, you should maybe mark a little "u" before the D indicating
you plan to undelete it, but again I can make my buffer visually appear
as if all the files are undeleted and safe when in fact they are not.
Of the two, though, my feeling is that you should immediately undelete
it lest the system expunger take it away while I'm deciding.

Admittedly, Twenex is wierd in its system expunger nonsense, but on the
other hand, in any situation where people work together and someone needs
disk space, he's going to think that files marked D are expungeable (I've
seen this happen with two people accessing the same dir on any file system)
so the longer they stay D'd on disk, the less safe they are.

Naturally, to U a file which is only marked for deletion (not really deleted)
would just update the buffer without doing any disk transactions.
29-Sep-83 11:11:07-EDT,1049;000000000000
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Thu 29-Sep-83 10:34:51-EDT
Date: Thursday, 29 September 1983, 10:56-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: Info given prior to confirmation of m-X Delete File
To: kmp@MIT-MC, BUG-LISPM@MIT-MC
In-reply-to: The message of 28 Sep 83 19:42-EDT from Kent M. Pitman <kmp at MC>

    Date: Wednesday, 28 September 1983, 19:42-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In Release 4.5, site configuration 75, on Lisp Machine Apiary-4:

    When I do m-X Delete File, and specify FOO.LISP.*, I am shown a dir listing
    which has no date or file author information and then asked for confirmation.
    I really can't answer that question wisely without knowing who wrote each
    file and when. 
It currently does a directory list with :FAST, which gives nothing except
file pathnames.  Would you be willing to pay for a full directory list
for this purpose?  I think we need the new directory list system, where
you specify exactly what properties you want.  
29-Sep-83 12:05:13-EDT,1049;000000000000
Received: from SCRC-BEAGLE by SCRC-TENEX with CHAOS; Thu 29-Sep-83 10:34:51-EDT
Date: Thursday, 29 September 1983, 10:56-EDT
From: Bernard S. Greenberg <BSG@SCRC-TENEX>
Subject: Info given prior to confirmation of m-X Delete File
To: kmp@MIT-MC, BUG-LISPM@MIT-MC
In-reply-to: The message of 28 Sep 83 19:42-EDT from Kent M. Pitman <kmp at MC>

    Date: Wednesday, 28 September 1983, 19:42-EDT
    From: Kent M. Pitman <kmp at MIT-MC>
    In Release 4.5, site configuration 75, on Lisp Machine Apiary-4:

    When I do m-X Delete File, and specify FOO.LISP.*, I am shown a dir listing
    which has no date or file author information and then asked for confirmation.
    I really can't answer that question wisely without knowing who wrote each
    file and when. 
It currently does a directory list with :FAST, which gives nothing except
file pathnames.  Would you be willing to pay for a full directory list
for this purpose?  I think we need the new directory list system, where
you specify exactly what properties you want.  
29-Sep-83 15:23:41-EDT,323;000000000000
Date: Thursday, 29 September 1983, 15:19-EDT
From: sr.rob at MIT-SPEECH
Sender: rob at MIT-OZ
Subject: Examples directory
To: BUG-LISPM at MIT-OZ

In Release 4.5, site configuration 63, on Lisp Machine Grizzly:

logical directory sys:examples; does not exist.
Also, the samples don't exist in BIN form.

			ROB
30-Sep-83 03:45:53-EDT,772;000000000000
Mail-From: RMS created at 30-Sep-83 03:44:59
Date: Fri 30 Sep 83 03:44:59-EDT
From: RMS@MIT-OZ
To: daniel.g.mly@MIT-OZ, info-lispm-mit@MIT-OZ
In-Reply-To: Message from "Richard Mlynarik <daniel.g.mly at MIT-OZ>" of Wed 28 Sep 83 18:46:55-EDT

It seems that ZMail formerly did not put colons in front of symbols
such as SEND, FIRST and LAST in the ZMail init file
when they appeared as values of ZMail user options.
This did not matter in the past since SEND and :SEND were the same symbol.
But in system 97 they are different symbols.  :SEND, :FIRST, :LAST are
the symbols that are supposed to be there.  So ZMail init files should
be edited by hand to put colons in front of such symbols.

The init files thus edited will still work in system 94.
-------
30-Sep-83 13:46:15-EDT,895;000000000000
Date: Friday, 30 September 1983, 13:46-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Release 4.5, site configuration 65, on Lisp Machine Janis Joplin:

(defmacro with-wff-assumed-true ((wff theory) &body body)
  (once-only (wff theory)
    `(let ((initial-value (try-to-show ,wff ,theory)))
       (unwind-protect (progn (true! ,wff ,theory) ,@body)
		       (untrue! ,wff ,theory)
		       (set-truthity! ,wff ,theory initial-value)))))

(with-wff-assumed-true (assertion)
  (false? (afunctional-operator? operator t))) ==>

(LET ((INITIAL-VALUE (TRY-TO-SHOW ASSERTION NIL)))
  (UNWIND-PROTECT (PROGN (TRUE! ASSERTION NIL) (FALSE? (AFUNCTIONAL-OPERATOR? OPERATOR T)))
                  (UNTRUE! ASSERTION NIL)
                  (SET-TRUTHITY! ASSERTION NIL INITIAL-VALUE)))

Would it be impossible for macroexpand to give an error message on this?
30-Sep-83 14:15:58-EDT,862;000000000000
Date: Friday, 30 September 1983  14:13-EDT
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-OZ>
Cc:   BUG-LISPM at MIT-OZ
Subject: defmacro only generates number-of-args checking code for top level
In-reply-to: The message of 30 Sep 1983 13:46-EDT from David Chapman <Zvona at MIT-OZ>

defmacro only generates number-of-args checking code for top level, thus
    (defmacro with-wff-assumed-true ((wff theory) &body body)...)
    (with-wff-assumed-true (wff1) body1 body2...)
fails to say that theory is missing.  Fixing this would require making
    (defmacro with-wff-assumed-true ((wff &optional theory) &body body)...)
work; it doesn't currently.  And then a number of programs would have
to change to have explicit &optional s.

I think this is fixed by Common Lisp, where the contract of defmacro has
been defined more precisely.
30-Sep-83 20:40:07-EDT,3314;000000000000
Date: Friday, 30 September 1983, 20:39-EDT
From: Ken Forbus <KDF at MIT-PYGMALION>
Subject: file system
To: BUG-LISPM at OZ

In Release 4.5, site configuration 75, on Lisp Machine John Lennon:

I typed (load-patches), and this is what happened:

>>Error: Attempt to read from #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>, which is in a marked state
While in the function (DEFUN-METHOD FS:FILE-NEXT-READ-PKT)  (METHOD FS:FILE-INPUT-STREAM-MIXIN GET-NEXT-INPUT-PKT)  (METHOD CHAOS:CHARACTER-INPUT-STREAM-MIXIN NEXT-INPUT-BUFFER)

(DEFUN-METHOD FS:FILE-NEXT-READ-PKT):  (P.C. = 171)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN -- 5. IV's, 1. FL's 60527442>
   Arg 2 (NO-HANG-P): NIL
   Arg 3 (FOR-SYNC-MARK-P): NIL
   Local 4 (.SELECTQ-ITEM.): SYNC-MARKED
   Local 5 (PKT): "Attempt to read from ~S, which is in a marked state"
   Local 6 (*SELECTQ-ITEM*): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>

(METHOD FS:FILE-INPUT-STREAM-MIXIN GET-NEXT-INPUT-PKT):  (P.C. = 17)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN -- 5. IV's, 1. FL's 60527442>
   Arg 2 (OPERATION): GET-NEXT-INPUT-PKT
   Arg 3 (NO-HANG-P): NIL

(METHOD CHAOS:CHARACTER-INPUT-STREAM-MIXIN NEXT-INPUT-BUFFER):  (P.C. = 6)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor CHAOS:CHARACTER-INPUT-STREAM-MIXIN -- 1. IV's, 0. FL's 60527502>
   Arg 2 (OPERATION): NEXT-INPUT-BUFFER
   Arg 3 (NO-HANG-P): NIL

(METHOD SI:BASIC-BUFFERED-INPUT-STREAM SETUP-NEXT-INPUT-BUFFER):  (P.C. = 11)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>
   Arg 1: #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM -- 3. IV's, 0. FL's 60527277>
   Arg 2: SETUP-NEXT-INPUT-BUFFER
   --Defaulted args:--
   Arg 3 (NO-HANG-P): NIL

(METHOD FS:FILE-INPUT-CHARACTER-STREAM COMBINED SETUP-NEXT-INPUT-BUFFER):  (P.C. = 13)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-CHARACTER-STREAM -- 0. IV's, 5. FL's 60527452>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(METHOD SI:BASIC-BUFFERED-INPUT-STREAM TYI):  (P.C. = 14)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>
   Arg 1: #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM -- 3. IV's, 0. FL's 60527277>
   Arg 2: TYI
   --Defaulted args:--
   Arg 3 (EOF): NIL

SI:XR-XRTYI-WHITE-OUT:  (P.C. = 6)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>

SI:XR-READ-THING:  (P.C. = 21)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "OZ:SRC:<S.PATCH>SYSTEM-222.PATCH-DIR" 10420555>

Rest of stack:
READ:  (P.C. = 47)
SI:READ-PATCH-DIRECTORY:  (P.C. = 76)
LOAD-PATCHES:  (P.C. = 742)
SI:*EVAL:  (P.C. = 405)
SI:LISP-TOP-LEVEL1:  (P.C. = 130)
SI:LISP-TOP-LEVEL2:  (P.C. = 5)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
30-Sep-83 21:11:02-EDT,2354;000000000000
Date: Friday, 30 September 1983, 20:54-EDT
From: Ken Forbus <KDF at MIT-PYGMALION>
Subject: Arpanet Opacity
To: BUG-LISPM at OZ

In Release 4.5, site configuration 65, on Lisp Machine John Lennon:

After doing (fs:add-chaosnet-file-computer 'BBNG), which created an instance of DEFAULT-HOST
(ZVONA looked up BBNG's description in the site file on OZ and says it is correct; the object
itself correctly knew it was a Tops-20, had an arpanet socket number, etc), I then tried
doing the copy-file extended command.  The following resulted:

>>Error: The object #<DEFAULT-HOST BBNG> received a SAMPLE-PATHNAME message, which went unclaimed.
The rest of the message was ()
While in the function FS:PARSE-PATHNAME  ZWEI:READ-RAW-PATHNAME  ZWEI:COM-COPY-FILE

FS:PARSE-PATHNAME:  (P.C. = 275)
   Arg 0 (THING): "bbng:ps:<forbus>*.*.*"
   Arg 1 (WITH-RESPECT-TO): NIL
   Arg 2 (DEFAULTS): #<TOPS20-PATHNAME "OZ:SRC:<KDF.SHIP>*.*.*">
   Local 3 (HOST-SPECIFIED): #<DEFAULT-HOST BBNG>
   Local 4 (START): 5
   Local 5 (END): 25
   Local 6 (HOST): #<DEFAULT-HOST BBNG>
   Local 7 (VERSION): #<DEFAULT-HOST BBNG>
   Local 8 (HOST): SAMPLE-PATHNAME

ZWEI:READ-RAW-PATHNAME:  (P.C. = 47)
   Arg 0 (PROMPT): "Copy file OZ:SRC:<KDF.SHIP>*.*.* to:"
   Arg 1 (*READING-PATHNAME-DEFAULTS*-initialization): #<TOPS20-PATHNAME "OZ:SRC:<KDF.SHIP>*.*.*">
   Arg 2 (*READING-PATHNAME-DIRECTION*-initialization): WRITE

ZWEI:COM-COPY-FILE:  (P.C. = 54)

ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 30)

ZWEI:COMMAND-EXECUTE:  (P.C. = 65)
   Arg 0 (COMMAND): ZWEI:COM-EXTENDED-COMMAND
   Arg 1 (CHAR): 1130
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 20)
   Arg 0 (CH): 1130

(METHOD ZWEI:EDITOR EDIT):  (P.C. = 173)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

Rest of stack:
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
30-Sep-83 21:51:08-EDT,3771;000000000000
Date: Friday, 30 September 1983, 21:50-EDT
From: Richard Mlynarik <Mly at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Bad Inconsistently updated System 97.8, CADR 1.0, ZMail 51.6,
MIT-Specific 21.0, microcode 257, ZM MIT, on Lisp Machine One:


loaded oz:ps:<philip.general>dover.lisp m     loaded oz:ps:<philip.general>dover.lisp into editor buffer
m-x com fil [typeahead]
c-v through a few screens
then........

>>TRAP 16306 (NUMBER-ARRAY-NOT-ALLOWED M-A)
The array #<ART-8B-200 7166255>, which was given to SYSTEM:%STRING-WIDTH, is not allowed to be a number array.
Backtrace from the debugger:

Additional information supplied with call:
 Expecting 3 values

TV:SHEET-COMPUTE-MOTION (P.C. = 553)

 Arg 0 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>
 Arg 1 (X): 437
 Arg 2 (Y): 16
 Arg 3 (STRING): "	;;;			*   VARIABLES  *"
 Arg 4 (START): 0
 Arg 5 (END): NIL
 Arg 6 (CR-AT-END-P): NIL
 Arg 7 (STOP-X): 457
 Arg 8 (STOP-Y): 16
   --Defaulted args:--
 Arg 9 (BOTTOM-LIMIT): 1523
 Arg 10 (RIGHT-LIMIT): 1361
 Arg 11 (FONT): #<FONT TR10IB 17152464>
 Arg 12 (LINE-HT): 16
 Arg 13 (TAB-WIDTH): 100
Local 0 (CWA): #<ART-8B-200 7166255>
Local 1 (CW): 6
Local 2 (CH): 126
Local 3 (FONTX): 3
Local 4 (TEM): 3
Local 5 (I): 14
Local 6 (N): 27
Local 7 (NN): NIL
Local 8 (II): NIL
Local 9 (MARGIN-FLAG): T
Local 10 (MAXIMUM-X): 437
Local 11 (WIDTH-INCR): NIL
Local 12 (LIMIT): 457
Local 13 (FONT-MAP): #<ART-Q-32 15631754>


Additional information supplied with call:
 Expecting 6 values

ZWEI#:MOUSE-CHAR (P.C. = 245)

 Arg 0 (WINDOW): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>
   --Defaulted args:--
 Arg 1 (FIXUP-P): NIL
 Arg 2 (X): 457
 Arg 3 (Y): 25
Local 0 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>
Local 1 (LINE): "	;;;			*   VARIABLES  *"
Local 2 (PLINE): 1
Local 3 (CHAR-POS): NIL
Local 4 (LH): 16
Local 5 (REAL-PLINE): 1
Local 6 (START): 0
Local 7 (END): NIL
Local 8 (BP): ("" 0 MOVES)
Local 9 (FONT-MAP): NIL
Local 10 (CH): NIL
Local 11 (FONT): NIL
Local 12 (CHAR-X): NIL
Local 13 (CHAR-WIDTH): NIL


(METHOD ZWEI#:ZWEI MOUSE-MOVES) (P.C. = 144)
  (SELF is #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>)

 Arg 0 (OPERATION): MOUSE-MOVES
 Arg 1 (NEW-X): 462
 Arg 2 (NEW-Y): 27
Local 0 (CHAR): NIL
Local 1 (CHAR-X): NIL
Local 2 (CHAR-Y): NIL
Local 3 (LINE): NIL
Local 4 (INDEX): NIL
Local 5 (WIDTH): NIL
Local 6 (FONT-NUMBER): NIL
Local 7 (FONT): NIL
Local 8 (CH): NIL
Local 9 (LKT): NIL


(METHOD ZWEI#:ZWEI-WINDOW COMBINED MOUSE-MOVES) (P.C. = 67)
  (SELF is #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>)

 Rest arg (.DAEMON-CALLER-ARGS.): (MOUSE-MOVES 462 27)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-5 10376535>
Local 2 (X): 462
Local 3 (Y): 27


TV:MOUSE-DEFAULT-HANDLER (P.C. = 654)

 Arg 0 (WINDOW): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 1001326 exposed>
 Arg 1 (SCROLL-BAR-FLAG): T
Local 0 (WINDOW-X-OFFSET): 1
Local 1 (WINDOW-Y-OFFSET): 1
Local 2 (WINDOW-X): 462
Local 3 (WINDOW-Y): 27
Local 4 (MOVE-METHOD): MOUSE-MOVES
Local 5 (BUTTONS-METHOD): MOUSE-BUTTONS
Local 6 (DX): 0
Local 7 (DY): 0
Local 8 (BU): 0
Local 9 (BD): 0
Local 10 (HAND): NIL
Local 11 (X): 463
Local 12 (Y): 30
Local 13 (OLD-OWNER): NIL
Local 14 (X-OFFSET): 0
Local 15 (WAIT-FLAG): T
Local 16 (MIN-X): NIL
Local 17 (MIN-Y): NIL
Local 18 (MAX-X): NIL
Local 19 (MAX-Y): NIL
Local 20 (XTOP): NIL
Local 21 (XBOTTOM): NIL
Local 22 (XLEFT): NIL
Local 23 (XRIGHT): NIL
Local 24 (XX): NIL
Local 25 (YY): NIL
Local 26 (I): NIL
Local 27: NIL


Remainder of stack:

(METHOD ZWEI#:ZWEI HANDLE-MOUSE) (P.C. = 110)
TV#:MOUSE-OVERSEER (P.C. = 134)
SI#:PROCESS-TOP-LEVEL (P.C. = 115)
30-Sep-83 22:19:43-EDT,1189;000000000000
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Fri 30-Sep-83 22:18:50-EDT
Date: Fri, 30 Sep 83 22:17 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: Arpanet Opacity
To: KDF@MIT-PYGMALION
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 30 Sep 83 20:54-EDT from Ken Forbus <KDF at PYGMALION>
Message-ID: <830930221721.8.MMcM@SCRC.SCRC>

    Date: Friday, 30 September 1983, 20:54-EDT
    From: Ken Forbus <KDF at MIT-PYGMALION>
    In Release 4.5, site configuration 65, on Lisp Machine John Lennon:

    After doing (fs:add-chaosnet-file-computer 'BBNG), which created an instance of DEFAULT-HOST
    (ZVONA looked up BBNG's description in the site file on OZ and says it is correct; the object
    itself correctly knew it was a Tops-20, had an arpanet socket number, etc), I then tried
    doing the copy-file extended command.  The following resulted:

    >>Error: The object #<DEFAULT-HOST BBNG> received a SAMPLE-PATHNAME message, which went unclaimed.
    The rest of the message was ()
    While in the function FS:PARSE-PATHNAME  ZWEI:READ-RAW-PATHNAME  ZWEI:COM-COPY-FILE
Release 4 doesn't include file support for the arpanet.  Release 5 will.
30-Sep-83 22:30:12-EDT,1879;000000000000
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Fri 30-Sep-83 22:28:03-EDT
Date: Friday, 30 September 1983, 22:26-EDT
From: David A. Moon <MOON@SCRC-TENEX>
Subject: Arpanet Opacity
To: Ken Forbus <KDF@MIT-PYGMALION>
Cc: BUG-LISPM@MIT-OZ, Cstacy@MIT-MC
In-reply-to: The message of 30 Sep 83 20:54-EDT from Ken Forbus <KDF at PYGMALION>

    Date: Friday, 30 September 1983, 20:54-EDT
    From: Ken Forbus <KDF at MIT-PYGMALION>
    In Release 4.5, site configuration 65, on Lisp Machine John Lennon:

    After doing (fs:add-chaosnet-file-computer 'BBNG), which created an instance of DEFAULT-HOST
    (ZVONA looked up BBNG's description in the site file on OZ and says it is correct; 
I wonder what "the site file" means?  Arpanet hosts do not appear in any of the Lisp machine
site files.

										       the object
    itself correctly knew it was a Tops-20, had an arpanet socket number, etc), I then tried
    doing the copy-file extended command.  The following resulted:

The bug is that someone broke the HOSTAB server on MC.  MC is the first host in the 
list of chaos-host-table-server-hosts in the site file on OZ.  The MC HOSTAB server
returns TOPS20 for the system type, whereas the HOSTAB servers on OZ and PYGMALION
return TOPS-20.  The HOSTAB server on MC has not itself changed in two years, so
I guess the contents of the host table itself must have changed.  I would guess
that this was caused by the transition from HOSTS2 to HOSTS3 format.

As a temporary measure, you could change the chaos-host-table-server-hosts in the
site file not to include any hosts modern enough to use HOSTS3, i.e. not to include
any hosts that support TCP.  OZ and PYGMALION could be put on the list.  As a more
permanent solution, you will get Release 5 (beta test version) soon, which flushes
all this semi-broken host table mechanism.
 1-Oct-83 17:23:28-EDT,2406;000000000000
Date: Saturday, 1 October 1983, 17:21-EDT
From: James L. Fulton <DVW.AM at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 222.249, Zmail 74.46, site configuration 49, on Lisp Machine Six:

I did (login'dvw.am) [see the bottom of the stack].  Who is JDM.FULTON?
^X^F in ZWEI defaults for JDM.FULTON too.

>>Error: No such directory name
For OZ:PS:<JDM.FULTON>LISPM.INIT
While in the function (METHOD FS:HOST-UNIT COMMAND)  FS:OPEN-CHAOS  (METHOD FS:CHAOS-PATHNAME OPEN)

(METHOD FS:HOST-UNIT COMMAND):  (P.C. = 363)
   (SELF = #<HOST-UNIT 2732006>)
   Arg 0 (OPERATION): COMMAND
   Arg 1 (MARK-P): NIL
   Arg 2 (STREAM-OR-HANDLE): "I1794"
   Arg 3 (SIMPLE-P): NIL
   Arg 4 (WHOSTATE): "Open"
   Rest arg (COMMANDS): ("OPEN " READ " " DEFAULT "" "" "" "" "" "" ...)
   Local 1 (HANDLE): "I1794"
   Local 2 (STREAM): NIL
   Local 3 (PKT): #<CHAOS Packet 2733251>
   Local 4 (SUCCESS): NIL
   Local 5 (STRING): "I1794 ERROR DNF F No such directory name"
   Local 6 (TRANSACTION-ID): "T1797"
   Local 7 (CREATE-P): T
   Local 8 (FROM): 6
   Local 9 (CONDITION): NIL
   Local 10: T
   Local 11: (#<CASE-HANDLER 2351607> #<CASE-HANDLER 2333102>)

FS:OPEN-CHAOS:  (P.C. = 577)
   Arg 0 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 1 (*COMMAND-PATHNAME*): #<TOPS20-PATHNAME "OZ:PS:<JDM.FULTON>LISPM.INIT">
   Arg 2 (OPTIONS): (CHARACTERS DEFAULT)

(METHOD FS:CHAOS-PATHNAME OPEN):  (P.C. = 26)
   (SELF = #<TOPS20-PATHNAME "OZ:PS:<JDM.FULTON>LISPM.INIT">)
   Arg 0 (OPERATION): OPEN
   Arg 1 (PATHNAME): #<TOPS20-PATHNAME "OZ:PS:<JDM.FULTON>LISPM.INIT">
   Rest arg (OPTIONS): (CHARACTERS DEFAULT)

OPEN:  (P.C. = 375)
   Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:PS:<JDM.FULTON>LISPM.INIT">
   Rest arg (KEYWORD-ARGS): (CHARACTERS DEFAULT)

LOAD:  (P.C. = 244)
   Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:PS:<JDM.FULTON>LISPM.INIT">
   Arg 1 (PKG): "USER"
   Arg 2 (NONEXISTENT-OK-FLAG): T
   Arg 3 (DONT-SET-DEFAULT-P): T
   --Defaulted args:--
   Arg 4 (NO-MSG-P): NIL

LOGIN:  (P.C. = 471)
   Arg 0 (USER-NAME): DVW.AM
   --Defaulted args:--
   Arg 1 (HOST): #<TOPS20-CHAOS-HOST MIT-OZ>
   Arg 2 (*LOGIN-LOAD-INIT-FILE-P*): T

SI:*EVAL:  (P.C. = 653)
   Arg 0 (FORM): (LOGIN (QUOTE DVW.AM))

SI:LISP-TOP-LEVEL1:  (P.C. = 210)
   Arg 0 (TERMINAL-IO): #<LISP-LISTENER Lisp Listener 1 20514317 exposed>

Rest of stack:
SI:LISP-TOP-LEVEL:  (P.C. = 35)
 1-Oct-83 20:35:08-EDT,242;000000000000
Date: Saturday, 1 October 1983, 19:05-EDT
From: David Chapman <zvona at MIT-OZ>
Subject: peek feature
To: bug-lispm at MIT-OZ

Iwbni the Windows option right-click menu had an Inspect option so you
could get your hands on the window. 
 1-Oct-83 21:03:09-EDT,909;000000000000
Date: Saturday, 1 October 1983  21:04-EDT
From: MOON at SCRC-TENEX
Subject: Arpanet Opacity
To:   Ken Forbus <KDF at MIT-PYGMALION>
Cc:   BUG-LISPM at MIT-OZ, Cstacy at MIT-MC
In-reply-to: The message of 30 Sep 83 22:25-EDT from David A. Moon <MOON at SCRC-TENEX>


    Date: Friday, 30 September 1983, 22:26-EDT
    From: David A. Moon <MOON@SCRC-TENEX>
	Date: Friday, 30 September 1983, 20:54-EDT
	From: Ken Forbus <KDF at MIT-PYGMALION>

	After doing (fs:add-chaosnet-file-computer 'BBNG)...
    The bug is that someone broke the HOSTAB server on MC....
The bug with this message is that Moon accidentally read his mail with
his brain offline.  You can safely ignore my reply.  MMcM's reply,
that in Release 4 you can only access file computers that are on
the Chaosnet, not ones that are on the Arpanet, is correct.  That's
why that function has the name it does!  Fixed in Release 5.
 2-Oct-83 16:15:03-EDT,2318;000000000000
Date: Sunday, 2 October 1983, 16:14-EDT
From: Elijah Millgram <Millgram at MIT-OZ>
Subject: zmacs bug
To: bug-symbolics-software at MIT-OZ

In Release 4.5, site configuration 75, on Lisp Machine Apiary-5:

I tried to grind a function (C-M-\) while in text mode, and this
happened.  It looks like it's un-get-outable-of.

>>Error: Recenter type POINT left point outside the window
While in the function ZWEI:REDISPLAY  ZWEI:REDISPLAY-ALL-WINDOWS  (METHOD ZWEI:EDITOR EDIT)

ZWEI:REDISPLAY:  (P.C. = 1517)
   Arg 0 (WINDOW): #<WINDOW 52456655>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): POINT
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL
   Local 5 (N-PLINES): 48
   Local 6 (POINT): ("	'(ASK T M)))) " 55 NORMAL)
   Local 7 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3001252 exposed>
   Local 8 (DEGREE): 4
   Local 9 (POINT-BLINKER): #<RECTANGULAR-BLINKER 3042506>
   Local 10 (INTERVAL): #<FILE-BUFFER "SCRIPTER-DOCUMENTATION.TXT PS:<MILLGRAM> OZ:" 15532577>
   Local 11 (START-BP): ("@begin(programexample)" 0 NORMAL)
   Local 12 (NOW): 51158
   Local 13 (POINT-PLINE): NIL
   Local 14 (LH): 14
   Local 15 (POINT-LINE): "	'(ASK T M)))) "
   Local 16 (POINT-INDEX): 55
   Local 17 (TOP-LINE): "@begin(programexample)"
   Local 18 (TOP-INDEX): 0
   Local 19 (LAST-BP): ("@end(programexample)" 20 MOVES)
   Local 20 (INITIAL-DEGREE): 4
   Local 21 (*INTERVAL*-initialization): #<FILE-BUFFER "SCRIPTER-DOCUMENTATION.TXT PS:<MILLGRAM> OZ:" 15532577>

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 36)
   --Defaulted args:--
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): T

(METHOD ZWEI:EDITOR EDIT):  (P.C. = 122)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 61300021>
   Arg 2 (OPERATION): EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T

(METHOD ZWEI:TOP-LEVEL-EDITOR COMBINED EDIT):  (P.C. = 42)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 53421127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 13. IV's, 1. FL's 61300005>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)

SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
 3-Oct-83 14:41:40-EDT,632;000000000000
Received: from SCRC-NEPONSET by SCRC-TENEX with CHAOS; Mon 3-Oct-83 14:42:55-EDT
Date: Mon, 3 Oct 83 14:39 EDT
From: Mike McMahon <MMcM@SCRC-TENEX>
Subject: peek feature
To: zvona@MIT-OZ
Cc: bug-lispm@MIT-OZ
In-reply-to: The message of 1 Oct 83 19:05-EDT from David Chapman <zvona at OZ>
Message-ID: <831003143954.3.MMcM@SCRC.SCRC>

    Date: Saturday, 1 October 1983, 19:05-EDT
    From: David Chapman <zvona at MIT-OZ>
    Iwbni the Windows option right-click menu had an Inspect option so you
    could get your hands on the window. 
Fixed in release 5.  All the other places that were missing inspect got it
too.
 3-Oct-83 23:01:19-EDT,799;000000000000
Date: Monday, 3 October 1983, 23:00-EDT
From: Tim McNerney <TIM at MIT-OZ>
Subject: TV:BITBLT-BLINKER doesn't default size correctly
To: BUG-LISPM at MIT-OZ

In both SYMBOLICS and MIT systems.

Note that in this pre-init method, the HEIGHT never gets set if it is
null, but rather the WIDTH get set incorrectly to the height!  This bug
has apparently been around since the stone age.  I guess no one has ever
forgotten to specify the size of the blinker.

(DEFMETHOD (BITBLT-BLINKER :BEFORE :INIT) (IGNORE)
  (IF (NULL ARRAY)
      (FERROR NIL "Attept to create a BITBLT-BLINKER without specifying any array"))
  (IF (NULL WIDTH)
      (SETQ WIDTH (ARRAY-DIMENSION-N 1 ARRAY)))
  (IF (NULL HEIGHT)
      (SETQ WIDTH (ARRAY-DIMENSION-N 2 ARRAY)))) ;<<<<<<<<<< Yacc! <<<<<<<<<<


 4-Oct-83 00:21:19-EDT,443;000000000000
Date: Tuesday, 4 October 1983, 00:21-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: 3600 crash
To: BUG-LISPM at MIT-OZ

In Release 4.5, site configuration 75, on Lisp Machine Apiary-6:

I was running the function PRINT-REGION from <Reid.Code>Press-Window
which runs OK on the LM2, and 3600 went into an infinite loop.
Trying to warm boot resulted in

  (Recursive page fault with depth ~D 3(8))

and had to be cold-booted.
 5-Oct-83 09:32:44-EDT,3584;000000000000
Date: Wednesday, 5 October 1983, 09:31-EDT
From: Tim McNerney <TIM at MIT-OZ>
Subject: Oops!  Someone forgot to define some BITBLT error conditions...
To: BUG-LISPM at MIT-OZ

In Release 4.5, site configuration 75, on Lisp Machine Apiary-3:

All I did was run my 64x64 pixel mouse blinker off the bottom of the screen.  I guess no
one has tried having a mouse blinker this big before.  I hope that there isn't supposed to
be such a small limit on the size of a mouse blinker.  This would screw up some things
that I am working on.  

Apparently neither BITBLT-DESTINATION-COLUMN-TOO-SMALL nor BITLBT-DESTINATION-ROW-TOO-SMALL
are defined, even though both of them are used by BITBLT.  (I did find a condition called
BITBLT-DESTINATION-TOO-SMALL, but no one seems to use it).  Here is the "offending" code:

  (DEFMACRO BOUNDS-CHECK-PARAMETERS (WIDTH HEIGHT TO-X TO-Y)
    `(COND ((OR (< D-ROW 0) ( D-ROW D-HEIGHT))
	    (ERROR 'BITBLT-ROW-OUT-OF-BOUNDS ':ROW D-ROW ':HEIGHT D-HEIGHT))
	   ((OR (< D-ROW-OFFSET 0) ( D-ROW-OFFSET D-ROW-LENGTH))
	    (ERROR 'BITBLT-COLUMN-OUT-OF-BOUNDS ':COLUMN ,TO-X ':WIDTH (*32 D-ROW-LENGTH)))
	   ((> (+ ,TO-X ,WIDTH) (*32 D-ROW-LENGTH))
	    (ERROR 'BITBLT-DESTINATION-ROW-TOO-SMALL
		   ':SOURCE-WIDTH ,WIDTH
		   ':STARTING-COLUMN ,TO-X
		   ':DESTINATION-WIDTH (*32 D-ROW-LENGTH)))
	   ((> (+ ,TO-Y ,HEIGHT) D-HEIGHT)
	    (ERROR 'BITBLT-DESTINATION-COLUMN-TOO-SMALL  <<<------ Barf -------
		   ':SOURCE-HEIGHT ,HEIGHT
		   ':STARTING-ROW ,TO-Y
		   ':DESTINATION-HEIGHT D-HEIGHT))))

>>Error: The argument CONDITION-NAME to MAKE-CONDITION, BITBLT-DESTINATION-COLUMN-TOO-SMALL, was of the wrong type.
The function expected the name of a condition.
While in the function MAKE-CONDITION  DBG:GET-CONDITION  ERROR

MAKE-CONDITION:  (P.C. = 7)
   Arg 0 (CONDITION-NAME): BITBLT-DESTINATION-COLUMN-TOO-SMALL
   Rest arg (INIT-OPTIONS): (:SOURCE-HEIGHT 64 :STARTING-ROW 689 :DESTINATION-HEIGHT 749)

DBG:GET-CONDITION:  (P.C. = 10)
   Arg 0 (FLAVOR): BITBLT-DESTINATION-COLUMN-TOO-SMALL
   Arg 1 (INIT-OPTIONS): (:SOURCE-HEIGHT 64 :STARTING-ROW 689 :DESTINATION-HEIGHT 749)

ERROR:  (P.C. = 33)
   Arg 0 (FLAVOR): BITBLT-DESTINATION-COLUMN-TOO-SMALL
   Rest arg (INIT-OPTIONS): (:SOURCE-HEIGHT 64 :STARTING-ROW 689 :DESTINATION-HEIGHT 749)

BITBLT:  (P.C. = 417)
   Arg 0 (ALU): 6
   Arg 1 (WIDTH): 64
   Arg 2 (HEIGHT): 64
   Arg 3 (FROM-ARRAY): #<ART-1B-64-64 16234740>
   Arg 4 (FROM-X): 0
   Arg 5 (FROM-Y): 0
   Arg 6 (TO-ARRAY): #<ART-1B-1216-749 51740033>
   Arg 7 (TO-X): 139
   Arg 8 (TO-Y): 689

(:METHOD BITBLT-BLINKER :BLINK):  (P.C. = 21)
   Arg 0 (SELF): #<MOUSE-BITBLT-BLINKER 5700112>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor BITBLT-BLINKER -- 5. IV's, 1. FL's 4053202>
   Arg 2 (OPERATION): :BLINK

(:METHOD BITBLT-BLINKER :COMBINED :BLINK):  (P.C. = 21)
   Arg 0 (SELF): #<MOUSE-BITBLT-BLINKER 5700112>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor BITBLT-BLINKER -- 5. IV's, 1. FL's 4053202>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD BLINKER :SET-CURSORPOS):  (P.C. = 130)
   Arg 0 (SELF): #<MOUSE-BITBLT-BLINKER 5700112>
   Arg 1 (SELF-MAPPING-TABLE): BLINKER
   Arg 2 (OPERATION): :SET-CURSORPOS
   Arg 3 (X): 139
   Arg 4 (Y): 689

MOUSE-SET-BLINKER-CURSORPOS:  (P.C. = 23)
   Rest arg (IGNORE): NIL

Rest of stack:
(:METHOD ESSENTIAL-MOUSE :MOUSE-MOVES):  (P.C. = 3)
MOUSE-DEFAULT-HANDLER:  (P.C. = 300)
(:METHOD ESSENTIAL-MOUSE :HANDLE-MOUSE):  (P.C. = 10)
MOUSE-OVERSEER:  (P.C. = 100)
SI:PROCESS-TOP-LEVEL:  (P.C. = 54)
 5-Oct-83 10:19:12-EDT,938;000000000000
Date: Wednesday, 5 October 1983, 10:15-EDT
From: Scott Cyphers <SR.CYPHER at MIT-SPEECH>
Subject: Adding paging area
To: bug-lispm at MIT-OZ

On a 3600, if I wanted to use the file area as additional paging area,
would renaming it to something like PAGE1.PAGE and then booting by
doing the following be the right way to do it?

clear machine
load microcode >microcode1.mic
load world >world1.load
clear paging-files
add paging-file >page.page
add paging-file >page1.page
set chaos-address foo
start

The file area happens to be separated from the paging area by two world
loads.  If this makes a difference performance-wise, assuming the above
is supposed to work, is there a way you can adjust the sizes and
existances of the fep files like you can with edit-disk-label, to move
the world loads to the end of the disk space, delete the extra file,
appending the gained space to the paging file's space?

Thanks
 5-Oct-83 11:04:52-EDT,1909;000000000000
Received: from SCRC-CHARLES by SCRC-TENEX with CHAOS; Wed 5-Oct-83 11:03:28-EDT
Date: Wednesday, 5 October 1983, 11:00-EDT
From: David C. Plummer <DCP@SCRC-TENEX>
Subject: Adding paging area
To: SR.CYPHER@MIT-SPEECH, bug-lispm@MIT-OZ
In-reply-to: The message of 5 Oct 83 10:15-EDT from Scott Cyphers <SR.CYPHER at SPEECH>

    Date: Wednesday, 5 October 1983, 10:15-EDT
    From: Scott Cyphers <SR.CYPHER at MIT-SPEECH>
    On a 3600, if I wanted to use the file area as additional paging area,
    would renaming it to something like PAGE1.PAGE and then booting by
    doing the following be the right way to do it?

    clear machine
    load microcode >microcode1.mic
    load world >world1.load
    clear paging-files
    add paging-file >page.page
    add paging-file >page1.page
    set chaos-address foo
    start

That is exactly correct.  Always be sure (which you were) to do a Clear
Paging-Files before you do a manual Add Paging-File.

    The file area happens to be separated from the paging area by two world
    loads.  If this makes a difference performance-wise, assuming the above
    is supposed to work, is there a way you can adjust the sizes and
    existances of the fep files like you can with edit-disk-label, to move
    the world loads to the end of the disk space, delete the extra file,
    appending the gained space to the paging file's space?

It may hurt performance due to extra seek time.  There is no such thing
as edit-disk-label.  The disk is a real filesystem on the 3600 and
Release 5 has a complete implementation (creating, deleting, expunging,
etc.).  All files created by manufacturing (including >PAGE.PAGE) are as
contiguous as possible; they only skips over bad blocks.  Once Lisp gets
it's hands on the disk fragmentation may become an issue.  Maybe
somebody should put writing a file allocation shuffler on their queue?
 5-Oct-83 14:38:55-EDT,1759;000000000000
Received: from SCRC-EUPHRATES by SCRC-TENEX with CHAOS; Wed 5-Oct-83 14:17:21-EDT
Date: Wednesday, 5 October 1983, 14:14-EDT
From: David A. Moon <Moon@SCRC-TENEX>
Subject: Oops!  Someone forgot to define some BITBLT error conditions...
To: Tim McNerney <TIM@MIT-OZ>
Cc: BUG-LISPM@MIT-OZ
In-reply-to: The message of 5 Oct 83 09:31-EDT from Tim McNerney <TIM at OZ>

    Date: Wednesday, 5 October 1983, 09:31-EDT
    From: Tim McNerney <TIM at MIT-OZ>
    In Release 4.5, site configuration 75, on Lisp Machine Apiary-3:

    All I did was run my 64x64 pixel mouse blinker off the bottom of the screen.  I guess no
    one has tried having a mouse blinker this big before.  I hope that there isn't supposed to
    be such a small limit on the size of a mouse blinker.  This would screw up some things
    that I am working on.  
There is no limit on the size of mouse blinkers.  The bug is yours; the :BLINK method
of a blinker is required to clip the blinker's image to fit inside the screen.  The reason
for this is so that an arrow blinker (for example) can be moved to point right at the right-hand
edge or bottom edge of the screen, in which case most of the blinker will be off the screen
and clipped.  You can call TV:BITBLT-CLIPPED instead of BITBLT (it doesn't support all BITBLT
features though; I think it supports everything except right-to-left and bottom-to-top
directions, i.e. negative width or height).

    Apparently neither BITBLT-DESTINATION-COLUMN-TOO-SMALL nor BITLBT-DESTINATION-ROW-TOO-SMALL
    are defined, even though both of them are used by BITBLT.
This was fixed ten months ago.  It never got patched in Release 4 though, since it's
only to make you get the right error message when you get an error.
