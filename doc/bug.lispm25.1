 1-Aug-84 10:29:37-EDT,1029;000000000000
Mail-From: GAVAN created at  1-Aug-84 10:27:01
Date: Wed, 1 Aug 1984  10:26 EDT
Message-ID: <GAVAN.12035975302.BABYL@MIT-OZ>
From: GAVAN@MIT-OZ
To:   "David E. Goldfarb" <DEG@SCRC-QUABBIN>
Cc:   BUG-LISPM@MIT-OZ
Subject: Bogus format arg 
In-reply-to: Msg of 29 Jul 1984 13:45-EDT from David E. Goldfarb <DEG at SCRC-QUABBIN>

    Date: Sunday, 29 July 1984, 13:45-EDT
    From: David E. Goldfarb <DEG at SCRC-QUABBIN>

    	The problem is that the first sublist is dotted.  I can't think of any way
    	that the make-system code could have done this; I'd sooner believe that
    	someone edited the file by hand and typoed.  Unfortunately I can't check
    	this because I don't know what physical host corresponds to the logical host
    	RL:.

        PIG:[RELATUS].  Subsequent make-systems didn't bomb this way. 

    OK, I'd just as soon call it a random flakie then, especially since the
    system patch directory files on pig only seem to go back to July 24.

OK.  Hasn't happened again anyway.
 1-Aug-84 14:36:39-EDT,3807;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 1 Aug 84 14:35-EDT
Date: Wednesday, 1 August 1984, 14:37-EDT
From: Steven C. Bagley <bagley at MIT-OZ>
Subject: inspecting a hash table array
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

I inspected a hash table, and then clicked its hash-array.  It printed
the first element, and then blew out.

>>Trap: The word #<DTP-NULL 0> was read from location 33417760 (in WORKING-STORAGE-AREA).
While in the function TV:INSPECT-ARRAY-PRINTER  (:METHOD TV:FUNCTION-TEXT-SCROLL-WINDOW :PRINT-ITEM)  (:METHOD TV:INSPECT-PANE-WITH-TYPEOUT :COMBINED :PRINT-ITEM)

TV:INSPECT-ARRAY-PRINTER:  (P.C. = 55)
   Arg 0 (ITEM): 1.
   Arg 1 (OBJ): #<ART-Q-31504. 33417756>
   Arg 2 (STREAM): #<INSPECT-PANE-WITH-TYPEOUT Inspect Pane With Typeout 1 16312102 exposed>
   Arg 3 (ARG3): 1.

(:METHOD TV:FUNCTION-TEXT-SCROLL-WINDOW :PRINT-ITEM):  (P.C. = 10)
   Arg 0 (SELF): #<INSPECT-PANE-WITH-TYPEOUT Inspect Pane With Typeout 1 16312102 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:FUNCTION-TEXT-SCROLL-WINDOW -- 4. IV's, 0. FL's 36223471>
   Arg 2 (OPERATION): :PRINT-ITEM
   Arg 3 (ITEM): 1.
   Arg 4 (IGNORE): 1.
   Arg 5 (ITEM-NO): 1.

(:METHOD TV:INSPECT-PANE-WITH-TYPEOUT :COMBINED :PRINT-ITEM):  (P.C. = 12)
   Arg 0 (SELF): #<INSPECT-PANE-WITH-TYPEOUT Inspect Pane With Typeout 1 16312102 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:INSPECT-PANE-WITH-TYPEOUT -- 2. IV's, 28. FL's 36223322>
   Rest arg (.DAEMON-CALLER-ARGS.): (:PRINT-ITEM 1. 1. 1.)

(:METHOD TV:TEXT-SCROLL-WINDOW :REDISPLAY):  (P.C. = 27)
   Arg 0 (SELF): #<INSPECT-PANE-WITH-TYPEOUT Inspect Pane With Typeout 1 16312102 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:TEXT-SCROLL-WINDOW -- 2. IV's, 0. FL's 36223402>
   Arg 2 (OPERATION): :REDISPLAY
   Arg 3 (START): 0.
   Arg 4 (END): 22.

(:METHOD TV:INSPECT-PANE-WITH-TYPEOUT :COMBINED :REDISPLAY):  (P.C. = 43)
   Arg 0 (SELF): #<INSPECT-PANE-WITH-TYPEOUT Inspect Pane With Typeout 1 16312102 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:INSPECT-PANE-WITH-TYPEOUT -- 2. IV's, 28. FL's 36223322>
   Rest arg (.DAEMON-CALLER-ARGS.): (:REDISPLAY 0. 22.)

(:METHOD TV:TEXT-SCROLL-WINDOW :SET-ITEMS):  (P.C. = 107)
   Arg 0 (SELF): #<INSPECT-PANE-WITH-TYPEOUT Inspect Pane With Typeout 1 16312102 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:TEXT-SCROLL-WINDOW -- 2. IV's, 0. FL's 36223402>
   Arg 2 (OPERATION): :SET-ITEMS
   Arg 3 (NEW-ITEMS): #<ART-Q-51200. 20434371>

(:METHOD TV:INSPECT-PANE-WITH-TYPEOUT :COMBINED :SET-ITEMS):  (P.C. = 24)
   Arg 0 (SELF): #<INSPECT-PANE-WITH-TYPEOUT Inspect Pane With Typeout 1 16312102 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:INSPECT-PANE-WITH-TYPEOUT -- 2. IV's, 28. FL's 36223322>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD TV:FUNCTION-TEXT-SCROLL-WINDOW :SETUP):  (P.C. = 105)
   Arg 0 (SELF): #<INSPECT-PANE-WITH-TYPEOUT Inspect Pane With Typeout 1 16312102 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:FUNCTION-TEXT-SCROLL-WINDOW -- 4. IV's, 0. FL's 36223471>
   Arg 2 (OPERATION): :SETUP
   Arg 3 (LIST): (TV:INSPECT-ARRAY-PRINTER #<ART-Q-31504. 33417756> (0. 1. 2. 3. 4. 5. 6. 7. 8. 9. ...) 0. (NIL NIL NIL NIL #<FONT HL12B 17151023> "#<ART-Q-31504. 33417756>"))

Rest of stack:
(:METHOD TV:INSPECT-PANE-WITH-TYPEOUT :COMBINED :SETUP):  (P.C. = 16)
(:METHOD TV:BASIC-INSPECT :SETUP-OBJECT):  (P.C. = 6)
(:METHOD TV:INSPECT-HISTORY-WINDOW :INSPECT-OBJECT):  (P.C. = 77)
TV:INSPECT-TOP-LEVEL:  (P.C. = 147)
INSPECT:  (P.C. = 170)
SI:*EVAL:  (P.C. = 370)
TV:KBD-SYS-1:  (P.C. = 310)
SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 2-Aug-84 02:48:58-EDT,885;000000000000
Mail-From: TIM created at  2-Aug-84 02:48:36
Date: Thu, 2 Aug 1984  02:48 EDT
Message-ID: <TIM.12036153999.BABYL@MIT-OZ>
To:   bug-lispm@MIT-OZ
Sender: TIM@MIT-OZ
From: Tim@MIT-MC
Subject: Random keyboard lossage

On Lisp Machine Sancho Panza (3600) using Release 5.1, mcr 292, and FEP 18

A couple of weeks ago, I reported strange behavior associated with depressing
just the right combination of keys, at just the right time to cause random
windows to be selected without using the Select key.  It was suggested that I
unknowingly leaned on c-Z to cause this behavior, however, tonight it happened
again, but this time c-Z was bound to COM-BEEP, and the "offending character"
was nowhere to be found in ZWEI's 60-character recording stream buffer.

All I know was that I was in Zmacs, and thought I was typing c-P, when I
mysteriously ended up in the Peek Window!
 2-Aug-84 09:54:20-EDT,1562;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 2 Aug 84 09:53-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 68230; Thu 2-Aug-84 09:56:07-EDT
Date: Thursday, 2 August 1984, 09:55-EDT
From: "(probably) David C. Plummer" <DCP at SCRC-TENEX>
Subject: Random keyboard lossage
To: Tim at MIT-MC, bug-lispm at MIT-OZ
In-Reply-To: <TIM.12036153999.BABYL@MIT-OZ>
Message-ID: <840802095519.2.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Thu, 2 Aug 1984  02:48 EDT
    From: Tim@MIT-MC

    On Lisp Machine Sancho Panza (3600) using Release 5.1, mcr 292, and FEP 18

    A couple of weeks ago, I reported strange behavior associated with depressing
    just the right combination of keys, at just the right time to cause random
    windows to be selected without using the Select key.  It was suggested that I
    unknowingly leaned on c-Z to cause this behavior, however, tonight it happened
    again, but this time c-Z was bound to COM-BEEP, and the "offending character"
    was nowhere to be found in ZWEI's 60-character recording stream buffer.

    All I know was that I was in Zmacs, and thought I was typing c-P, when I
    mysteriously ended up in the Peek Window!

It sounds like your keyboard is spontaneously generating [System]
keystrokes for you.  This could be noise, or it could be a lose
connection that sometimes makes contact due to the normal vibrations of
typing.  Does it only happen on this machine?  What happens if you swap
keyboards?  Does the problem move with the keyboard?
 2-Aug-84 10:14:05-EDT,1937;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 2 Aug 84 10:13-EDT
Date: Thursday, 2 August 1984, 10:12-EDT
From: Steven C. Bagley <bagley at MIT-OZ>
Subject: globalize blows out
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jim Morrison (3600):

I have a function round in package s.  It is loaded into zwei.  I meta-.
sys:round.  With the current package = s, I type (globalize "ROUND").
And it blows out thusly:

>>Error: S:ROUND and ROUND both already have ZWEI:ZMACS-BUFFERS properties
While in the function SI:FORWARD-SYMBOL-CELLS  GLOBALIZE  SI:*EVAL

SI:FORWARD-SYMBOL-CELLS:  (P.C. = 136)
   Arg 0 (FROM): S:ROUND
   Arg 1 (TO): ROUND
   Local 2 (PLIST): (ZWEI:ZMACS-BUFFERS ((DEFUN #<SECTION-NODE Function S:ROUND NIL 3657556>)))

GLOBALIZE:  (P.C. = 207)
   Arg 0 (STRING): "ROUND"
   --Defaulted args:--
   Arg 1 (INTO-PACKAGE): #<Package GLOBAL 21234163>

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (GLOBALIZE "ROUND")

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Breakpoint ZMACS" :ABORTED-FUNCTION SI:BREAK-ABORTED-FUNCTION :READ-FUNCTION SI:BREAK-READ-FUNCTION)

BREAK:  (P.C. = 173)
   Arg 0 (TAG): ZWEI:ZMACS
   --Defaulted args:--
   Arg 1 (CONDITIONAL): T

(:DEFUN-METHOD ZWEI:COM-BREAK):  (P.C. = 112)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 20536500>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 36267035>

ZWEI:COM-BREAK:  (P.C. = 12)
   Rest arg (ARGS): NIL

ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
   Arg 0 (COMMAND): ZWEI:COM-BREAK
   Arg 1 (CHAR): 129.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): (ZWEI:DEF-LOCK-HOOK)

Rest of stack:
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 2-Aug-84 14:51:17-EDT,1349;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 2 Aug 84 14:46-EDT
Date: 2 August 1984 14:45-EDT
From: Tim McNerney <TIM @ MIT-MC>
Subject:  Random keyboard lossage
To: DCP @ SCRC-RIVERSIDE
cc: bug-lispm @ MIT-OZ
In-reply-to: Msg of Thu 2 Aug 84 09:55 EDT from "(probably) David C. Plummer" <DCP at SCRC-RIVERSIDE.ARPA>

        ...I was in Zmacs, and thought I was typing c-P, when I
        mysteriously ended up in the Peek Window!

    It sounds like your keyboard is spontaneously generating [System]
    keystrokes for you.  This could be noise, or it could be a lose
    connection that sometimes makes contact due to the normal vibrations of
    typing.  Does it only happen on this machine?  What happens if you swap
    keyboards?  Does the problem move with the keyboard?

I have seen this strange behavior on several occasions and on different
machines in the past.  When it occured twice within one session (on "Kieth
Moon") I decided to report it as a bug, and now it has happened on "Sancho
Panza;" this time with clear evidence.  If I could reproduce it at will, then
I could try to isolate the problem as you suggest, but it only occurs
intermittently.  I might add that I have noticed a correlation between
excessive vibration (landing on the keyboard hard) and "phantom" [Select] and
[Function] keypresses.
 2-Aug-84 17:17:21-EDT,1027;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 2 Aug 84 17:15-EDT
Date: Thursday, 2 August 1984, 17:04-EDT
From: Chris Lindblad <cjl at MIT-OZ>
Subject: Generic Network system question
To: BUG-LISPM at MIT-OZ

How do I define a protocol runs on the chaos protocol, but can take
connection args and put some of them in the RFC packet? I thought that's
what connection args to get-connection-for-service would be able to do,
but apparently all it does is call chaos:open-stream with the contact
name from chaos:*contact-name*. What are the connection args for, then?
Doesn't FILE do this? Or the printers? The documentation is of very
little help here.

This doesn't work at all (is it anywhere close to the right thing?):
(net:define-protocol :chaos-spice (:spice :chaos)
  (:invoke (path)
   (net:get-connection-for-service
     path
     (loop for arg in (neti:service-access-path-args path)
	   collect (cond ((null arg)
			  "-")
			 ((typep arg 'fs:pathname)
			  (send arg :string-for-host)))))))

 3-Aug-84 10:48:42-EDT,389;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 3 Aug 84 10:48-EDT
Date: Friday, 3 August 1984, 10:36-EDT
From: Steven C. Bagley <bagley at MIT-OZ>
Subject: new feature for Peek
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

It would be nice if the Peek frame displayed the value of the amount of
time between updates.
 3-Aug-84 10:49:03-EDT,2846;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 3 Aug 84 10:48-EDT
Date: Friday, 3 August 1984, 10:38-EDT
From: JCMA@MIT-OZ
Subject: tried to finger at multics
To: BUG-LISPM@MIT-OZ

In Release 5.1, Experimental MIT 1.4, Experimental RELATUS 129.12,
FEP 18, on Lisp Machine Keith Moon (3600):



>>Error: MULTICS does not support SHOW-USERS in a reachable way.
While in the function NET:INVOKE-SERVICE-ON-HOST  NET:FINGER  SI:*EVAL

NET:INVOKE-SERVICE-ON-HOST:  (P.C. = 62)
   Arg 0 (SERVICE): :SHOW-USERS
   Arg 1 (HOST): #<MULTICS-HOST MULTICS 57017745>
   Rest arg (SERVICE-ARGS): (:USER "" :WHOIS NIL)
   Local 3: ("Retry invoking ~A on ~A." :SHOW-USERS #<MULTICS-HOST MULTICS 57017745>)
   Local 4: NIL
   Local 5: NIL
   Local 6 (THESE-ARGS): (:USER "" :WHOIS NIL)
   Local 7: "Retry invoking ~A on ~A."
   Local 8: :SHOW-USERS
   Local 9: #<MULTICS-HOST MULTICS 57017745>
   Local 10: #<ERROR-RESTART-HANDLER 60042113>
   Local 11: #<DTP-LOCATIVE 1207705>
   Local 12: #<DTP-LOCATIVE 43440233>
   Local 13: (#<ERROR-RESTART-HANDLER 60042113> #<DTP-LOCATIVE 1207705> #<DTP-LOCATIVE 43440233>)
   Local 14: #<DTP-CLOSURE 43440242>
   Local 15: (#<DTP-CLOSURE 43440131> #<DTP-CLOSURE 43440017>)
   Local 16: #<DTP-LOCATIVE 43440246>
   Local 17: #<DTP-EVEN-PC 46364352>
   Local 18: #<DTP-LOCATIVE 10365105>
   Local 19: #<DTP-LOCATIVE 43440137>
   Local 20: NETI:FIND-PATH-RETRY
   Local 21: #<DTP-EVEN-PC 46364351>
   Local 22: #<DTP-LOCATIVE 10365105>
   Local 23: #<DTP-LOCATIVE 43440250>
   Local 24 (SERVICE-ACCESS-PATHS): NIL
   Local 25 (ERRORS): NIL

NET:FINGER:  (P.C. = 64)
   Arg 0 (SPEC): "@arpanet|multics"
   --Defaulted args:--
   Arg 1 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Rest arg: NIL

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (NET:FINGER "@arpanet|multics")

TV:MOUSE-SENSITIVE-EVAL-FOR-TOP-LEVEL:  (P.C. = 35)  (from RL: UTILS; WMAGIC)
   Arg 0 (FORM): (NET:FINGER "@arpanet|multics")

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Lisp Top Level in Relatus Listener 1" :ABORTED-FUNCTION NIL :BEFORE-PROMPT-FUNCTION NIL :READ-FUNCTION TV:MOUSE-SENSITIVE-READ-FOR-TOP-LEVEL :EVAL-FUNCTION TV:MOUSE-SENSITIVE-EVAL-FOR-TOP-LEVEL ...)

SI:MY-LISP-COMMAND-LOOP:  (P.C. = 116)  (from RL: U; FIX-LISP-COMMAND-LOOP)
   Rest arg: (:STREAM #<RELATUS-LISTENER Relatus Listener 1 700076 exposed> :NAME "Lisp Top Level in Relatus Listener 1" :READ-FUNCTION TV:MOUSE-SENSITIVE-READ-FOR-TOP-LEVEL :EVAL-FUNCTION TV:MOUSE-SENSITIVE-EVAL-FOR-TOP-LEVEL :PRINT-FUNCTION TV:MOUSE-SENSITIVE-PRINT-FUNCTION-FOR-LISP-COMMAND-LOOP)

TV:MOUSE-SENSITIVE-LISP-TOP-LEVEL1:  (P.C. = 32)  (from RL: UTILS; WMAGIC)
   Arg 0 (TERMINAL-IO-initialization): #<RELATUS-LISTENER Relatus Listener 1 700076 exposed>

SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
   Arg 0 (IGNORE): NIL
 3-Aug-84 10:49:33-EDT,3004;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 3 Aug 84 10:48-EDT
Date: Friday, 3 August 1984, 10:40-EDT
From: JCMA@MIT-OZ
Subject: tied to copy a file to multics
To: BUG-LISPM@MIT-OZ

In Release 5.1, Experimental MIT 1.4, Experimental RELATUS 129.12,
FEP 18, on Lisp Machine Keith Moon (3600):

Looks like TCP stuff is broken.


>>Error: The host MULTICS is not accessible in any way for file operations.
         For MULTICS: >
While in the function (:METHOD FS:ACTIVE-PATHNAME-HOST :FILE-ACCESS-PATH)  (:METHOD FS:ACTIVE-PATHNAME-MIXIN :QUIET-HOMEDIR)  FS:QUIET-USER-HOMEDIR

(:METHOD FS:ACTIVE-PATHNAME-HOST :FILE-ACCESS-PATH):  (P.C. = 65)
   Arg 0 (SELF): #<MULTICS-HOST MULTICS 57017745>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-HOST -- 1. IV's, 0. FL's 62225211>
   Arg 2 (OPERATION): :FILE-ACCESS-PATH
   Arg 3 (PATHNAME): #<MULTICS-PATHNAME "MULTICS: >">
   Arg 4 (OPERATION): :QUIET-HOMEDIR

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :QUIET-HOMEDIR):  (P.C. = 6)
   Arg 0 (SELF): #<MULTICS-PATHNAME "MULTICS: >">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 62212213>
   Arg 2 (OPERATION): :QUIET-HOMEDIR

FS:QUIET-USER-HOMEDIR:  (P.C. = 6)
   Arg 0 (HOST): #<MULTICS-HOST MULTICS 57017745>

FS:DEFAULT-PATHNAME:  (P.C. = 133)
   Arg 0 (DEFAULTS): ((#<TOPS20-HOST OZ 56005326> . #<TOPS20-PATHNAME "OZ:PS:<JCMA>FOO.LISP">) (#<LISPM-HOST CADR-15 56110322> . #<LMFS-PATHNAME "LM15:>Lisp Machine>foo.lisp">) (NIL . #<TOPS20-PATHNAME "OZ:PS:<JCMA>FOO.LISP">))
   Arg 1 (HOST): #<MULTICS-HOST MULTICS 57017745>
   --Defaulted args:--
   Arg 2 (DEFAULT-TYPE): NIL
   Arg 3 (DEFAULT-VERSION): NIL
   Arg 4 (SAMPLE-P): NIL

FS:MERGE-PATHNAMES:  (P.C. = 17)
   Arg 0 (PATHNAME): #<MULTICS-PATHNAME "MULTICS: >udd>Datanet>RHurwitz>proposal">
   --Defaulted args:--
   Arg 1 (DEFAULTS): ((#<TOPS20-HOST OZ 56005326> . #<TOPS20-PATHNAME "OZ:PS:<JCMA>FOO.LISP">) (#<LISPM-HOST CADR-15 56110322> . #<LMFS-PATHNAME "LM15:>Lisp Machine>foo.lisp">) (NIL . #<TOPS20-PATHNAME "OZ:PS:<JCMA>FOO.LISP">))
   Arg 2 (DEFAULT-VERSION): :NEWEST

OPEN:  (P.C. = 10)
   Arg 0 (PATHNAME): #<MULTICS-PATHNAME "MULTICS: >udd>Datanet>RHurwitz>proposal">
   Rest arg (KEYWORD-ARGS): (:DIRECTION :OUTPUT :CHARACTERS T :BYTE-SIZE NIL :IF-EXISTS :SUPERSEDE :ESTIMATED-LENGTH 104316)

COPYF:  (P.C. = 370)
   Arg 0 (FROM-PATHNAME): #<ITS-PATHNAME "MC: AI0; PROG1 LPT">
   Arg 1 (TO-PATHNAME): #<MULTICS-PATHNAME "MULTICS: >udd>Datanet>RHurwitz>proposal">
   Rest arg: (:CHARACTERS :DEFAULT :COPY-CREATION-DATE T :COPY-AUTHOR T :REPORT-STREAM #<TYPEIN-WINDOW Typein Window 15 701021 exposed>)

ZWEI:COM-COPY-FILE:  (P.C. = 316)

Rest of stack:
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 3-Aug-84 10:49:56-EDT,3235;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 3 Aug 84 10:49-EDT
Date: Friday, 3 August 1984, 10:41-EDT
From: JCMA@MIT-OZ
Subject: Broken, broken
To: BUG-LISPM@MIT-OZ

In Release 5.1, Experimental MIT 1.4, Experimental RELATUS 129.12,
FEP 18, on Lisp Machine Keith Moon (3600):



>>Error: The host SU-SCORE is not accessible in any way for file operations.
         For SU-SCORE:PS:<WINOGRAD>*.*.*
While in the function (:METHOD FS:ACTIVE-PATHNAME-HOST :FILE-ACCESS-PATH)  (:METHOD FS:ACTIVE-PATHNAME-MIXIN :DIRECTORY-LIST)  FS:DIRECTORY-LIST

(:METHOD FS:ACTIVE-PATHNAME-HOST :FILE-ACCESS-PATH):  (P.C. = 65)
   Arg 0 (SELF): #<TOPS20-HOST SU-SCORE 31047655>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-HOST -- 1. IV's, 0. FL's 62216760>
   Arg 2 (OPERATION): :FILE-ACCESS-PATH
   Arg 3 (PATHNAME): #<TOPS20-PATHNAME "SU-SCORE:PS:<WINOGRAD>*.*.*">
   Arg 4 (OPERATION): :DIRECTORY-LIST

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :DIRECTORY-LIST):  (P.C. = 6)
   Arg 0 (SELF): #<TOPS20-PATHNAME "SU-SCORE:PS:<WINOGRAD>*.*.*">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 62172521>
   Arg 2 (OPERATION): :DIRECTORY-LIST
   Arg 3 (OPTIONS): (:SORTED :DELETED)

FS:DIRECTORY-LIST:  (P.C. = 111)
   Arg 0 (FILENAME): #<TOPS20-PATHNAME "SU-SCORE:PS:<WINOGRAD>*.*.*">
   Rest arg (OPTIONS): (:SORTED :DELETED)

(:METHOD ZWEI:DIRED-NODE-MIXIN :REVERT):  (P.C. = 42)
   Arg 0 (SELF): #<DIRED-BUFFER "*Dired-5*" 52720352>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:DIRED-NODE-MIXIN -- 4. IV's, 0. FL's 70666544>
   Arg 2 (OPERATION): :REVERT

(:METHOD ZWEI:DIRED-BUFFER :COMBINED :REVERT):  (P.C. = 10)
   Arg 0 (SELF): #<DIRED-BUFFER "*Dired-5*" 52720352>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:DIRED-BUFFER -- 3. IV's, 4. FL's 63277704>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD ZWEI:ZMACS-EDITOR :FIND-SPECIAL-BUFFER):  (P.C. = 45)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 60776023>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMACS-EDITOR -- 3. IV's, 0. FL's 63145644>
   Arg 2 (OPERATION): :FIND-SPECIAL-BUFFER
   Arg 3 (TYPE): :DIRED
   Arg 4 (NEW-P): T
   Rest arg (SETS): (:SET-PATHNAME #<TOPS20-PATHNAME "SU-SCORE:PS:<WINOGRAD>*.*.*">)

(:METHOD ZWEI:ZMACS-EDITOR :SELECT-SPECIAL-BUFFER):  (P.C. = 13)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 60776023>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMACS-EDITOR -- 3. IV's, 0. FL's 63145644>
   Arg 2 (OPERATION): :SELECT-SPECIAL-BUFFER
   Arg 3 (TYPE): :DIRED
   Arg 4 (NEW-P): T
   Rest arg (SETS): NIL

(:DEFUN-METHOD ZWEI:DIRECTORY-EDIT):  (P.C. = 10)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 60776023>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 63145665>
   Arg 2 (PATHNAME): #<TOPS20-PATHNAME "SU-SCORE:PS:<WINOGRAD>*.*.*">

Rest of stack:
ZWEI:DIRECTORY-EDIT:  (P.C. = 12)
ZWEI:COM-DIRED:  (P.C. = 5)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 3-Aug-84 14:47:59-EDT,850;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 3 Aug 84 14:41-EDT
Date: Fri 3 Aug 84 14:40:47-EDT
From: Thomas D. Carrell <SP.CARRELL@MIT-SPEECH>
Subject: Namespace problem
To: bug-lispm@MIT-OZ
cc: sp.carrell@MIT-SPEECH, lmusers@MIT-SPEECH



I was unable to cold-boot Yogi on band 1 (Spire rel. 5) this afternoon.  
It hung up when attempting to connect to SCRC-RIVERSIDE.  This happened
four boots in a row (the first time I waited 25 minutes).  I m-c-aborted
the final time which allowed me to login.  So, as far as I know, this
problem still persists.  

The error message was: [10:17 INTERNET|SCRC-RIVERSIDE (at Chaos address
                        24425) did not respond to a NAMESPACE request.
                        ;
                        Obsolete host information may be used.]



Tom Carrell




-------
 3-Aug-84 17:20:50-EDT,7266;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 3 Aug 84 17:20-EDT
Date: 3 Aug 1984  17:20 EDT (Fri)
Message-ID: <SR.EHPYC.12036574905.BABYL@MIT-SPEECH>
From: Scott Cyphers <SR.EHPYC@MIT-SPEECH>
Subject: Riverside
To:   bug-lispm@oz

In Release 5.1, Spire-Macros 1.9, Compute 1.5, Attribute 1.8, Audio 1.2,
Speech-Attributes 1.1, Display 1.13, Speech-Layouts 1.8,
Experimental Versatec 2.1, Experimental Prtout 1.1, Spire 13.0,
SpireX 10.3, Experimental ZOO 2.4, on Lisp Machine Yogi (LM-2):

I interrupted this during multiple namespace queries to Riverside during a
boot, which I have heard can go on for half an hour.  Looking around it seems
that the problem is in net:convert-tokens on the namespace internet, which
only is known about to be on Riverside which is on the other side of the
microwave bridge which is down.

To make matters worse, the same thing is happenning when I tried to mail this.

>>Break: 
While in the function PROCESS-WAIT  CHAOS:WAIT  CHAOS:WAIT-FOR-CONNECT

PROCESS-WAIT:  (P.C. = 46)
   Arg 0 (WHOSTATE): "Connect SCRC|R"
   Arg 1 (FUNCTION): #<DTP-FEF-POINTER (:INTERNAL CHAOS:WAIT 0) 13767664>
   Rest arg (ARGUMENTS): (#<CHAOS Connection for NAMESPACE to R 3332646> CHAOS:RFC-SENT-STATE 12006776 1130)
   Local 1 (PROCESS-P): NIL
   Local 2 (UNSIMPLE-P): NIL
   Local 3 (STATE): 7

CHAOS:WAIT:  (P.C. = 73)
   Arg 0 (CONN): #<CHAOS Connection for NAMESPACE to R 3332646>
   Arg 1 (STATE): CHAOS:RFC-SENT-STATE
   Arg 2 (TIMEOUT): 1130
   Arg 3 (WHOSTATE): "Connect SCRC|R"

CHAOS:WAIT-FOR-CONNECT:  (P.C. = 37)
   Arg 0 (CONN): #<CHAOS Connection for NAMESPACE to R 3332646>
   Arg 1 (EXPECTED-STATE): CHAOS:OPEN-STATE
   Arg 2 (TIMEOUT): 1130

CHAOS:CONNECT:  (P.C. = 422)
   Arg 0 (HOST): #<LISPM-HOST SCRC-RIVERSIDE 4013454>
   Arg 1 (CONTACT-NAME): "NAMESPACE"
   Arg 2 (WINDOW-SIZE): 15
   Arg 3 (TIMEOUT): 1130

CHAOS:OPEN-STREAM:  (P.C. = 206)
   Arg 0 (HOST): #<LISPM-HOST SCRC-RIVERSIDE 4013454>
   Arg 1 (CONTACT-NAME): "NAMESPACE"
   Rest arg: NIL

CHAOS:|MEDIUM-CHAOS-((NETWORK CHAOS))-G1645|:  (P.C. = 33)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH NAMESPACE (NAMESPACE) -- SCRC-RIVERSIDE on CHAOS 35404341>
   Rest arg (ARGS): NIL

NETI:GET-CONNECTION-FOR-SERVICE-TO-HOST:  (P.C. = 54)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH NAMESPACE (NAMESPACE) -- SCRC-RIVERSIDE on CHAOS 35404341>
   Arg 1 (NETWORK): #<CHAOS-NETWORK CHAOS 4443017>
   Arg 2 (IMPLEMENTATION): #<MEDIUM-IMPLEMENTATION 3613442>
   Arg 3 (CONNECTION-ARGS): NIL

NETI:GET-CONNECTION-FOR-SERVICE-1:  (P.C. = 317)
   Arg 0 (MEDIUM): #<MEDIUM-DESCRIPTION on CHAOS 35404335>
   Arg 1 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH NAMESPACE (NAMESPACE) -- SCRC-RIVERSIDE on CHAOS 35404341>
   Arg 2 (CONNECTION-ARGS): NIL

NET:GET-CONNECTION-FOR-SERVICE:  (P.C. = 27)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH NAMESPACE (NAMESPACE) -- SCRC-RIVERSIDE on CHAOS 35404341>
   Rest arg (CONNECTION-ARGS): NIL

NETI:INVOKE-SERVICE-NAMESPACE-WITH-NAMESPACE:  (P.C. = 22)
   Arg 0 (.SERVICE.): #<SERVICE-ACCESS-PATH NAMESPACE (NAMESPACE) -- SCRC-RIVERSIDE on CHAOS 35404341>

NET:INVOKE-SERVICE-ACCESS-PATH:  (P.C. = 44)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH NAMESPACE (NAMESPACE) -- SCRC-RIVERSIDE on CHAOS 35404341>
   Arg 1 (SERVICE-ARGS): (#<NAMESPACE INTERNET 33336311>)

NETI:OPEN-NAMESPACE-SERVER:  (P.C. = 403)
   Arg 0 (NAMESPACE): #<NAMESPACE INTERNET 33336311>
   --Defaulted args:--
   Arg 1 (FOR-UPDATE): NIL

NETI:QUERY-NAMESPACE-SERVER:  (P.C. = 305)
   Arg 0 (CLASS): :NAMESPACE
   Arg 1 (NAMESPACE): #<NAMESPACE INTERNET 33336311>
   Rest arg (PROPERTY-LIST): (:NAME :INTERNET :TIMESTAMP -1)

(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 226)
   (SELF = #<NAMESPACE INTERNET 33336311>)
   Arg 0 (OPERATION): :CHECK-VALIDITY
   Arg 1 (RELATIVE-TO-NAMESPACE): #<NAMESPACE INTERNET 33336311>

(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 117)
   (SELF = #<NAMESPACE INTERNET 33336311>)
   Arg 0 (OPERATION): :CHECK-VALIDITY
   Arg 1 (RELATIVE-TO-NAMESPACE): NIL

NETI:FIND-OBJECT-NAMED-IN-NAMESPACE:  (P.C. = 210)
   Arg 0 (CLASS): :NAMESPACE
   Arg 1 (NAME): "INTERNET"
   Arg 2 (NAMESPACE): #<NAMESPACE MIT 4017726>
   --Defaulted args:--
   Arg 3 (ERROR-P): T

NETI:CONVERT-TOKENS:  (P.C. = 224)
   Arg 0 (NAMESPACE): #<NAMESPACE MIT 4017726>
   Arg 1 (TEMPLATE): (:NAMESPACE)
   Arg 2 (TOKENS): ("INTERNET")
   Local 0 (FUNCTION): NIL
   Local 1 (CLASS): :NAMESPACE
   Local 2 (NAME): "MIT"
   Local 3: NIL
   Local 4 (WHAT): :THIS
   Local 5: (#<CASE-HANDLER 4240441> #<CASE-HANDLER 4240425> #<CASE-HANDLER 4240351>)
   Local 6 (LOOKING-FOR-THIS): NIL
   Local 7 (ERROR): NIL
   Local 8 (ENTRY): NIL

(:SELECT-METHOD (:PROPERTY :SET NETI:PRIMITIVE-TYPE) :READ):  (P.C. = 50)
   Arg 0 (**DEFSELECT-OP**): :READ
   Arg 1 (NAMESPACE): #<NAMESPACE MIT 4017726>
   Arg 2 (TEMPLATE): (:NAMESPACE)
   Arg 3 (TOKENS): ("INTERNET")

NETI:CONVERT-TOKENS:  (P.C. = 104)
   Arg 0 (NAMESPACE): #<NAMESPACE MIT 4017726>
   Arg 1 (TEMPLATE): (:SET :NAMESPACE)
   Arg 2 (TOKENS): ("MIT" "ARPANET" "SCRC" "INTERNET")

NETI:RECORD-INTO-PROPERTY-LIST-1:  (P.C. = 73)
   Arg 0 (RECORD): (("SEARCH-RULES" "MIT" "ARPANET" "SCRC" "INTERNET") ("DESCRIPTOR-FILE" "LM15:>SYS>SITE>MIT-NAMESPACE.TEXT") ("PRIMARY-NAME-SERVER" "CADR-15") ("SECONDARY-NAME-SERVER" "SCRC|WAIKATO") ("SECONDARY-NAME-SERVER" "SCH|GODZILLA") ("SECONDARY-NAME-SERVER" "SWW|WHITE") ("SECONDARY-NAME-SERVER" "SCRC|RIVERSIDE") ("SECONDARY-NAME-SERVER" "SCRC|STONY-BROOK") ("SECONDARY-NAME-SERVER" "GOLDILOCKS") ("SECONDARY-NAME-SERVER" "POLAR") ...)
   Arg 1 (CLASS): #<CLASS NAMESPACE 3230032>
   Arg 2 (NAMESPACE): #<NAMESPACE MIT 4017726>

NETI:RECORD-INTO-PROPERTY-LIST:  (P.C. = 121)
   Arg 0 (RECORD): (("NAMESPACE" "MIT") ("SEARCH-RULES" "MIT" "ARPANET" "SCRC" "INTERNET") ("DESCRIPTOR-FILE" "LM15:>SYS>SITE>MIT-NAMESPACE.TEXT") ("PRIMARY-NAME-SERVER" "CADR-15") ("SECONDARY-NAME-SERVER" "SCRC|WAIKATO") ("SECONDARY-NAME-SERVER" "SCH|GODZILLA") ("SECONDARY-NAME-SERVER" "SWW|WHITE") ("SECONDARY-NAME-SERVER" "SCRC|RIVERSIDE") ("SECONDARY-NAME-SERVER" "SCRC|STONY-BROOK") ("SECONDARY-NAME-SERVER" "GOLDILOCKS") ...)
   Arg 1 (NAMESPACE): #<NAMESPACE MIT 4017726>

NETI:QUERY-NAMESPACE-SERVER:  (P.C. = 542)
   Arg 0 (CLASS): :NAMESPACE
   Arg 1 (NAMESPACE): #<NAMESPACE MIT 4017726>
   Rest arg (PROPERTY-LIST): (:NAME :MIT)

NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 532)
   Arg 0 (NAMESPACE): #<NAMESPACE MIT 4017726>
   Arg 1 (STARTING-TIMESTAMP): 2566

(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 50)
   (SELF = #<NAMESPACE MIT 4017726>)
   Arg 0 (OPERATION): :GET-LATEST-TIMESTAMP

NETI:INITIALIZE-NAMESPACES-AND-NETWORK:  (P.C. = 235)
   Local 0 (PRIMARY-NETWORK): #<CHAOS-NETWORK CHAOS 4443017>
   Local 1 (NETWORK): #<CHAOS-NETWORK CHAOS 4443017>
   Local 2: (#<NAMESPACE MIT 4017726> #<NAMESPACE ARPANET 4020267> #<NAMESPACE SCRC 4441750>)
   Local 3 (.ME-P.): T
   Local 4 (.CLOSE-MODE.): :ABORT
   Local 5 (NS): #<NAMESPACE MIT 4017726>

LISP-REINITIALIZE:  (P.C. = 1247)
   Arg 0 (CALLED-BY-USER): NIL

SI:LISP-TOP-LEVEL:  (P.C. = 30)
 4-Aug-84 18:05:22-EDT,1930;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 4 Aug 84 18:04-EDT
Date: Saturday, 4 August 1984, 09:32-EDT
From: Steven C. Bagley <bagley at MIT-OZ>
Subject: List All Directory Names bug
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jim Morrison (3600):

I did List All Directory Names on pig: and zmacs blew out.

>>Trap: The argument given to the SYS:SETUP-1D-ARRAY instruction, #<VMS-PATHNAME "PIG:USRD$:[*]">, was not an array.
While in the function %STRING-SEARCH-CHAR  (:METHOD NET:HOST :PATHNAME-HOST-NAMEP)  FS:GET-PATHNAME-HOST-I

%STRING-SEARCH-CHAR:  (P.C. = 2)
   Arg 0 (CHAR): 174
   Arg 1 (STRING): #<VMS-PATHNAME "PIG:USRD$:[*]">
   Arg 2 (START): 0
   Arg 3 (END): 15

(:METHOD NET:HOST :PATHNAME-HOST-NAMEP):  (P.C. = 17)
   Arg 0 (SELF): #<VMS-HOST PYGMALION 16540045>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:HOST -- 5. IV's, 0. FL's 37626641>
   Arg 2 (OPERATION): :PATHNAME-HOST-NAMEP
   Arg 3 (NAME): #<VMS-PATHNAME "PIG:USRD$:[*]">

FS:GET-PATHNAME-HOST-I:  (P.C. = 26)
   Arg 0 (HOST-NAME): #<VMS-PATHNAME "PIG:USRD$:[*]">
   Arg 1 (LIST): #<DTP-LOCATIVE 4101430>

FS:GET-PATHNAME-HOST:  (P.C. = 15)
   Arg 0 (HOST-NAME): #<VMS-PATHNAME "PIG:USRD$:[*]">
   Arg 1 (NO-ERROR-P): T
   --Defaulted args:--
   Arg 2 (NO-AUTO-ADD-P): NIL

FS:ALL-DIRECTORIES:  (P.C. = 11)
   Arg 0 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[*]">
   Rest arg (OPTIONS): (:NOERROR)

COM-LIST-ALL-DIRECTORY-NAMES:  (P.C. = 34)

COM-EXTENDED-COMMAND:  (P.C. = 27)

COMMAND-EXECUTE:  (P.C. = 55)
   Arg 0 (COMMAND): COM-EXTENDED-COMMAND
   Arg 1 (CHAR): 1130
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

Rest of stack:
PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD EDITOR :EDIT):  (P.C. = 200)
(:METHOD TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 5-Aug-84 03:36:14-EDT,2315;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 5 Aug 84 03:35-EDT
Date: Sunday, 13 November 1904, 22:30-EST
From: Alan Bawden <Alan at MIT-MC>
Subject: Misleading error message from AS-2 into an indirect array.
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.5, FEP 18, on Lisp Machine Jimi Hendrix (3600):

Huh?  I guess the fact that there are indirect arrays being used here
explains the confusing error message.  It shouldn't be too much trouble for
you to fix this to really explain the error.

>>Trap: The subscripts given to the AS-2 instruction, 10 and 656, on #<ART-8B-114-710 3677415> were beyond the limits, 
           114 by 710
While in the function HACKS:MUGSHOT-READ  HACKS:ROGUES-GALLERY  SI:*EVAL

HACKS:MUGSHOT-READ:  (P.C. = 115)
   Arg 0 (PERSON): #<VMS-PATHNAME "PIG:USRD$:[MUGSHOTS]MANUS.MUG;1">
   Local 1 (ERROR): NIL
   Local 2: #<CASE-HANDLER 3576330>
   Local 3: NIL
   Local 4: #<DTP-LOCATIVE 140166>
   Local 5: #<DTP-EVEN-PC 7310267>
   Local 6: #<DTP-LOCATIVE 740044>
   Local 7: #<DTP-LOCATIVE 140104>
   Local 8 (.STREAM-ABORT-FLAG.): :ABORT
   Local 9 (STREAM): #<FILE-INPUT-BINARY-STREAM "PIG:USRD$:[MUGSHOTS]MANUS.MUG;1" 3677376>
   Local 10: SYS:UNWIND-PROTECT-TAG
   Local 11: #<DTP-ODD-PC 7310271>
   Local 12: #<DTP-LOCATIVE 740044>
   Local 13: #<DTP-LOCATIVE 140170>
   Local 14 (LO-X): 140
   Local 15 (HI-X): 2
   Local 16 (LO-Y): 310
   Local 17 (HI-Y): 1
   Local 18 (X): 1140
   Local 19 (Y): 710
   Local 20 (ARRAY): #<ART-8B-114-710 3677415>
   Local 21 (DARR): #<ART-1B-1140-710 3677424>
   Local 22 (I): 656
   Local 23: 710

HACKS:ROGUES-GALLERY:  (P.C. = 24)
   Arg 0 (FONT): #<FONT 43VXMS 20156016>

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (HACKS:ROGUES-GALLERY FONTS:43VXMS)

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1" :ABORTED-FUNCTION NIL :BEFORE-PROMPT-FUNCTION NIL :READ-FUNCTION NIL :EVAL-FUNCTION NIL ...)

SI:LISP-COMMAND-LOOP:  (P.C. = 115)
   Arg 0 (STREAM): #<LISP-LISTENER Lisp Listener 1 4700000 exposed>
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1")

SI:LISP-TOP-LEVEL1:  (P.C. = 22)
   Arg 0 (TERMINAL-IO-initialization): #<LISP-LISTENER Lisp Listener 1 4700000 exposed>

SI:LISP-TOP-LEVEL:  (P.C. = 7)
 5-Aug-84 21:41:32-EDT,1764;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 5 Aug 84 21:41-EDT
Date: Saturday, 4 August 1984, 21:59-EDT
From:  <ssur at MIT-MC>
Subject: Error while cold-booting
To: BUG-LISPM at MIT-OZ, DARTH at MIT-BING-CROSBY

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

This is the error message I received when I was cold-booting the PI machine.

>>Error: The host PI is not on the CHAOS network at 15314.
While in the function NETI:CHANGE-LOCAL-HOST  NETI:CHECK-LOCAL-HOST-IDENTITY  NETI:INITIALIZE-NAMESPACES-AND-NETWORK

NETI:CHANGE-LOCAL-HOST:  (P.C. = 137)
   Arg 0 (HOST): #<LISPM-HOST PI 17260303>
   Local 1: ("Skip changing the local host to ~A and make a standalone site instead." #<LISPM-HOST PI 17260303>)
   Local 2 (SITE): #<OBJECT SITE MIT 16622071>
   Local 3 (SITE-CHANGED): NIL
   Local 4: "Skip changing the local host to ~A and make a standalone site instead."
   Local 5: #<LISPM-HOST PI 17260303>
   Local 6: #<ERROR-RESTART-HANDLER 52743167>
   Local 7: #<DTP-LOCATIVE 1207705>
   Local 8: #<DTP-LOCATIVE 140064>
   Local 9: (#<ERROR-RESTART-HANDLER 52743167> #<DTP-LOCATIVE 1207705> #<DTP-LOCATIVE 140064>)
   Local 10: #<DTP-CLOSURE 140071>
   Local 11: NIL
   Local 12: (#<DTP-CLOSURE 140071>)
   Local 13: #<DTP-LOCATIVE 740016>
   Local 14: DBG:|If you throw to this tag, you deserve to lose.|
   Local 15: #<DTP-EVEN-PC 46503620>
   Local 16: #<DTP-LOCATIVE 740016>
   Local 17: #<DTP-LOCATIVE 140037>
   Local 18 (ADDRESS): "15314"
   Local 19 (NETWORK): :CHAOS

NETI:CHECK-LOCAL-HOST-IDENTITY:  (P.C. = 242)

NETI:INITIALIZE-NAMESPACES-AND-NETWORK:  (P.C. = 70)

LISP-REINITIALIZE:  (P.C. = 435)
   Arg 0 (CALLED-BY-USER): NIL

SI:LISP-TOP-LEVEL:  (P.C. = 3)
 6-Aug-84 13:53:18-EDT,1680;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 6 Aug 84 13:52-EDT
Date: 6 August 1984 13:51-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
Subject:  Error while cold-booting
To: SSUR @ MIT-MC
cc: DARTH @ MIT-MC, BUG-LISPM @ MIT-OZ
In-reply-to: Msg of 4 Aug 1984 21:59-EDT from <ssur>


    Date: Saturday, 4 August 1984, 21:59-EDT
    From: <ssur>
    To:   BUG-LISPM at MIT-OZ, DARTH at MIT-BING-CROSBY
    Re:   Error while cold-booting

   This is the error message I received when I was cold-booting 
   the PI machine.

    >>Error: The host PI is not on the CHAOS network at 15314.
    While in the function NETI:CHANGE-LOCAL-HOST  
      NETI:CHECK-LOCAL-HOST-IDENTITY  
      NETI:INITIALIZE-NAMESPACES-AND-NETWORK
    NETI:CHANGE-LOCAL-HOST:  (P.C. = 137)
       Arg 0 (HOST): #<LISPM-HOST PI 17260303>
       Local 18 (ADDRESS): "15314"
    NETI:CHECK-LOCAL-HOST-IDENTITY:  (P.C. = 242)
    NETI:INITIALIZE-NAMESPACES-AND-NETWORK:  (P.C. = 70)
    LISP-REINITIALIZE:  (P.C. = 435)
       Arg 0 (CALLED-BY-USER): NIL
    SI:LISP-TOP-LEVEL:  (P.C. = 3)

I would guess that when the host address for PI was changed recently,
it wasn't done consistantly.  I am CCing this to DARTH@MC since he had
something to do with changing it.  Whoever is fooling around with this
should ensure that it is changed in both the HOSTS3 (on MC) and LispM
(on LM15, etc) databases, and in the boot command files on PI.

SSUR: You can't (successfully) address mail to people at Lisp Machines
here; your message to DARTH@BING-CROSBY most likely went into the
bit bucket since he cannot receive mail on that host.  That's why
I sent it to him at MC.

 6-Aug-84 14:24:04-EDT,1202;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 6 Aug 84 14:23-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 69507; Mon 6-Aug-84 13:58:19-EDT
Date: Monday, 6 August 1984, 13:58-EDT
From: "(probably) David C. Plummer" <DCP at SCRC-TENEX>
Subject: Error while cold-booting
To: ssur at MIT-MC, BUG-LISPM at MIT-OZ, DARTH at MIT-BING-CROSBY
In-Reply-To: The message of 4 Aug 84 21:59-EDT from ssur at MIT-MC
Message-ID: <840806135811.5.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 4 August 1984, 21:59-EDT
    From:  <ssur at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

    This is the error message I received when I was cold-booting the PI machine.

    >>Error: The host PI is not on the CHAOS network at 15314.
    While in the function NETI:CHANGE-LOCAL-HOST  NETI:CHECK-LOCAL-HOST-IDENTITY  NETI:INITIALIZE-NAMESPACES-AND-NETWORK

I imagine this is somehow caused by the recent subnet swappings.  What
does the appropriate .BOOT file on the FEP filesystem (e.g.,
FEP:>Boot.boot) give as a chaos address?  I'm wondering if it wasn't
updated, though that probably isn't the problem.
 6-Aug-84 14:30:33-EDT,1490;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Aug 84 14:29-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 69402; Sun 5-Aug-84 23:49:30-EDT
Date: Monday, 6 August 1984, 13:32-EDT
From: DCP at SCRC-TENEX
Sender: DCP at SCRC-TENEX
Subject: globalize blows out
To: bagley at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 2 Aug 84 10:12-EDT from bagley at MIT-OZ
Supersedes: <840802121143.4.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840806133227.1.NFEP@NEPONSET.SCRC.Symbolics>

[Sorry for the delay; hopefully the microwave will be up this time.]

    Date: Thursday, 2 August 1984, 10:12-EDT
    From: Steven C. Bagley <bagley at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jim Morrison (3600):

    I have a function round in package s.  It is loaded into zwei.  I meta-.
    sys:round.  With the current package = s, I type (globalize "ROUND").
    And it blows out thusly:

    >>Error: S:ROUND and ROUND both already have ZWEI:ZMACS-BUFFERS properties
    While in the function SI:FORWARD-SYMBOL-CELLS  GLOBALIZE  SI:*EVAL

This is not a system blowout, it is a user error.  There really were
two potentially different symbols named ROUND, which had incompatible
properties.  Loading a file into Zmacs, which causes sectionizing, is
the common way to make this mistake.  If you really want one version of
ROUND, do the GLOBALIZE before you load the file into Zmacs.  
 6-Aug-84 16:06:46-EDT,1030;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Aug 84 16:06-EDT
Received: from SCRC-MERRIMACK by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 69441; Mon 6-Aug-84 01:28:35-EDT
Date: Monday, 6 August 1984, 15:11-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: List All Directory Names bug
To: Steven C. Bagley <bagley at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 4 Aug 84 09:32-EDT from Steven C. Bagley <bagley at MIT-OZ>
Message-ID: <840806151139.4.MMCM@MERRIMACK.SCRC.Symbolics>

    Date: Saturday, 4 August 1984, 09:32-EDT
    From: Steven C. Bagley <bagley at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jim Morrison (3600):

    I did List All Directory Names on pig: and zmacs blew out.

    >>Trap: The argument given to the SYS:SETUP-1D-ARRAY instruction, #<VMS-PATHNAME "PIG:USRD$:[*]">, was not an array.
    While in the function %STRING-SEARCH-CHAR  (:METHOD NET:HOST :PATHNAME-HOST-NAMEP)  FS:GET-PATHNAME-HOST-I

Fixed in 5.2.
 6-Aug-84 16:48:08-EDT,2405;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Aug 84 16:47-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 69485; Mon 6-Aug-84 02:58:09-EDT
Date: Monday, 6 August 1984, 16:41-EDT
From: "(probably) David C. Plummer" <DCP at SCRC-TENEX>
Subject: List All Directory Names bug
To: Steven C. Bagley <bagley at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 4 Aug 84 09:32-EDT from Steven C. Bagley <bagley at MIT-OZ>
Message-ID: <840806164119.1.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 4 August 1984, 09:32-EDT
    From: Steven C. Bagley <bagley at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jim Morrison (3600):

    I did List All Directory Names on pig: and zmacs blew out.

    >>Trap: The argument given to the SYS:SETUP-1D-ARRAY instruction, #<VMS-PATHNAME "PIG:USRD$:[*]">, was not an array.
    While in the function %STRING-SEARCH-CHAR  (:METHOD NET:HOST :PATHNAME-HOST-NAMEP)  FS:GET-PATHNAME-HOST-I

From what I can tell, the bug >>was<< in fs:all-directories, which was
misusing get-pathname-host.  This appears to be fixed in the source (I'm
not sure when) and the development system.  I did
	(fs:all-directories (fs:parse-pathname "pig:usrd$:[*]"))
and got this:
	((#<VMS-PATHNAME "PIG:USRD$:[JLMK]"> :BLOCK-SIZE 1000
	  :CREATION-DATE 23661167427 :MODIFICATION-DATE 23661167435
	  :LENGTH-IN-BLOCKS 1 :PROTECTION "FA00" :AUTHOR "[100,174]") 
	 (#<VMS-PATHNAME "PIG:USRD$:[KDF]"> :BLOCK-SIZE 1000
	  :CREATION-DATE 23701304000 :MODIFICATION-DATE 23701304001
	  :LENGTH-IN-BLOCKS 1 :PROTECTION "A000" :AUTHOR "[100,6]") 
	 (#<VMS-PATHNAME "PIG:USRD$:[KWH]"> :BLOCK-SIZE 1000
	  :CREATION-DATE 23705552211 :MODIFICATION-DATE 23705552251
	  :LENGTH-IN-BLOCKS 660 :PROTECTION "A000" :AUTHOR "[100,51]") 
	 (#<VMS-PATHNAME "PIG:USRD$:[KWH]"> :BLOCK-SIZE 1000
	  :CREATION-DATE 23657627263 :MODIFICATION-DATE 23657627263
	  :LENGTH-IN-BLOCKS 2 :PROTECTION "A000" :AUTHOR "[100,51]") 
	 (#<VMS-PATHNAME "PIG:USRD$:[OPEN]"> :BLOCK-SIZE 1000
	  :|USRD$:[TIM]FOO.LSP;1| T :BLOCK-SIZE 1000 :CREATION-DATE 23526263167
	  :MODIFICATION-DATE 23526263167 :LENGTH-IN-BLOCKS 40
	  :PROTECTION "A000" :AUTHOR "[100,23]"))  
I would tend to doubt this is fixed in 5.2, but I wouldn't mind being
proven wrong.  If not, I regret to say you may have to wait until
Release 6.
 6-Aug-84 18:24:56-EDT,1714;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Aug 84 18:24-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 69490; Mon 6-Aug-84 03:09:02-EDT
Date: Monday, 6 August 1984, 16:52-EDT
From: "(probably) David C. Plummer" <DCP at SCRC-TENEX>
Subject: Misleading error message from AS-2 into an indirect array.
To: Alan Bawden <Alan at MIT-MC>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Nov 4 22:30-EST from Alan Bawden <Alan at MIT-MC>
Message-ID: <840806165213.2.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 13 November 1904, 22:30-EST
    From: Alan Bawden <Alan at MIT-MC>

    In Release 5.1, Experimental MIT 1.5, FEP 18, on Lisp Machine Jimi Hendrix (3600):

    Huh?  I guess the fact that there are indirect arrays being used here
    explains the confusing error message.  It shouldn't be too much trouble for
    you to fix this to really explain the error.

    >>Trap: The subscripts given to the AS-2 instruction, 10 and 656, on #<ART-8B-114-710 3677415> were beyond the limits, 
	       114 by 710
    While in the function HACKS:MUGSHOT-READ  HACKS:ROGUES-GALLERY  SI:*EVAL

In the development system, I get the same error.  There is some hair to
get you the right error message for out of bounds on a 1d indirect
array, e.g., 
    (aref (make-array 100 :displaced-to "alkdjf") 11)
gives
    >>Trap: The subscript given to the AR-1 instruction, 11, on #<ART-Q-100 32732713> 
	    was beyond the length, 1, of the part of this indirect array validly
	    contained in "alkdjf", the array providing the actual storage.

I'll file this to be worked on when I get a chance and have a fresh head
to do it reasonably.
 7-Aug-84 12:33:06-EDT,478;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 7 Aug 84 12:32-EDT
Date: 7 August 1984 12:34-EDT
From: Dale Worley <DRW @ MIT-MC>
Subject:  Is this a bug or a feature?
To: BUG-LISPM @ MIT-MC

The \, `, |, and BACK-SPACE keys on the symbolics lispm's seems to be
rearranged in the lispm's mind.  Is this intentional?  And if so,
why?????  It makes it a real pain in the ass to use, if you have to
memorize where the odd characters are on the keyboard.

Thanks,

Dale
 7-Aug-84 13:10:42-EDT,1083;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 7 Aug 84 13:10-EDT
Received: from SCRC-BLACKSTONE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 69682; Tue 7-Aug-84 13:03:19-EDT
Date: Tuesday, 7 August 1984, 13:06-EDT
From: Neal Feinberg <Feinberg at SCRC-YUKON>
Subject: List All Directory Names bug
To: MMcM at SCRC-TENEX, bagley at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: <840806151139.4.MMCM@MERRIMACK.SCRC.Symbolics>

    Date: Monday, 6 August 1984, 15:11-EDT
    From: Mike McMahon <MMcM at SCRC-TENEX>

	Date: Saturday, 4 August 1984, 09:32-EDT
	From: Steven C. Bagley <bagley at MIT-OZ>

	In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jim Morrison (3600):

	I did List All Directory Names on pig: and zmacs blew out.

	>>Trap: The argument given to the SYS:SETUP-1D-ARRAY instruction, #<VMS-PATHNAME "PIG:USRD$:[*]">, was not an array.
	While in the function %STRING-SEARCH-CHAR  (:METHOD NET:HOST :PATHNAME-HOST-NAMEP)  FS:GET-PATHNAME-HOST-I

    Fixed in 5.2.

That's odd, it seems broken in the 5.2 I am running.
 8-Aug-84 09:46:02-EDT,3878;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 8 Aug 84 09:45-EDT
Date: Wednesday, 8 August 1984, 09:41-EDT
From: Webster Dove <dove at MIT-SYLVESTER>
Subject: Pig protection
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.5, on Lisp Machine Tweety Pie (3600):

PIG apparently refuses to allow dired on the site directory or
modification of files within it.  This is an unfortunate situation for a
"beta test" site where changes are frequent.  It is also painful for
people who are trying to maintain a system and want to add system and
translation files.

This was not the case a few weeks ago, why did it change?

>>Error: insufficient privilege or file protection violation
         For PIG:USRD$:[S.R5.SITE]KBSP.SYD
While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:OPEN-CHAOS  (:METHOD FS:QFILE-ACCESS-PATH :OPEN)

(:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 231)
   Arg 0 (SELF): #<HOST-UNIT 465401>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): :COMMAND
   Arg 3 (MARK-P): NIL
   Arg 4 (STREAM-OR-HANDLE): (:CREATE "O2045")
   Arg 5 (SIMPLE-P): NIL
   Arg 6 (WHOSTATE): "Open"
   Rest arg (COMMANDS): ("OPEN " :WRITE " " :CHARACTER "" "" "" "" "" "" ...)
   Local 8 (HANDLE): "O2045"
   Local 9 (STREAM): NIL
   Local 10 (PKT): #<Chaos Packet 22542012>
   Local 11 (SUCCESS): NIL
   Local 12 (STRING): "O2045 ERROR ATF C insufficient privilege or file protection violation"
   Local 13 (TRANSACTION-ID): "T2055"
   Local 14 (CREATE-P): T
   Local 15 (CONDITION): NIL

FS:OPEN-CHAOS:  (P.C. = 643)
   Arg 0 (ACCESS-PATH): #<NORMAL-QFILE-ACCESS-PATH PIG using QFILE 465370>
   Arg 1 (REAL-PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
   Arg 2 (*COMMAND-PATHNAME*-initialization): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
   Arg 3 (OPTIONS): (:CHARACTERS T :DIRECTION :OUTPUT)

(:METHOD FS:QFILE-ACCESS-PATH :OPEN):  (P.C. = 7)
   Arg 0 (SELF): #<NORMAL-QFILE-ACCESS-PATH PIG using QFILE 465370>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:QFILE-ACCESS-PATH -- 3. IV's, 0. FL's 37747636>
   Arg 2 (OPERATION): :OPEN
   Arg 3 (REAL-PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
   Arg 4 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
   Rest arg (OPTIONS): (:CHARACTERS T :DIRECTION :OUTPUT)

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :OPEN):  (P.C. = 14)
   Arg 0 (SELF): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 37613544>
   Arg 2 (OPERATION): :OPEN
   Arg 3 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
   Rest arg (OPTIONS): (:CHARACTERS T :DIRECTION :OUTPUT)

FS:MACLISP-COMPATIBILITY-OPEN:  (P.C. = 362)
   Arg 0 (FILENAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
   Arg 1 (OPTIONS): (ZWEI:OUT)

OPEN:  (P.C. = 252)
   Arg 0 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
   Rest arg (KEYWORD-ARGS): ((ZWEI:OUT))

(:METHOD ZWEI:FILE-BUFFER-MIXIN :SAVE):  (P.C. = 44)
   Arg 0 (SELF): #<FILE-BUFFER "KBSP.SYD USRD$:[S.R5.SITE] PIG:" 41045755>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:FILE-BUFFER-MIXIN -- 9. IV's, 0. FL's 36271346>
   Arg 2 (OPERATION): :SAVE

ZWEI:SAVE-BUFFER:  (P.C. = 203)
   Arg 0 (BUFFER): #<FILE-BUFFER "KBSP.SYD USRD$:[S.R5.SITE] PIG:" 41045755>

Rest of stack:
ZWEI:COM-SAVE-FILE:  (P.C. = 14)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:  (P.C. = 77)
SYS:CALL-FUNNY-FUNCTION:  (P.C. = 101)
Closure of ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 8-Aug-84 11:35:25-EDT,1015;000000000000
Mail-From: CJL created at  8-Aug-84 11:35:03
Date: Wed, 8 Aug 1984  11:35 EDT
Message-ID: <CJL.12037822701.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   Webster Dove <dove@MIT-SYLVESTER>
Cc:   BUG-LISPM@MIT-OZ
Subject: Pig protection
In-reply-to: Msg of 8 Aug 1984 09:41-EDT from Webster Dove <dove at MIT-SYLVESTER>

    Date: Wednesday, 8 August 1984, 09:41-EDT
    From: Webster Dove <dove at MIT-SYLVESTER>
    To:   BUG-LISPM
    Re:   Pig protection

    In Release 5.1, Experimental MIT 1.5, on Lisp Machine Tweety Pie (3600):

    PIG apparently refuses to allow dired on the site directory or
    modification of files within it.  This is an unfortunate situation for a
    "beta test" site where changes are frequent.  It is also painful for
    people who are trying to maintain a system and want to add system and
    translation files.

    This was not the case a few weeks ago, why did it change?

Fixed. Try it again.
This message should have been sent to bug-pig.
 8-Aug-84 14:59:29-EDT,4662;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 8 Aug 84 14:57-EDT
Received: from SCRC-THAMES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 70010; Wed 8-Aug-84 12:33:11-EDT
Date: Wednesday, 8 August 1984, 12:33-EDT
From: Scott McKay <SWM at SCRC-QUABBIN>
Subject: Pig protection
To: dove at MIT-SYLVESTER, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 8 Aug 84 09:41-EDT from Webster Dove <dove at MIT-SYLVESTER>
Message-ID: <840808123303.1.SWM@THAMES.SCRC.Symbolics>

    Date: Wednesday, 8 August 1984, 09:41-EDT
    From: Webster Dove <dove at MIT-SYLVESTER>

    In Release 5.1, Experimental MIT 1.5, on Lisp Machine Tweety Pie (3600):

    PIG apparently refuses to allow dired on the site directory or
    modification of files within it.  This is an unfortunate situation for a
    "beta test" site where changes are frequent.  It is also painful for
    people who are trying to maintain a system and want to add system and
    translation files.

    This was not the case a few weeks ago, why did it change?

    >>Error: insufficient privilege or file protection violation
	     For PIG:USRD$:[S.R5.SITE]KBSP.SYD
    While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:OPEN-CHAOS  (:METHOD FS:QFILE-ACCESS-PATH :OPEN)

Someone has write protected the file against you.  You either need to
have more privs on Pig, or get someone to unprotect the file.

    (:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 231)
       Arg 0 (SELF): #<HOST-UNIT 465401>
       Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
       Arg 2 (OPERATION): :COMMAND
       Arg 3 (MARK-P): NIL
       Arg 4 (STREAM-OR-HANDLE): (:CREATE "O2045")
       Arg 5 (SIMPLE-P): NIL
       Arg 6 (WHOSTATE): "Open"
       Rest arg (COMMANDS): ("OPEN " :WRITE " " :CHARACTER "" "" "" "" "" "" ...)
       Local 8 (HANDLE): "O2045"
       Local 9 (STREAM): NIL
       Local 10 (PKT): #<Chaos Packet 22542012>
       Local 11 (SUCCESS): NIL
       Local 12 (STRING): "O2045 ERROR ATF C insufficient privilege or file protection violation"
       Local 13 (TRANSACTION-ID): "T2055"
       Local 14 (CREATE-P): T
       Local 15 (CONDITION): NIL

    FS:OPEN-CHAOS:  (P.C. = 643)
       Arg 0 (ACCESS-PATH): #<NORMAL-QFILE-ACCESS-PATH PIG using QFILE 465370>
       Arg 1 (REAL-PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
       Arg 2 (*COMMAND-PATHNAME*-initialization): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
       Arg 3 (OPTIONS): (:CHARACTERS T :DIRECTION :OUTPUT)

    (:METHOD FS:QFILE-ACCESS-PATH :OPEN):  (P.C. = 7)
       Arg 0 (SELF): #<NORMAL-QFILE-ACCESS-PATH PIG using QFILE 465370>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:QFILE-ACCESS-PATH -- 3. IV's, 0. FL's 37747636>
       Arg 2 (OPERATION): :OPEN
       Arg 3 (REAL-PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
       Arg 4 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
       Rest arg (OPTIONS): (:CHARACTERS T :DIRECTION :OUTPUT)

    (:METHOD FS:ACTIVE-PATHNAME-MIXIN :OPEN):  (P.C. = 14)
       Arg 0 (SELF): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 37613544>
       Arg 2 (OPERATION): :OPEN
       Arg 3 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
       Rest arg (OPTIONS): (:CHARACTERS T :DIRECTION :OUTPUT)

    FS:MACLISP-COMPATIBILITY-OPEN:  (P.C. = 362)
       Arg 0 (FILENAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
       Arg 1 (OPTIONS): (ZWEI:OUT)

    OPEN:  (P.C. = 252)
       Arg 0 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.SITE]KBSP.SYD">
       Rest arg (KEYWORD-ARGS): ((ZWEI:OUT))

    (:METHOD ZWEI:FILE-BUFFER-MIXIN :SAVE):  (P.C. = 44)
       Arg 0 (SELF): #<FILE-BUFFER "KBSP.SYD USRD$:[S.R5.SITE] PIG:" 41045755>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:FILE-BUFFER-MIXIN -- 9. IV's, 0. FL's 36271346>
       Arg 2 (OPERATION): :SAVE

    ZWEI:SAVE-BUFFER:  (P.C. = 203)
       Arg 0 (BUFFER): #<FILE-BUFFER "KBSP.SYD USRD$:[S.R5.SITE] PIG:" 41045755>

    Rest of stack:
    ZWEI:COM-SAVE-FILE:  (P.C. = 14)
    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
    ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:  (P.C. = 77)
    SYS:CALL-FUNNY-FUNCTION:  (P.C. = 101)
    Closure of ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:
    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
    ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
    (:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
    (:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
    ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 8-Aug-84 15:25:22-EDT,1189;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 8 Aug 84 15:24-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 69676; Tue 7-Aug-84 12:52:14-EDT
Date: Tue, 7 Aug 84 12:52 EDT
From: "(probably) David C. Plummer" <DCP@SCRC-RIVERSIDE.ARPA>
Subject: Is this a bug or a feature?
To: Dale Worley <DRW@MIT-MC.ARPA>, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: The message of 7 Aug 84 12:34-EDT from Dale Worley <DRW at MIT-MC>
Message-ID: <840807125200.8.NFEP@NEPONSET.SCRC.Symbolics>

    Date: 7 August 1984 12:34-EDT
    From: Dale Worley <DRW @ MIT-MC>

    The \, `, |, and BACK-SPACE keys on the symbolics lispm's seems to be
    rearranged in the lispm's mind.  Is this intentional?  And if so,
    why?????  It makes it a real pain in the ass to use, if you have to
    memorize where the odd characters are on the keyboard.

Please use the (BUG) function, or m-X Bug in either the editor or Zmail.
I don't know what software you are running.  My guess is that you are
running release 5 and you keyboard does not have the new keytops.
Complain to Customer Service.  In the meantime, do
(si:set-keyboard-layout nil) if you have the old keytops.
 8-Aug-84 15:27:14-EDT,1022;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 8 Aug 84 15:25-EDT
Received: from SCRC-THAMES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 69694; Tue 7-Aug-84 13:26:25-EDT
Date: Tue, 7 Aug 84 13:26 EDT
From: Scott McKay <SWM@SCRC-QUABBIN.ARPA>
Subject: Is this a bug or a feature?
To: DRW@MIT-MC.ARPA, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: The message of 7 Aug 84 12:34-EDT from Dale Worley <DRW at MIT-MC>
Message-ID: <840807132623.4.SWM@THAMES.SCRC.Symbolics>

    Date: 7 August 1984 12:34-EDT
    From: Dale Worley <DRW @ MIT-MC>

    The \, `, |, and BACK-SPACE keys on the symbolics lispm's seems to be
    rearranged in the lispm's mind.  Is this intentional?  And if so,
    why?????  It makes it a real pain in the ass to use, if you have to
    memorize where the odd characters are on the keyboard.

This is because some keys got shuffled to put FUNCTION in the upper left
instead of LOCAL, and so that the other keys were closer to the ANSI
standard.  Evaluate (si:set-keyboard-layout nil).
 8-Aug-84 15:28:39-EDT,1411;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 8 Aug 84 15:26-EDT
Received: from SCRC-WABASH by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 69796; Tue 7-Aug-84 22:23:16-EDT
Date: Tue, 7 Aug 84 22:22 EDT
From: Joseph R Goldstone <joseph@SCRC-QUABBIN.ARPA>
Subject: Is this a bug or a feature?
To: Dale Worley <DRW@MIT-MC.ARPA>
cc: bug-lispm@MIT-MC.ARPA
In-Reply-To: The message of 7 Aug 84 12:34-EDT from Dale Worley <DRW at MIT-MC>
Message-ID: <840807222249.1.JOSEPH@WABASH.SCRC.Symbolics>

    Date: 7 August 1984 12:34-EDT
    From: Dale Worley <DRW @ MIT-MC>

    The \, `, |, and BACK-SPACE keys on the symbolics lispm's seems to be
    rearranged in the lispm's mind.  Is this intentional?  And if so,
    why?????  It makes it a real pain in the ass to use, if you have to
    memorize where the odd characters are on the keyboard.

(si:set-keyboard-layout nil) will cure your problems.  Release 5 was shipped
with replacement keytops [see commentary on such in OZ's RUMORS archive.]
which apparently no one sought to replace on the keyboard you were using.

I don't know who is responsible for updating the keytops on the machine
you were using, since you sent your mail from MC instead of the LispM in
question.  Anyway, talk to the owner of the machine, I guess.  S/He should
have gotten the keytops around the same time as the Release 5 documentation,
tapes, etc. came in.
 9-Aug-84 02:18:49-EDT,3767;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 9 Aug 84 02:18-EDT
Date: 9 August 1984 02:15-EDT
From: Tim McNerney <TIM @ MIT-MC>
Subject:  Unable to send bug report using Zmail so Babyl will have to do...
To: BUG-LISPM @ MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on CHAOS|15310 (3600):

  Jus' tryin' to send a bug report...

>>Trap: The subscript given to the AR-1 instruction, :NAMESPACE, was not a fixnum.
While in the function SYS:%LEXPR-AREF  SYS:CALL-FUNNY-FUNCTION  "CHAOS|15310"

SYS:%LEXPR-AREF:  (P.C. = 20)
   Arg 0 (ARRAY): "CHAOS|15310"
   Arg 1 (INDICES): (:NAMESPACE)
   Local 2 (NDIMS): 1
   Local 3 (DATA-POINTER): NIL
   Local 4 (LINEAR-INDEX): NIL
   Local 5 (TYPE): NIL
   Local 6 (BITS-PER-ELEM): NIL
   Local 7 (ELEMS-PER-Q): NIL

SYS:CALL-FUNNY-FUNCTION:  (P.C. = 16)
   Arg 0 (FUNCTION): "CHAOS|15310"
   Rest arg (ARGS): (:NAMESPACE)

"CHAOS|15310":
   Arg 0: :NAMESPACE

(:METHOD NET:HOST :INTERNET-MAIL-NAME):  (P.C. = 16)
   Arg 0 (SELF): #<LISPM-HOST CHAOS|15310 16342776>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:HOST -- 5. IV's, 0. FL's 37756431>
   Arg 2 (OPERATION): :INTERNET-MAIL-NAME

ZWEI:SMTP-UNPARSE-HOST:  (P.C. = 4)
   Arg 0 (HOST): #<LISPM-HOST CHAOS|15310 16342776>

ZWEI:SMTP-MAILER:  (P.C. = 20)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (SMTP) -- MC on CHAOS 7514171>
   Arg 1 (CMD): "MAIL"
   Arg 2 (FROM): (:NAME "TIM" :HOST (:OBJECT #<LISPM-HOST CHAOS|15310 16342776>))
   Arg 3 (TO): ((:NAME "BUG-ZWEI" :HOST (:OBJECT #<TOPS20-HOST OZ 16642526>) :INTERVAL (("To: BUG-ZWEI at MIT-OZ" 4) ("To: BUG-ZWEI at MIT-OZ" 22))))
   Arg 4 (MESSAGE): "Date: Thursday, 9 August 1984, 02:02-EDT
From:  <TIM at MIT-MC>
Subject: Another incarnation of a previously reported bug
To: BUG-ZWEI at MIT-OZ

In ZWEI in Release 5.1, Experimental MIT 1.4, FEP 18, on CHAOS|15310 (3600):

For startling results, try this:

Place the cursor on a continuation line, and move this line close to top
of the window.  Then Bump the mouse against the bottom a number of times
to invoke flashy scrolling, and notice what happens when the line with the
cursor tries to go off the top...
"

ZWEI:SMTP-MAIL-INTERNAL:  (P.C. = 54)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (SMTP) -- MC on CHAOS 7514171>

ZWEI:INVOKE-SERVICE-STORE-AND-FORWARD-MAIL-WITH-SMTP:  (P.C. = 3)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (SMTP) -- MC on CHAOS 7514171>

Rest of stack:
NET:INVOKE-SERVICE-ACCESS-PATH:  (P.C. = 21)
ZWEI:INVOKE-MAIL-SERVICE:  (P.C. = 6)
ZWEI:NETWORK-SEND-IT-1:  (P.C. = 331)
ZWEI:NETWORK-SEND-IT:  (P.C. = 75)
ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
(:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 314)
(:METHOD ZWEI:DRAFT-MSG :COMBINED :TRANSMIT):  (P.C. = 25)
ZWEI:COM-SEND-MESSAGE:  (P.C. = 50)
ZWEI:COM-MAIL-END:  (P.C. = 4)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :EDIT):  (P.C. = 50)
ZWEI:ZMAIL-MAIL:  (P.C. = 75)
ZWEI:CONTINUE-DRAFT-MSG:  (P.C. = 21)
ZWEI:COMPOSE-VIA-DRAFT-MSG:  (P.C. = 5)
ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
ZWEI:COMPOSE-FROM-TEMPLATE:  (P.C. = 20)
ZWEI:COM-ZMAIL-MAIL:  (P.C. = 15)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 6)
(:INTERNAL ZWEI:ZMAIL-COMMAND-LIST 0):  (P.C. = 10)
ZWEI:ZMAIL-COMMAND-LIST:  (P.C. = 12)
(:METHOD ZWEI:ZMAIL-FRAME :PROCESS-SPECIAL-COMMAND):  (P.C. = 5)
(:METHOD ZWEI:ZMAIL-FRAME :COMMAND-LOOP):  (P.C. = 141)
(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP):  (P.C. = 47)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 52)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 9-Aug-84 21:04:37-EDT,2140;000000000000
Received: from MIT-ML by MIT-OZ via Chaosnet; 9 Aug 84 21:04-EDT
Date: Thursday, 9 August 1984, 20:59-EDT
From:  <CJL at MIT-PYGMALION>
Subject: Moving a lisp machine to another chaosnet address causes boot errors.
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

PI used to have chaosnet address 13010.  We moved PI to a new subnet,
and gave it a new chaosnet address 15314, which is the correct address
for the subnet it's on, and updated it's namespace object in the MIT
namespace to have this new correct address, yet this error still occurs
when booting it.  It still thinks it's 13010! Do we have to disk save
a new world load for booting on PI to convince it of it's new address?

>>Error: The host PI is not on the CHAOS network at 15314.
While in the function NETI:CHANGE-LOCAL-HOST  NETI:CHECK-LOCAL-HOST-IDENTITY  NETI:INITIALIZE-NAMESPACES-AND-NETWORK

NETI:CHANGE-LOCAL-HOST:  (P.C. = 137)
   Arg 0 (HOST): #<LISPM-HOST PI 17260303>
   Local 1: ("Skip changing the local host to ~A and make a standalone site instead." #<LISPM-HOST PI 17260303>)
   Local 2 (SITE): #<OBJECT SITE MIT 16622071>
   Local 3 (SITE-CHANGED): NIL
   Local 4: "Skip changing the local host to ~A and make a standalone site instead."
   Local 5: #<LISPM-HOST PI 17260303>
   Local 6: #<ERROR-RESTART-HANDLER 52743167>
   Local 7: #<DTP-LOCATIVE 1207705>
   Local 8: #<DTP-LOCATIVE 140064>
   Local 9: (#<ERROR-RESTART-HANDLER 52743167> #<DTP-LOCATIVE 1207705> #<DTP-LOCATIVE 140064>)
   Local 10: #<DTP-CLOSURE 140071>
   Local 11: NIL
   Local 12: (#<DTP-CLOSURE 140071>)
   Local 13: #<DTP-LOCATIVE 740016>
   Local 14: DBG:|If you throw to this tag, you deserve to lose.|
   Local 15: #<DTP-EVEN-PC 46503620>
   Local 16: #<DTP-LOCATIVE 740016>
   Local 17: #<DTP-LOCATIVE 140037>
   Local 18 (ADDRESS): "15314"
   Local 19 (NETWORK): :CHAOS

NETI:CHECK-LOCAL-HOST-IDENTITY:  (P.C. = 242)

NETI:INITIALIZE-NAMESPACES-AND-NETWORK:  (P.C. = 70)

LISP-REINITIALIZE:  (P.C. = 435)
   Arg 0 (CALLED-BY-USER): NIL

SI:LISP-TOP-LEVEL:  (P.C. = 3)
10-Aug-84 00:31:49-EDT,3670;000000000000
Received: from MIT-ML by MIT-OZ via Chaosnet; 10 Aug 84 00:31-EDT
Date: Friday, 10 August 1984, 00:28-EDT
From: David M. J. Saslav <saz at MIT-OZ>
Subject: vms/bin breakage
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, on Lisp Machine Robot-4 (3600):

trying to load this file off pig barfs. (pig:[bak.muzacs]cpt6mf.bin)
trying to unbin it barfs. Eeeerrrgggggggghhhhhhhhhhhhhhh!!!!

Also, the "unbin" canonical type does not have a 3-character vms value.

>>Error: !UL byte record too large for user's buffer
         For PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN
While in the function (:DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK)  (:DEFUN-METHOD FS:FILE-NEXT-READ-PKT)  (:METHOD FS:FILE-INPUT-STREAM-MIXIN :GET-NEXT-INPUT-PKT)

(:DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK):  (P.C. = 21)  (from PIG:USRD$:[S.R5.IO]QFILE)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN" 5553627>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 37733566>
   Arg 2 (PKT): #<Chaos Packet 22543330>
   Local 3 (STRING): "I2041 ERROR MSC F !UL byte record too large for user's buffer"

(:DEFUN-METHOD FS:FILE-NEXT-READ-PKT):  (P.C. = 67)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN" 5553627>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN -- 5. IV's, 1. FL's 37733575>
   Arg 2 (NO-HANG-P): NIL
   Arg 3 (FOR-SYNC-MARK-P): NIL

(:METHOD FS:FILE-INPUT-STREAM-MIXIN :GET-NEXT-INPUT-PKT):  (P.C. = 17)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN" 5553627>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN -- 5. IV's, 1. FL's 37733575>
   Arg 2 (OPERATION): :GET-NEXT-INPUT-PKT
   Arg 3 (NO-HANG-P): NIL

(:METHOD CHAOS:BINARY-INPUT-STREAM-MIXIN :NEXT-INPUT-BUFFER):  (P.C. = 6)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN" 5553627>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor CHAOS:BINARY-INPUT-STREAM-MIXIN -- 1. IV's, 0. FL's 37735250>
   Arg 2 (OPERATION): :NEXT-INPUT-BUFFER
   Arg 3 (NO-HANG-P): NIL

(:METHOD SI:BASIC-BUFFERED-INPUT-STREAM :SETUP-NEXT-INPUT-BUFFER):  (P.C. = 11)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN" 5553627>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM -- 3. IV's, 0. FL's 37735255>
   Arg 2 (OPERATION): :SETUP-NEXT-INPUT-BUFFER
   --Defaulted args:--
   Arg 3 (NO-HANG-P): NIL

(:METHOD FS:FILE-INPUT-BINARY-STREAM :COMBINED :SETUP-NEXT-INPUT-BUFFER):  (P.C. = 10)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN" 5553627>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-BINARY-STREAM -- 1. IV's, 7. FL's 37735263>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD SI:BASIC-BUFFERED-INPUT-STREAM :TYI):  (P.C. = 13)
   Arg 0 (SELF): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN" 5553627>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM -- 3. IV's, 0. FL's 37735255>
   Arg 2 (OPERATION): :TYI
   Arg 3 (EOF): "Unexpected end of file before logical end of binary data"

SI:BIN-NEXT-BYTE:  (P.C. = 5)
   Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN" 5553627>

Rest of stack:
SI:BIN-LOAD-START:  (P.C. = 4)
SI:UNBIN-FILE:  (P.C. = 74)
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL2:  (P.C. = 5)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
10-Aug-84 09:13:40-EDT,979;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 10 Aug 84 09:13-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 70430; Fri 10-Aug-84 09:11:16-EDT
Date: Friday, 10 August 1984, 09:11-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Unable to send bug report using Zmail so Babyl will have to do...
To: Tim McNerney <TIM at MIT-MC>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 9 Aug 84 02:15-EDT from Tim McNerney <TIM at MIT-MC>
Message-ID: <840810091101.2.HORNIG@PEACE.SCRC.Symbolics>

    Date: 9 August 1984 02:15-EDT
    From: Tim McNerney <TIM @ MIT-MC>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on CHAOS|15310 (3600):

      Jus' tryin' to send a bug report...

    >>Trap: The subscript given to the AR-1 instruction, :NAMESPACE, was not a fixnum.
    While in the function SYS:%LEXPR-AREF  SYS:CALL-FUNNY-FUNCTION  "CHAOS|15310"

This will be fixed in the next release of the system.
10-Aug-84 10:54:38-EDT,1409;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 10 Aug 84 10:54-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 70335; Fri 10-Aug-84 10:50:37-EDT
Date: Friday, 10 August 1984, 10:51-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: vms/bin breakage
To: David M. J. Saslav <saz at MIT-OZ>, Bug-PIG at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 10 Aug 84 00:28-EDT from David M. J. Saslav <saz at MIT-OZ>
Message-ID: <840810105108.5.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 10 August 1984, 00:28-EDT
    From: David M. J. Saslav <saz at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, on Lisp Machine Robot-4 (3600):

    trying to load this file off pig barfs. (pig:[bak.muzacs]cpt6mf.bin)
    trying to unbin it barfs. Eeeerrrgggggggghhhhhhhhhhhhhhh!!!!

    Also, the "unbin" canonical type does not have a 3-character vms value.

    >>Error: !UL byte record too large for user's buffer
	     For PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN
    While in the function (:DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK)  (:DEFUN-METHOD FS:FILE-NEXT-READ-PKT)  (:METHOD FS:FILE-INPUT-STREAM-MIXIN :GET-NEXT-INPUT-PKT)

I get this same error just trying to do the same thing and trying to do
a VIEWF.  Therefore, I don't think this is a LispM bug, but is either a
PIG bug or a VMS bug, so I am sending this to Bug-PIG.
11-Aug-84 15:36:37-EDT,2512;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 11 Aug 84 15:36-EDT
Date: Saturday, 11 August 1984, 15:31-EDT
From: David M. J. Saslav <saz at MIT-OZ>
Subject: zmacs lossage
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine John Lennon (3600):

Upon hitting a RUB OUT key after finding that my cursor was blinking on the
line following where I had just mouse-clicked...YOW!

>>Error: The negative array length -1. is illegal.
While in the function MAKE-ARRAY  ZWEI:INSERT-CHARS  ZWEI:TAB-CONVERT

MAKE-ARRAY:  (P.C. = 300)
   Arg 0 (DIMENSIONS): -1.
   Rest arg (OPTIONS): (:TYPE ART-STRING)
   Local 2 (AREA): 4.
   Local 3 (TYPE): ART-STRING
   Local 4 (LEADER-LIST): NIL
   Local 5 (LEADER-LENGTH): NIL
   Local 6 (DISPLACED-TO): NIL
   Local 7 (DISPLACED-INDEX-OFFSET): NIL
   Local 8 (NAMED-STRUCTURE-SYMBOL): NIL
   Local 9 (DISPLACED-CONFORMALLY): NIL
   Local 10 (DISPATCH): NIL
   Local 11 (N-HEADER-WORDS): NIL
   Local 12 (N-ELEMS): NIL
   Local 13 (ARRAY): NIL
   Local 14 (INDEX-P): NIL
   Local 15 (Q-P): NIL
   Local 16 (N-WORDS): NIL
   Local 17 (N-DIMS): NIL
   Local 18 (TOTAL-SIZE): NIL
   Local 19 (INITIAL-VALUE): NIL
   Local 20 (FILL-POINTER): NIL

ZWEI:INSERT-CHARS:  (P.C. = 14)
   Arg 0 (BP): ("						;         		      compile for this self!***** " 51.)
   Arg 1 (CHAR): 32.
   Arg 2 (N): -1.

ZWEI:TAB-CONVERT:  (P.C. = 31)
   Arg 0 (BP-BEFORE): ("						;         		      compile for this self!***** " 51.)
   Arg 1 (BP-AFTER): ("						;         		      compile for this self!***** " 52.)

ZWEI:DELETE-CHARS-CONVERTING-TABS:  (P.C. = 114)
   Arg 0 (POINT): ("						;         		      compile for this self!***** " 52. :NORMAL)
   Arg 1 (COUNT): -1.

ZWEI:COM-TAB-HACKING-RUBOUT:  (P.C. = 6)

ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
   Arg 0 (COMMAND): ZWEI:COM-TAB-HACKING-RUBOUT
   Arg 1 (CHAR): 135.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): (ZWEI:FONT-LOCK-HOOK)

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
   Arg 0 (CH): 135.

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 20536500>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 36267035>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T
   Arg 4 (DESCRIPTION): NIL

Rest of stack:
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
12-Aug-84 06:26:21-EDT,1833;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 12 Aug 84 06:26-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 70489; Sat 11-Aug-84 20:22:43-EDT
Date: Saturday, 11 August 1984, 20:23-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: zmacs lossage
To: David M. J. Saslav <saz at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 11 Aug 84 15:31-EDT from David M. J. Saslav <saz at MIT-OZ>
Message-ID: <840811202344.0.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 11 August 1984, 15:31-EDT
    From: David M. J. Saslav <saz at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine John Lennon (3600):

    Upon hitting a RUB OUT key after finding that my cursor was blinking on the
    line following where I had just mouse-clicked...YOW!

    >>Error: The negative array length -1. is illegal.
    While in the function MAKE-ARRAY  ZWEI:INSERT-CHARS  ZWEI:TAB-CONVERT

    MAKE-ARRAY:  (P.C. = 300)
       Arg 0 (DIMENSIONS): -1.
       Rest arg (OPTIONS): (:TYPE ART-STRING)

	...

    ZWEI:DELETE-CHARS-CONVERTING-TABS:  (P.C. = 114)
       Arg 0 (POINT): ("						;         		      compile for this self!***** " 52. :NORMAL)
       Arg 1 (COUNT): -1.

	...

I can't reproduce this in the development system.  This could be because
whatever the bug was was fixed.  It could be because I didn't know
exeactly what to try to reproduce.  I took the BP indicate in the above
function, tossed it in a lisp mode zmacs buffer, went 52 characters
forward, and hit rubout.  Nothing strange happened.  I also tried
deleting the various rubouts at the begining and middle of the line.

There were a few bugs that caused an error somewhat like this, but it
had to do with auto fill mode with a non-null fill prefix.
12-Aug-84 13:40:51-EDT,1437;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 12 Aug 84 13:40-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 70804; Sun 12-Aug-84 13:34:36-EDT
Date: Sunday, 12 August 1984, 13:33-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: inspecting a hash table array
To: Steven C. Bagley <bagley at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 1 Aug 84 14:37-EDT from Steven C. Bagley <bagley at MIT-OZ>
Message-ID: <840812133331.7.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Wednesday, 1 August 1984, 14:37-EDT
    From: Steven C. Bagley <bagley at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

    I inspected a hash table, and then clicked its hash-array.  It printed
    the first element, and then blew out.

    >>Trap: The word #<DTP-NULL 0> was read from location 33417760 (in WORKING-STORAGE-AREA).
    While in the function TV:INSPECT-ARRAY-PRINTER  (:METHOD TV:FUNCTION-TEXT-SCROLL-WINDOW :PRINT-ITEM)  (:METHOD TV:INSPECT-PANE-WITH-TYPEOUT :COMBINED :PRINT-ITEM)

Opus Symbolica, Release 5.0 Release Notes, RN 9.1.6, titled "Inspecting hash
arrays of eq hash tables not permitted":

 "You cannot inspect the hash array of an eq hash table.  Trying to do so is
  likely to signal an error."

Still broken in Release 5.2 (coming to stores near you soon).
Fixed, however, in Release 6.
12-Aug-84 14:40:48-EDT,1446;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 12 Aug 84 14:40-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 70822; Sun 12-Aug-84 14:36:25-EDT
Date: Sunday, 12 August 1984, 14:35-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Moving a lisp machine to another chaosnet address causes boot errors.
To: CJL at MIT-PYGMALION
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 9 Aug 84 20:59-EDT from CJL at MIT-PYGMALION
Message-ID: <840812143522.5.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Thursday, 9 August 1984, 20:59-EDT
    From:  <CJL at MIT-PYGMALION>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

    PI used to have chaosnet address 13010.  We moved PI to a new subnet,
    and gave it a new chaosnet address 15314, which is the correct address
    for the subnet it's on, and updated it's namespace object in the MIT
    namespace to have this new correct address, yet this error still occurs
    when booting it.  It still thinks it's 13010! Do we have to disk save
    a new world load for booting on PI to convince it of it's new address?

    >>Error: The host PI is not on the CHAOS network at 15314.

The value of the variable chaos:*brd-history* will probably tell you the identity
(as a Chaosnet address) of the namespace server that had not yet received up to
date information on PI's new chaosnet address.
12-Aug-84 21:44:49-EDT,3547;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 12 Aug 84 21:43-EDT
Date: Sunday, 12 August 1984, 21:30-EDT
From: David Rogers <DROGERS at MIT-OZ>
Subject: moby namespace server connections
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Keith Moon (3600):

After typing a (si:full-gc :system-release T), the machine started to poll LM15 about twice
a second. I counted at least 40 connects to LM15 before I broke in. It seems that if one
plans a series of namespace requests, there shold be some way to keep connected rather
than to have to connect hundreds of times?

>>Break: 
While in the function PROCESS-WAIT  CHAOS:GET-NEXT-PKT  (:METHOD CHAOS:BASIC-INPUT-STREAM :GET-NEXT-INPUT-PKT)

PROCESS-WAIT:
   Arg 0 (WHOSTATE): "Net In"
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL CHAOS:GET-NEXT-PKT 0) 46606144>
   Rest arg (ARGUMENTS): (#<CHAOS Connection for NAMESPACE to MIT|LM15 16666746> #<DTP-LOCATIVE 6557167>)

CHAOS:GET-NEXT-PKT:  (P.C. = 166)
   Arg 0 (CONN): #<CHAOS Connection for NAMESPACE to MIT|LM15 16666746>
   Arg 1 (NO-HANG-P): NIL
   Arg 2 (STREAM): #<CHARACTER-STREAM 6557163>

(:METHOD CHAOS:BASIC-INPUT-STREAM :GET-NEXT-INPUT-PKT):  (P.C. = 53)
   Arg 0 (SELF): #<CHARACTER-STREAM 6557163>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor CHAOS:BASIC-INPUT-STREAM -- 2. IV's, 0. FL's 37413153>
   Arg 2 (OPERATION): :GET-NEXT-INPUT-PKT
   Arg 3 (NO-HANG-P): NIL

(:METHOD CHAOS:CHARACTER-INPUT-STREAM-MIXIN :NEXT-INPUT-BUFFER):  (P.C. = 6)
   Arg 0 (SELF): #<CHARACTER-STREAM 6557163>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor CHAOS:CHARACTER-INPUT-STREAM-MIXIN -- 1. IV's, 0. FL's 37414065>
   Arg 2 (OPERATION): :NEXT-INPUT-BUFFER
   Arg 3 (NO-HANG-P): NIL

(:METHOD SI:BASIC-BUFFERED-INPUT-STREAM :SETUP-NEXT-INPUT-BUFFER):  (P.C. = 11)
   Arg 0 (SELF): #<CHARACTER-STREAM 6557163>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM -- 3. IV's, 0. FL's 37414035>
   Arg 2 (OPERATION): :SETUP-NEXT-INPUT-BUFFER
   --Defaulted args:--
   Arg 3 (NO-HANG-P): NIL

(:METHOD CHAOS:CHARACTER-STREAM :COMBINED :SETUP-NEXT-INPUT-BUFFER):  (P.C. = 10)
   Arg 0 (SELF): #<CHARACTER-STREAM 6557163>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor CHAOS:CHARACTER-STREAM -- 0. IV's, 9. FL's 37414050>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD SI:BUFFERED-LINE-INPUT-STREAM :STRING-LINE-IN):  (P.C. = 22)
   Arg 0 (SELF): #<CHARACTER-STREAM 6557163>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BUFFERED-LINE-INPUT-STREAM -- 3. IV's, 0. FL's 37413167>
   Arg 2 (OPERATION): :STRING-LINE-IN
   Arg 3 (EOF): NIL
   Arg 4 (LINE): "PROTOCOL-VERSION 2MTPTCP SMTP87ME0\/"))/"BNET-ROUTING /"((\/"18.0.0."
   --Defaulted args:--
   Arg 5 (START): 0
   Arg 6 (END): 100

NETI:PARSE-RECORD-AS-TOKENS:  (P.C. = 32)
   Arg 0 (STREAM): #<CHARACTER-STREAM 6557163>
   Arg 1 (COMMENTS-P): T

Rest of stack:
NETI:PARSE-RECORD-AS-TOKENS-WITH-TIMEOUT:  (P.C. = 23)
NETI:QUERY-NAMESPACE-SERVER:  (P.C. = 341)
NETI:FIND-OBJECT-NAMED-IN-NAMESPACE:  (P.C. = 205)
(:METHOD NETI:NAME :SHADOWED-P):  (P.C. = 34)
NETI:GET-LOCAL-HOST-LISTS:  (P.C. = 103)
SI:*EVAL:  (P.C. = 370)
INITIALIZATIONS:  (P.C. = 42)
NETI:ENSURE-PROPERTY-LISTS-ENCACHED:  (P.C. = 61)
SI:FULL-GC:  (P.C. = 12)
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL2:  (P.C. = 5)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
13-Aug-84 10:27:55-EDT,1333;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Aug 84 10:26-EDT
Received: from SCRC-MERRIMACK by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71125; Mon 13-Aug-84 10:24:06-EDT
Date: Monday, 13 August 1984, 10:22-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: moby namespace server connections
To: David Rogers <DROGERS at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 12 Aug 84 21:30-EDT from David Rogers <DROGERS at MIT-OZ>
Message-ID: <840813102247.5.HORNIG@MERRIMACK.SCRC.Symbolics>

    Date: Sunday, 12 August 1984, 21:30-EDT
    From: David Rogers <DROGERS at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Keith Moon (3600):

    After typing a (si:full-gc :system-release T), the machine started to poll LM15 about twice
    a second. I counted at least 40 connects to LM15 before I broke in. It seems that if one
    plans a series of namespace requests, there shold be some way to keep connected rather
    than to have to connect hundreds of times?

    >>Break: 
    While in the function PROCESS-WAIT  CHAOS:GET-NEXT-PKT  (:METHOD CHAOS:BASIC-INPUT-STREAM :GET-NEXT-INPUT-PKT)

There is such a mechanism.  Somehow it isn't working.  That whole part
of the system has been completely reimplemented in the next major
release.
13-Aug-84 10:58:25-EDT,1509;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Aug 84 10:57-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71139; Mon 13-Aug-84 10:46:55-EDT
Date: Monday, 13 August 1984, 10:45-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: moby namespace server connections
To: David Rogers <DROGERS at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 12 Aug 84 21:30-EDT from David Rogers <DROGERS at MIT-OZ>
Message-ID: <840813104541.3.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 12 August 1984, 21:30-EDT
    From: David Rogers <DROGERS at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Keith Moon (3600):

    After typing a (si:full-gc :system-release T), 
I assume you have good reason to do this measure which is drastic and
discouraged, and is documented as so.  I.e., I assume you are releasing
a system.  (I just have to make sure; too many people abose
:system-release T.)
    the machine started to poll LM15 about twice
    a second. I counted at least 40 connects to LM15 before I broke in. It seems that if one
    plans a series of namespace requests, there shold be some way to keep connected rather
    than to have to connect hundreds of times?

    NETI:ENSURE-PROPERTY-LISTS-ENCACHED:  (P.C. = 61)
    SI:FULL-GC:  (P.C. = 12)

As far as I can tell from the source, it tries to keep the namespace
server.  But then again, the source has changed a dozen or so times.
13-Aug-84 13:39:52-EDT,3517;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Aug 84 13:39-EDT
Date: Monday, 13 August 1984, 13:34-EDT
From:  <ROLY at MIT-JOE-LOUIS>
Subject: Mail lossage on TCP beta-test site Minnie Mouse
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.5, Experimental IP-TCP 12.1,
Experimental Boxer 4.0, FEP 18, on CHAOS|15311 (3600):

Any way that I tried to send mail from Minnie I got this error (or one
that was similar). I booted the machine to make sure nothing was
accidentally redefined, and still got it. I eventually sent this mail
from Joe Louis (a non-TCP machine).

I was unable to load patches (from "Tweety-Pie") so I'm not sure that
this error hasn't been fixed.

Maybe you can tell what went wrong from this back trace.



>>Trap: The subscript given to the AR-1 instruction, :NAMESPACE, was not a fixnum.
While in the function SYS:%LEXPR-AREF  SYS:CALL-FUNNY-FUNCTION  "CHAOS|15311"

SYS:%LEXPR-AREF:  (P.C. = 20)
   Arg 0 (ARRAY): "CHAOS|15311"
   Arg 1 (INDICES): (:NAMESPACE)
   Local 2 (NDIMS): 1.
   Local 3 (DATA-POINTER): NIL
   Local 4 (LINEAR-INDEX): NIL
   Local 5 (TYPE): NIL
   Local 6 (BITS-PER-ELEM): NIL
   Local 7 (ELEMS-PER-Q): NIL

SYS:CALL-FUNNY-FUNCTION:  (P.C. = 16)
   Arg 0 (FUNCTION): "CHAOS|15311"
   Rest arg (ARGS): (:NAMESPACE)

"CHAOS|15311":
   Arg 0: :NAMESPACE

(:METHOD NET:HOST :INTERNET-MAIL-NAME):  (P.C. = 16)
   Arg 0 (SELF): #<LISPM-HOST CHAOS|15311 16352127>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:HOST -- 5. IV's, 0. FL's 37756431>
   Arg 2 (OPERATION): :INTERNET-MAIL-NAME

ZWEI:SMTP-UNPARSE-HOST:  (P.C. = 4)
   Arg 0 (HOST): #<LISPM-HOST CHAOS|15311 16352127>

ZWEI:SMTP-MAILER:  (P.C. = 20)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (SMTP) -- MC on CHAOS 25607711>
   Arg 1 (CMD): "MAIL"
   Arg 2 (FROM): (:NAME "Roly" :HOST (:OBJECT #<LISPM-HOST CHAOS|15311 16352127>))
   Arg 3 (TO): ((:NAME "ehl" :HOST (:OBJECT #<TOPS20-HOST OZ 16642526>) :INTERVAL (("To: ehl@oz" 4.) ("To: ehl@oz" 10.))))
   Arg 4 (MESSAGE): "Date: Monday, 13 August 1984, 12:41-EDT
From: Roland Ouellette <Roly at MIT-MC>
Subject: bug
To: ehl at MIT-OZ

You probably already know that the dumper won't load in the experimental
system, but I thought I'd tell you anyway to make sure you knew. It
complains when it tries to load the methods to dump turtle boxes because
turtle boxes haven't been defflavored. You probably just need to axe
those defmethods and things will work out.

				-Roland
"

ZWEI:SMTP-MAIL-INTERNAL:  (P.C. = 54)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (SMTP) -- MC on CHAOS 25607711>

ZWEI:INVOKE-SERVICE-STORE-AND-FORWARD-MAIL-WITH-SMTP:  (P.C. = 3)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (SMTP) -- MC on CHAOS 25607711>

Rest of stack:
NET:INVOKE-SERVICE-ACCESS-PATH:  (P.C. = 21)
ZWEI:INVOKE-MAIL-SERVICE:  (P.C. = 6)
ZWEI:NETWORK-SEND-IT-1:  (P.C. = 331)
ZWEI:NETWORK-SEND-IT:  (P.C. = 75)
ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
(:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 314)
(:METHOD ZWEI:ZMACS-DRAFT-MSG :COMBINED :TRANSMIT):  (P.C. = 20)
ZWEI:SEND-MESSAGE:  (P.C. = 24)
ZWEI:COM-EXIT-COM-MAIL:  (P.C. = 26)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
13-Aug-84 18:28:34-EDT,929;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Aug 84 18:28-EDT
Date: Monday, 13 August 1984, 18:22-EDT
From: Ramin D. Zabih <RDZ at MIT-MC>
Subject: &optional &key &allow-other-keys &rest
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Keith Moon (3600):

If you define a function with argument list
(ARG &OPTIONAL &KEY &ALLOW-OTHER-KEYS KEY1 KEY2 &REST REST) 
then call it in the interpreter, supplying the optional key args and
some additional args, the &rest arg will end up NIL.  If you compile the
function, however, it will work.
For example:

(defun foo (arg &optional &key &allow-other-keys key1 key2 &rest rest)
  (format t "~&arg ~s key1 ~s key2 ~s rest ~s" arg key1 key2 rest))

(foo 1 :key1 2 :key2 3 :bar :baz) ==> arg 1 key1 2 key2 3 rest NIL
(compile 'foo) 
(foo 1 :key1 2 :key2 3 :bar :baz) ==> 
arg 1 key1 2 key2 3 rest (:key1 2 :key2 3 :bar :baz)
13-Aug-84 18:34:23-EDT,3636;000000000000
Received: from MIT-LISPM-2 by MIT-OZ via Chaosnet; 13 Aug 84 18:32-EDT
Date: Monday, 13 August 1984, 18:31-EDT
From:  <drogers at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 98.67, CADR 3.8, ZMail 53.18, MIT-Specific 22.2, microcode 309,
gc@36, on Lisp Machine Two:


Insert your description of the circumstances here:

ZMACS demanded I log in to write out a file. I already was logged in
(it had previously done this to me) but I consented to repeat this and
got this error.

>>ERROR: Job is already logged in (at 6664 inside FILE server)
Backtrace from the debugger:

FS:LOGIN-HOST-UNIT (P.C. = 775)

 Arg 0 (UNIT): #<HOST-UNIT 7707644>
 Arg 1 (LOGIN-P): T
 Arg 2 (UNAME-HOST): #FS:TOPS20-CHAOS-HOST "MIT-OZ"
Local 0 (HOST): #FS:TOPS20-CHAOS-HOST "MIT-OZ"
Local 1 (CONN): #<CHAOS Connection to MIT-OZ FILE 1 4031003>
Local 2 (SUCCESS): NIL
Local 3 (PKT): #<CHAOS packet. PKT-STRING "T1526  ERROR BUG F Job is already logged in (at 6664 inside FILE server)" PKT-STATUS CHAOS:RELEASED 3655304>
Local 4 (ENABLE-CAPABILITIES): NIL
Local 5 (ID): "T1526"
Local 6 (PASSWORD): "333chris"
Local 7 (ACCOUNT): ""
Local 8 (NEED-PASSWORD): NIL
Local 9 (NEW-USER-ID): "drogers"
Local 10 (NID): NIL
Local 11 (CONN1): NIL
Local 12: ((FS:LOGIN-PROBLEMS SI:CONDITION-CASE-THROW G1964))
Local 13: (FS:LOGIN-PROBLEMS SI:CONDITION-CASE-THROW G1964)
Local 14 (CONN1): NIL
Local 15 (*SELECTQ-ITEM*): NIL
Local 16 (STR): " ERROR BUG F Job is already logged in (at 6664 inside FILE server)"
Local 17 (IDX): NIL
Local 18 (HSNAME-PATHNAME): NIL
Local 19 (PERSONAL-NAME): NIL
Local 20 (GROUP): NIL
Local 21 (PERSONAL-NAME-1): NIL
Local 22 (ITEM): NIL
Local 23 (ALIST-ELEMENT): NIL


(:METHOD FS:FILE-HOST-TOPS20-MIXIN :LOGIN-UNIT) (P.C. = 50)
  (SELF is #FS:TOPS20-CHAOS-HOST "MIT-OZ")

 Arg 0 (OPERATION): :LOGIN-UNIT
 Arg 1 (UNIT): #<HOST-UNIT 7707644>
 Arg 2 (LOGIN-P): T
Local 0 (CONN): #<CHAOS Connection to MIT-OZ FILE 1 4031003>


FS:FILE-LOGIN (P.C. = 52)

 Arg 0 (LOGIN-P): T
Local 0: (#FS:TOPS20-CHAOS-HOST "MIT-OZ" #FS:TOPS20-CHAOS-HOST "MIT-XX" #FS:ITS-CHAOS-HOST "MIT-MC")
Local 1 (HOST): #FS:TOPS20-CHAOS-HOST "MIT-OZ"
Local 2: (#<HOST-UNIT 7707644>)
Local 3 (UNIT): #<HOST-UNIT 7707644>


SI:EVAL1 (P.C. = 1324)

 Arg 0 (FORM): (FS:FILE-LOGIN T)
   --Defaulted args:--
 Arg 1 (NOHOOK): NIL
Local 0 (ARGNUM): 1
Local 1 (TEM): NIL
Local 2 (ENV): NIL
Local 3 (TAIL): NIL
Local 4 (FCTN): #<DTP-FEF-POINTER FS:FILE-LOGIN 11301576>
Local 5 (ARG-DESC): 101
Local 6 (NUM-ARGS): 1
Local 7 (CLOSURE-PASSED): NIL
Local 8 (LAMBDA-LIST): NIL
Local 9 (LL): NIL
Local 10 (QUOTE-STATUS): NIL
Local 11 (REST-FLAG): NIL
Local 12 (ARGL): NIL
Local 13: NIL
Local 14: NIL
Local 15 (IGNORE): NIL
Local 16 (ADL): NIL
Local 17 (ITEM): NIL
Local 18 (*SELECTQ-ITEM*): NIL


EVAL (P.C. = 62)

 Arg 0 (FORM): (FS:FILE-LOGIN T)
   --Defaulted args:--
 Arg 1 (NOHOOK): NIL
Local 0 (TEM): NIL


Remainder of stack:

INITIALIZATIONS (P.C. = 135)
LOGIN (P.C. = 155)
FS:FORCE-USER-TO-LOGIN (P.C. = 173)
OPEN (P.C. = 153)
ZWEI:SAVE-BUFFER (P.C. = 112)
ZWEI:COM-SAVE-FILE (P.C. = 61)
ZWEI:COMMAND-EXECUTE (P.C. = 115)
ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL (P.C. = 72)
ZWEI:COMMAND-EXECUTE (P.C. = 115)
ZWEI:PROCESS-COMMAND-CHAR (P.C. = 65)
(:METHOD ZWEI:WINDOW :EDIT) (P.C. = 464)
(:INTERNAL (:METHOD ZWEI:ZMACS-WINDOW :COMBINED :EDIT) 0) (P.C. = 74)
FUNCALL (P.C. = 25)
(:METHOD ZWEI:DISPLAYER :AROUND :EDIT) (P.C. = 31)
(:METHOD ZWEI:ZMACS-WINDOW :COMBINED :EDIT) (P.C. = 47)
ZWEI:ZMACS-WINDOW-TOP-LEVEL (P.C. = 46)
SI:PROCESS-TOP-LEVEL (P.C. = 152)
13-Aug-84 20:06:16-EDT,1993;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 13 Aug 84 20:05-EDT
Received: from SCRC-NEPONSET by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 19522; Mon 13-Aug-84 20:03:47-EDT
Date: Monday, 13 August 1984, 20:03-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: &optional &key &allow-other-keys &rest
To: Ramin D. Zabih <RDZ at MIT-MC>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Aug 84 18:22-EDT from Ramin D. Zabih <RDZ at MIT-MC>
Message-ID: <840813200336.3.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 13 August 1984, 18:22-EDT
    From: Ramin D. Zabih <RDZ at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Keith Moon (3600):

    If you define a function with argument list
    (ARG &OPTIONAL &KEY &ALLOW-OTHER-KEYS KEY1 KEY2 &REST REST) 
    then call it in the interpreter, supplying the optional key args and
    some additional args, the &rest arg will end up NIL.  If you compile the
    function, however, it will work.
    For example:

    (defun foo (arg &optional &key &allow-other-keys key1 key2 &rest rest)
      (format t "~&arg ~s key1 ~s key2 ~s rest ~s" arg key1 key2 rest))

    (foo 1 :key1 2 :key2 3 :bar :baz) ==> arg 1 key1 2 key2 3 rest NIL
    (compile 'foo) 
    (foo 1 :key1 2 :key2 3 :bar :baz) ==> 
    arg 1 key1 2 key2 3 rest (:key1 2 :key2 3 :bar :baz)

For an even better joke, try (interpretted).
	(defun foo (&rest &rest a) a)
	(foo 1)
What this really means is that I've looked at SI:APPLY-LAMBDA long
enough to decide I shouldn't touch it.  At least, I shouldn't touch it
directly after dinner.  Maybe I'll take a copy of it home tonight and
figure out how to satisfy this comment at the front of the function:
	;[Someone should rewrite this function in an acceptable style.]
If I'm lucky, Moon will tell me not to waste my time because it will be
fixed by Common Lisp.  If I'm unlucky, he'll add that the Common Lisp
version also needs writing.
13-Aug-84 20:30:00-EDT,635;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Aug 84 20:29-EDT
Date: Monday, 13 August 1984, 20:26-EDT
From:  <ROLY at MIT-JOE-LOUIS>
Subject: musical lispms
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Experimental Boxer 4.0, on Lisp Machine Buddy Holly (3600):

This is NOT from BUDDY.  this machine is supposed to be JOE-LOUIS.

chaos:my-address returns 30020 (octal) which is the right address for
JOE-LOUIS according to net:get-host-from-address.

chaos:*brd-history* returns (("WHO-AM-I" 12293.) ("TIME" 12293.))
which net:get-host-from-address says is CHERRY.

What is going on here ??????
13-Aug-84 21:01:32-EDT,1748;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 13 Aug 84 21:01-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 71045; Mon 13-Aug-84 20:57:39-EDT
Date: Monday, 13 August 1984, 20:57-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: musical lispms
To: ROLY at MIT-JOE-LOUIS, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Aug 84 20:26-EDT from ROLY at MIT-JOE-LOUIS
Message-ID: <840813205743.8.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 13 August 1984, 20:26-EDT
    From:  <ROLY at MIT-JOE-LOUIS>

    In Release 5.1, Experimental MIT 1.4, Experimental Boxer 4.0, on Lisp Machine Buddy Holly (3600):

    This is NOT from BUDDY.  this machine is supposed to be JOE-LOUIS.

    chaos:my-address returns 30020 (octal) which is the right address for
    JOE-LOUIS according to net:get-host-from-address.

    chaos:*brd-history* returns (("WHO-AM-I" 12293.) ("TIME" 12293.))
    which net:get-host-from-address says is CHERRY.

    What is going on here ??????

I'm stumped.  CHERRY thinks that 30020 is indeed Joe Louis, and that
Buddy is on a completely different subnet (13053).  The full header of
your message:
    Return-path: <ROLY@MIT-JOE-LOUIS>
    Received: from SCRC-STONY-BROOK by SCRC-TENEX with CHAOS; Mon 13-Aug-84 20:28:39-EDT
    Received: from MIT-OZ by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71544; Mon 13-Aug-84 20:29:46-EDT
    Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Aug 84 20:29-EDT
    Date: Monday, 13 August 1984, 20:26-EDT
    From:  <ROLY at MIT-JOE-LOUIS>
    Subject: musical lispms
    To: BUG-LISPM at MIT-OZ

Implies that the machine really does think it is is Joe-Louis.  Is this
at all reproducible?
13-Aug-84 21:11:44-EDT,1399;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Aug 84 21:11-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71557; Mon 13-Aug-84 21:10:17-EDT
Date: Monday, 13 August 1984, 21:08-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: musical lispms
To: ROLY at MIT-JOE-LOUIS, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Aug 84 20:26-EDT from ROLY at MIT-JOE-LOUIS
Message-ID: <840813210852.1.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Monday, 13 August 1984, 20:26-EDT
    From:  <ROLY at MIT-JOE-LOUIS>

    In Release 5.1, Experimental MIT 1.4, Experimental Boxer 4.0, on Lisp Machine Buddy Holly (3600):

    This is NOT from BUDDY.  this machine is supposed to be JOE-LOUIS.

    chaos:my-address returns 30020 (octal) which is the right address for
    JOE-LOUIS according to net:get-host-from-address.

    chaos:*brd-history* returns (("WHO-AM-I" 12293.) ("TIME" 12293.))
    which net:get-host-from-address says is CHERRY.

    What is going on here ??????

Your machine think's it's Buddy Holly until it's completely booted, since
the world you are running was built on Buddy, and it's going to assume
that it's still Buddy until someone tells it otherwise.  Did you let it
finish booting, or did you abort out (before the information from Cherry
that it wasn't Buddy, but really Joe Louis, had sunk in)?
13-Aug-84 21:12:44-EDT,1451;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Aug 84 21:12-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71558; Mon 13-Aug-84 21:11:12-EDT
Date: Monday, 13 August 1984, 21:09-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: musical lispms
To: ROLY at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Aug 84 20:26-EDT from ROLY at MIT-JOE-LOUIS
Supersedes: <840813210852.1.JOSEPH@HARLEM.SCRC.Symbolics>
Message-ID: <840813210947.2.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Monday, 13 August 1984, 20:26-EDT
    From:  <ROLY at MIT-JOE-LOUIS>

    In Release 5.1, Experimental MIT 1.4, Experimental Boxer 4.0, on Lisp Machine Buddy Holly (3600):

    This is NOT from BUDDY.  this machine is supposed to be JOE-LOUIS.

    chaos:my-address returns 30020 (octal) which is the right address for
    JOE-LOUIS according to net:get-host-from-address.

    chaos:*brd-history* returns (("WHO-AM-I" 12293.) ("TIME" 12293.))
    which net:get-host-from-address says is CHERRY.

    What is going on here ??????

Your machine think's it's Buddy Holly until it's completely booted, since
the world you are running was built on Buddy, and it's going to assume
that it's still Buddy until someone tells it otherwise.  Did you let it
finish booting, or did you abort out (before the information from Cherry
that it wasn't Buddy, but really Joe Louis, had sunk in)?
14-Aug-84 08:36:28-EDT,3839;000000000000
Received: from MIT-EECS by MIT-OZ via Chaosnet; 14 Aug 84 08:36-EDT
Date: Tuesday, 14 August 1984, 08:31-EDT
From:  <TIM at MIT-MC>
Subject: Fonts package inheritance lossage
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

(defvar *scratch-sheet* (tv:make-window 'tv:behind-the-scenes-sheet
					:height *scratch-sheet-height*
					:width *scratch-sheet-width*
					:font-map FONTS:(LIST CPTFONT
							      CPTFONTB
							      JESS14
							      HL12)))

Gee, granted it is possible to work around this problem, but
perhaps the fonts package SHOULD inherit useful functions like LIST.


>>Trap: The function FONTS:LIST is undefined.
While in the function SI:*EVAL  SI:*EVAL  SI:DEFVAR-1

SI:*EVAL:  (P.C. = 123)
   Arg 0 (FORM): (FONTS:LIST FONTS:CPTFONT FONTS:CPTFONTB FONTS:JESS14 FONTS:HL12)
   Local 1: NIL
   Local 2 (ARGNUM): 0
   Local 3 (FCTN): FONTS:LIST
   Local 4 (CFCTN): NIL
   Local 5 (ARGL): (FONTS:CPTFONT FONTS:CPTFONTB FONTS:JESS14 FONTS:HL12)
   Local 6 (MAX-ARGS): NIL
   Local 7 (N-ARGS): 4
   Local 8 (ARG-DESC): NIL
   Local 9 (TEM): NIL
   Local 10 (COUNT): NIL
   Local 11 (QUOTE-STATUS): NIL
   Local 12 (REST-FLAG): NIL
   Local 13 (FEXPR-FLAG): NIL
   Local 14 (LAMBDA-LIST): NIL
   Local 15 (MACRO): FONTS:LIST

SI:*EVAL:  (P.C. = 356)
   Arg 0 (FORM): (TV:MAKE-WINDOW (QUOTE TV:BEHIND-THE-SCENES-SHEET) :HEIGHT *SCRATCH-SHEET-HEIGHT* :WIDTH *SCRATCH-SHEET-WIDTH* :FONT-MAP (FONTS:LIST FONTS:CPTFONT FONTS:CPTFONTB FONTS:JESS14 FONTS:HL12))

SI:DEFVAR-1:  (P.C. = 56)
   Arg 0 (SYMBOL): *SCRATCH-SHEET*
   Arg 1 (VALUE): (TV:MAKE-WINDOW (QUOTE TV:BEHIND-THE-SCENES-SHEET) :HEIGHT *SCRATCH-SHEET-HEIGHT* :WIDTH *SCRATCH-SHEET-WIDTH* :FONT-MAP (FONTS:LIST FONTS:CPTFONT FONTS:CPTFONTB FONTS:JESS14 FONTS:HL12))
   --Defaulted args:--
   Arg 2 (DOCUMENTATION): NIL

SI:*EVAL:  (P.C. = 644)
   Arg 0 (FORM): (SI:DEFVAR-1 *SCRATCH-SHEET* (TV:MAKE-WINDOW (QUOTE TV:BEHIND-THE-SCENES-SHEET) :HEIGHT *SCRATCH-SHEET-HEIGHT* :WIDTH *SCRATCH-SHEET-WIDTH* :FONT-MAP (FONTS:LIST FONTS:CPTFONT FONTS:CPTFONTB FONTS:JESS14 FONTS:HL12)))

EVAL-WHEN:  (P.C. = 24)
   Arg 0 (TIMES): (LOAD EVAL)
   Rest arg (FORMS): ((SI:DEFVAR-1 *SCRATCH-SHEET* (TV:MAKE-WINDOW (QUOTE TV:BEHIND-THE-SCENES-SHEET) :HEIGHT *SCRATCH-SHEET-HEIGHT* :WIDTH *SCRATCH-SHEET-WIDTH* :FONT-MAP (FONTS:LIST FONTS:CPTFONT FONTS:CPTFONTB FONTS:JESS14 FONTS:HL12))))

SI:*EVAL:  (P.C. = 605)
   Arg 0 (FORM): (EVAL-WHEN (LOAD EVAL) (SI:DEFVAR-1 *SCRATCH-SHEET* (TV:MAKE-WINDOW (QUOTE TV:BEHIND-THE-SCENES-SHEET) :HEIGHT *SCRATCH-SHEET-HEIGHT* :WIDTH *SCRATCH-SHEET-WIDTH* :FONT-MAP (FONTS:LIST FONTS:CPTFONT FONTS:CPTFONTB FONTS:JESS14 FONTS:HL12))))

PROGN:  (P.C. = 22)
   Rest arg (EXPRESSIONS): ((QUOTE COMPILE) (EVAL-WHEN (COMPILE) (COMPILER:SPECIAL-2 (QUOTE *SCRATCH-SHEET*))) (EVAL-WHEN (LOAD EVAL) (SI:DEFVAR-1 *SCRATCH-SHEET* (TV:MAKE-WINDOW ** :HEIGHT *SCRATCH-SHEET-HEIGHT* :WIDTH *SCRATCH-SHEET-WIDTH* :FONT-MAP **))))

SI:*EVAL:  (P.C. = 421)
   Arg 0 (FORM): (DEFVAR *SCRATCH-SHEET* (TV:MAKE-WINDOW (QUOTE TV:BEHIND-THE-SCENES-SHEET) :HEIGHT *SCRATCH-SHEET-HEIGHT* :WIDTH *SCRATCH-SHEET-WIDTH* :FONT-MAP (FONTS:LIST FONTS:CPTFONT FONTS:CPTFONTB FONTS:JESS14 FONTS:HL12)))

Rest of stack:
ZWEI:EVAL-PRINT:  (P.C. = 3)
COMPILER:PROCESS-FORMS-FROM-STREAM:  (P.C. = 117)
ZWEI:COMPILE-INTERVAL:  (P.C. = 324)
ZWEI:COMPILE-PRINT-INTERVAL:  (P.C. = 76)
ZWEI:COMPILE-DEFINITION-INTERNAL:  (P.C. = 73)
ZWEI:COM-EVALUATE-REGION:  (P.C. = 7)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
14-Aug-84 09:19:36-EDT,1583;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 14 Aug 84 09:19-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71741; Tue 14-Aug-84 09:16:46-EDT
Date: Tuesday, 14 August 1984, 09:16-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Mail lossage on TCP beta-test site Minnie Mouse
To: ROLY at MIT-JOE-LOUIS, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Aug 84 13:34-EDT from ROLY at MIT-JOE-LOUIS
Message-ID: <840814091634.6.HORNIG@PEACE.SCRC.Symbolics>

    Date: Monday, 13 August 1984, 13:34-EDT
    From:  <ROLY at MIT-JOE-LOUIS>

    In Release 5.1, Experimental MIT 1.5, Experimental IP-TCP 12.1,
    Experimental Boxer 4.0, FEP 18, on CHAOS|15311 (3600):

    Any way that I tried to send mail from Minnie I got this error (or one
    that was similar). I booted the machine to make sure nothing was
    accidentally redefined, and still got it. I eventually sent this mail
    from Joe Louis (a non-TCP machine).

    I was unable to load patches (from "Tweety-Pie") so I'm not sure that
    this error hasn't been fixed.

    Maybe you can tell what went wrong from this back trace.

    >>Trap: The subscript given to the AR-1 instruction, :NAMESPACE, was not a fixnum.
    While in the function SYS:%LEXPR-AREF  SYS:CALL-FUNNY-FUNCTION  "CHAOS|15311"

This is a known problem with sending SMTP mail from an "uninterned"
host (like CHAOS|15311).  You shouldn't have any problems if you can get
the machine to think that it is a defined host.  The bug is fixed in the
next release.
14-Aug-84 09:45:04-EDT,1138;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 14 Aug 84 09:44-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71760; Tue 14-Aug-84 09:42:12-EDT
Date: Tuesday, 14 August 1984, 09:42-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Fonts package inheritance lossage
To: TIM at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 14 Aug 84 08:31-EDT from TIM at MIT-MC
Message-ID: <840814094220.5.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 14 August 1984, 08:31-EDT
    From:  <TIM at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    (defvar *scratch-sheet* (tv:make-window 'tv:behind-the-scenes-sheet
					    :height *scratch-sheet-height*
					    :width *scratch-sheet-width*
					    :font-map FONTS:(LIST CPTFONT
								  CPTFONTB
								  JESS14
								  HL12)))

    Gee, granted it is possible to work around this problem, but
    perhaps the fonts package SHOULD inherit useful functions like LIST.

No.  It was by conscious decision that FONTS does not use GLOBAL.
14-Aug-84 10:13:07-EDT,1185;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 14 Aug 84 10:12-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71778; Tue 14-Aug-84 10:10:09-EDT
Date: Tuesday, 14 August 1984, 10:10-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: &optional &key &allow-other-keys &rest
To: David C. Plummer in disguise <DCP at SCRC-TENEX>,
    Ramin D. Zabih <RDZ at MIT-MC>, BUG-LISPM at MIT-OZ
In-Reply-To: <840813200336.3.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840814101014.9.NFEP@NEPONSET.SCRC.Symbolics>

More interpreter jokes:
	(defun foo (&key (a t) (b a))
	  (list a b))
	(foo) => A is unbound
	(compile 'foo)
	(foo) => T T

	(defun foo (&key (key-rest rest) &allow-other-keys &rest rest)
	  (list (copylist key-rest) (copylist rest)))
	(foo :bar 'bar) => REST is unbound
	(compile 'foo)
	(foo :bar 'bar) => ((:BAR BAR) (:BAR BAR))

This lambda-list actually isn't allowed in Common Lisp; it should be
	(defun foo (&rest rest &key (key-rest rest) &allow-other-keys)
	  (list (copylist key-rest) (copylist rest)))
which makes the result more intuitive.

I think I know how to do this reasonably...
14-Aug-84 11:04:46-EDT,1128;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 14 Aug 84 11:03-EDT
Received: from SCRC-THAMES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71807; Tue 14-Aug-84 11:01:15-EDT
Date: Tuesday, 14 August 1984, 11:02-EDT
From: Scott McKay <SWM at SCRC-QUABBIN>
Subject: Fonts package inheritance lossage
To: TIM at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 14 Aug 84 08:31-EDT from TIM at MIT-MC
Message-ID: <840814110221.6.SWM@THAMES.SCRC.Symbolics>

    Date: Tuesday, 14 August 1984, 08:31-EDT
    From:  <TIM at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    (defvar *scratch-sheet* (tv:make-window 'tv:behind-the-scenes-sheet
					    :height *scratch-sheet-height*
					    :width *scratch-sheet-width*
					    :font-map FONTS:(LIST CPTFONT
								  CPTFONTB
								  JESS14
								  HL12)))

    Gee, granted it is possible to work around this problem, but
    perhaps the fonts package SHOULD inherit useful functions like LIST.

What constitutes "useful"?  What if there is a font called "LIST" or "CAR"?
14-Aug-84 13:36:23-EDT,2072;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Aug 84 13:35-EDT
Date: 14 August 1984 12:31-EDT
From: Roland Ouellette <ROLY @ MIT-MC>
Subject: musical lispms
To: joseph @ SCRC-QUABBIN
cc: bug-lispm @ MIT-OZ

    Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Aug 84 21:12-EDT
    Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 71558; Mon 13-Aug-84 21:11:12-EDT
    Date: Monday, 13 August 1984, 21:09-EDT
    From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
    In-Reply-To: The message of 13 Aug 84 20:26-EDT from ROLY at MIT-JOE-LOUIS
    Supersedes: <840813210852.1.JOSEPH@HARLEM.SCRC.Symbolics>

        Date: Monday, 13 August 1984, 20:26-EDT
        From:  <ROLY at MIT-JOE-LOUIS>

        In Release 5.1, Experimental MIT 1.4, Experimental Boxer 4.0, on Lisp Machine Buddy Holly (3600):

        This is NOT from BUDDY.  this machine is supposed to be JOE-LOUIS.

        chaos:my-address returns 30020 (octal) which is the right address for
        JOE-LOUIS according to net:get-host-from-address.

        chaos:*brd-history* returns (("WHO-AM-I" 12293.) ("TIME" 12293.))
        which net:get-host-from-address says is CHERRY.

        What is going on here ??????

    Your machine think's it's Buddy Holly until it's completely booted, since
    the world you are running was built on Buddy, and it's going to assume
    that it's still Buddy until someone tells it otherwise.  Did you let it
    finish booting, or did you abort out (before the information from Cherry
    that it wasn't Buddy, but really Joe Louis, had sunk in)?

Well,,,,,,,,yes.  Last night cadr-15 was up but loosing (I guess that
it wasn't enabled as a server), so I quit out of the namespace
updates: C-M-SUSPEND and then which ever super that told it to quit
getting namespace info; I really didn't want to wait for Palo Alto,
Texas, Chapple Hill and Co. not to respond. But I thought that it
found out who it was before it got namespace updates; if not it would
be a winning thing to fix this. 

14-Aug-84 19:07:12-EDT,840;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Aug 84 19:06-EDT
Date: 14 August 1984 19:01-EDT
From: Tim McNerney <TIM @ MIT-MC>
Subject:  Fonts package inheritance lossage
To: SWM @ SCRC-QUABBIN
cc: BUG-LISPM @ MIT-OZ
In-reply-to: Msg of Tue 14 Aug 84 11:02 EDT from Scott McKay <SWM at SCRC-QUABBIN.ARPA>

    Date: Tue, 14 Aug 84 11:02 EDT
    From: Scott McKay <SWM at SCRC-QUABBIN.ARPA>
    To:   TIM at MIT-MC.ARPA, BUG-LISPM%MIT-OZ at SCRC-QUABBIN.ARPA
    Re:   Fonts package inheritance lossage

    What constitutes "useful"? What if there is a font called "LIST" or "CAR"?

I realize that this lack of inheritance was deliberate, but would
forwarding a few function cells be such a problem?  LIST for consing
lists of fonts, and PKG-GOTO (for when you get stuck in the fonts
package) would probably suffice.
14-Aug-84 20:20:31-EDT,1411;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 14 Aug 84 20:20-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 72146; Tue 14-Aug-84 20:20:22-EDT
Date: Tuesday, 14 August 1984, 20:20-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Fonts package inheritance lossage
To: Tim McNerney <TIM at MIT-MC>
cc: SWM at SCRC-QUABBIN, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 14 Aug 84 19:01-EDT from Tim McNerney <TIM at MIT-MC>
Message-ID: <840814202021.5.MOON@EUPHRATES.SCRC.Symbolics>

    Date: 14 August 1984 19:01-EDT
    From: Tim McNerney <TIM @ MIT-MC>

	Date: Tue, 14 Aug 84 11:02 EDT
	From: Scott McKay <SWM at SCRC-QUABBIN.ARPA>
	To:   TIM at MIT-MC.ARPA, BUG-LISPM%MIT-OZ at SCRC-QUABBIN.ARPA
	Re:   Fonts package inheritance lossage

	What constitutes "useful"? What if there is a font called "LIST" or "CAR"?

    I realize that this lack of inheritance was deliberate, but would
    forwarding a few function cells be such a problem?  LIST for consing
    lists of fonts, and PKG-GOTO (for when you get stuck in the fonts
    package) would probably suffice.

Once you let the camel's nose into the tent, where would it end?

By the way, for me
	(pkg-goto'fonts)
	(pkg-goto)
	<Asks question> <space>
works, but maybe that wasn't in Release 5.  You can always type GLOBAL: in
front of a symbol (LISP: in Common Lisp).
14-Aug-84 21:05:08-EDT,2144;000000000000
Received: from SPA-NIMBUS by MIT-OZ via Chaosnet; 14 Aug 84 21:04-EDT
Received: from SPA-RUSSIAN by SPA-Nimbus with CHAOS; Tue 14-Aug-84 17:44:07-PDT
Date: Tuesday, 14 August 1984, 17:56-PDT
From: Richard Lamson <rsl at SPA-NIMBUS>
Subject: Moving a lisp machine to another chaosnet address causes boot errors.
To: David A. Moon <Moon at SCRC-TENEX>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: <840812143522.5.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840814175618.9.RSL@RUSSIAN.SPA.Symbolics>

    Date: Sunday, 12 August 1984, 14:35-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

	Date: Thursday, 9 August 1984, 20:59-EDT
	From:  <CJL at MIT-PYGMALION>

	In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

	PI used to have chaosnet address 13010.  We moved PI to a new subnet,
	and gave it a new chaosnet address 15314, which is the correct address
	for the subnet it's on, and updated it's namespace object in the MIT
	namespace to have this new correct address, yet this error still occurs
	when booting it.  It still thinks it's 13010! Do we have to disk save
	a new world load for booting on PI to convince it of it's new address?

	>>Error: The host PI is not on the CHAOS network at 15314.

    The value of the variable chaos:*brd-history* will probably tell you the identity
    (as a Chaosnet address) of the namespace server that had not yet received up to
    date information on PI's new chaosnet address.

I have seen this kind of thing every time I have tried to change Chaos
addresses of hosts.  There is a timing problem in that it attempts to
set the local host before it gets the namespace update from the network.
Basically, you have to give the new address a new name, because the
world saved on the disk thinks it knows that the machine named "PI"
cannot possibly be at this Chaos address, but someone told it
(correctly) that the machine at this Chaos address really is PI.

The temporary fix is to give the new address a new name temporarily,
change the name, and then do a disk-save on the moved machine.
Presumably we can fix this in release 6.
14-Aug-84 21:07:01-EDT,1725;000000000000
Received: from SPA-NIMBUS by MIT-OZ via Chaosnet; 14 Aug 84 21:06-EDT
Received: from SPA-RUSSIAN by SPA-Nimbus with CHAOS; Tue 14-Aug-84 17:46:01-PDT
Date: Tuesday, 14 August 1984, 17:58-PDT
From: Richard Lamson <rsl at SPA-NIMBUS>
Subject: vms/bin breakage
To: David C. Plummer in disguise <DCP at SCRC-TENEX>,
    David M. J. Saslav <saz at MIT-OZ>, Bug-PIG at MIT-OZ
Cc: BUG-LISPM at MIT-OZ
In-reply-to: <840810105108.5.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840814175811.0.RSL@RUSSIAN.SPA.Symbolics>

    Date: Friday, 10 August 1984, 10:51-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

	Date: Friday, 10 August 1984, 00:28-EDT
	From: David M. J. Saslav <saz at MIT-OZ>

	In Release 5.1, Experimental MIT 1.4, on Lisp Machine Robot-4 (3600):

	trying to load this file off pig barfs. (pig:[bak.muzacs]cpt6mf.bin)
	trying to unbin it barfs. Eeeerrrgggggggghhhhhhhhhhhhhhh!!!!

	Also, the "unbin" canonical type does not have a 3-character vms value.

	>>Error: !UL byte record too large for user's buffer
		 For PIG:SYS$DISK:[BAK.MUZACS]CPT6MF.BIN
	While in the function (:DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK)  (:DEFUN-METHOD FS:FILE-NEXT-READ-PKT)  (:METHOD FS:FILE-INPUT-STREAM-MIXIN :GET-NEXT-INPUT-PKT)

    I get this same error just trying to do the same thing and trying to do
    a VIEWF.  Therefore, I don't think this is a LispM bug, but is either a
    PIG bug or a VMS bug, so I am sending this to Bug-PIG.

What version of Chaosnet software are you running on PIG?  Older
versions of the FILE server used to give this error for binary files
with large "records" in them.  I don't know enough about VMS to tell you
how to get around the problem.
14-Aug-84 22:27:45-EDT,2941;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Aug 84 22:27-EDT
Date: Tuesday, 14 August 1984, 22:27-EDT
From:  <HLV at MIT-PYGMALION>
Subject: Constraint frames
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

I'm trying to create a frame which contains two panes--an image pane of
a specified size and a command menu.  I can't figure out how to
constrain the height of the frame.  The sizes of the individual panes
are fine, but it seems that a dummy pane is added which fills to the
bottom of the screen.  (Apparently this is due to the fact that the
default edges of the frame are those of its superior.)

I cannot easily compute the :inside-height of the entire frame because
this depends on the width of the frame, the number of commands in the
menu, the font size, etc.  I tried creating the frame, sending the panes
:inside-height messages, adding them together, and resetting the edges
of the frame, but the edges didn't come out right, and besides, there
must be a better way to do it.

Here's the code.  Any help would be appreciated.

                                      Thanks,
                                      Harry Voorhees

(defflavor MIT-IMAGE-PANE ()
	                (tv:window
			 tv:pane-mixin))

(defun test (&optional (width 512.) (height 128.))
 (setq test
  (tv:make-window
	'tv:bordered-constraint-frame-with-shared-io-buffer
	:selected-pane 'image-pane
	:panes
	  `((image-pane
	      mit-image-pane
	      :name "Sample Frame"
	      :blinker-p nil
	      :inside-width ,width
	      :inside-height ,height
	      :save-bits nil)
	    (menu-pane
	      tv:command-menu-pane
	      :character-height 1. ;; doesn't do anything
	      :default-font fonts:hl10
	      :item-list
	        (("Show slice" :documentation "Show slice of 2D fingerprint")
	         ("Grey image" :documentation "Show original grey image")
	         ("Overlay"    :documentation "Overlay this image onto next selected")
	         ("1D fingerprint"
	          :documentation "Create window showing 1D fingerprint along cross-section")
	         ("Movie"      :documentation "Create movie window")
	         ("Copy"       :documentation "Create window with copy of this image"))))
	  
	:constraints
	'((configuration . ((image-pane menu-pane)
			    ((image-pane :ask :pane-size))
			    ((menu-pane :ask :pane-size)))))
	:superior color:color-screen
	:expose-p t
	:inside-width width
;;; Don't know what :inside-height should be!!!!
	:name "Fingerprint Constraint Frame")))


(defun reset-edges ()
  (multiple-value-bind (old-left old-top old-right old-bottom)
      (send test :edges)
    (let ((new-bottom (+ old-top
			 (send test :send-pane 'image-pane :height)
			 (send test :send-pane 'menu-pane :height))))
      (send test :set-edges old-left old-top old-right new-bottom))))

15-Aug-84 00:06:24-EDT,850;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 15 Aug 84 00:06-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 72238; Wed 15-Aug-84 00:06:57-EDT
Date: Wednesday, 15 August 1984, 00:06-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: fonts
To: David Rogers <DROGERS at MIT-OZ>
cc: bug-LISPM at MIT-OZ
In-Reply-To: The message of 19 Jul 84 17:04-EDT from David Rogers <DROGERS at MIT-OZ>
Message-ID: <840815000656.9.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Thursday, 19 July 1984, 17:04-EDT
    From: David Rogers <DROGERS at MIT-OZ>

    It would be nice if ZWEI had a Delete Fonts command which took out
    all of the ^F1 etc stuff, and gave back a nice clean text file.

Just delete the Font specification from the attribute list (the -*- line)
and do m-X Reparse Attribute List.
15-Aug-84 09:15:05-EDT,436;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 15 Aug 84 09:14-EDT
Received: from MIT-MC by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 72280; Wed 15-Aug-84 09:15:39-EDT
Date: Wednesday, 15 August 1984, 09:14-EDT
From: Webster Dove <dove at MIT-SYLVESTER>
Subject: lm15
To: bug-lispm at MIT-OZ

Would some kind soul please boot lm15?
Better yet, would they drop it off the 9th floor so we
could have something new?
15-Aug-84 11:05:26-EDT,1322;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 15 Aug 84 11:04-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 72348; Wed 15-Aug-84 11:02:50-EDT
Date: Wednesday, 15 August 1984, 11:02-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Fonts package inheritance lossage
To: Tim McNerney <TIM at MIT-MC>, SWM at SCRC-QUABBIN
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 14 Aug 84 19:01-EDT from Tim McNerney <TIM at MIT-MC>
Message-ID: <840815110239.5.NFEP@NEPONSET.SCRC.Symbolics>

    Date: 14 August 1984 19:01-EDT
    From: Tim McNerney <TIM @ MIT-MC>

	Date: Tue, 14 Aug 84 11:02 EDT
	From: Scott McKay <SWM at SCRC-QUABBIN.ARPA>
	To:   TIM at MIT-MC.ARPA, BUG-LISPM%MIT-OZ at SCRC-QUABBIN.ARPA
	Re:   Fonts package inheritance lossage

	What constitutes "useful"? What if there is a font called "LIST" or "CAR"?

    I realize that this lack of inheritance was deliberate, but would
    forwarding a few function cells be such a problem?  LIST for consing
    lists of fonts, and PKG-GOTO (for when you get stuck in the fonts
    package) would probably suffice.
Use GLOBAL:LIST and GLOBAL:PKG-GOTO.  If the system ever makes the
default package be FONTS, you should send a bug report.  If it is a user
error, shame on you!
15-Aug-84 16:31:25-EDT,817;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 15 Aug 84 16:07-EDT
Date: Wednesday, 15 August 1984, 16:01-EDT
From: Steven C. Bagley <bagley at MIT-OZ>
Subject: not recovering nicely from mail queue overflow
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.5, FEP 18, on Lisp Machine Janis Joplin (3600):

I just tried to send mail (C-X M from Zwei).  After hitting end, it gave
a message to the effect that there was too much mail queued up
(presumably on MC).  In the proceed option, it listed a whole lot of
hosts which knew about mailing.  However, hitting resume merely crapped
out the same way (several times in succession).  What's the point of
having it know all these different hosts to mail through if it keeps
using the same one?  (Sorry I didn't save the original error message.)
15-Aug-84 17:35:35-EDT,619;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 15 Aug 84 17:35-EDT
Date: Wednesday, 15 August 1984, 17:19-EDT
From:  <HLV at MIT-PYGMALION>
Subject: mouse
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

I'm working on menus and when testing things sometimes find that I've
lost the mouse.  If I try to retrieve it using tv:set-mouse-sheet
I go into GRAB MOUSE mode and nothing happens.  How can I reset
the mouse process in this situation (aside from warm booting the
machine)?  Thanks,
                                 Harry Voorhees
15-Aug-84 17:56:05-EDT,870;000000000000
Received: from SCC-OLYMPIC by MIT-OZ via Chaosnet; 15 Aug 84 17:46-EDT
Date: Wednesday, 15 August 1984, 17:45-EDT
From: Jonathan L. Balgley <jlb at WAIKATO>
Subject: mouse
To: HLV at MIT-PYGMALION, BUG-LISPM at MIT-OZ
In-reply-to: The message of 15 Aug 84 17:19-EDT from HLV at MIT-PYGMALION

    Date: Wednesday, 15 August 1984, 17:19-EDT
    From:  <HLV at MIT-PYGMALION>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    I'm working on menus and when testing things sometimes find that I've
    lost the mouse.  If I try to retrieve it using tv:set-mouse-sheet
    I go into GRAB MOUSE mode and nothing happens.  How can I reset
    the mouse process in this situation (aside from warm booting the
    machine)?  Thanks,
				     Harry Voorhees


(tv:mouse-initialize) usually does the trick.
15-Aug-84 18:06:03-EDT,984;000000000000
Received: from SCRC-YUKON by MIT-OZ via Chaosnet; 15 Aug 84 18:05-EDT
Received: from SCRC-LETHE by SCRC-YUKON via CHAOS with CHAOS-MAIL id 55077; Wed 15-Aug-84 18:07:09-EDT
Date: Wednesday, 15 August 1984, 18:06-EDT
From: David Place <dplace at SCRC-STONY-BROOK>
Subject: mouse
To: HLV at MIT-PYGMALION, BUG-LISPM at MIT-OZ
Fcc: S:>dplace>outgoing.text
In-reply-to: The message of 15 Aug 84 17:19-EDT from HLV at MIT-PYGMALION

    Date: Wednesday, 15 August 1984, 17:19-EDT
    From:  <HLV at MIT-PYGMALION>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    I'm working on menus and when testing things sometimes find that I've
    lost the mouse.  If I try to retrieve it using tv:set-mouse-sheet
    I go into GRAB MOUSE mode and nothing happens.  How can I reset
    the mouse process in this situation (aside from warm booting the
    machine)?  Thanks,
				     Harry Voorhees
Try (TV:MOUSE-INITIALIZE).
15-Aug-84 18:17:53-EDT,1077;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 15 Aug 84 18:16-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 72628; Wed 15-Aug-84 17:45:21-EDT
Date: Wednesday, 15 August 1984, 17:45-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: mouse
To: HLV at MIT-PYGMALION
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 15 Aug 84 17:19-EDT from HLV at MIT-PYGMALION
Message-ID: <840815174502.9.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Wednesday, 15 August 1984, 17:19-EDT
    From:  <HLV at MIT-PYGMALION>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    I'm working on menus and when testing things sometimes find that I've
    lost the mouse.  If I try to retrieve it using tv:set-mouse-sheet
    I go into GRAB MOUSE mode and nothing happens.  How can I reset
    the mouse process in this situation (aside from warm booting the
    machine)?

This is a rather vague question, but perhaps the function tv:mouse-initialize
would be of some use to you.
15-Aug-84 18:28:36-EDT,1030;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 15 Aug 84 18:28-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 72638; Wed 15-Aug-84 17:50:37-EDT
Date: Wednesday, 15 August 1984, 17:50-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: mouse
To: HLV at MIT-PYGMALION, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 15 Aug 84 17:19-EDT from HLV at MIT-PYGMALION
Message-ID: <840815175021.8.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Wednesday, 15 August 1984, 17:19-EDT
    From:  <HLV at MIT-PYGMALION>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    I'm working on menus and when testing things sometimes find that I've
    lost the mouse.  If I try to retrieve it using tv:set-mouse-sheet
    I go into GRAB MOUSE mode and nothing happens.  How can I reset
    the mouse process in this situation (aside from warm booting the
    machine)?  Thanks,
(tv:mouse-initialize) might do what you want.
16-Aug-84 10:31:28-EDT,1046;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 16 Aug 84 10:31-EDT
Received: from SCRC-MOBILE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 72756; Wed 15-Aug-84 19:58:13-EDT
Date: Wednesday, 15 August 1984, 19:58-EDT
From: David E. Goldfarb <DEG at SCRC-QUABBIN>
Subject: mouse
To: HLV at MIT-PYGMALION, BUG-LISPM at MIT-OZ
cc: DEG at SCRC-QUABBIN
In-Reply-To: The message of 15 Aug 84 17:19-EDT from HLV at MIT-PYGMALION
Message-ID: <840815195802.0.DEG@MOBILE.SCRC.Symbolics>

    Date: Wednesday, 15 August 1984, 17:19-EDT
    From:  <HLV at MIT-PYGMALION>
    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    I'm working on menus and when testing things sometimes find that I've
    lost the mouse.  If I try to retrieve it using tv:set-mouse-sheet
    I go into GRAB MOUSE mode and nothing happens.  How can I reset
    the mouse process in this situation (aside from warm booting the
    machine)?  Thanks,
				     Harry Voorhees

try (tv:mouse-initialize)
16-Aug-84 10:33:19-EDT,2472;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 16 Aug 84 10:32-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 72789; Wed 15-Aug-84 23:22:30-EDT
Date: Wednesday, 15 August 1984, 23:22-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Cryptic window system error
To: Henry Lieberman <Henry at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 18 Jul 84 00:33-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840815232212.2.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Wednesday, 18 July 1984, 00:33-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on APIARY-10 (3600):

    I am trying to create a frame with a menu in it.
    It goes into Output Hold [I never understood what "Output Hold" means either], and
    Function-Escape gets into the cold-load stream with:
     
	 Process #<COROUTINING-PROCESS ZMACS-WINDOWS> is waiting on the window
	 #<MENU ... deexposed> because it is locked by #<COROUTINING-PROCESS ZMACS-WINDOWS>
	 We can try to send an :EXPOSE message in #<COROUTINING-PROCESS ZMACS-WINDOWS>.
	 If that hangs, we time out in 10 seconds.
	 Attempt to do an :EXPOSE in the other process? (Y or N)

    Typing Y causes the frame to appear. 

I've seen this, too.  If you answer N to this question the next question can help find
the problem.  This message is (in this particular case) completely bogus.  The reason
the process is waiting is not at all because it has locked the window!  It is waiting
because of an Output Hold.  It is in Output Hold because (if you're in the same situation
that I was in) it is trying to access the screen image of a window that doesn't
have a screen image because it is deexposed and was not created with the :save-bits t
option.  Sometimes the very process that is hung has done a with-sheet-deexposed
to get itself into this state.

Someone should do some brain surgery here.  The code should be rather more careful to
make sure that what it tells the user is not a lie (i.e. it shouldn't jump to
conclusions).  Also the message can be more explicit and more verbose.

    It had :EXPOSE-P T in the :DEFAULT-INIT-PLIST, if that matters.
    I was using my editor-top-level, which is why ZMACS-WINDOWS is in there. 
    The frame is not overlapping the Zmacs window in any way.

    I don't understand what this message is trying to tell me. 

I don't blame you.
16-Aug-84 15:30:02-EDT,646;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Aug 84 15:29-EDT
Date: Thursday, 16 August 1984, 15:14-EDT
From:  <SSUR at MIT-MC>
Subject: CADR-15 down or unavailable for days.
To: BUG-LISPM at MIT-OZ, ssur at MIT-MC


CADR-15 has not been responding for quite a few days .  Some of the lisp
machines, such as PI, MINNIE-MOUSE,etc. which have a different
net-address now and yet are not identified correctly over the CHAOSNET,
can barely be used.  Often, the binary files on such machines are not
only accessible from other lisp machines, but also from that particular
machine. When can we expect to be relieved of this handicap?	
16-Aug-84 16:30:10-EDT,1591;000000000000
Received: from SPA-RUSSIAN by MIT-OZ via Chaosnet; 16 Aug 84 16:29-EDT
Date: Thursday, 16 August 1984, 12:32-PDT
From: Richard Lamson <rsl at SPA-NIMBUS>
Subject: Constraint frames
To: HLV at MIT-PYGMALION, BUG-LISPM at MIT-OZ
Cc: rsl at SPA-NIMBUS
In-reply-to: The message of 14 Aug 84 19:27-PDT from HLV at MIT-PYGMALION
Message-ID: <840816123232.9.RSL@RUSSIAN.SPA.Symbolics>

    Date: Tuesday, 14 August 1984, 22:27-EDT
    From:  <HLV at MIT-PYGMALION>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    I'm trying to create a frame which contains two panes--an image pane of
    a specified size and a command menu.  I can't figure out how to
    constrain the height of the frame.

	....					       and besides, there 
    must be a better way to do it.

You could just specify that the image pane takes up all the space that
isn't being used by the menu.  Use :EVEN for this.

    (defun test (&optional (width 512.) (height 128.))
     (setq test
      (tv:make-window
	    'tv:bordered-constraint-frame-with-shared-io-buffer
	    :selected-pane 'image-pane
	    :panes
		...	  
	    :constraints
	    '((configuration . ((image-pane menu-pane)
				((menu-pane :ask :pane-size))
				((image-pane :even)))))
	    ...)))

This doesn't give you what you asked for, namely, a frame whose size
depends on the size of a menu and a pane whose size you know in advance.
This should be close enough, though; this is a frame which manages to
come up looking nice no matter what the menu looks like.
16-Aug-84 16:43:49-EDT,601;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Aug 84 16:43-EDT
Date: 16 August 1984 16:40-EDT
From: Kent M Pitman <KMP @ MIT-MC>
Subject: Fonts, m-X Write Region
To: BUG-LISPM @ MIT-MC

In Symbolics Release 4.5 on Merlin (3600):

Font information for a region of text seems to be lost when doing
m-X Write Region. This seems unreasonable in general and especially
unreasonable if the region written contains the attribute list (and
hence the font-id correspondence info for the file). If I wanted to
destroy font information, I could do so easily enough with a separate
command. -kmp
16-Aug-84 16:44:43-EDT,435;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Aug 84 16:44-EDT
Date: Thursday, 16 August 1984, 16:46-EDT
From:  <ROLY at MIT-JOE-LOUIS>
Subject: would some one please enable lm15
To: BUG-LISPM at MIT-OZ



If cadr-15 isn't enabled as a server after it is booted we all still
loose on namespace requests.  Maybe some kind soul would put a note
telling how this is done on LM15's console, after they fix it.

			-thanx

16-Aug-84 17:35:38-EDT,4055;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Aug 84 17:34-EDT
Date: Thursday, 16 August 1984, 17:33-EDT
From: CJL at MIT-OZ
Sender: ZiPpY at MIT-PYGMALION
Subject: File system bug 
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

I tried m-X copy file from janis|fep0:>boot.boot

>>Error: File system bug on host JANIS|FEP0:
         Null or missing user name in LOGIN request.
         For JANIS|FEP0:>boot.boot
While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:LOGIN-HOST-UNIT  (:METHOD FS:QFILE-ACCESS-PATH :LOGIN-UNIT)

(:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 231)
   Arg 0 (SELF): #<HOST-UNIT 427477>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): :COMMAND
   Arg 3 (MARK-P): NIL
   Arg 4 (STREAM-OR-HANDLE): NIL
   Arg 5 (SIMPLE-P): NIL
   Arg 6 (WHOSTATE): "Login"
   Rest arg (COMMANDS): ("LOGIN " "" " " "" " ")
   Local 8 (HANDLE): NIL
   Local 9 (STREAM): NIL
   Local 10 (PKT): #<Chaos Packet 22546530>
   Local 11 (SUCCESS): NIL
   Local 12 (STRING): " ERROR BUG F Null or missing user name in LOGIN request."
   Local 13 (TRANSACTION-ID): "T1951"
   Local 14 (CREATE-P): NIL
   Local 15 (CONDITION): NIL

FS:LOGIN-HOST-UNIT:  (P.C. = 157)
   Arg 0 (UNIT): #<HOST-UNIT 427477>
   Arg 1 (LOGIN-P): T
   Arg 2 (CONDITION): NIL

(:METHOD FS:QFILE-ACCESS-PATH :LOGIN-UNIT):  (P.C. = 10)
   Arg 0 (SELF): #<REMOTE-FEP-QFILE-ACCESS-PATH JANIS, FEP unit 0, using QFILE 427461>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:QFILE-ACCESS-PATH -- 3. IV's, 0. FL's 37334506>
   Arg 2 (OPERATION): :LOGIN-UNIT
   Arg 3 (UNIT): #<HOST-UNIT 427477>
   Arg 4 (LOGIN-P): T
   --Defaulted args:--
   Arg 5 (CONDITION): NIL

(:METHOD FS:REMOTE-FEP-QFILE-ACCESS-PATH :COMBINED :LOGIN-UNIT):  (P.C. = 10)
   Arg 0 (SELF): #<REMOTE-FEP-QFILE-ACCESS-PATH JANIS, FEP unit 0, using QFILE 427461>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:REMOTE-FEP-QFILE-ACCESS-PATH -- 0. IV's, 2. FL's 37334522>
   Rest arg (.DAEMON-CALLER-ARGS.): (:LOGIN-UNIT #<HOST-UNIT 427477> T)

(:METHOD FS:HOST-UNIT :VALIDATE-CONTROL-CONNECTION):  (P.C. = 121)
   Arg 0 (SELF): #<HOST-UNIT 427477>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): :VALIDATE-CONTROL-CONNECTION
   --Defaulted args:--
   Arg 3 (NO-ERROR-P): NIL

(:METHOD FS:QFILE-ACCESS-PATH :NEW-HOST-UNIT):  (P.C. = 25)
   Arg 0 (SELF): #<REMOTE-FEP-QFILE-ACCESS-PATH JANIS, FEP unit 0, using QFILE 427461>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:QFILE-ACCESS-PATH -- 3. IV's, 0. FL's 37334506>
   Arg 2 (OPERATION): :NEW-HOST-UNIT

(:METHOD FS:QFILE-ACCESS-PATH :GET-DATA-CONNECTION):  (P.C. = 35)
   Arg 0 (SELF): #<REMOTE-FEP-QFILE-ACCESS-PATH JANIS, FEP unit 0, using QFILE 427461>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:QFILE-ACCESS-PATH -- 3. IV's, 0. FL's 37334506>
   Arg 2 (OPERATION): :GET-DATA-CONNECTION
   Arg 3 (DIRECTION): :INPUT

FS:OPEN-CHAOS:  (P.C. = 435)
   Arg 0 (ACCESS-PATH): #<REMOTE-FEP-QFILE-ACCESS-PATH JANIS, FEP unit 0, using QFILE 427461>
   Arg 1 (REAL-PATHNAME): #<FEP-PATHNAME "JANIS|FEP0:>boot.boot">
   Arg 2 (*COMMAND-PATHNAME*-initialization): #<FEP-PATHNAME "JANIS|FEP0:>boot.boot">
   Arg 3 (OPTIONS): (:DIRECTION :INPUT)

Rest of stack:
(:METHOD FS:QFILE-ACCESS-PATH :OPEN):  (P.C. = 7)
(:METHOD FS:ACTIVE-PATHNAME-MIXIN :OPEN):  (P.C. = 14)
FS:COMMON-LISP-OPEN:  (P.C. = 445)
OPEN:  (P.C. = 255)
(:METHOD ZWEI:FILE-BUFFER-MIXIN :REVERT):  (P.C. = 57)
ZWEI:FIND-FILE:  (P.C. = 24)
ZWEI:COM-FIND-FILE:  (P.C. = 13)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:  (P.C. = 77)
SYS:CALL-FUNNY-FUNCTION:  (P.C. = 101)
Closure of ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
16-Aug-84 20:00:59-EDT,1288;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 16 Aug 84 20:00-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 73314; Thu 16-Aug-84 19:59:35-EDT
Date: Thursday, 16 August 1984, 19:58-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: File system bug 
To: CJL at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 16 Aug 84 17:33-EDT from CJL at MIT-OZ
Message-ID: <840816195858.0.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 16 August 1984, 17:33-EDT
    From: CJL at MIT-OZ

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

    I tried m-X copy file from janis|fep0:>boot.boot

    >>Error: File system bug on host JANIS|FEP0:
	     Null or missing user name in LOGIN request.
	     For JANIS|FEP0:>boot.boot
    While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:LOGIN-HOST-UNIT  (:METHOD FS:QFILE-ACCESS-PATH :LOGIN-UNIT)

This doesn't happen in the development system (I can read that file from
my machine).  It does happen trying to read the file on my machine from
Jimi, so it is a bug in user side in the 5.1-plus release you have.  I
thought this might be fixed by a patch made to 5.2, but I couldn't find
anything.  I could be wrong.
16-Aug-84 21:32:22-EDT,980;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 16 Aug 84 21:31-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 73400; Thu 16-Aug-84 21:32:31-EDT
Date: Thursday, 16 August 1984, 21:32-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: would some one please enable lm15
To: ROLY at MIT-JOE-LOUIS, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 16 Aug 84 16:46-EDT from ROLY at MIT-JOE-LOUIS
Message-ID: <840816213209.1.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Thursday, 16 August 1984, 16:46-EDT
    From:  <ROLY at MIT-JOE-LOUIS>

    If cadr-15 isn't enabled as a server after it is booted we all still
    loose on namespace requests.  Maybe some kind soul would put a note
    telling how this is done on LM15's console, after they fix it.

I thought the note was already there.  Anyway:
 If it's just been cold-booted, then (login 'file-server).
 If it's just been warm-booted, then (si:enable-services)
17-Aug-84 00:03:32-EDT,1175;000000000000
Mail-From: HENRY created at 17-Aug-84 00:01:33
Date: Fri, 17 Aug 1984  00:01 EDT
Message-ID: <HENRY.12040055745.BABYL@MIT-OZ>
From: HENRY@MIT-OZ
To:   "David A. Moon" <Moon@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ
Subject: Cryptic window system error
In-reply-to: Msg of 15 Aug 1984 23:22-EDT from David A. Moon <Moon at SCRC-TENEX>



I'm not sure I understand all the implications, but perhaps TV:WINDOW
should have :SAVE-BITS T by default to forestall things like this. 

Output Hold states always seem to be a problem. Since that state leaves
you where you can't type anything, it is confusing at the least. 
Are there ever any cases where you DON'T want to type Function-Escape 
to expose the output held window? If there aren't any significant cases
of this, perhaps it should just expose the window automatically  and
NEVER leave you in an Output Hold. Often I find that Function-Escape
is not sufficient to unwedge myself and I am forced to resort to 
Function-Control-Clear-Input. Less sophisticated programmers sometimes
find themselves completely at a loss when confronted with Output Hold
[People tell me "My machine crashed, what do I do?"].

17-Aug-84 14:27:58-EDT,555;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 17 Aug 84 14:16-EDT
Date: Fri 17 Aug 84 11:10:15-PDT
From: Christopher Schmidt <SCHMIDT@SUMEX-AIM.ARPA>
Subject: edit-namespace-object writes wrong author
To: Bug-LispM%MIT-OZ@MIT-MC.ARPA

	In Release 5.1 I find that if I run tv:edit-namespace-object
from a machine which is not the namespace server that the resulting
files have as their author the person currently using the namespace
server, and not the person editing the object (me)!
	This has not caused any problems.
--Christopher
-------
17-Aug-84 16:20:19-EDT,1416;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 17 Aug 84 16:19-EDT
Received: from SCRC-HARLEM by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 72487; Fri 17-Aug-84 15:50:14-EDT
Date: Friday, 17 August 1984, 15:50-EDT
From: DCP at SCRC-TENEX
Sender: joseph at SCRC-QUABBIN
Subject: globalize blows out
To: bagley at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 2 Aug 84 10:12-EDT from bagley at MIT-OZ
Supersedes: <840802121143.4.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840817155031.2.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Thursday, 2 August 1984, 10:12-EDT
    From: Steven C. Bagley <bagley at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jim Morrison (3600):

    I have a function round in package s.  It is loaded into zwei.  I meta-.
    sys:round.  With the current package = s, I type (globalize "ROUND").
    And it blows out thusly:

    >>Error: S:ROUND and ROUND both already have ZWEI:ZMACS-BUFFERS properties
    While in the function SI:FORWARD-SYMBOL-CELLS  GLOBALIZE  SI:*EVAL

This is not a system blowout, it is a user error.  There really were
two potentially different symbols named ROUND, which had incompatible
properties.  Loading a file into Zmacs, which causes sectionizing, is
the common way to make this mistake.  If you really want one version of
ROUND, do the GLOBALIZE before you load the file into Zmacs.  
17-Aug-84 18:12:05-EDT,7394;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 17 Aug 84 18:11-EDT
Date: Friday, 17 August 1984, 18:04-EDT
From:  <hlv at MIT-OZ>
Subject: screen manager
To: BUG-LISPM at MIT-OZ
Cc: hlv at MIT-OZ

In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

The screen manager doesn't seem to be working as its supposed to.

Here's what I'm trying to do:  I have a window, called a page, which
takes up the entire color screen.  On this page are a number of
constraint frame windows, each of which contains two panes-- an image
pane, displaying a bitblt'ed array, and a command menu pane.  The user
can move and kill the frames with the mouse, but he is not supposed to
be able to alter the page with the mouse.  All frames (and their panes)
share the page's io-buffer so that a process can send :any-tyi's to the
page, and get mouse blips from any visible command menu, sending the
commands to the appropriate frame (actually, to the image-pane in the
enclosing frame).

The problem is that screen management doesn't work on the page.  If I
move a window with the mouse (using Edit Screen, Move Window), it moves
to its proper place, but the old one doesn't get erased.  I tried
sending :refresh (and :refresh :use-old-bits) messages to the screen,
page, frames, and panes--the problem here is that the bit-save array in
the image-pane seems to get ignored; in fact, it gets reset to be blank
pane.  But I probably shouldn't need to do this anyway, if someone can
figure out why the page isn't being managed in the first place.

The screen manager does work if I create the frames directly on the
color-screen, but I really want to have the full-screen page between the
color-screen and the dynamic frames.

I found a mixin called "tv:no-screen-management-mixin" but none with the
opposite name.  According to the documentation, all windows should be
managed by default.  I tried mixing "tv:frame-mixin" into the page, but
this didn't help.  I've been struggling with this for days and wouldn't
bother you if I could figure out what was wrong on my own.
Unfortunately, the documentation is not very helpful.  The code is below.
Thank you very much for your help.

                                              Harry Voorhees


;;; (make-page) makes a page.
;;; (make-grey-image-frame) makes a frame on it.
;;; (go-menu) reads mouse blips from the frames on the page.

;;; -*- Mode: LISP; Package: USER; Base: 10.; Fonts: CPTFONT,CPTFONTI,CPTFONTB -*-

;;; ---------------------------- WINDOWS WITH COMMAND MENUS ---------------------------------

;;; Window which fills color screen.  Other windows are formed on it and share its io-buffer.

(defflavor page
	()
	(tv:window
	 tv:basic-frame
	 tv:dont-select-with-mouse-mixin)
  (:default-init-plist :expose-p t
                       :blinker-p nil
		       :save-bits nil
		       :borders 2.))

(defun make-page (name)
  "Makes a window which fills the color screen."
  (prime-page (tv:make-window 'full-screen-window
			      :name name
			      :superior color:color-screen)))

(defun prime-page (page)
  "This is a real kludge, determined empirically due to poor Symbolics documentation.  By
temporarily selecting page, this magically makes its inferior frames, rather than itself,
mouse-selectable.  Returns page."
  (let ((selected-window tv:selected-window))
    (tv:mouse-set-sheet page)
    (send page :select)
    (send selected-window :select)
    page))

(defun make-edge-page ()
  (setq *edge-page* (prime-page (make-page "Multi-Scale Edge Analysis Page")))
  (setq *default-sheet* *page*))


;;; All menu-frames are build using this constraint frame
;;; Menu frame consists of an image window and a command menu.
(defflavor tv:selectable-bordered-constraint-frame-with-shared-io-buffer
	()
	(tv:bordered-constraint-frame-with-shared-io-buffer
	 tv:select-mixin)
    (:default-init-plist 
      :expose-p nil  ;; initially not exposed because it will be the wrong size 
      :blinker-p nil
      :borders 1.))


;;; Make various image-windows into panes

(defflavor grey-image-pane
	()
	(grey-image-window   ;;; basically, just a tv:window with a couple of methods.
	 tv:pane-no-mouse-select-mixin)
  (:default-init-plist 
     :borders 1.
     :expose-p nil))


(defun make-grey-image-frame (grey-image &optional (superior *default-sheet*))
  "Creates a grey-image menu frame"
  (let* ((border-width 1.)
	 (image-name (send grey-image :name))
	 (frame-name (format nil "~A Grey Image Frame" image-name))
	 (window (tv:make-window
		   'tv:selectable-bordered-constraint-frame-with-shared-io-buffer
		   :io-buffer (send superior :io-buffer)
		   :superior superior
		   :inside-width (+ (send grey-image :height) (* 2. border-width))
		   :name frame-name
		   :borders border-width
		   :x 5.
		   :y 5.
		   :panes
		   `((image-pane
		       grey-image-pane
		       :name ,(format nil "~A Grey Image Pane" image-name)
		       :label ,frame-name
		       :blinker-p nil   
		       :inside-width ,(send grey-image :width)
		       :inside-height ,(send grey-image :height)
		       :save-bits t)
		     (menu-pane
		       tv:command-menu-pane
		       :default-font fonts:hl10
		       :item-list
		       (("Describe" :value :describe
			 :documentation ,(format nil "Describe ~A" image-name)))))
		   :constraints
		   '((main . ((image-pane menu-pane)
			      ((image-pane :ask :pane-size))
			      ((menu-pane  :ask :pane-size)))))))
	 (image-pane (send window :get-pane 'image-pane))
	 (menu-pane (send window :get-pane 'menu-pane)))

    ;; Right now, the frame extends to the bottom of the screen.
    ;; Fix the edges, then expose it.
    (multiple-value-bind (old-left old-top old-right nil)
	(send window :edges)
      (let ((new-bottom (+ old-top
			   (* 2. border-width)
			   (send image-pane :height)
			   (send menu-pane :height))))
	(send window :set-edges old-left old-top old-right new-bottom)))
    (send window :expose)
    (send image-pane :display-array (send grey-image :image-array))  ;;; bitblt's an array to pane
    (send image-pane :set-grey-image grey-image)      ;;; sets the one instance-variable of flavor grey-image-window
    (place-window-with-mouse window)                  ;;; move window with mouse (see below)
    window))

(defun go-menu ()
  "Sets mouse to *default-sheet*, interpreting commands from image menus.  Type q to exit."
  (let ((selected-window tv:selected-window))
    (send *default-sheet* :select)
    (tv:mouse-set-sheet *default-sheet*)
    (loop as blip = (send *default-sheet* :any-tyi)
	  until (eq blip #\q)
	  as result = (cond ((and (listp blip) (eq (car blip) ':menu))
			     (send (fourth blip) :execute (second blip)))
			    (t nil)) ;; ignore input
	  do (selectq result
	       (:describe (send
			    (send
			      (send (fourth blip) :superior)
			      :get-pane 'image-pane)
			    :describe-grey-image))))

      ;; After getting input, reset the selected window to what it was.
      (send selected-window :select)
      t))

(defun place-window-with-mouse (window)
  "Places a window on the screen using the mouse."
  (tv:mouse-set-sheet-then-call (send window :superior)
				#'tv:mouse-set-window-position
				window))
17-Aug-84 19:14:14-EDT,407;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 17 Aug 84 19:13-EDT
Date: Friday, 17 August 1984, 19:10-EDT
From: Kent M Pitman <kmp at MIT-MC>
Subject: Stickiness of default font in Zmacs
To: BUG-LISPM at OZ

In Symbolics Release 4.5 on Merlin (3600):

Switching buffers destroys the "current font" attribute. If I've done
c-m-J to change default font, it's changed back if I do c-m-L c-m-L.
-kmp
17-Aug-84 23:10:11-EDT,2509;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 17 Aug 84 23:09-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 72617; Fri 17-Aug-84 23:09:58-EDT
Date: Friday, 17 August 1984, 23:09-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Variable width for variable values.
To: GAVAN at MIT-PYGMALION
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 22 Jul 84 05:37-EDT from GAVAN at MIT-PYGMALION
Message-ID: <840817230922.5.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Sunday, 22 July 1984, 05:37-EDT
    From:  <GAVAN at MIT-PYGMALION>

    In Release 5.1, Experimental MIT 1.4, Experimental RELATUS 121.52, on Lisp Machine Robot-4 (3600):

    There's a real live bug in computing the appropriate width for
    choose-variable-values windows.

    I have a choice box in the bottom margin of a window that causes some format
    output and then re-evaluates the function which produces the window by calling
    TV:CHOOSE-VARIABLE-VALUES.

    The behavior is this:  On the first evaluation of the function, the box
    isn't wide enough, and my last choice for each item consistently gets
    bumped to the next line.  On succeeding evaluations, after the *THROW,
    the box is plenty wide enough.  Very strange.

    I traced some of the relevant methods and discovered that on the second and
    subsequent evaluations of TV:CHOOSE-VARIABLE-VALUES, the value returned by
    (BASIC-CHOOSE-VARIABLE-VALUES :APPROPRIATE-WIDTH) is larger (by anywhere from
    10. to 25. pixels) than it was for the first evaluation.  Random.

    The following kludge seems to fix things for me, although I have only tested
    it a few times.

    TV:
    (DEFWHOPPER (BASIC-CHOOSE-VARIABLE-VALUES :APPROPRIATE-WIDTH) (EXTRA-WIDTH)
      (COND ((NUMBERP EXTRA-WIDTH)
	     (SETQ EXTRA-WIDTH (* 2. EXTRA-WIDTH))))
      (CONTINUE-WHOPPER EXTRA-WIDTH))

    I can presumably show it to you, but my world should be loaded.  Maybe you
    can spy on it sometime?

I'm having trouble grasping exactly what you're saying.  If this still happens,
and you aren't being faked out by the fact that choose-variable-values windows
don't like to change their size when they are exposed (because it looks spastic),
then please send in a reproducible test case that doesn't depend on too much
of your world being loaded and I'll take a look at it when I get a chance.
By the way, the spasticness policy is controlled by the :ADJUSTABLE-SIZE-P method.
18-Aug-84 00:02:49-EDT,1082;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 18 Aug 84 00:01-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 74067; Fri 17-Aug-84 23:57:50-EDT
Date: Friday, 17 August 1984, 23:56-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: screen manager
To: hlv at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 17 Aug 84 18:04-EDT from hlv at MIT-OZ
Message-ID: <840817235657.4.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Friday, 17 August 1984, 18:04-EDT
    From:  <hlv at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    The screen manager doesn't seem to be working as its supposed to....

    ;;; Window which fills color screen.  Other windows are formed on it and share its io-buffer.

    (defflavor page
	    ()
	    (tv:window
	     tv:basic-frame
	     tv:dont-select-with-mouse-mixin)
      (:default-init-plist :expose-p t
			   :blinker-p nil
			   :save-bits nil
			   :borders 2.))

Putting window before basic-frame in th
18-Aug-84 00:13:46-EDT,1852;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 18 Aug 84 00:13-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 74067; Fri 17-Aug-84 23:57:50-EDT
Date: Friday, 17 August 1984, 23:56-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: screen manager
To: hlv at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 17 Aug 84 18:04-EDT from hlv at MIT-OZ
Message-ID: <840817235657.4.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Friday, 17 August 1984, 18:04-EDT
    From:  <hlv at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    The screen manager doesn't seem to be working as its supposed to....

    ;;; Window which fills color screen.  Other windows are formed on it and share its io-buffer.

    (defflavor page
	    ()
	    (tv:window
	     tv:basic-frame
	     tv:dont-select-with-mouse-mixin)
      (:default-init-plist :expose-p t
			   :blinker-p nil
			   :save-bits nil
			   :borders 2.))

Putting window before basic-frame in the list of components means that you
shadow the screen management methods of basic-frame.  This might explain
the symptoms you describe.  I'm not sure why you're mixing tv:window into
this anyway.  Perhaps only to get tv:borders-mixin?  Or is it that the
name of "window" makes you think you have to mix that into all windows?
(That's a reasonable assumption to make, given the name, but it's quite untrue.)

    (defun make-page (name)
      "Makes a window which fills the color screen."
      (prime-page (tv:make-window 'full-screen-window
				  :name name
				  :superior color:color-screen)))

This does not instantiate the flavor you just defined above.

I didn't read the rest of your program.  Hopefully this will be enough help
to get you going.
18-Aug-84 14:26:28-EDT,3648;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 18 Aug 84 14:26-EDT
Date: Saturday, 18 August 1984, 14:30-EDT
From:  <hlv at MIT-OZ>
Subject: screen manager
To: Moon at SCRC-TENEX, bug-lispm at MIT-OZ
In-reply-to: <840817235657.4.MOON@EUPHRATES.SCRC.Symbolics>

Thanks for your help.  Putting tv:basic-frame before tv:minimum-window
solved the screen management problem, as you suggested.  It caused a
different problem though.  Now when I read from the window's io-buffer,
it only accepts mouse blips--keyboard characters are ignored.  (If
tv:basic-frame is mixed in after tv:minimum-window, keyboard characters
are accepted too.)  I tried changing the order that tv:stream-mixin
was mixed in, but that had no effect.  I looked at the code for all 3
flavors and couldn't identify the source of the problem.

I also tried binding tv:kbd-io-buffer to the window's io-buffer and
rubout-handler to :tyi, while sending the window the :any-tyi message
(see function go-menu) but that didn't help either.

Any ideas what's wrong?  Thank you.

                                      Harry Voorhees

                              -------

;;; Window which fills color screen.  Other windows are formed on it and share its io-buffer.
(defflavor page
	()
	(page-mixin
	 tv:basic-frame   ;; this must be put before tv:minimum-window to enable screen 
                          ;; management--unfortunately, (go-menu) doesn't read characters now
	 tv:stream-mixin  
	 tv:borders-mixin
	 tv:label-mixin
	 tv:minimum-window
	 tv:dont-select-with-mouse-mixin))

;;; This mixin is the first mixed into page so that its init-plist takes priority.
(defflavor page-mixin () ()
  (:default-init-plist :expose-p t
                       :blinker-p nil
		       :borders 2.))

(defmethod (page :after :init) (ignore)
  "This is a kludge, determined empirically due to poor Symbolics documentation.  By
temporarily selecting itself, this magically makes its inferior frames, rather than itself,
mouse-selectable."
  (let ((selected-window tv:selected-window))
    (send self :expose)
    (tv:mouse-set-sheet self)
    (send self :select)
    (send selected-window :select)))

(defun make-page (name)
  "Makes a window which fills the color screen."
  (tv:make-window 'page
		  :name name
		  :superior color:color-screen))

(defun make-edge-page ()
  (setq *edge-page* (make-page "Multi-Scale Edge Analysis Page"))
  (setq *default-sheet* *edge-page*))

;;; This reads *default-sheet*'s io-buffer....
(defun go-menu ()
  "Sets mouse to *default-sheet*, interpreting commands from image menus.  Type q to exit."
  (format t "~%Select commands with mouse; type ~C to quit." #\end)
  ;; (Would be nice to make #\abort exit gracefully too, but first have to figure out 
  ;; how to block its interception.)
  (let ((selected-window tv:selected-window))
;;	(rubout-handler :tyi)
;;	(tv:kbd-io-buffer (send *default-sheet* :io-buffer)))
    (send *default-sheet* :select)
    (tv:mouse-set-sheet *default-sheet*)
    (loop as blip = (send *default-sheet* :any-tyi :read)
;;	  do (print rubout-handler)
	  do (print blip)
	  until (eq blip #\end)		       
	  as result = (cond ((and (listp blip) (eq (car blip) ':menu))
			     (send (fourth blip) :execute (second blip)))
			    (t nil)) ;; ignore input
	  do (selectq result
	       (:describe (send
			    (send
			      (send (fourth blip) :superior)
			      :get-pane 'image-pane)
			    :describe-grey-image))))
      ;; After getting input, reset the selected window to what it was.
      (send selected-window :select)
      t))

18-Aug-84 15:00:43-EDT,2177;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 18 Aug 84 15:00-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 72696; Sat 18-Aug-84 15:00:56-EDT
Date: Saturday, 18 August 1984, 15:01-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: screen manager
To: hlv at MIT-OZ
cc: bug-lispm at MIT-OZ
In-Reply-To: The message of 18 Aug 84 14:30-EDT from hlv at MIT-OZ
Message-ID: <840818150128.5.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Saturday, 18 August 1984, 14:30-EDT
    From:  <hlv at MIT-OZ>

    Thanks for your help.  Putting tv:basic-frame before tv:minimum-window
    solved the screen management problem, as you suggested.  It caused a
    different problem though.  Now when I read from the window's io-buffer,
    it only accepts mouse blips--keyboard characters are ignored.  (If
    tv:basic-frame is mixed in after tv:minimum-window, keyboard characters
    are accepted too.)  I tried changing the order that tv:stream-mixin
    was mixed in, but that had no effect.  I looked at the code for all 3
    flavors and couldn't identify the source of the problem.

    I also tried binding tv:kbd-io-buffer to the window's io-buffer and
    rubout-handler to :tyi, while sending the window the :any-tyi message
    (see function go-menu) but that didn't help either.

Messing with those variables is a real bad idea.

    Any ideas what's wrong?  Thank you.

What's the value of TV:SELECTED-WINDOW when this is happening?  Keyboard
characters go to the i/o buffer of the selected window.  It looks to me, from
reading your code, like you are sending a :SELECT message to a window
that does not have TV:SELECT-MIXIN, so the :SELECT is a no-op.  TV:BASIC-FRAME
provides the ability to pass selection on to its SELECTED-PANE instance
variable, but it doesn't look like you have any code that sets the selected
pane.  If you set the selected pane to something that has an I/O buffer
keyboard characters will go there.

Maybe when you get this to work you should send a message saying what documentation
would have helped you and I'll pass it on as a suggestion to the documentation
department.
18-Aug-84 15:04:53-EDT,1667;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 18 Aug 84 15:04-EDT
Received: from SCRC-ANNISQUAM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 74173; Sat 18-Aug-84 15:06:41-EDT
Date: Saturday, 18 August 1984, 15:05-EDT
From: Doug Dodds <DODDS at SCRC-TENEX>
Subject: Stickiness of default font in Zmacs
To: kmp at MIT-MC
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 17 Aug 84 19:10-EDT from Kent M Pitman <kmp at MIT-MC>
Message-ID: <840818150539.2.DODDS@ANNISQUAM.SCRC.Symbolics>
Fonts: CPTFONT, CPTFONTB

    Date: Friday, 17 August 1984, 19:10-EDT
    From: Kent M Pitman <kmp at MIT-MC>

    In Symbolics Release 4.5 on Merlin (3600):

    Switching buffers destroys the "current font" attribute. If I've done
    c-m-J to change default font, it's changed back if I do c-m-L c-m-L.

Right, and still true in the development system.  It may be easy
enough to change, but it isn't clear to me that what you expected is the
right thing.  Also, I don't know what historical discussions, if any,
led to the present behavior.

c-m-J does two things: it sets the 1current font0 index to the one 
specified (A[=0], B[=1],...), and it sets the 1default font0 to that
index also, just as c-J and m-J do.  The default font index is global:
try m-J in a different window and you will see it is the same as the
last font change specified in the last window in which it was done.

The present behavior seems to be always to set the current font for a
buffer to font A when it is made current.  I don't know if that is holy
writ, or just a sort of defaulted implementation.  Perhaps others can
illuminate this question.
18-Aug-84 16:14:10-EDT,1163;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 18 Aug 84 16:13-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 74184; Sat 18-Aug-84 16:15:59-EDT
Date: Saturday, 18 August 1984, 16:14-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Stickiness of default font in Zmacs
To: Doug Dodds <DODDS at SCRC-TENEX>
cc: kmp at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: <840818150539.2.DODDS@ANNISQUAM.SCRC.Symbolics>
Message-ID: <840818161448.6.MOON@EUPHRATES.SCRC.Symbolics>
Fonts: CPTFONT, CPTFONTB

    Date: Saturday, 18 August 1984, 15:05-EDT
    From: Doug Dodds <DODDS at SCRC-TENEX>

	Date: Friday, 17 August 1984, 19:10-EDT
	From: Kent M Pitman <kmp at MIT-MC>

	Switching buffers destroys the "current font" attribute.

    The present behavior seems to be always to set the current font for a
    buffer to font A when it is made current.  I don't know if that is holy
    writ, or just a sort of defaulted implementation.  Perhaps others can
    illuminate this question.

I believe the current-font should be maintained per-window per-buffer in exactly
the way that Point is maintained.
20-Aug-84 13:01:04-EDT,4121;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 20 Aug 84 13:00-EDT
Date: Monday, 20 August 1984, 12:59-EDT
From: Patrick A. O'Donnell <PAO at MIT-EECS>
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Robot-3 (3600):

Attempted to recompile the following flavor definition.  The change was
the addition of the :mixture option.  (I punted most of the redundant
frames...)


(DEFFLAVOR HISTOHACK ((N-VALUES 3)
		      VALUE-NAMES
		      VALUES-ARRAY
		      (MAX-VALUE 1024.)
		      BAR-WIDTH BAR-SPACING INDEX-MARGIN)
	   (TV:TRUNCATING-LINES-MIXIN TV:WINDOW)
  (:INIT-KEYWORDS :INITIAL-VALUES :FLOATING-POINT-VALUES)
  (:DEFAULT-INIT-PLIST :BLINKER-P NIL :MORE-P NIL)
  :INITABLE-INSTANCE-VARIABLES
  :GETTABLE-INSTANCE-VARIABLES
  (:MIXTURE (:FLOATING-POINT-VALUES HISTOHACK-FLOATING-POINT-MIXIN)))


>>Error: The control stack overflowed.
While in the function REMPROP  SI:PERFORM-FLAVOR-REDEFINITION  SI:PERFORM-FLAVOR-REDEFINITION

SI:PERFORM-FLAVOR-REDEFINITION:  (P.C. = 145)
   Arg 0 (FLAVOR-NAME): HISTOHACK
   Arg 1 (NEW-PLIST): T
   Arg 2 (BECAUSE-OF-FLAVOR): HISTOHACK
   Local 3 (FL): #<FLAVOR HISTOHACK 22063761>
   Local 4 (NFL): NIL
   Local 5 (PLIST): #<DTP-LOCATIVE 22064004>
   Local 6: (HISTOHACK)
   Local 7 (FN): HISTOHACK

SI:PERFORM-FLAVOR-REDEFINITION:  (P.C. = 145)
   Arg 0 (FLAVOR-NAME): HISTOHACK
   Arg 1 (NEW-PLIST): T
   Arg 2 (BECAUSE-OF-FLAVOR): HISTOHACK

SI:PERFORM-FLAVOR-REDEFINITION:  (P.C. = 145)
   Arg 0 (FLAVOR-NAME): HISTOHACK
   Arg 1 (NEW-PLIST): T
   Arg 2 (BECAUSE-OF-FLAVOR): HISTOHACK

SI:PERFORM-FLAVOR-REDEFINITION:  (P.C. = 145)
   Arg 0 (FLAVOR-NAME): HISTOHACK
   Arg 1 (NEW-PLIST): T
   Arg 2 (BECAUSE-OF-FLAVOR): HISTOHACK

SI:PERFORM-FLAVOR-REDEFINITION:  (P.C. = 145)
   Arg 0 (FLAVOR-NAME): HISTOHACK
   Arg 1 (NEW-PLIST): T
   Arg 2 (BECAUSE-OF-FLAVOR): HISTOHACK

SI:PERFORM-FLAVOR-REDEFINITION:  (P.C. = 145)
   Arg 0 (FLAVOR-NAME): HISTOHACK
   Arg 1 (NEW-PLIST): (SI:FLAVOR-MIXTURE (:FLOATING-POINT-VALUES (T FLOATING-POINT-HISTOHACK) (NIL HISTOHACK)) :DEFAULT-INIT-PLIST (:BLINKER-P NIL :MORE-P NIL) SI:MAPPING-TABLE-OFFSETS (N-VALUES VALUE-NAMES VALUES-ARRAY MAX-VALUE BAR-WIDTH BAR-SPACING INDEX-MARGIN))
   Arg 2 (BECAUSE-OF-FLAVOR): HISTOHACK

SI:DEFFLAVOR1:  (P.C. = 1076)
   Arg 0 (FLAVOR-NAME): HISTOHACK
   Arg 1 (INSTANCE-VARIABLES): ((N-VALUES 3) VALUE-NAMES VALUES-ARRAY (MAX-VALUE 2000) BAR-WIDTH BAR-SPACING INDEX-MARGIN)
   Arg 2 (COMPONENT-FLAVORS): (TV:TRUNCATING-LINES-MIXIN TV:WINDOW)
   Arg 3 (OPTIONS): ((:INIT-KEYWORDS :INITIAL-VALUES :FLOATING-POINT-VALUES) (:DEFAULT-INIT-PLIST :BLINKER-P NIL :MORE-P NIL) :INITABLE-INSTANCE-VARIABLES :GETTABLE-INSTANCE-VARIABLES (:MIXTURE (:FLOATING-POINT-VALUES HISTOHACK-FLOATING-POINT-MIXIN)))

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (SI:DEFFLAVOR1 (QUOTE HISTOHACK) (QUOTE ((N-VALUES 3) VALUE-NAMES VALUES-ARRAY (MAX-VALUE 2000) BAR-WIDTH BAR-SPACING INDEX-MARGIN)) (QUOTE (TV:TRUNCATING-LINES-MIXIN TV:WINDOW)) (QUOTE ((:INIT-KEYWORDS :INITIAL-VALUES :FLOATING-POINT-VALUES) (:DEFAULT-INIT-PLIST :BLINKER-P NIL :MORE-P NIL) :INITABLE-INSTANCE-VARIABLES :GETTABLE-INSTANCE-VARIABLES (:MIXTURE **))))

Rest of stack:
(:INTERNAL COMPILER:COMPILE-PROCESS-DEFAULT 0):  (P.C. = 3)
COMPILER:COMPILE-PROCESS-DEFAULT:  (P.C. = 12)
COMPILER:COMPILE-TO-CORE:  (P.C. = 67)
COMPILER:COMPILE-FORM-FUNCTION:  (P.C. = 22)
COMPILER:COMPILE-FROM-STREAM-1:  (P.C. = 324)
COMPILER:COMPILE-FROM-STREAM-1:  (P.C. = 105)
COMPILER:COMPILE-FROM-STREAM-1:  (P.C. = 172)
COMPILER:PROCESS-FORMS-FROM-STREAM:  (P.C. = 117)
COMPILER:COMPILE-FROM-STREAM:  (P.C. = 235)
ZWEI:COMPILE-INTERVAL:  (P.C. = 141)
ZWEI:COMPILE-PRINT-INTERVAL:  (P.C. = 76)
ZWEI:COMPILE-DEFINITION-INTERNAL:  (P.C. = 73)
ZWEI:COM-COMPILE-REGION:  (P.C. = 5)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
20-Aug-84 13:08:43-EDT,562;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 20 Aug 84 13:08-EDT
Date: Monday, 20 August 1984, 13:07-EDT
From: Patrick A. O'Donnell <PAO at MIT-EECS>
Subject: More on the flavor redefinition problem
To: BUG-LISPM at MIT-OZ
Cc: PAO at MIT-EECS

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Robot-3 (3600):

Not surprisingly, removing the :mixture option and attempting to
recompile also lost.  Removing the SI:FLAVOR property from HISTOHACK
allowed the recompilation without :mixture to succeed, but with the
:mixture still failed.
21-Aug-84 03:37:12-EDT,2225;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 21 Aug 84 03:37-EDT
Date: Tuesday, 21 August 1984, 03:36-EDT
From:  <GAVAN at MIT-PYGMALION>
Subject: Variable width for variable values.
To: Moon at SCRC-TENEX, GAVAN at MIT-PYGMALION
Cc: BUG-LISPM at MIT-OZ
In-reply-to: <840817230922.5.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Friday, 17 August 1984, 23:09-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

	Date: Sunday, 22 July 1984, 05:37-EDT
	From:  <GAVAN at MIT-PYGMALION>

	In Release 5.1, Experimental MIT 1.4, Experimental RELATUS 121.52, on Lisp Machine Robot-4 (3600):

	There's a real live bug in computing the appropriate width for
	choose-variable-values windows . . .

    I'm having trouble grasping exactly what you're saying.  If this still happens,
    and you aren't being faked out by the fact that choose-variable-values windows
    don't like to change their size when they are exposed (because it looks spastic),
    then please send in a reproducible test case that doesn't depend on too much
    of your world being loaded and I'll take a look at it when I get a chance.
    By the way, the spasticness policy is controlled by the :ADJUSTABLE-SIZE-P method.

You're responding to a very old bug report.  I sent in a reproducible test
case weeks ago (after the bug report you're responding to here) and you
implemented a fix for the real problem (multi-line labels).   You must have
forgotten.  I have a copy of that patch, but I've noticed that it doesn't
always win.  For AAAI, I switched to a single-line label, but will soon switch
back to a multi-line label to see if I can get the window to lose again.  I'll
let you know if it does.

The bug is VERY flakey.  It throws me into the error handler only
occasionally, and walking back up the stack and re-evaluating always wins.
Sometimes, instead of barfing, the choices will be displayed on top of each
other instead of side-by-side.  For instance . . .

   Yow! Am I losing yet? YES
                         NO

instead of . . .

   Yow! Am I losing yet? YES NO

Anyway, the bottom line is that I'm running with your patch, will soon go back
to a multi-line label, and will let you know.  Thanks.
21-Aug-84 05:07:36-EDT,2138;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 21 Aug 84 05:07-EDT
Date: Monday, 20 August 1984, 20:59-EDT
From:  <JCMA at MIT-FRANK-SINATRA>
Subject: Tape Lossage
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.5, FEP 18, on Lisp Machine Frank Sinatra (3600):

How do I check to see if my tape is really bad???


>>Error: We cannot even tell if this is a LMFS backup tape.
         This is because we cannot even read the prelude because of the following tape error:
         Hard tape error: Extended status bits:    10010110 10100000 (Bad block not located, Unrecoverable data error, Write protected cartridge, Byte 0 bits, No data detected, Byte 1 bits)
While in the function LMFS:RELOADER-READ-PRELUDE  LMFS:RELOADER-SCAN-TAPE  LMFS:RELOADER

LMFS:RELOADER-READ-PRELUDE:  (P.C. = 53)
   Local 0 (ERR): #<TRANSFER-ERROR 10253224>

LMFS:RELOADER-SCAN-TAPE:  (P.C. = 7)

LMFS:RELOADER:  (P.C. = 420)
   --Defaulted args:--
   Arg 0 (ACTION): :RETRIEVE
   Rest arg (OPTIONS): NIL

(:METHOD LMFS:FSMAINT-FRAME :EXECUTE):  (P.C. = 456)
   Arg 0 (SELF): #<FSMAINT-FRAME Fsmaint Frame 1 4702452 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor LMFS:FSMAINT-FRAME -- 11. IV's, 12. FL's 35252747>
   Arg 2 (OPERATION): :EXECUTE
   Arg 3 (KEY): :RELOAD

(:METHOD LMFS:FSMAINT-FRAME :INTERPRET-INPUT):  (P.C. = 167)
   Arg 0 (SELF): #<FSMAINT-FRAME Fsmaint Frame 1 4702452 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor LMFS:FSMAINT-FRAME -- 11. IV's, 12. FL's 35252747>
   Arg 2 (OPERATION): :INTERPRET-INPUT
   Arg 3 (INPUT): (:MENU (NIL :VALUE :RELOAD) 1 #<COMMAND-MENU-PANE Command Menu Pane 3 4702571 exposed>)

(:METHOD LMFS:FSMAINT-FRAME :FSMAINT-TOP-LEVEL):  (P.C. = 57)
   Arg 0 (SELF): #<FSMAINT-FRAME Fsmaint Frame 1 4702452 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor LMFS:FSMAINT-FRAME -- 11. IV's, 12. FL's 35252747>
   Arg 2 (OPERATION): :FSMAINT-TOP-LEVEL

LMFS:FSMAINT-TOP-LEVEL:  (P.C. = 6)
   Arg 0 (TERMINAL-IO-initialization): #<FSMAINT-FRAME Fsmaint Frame 1 4702452 exposed>

SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
   Arg 0 (IGNORE): NIL
21-Aug-84 09:09:50-EDT,848;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 21 Aug 84 09:09-EDT
Date: Tuesday, 21 August 1984, 09:08-EDT
From:  <HLV at MIT-OZ>
Subject: tv:basic-frame mixin
To: moon at SCRC-STONY-BROOK, BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

The methods of mixin tv:basic-frame should be separated into two
mixins--those that provide screen management, and those that provide
pane selection and message forwarding to panes.  

In particular, if one wishes to define a window which has inferiors but
which is not a frame, then the screen management methods without the
pane forwarding methods of tv:basic-frame are needed.

(This was the reason for the screen management/io-buffer problem I
had earlier.) 

                                            Harry Voorhees
21-Aug-84 09:39:33-EDT,1315;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 21 Aug 84 09:39-EDT
Received: from SCRC-NEPONSET by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 21005; Tue 21-Aug-84 09:34:53-EDT
Date: Tuesday, 21 August 1984, 09:34-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Tape Lossage
To: JCMA at MIT-FRANK-SINATRA, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 20 Aug 84 20:59-EDT from JCMA at MIT-FRANK-SINATRA
Message-ID: <840821093436.1.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 20 August 1984, 20:59-EDT
    From:  <JCMA at MIT-FRANK-SINATRA>

    In Release 5.1, Experimental MIT 1.5, FEP 18, on Lisp Machine Frank Sinatra (3600):

    How do I check to see if my tape is really bad???


    >>Error: We cannot even tell if this is a LMFS backup tape.
	     This is because we cannot even read the prelude because of the following tape error:
	     Hard tape error: Extended status bits:    10010110 10100000 (Bad block not located, Unrecoverable data error, Write protected cartridge, Byte 0 bits, No data detected, Byte 1 bits)
    While in the function LMFS:RELOADER-READ-PRELUDE  LMFS:RELOADER-SCAN-TAPE  LMFS:RELOADER

This looks like a blank tape.  The only thing I can suggest is try the
tape in another drive, or try another tape in the same drive.
21-Aug-84 09:55:43-EDT,633;000000000000
Mail-From: X.GYRO created at 21-Aug-84 09:55:21
Date: 21 Aug 1984  09:55 EDT (Tue)
Message-ID: <X.GYRO.12041212421.BABYL@MIT-OZ>
From: Scott Layson <X.GYRO@MIT-OZ>
To:   bug-lispm@MIT-OZ
Subject: STRING doesn't accept ART-8B arrays???


In Release 5.1  AND  System 98.39:

>>ERROR: Cannot convert #<ART-8B-32 34200030> into a string.

Why the hell not?  Seems to me that any of the string operations should be
able to accept an ART-8B.  STRING is clearly documented, in both MIT and
Symbolics manuals, to return any array passed to it (though one might argue
that it should only return numeric arrays).  

-- Scott
21-Aug-84 11:27:58-EDT,1473;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 21 Aug 84 11:27-EDT
Received: from SCRC-CONCORD by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 75685; Tue 21-Aug-84 10:21:15-EDT
Date: Tuesday, 21 August 1984, 10:20-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Tape Lossage
To: JCMA at MIT-FRANK-SINATRA, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 20 Aug 84 20:59-EDT from JCMA at MIT-FRANK-SINATRA
Message-ID: <840821102031.6.BSG@CONCORD.SCRC.Symbolics>

    Date: Monday, 20 August 1984, 20:59-EDT
    From:  <JCMA at MIT-FRANK-SINATRA>

    In Release 5.1, Experimental MIT 1.5, FEP 18, on Lisp Machine Frank Sinatra (3600):

    How do I check to see if my tape is really bad???


    >>Error: We cannot even tell if this is a LMFS backup tape.
	     This is because we cannot even read the prelude because of the following tape error:
	     Hard tape error: Extended status bits:    10010110 10100000 (Bad block not located, Unrecoverable data error, Write protected cartridge, Byte 0 bits, No data detected, Byte 1 bits)
    While in the function LMFS:RELOADER-READ-PRELUDE  LMFS:RELOADER-SCAN-TAPE  LMFS:RELOADER

It is telling you in no uncertain terms that it thinks the tape is bad
(Unrecoverable data error, no data detected, etc.)  As far as that drive
is concerned, the tape is pretty goddamned bad.  Your only hope is to
find a drive that does not concur.  That is the operational definition
of "bad".
21-Aug-84 12:27:39-EDT,1373;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 21 Aug 84 12:27-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 75764; Tue 21-Aug-84 12:08:26-EDT
Date: Tuesday, 21 August 1984, 12:07-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: STRING doesn't accept ART-8B arrays???
To: Scott Layson <X.GYRO at MIT-OZ>, bug-lispm at MIT-OZ
cc: Bug-LMdoc at SCRC-TENEX
In-Reply-To: <X.GYRO.12041212421.BABYL@MIT-OZ>
Message-ID: <840821120724.2.NFEP@NEPONSET.SCRC.Symbolics>

    Date: 21 Aug 1984  09:55 EDT (Tue)
    From: Scott Layson <X.GYRO@MIT-OZ>


    In Release 5.1  AND  System 98.39:

    >>ERROR: Cannot convert #<ART-8B-32 34200030> into a string.

    Why the hell not?  Seems to me that any of the string operations should be
    able to accept an ART-8B.  STRING is clearly documented, in both MIT and
    Symbolics manuals, to return any array passed to it (though one might argue
    that it should only return numeric arrays).  

In Common Lisp, it should return only arrays of character objects.  The
documentation is in error; it shouldn't return any-old array.  That is
probably a modularity laziness left over from the old days.  Anyway,
just because apples and oranges are both fruits, doesn't mean you can
coerce one to the other (using accepted scientific techniques...).
21-Aug-84 14:41:00-EDT,1197;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 21 Aug 84 14:40-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 73844; Tue 21-Aug-84 14:39:18-EDT
Date: Tuesday, 21 August 1984, 14:39-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: STRING doesn't accept ART-8B arrays???
To: Scott Layson <X.GYRO at MIT-OZ>, BUG-LMDOC at SCRC-TENEX
cc: bug-lispm at MIT-OZ
In-Reply-To: <X.GYRO.12041212421.BABYL@MIT-OZ>
Message-ID: <840821143921.7.MOON@EUPHRATES.SCRC.Symbolics>

    Date: 21 Aug 1984  09:55 EDT (Tue)
    From: Scott Layson <X.GYRO@MIT-OZ>

    In Release 5.1  AND  System 98.39:

    >>ERROR: Cannot convert #<ART-8B-32 34200030> into a string.

    Why the hell not?  Seems to me that any of the string operations should be
    able to accept an ART-8B.  STRING is clearly documented, in both MIT and
    Symbolics manuals, to return any array passed to it (though one might argue
    that it should only return numeric arrays).  

The documentation is incorrect.  The STRING function always returns a string.
I believe this change was made several years ago, so it's not surprising that
the documentation update was overlooked.
21-Aug-84 14:42:32-EDT,1318;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 21 Aug 84 14:42-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 73845; Tue 21-Aug-84 14:41:06-EDT
Date: Tuesday, 21 August 1984, 14:41-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: STRING doesn't accept ART-8B arrays???
To: Scott Layson <X.GYRO at MIT-OZ>, BUG-LMDOC at SCRC-TENEX
cc: bug-lispm at MIT-OZ
In-Reply-To: <X.GYRO.12041212421.BABYL@MIT-OZ>
Supersedes: <840821143921.7.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840821144114.8.MOON@EUPHRATES.SCRC.Symbolics>

    Date: 21 Aug 1984  09:55 EDT (Tue)
    From: Scott Layson <X.GYRO@MIT-OZ>

    In Release 5.1  AND  System 98.39:

    >>ERROR: Cannot convert #<ART-8B-32 34200030> into a string.

    Why the hell not?  Seems to me that any of the string operations should be
    able to accept an ART-8B.  STRING is clearly documented, in both MIT and
    Symbolics manuals, to return any array passed to it (though one might argue
    that it should only return numeric arrays).  

The documentation is incorrect.  The STRING function always returns a string.
I believe this change was made several years ago, so it's not surprising that
the documentation update was overlooked.

The fourth paragraph on page 25 of ARR is inaccurate too.
21-Aug-84 14:47:16-EDT,1186;000000000000
Mail-From: DROGERS created at 21-Aug-84 14:46:54
Date: Tue 21 Aug 84 14:46:54-EDT
From: David Rogers <DRogers@MIT-OZ>
Subject: nice things to have
To: BUG-LISPM@MIT-OZ

Suggestions, anyone?

1. It would be nice if one could recieve a SEND message at a chosen site
whenever a LISP machine opens up. 

1. It would be nice if one could watch for certain people logging into a LISP
machine, and send self a message when this occurs. 

1. It would be nice if one could edit a namespace object and not
wait minutes for the server to complete storage upon finishing. It should just
send a message back to the user upon success or failure.

1. It would be nice for the telnet/supdup screens to have as a NETWORK option
the ability to turn off the notification stuff. When flipping back and
forth between two telnet screens when both are outputting, it's quite 
irritating.

1. It would be nice to be able to TELNET to ARPAnet sites again...

Best Regards,

David

PS: I haven't noticed much namespace brain-damage recently, which either means
    that it's been improved or that CADR15 is acting spunky for once.
    Congratulations if it's the former.
-------
21-Aug-84 16:02:22-EDT,458;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 21 Aug 84 16:01-EDT
Date: Tuesday, 21 August 1984, 15:56-EDT
From: Joseph Lee Jones <JLJ at MIT-OZ>
Subject: Keith Moon display problems
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Keith Moon (3600):

The display on Keith Moon had gotten falkey.  If you bump or lean on the console
the screen goes blank until bumped or leaned on in just the right way again.
21-Aug-84 21:06:21-EDT,1645;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 21 Aug 84 21:05-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 76153; Tue 21-Aug-84 20:48:32-EDT
Date: Tuesday, 21 August 1984, 20:48-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: File system bug 
To: David C. Plummer in disguise <DCP at SCRC-TENEX>
cc: CJL at MIT-OZ, BUG-LISPM at MIT-OZ, STRAZ at MIT-OZ
In-Reply-To: <840816195858.0.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840821204849.8.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Thursday, 16 August 1984, 19:58-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

	Date: Thursday, 16 August 1984, 17:33-EDT
	From: CJL at MIT-OZ

	In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

	I tried m-X copy file from janis|fep0:>boot.boot

	>>Error: File system bug on host JANIS|FEP0:
		 Null or missing user name in LOGIN request.
		 For JANIS|FEP0:>boot.boot
	While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:LOGIN-HOST-UNIT  (:METHOD FS:QFILE-ACCESS-PATH :LOGIN-UNIT)

    This doesn't happen in the development system (I can read that file from
    my machine).  It does happen trying to read the file on my machine from
    Jimi, so it is a bug in user side in the 5.1-plus release you have.  I
    thought this might be fixed by a patch made to 5.2, but I couldn't find
    anything.  I could be wrong.

I was just able to do a (viewf "janis|fep0:>boot.boot") on Tay, running 5.2.
It took forever to get the connection, but that must have been because STRAZ
was using it.  Eh?  So, fixed in 5.2.
21-Aug-84 23:38:33-EDT,1397;000000000000
Mail-From: X.GYRO created at 21-Aug-84 23:38:13
Date: 21 Aug 1984  23:38 EDT (Tue)
Message-ID: <X.GYRO.12041362218.BABYL@MIT-OZ>
From: Scott Layson <X.GYRO@MIT-OZ>
To:   "David C. Plummer in disguise" <DCP@SCRC-TENEX>
Cc:   bug-lispm@MIT-OZ, Bug-LMdoc@SCRC-TENEX
Subject: STRING doesn't accept ART-8B arrays???
In-reply-to: Msg of 21 Aug 1984 12:07-EDT from David C. Plummer in disguise <DCP at SCRC-TENEX>

    Date: Tuesday, 21 August 1984, 12:07-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

        Date: 21 Aug 1984  09:55 EDT (Tue)
        From: Scott Layson <X.GYRO@MIT-OZ>

        In Release 5.1  AND  System 98.39:

        >>ERROR: Cannot convert #<ART-8B-32 34200030> into a string.

    In Common Lisp, it should return only arrays of character objects.  The
    documentation is in error; it shouldn't return any-old array.  That is
    probably a modularity laziness left over from the old days.

Okay, if you insist, but then there are a lot of "string" manipulation
functions whose functionality is perfectly well defined on any ART-nB
array or even any array at all -- the search functions, particularly.
These should not call STRING on their arguments.  Perhaps they should
also be renamed from STRING-foo to ARRAY-foo.  I mean, why should
we rewrite REVERSE-SEARCH-NOT-SET just because we want to do it on an
ART-8B?

-- Scott
22-Aug-84 09:31:43-EDT,2009;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 22 Aug 84 09:31-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 76356; Wed 22-Aug-84 09:29:35-EDT
Date: Wednesday, 22 August 1984, 09:29-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: STRING doesn't accept ART-8B arrays???
To: Scott Layson <X.GYRO at MIT-OZ>,
    David C. Plummer in disguise <DCP at SCRC-TENEX>
cc: bug-lispm at MIT-OZ
In-Reply-To: <X.GYRO.12041362218.BABYL@MIT-OZ>
Message-ID: <840822092926.5.NFEP@NEPONSET.SCRC.Symbolics>

    Date: 21 Aug 1984  23:38 EDT (Tue)
    From: Scott Layson <X.GYRO@MIT-OZ>

	Date: Tuesday, 21 August 1984, 12:07-EDT
	From: David C. Plummer in disguise <DCP at SCRC-TENEX>

	    Date: 21 Aug 1984  09:55 EDT (Tue)
	    From: Scott Layson <X.GYRO@MIT-OZ>

	    In Release 5.1  AND  System 98.39:

	    >>ERROR: Cannot convert #<ART-8B-32 34200030> into a string.

	In Common Lisp, it should return only arrays of character objects.  The
	documentation is in error; it shouldn't return any-old array.  That is
	probably a modularity laziness left over from the old days.

    Okay, if you insist, but then there are a lot of "string" manipulation
    functions whose functionality is perfectly well defined on any ART-nB
    array or even any array at all -- the search functions, particularly.
    These should not call STRING on their arguments.  Perhaps they should
    also be renamed from STRING-foo to ARRAY-foo.  I mean, why should
    we rewrite REVERSE-SEARCH-NOT-SET just because we want to do it on an
    ART-8B?

String functions ignore case because they do character object
comparison.  Currently character objects and fixnums are the same, but
that will change when we fully implement CommonLisp.  If you want
numeric comparisons, you will have to write your own functions (though I
think the CommonLisp sequence functions will do what you want), and you
should restrict yourself to just ART-8B.
22-Aug-84 10:03:24-EDT,1039;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 22 Aug 84 10:03-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 74116; Wed 22-Aug-84 10:01:40-EDT
Date: Wednesday, 22 August 1984, 10:02-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Keith Moon display problems
To: Joseph Lee Jones <JLJ at MIT-OZ>, Bug-hardware at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 21 Aug 84 15:56-EDT from Joseph Lee Jones <JLJ at MIT-OZ>
Message-ID: <840822100211.3.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 21 August 1984, 15:56-EDT
    From: Joseph Lee Jones <JLJ at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Keith Moon (3600):

    The display on Keith Moon had gotten falkey.  If you bump or lean on the console
    the screen goes blank until bumped or leaned on in just the right way again.

Please send hardware problems to bug-hardware (or other qualified
mailing lists) and keep bug-lispm for software problems.  Thanks.
22-Aug-84 11:07:14-EDT,1363;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 22 Aug 84 11:06-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 74158; Wed 22-Aug-84 11:05:19-EDT
Date: Wednesday, 22 August 1984, 11:05-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: &optional &key &allow-other-keys &rest
To: Ramin D. Zabih <RDZ at MIT-MC>, KMP at MIT-MC,
    David C. Plummer in disguise <DCP at SCRC-TENEX>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Aug 84 18:22-EDT from Ramin D. Zabih <RDZ at MIT-MC>,
             <840813200336.3.NFEP@NEPONSET.SCRC.Symbolics>,
             <840814101014.9.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840822110551.3.NFEP@NEPONSET.SCRC.Symbolics>

I rewrote SI:APPLY-LAMBDA to be correct.  It is mostly waiting some
approval before going into the source.  An even better version will
probably appear in Release 6.

Note that &optional &key &allow-other-keys &rest is not a valid
sequence.  As Common Lisp specifies, it must be
	&optional &rest &key &allow-other-keys
The compiler allows your order, the interpreter will not.  At some
point, the compiler needs to be fixed.

As I recall, KMP reported ages ago that
	(defun foo (&key a) a)
	(foo :a 1 :a 2) => 2 (interpreted) and 1 (compiled).
The new SI:APPLY-LAMBDA (interpreter) does the right thing and returns
1.
22-Aug-84 17:16:59-EDT,5540;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 22 Aug 84 17:16-EDT
Date: Wednesday, 22 August 1984, 17:14-EDT
From: Roland Ouellette <Roly at MIT-MC>
Subject: Namespace lossage
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, on Lisp Machine Buddy Holly (3600):

This is from Joe-Louis not Buddy.  Twice today I have gotten this
strangeness on booting Joe.  In between I did another boot and didn't
get this error.  I don't think that this one is my fault.  Resuming from
this error looses because Joe then thinks that he is Buddy.
Reevaluating (neti:initialize-namespaces-and-network) won.  Maybe LM15
just lost or something.

>>Error: You cannot create a new namespace :INTERNET this way.
While in the function (:METHOD NETI:CLASS :NAMESPACE-FOR-OBJECT-UPDATE)  NETI:DO-UNKNOWN-OBJECT-FIXUPS  NETI:QUERY-NAMESPACE-SERVER

(:METHOD NETI:CLASS :NAMESPACE-FOR-OBJECT-UPDATE):  (P.C. = 65)
   Arg 0 (SELF): #<CLASS NAMESPACE 20100240>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NETI:CLASS -- 1. IV's, 0. FL's 37536044>
   Arg 2 (OPERATION): :NAMESPACE-FOR-OBJECT-UPDATE
   Arg 3 (OBJECT-NAME): :INTERNET
   Arg 4 (OBJECT-PROPERTY-LIST): NIL
   Local 5 (.SELECTQ-ITEM.): :NAMESPACE

NETI:DO-UNKNOWN-OBJECT-FIXUPS:  (P.C. = 162)
   Arg 0 (DECACHE-FIRST): T

NETI:QUERY-NAMESPACE-SERVER:  (P.C. = 477)
   Arg 0 (CLASS): :NAMESPACE
   Arg 1 (NAMESPACE): #<NAMESPACE MIT 16540125>
   Rest arg (PROPERTY-LIST): (:NAME :MIT)

NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 421)
   Arg 0 (NAMESPACE): #<NAMESPACE MIT 16540125>
   Arg 1 (STARTING-TIMESTAMP): 2514

(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
   Arg 0 (SELF): #<NAMESPACE MIT 16540125>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NETI:NAMESPACE -- 8. IV's, 0. FL's 37535174>
   Arg 2 (OPERATION): :GET-LATEST-TIMESTAMP

(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
   Arg 0 (SELF): #<NAMESPACE MIT 16540125>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NETI:NAMESPACE -- 8. IV's, 0. FL's 37535174>
   Arg 2 (OPERATION): :VALIDATION-TIMESTAMP

(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
   Arg 0 (SELF): #<LISPM-HOST CADR-15 16724030>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37756445>
   Arg 2 (OPERATION): :CHECK-VALIDITY
   Arg 3 (RELATIVE-TO-NAMESPACE): #<NAMESPACE MIT 16540125>
   Arg 4 (FORCE-P): NIL

(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
   Arg 0 (SELF): #<LISPM-HOST CADR-15 16724030>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37756445>
   Arg 2 (OPERATION): :CHECK-VALIDITY
   --Defaulted args:--
   Arg 3 (RELATIVE-TO-NAMESPACE): NIL
   Arg 4 (FORCE-P): NIL

Rest of stack:
(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
(:METHOD NET:HOST :NETWORK-SERVICES):  (P.C. = 5)
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 41)
NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
NETI:GET-LATEST-TIMESTAMP-FROM-NETWORK:  (P.C. = 34)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 440)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
(:METHOD NET:HOST :NETWORK-SERVICES):  (P.C. = 5)
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 41)
NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
NETI:GET-LATEST-TIMESTAMP-FROM-NETWORK:  (P.C. = 34)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 440)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
(:METHOD NET:NETWORK :NETWORK-TYPEP):  (P.C. = 6)
NETI:HOST-MEDIUM-MAXIMUM-DESIRABILITY:  (P.C. = 105)
NETI:HOST-SERVICE-MAXIMUM-DESIRABILITY:  (P.C. = 14)
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 71)
NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
NETI:GET-LATEST-TIMESTAMP-FROM-NETWORK:  (P.C. = 34)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 440)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
(:METHOD NET:HOST :NETWORK-SERVICES):  (P.C. = 5)
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 41)
NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
NETI:GET-LATEST-TIMESTAMP-FROM-NETWORK:  (P.C. = 34)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 440)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
NETI:FIND-OBJECT-NAMED-IN-NAMESPACE:  (P.C. = 45)
NET:FIND-OBJECT-NAMED:  (P.C. = 46)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 267)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
NETI:INITIALIZE-NAMESPACES-AND-NETWORK:  (P.C. = 155)
LISP-REINITIALIZE:  (P.C. = 435)
SI:LISP-TOP-LEVEL:  (P.C. = 3)
22-Aug-84 17:26:17-EDT,5265;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 22 Aug 84 17:23-EDT
Date: Wednesday, 22 August 1984, 17:18-EDT
From: DRogers at MIT-OZ
Subject: namespace
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

I don't think my last bug report made it, so here's another try.
This bug wedges the LISP machine VERY WELL.

>>Error: You cannot create a new namespace :INTERNET this way.
While in the function (:METHOD NETI:CLASS :NAMESPACE-FOR-OBJECT-UPDATE)  NETI:DO-UNKNOWN-OBJECT-FIXUPS  NETI:QUERY-NAMESPACE-SERVER

(:METHOD NETI:CLASS :NAMESPACE-FOR-OBJECT-UPDATE):  (P.C. = 65)
   Arg 0 (SELF): #<CLASS NAMESPACE 20100240>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NETI:CLASS -- 1. IV's, 0. FL's 37536044>
   Arg 2 (OPERATION): :NAMESPACE-FOR-OBJECT-UPDATE
   Arg 3 (OBJECT-NAME): :INTERNET
   Arg 4 (OBJECT-PROPERTY-LIST): NIL
   Local 5 (.SELECTQ-ITEM.): :NAMESPACE

NETI:DO-UNKNOWN-OBJECT-FIXUPS:  (P.C. = 162)
   Arg 0 (DECACHE-FIRST): T

NETI:QUERY-NAMESPACE-SERVER:  (P.C. = 477)
   Arg 0 (CLASS): :NAMESPACE
   Arg 1 (NAMESPACE): #<NAMESPACE MIT 16540125>
   Rest arg (PROPERTY-LIST): (:NAME :MIT)

NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 421)
   Arg 0 (NAMESPACE): #<NAMESPACE MIT 16540125>
   Arg 1 (STARTING-TIMESTAMP): 2514

(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
   Arg 0 (SELF): #<NAMESPACE MIT 16540125>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NETI:NAMESPACE -- 8. IV's, 0. FL's 37535174>
   Arg 2 (OPERATION): :GET-LATEST-TIMESTAMP

(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
   Arg 0 (SELF): #<NAMESPACE MIT 16540125>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NETI:NAMESPACE -- 8. IV's, 0. FL's 37535174>
   Arg 2 (OPERATION): :VALIDATION-TIMESTAMP

(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
   Arg 0 (SELF): #<LISPM-HOST CADR-15 16724030>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37756445>
   Arg 2 (OPERATION): :CHECK-VALIDITY
   Arg 3 (RELATIVE-TO-NAMESPACE): #<NAMESPACE MIT 16540125>
   Arg 4 (FORCE-P): NIL

(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
   Arg 0 (SELF): #<LISPM-HOST CADR-15 16724030>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37756445>
   Arg 2 (OPERATION): :CHECK-VALIDITY
   --Defaulted args:--
   Arg 3 (RELATIVE-TO-NAMESPACE): NIL
   Arg 4 (FORCE-P): NIL

Rest of stack:
(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
(:METHOD NET:HOST :NETWORK-SERVICES):  (P.C. = 5)
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 41)
NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
NETI:GET-LATEST-TIMESTAMP-FROM-NETWORK:  (P.C. = 34)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 440)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
(:METHOD NET:HOST :NETWORK-SERVICES):  (P.C. = 5)
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 41)
NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
NETI:GET-LATEST-TIMESTAMP-FROM-NETWORK:  (P.C. = 34)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 440)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
(:METHOD NET:NETWORK :NETWORK-TYPEP):  (P.C. = 6)
NETI:HOST-MEDIUM-MAXIMUM-DESIRABILITY:  (P.C. = 105)
NETI:HOST-SERVICE-MAXIMUM-DESIRABILITY:  (P.C. = 14)
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 71)
NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
NETI:GET-LATEST-TIMESTAMP-FROM-NETWORK:  (P.C. = 34)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 440)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
(:METHOD NET:HOST :NETWORK-SERVICES):  (P.C. = 5)
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 41)
NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
NETI:GET-LATEST-TIMESTAMP-FROM-NETWORK:  (P.C. = 34)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 440)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 102)
(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
NETI:FIND-OBJECT-NAMED-IN-NAMESPACE:  (P.C. = 45)
NET:FIND-OBJECT-NAMED:  (P.C. = 46)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 267)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
NETI:INITIALIZE-NAMESPACES-AND-NETWORK:  (P.C. = 155)
LISP-REINITIALIZE:  (P.C. = 435)
SI:LISP-TOP-LEVEL:  (P.C. = 3)
22-Aug-84 17:31:46-EDT,331;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 22 Aug 84 17:23-EDT
Date: Wednesday, 22 August 1984, 17:20-EDT
From:  <drogers at MIT-PREP>
Subject: object confusion
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

Why does JIMI-HENDRIX say that it's Buddy Holly? 
22-Aug-84 23:54:04-EDT,2152;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 22 Aug 84 23:53-EDT
Date: 22 August 1984 23:07-EDT
From: Roland Ouellette <ROLY @ MIT-MC>
Subject: object confusion
To: drogers @ MIT-PREP
cc: bug-lispm @ MIT-OZ

    Received: from MIT-MC by MIT-OZ via Chaosnet; 22 Aug 84 17:23-EDT
    Date: Wednesday, 22 August 1984, 17:20-EDT
    From:  <drogers at MIT-PREP>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

    Why does JIMI-HENDRIX say that it's Buddy Holly? 


This has been going on a lot lately.  It seems that namespace stuff is
frobbed again (its been a while since it lost this badly) it seems
that the arpanet object is somehow broken (at least that's my guess --
everyone seems to be getting this error lately so it can't be local).
Anyway, the machines loose while trying to execute
(neti:initialize-namespaces-and-network), many procedure calls later
on the stack.  The machine will offer only to allow you to resume not
getting any namespace updates;  since that's the only choice people
will take it, and because the right information isn't gotten from the
net the machine assumes that it is the last machine that its world was
disksaved on, hense Buddy Holly.  This odd memory of past life (has
Buddy Holly been reencarnated as Jimi Hendrix) cause mail and other
things to loose, so either try to reboot the machine, or better
reexecute (neti:initialize-namespaces-and-network) until success.

Some one who knows about such matters should check the data base of
lm15 especially the internet and arpanet objects.

Another complaint about lm15 besides that its old and breaks a lot
(just a random flame):  In changing a namespace object or writing a
new one lm15 reads out the whole data base changes the entry and
writes the data base back to disk.  This seems like a loosing thing to
do:  the idea comes to my mind that the objects should not be stored
in one big file but in many small ones.  Maybe each should have its
own little file, or maybe each letter of the alphabet should have a
file for the entries starting with that letter.  Just a thought.

23-Aug-84 08:58:27-EDT,595;000000000000
Mail-From: DJB created at 23-Aug-84 08:55:36
Date: Thu 23 Aug 84 08:55:36-EDT
From: Dave Braunegg <DJB@MIT-OZ>
Subject: thin film cleaner for LISPM screens
To: info-lispm@MIT-OZ
cc: bug-lispm@MIT-OZ

Does anyone know where I can purchase the thin film cleaner for use on
LISPM screens?  This is supposed to be used to clean the screens but
not take off the anti-glare coating (at least for 3600's, I'm not sure
about CADR's).

I need it for work at GTE Labs, not here at MIT.

                                        Thanks,
                                        Dave
-------
23-Aug-84 09:23:35-EDT,629;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 23 Aug 84 09:22-EDT
Date: Thu, 23 Aug 1984  09:25 EDT
Message-ID: <SR.SCIVALLY.12041731279.BABYL@MIT-SPEECH>
From: SR.SCIVALLY@MIT-SPEECH
To:   Dave Braunegg <DJB@MIT-OZ>
Cc:   bug-lispm@MIT-OZ
Subject: thin film cleaner for LISPM screens
In-reply-to: Msg of 23 Aug 1984  08:55-EDT from Dave Braunegg <DJB at MIT-OZ>

The company to order the "thin film cleaner" from is:

Ocli, Inc.
P. O. Box 1599
Santa Rosa, CA 95402

(707) 545-6440

It can only be purchased by the case - I don't remember the cost -
but it's not too expensive.

Charla - 36-541 (3-8924)
23-Aug-84 09:33:48-EDT,486;000000000000
Mail-From: CLAUDIA created at 23-Aug-84 09:32:55
Date: 23 Aug 1984  09:32 EDT (Thu)
Message-ID: <CLAUDIA.12041732627.BABYL@MIT-OZ>
From: Claudia Smith <CLAUDIA@MIT-OZ>
To:   Dave Braunegg <DJB@MIT-OZ>
Cc:   bug-lispm@MIT-OZ
Subject: thin film cleaner for LISPM screens
In-reply-to: Msg of 23 Aug 1984  08:55-EDT from Dave Braunegg <DJB>


OCLI (Optical Coating Laboratory, Inc.) 
Santa Rosa, CA 
(707) 545-6440 

	I may have the street address...I'll get back to you. 

23-Aug-84 11:18:59-EDT,1014;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 23 Aug 84 11:18-EDT
Received: from SCRC-CONNECTICUT by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 74527; Thu 23-Aug-84 11:16:38-EDT
Date: Thursday, 23 August 1984, 11:17-EDT
From: Clark M. Baker <cmb at SCRC-STONY-BROOK>
Subject: thin film cleaner for LISPM screens
To: Dave Braunegg <DJB at MIT-OZ>
Cc: bug-lispm at MIT-OZ
In-reply-to: The message of 23 Aug 84 08:55-EDT from Dave Braunegg <DJB at MIT-OZ>

    Date: Thu 23 Aug 84 08:55:36-EDT
    From: Dave Braunegg <DJB@MIT-OZ>

    Does anyone know where I can purchase the thin film cleaner for use on
    LISPM screens?  This is supposed to be used to clean the screens but
    not take off the anti-glare coating (at least for 3600's, I'm not sure
    about CADR's).

    I need it for work at GTE Labs, not here at MIT.

					    Thanks,
					    Dave
    -------

Thin Film Cleaner for Optical Components

Optical Coating Laboratory, Inc.
P.O. Box 1599
SDanta Rosa, CA 95402
23-Aug-84 11:54:50-EDT,1955;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 23 Aug 84 11:54-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 77689; Thu 23-Aug-84 11:44:24-EDT
Date: Thursday, 23 August 1984, 11:44-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: thin film cleaner for LISPM screens
To: Dave Braunegg <DJB at MIT-OZ>, SR.SCIVALLY at MIT-SPEECH,
    Claudia Smith <CLAUDIA at MIT-OZ>,
    Clark M. Baker <cmb at SCRC-STONY-BROOK>
cc: bug-lispm at MIT-OZ
In-Reply-To: The message of 23 Aug 84 08:55-EDT from Dave Braunegg <DJB at MIT-OZ>,
             <SR.SCIVALLY.12041731279.BABYL@MIT-SPEECH>,
             <CLAUDIA.12041732627.BABYL@MIT-OZ>,
             The message of 23 Aug 84 11:17-EDT from Clark M. Baker <cmb at SCRC-STONY-BROOK>
Message-ID: <840823114419.5.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Thu 23 Aug 84 08:55:36-EDT
    From: Dave Braunegg <DJB@MIT-OZ>

    Does anyone know where I can purchase the thin film cleaner for use on
    LISPM screens?...					    Thanks,
					    Dave

The label on the bottle indeed says:

    Thin Film Cleaner for Optical Components

    Optical Coating Laboratory, Inc.
    P.O. Box 1599
    Santa Rosa, CA 95402

They also had an exhibit at Siggraph84, and are listed in the program as:

    OCLI
    2789 Northpoint Parkway
    Santa Rosa, CA  95407-7397
    (707) 525-7436
    Bill Grenawalt
    Product/Sales Manager

    User Group Contact: Mark Parish
    Product Manager

    "Anti-glare glass panels and filters that virtually
     eliminate glare from the face of visual displays while
     maintaining high character resolution."

This latter group may not be what you want (given the text description and
the differing zip code) but they could probably tell you who to talk to.

There is also a DEC product that does much the same thing, although
I personally think OCLI does a better job.

-- joseph
23-Aug-84 12:00:55-EDT,510;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 23 Aug 84 12:00-EDT
Date: Thursday, 23 August 1984, 11:57-EDT
From: Kent M Pitman <kmp at OZ>
Subject: Halftone
To: BUG-LISPM at OZ

In Symbolics Release 4.5 on Frank Sinatra (3600):

Why isn't there some global variable defined which has a half-tone array I can
use to bitblt from when making little halftone areas?

Also, there should be an option in constraint frames which allows half tones
in addition to white or black regions in a frame.
-kmp
23-Aug-84 13:28:34-EDT,972;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 23 Aug 84 13:27-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 77742; Thu 23-Aug-84 12:42:11-EDT
Date: Thursday, 23 August 1984, 12:42-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Halftone
To: Kent M Pitman <kmp at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 23 Aug 84 11:57-EDT from Kent M Pitman <kmp at MIT-OZ>
Message-ID: <840823124212.6.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 23 August 1984, 11:57-EDT
    From: Kent M Pitman <kmp at OZ>

    In Symbolics Release 4.5 on Frank Sinatra (3600):

    Why isn't there some global variable defined which has a half-tone array I can
    use to bitblt from when making little halftone areas?

    Also, there should be an option in constraint frames which allows half tones
    in addition to white or black regions in a frame.

Does tv:50%-gray do what you want?
23-Aug-84 15:07:06-EDT,420;000000000000
Mail-From: HENRY created at 23-Aug-84 15:05:53
Date: Thu, 23 Aug 1984  15:05 EDT
Message-ID: <HENRY.12041793240.BABYL@MIT-OZ>
From: HENRY@MIT-OZ
To:   "David C. Plummer in disguise" <DCP@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ, Kent M Pitman <kmp@MIT-OZ>
Subject: Halftone
In-reply-to: Msg of 23 Aug 1984 12:42-EDT from David C. Plummer in disguise <DCP at SCRC-TENEX>


<Straz.Vid>grayhax defines a bunch more.

23-Aug-84 15:35:53-EDT,3022;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 23 Aug 84 15:35-EDT
Date: Thursday, 23 August 1984, 15:34-EDT
From: Kent M Pitman <kmp at OZ>
Subject: Bothersome fudges in (:METHOD CONVERSE-HEADER-DIAGRAM :DRAW)
To: BUG-LISPM at OZ

In Symbolics Release 4.5 on Frank Sinatra (3600):

The definition of (:METHOD CONVERSE-HEADER-DIAGRAM :DRAW) has one or more bugs.
I had copied the code for another application and had always wondered why it 
never seemed to align correctly. The Rel4 definition looks like:

(DEFMETHOD (CONVERSE-HEADER-DIAGRAM :DRAW) (IGNORE SHEET &AUX W W1)
  (SETQ W (+ (FUNCALL SHEET ':STRING-LENGTH NAME 0 NIL NIL FONTS:CPTFONTB) 100))
  (SETQ W1 (// (- (TV:SHEET-INSIDE-WIDTH SHEET) W) 2))
  (FUNCALL SHEET ':DRAW-RECTANGLE
	   W1
	   (- (TV:SHEET-LINE-HEIGHT SHEET) 3)
	   0
	   (TV:SHEET-CURSOR-Y SHEET))
  (FUNCALL SHEET ':DRAW-RECTANGLE
	   W1
	   (- (TV:SHEET-LINE-HEIGHT SHEET) 3)
	   (+ W W1)
	   (TV:SHEET-CURSOR-Y SHEET))
  (FUNCALL SHEET ':STRING-OUT-EXPLICIT NAME (+ W1 50) (TV:SHEET-CURSOR-Y SHEET)
	   (+ (TV:SHEET-INSIDE-LEFT SHEET) (+ W W1)) FONTS:CPTFONTB
	   (TV:SHEET-CHAR-ALUF SHEET)))

The uses of   
  (TV:SHEET-CURSOR-Y SHEET)
in the :DRAW-RECTANGLE calls probably want to be
  (- (TV:SHEET-CURSOR-Y SHEET) (TV:SHEET-INSIDE-TOP SHEET))
instead.

The problem is more apparent if you type Suspend in a converse window and do
 (SEND (SEND TERMINAL-IO ':SUPERIOR) ':SET-BORDERS 20)
and then Resume from the break. This makes the (TV:SHEET-INSIDE-TOP SHEET) very
large and emphasizes the problem caused by the failure to subtract it out of
(TV:SHEET-CURSOR-Y SHEET) at those places.

Also, I'm not sure that subtracting random constant numbers is a good idea. 
It strikes me that VSP is what's being asked for here. changing 3 to
(SEND SHEET ':VSP) would help. To help convince yourself, try m-X Set VSP
to 20 or something.

I rewrote the definition to be:

(DEFMETHOD (CONVERSE-HEADER-DIAGRAM :DRAW) (IGNORE SHEET &AUX W W1)
  (SETQ W (+ (FUNCALL SHEET ':STRING-LENGTH NAME 0 NIL NIL FONTS:CPTFONTB) 100))
  (SETQ W1 (// (- (TV:SHEET-INSIDE-WIDTH SHEET) W) 2))
  (FUNCALL SHEET ':DRAW-RECTANGLE
	   W1
	   (- (TV:SHEET-LINE-HEIGHT SHEET) (SEND SHEET ':VSP))
	   0
	   (- (TV:SHEET-CURSOR-Y SHEET) (TV:SHEET-INSIDE-TOP SHEET)))
  (FUNCALL SHEET ':DRAW-RECTANGLE
	   W1
	   (- (TV:SHEET-LINE-HEIGHT SHEET) (SEND SHEET ':VSP))
	   (+ W W1)
	   (- (TV:SHEET-CURSOR-Y SHEET) (TV:SHEET-INSIDE-TOP SHEET)))
  (FUNCALL SHEET ':STRING-OUT-EXPLICIT NAME (+ W1 50) (TV:SHEET-CURSOR-Y SHEET)
	   (+ (TV:SHEET-INSIDE-LEFT SHEET) (+ W W1)) FONTS:CPTFONTB
	   (TV:SHEET-CHAR-ALUF SHEET)))

and tried it in my environment on Sinatra and it looks a lot better.  If someone
could check this over and maybe make these fixes, my sense of aesthetics would 
appeased.

There may be similar bugs in other diagram code (in Converse or elsewhere).
I didn't look. I'll leave it to someone running a more current system to check out.
-kmp
23-Aug-84 16:37:10-EDT,3985;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 23 Aug 84 16:36-EDT
Date: Saturday, 18 August 1984, 02:35-EDT
From:  <drogers at MIT-PREP>
Subject: Bug on bug reports
To: BUG-LISPM at MIT-OZ

In BUG in Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

This "bug report" is to comment on bugs in bug reporting and response.
While the technological side of bug reporting is well concieved and
executed, the human interface has been problematical.

    o  Bug reports often go into a black hole. The user who sends a 
       bug report message should get an immediate (if not sooner)
       confirmation that it was seen. This also gives the bugger a
       contact person for future mailing if nothing else happens.

    o  Explanations of problems are often cryptic or non-existant.
       It is not uncommon to get explanations on the order of 
       "fixed in Release X.Y". It is crucial for all sides to 
       depend on accurate complete reporting of problems, especially
       chronic problems. For example, namespace server problems
       are under-explained, and often degenerate into SC yelling at
       CADR-15 and MIT passing software insults at SC. A combined
       assault on namespace bugs in a hardware-deficient situation
       would be the best approach, rather than the confrontative
       approach. 

       Improved knowledge of a bug situations also allows the users
       to comment more informatively when making a report, and to 
       handle many problems personally. Example would be: give a good
       explanation of why my lisp machine won't cold boot because
       of not defining :INTERNET right. What is the best response?
       Reboot CADR-15? Simply <RESUME>? What possible problems
       should one then watch out for? What was the ultimate cause
       of this bug? How can it be prevented? Circumvented? 
       Having an educated user community will improve both bug
       response and inter-community relations.

    o  Answer ALL bug messages personally and to the list, even if
       but to say, "I don't know what the problem is". This encourages
       people to keep sending reports and to trust software maintainers.
       My current assumption is that unless the bug report I send is
       trivial, I will not ever recieve any reply, or I get a cryptic
       "fixed in Release X.Y" which I never see. If the bug fix is
       extensive, keep the user up to date as to the progress. If 
       the bug is important to the user, make a patch available
       rather than having the user wait for the next release.

    o  Never pass the blame for a problem as a bug "answer". If the bug
       is not fixed, I don't want to hear that it's cadr-15, or it's
       been fixed and MIT screwed it up, or <X> said it was fixed so
       it must be. Say it's unfixable, or that it not being worked on
       due to lack of resources, or contact the appropriate people at
       MIT and have them fix what they screwed up, or whatever. The
       answer must inspire TRUST in the maintainers or it will reach
       the point where people lose the inclination to send useful bug
       reports. Corporations have the responsibility to go the extra
       mile. 

I guess my point is that interactions between user and maintainers need
to be more human, consistant, dependable, and friendly. Users need more
complete information about bug and repair status, more personal
awareness of who is in charge of "their" bug, and more faith in the 
effort of maintainers to treat bug reports as a mutual effort of 
improvement rather than as "complaints".

I am sure that SCRC has many complaints about the performance of MIT,
but I still believe that there is an inherent dissymetry between 
a corporate entity and a user group in favor of the latter; I really
do expect SC to go the extra mile.

Hope these comments are helpful,

David
23-Aug-84 20:44:30-EDT,1142;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 23 Aug 84 20:43-EDT
Received: from SCRC-CUYAHOGA by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 21274; Thu 23-Aug-84 15:24:34-EDT
Date: Thursday, 23 August 1984, 15:24-EDT
From: Robert A. Cassels <Cassels at SCRC-TENEX>
Subject: Halftone
To: kmp at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 23 Aug 84 11:57-EDT from Kent M Pitman <kmp at MIT-OZ>
Message-ID: <840823152418.1.CASSELS@CUYAHOGA.SCRC.Symbolics>

    Date: Thursday, 23 August 1984, 11:57-EDT
    From: Kent M Pitman <kmp at OZ>

    In Symbolics Release 4.5 on Frank Sinatra (3600):

    Why isn't there some global variable defined which has a half-tone array I can
    use to bitblt from when making little halftone areas?

In the latest system,
(apropos "gray" "tv" () ()) => 
TV:75%-GRAY - Bound
TV:50%-GRAY - Bound
TV:33%-GRAY - Bound
TV:25%-GRAY - Bound
TV:HES-GRAY - Bound
<other junk>

I assume they've been around forever.

    Also, there should be an option in constraint frames which allows half tones
    in addition to white or black regions in a frame.
    -kmp


24-Aug-84 13:36:45-EDT,787;000000000000
Mail-From: X.GYRO created at 24-Aug-84 13:36:15
Date: 24 Aug 1984  13:36 EDT (Fri)
Message-ID: <X.GYRO.12042039066.BABYL@MIT-OZ>
From: Scott Layson <X.GYRO@MIT-OZ>
To:   SR.SCIVALLY@MIT-SPEECH
Cc:   bug-lispm@MIT-OZ, Dave Braunegg <DJB@MIT-OZ>
Subject: thin film cleaner for LISPM screens
In-reply-to: Msg of 23 Aug 1984  09:25-EDT from SR.SCIVALLY at MIT-SPEECH

You might try any microcomputer store that carries DEC equipment --
DEC uses the same coating on its Rainbow and Professional micros (and
maybe the new VT-2xx's also?).

Also, despite claims that other cleaners will damage the coating, I
know people who have used other glass cleaners for over a year with
no perceptible degradation.  Personally, though, I stick to the real
thin film cleaner.

-- Scott
24-Aug-84 15:46:46-EDT,9405;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 24 Aug 84 15:46-EDT
Received: from SCRC-NEPONSET by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 21399; Fri 24-Aug-84 15:38:56-EDT
Date: Friday, 24 August 1984, 15:38-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Bug on bug reports
To: drogers at MIT-PREP, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 18 Aug 84 02:35-EDT from drogers at MIT-PREP
Message-ID: <840824153843.4.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 18 August 1984, 02:35-EDT
    From:  <drogers at MIT-PREP>

    In BUG in Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

    This "bug report" is to comment on bugs in bug reporting and response.
    While the technological side of bug reporting is well concieved and
    executed, the human interface has been problematical.

We are actually organizing a bug-tracking scheme, which addresses
several of your comments.  Allow me to add my own comments.

	o  Bug reports often go into a black hole. The user who sends a 
	   bug report message should get an immediate (if not sooner)
	   confirmation that it was seen. This also gives the bugger a
	   contact person for future mailing if nothing else happens.

An "immediate" response cannot come from a developer.  If it did, you
would be flooded (well, if we had enough people you would be) with "OK,
I've seen it."  That doesn't mean you have a contact, nor does it commit
a developer to doing anything about it.  What will happen, I think, is
that you will get an indication from the bug tracker that it has been
seen.  If no developer takes it upon him/herself in one week, it is
forced upon a developer.  I don't think the reports are going into a
black hole, I think they are piling up in people's mailboxes.

	o  Explanations of problems are often cryptic or non-existant.
	   It is not uncommon to get explanations on the order of 
	   "fixed in Release X.Y". It is crucial for all sides to 
	   depend on accurate complete reporting of problems, especially
	   chronic problems. For example, namespace server problems
	   are under-explained, and often degenerate into SC yelling at
	   CADR-15 and MIT passing software insults at SC. A combined
	   assault on namespace bugs in a hardware-deficient situation
	   would be the best approach, rather than the confrontative
	   approach. 

	   Improved knowledge of a bug situations also allows the users
	   to comment more informatively when making a report, and to 
	   handle many problems personally. Example would be: give a good
	   explanation of why my lisp machine won't cold boot because
	   of not defining :INTERNET right. What is the best response?
	   Reboot CADR-15? Simply <RESUME>? What possible problems
	   should one then watch out for? What was the ultimate cause
	   of this bug? How can it be prevented? Circumvented? 
	   Having an educated user community will improve both bug
	   response and inter-community relations.

I can sympathize with out on some of this.  Even internally I have seen
"Fixed in x.y" but none of the ISSUES were commented on.  (I'm probably
guilty of this myself!)  When discussing this we should differentiate
different types of 'bugs.'  There are the "Wouldn't it be nice if..." to
which "Fixed (done) in the source" really is an adequate answer.  (When
there is a possibility of a patch release, consideration should also be
taken as to whether it should go in the patch release.)  Then there are
bugs that make life interesting: "Gee, am I going to be able to login
today?"  A user cannot program aroung these, as he can the previous
group.  History has some interesting things to say about the namespace
bugs, which seem to be the majority of bugs in this group.  The
namespace system is fairly complex.  It isn't always clear that an
explanation from a developer would help.  Bugs are often reported in
batches, since everybody gets affected at the same time.  Long
explanations to each just aren't practical.  Users should get useful
information.  The problem is that useful is sometimes hard to determine.

Please try to sympathize with some of our problems.  I'm not trying to
alienate anybody, but these are the facts.  If 6.0 is going to happen on
schedule, there is not going to be a 5.3 in which to release fixes and
new features.  Additionally, any time that is devoted to release 5 is
time that is subtracted from making 6.0 better.

	o  Answer ALL bug messages personally and to the list, even if
	   but to say, "I don't know what the problem is". 
What gives you the impression something different is being done?  The
Reply command includes all original recipients.
	   This encourages
	   people to keep sending reports and to trust software maintainers.
	   My current assumption is that unless the bug report I send is
	   trivial, I will not ever recieve any reply, or I get a cryptic
	   "fixed in Release X.Y" which I never see. 
You get something you never see?
	   If the bug fix is
	   extensive, keep the user up to date as to the progress. If 
	   the bug is important to the user, make a patch available
	   rather than having the user wait for the next release.
Some of us do do that.  On the flip side of the coin, if the user is
told it is fixed in the source and/or by a patch, maybe it should be the
user's responsibility to ask for a private version.  It isn't always
trivial to release a normal system patch because of dependencies.
Sometimes the developer has to collect pieces from several other patch
files to make the new patch file work in an older release.  At this
point you are starting to play with fire.

	o  Never pass the blame for a problem as a bug "answer". 
No necessarily.  If a bug was thought to be in subsystem Q but is really
in subsystem P, the blame should be passed.  It should not, however, be
construed as an "answer".
	   If the bug
	   is not fixed, I don't want to hear that it's cadr-15, or it's
	   been fixed and MIT screwed it up, or <X> said it was fixed so
	   it must be. 
I'd like to see some cases of this, if you have them.  You can send them
to me alone if you wish, and I'll try to comment on them.
	   Say it's unfixable, 
I have often seen comments saying it cannot be fixed in the current
modularity of the system and must wait for the next system build.
	   or that it not being worked on due to lack of resources, 
Hey!  "Lack of resources" is one of our favorite lines.  Sadly, it's
often true.
	   or contact the appropriate people at
	   MIT and have them fix what they screwed up, 
I believe that has been done as well.
	   or whatever. The
	   answer must inspire TRUST in the maintainers or it will reach
	   the point where people lose the inclination to send useful bug
	   reports. Corporations have the responsibility to go the extra
	   mile. 

    I guess my point is that interactions between user and maintainers need
    to be more human, consistant, dependable, and friendly. 
Human and friendly:  I recently sent a reply to Hewitt with the text
"'Please describe the circumstances that led to this bug, and how it can
be reproduced.'."  That is the text in the mini-buffer after one does a
c-M from the debugger.  I agree it is a cold response, but I have now
idea how he got to the state he did.  This goes back to your 'users need
to send better bug reports' comment.  When the bug report is well
stated, I try to be as informative in the reply as the bug report was.
Consistent and dependable:  This is tougher.  DLW, Moon, MMcM and CWH
are no longer responsible for dealing with Bug-LispM.  This puts a
larger burden on the rest of us.  Speaking for myself, I have been
trying to track, fix and answer bugs for the last 2 or 3 weeks and have
gotten effectively zero useful work done.  When I do starting doing what
I'm supposed to be doing, my consistency and dependability is going to
go down.  I guess you are warned.
    Users need more
    complete information about bug and repair status, more personal
    awareness of who is in charge of "their" bug, and more faith in the 
    effort of maintainers to treat bug reports as a mutual effort of 
    improvement rather than as "complaints".
Having a personal awareness of someone being in charge of "their" bug
only applies when an immediate fix isn't possible, right?  KMP goes into
modes of sending long, detailed messages of enhancements he would like
to see.  They are often quite good ideas, but require a lot of thought
before implementation.  There is another class of "complaints" that are
ideologically unsound.  In this case, either a shouting match ensues or
people agree to drop the issue.  Recall the recent discussion about
ART-8B arrays being passed to string functions.

    I am sure that SCRC has many complaints about the performance of MIT,
    but I still believe that there is an inherent dissymetry between 
    a corporate entity and a user group in favor of the latter; I really
    do expect SC to go the extra mile.

    Hope these comments are helpful,

I think so, thanks.  I know that some managers are on Bug-LispM and have
seen this.  Response from users is often a better way to get more
company commitment to something than internal people can get.
24-Aug-84 17:26:27-EDT,2090;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 24 Aug 84 17:26-EDT
Received: from SCRC-PEACE by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 21404; Fri 24-Aug-84 17:24:44-EDT
Date: Friday, 24 August 1984, 17:24-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Namespace lossage
To: Roland Ouellette <Roly at MIT-MC>, DRogers at MIT-OZ,
    BUG-LISPM at MIT-OZ
cc: joseph at SCRC-STONY-BROOK
In-Reply-To: The message of 22 Aug 84 17:14-EDT from Roland Ouellette <Roly at MIT-MC>,
             The message of 22 Aug 84 17:18-EDT from DRogers at MIT-OZ
Message-ID: <840824172443.2.HORNIG@PEACE.SCRC.Symbolics>

    Date: Wednesday, 22 August 1984, 17:14-EDT
    From: Roland Ouellette <Roly at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, on Lisp Machine Buddy Holly (3600):

    This is from Joe-Louis not Buddy.  Twice today I have gotten this
    strangeness on booting Joe.  In between I did another boot and didn't
    get this error.  I don't think that this one is my fault.  Resuming from
    this error looses because Joe then thinks that he is Buddy.
    Reevaluating (neti:initialize-namespaces-and-network) won.  Maybe LM15
    just lost or something.

    >>Error: You cannot create a new namespace :INTERNET this way.
    While in the function (:METHOD NETI:CLASS :NAMESPACE-FOR-OBJECT-UPDATE)  NETI:DO-UNKNOWN-OBJECT-FIXUPS  NETI:QUERY-NAMESPACE-SERVER

- - - - - - - - - -

    Date: Wednesday, 22 August 1984, 17:18-EDT
    From: DRogers at MIT-OZ

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

    I don't think my last bug report made it, so here's another try.
    This bug wedges the LISP machine VERY WELL.

    >>Error: You cannot create a new namespace :INTERNET this way.
    While in the function (:METHOD NETI:CLASS :NAMESPACE-FOR-OBJECT-UPDATE)  NETI:DO-UNKNOWN-OBJECT-FIXUPS  NETI:QUERY-NAMESPACE-SERVER

- - - - - - - - - -

Joseph and I managed to get patches loaded on LM15.  This seems to fix
this problem.  Please let us know if it comes back.
24-Aug-84 17:33:12-EDT,4469;000000000000
Mail-From: DROGERS created at 24-Aug-84 17:32:42
Date: Fri 24 Aug 84 17:32:42-EDT
From: David Rogers <DRogers@MIT-OZ>
Subject: bug mail
To: bug-lispm@MIT-OZ

To: BUG-LISPM@OZ
Subject: bug in bug
cc: DRogers@Oz
--Text follows this line--
In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

It dies while sending a bug report.

>>Error: The argument N to NTH, -1., was of the wrong type.
         The function expected a non-negative integer.
While in the function NTH  TIME:DAY-OF-THE-WEEK-STRING  ZWEI:PRINT-DATE-HEADER

NTH:  (P.C. = 26)
   Arg 0 (N): -1.
   Arg 1 (OBJECT): (("Mon" "Monday" NIL "Lundi" "Montag" "Lunedi") ("Tue" "Tuesday" "Tues" "Mardi" "Dienstag" "Martedi") ("Wed" "Wednesday" NIL "Mercredi" "Mittwoch" "Mercoledi") ("Thu" "Thursday" "Thurs" "Jeudi" "Donnerstag" "Giovedi") ("Fri" "Friday" NIL "Vendredi" "Freitag" "Venerdi") ("Sat" "Saturday" NIL "Samedi" "Samstag" "Sabato") ("Sun" "Sunday" NIL "Dimanche" "Sonntag" "Domenica"))
   Local 2 (N): SI:N
   Local 3 (OBJECT): -1.

TIME:DAY-OF-THE-WEEK-STRING:  (P.C. = 6)
   Arg 0 (DAY-OF-THE-WEEK): -1.
   Arg 1 (MODE): :LONG

ZWEI:PRINT-DATE-HEADER:  (P.C. = 22)
   Arg 0 (STREAM): #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 1332765>
   Arg 1 (DATE): -56573692544.
   Arg 2 (NAME): "Date"
   Arg 3 (IGNORE): (:TEXT #<NODE 2743565> :HEADERS (:DATE -56573692544. :FROM ((:USER #<USER drogers@PREP 16350633>)) :SUBJECT "wierd dates" :TO ((:NAME "BUG-LISPM" :HOST ** :INTERVAL **)) :CC ((:NAME "DRogers" :HOST ** :INTERVAL **))) :HEADER-FORMAT :INCLUDE-PERSONAL :TRANSMIT-TIME -56573692544. :DRAFT-MSG #<ZMACS-DRAFT-MSG 2743600>)
   Arg 4 (IGNORE): 72.

ZWEI:PRINT-HEADER:  (P.C. = 37)
   Arg 0 (STREAM): #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 1332765>
   Arg 1 (HEADER): -56573692544.
   Arg 2 (TYPE): :DATE
   Arg 3 (EXPANSION): (:TEXT #<NODE 2743565> :HEADERS (:DATE -56573692544. :FROM ((:USER #<USER drogers@PREP 16350633>)) :SUBJECT "wierd dates" :TO ((:NAME "BUG-LISPM" :HOST ** :INTERVAL **)) :CC ((:NAME "DRogers" :HOST ** :INTERVAL **))) :HEADER-FORMAT :INCLUDE-PERSONAL :TRANSMIT-TIME -56573692544. :DRAFT-MSG #<ZMACS-DRAFT-MSG 2743600>)
   --Defaulted args:--
   Arg 4 (MAX-COL): 72.

ZWEI:OUTPUT-HEADERS:  (P.C. = 40)
   Arg 0 (STREAM): #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 1332765>
   Arg 1 (TEMPLATE-EXPANSION): (:TEXT #<NODE 2743565> :HEADERS (:DATE -56573692544. :FROM ((:USER #<USER drogers@PREP 16350633>)) :SUBJECT "wierd dates" :TO ((:NAME "BUG-LISPM" :HOST ** :INTERVAL **)) :CC ((:NAME "DRogers" :HOST ** :INTERVAL **))) :HEADER-FORMAT :INCLUDE-PERSONAL :TRANSMIT-TIME -56573692544. :DRAFT-MSG #<ZMACS-DRAFT-MSG 2743600>)
   Arg 2 (CR-AT-END): T

ZWEI:OUTPUT-HEADERS-AND-TEXT:  (P.C. = 5)
   Arg 0 (STREAM): #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 1332765>
   Arg 1 (TEMPLATE-EXPANSION): (:TEXT #<NODE 2743565> :HEADERS (:DATE -56573692544. :FROM ((:USER #<USER drogers@PREP 16350633>)) :SUBJECT "wierd dates" :TO ((:NAME "BUG-LISPM" :HOST ** :INTERVAL **)) :CC ((:NAME "DRogers" :HOST ** :INTERVAL **))) :HEADER-FORMAT :INCLUDE-PERSONAL :TRANSMIT-TIME -56573692544. :DRAFT-MSG #<ZMACS-DRAFT-MSG 2743600>)

ZWEI:SMTP-MAIL-INTERNAL:  (P.C. = 44)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (SMTP) -- MC on CHAOS 2753514>

ZWEI:INVOKE-SERVICE-STORE-AND-FORWARD-MAIL-WITH-SMTP:  (P.C. = 3)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (SMTP) -- MC on CHAOS 2753514>

Rest of stack:
NET:INVOKE-SERVICE-ACCESS-PATH:  (P.C. = 21)
ZWEI:INVOKE-MAIL-SERVICE:  (P.C. = 6)
ZWEI:NETWORK-SEND-IT-1:  (P.C. = 331)
ZWEI:NETWORK-SEND-IT:  (P.C. = 75)
ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
(:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 314)
(:METHOD ZWEI:ZMACS-DRAFT-MSG :COMBINED :TRANSMIT):  (P.C. = 20)
ZWEI:SEND-MESSAGE:  (P.C. = 24)
ZWEI:COM-EXIT-COM-MAIL:  (P.C. = 26)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
(:METHOD ZWEI:MAIL-TOP-LEVEL-EDITOR :MAIL):  (P.C. = 57)
MAIL:  (P.C. = 20)
BUG:  (P.C. = 27)
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL:  (P.C. = 7)
-------
24-Aug-84 17:34:36-EDT,651;000000000000
Mail-From: DROGERS created at 24-Aug-84 17:34:06
Date: Fri 24 Aug 84 17:34:06-EDT
From: David Rogers <DRogers@MIT-OZ>
Subject: original bug mail
To: bug-lispm@MIT-OZ

To: BUG-LISPM@OZ
Subject: wierd dates
cc: DRogers@OZ
--Text follows this line--
In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

The date is messed up. It say that this is Sunday the fifteenth of
April, year 107. Notifications say things like:

[-7:-44 HOST DUMBO was mentioned and then not found]

It was previously cold booted. Maybe it should reset to zero or
something when the current date cannot be found?

David
-------
24-Aug-84 17:38:04-EDT,598;000000000000
Mail-From: DROGERS created at 24-Aug-84 17:37:38
Date: Fri 24 Aug 84 17:37:38-EDT
From: David Rogers <DRogers@MIT-OZ>
Subject: Re: Namespace lossage
To: Hornig@SCRC-STONY-BROOK
cc: bug-lispm@MIT-OZ
In-Reply-To: Message from "Charles Hornig <Hornig at SCRC-STONY-BROOK>" of Fri 24 Aug 84 17:26:30-EDT

I would like to know why LM15 suddenly stopped working. Patches
to what? What happened to it that made it need patching?
Why did every lisp machine think it was buddy holly? Why
did INTERNET suddenly start dying? What was the ultimate
cause of this round of damage?

David
-------
24-Aug-84 20:17:33-EDT,673;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 24 Aug 84 20:17-EDT
Date: Friday, 24 August 1984, 20:04-EDT
From:  <kmp at MIT-MC>
Subject: Help typeout from FQUERY
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, on Lisp Machine Bing Crosby (3600):

I dislike the fact that in FQUERY, if I type <Help>, the help
information isn't started on a fresh line. It invariably runs over the
end of the line, wraps around, and looks generally ugly.

In case it matters, I noticed this most recently when I got a query from
the namespace code about whether I want to log into a specific host
(because the local namespace servers are not reachable).
-kmp
24-Aug-84 21:00:42-EDT,1639;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 24 Aug 84 21:00-EDT
Date: Fri, 24 Aug 84 20:59 EDT
From:  <kmp@MIT-MC.ARPA>
Subject: Syntax checking of MAKE-INSTANCE in Rel5 compiler
To: BUG-LISPM@MIT-MC.ARPA

In Release 5.1, Experimental MIT 1.4, on Lisp Machine Bing Crosby (3600):

I just did m-X Compile Buffer to compile some code that compiles quietly
in Release 4.5. It compiled, but typed out the following obnoxious and
misleading message:

  For Function (:METHOD MODULAR-SYSTEM :CASE :PROCESS-OPTION :MODULE)
    MODULE is not a known flavor name.

The definition in question contains:

  (defmethod (modular-system :case :process-option :module) ...
    ... (make-instance 'module ...) ...)

In fact, 'MODULE here is a forward reference to a flavor which did get
compiled on the same compilation, so the diagnostic is bogus.

I'm somewhat skeptical anyway about this diagnostic for MAKE-INSTANCE,
since MAKE-INSTANCE is a function (not a special form) and I'm not sure
how I feel about the compiler trying to second-guess argument
conventions for functions it does not plan to open-code.

This makes for stupid ordering restrictions on code which would
otherwise not need to be ordered. In some cases, this could mean that
the DEFSYSTEM needed to make the system compile quietly will be
significantly hairier than it would otherwise have to be.

It seems to me that in the very worst case, this "error" should be
processed like the "failed to be defined" ones are. Ie, queued until the
end and then reported iff still true. If it cannot be done correctly, I
think it should be removed.
-kmp
25-Aug-84 01:13:43-EDT,5170;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 25 Aug 84 01:13-EDT
Date: Saturday, 25 August 1984, 01:12-EDT
From:  <SULLIV at MIT-MC>
To: BUG-LISPM at MIT-OZ
Cc: SULLIV at MIT-MC

In Release 5.1, Experimental MIT 1.4, on Lisp Machine Joe Louis (3600):

Joe was freshly booted, and I'd loaded my fixes to the fed package into lisp (mc:sulliv;fntcnv lisp).
I mouse selected FONT EDIT on system menu, and each time it produced the following error.  I have done this before
using the same procedure with no problems.

>>Trap: The first argument given to the FOLLOW-CELL-FORWARDING instruction, NIL, was not a locative.
While in the function DBG:CELL-LOCATION-IN-STACK-GROUP  SYMEVAL-IN-STACK-GROUP  (:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :ITEM-WIDTH)

DBG:CELL-LOCATION-IN-STACK-GROUP:  (P.C. = 60)
   Arg 0 (CELL): #<DTP-LOCATIVE 31221735>
   Arg 1 (SG): #<STACK-GROUP Fed-3 373446>
   Arg 2 (FRAME): NIL
   Local 3 (STACK-POINTER): NIL
   Local 4 (STACK-BOUNDARY): NIL
   Local 5 (STACK-LOW): #<DTP-LOCATIVE 373474>
   Local 6 (INSIDE-BOUNDARY): #<DTP-LOCATIVE 31221735>
   Local 7 (OUTSIDE-BOUNDARY): NIL

SYMEVAL-IN-STACK-GROUP:  (P.C. = 12)
   Arg 0 (SYM): FED:*CURFONT-BLINKER-HEIGHT*
   Arg 1 (SG): #<STACK-GROUP Fed-3 373446>
   --Defaulted args:--
   Arg 2 (FRAME): NIL
   Arg 3 (AS-IF-CURRENT): NIL

(:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :ITEM-WIDTH):  (P.C. = 37)
   Arg 0 (SELF): #<UNSELECTABLE-CHVV-PANE Unselectable Chvv Pane 3 702506 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-CHOOSE-VARIABLE-VALUES -- 7. IV's, 0. FL's 36620151>
   Arg 2 (OPERATION): :ITEM-WIDTH
   Arg 3 (ITEM): (FED:*CURFONT-BLINKER-HEIGHT* "Blinker Height" FED:FED-DECNUM)
   --Defaulted args:--
   Arg 4 (EXTRA-WIDTH): 0
   Arg 5 (STOP-X): NIL

(:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :ADJUST-GEOMETRY-FOR-NEW-VARIABLES):  (P.C. = 24)
   Arg 0 (SELF): #<UNSELECTABLE-CHVV-PANE Unselectable Chvv Pane 3 702506 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-CHOOSE-VARIABLE-VALUES -- 7. IV's, 0. FL's 36620151>
   Arg 2 (OPERATION): :ADJUST-GEOMETRY-FOR-NEW-VARIABLES
   Arg 3 (WID): NIL

(:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :SET-VARIABLES):  (P.C. = 23)
   Arg 0 (SELF): #<UNSELECTABLE-CHVV-PANE Unselectable Chvv Pane 3 702506 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-CHOOSE-VARIABLE-VALUES -- 7. IV's, 0. FL's 36620151>
   Arg 2 (OPERATION): :SET-VARIABLES
   Arg 3 (ELEMS): ((FED:*CURFONT-BLINKER-HEIGHT* "Blinker Height" FED:FED-DECNUM) (FED:*CURFONT-BLINKER-WIDTH* "Blinker Width" FED:FED-DECNUM) (FED:*CURFONT-BASELINE* "Base Line" FED:FED-DECNUM) (FED:*CURFONT-CHAR-HEIGHT* "Character Height" FED:FED-DECNUM))
   Arg 4 (NO-SET-HEIGHT): T

(:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :AFTER :INIT):  (P.C. = 14)
   Arg 0 (SELF): #<UNSELECTABLE-CHVV-PANE Unselectable Chvv Pane 3 702506 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:BASIC-CHOOSE-VARIABLE-VALUES -- 7. IV's, 0. FL's 36620151>
   Arg 2 (OPERATION): :INIT
   Arg 3 (PLIST): #<DTP-LOCATIVE 26640530>

(:METHOD TV:CHOOSE-VARIABLE-VALUES-WINDOW :COMBINED :INIT):  (P.C. = 131)
   Arg 0 (SELF): #<UNSELECTABLE-CHVV-PANE Unselectable Chvv Pane 3 702506 deactivated>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:CHOOSE-VARIABLE-VALUES-WINDOW -- 2. IV's, 21. FL's 36620161>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

TV:MAKE-WINDOW:  (P.C. = 66)
   Arg 0 (FLAVOR-NAME): FED:UNSELECTABLE-CHVV-PANE
   Rest arg (OPTIONS): (:SUPERIOR #<FED Fed 3 702211 deactivated> :IO-BUFFER #<IO-BUFFER 371760: empty, State: NIL> :VARIABLES ((FED:*CURFONT-BLINKER-HEIGHT* "Blinker Height" FED:FED-DECNUM) (FED:*CURFONT-BLINKER-WIDTH* "Blinker Width" FED:FED-DECNUM) (FED:*CURFONT-BASELINE* "Base Line" FED:FED-DECNUM) (FED:*CURFONT-CHAR-HEIGHT* "Character Height" FED:FED-DECNUM)) :STACK-GROUP #<STACK-GROUP Fed-3 373446> :LABEL (:STRING "Font parameters (decimal)" :FONT FONTS:TR12I))

Rest of stack:
(:METHOD TV:CONSTRAINT-FRAME-WITH-SHARED-IO-BUFFER :CREATE-PANE):  (P.C. = 12)
(:DEFUN-METHOD TV:CONSTRAINT-FRAME-WINDOWS):  (P.C. = 11)
(:DEFUN-METHOD TV:CONSTRAINT-FRAME-PROCESS-CONSTRAINTS):  (P.C. = 20)
(:METHOD TV:BASIC-CONSTRAINT-FRAME :AFTER :INIT):  (P.C. = 5)
(:METHOD FED :COMBINED :INIT):  (P.C. = 100)
TV:MAKE-WINDOW:  (P.C. = 66)
(:METHOD TV:CONSTRAINT-FRAME-WITH-SHARED-IO-BUFFER :CREATE-PANE):  (P.C. = 12)
(:DEFUN-METHOD TV:CONSTRAINT-FRAME-WINDOWS):  (P.C. = 11)
(:DEFUN-METHOD TV:CONSTRAINT-FRAME-PROCESS-CONSTRAINTS):  (P.C. = 20)
(:METHOD TV:BASIC-CONSTRAINT-FRAME :AFTER :INIT):  (P.C. = 5)
(:METHOD FED:FED-GREAT-FRAME :COMBINED :INIT):  (P.C. = 106)
TV:MAKE-WINDOW:  (P.C. = 66)
FED:  (P.C. = 15)
(:METHOD TV:MENU-EXECUTE-MIXIN :EXECUTE):  (P.C. = 61)
(:METHOD TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU :COMBINED :EXECUTE):  (P.C. = 24)
(:METHOD TV:BASIC-MENU :CHOOSE):  (P.C. = 21)
(:METHOD TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-MENU :COMBINED :CHOOSE):  (P.C. = 34)
TV:CALL-SYSTEM-MENU:  (P.C. = 26)
SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
25-Aug-84 13:32:46-EDT,985;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 25 Aug 84 13:32-EDT
Date: Saturday, 25 August 1984, 13:28-EDT
From: Patrick A. O'Donnell <PAO at MIT-EECS>
Subject: The time.
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Experimental Puma 3.5, FEP 18,
PUMA MANIPULATOR SYSTEM, on Lisp Machine Robot-2 (3600):

Many times over the past several months I have noticed the machine I had
been using was confused about the time.  Occasionally it would be a
reasonable time, just wrong--such as now, when it thought it was four in
the morning on the fourteenth of August.  More often, it will be totally
random, as "07/42/:8 -5:-33" or some such.  Unfortunately, I cannot
provide information as to the circumstances leading to this situation.
Sometimes I would notice it right after booting, other times it would be
brought to my attention via a notification.  If I determine some
conditions under which it always happens, I will follow up this note.
		- Pat
25-Aug-84 13:35:01-EDT,458;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 25 Aug 84 13:34-EDT
Date: Saturday, 25 August 1984, 13:31-EDT
From: Patrick A. O'Donnell <PAO at MIT-EECS>
Subject: Namespace/Mail
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Experimental Puma 3.5, FEP 18,
PUMA MANIPULATOR SYSTEM, on Lisp Machine Robot-2 (3600):

I am amused that the namespace system considers it "cheaper" to send a
message through MC rather than directly to OZ.
25-Aug-84 18:47:03-EDT,1203;000000000000
Mail-From: EHL created at 25-Aug-84 18:46:36
Date: Sat, 25 Aug 1984  18:46 EDT
Message-ID: <EHL.12042357709.BABYL@MIT-OZ>
From: EHL@MIT-OZ
To:   Charles Hornig <Hornig@SCRC-STONY-BROOK>
Cc:   BUG-LISPM@MIT-OZ
Subject: Namespace lossage
In-reply-to: Msg of 24 Aug 1984 17:24-EDT from Charles Hornig <Hornig at SCRC-STONY-BROOK>

        >>Error: You cannot create a new namespace :INTERNET this way.
        While in the function (:METHOD NETI:CLASS :NAMESPACE-FOR-OBJECT-UPDATE)  NETI:DO-UNKNOWN-OBJECT-FIXUPS  NETI:QUERY-NAMESPACE-SERVER

    Joseph and I managed to get patches loaded on LM15.  This seems to fix
    this problem.  Please let us know if it comes back.

It is back.
Cadr-15 is up and I assume services are enabled since I can read files from it.
The current world load is "MIT Namespace 3" or something like it.  

When it does blow out, moving back up the stack and reevaluating
(NETI:INITIALIZE-NAMESPACES-AND-NETWORK) will let you use the machine and
even tell the machine who it is but doesn't manage to create an :INTERNET
namespace.  This isn't a problem until you need to do something that wants
to check the namespace for consistency--like DISK-SAVE.
25-Aug-84 21:54:15-EDT,422;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 25 Aug 84 21:53-EDT
Date: Saturday, 25 August 1984, 21:00-EDT
From:  <DROGERS at MIT-PREP>
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.6, FEP 18, on Lisp Machine John Lennon (3600):

Fonts in the file attribute list blow the file reader in ZWEI away.
Either the writeer should not allow such files to be writeen, or they
should be read in correctly.
26-Aug-84 15:49:16-EDT,1139;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 26 Aug 84 15:48-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 79722; Sun 26-Aug-84 15:49:14-EDT
Date: Sunday, 26 August 1984, 15:48-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: DROGERS at MIT-PREP
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 25 Aug 84 21:00-EDT from DROGERS at MIT-PREP
Message-ID: <840826154845.1.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Saturday, 25 August 1984, 21:00-EDT
    From:  <DROGERS at MIT-PREP>

    In Release 5.1, Experimental MIT 1.6, FEP 18, on Lisp Machine John Lennon (3600):

    Fonts in the file attribute list blow the file reader in ZWEI away.
    Either the writeer should not allow such files to be writeen, or they
    should be read in correctly.

A bug report like this would be more useful if you included an example file
that exhibits the symptom (or the name of such a file with a promise not to
delete it for a few weeks) and a brief description of the symptoms (the
latter so the reader of the bug report can be sure (s)he is reproducing
the problem you saw).
26-Aug-84 16:00:12-EDT,2663;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 26 Aug 84 15:59-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 79732; Sun 26-Aug-84 16:00:11-EDT
Date: Sunday, 26 August 1984, 15:59-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: Namespace lossage
To: EHL at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: <EHL.12042357709.BABYL@MIT-OZ>
Message-ID: <840826155937.2.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Sat, 25 Aug 1984  18:46 EDT
    From: EHL@MIT-OZ

	    >>Error: You cannot create a new namespace :INTERNET this way.
	    While in the function (:METHOD NETI:CLASS :NAMESPACE-FOR-OBJECT-UPDATE)  NETI:DO-UNKNOWN-OBJECT-FIXUPS  NETI:QUERY-NAMESPACE-SERVER

	Joseph and I managed to get patches loaded on LM15.  This seems to fix
	this problem.  Please let us know if it comes back.

    It is back.
    Cadr-15 is up and I assume services are enabled since I can read files from it.
    The current world load is "MIT Namespace 3" or something like it.  

    When it does blow out, moving back up the stack and reevaluating
    (NETI:INITIALIZE-NAMESPACES-AND-NETWORK) will let you use the machine and
    even tell the machine who it is but doesn't manage to create an :INTERNET
    namespace.  This isn't a problem until you need to do something that wants
    to check the namespace for consistency--like DISK-SAVE.

Thanks for the report.

When Hornig and I made a new band for LM15 late last week, we forgot to do
a set-current-band, so the old "MIT Namespace 3" band was left as current.
I went over to the 7th floor after reading your message, renamed the new
band to "MIT Namespace 4", booted it, and logged in as File-Server.

In the process of booting, I ran across an error whose text was something
like "The user named PDH was not found".  Guessing that someone had manually
(i.e. with Zmacs) edited the namespace database and dropped in a typo, I
c-R'd a (net:find-object-named :user "dph") from the failing frame, and it
came up ok.

As it happens, there is a real user PDH, but the namespace database files
on LM15 are inconsistent regarding that user.  I sent a bug report on this
to networks@scrc; if anyone not on that list wants to see the report, let
me know, and I'll fish it out of the archives.

When we figure out how to repair the database, so that LM15 boots cleanly, we
will do so.  Till then, if anyone has to boot the machine, they can do so as
above. 

As for DRogers more global question of "how was the namespace screwed up",
well, I'd rather explain that one on "company time", i.e. during the week, OK?

-- joseph
26-Aug-84 16:06:29-EDT,2469;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 26 Aug 84 16:06-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 79737; Sun 26-Aug-84 16:06:36-EDT
Date: Sunday, 26 August 1984, 16:06-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: The time.
To: Patrick A. O'Donnell <PAO at MIT-EECS>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 25 Aug 84 13:28-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>
Message-ID: <840826160604.5.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Saturday, 25 August 1984, 13:28-EDT
    From: Patrick A. O'Donnell <PAO at MIT-EECS>

    In Release 5.1, Experimental MIT 1.4, Experimental Puma 3.5, FEP 18,
    PUMA MANIPULATOR SYSTEM, on Lisp Machine Robot-2 (3600):

    Many times over the past several months I have noticed the machine I had
    been using was confused about the time.  Occasionally it would be a
    reasonable time, just wrong--such as now, when it thought it was four in
    the morning on the fourteenth of August.  More often, it will be totally
    random, as "07/42/:8 -5:-33" or some such.  Unfortunately, I cannot
    provide information as to the circumstances leading to this situation.
    Sometimes I would notice it right after booting, other times it would be
    brought to my attention via a notification.  If I determine some
    conditions under which it always happens, I will follow up this note.

In the past I've noticed a number of time servers at MIT that give out bogus
times.  It seems like some administrative action at MIT may be called for.

The value of the variable chaos:*brd-history* is an association list from contact
names to numerical network addresses; if you look up TIME, then do a HOSTAT of
the most recent entry there, you can find the name of the machine that sent you
the bogus time.  Of course you can't be sure he didn't get it from someplace else;
if it's a Lisp machine go to that machine (perhaps with the EVAL server) and look
at chaos:*brd-history* in it.  In a future release we might make the Lisp machine
more careful about who it believes when it asks for the time, but right now it
assumes the first host to answer knows what it's talking about.

Evidently there's also a bug where if the time is not in the twentieth century
the wholine's formatting of the time produces garbage (to save paging it is
kludgily inline coded instead of calling the general time-printing routines).
26-Aug-84 16:18:54-EDT,2549;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 26 Aug 84 16:18-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 79745; Sun 26-Aug-84 16:17:38-EDT
Date: Sun, 26 Aug 84 16:17 EDT
From: "David A. Moon" <Moon@SCRC-QUABBIN.ARPA>
Subject: Syntax checking of MAKE-INSTANCE in Rel5 compiler
To: kmp@MIT-MC.ARPA
cc: BUG-LISPM@MIT-MC.ARPA
In-Reply-To: The message of 24 Aug 84 20:59-EDT from kmp at MIT-MC
Message-ID: <840826161711.8.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Fri, 24 Aug 84 20:59 EDT
    From:  <kmp@MIT-MC.ARPA>

    In Release 5.1, Experimental MIT 1.4, on Lisp Machine Bing Crosby (3600):

    I just did m-X Compile Buffer to compile some code that compiles quietly
    in Release 4.5. It compiled, but typed out the following obnoxious and
    misleading message:

      For Function (:METHOD MODULAR-SYSTEM :CASE :PROCESS-OPTION :MODULE)
	MODULE is not a known flavor name.

    The definition in question contains:

      (defmethod (modular-system :case :process-option :module) ...
	... (make-instance 'module ...) ...)

    In fact, 'MODULE here is a forward reference to a flavor which did get
    compiled on the same compilation, so the diagnostic is bogus.

    I'm somewhat skeptical anyway about this diagnostic for MAKE-INSTANCE,
    since MAKE-INSTANCE is a function (not a special form) and I'm not sure
    how I feel about the compiler trying to second-guess argument
    conventions for functions it does not plan to open-code.

It's trying to help you, by noting spelling errors that otherwise wouldn't
be detected until run time.  I believe this warning saved people here a great
deal of time and hassle.

    This makes for stupid ordering restrictions on code which would
    otherwise not need to be ordered. In some cases, this could mean that
    the DEFSYSTEM needed to make the system compile quietly will be
    significantly hairier than it would otherwise have to be.

    It seems to me that in the very worst case, this "error" should be
    processed like the "failed to be defined" ones are. Ie, queued until the
    end and then reported iff still true. 

You are right, of course.  I believe this is planned but turns out to be difficult
enough that it has been postponed.

					  If it cannot be done correctly, I
    think it should be removed.

Do you believe all other warnings with the same problem should also be removed?
For instance, the warning for calling a function with the wrong number of arguments?
26-Aug-84 17:05:53-EDT,1299;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 26 Aug 84 17:05-EDT
Date: Sunday, 19 August 1984, 15:08-EDT
From: Richard E. Zippel <RZ at MIT-MC>
Subject: fs:find-file-with-type
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Aspen (3600):

Given a pathname, I wanted to load the corresponding :lisp  or
:bin file which ever was around.

I thought the following piece of code would work, but discovered that,
at least for Unix pathnames like #<UNIX-PATHNAME "VX: //usr//rz//portfolio//Brain">, 
fs:find-file-with-type returns the file.

      (cond ((setq pathname (fs:find-file-with-type file :bin))
	     (load pathname nil nil nil t))
	    ((setq pathname (fs:find-file-with-type file :lisp))
	     (load pathname nil nil nil t)))

This is presumably because the :type of these pathnames is :unspecific.
I would thing that pathname should be returned only when :type is
non-nil and not :unspecific.

(DEFUN FIND-FILE-WITH-TYPE (PATHNAME CANONICAL-TYPE)
  (SETQ PATHNAME (FS:PARSE-PATHNAME PATHNAME))
  (IF (SEND PATHNAME ':TYPE)
      PATHNAME
    (LOOP FOR TYPE IN (SEND PATHNAME ':TYPES-FOR-CANONICAL-TYPE CANONICAL-TYPE)
	  FOR PROBE = (PROBEF (SEND PATHNAME ':NEW-PATHNAME ':TYPE TYPE))
	  WHEN PROBE
	    RETURN PROBE)))
26-Aug-84 17:52:28-EDT,4041;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 26 Aug 84 17:51-EDT
Date: Sunday, 26 August 1984, 17:51-EDT
From:  <DROGERS at MIT-PREP>
Subject: font bug
To: BUG-LISPM at MIT-OZ
Cc: Moon at SCRC-STONY-BROOK

In Release 5.1, Experimental MIT 1.4, on Lisp Machine Robot-4 (3600):

Same as my last bug report. Use of fonts in the attribute line
causes the machine to blow away. As a side not, the HELP key
is not very useful as it prompts for the name of the font,
for it scrolls by far to fast to read. You are welcome to read
oz:oz:<drogers>bug.fonts to reproduce this problem. I will leave
the file in my area for a couple of days.

>>Break: 
While in the function TV:KBD-DEFAULT-OUTPUT-FUNCTION  TV:IO-BUFFER-GET  TV:KBD-IO-BUFFER-GET

TV:KBD-DEFAULT-OUTPUT-FUNCTION:  (P.C. = 17)
   Arg 0 (IGNORE): #<IO-BUFFER 16777636: empty, State: NIL>
   Arg 1 (CHAR): 641.

TV:IO-BUFFER-GET:  (P.C. = 54)
   Arg 0 (BUFFER): #<IO-BUFFER 16777636: empty, State: NIL>
   Arg 1 (NO-HANG-P): T
   --Defaulted args:--
   Arg 2 (WHOSTATE): "Buffer Empty"

TV:KBD-IO-BUFFER-GET:  (P.C. = 17)
   Arg 0 (BUFFER): #<IO-BUFFER 16777636: empty, State: NIL>
   --Defaulted args:--
   Arg 1 (NO-HANG-P): NIL
   Arg 2 (WHOSTATE): "Tyi"

(:METHOD TV:STREAM-MIXIN :ANY-TYI):  (P.C. = 67)
   Arg 0 (SELF): #<TYPEIN-WINDOW Typein Window 2 4701302 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:STREAM-MIXIN -- 14. IV's, 0. FL's 17274362>
   Arg 2 (OPERATION): :ANY-TYI
   --Defaulted args:--
   Arg 3 (IGNORE): NIL

(:DEFUN-METHOD TV:RH-TYI):  (P.C. = 12)
   Arg 0 (SELF): #<TYPEIN-WINDOW Typein Window 2 4701302 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:STREAM-MIXIN -- 14. IV's, 0. FL's 17274362>
   Arg 2 (TOP-LEVEL?): T

(:DEFUN-METHOD TV:ALTERNATE-RUBOUT-HANDLER-TYI):  (P.C. = 45)
   Arg 0 (SELF): #<TYPEIN-WINDOW Typein Window 2 4701302 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:STREAM-MIXIN -- 14. IV's, 0. FL's 17274362>
   Arg 2 (RUBBED-OUT-SOME?): NIL

TV:ALTERNATE-RUBOUT-HANDLER-TYI:  (P.C. = 12)
   Rest arg (ARGS): (NIL)

TV:RUBOUT-HANDLER-INVOKE:  (P.C. = 11)
   Arg 0 (OPERATION): TYI
   Rest arg (ARGS): (NIL)

Rest of stack:
(:METHOD TV:STREAM-MIXIN :ANY-TYI):  (P.C. = 43)
SI:READ-DELIMITED-STRING-INTERNAL:  (P.C. = 47)
READ-DELIMITED-STRING:  (P.C. = 113)
READLINE:  (P.C. = 15)
READLINE-TRIM:  (P.C. = 5)
READLINE-OR-NIL:  (P.C. = 10)
(:INTERNAL SYS:READ-PATHNAME 0.):  (P.C. = 3)
(:DEFUN-METHOD TV:RUBOUT-HANDLER-READ):  (P.C. = 61)
(:METHOD TV:STREAM-MIXIN :RUBOUT-HANDLER):  (P.C. = 72)
(:METHOD ZWEI:TYPEIN-WINDOW :COMBINED :RUBOUT-HANDLER):  (P.C. = 31)
SYS:READ-PATHNAME:  (P.C. = 74)
SI:PROMPT-AND-READ-PATHNAME:  (P.C. = 11)
(:PROPERTY :PATHNAME PROMPT-AND-READ):  (P.C. = 22)
PROMPT-AND-READ:  (P.C. = 135)
FS:PROMPT-FOR-NEW-PATHNAME:  (P.C. = 14)
(:METHOD FS:MULTIPLE-FILE-NOT-FOUND :CASE :PROCEED :NEW-PATHNAME):  (P.C. = 11)
(:METHOD FS:MULTIPLE-FILE-NOT-FOUND :COMBINED :PROCEED):  (P.C. = 17)
FS:MULTIPLE-FILE-NOT-FOUND-HANDLER:  (P.C. = 5)
(:METHOD DBG:BIND-HANDLER :HANDLE-CONDITION):  (P.C. = 43)
(:METHOD CONDITION :SIGNAL):  (P.C. = 114)
(:METHOD CONDITION :COMBINED :SIGNAL):  (P.C. = 21)
SIGNAL:  (P.C. = 10)
FED:FIND-AND-LOAD-BFD:  (P.C. = 116)
FED:FIND-AND-LOAD-FONT:  (P.C. = 10)
ZWEI:GET-FONT-ALIST-ATTRIBUTE:  (P.C. = 35)
ZWEI:REPARSE-ATTRIBUTE-LIST-INTERNAL:  (P.C. = 166)
(:DEFUN-METHOD ZWEI:REVERT-FROM-STREAM):  (P.C. = 52)
(:METHOD ZWEI:FILE-BUFFER-MIXIN :REVERT):  (P.C. = 71)
ZWEI:FIND-FILE:  (P.C. = 24)
ZWEI:COM-FIND-FILE:  (P.C. = 13)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:  (P.C. = 77)
SYS:CALL-FUNNY-FUNCTION:  (P.C. = 101)
Closure of ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
26-Aug-84 18:09:14-EDT,1470;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 26 Aug 84 18:08-EDT
Date: Sunday, 26 August 1984, 18:05-EDT
From: Richard C. Waters <DICK at OZ>
Subject: differences between :no-error cluase of condition-case and unwind-protect.
To: BUG-LISPM at OZ

In Release 4.5, FEP 17, site configuration 79, on Lisp Machine Bing Crosby:

From reading the documentation on condition-case I got the impression that

(condition-case ()
    form1
  (:no-error form2))

was the same as

(unwind-protect form1 form2)

If this were true then the follow functions would all return T
in fact test1, test3, and test5 do return T while the others don't.

It is clear that the :no-error clause of condition-case really isn't much
like unwind-protect.  The question is did you indend it to be?

		Dick Waters

(defun test1 (&aux x)
  (prog ()
	(unwind-protect
	  (return)
	  (setq x T)))
  x)

(defun test2 (&aux x)
  (prog ()
        (condition-case ()
	    (return)
	  (:no-error (setq x T))))
  x)

(defun test3 (&aux x)
  (prog ()
	(unwind-protect
	  (go E)
	  (setq x T))
     E)
  x)

(defun test4 (&aux x)
  (prog ()
        (condition-case ()
	    (go E)
	  (:no-error (setq x T)))
     E)
  x)

(defun test5 (&aux x)
  (*catch 'foo
    (unwind-protect
      (*throw 'foo nil)
      (setq x T)))
  x)

(defun test6 (&aux x)
  (*catch 'foo
    (condition-case ()
	(*throw 'foo nil)
      (:no-error (setq x T))))
  x)

26-Aug-84 20:37:11-EDT,1073;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 26 Aug 84 20:36-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 79855; Sun 26-Aug-84 20:31:53-EDT
Date: Sunday, 26 August 1984, 20:31-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Namespace/Mail
To: Patrick A. O'Donnell <PAO at MIT-EECS>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 25 Aug 84 13:31-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>
Message-ID: <840826203127.2.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 25 August 1984, 13:31-EDT
    From: Patrick A. O'Donnell <PAO at MIT-EECS>

    In Release 5.1, Experimental MIT 1.4, Experimental Puma 3.5, FEP 18,
    PUMA MANIPULATOR SYSTEM, on Lisp Machine Robot-2 (3600):

    I am amused that the namespace system considers it "cheaper" to send a
    message through MC rather than directly to OZ.

It is looking for a store-and-forward mail server.  It doesn't
necessarily try to send it directly to the machines involved.  Among
other things, this lets it send one mes
26-Aug-84 20:47:41-EDT,1590;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 26 Aug 84 20:47-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 79855; Sun 26-Aug-84 20:31:53-EDT
Date: Sunday, 26 August 1984, 20:31-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Namespace/Mail
To: Patrick A. O'Donnell <PAO at MIT-EECS>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 25 Aug 84 13:31-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>
Message-ID: <840826203127.2.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 25 August 1984, 13:31-EDT
    From: Patrick A. O'Donnell <PAO at MIT-EECS>

    In Release 5.1, Experimental MIT 1.4, Experimental Puma 3.5, FEP 18,
    PUMA MANIPULATOR SYSTEM, on Lisp Machine Robot-2 (3600):

    I am amused that the namespace system considers it "cheaper" to send a
    message through MC rather than directly to OZ.

It is looking for a store-and-forward mail server.  It doesn't
necessarily try to send it directly to the machines involved.  Among
other things, this lets it send one message and let the user get on to
more important things, than to send many messages locally.  On my
machine,
	(send (neti:parse-host "OZ")
	      :protocol-desirability :store-and-forward-mail)
and 
	(send (neti:parse-host "MC")
	      :protocol-desirability :store-and-forward-mail)
so it is probably some artifact of which-comes-first in the database
that you happen to get MC instead of OZ.  Or, it may have tried OZ
before and lost, so it prefers MC instead of (possibly/probably) timing
out on OZ again.
26-Aug-84 21:30:20-EDT,1861;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 26 Aug 84 21:29-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 79881; Sun 26-Aug-84 21:25:35-EDT
Date: Sunday, 26 August 1984, 21:25-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: differences between :no-error cluase of condition-case and unwind-protect.
To: Richard C. Waters <DICK at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 26 Aug 84 18:05-EDT from Richard C. Waters <DICK at MIT-OZ>
Message-ID: <840826212508.7.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 26 August 1984, 18:05-EDT
    From: Richard C. Waters <DICK at OZ>

    In Release 4.5, FEP 17, site configuration 79, on Lisp Machine Bing Crosby:

    From reading the documentation on condition-case I got the impression that

    (condition-case ()
	form1
      (:no-error form2))

    was the same as

    (unwind-protect form1 form2)

    If this were true then the follow functions would all return T
    in fact test1, test3, and test5 do return T while the others don't.

    It is clear that the :no-error clause of condition-case really isn't much
    like unwind-protect.  The question is did you indend it to be?

No!!  It is for scoping the error handling, not UNWIND-PROTECTing.  These
two forms have very different semantic meanings:
	(condition-case ()
	    (maybe-cause-an-error)
	  (error "Error happened")
	  (:no-error (maybe-cause-another-error)
		     "No error happened"))
and
	(condition-case ()
	    (progn (maybe-cause-an-error)
		   (maybe-cause-another-error)
		   "No error happened")
	  (error "Error happened"))

In the first, an error handler is setup only for MAYBE-CAUSE-AN-ERROR.
This may be very important.  Now that you know, you may catch yourself
depending on the intended behavior.
26-Aug-84 21:35:18-EDT,1734;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 26 Aug 84 21:34-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 79883; Sun 26-Aug-84 21:32:00-EDT
Date: Sunday, 26 August 1984, 21:31-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: original bug mail
To: David Rogers <DRogers at MIT-OZ>, Carl Hewitt <Hewitt at MIT-OZ>,
    Patrick A. O'Donnell <PAO at MIT-EECS>,
    David A. Moon <Moon at SCRC-TENEX>, bug-lispm at MIT-OZ,
    BUG-symbolics-software at MIT-OZ
In-Reply-To: The message of 24 Aug 84 17:34-EDT from David Rogers <DRogers at MIT-OZ>,
             The message from Carl Hewitt <Hewitt at MIT-OZ>,
             The message of 24 Aug 84 17:32-EDT from David Rogers <DRogers at MIT-OZ>,
             The message of 25 Aug 84 13:28-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>,
             <840826160604.5.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840826213132.8.NFEP@NEPONSET.SCRC.Symbolics>

All the referenced messages (bad dates, NTH of negative arguments)
appear to be a manifestation of the same problem: Somebody has a bogus
time.  Worse than that, somebody appears to have a very large negative
time (Hewitt had -56403501827., which is a bignum).  I thought it was
impossible to have negative universal times.  Anyway, Moon's comments
about *brd-history* is a start.  Additionally, in Release 6 the LispM's
algorithm for believing a time from the network is much better.
In Release 5 it believes the first response it gets (Unix responds with
dates in the 1920s until it is told better).  In Release 6, it will take
the median.  (Please don't flame about mean, mode, and median; we've
already been through that down here.)
27-Aug-84 01:45:53-EDT,1076;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 27 Aug 84 01:45-EDT
Date: Monday, 27 August 1984, 01:47-EDT
From:  <GAVAN at MIT-PYGMALION>
Subject: Namespace/Mail
To: DCP at SCRC-TENEX, PAO at MIT-EECS, BUG-LISPM at MIT-OZ
In-reply-to: <840826203127.2.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 26 August 1984, 20:31-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

	Date: Saturday, 25 August 1984, 13:31-EDT
	From: Patrick A. O'Donnell <PAO at MIT-EECS>

	In Release 5.1, Experimental MIT 1.4, Experimental Puma 3.5, FEP 18,
	PUMA MANIPULATOR SYSTEM, on Lisp Machine Robot-2 (3600):

	I am amused that the namespace system considers it "cheaper" to send a
	message through MC rather than directly to OZ.

    It is looking for a store-and-forward mail server.  

Yesterday, I couldn't send some mail because MOON (Keith) was trying to use
UNIX-HOST DM (????) as a store-and-forward mail server.  The host was not
found and the process errored out.  I tried to send a bug report at the time,
but of course that didn't work either.
27-Aug-84 07:13:41-EDT,379;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 27 Aug 84 07:13-EDT
Date: 27 August 1984 07:14-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
Subject:  Namespace/Mail
To: GAVAN @ MIT-PYGMALION
cc: PAO @ MIT-EECS, BUG-LISPM @ MIT-OZ, DCP @ SCRC-TENEX
In-reply-to: Msg of 27 Aug 1984 01:47-EDT from <GAVAN at MIT-PYGMALION>

There is a host called MIT-DM which runs Unix.
27-Aug-84 07:15:54-EDT,578;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 27 Aug 84 07:15-EDT
Date: Monday, 27 August 1984, 07:17-EDT
From:  <GAVAN at MIT-PYGMALION>
Subject: Namespace/Mail
To: CSTACY at MIT-MC, GAVAN at MIT-PYGMALION
Cc: PAO at MIT-EECS, BUG-LISPM at MIT-OZ, DCP at SCRC-TENEX
In-reply-to: The message of 27 Aug 84 07:14-EDT from Christopher C. Stacy <CSTACY at MIT-MC>

    Date: 27 August 1984 07:14-EDT
    From: Christopher C. Stacy <CSTACY @ MIT-MC>

    There is a host called MIT-DM which runs Unix.

Ugh.  It shouldn't prevent people from sending mail from a lispm.
27-Aug-84 08:27:15-EDT,2854;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 27 Aug 84 08:27-EDT
Date: Monday, 27 August 1984, 08:27-EDT
From:  <GAVAN at MIT-PYGMALION>
Subject: Bad formatting of version patch directory.
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.6, Experimental RELATUS 129.88,
FEP 18, on Lisp Machine Jimi Hendrix (3600):

Lost while trying to add a patch.

This bug occured because the formatting of the version patch directory
("pig:usrd$:[relatus.patch]relatu129.vpd.186") lost dramatically, forgetting
to start a string with double-quotes when making a patch.  It also randomly
inserted a  in the file.  It's still there.  Go look.

>>Error: Comma not inside a backquote
While in the function SI:XR-COMMA-MACRO  (:PROPERTY LIST SI:STANDARD-READ-FUNCTION)  SI:XR-READ-THING

SI:XR-COMMA-MACRO:  (P.C. = 10)
   Arg 0 (LIST-SO-FAR): (50. INSTALL LEXICON CONSTRAINT POSITING AND INVERSION FOR WHO)
   Arg 1 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.PATCH]RELATU129.VPD" 62447600>

(:PROPERTY LIST SI:STANDARD-READ-FUNCTION):  (P.C. = 100)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.PATCH]RELATU129.VPD" 62447600>
   Arg 1 (SHOULD-BE-NIL): NIL
   Arg 2 (FIFTY): 40.

SI:XR-READ-THING:  (P.C. = 60)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.PATCH]RELATU129.VPD" 62447600>

(:PROPERTY LIST SI:STANDARD-READ-FUNCTION):  (P.C. = 50)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.PATCH]RELATU129.VPD" 62447600>
   Arg 1 (SHOULD-BE-NIL): NIL
   Arg 2 (FIFTY): 40.

SI:XR-READ-THING:  (P.C. = 60)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.PATCH]RELATU129.VPD" 62447600>

(:PROPERTY LIST SI:STANDARD-READ-FUNCTION):  (P.C. = 50)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.PATCH]RELATU129.VPD" 62447600>
   Arg 1 (SHOULD-BE-NIL): NIL
   Arg 2 (FIFTY): 40.

SI:XR-READ-THING:  (P.C. = 60)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.PATCH]RELATU129.VPD" 62447600>

(:INTERNAL SI:READ-INTERNAL 0.):  (P.C. = 15)
   Arg 0 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.PATCH]RELATU129.VPD" 62447600>
   Arg 1 (FUNCTION): READ
   Arg 2 (EOF-OPTION): SI:NO-EOF-OPTION

Rest of stack:
SI:READ-INTERNAL:  (P.C. = 53)
READ:  (P.C. = 6)
SI:READ-PATCH-DIRECTORY:  (P.C. = 57)
SI:RESERVE-PATCH:  (P.C. = 4)
ZWEI:CREATE-PATCH-BUFFER:  (P.C. = 155)
ZWEI:ADD-PATCH-INTERVAL:  (P.C. = 41)
ZWEI:COM-ADD-PATCH:  (P.C. = 62)
ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 27)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
27-Aug-84 09:40:02-EDT,1209;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 27 Aug 84 09:39-EDT
Received: from SCRC-CONCORD by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 75923; Mon 27-Aug-84 09:29:50-EDT
Date: Monday, 27 August 1984, 09:32-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: FED startup broken sometimes.
To: SULLIV at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 25 Aug 84 01:12-EDT from SULLIV at MIT-MC
Message-ID: <840827093206.2.BSG@CONCORD.SCRC.Symbolics>

    Date: Saturday, 25 August 1984, 01:12-EDT
    From:  <SULLIV at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, on Lisp Machine Joe Louis (3600):

    Joe was freshly booted, and I'd loaded my fixes to the fed package into lisp (mc:sulliv;fntcnv lisp).
    I mouse selected FONT EDIT on system menu, and each time it produced the following error.  I have done this before
    using the same procedure with no problems.

    >>Trap: The first argument given to the FOLLOW-CELL-FORWARDING instruction, NIL, was not a locative.
    While in the function DBG:CELL-LOCATION-IN-STACK-GROUP  SYMEVAL-IN-STACK-GROUP  (:METHOD TV:BASIC-CHOOSE-VARIABLE-VALUES :ITEM-WIDTH)
There is a real-time race.  Fixed in 5.2.
27-Aug-84 13:54:14-EDT,1638;000000000000
Received: from MIT-EECS by MIT-OZ via Chaosnet; 27 Aug 84 13:53-EDT
Date: 27 Aug 1984  13:51 EDT (Mon)
Message-ID: <PAO.12042828328.BABYL@MIT-EECS>
From: Pat O'Donnell <PAO@MIT-EECS>
To:   "David C. Plummer in disguise" <DCP@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ
Subject: Namespace/Mail
In-reply-to: Msg of 26 Aug 1984 20:31-EDT from David C. Plummer in disguise <DCP at SCRC-TENEX>

    Date: Sunday, 26 August 1984, 20:31-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

        Date: Saturday, 25 August 1984, 13:31-EDT
        From: Patrick A. O'Donnell <PAO at MIT-EECS>

        I am amused that the namespace system considers it "cheaper" to send a
        message through MC rather than directly to OZ.

		...
    Among other things, this lets it send one message and let the user
    get on to more important things, than to send many messages
    locally.

Reasonable, but in this case, there was just one recipient.  Perhaps
it might be reasonable to test for that case.

       ... it is probably some artifact of which-comes-first in the database
    that you happen to get MC instead of OZ.  Or, it may have tried OZ
    before and lost, ...

I presume that "before" means since the last boot, in which case, no.

If indeed, it is an artifact of the database, then I would think that
some thought could be given to the situation.  If MC had emotions, I
could imagine it becoming upset that all lisp machine mail was being
routed through it, for no reason but an "artifact".  Then, again, "if
it works, don't fix it."  There are too many things that truly require
attention.
27-Aug-84 13:59:50-EDT,1116;000000000000
Received: from MIT-EECS by MIT-OZ via Chaosnet; 27 Aug 84 13:58-EDT
Date: 27 Aug 1984  13:58 EDT (Mon)
Message-ID: <PAO.12042829577.BABYL@MIT-EECS>
From: Pat O'Donnell <PAO@MIT-EECS>
To:   "David C. Plummer in disguise" <DCP@SCRC-TENEX>
Cc:   bug-lispm@MIT-OZ, BUG-symbolics-software@MIT-OZ
Subject: original bug mail
In-reply-to: Msg of 26 Aug 1984 21:31-EDT from David C. Plummer in disguise <DCP at SCRC-TENEX>

    Date: Sunday, 26 August 1984, 21:31-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

    All the referenced messages (bad dates, NTH of negative arguments)
    appear to be a manifestation of the same problem: Somebody has a bogus
    time.   ... Additionally, in Release 6 the LispM's
    algorithm for believing a time from the network is much better. ...
    In Release 6, it will take the median.

Would it be reasonable for the LispM to report out-of-line responses
so that the offending machine can be fixed?  (For some value of
"report", that is.)  (I just had this strong feeling of deja vu.
Wasn't this discussed on some list about a year or so ago?)
27-Aug-84 15:30:26-EDT,1014;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 27 Aug 84 15:30-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 80518; Mon 27-Aug-84 15:29:30-EDT
Date: Monday, 27 August 1984, 15:29-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: Namespace/Mail
To: CSTACY at MIT-MC, GAVAN at MIT-PYGMALION
cc: PAO at MIT-EECS, BUG-LISPM at MIT-OZ, DCP at SCRC-TENEX
In-Reply-To: The message of 27 Aug 84 07:17-EDT from GAVAN at MIT-PYGMALION
Message-ID: <840827152913.7.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Monday, 27 August 1984, 07:17-EDT
    From:  <GAVAN at MIT-PYGMALION>

	Date: 27 August 1984 07:14-EDT
	From: Christopher C. Stacy <CSTACY @ MIT-MC>

	There is a host called MIT-DM which runs Unix.

    Ugh.  It shouldn't prevent people from sending mail from a lispm.

If I type Select-T mit-dm <return>, I end up on MC.  (Or a Unix running
a very good imitation...)

Who was perverse enough to name their Unix after such a noble machine?
27-Aug-84 16:30:33-EDT,1238;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 27 Aug 84 16:27-EDT
Date: 27 August 1984 16:27-EDT
From: Kent M Pitman <KMP @ MIT-MC>
Subject: Namespace lossage in Symbolics 5.0 and above
To: BUG-LISPM @ MIT-MC

As you may or may not know, there has been a lot of trouble around MIT in
the last few days with namespace stuff working unreliably. Either LM15 is
not responding or not responding fast enough, but the end effect is that 
all the machines around suffer. Now it may be that we should have a 3600
and not a cadr being the namespace server, but even then it could go bad
and it's a pity that we're still having everyone suffer when just one 
component goes bad.

It occurs to me to wonder why namespace information is cached in the local
band environment (requiring disk-save to update) rather than on a separate
partition (ie, fep file). It seems like if it were written out to a 
separate band then all the bands on the machine could take advantage of any
more-recent information (not just the band that received the updated info).
Further, one wouldn't need to disk-save in order to save the more recent
information.

Can someone comment on whether or why not this would be an appropriate
strategy? -kmp
27-Aug-84 16:55:57-EDT,576;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 27 Aug 84 16:54-EDT
Date: Monday, 27 August 1984, 16:51-EDT
From: Webster Dove <dove at MIT-SYLVESTER>
Subject: possible bug/feature in structure-forward
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine John Lennon (3600):

Is it "correct" for the following to return nil nil?

(progn
(setq x (make-array 10))
(setq y (make-array 11))
(structure-forward x y)
(eq x y))

If so, was it ever intended that two objects forwarded to the same
place "look" alike to most software?
27-Aug-84 19:36:34-EDT,1456;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 27 Aug 84 19:36-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 80671; Mon 27-Aug-84 19:34:55-EDT
Date: Monday, 27 August 1984, 19:34-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: possible bug/feature in structure-forward
To: Webster Dove <dove at MIT-SYLVESTER>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 27 Aug 84 16:51-EDT from Webster Dove <dove at MIT-SYLVESTER>
Message-ID: <840827193436.1.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Monday, 27 August 1984, 16:51-EDT
    From: Webster Dove <dove at MIT-SYLVESTER>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine John Lennon (3600):

    Is it "correct" for the following to return nil nil?

It returns one NIL when I try it.  That is correct.

    (progn
    (setq x (make-array 10))
    (setq y (make-array 11))
    (structure-forward x y)
    (eq x y))

    If so, was it ever intended that two objects forwarded to the same
    place "look" alike to most software?

The two objects x and y are equivalent for AREF (and similar operations).
That does not make them the same object, which is what EQ tests, although
it does license the garbage collector to coalesce them into a single object
if it can.

The documentation for STRUCTURE-FORWARD that I have refers you to the
documentation for ADJUST-ARRAY-SIZE, which mentions this issue.
27-Aug-84 20:10:46-EDT,2204;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 27 Aug 84 20:10-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 80689; Mon 27-Aug-84 20:08:03-EDT
Date: Monday, 27 August 1984, 20:07-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: font bug
To: DROGERS at MIT-PREP
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 26 Aug 84 17:51-EDT from DROGERS at MIT-PREP
Message-ID: <840827200742.7.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Sunday, 26 August 1984, 17:51-EDT
    From:  <DROGERS at MIT-PREP>

    In Release 5.1, Experimental MIT 1.4, on Lisp Machine Robot-4 (3600):

    Same as my last bug report. Use of fonts in the attribute line
    causes the machine to blow away. As a side not, the HELP key
    is not very useful as it prompts for the name of the font,
    for it scrolls by far to fast to read. You are welcome to read
    oz:oz:<drogers>bug.fonts to reproduce this problem. I will leave
    the file in my area for a couple of days.

The file in question has font-shift characters (epsilons) around some
of the font names.  Actually each font name is written in the font
that it names, which I guess is kind of cute.

    >>Break: 
    While in the function TV:KBD-DEFAULT-OUTPUT-FUNCTION  TV:IO-BUFFER-GET  TV:KBD-IO-BUFFER-GET

    (:PROPERTY :PATHNAME PROMPT-AND-READ):  (P.C. = 22)
    PROMPT-AND-READ:  (P.C. = 135)
    FS:PROMPT-FOR-NEW-PATHNAME:  (P.C. = 14)
    FED:FIND-AND-LOAD-BFD:  (P.C. = 116)
    FED:FIND-AND-LOAD-FONT:  (P.C. = 10)
    ZWEI:GET-FONT-ALIST-ATTRIBUTE:  (P.C. = 35)
    ZWEI:REPARSE-ATTRIBUTE-LIST-INTERNAL:  (P.C. = 166)

In the development system that file reads in without any errors or queries.
However, the font names are not understood and it is not actually displayed
in multiple fonts.  I don't know whether this fix is in 5.2 or in 6.0.

You can understand why this doesn't work: the machine has no idea that fonts
are involved at all until -after- it has read the file attribute line and
discovered that there is a Fonts attribute.  It would be reasonable to make
a low-priority project to fix this by making two passes over the file
attribute line.
28-Aug-84 08:41:35-EDT,1757;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 28 Aug 84 08:41-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76294; Tue 28-Aug-84 08:39:33-EDT
Date: Tuesday, 28 August 1984, 08:42-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: original bug mail
To: Pat O'Donnell <PAO at MIT-EECS>,
    David C. Plummer in disguise <DCP at SCRC-TENEX>
cc: bug-lispm at MIT-OZ, BUG-symbolics-software at MIT-OZ
In-Reply-To: <PAO.12042829577.BABYL@MIT-EECS>
Message-ID: <840828084213.3.NFEP@NEPONSET.SCRC.Symbolics>

    Date: 27 Aug 1984  13:58 EDT (Mon)
    From: Pat O'Donnell <PAO@MIT-EECS>

	Date: Sunday, 26 August 1984, 21:31-EDT
	From: David C. Plummer in disguise <DCP at SCRC-TENEX>

	All the referenced messages (bad dates, NTH of negative arguments)
	appear to be a manifestation of the same problem: Somebody has a bogus
	time.   ... Additionally, in Release 6 the LispM's
	algorithm for believing a time from the network is much better. ...
	In Release 6, it will take the median.

    Would it be reasonable for the LispM to report out-of-line responses
    so that the offending machine can be fixed?  (For some value of
    "report", that is.)
If it did this blindly, we would start getting complaints "Why the hell
do I care if WHOI-BLUE-WHALE has the wrong time?  It isn't MY machine?"
I think a better thing is to have a command/function that some diligent
person runs occasionally to check on things.  I'll put this on the back
burner.  Maybe somebody will beat me to it.
    (I just had this strong feeling of deja vu.
    Wasn't this discussed on some list about a year or so ago?)
I think so, and I finally got around to writing the code a couple months
ago.
28-Aug-84 11:34:06-EDT,2425;000000000000
Received: from MIT-BING-CROSBY by MIT-OZ via Chaosnet; 28 Aug 84 11:32-EDT
Date: Tuesday, 28 August 1984, 00:57-EDT
From:  <REID at MIT-OZ>
Subject: Compiler/Interpreter Mismatch
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Reasoning Utility Package 10.0, on Lisp Machine Bing Crosby (3600):

This bug occurs only when "symterm" is compiled (it works OK interpreted).
"Symterm" calls "make-term" which was defined from the following defstruct:

   (defstruct (term :named
	            (:make-arrray (:area :rup-area))
	            (:print "[term ~s]" (term-tree term))
	            (:predicate? term?)
	...)

>>Error: The argument AREA to SI:%ALLOCATE-STRUCTURE-BLOCK-ESCAPE, :RUP-AREA, was of the wrong type.
         The function expected an area number.
While in the function SI:%ALLOCATE-STRUCTURE-BLOCK-ESCAPE  SYS:%ALLOCATE-BLOCK  SI:%MAKE-STRUCTURE

SI:%ALLOCATE-STRUCTURE-BLOCK-ESCAPE:  (P.C. = 261)
   Arg 0 (LENGTH): 9
   Arg 1 (AREA): :RUP-AREA
   Local 2 (REGION): 26
   Local 3 (END-OF-CACHE): SI:AREA
   Local 4 (FIRST-ADDRESS-TO-CREATE): :RUP-AREA
   Local 5 (NEW-END-OF-CACHE): "an area number"
   Local 6 (CACHE-ADDITION): #<DTP-LOCATIVE 140575>

SYS:%ALLOCATE-BLOCK:  (P.C. = 21)
   Arg 0 (LENGTH): 9
   Arg 1 (AREA): :RUP-AREA
   Arg 2 (BITS): 1

SI:%MAKE-STRUCTURE:  (P.C. = 12)
   Arg 0 (POINTER-DTP): 7
   Arg 1 (HEADER-DTP): 55
   Arg 2 (HEADER-TYPE): 1
   Arg 3 (REST-OF-HEADER): 0
   Arg 4 (AREA): :RUP-AREA
   Arg 5 (LENGTH): 9

MAKE-ARRAY:  (P.C. = 1014)
   Arg 0 (DIMENSIONS): 8
   Rest arg (OPTIONS): (:NAMED-STRUCTURE-SYMBOL RUP:TERM :AREA :RUP-AREA)

RUP:SYMTERM:  (P.C. = 14)  (from OZ:PS:<REID.RUP>EQUAL)
   Arg 0 (SYM): :=

RUP:TERM:  (P.C. = 6)  (from OZ:PS:<REID.RUP>EQUAL)
   Arg 0 (EXP): :=

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (RUP:TERM EXP)

SI:*EVAL:  (P.C. = 356)
   Arg 0 (FORM): (AREF (RUP:TERM EXP) 6)

Rest of stack:
LET:  (P.C. = 43)
SI:*EVAL:  (P.C. = 605)
SI:*EVAL:  (P.C. = 356)
SI:APPLY-LAMBDA:  (P.C. = 1106)
SYS:CALL-FUNNY-FUNCTION:  (P.C. = 26)
(LAMBDA (EXP) (RPLACD (LET ** **) T)):
MAPC:  (P.C. = 34)
SI:*EVAL:  (P.C. = 370)
MAPC:  (P.C. = 34)
RUP:RUP-INIT:  (P.C. = 6)  (from OZ:PS:<REID.RUP>EQUAL)
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL:  (P.C. = 7)
28-Aug-84 11:56:37-EDT,2658;000000000000
Received: from MIT-BING-CROSBY by MIT-OZ via Chaosnet; 28 Aug 84 11:55-EDT
Date: Tuesday, 28 August 1984, 01:20-EDT
From:  <REID at MIT-OZ>
Subject: More bugs with "areas"
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Reasoning Utility Package 10.0, on Lisp Machine Bing Crosby (3600):

I get the same bug as previously reported when I compile "add-intern-noticer" which
contains a macro which eventually expands to a "cons-in-area" call.  It works OK interpreted,
but not compiled (seems to confuse whether to evaluate ":rup-area" or not).

>>Error: The argument AREA to SI:%ALLOCATE-LIST-BLOCK-ESCAPE, :RUP-AREA, was of the wrong type.
         The function expected an area number.
While in the function SI:%ALLOCATE-LIST-BLOCK-ESCAPE  SYS:%ALLOCATE-BLOCK  CONS-IN-AREA

SI:%ALLOCATE-LIST-BLOCK-ESCAPE:  (P.C. = 260)
   Arg 0 (LENGTH): 2
   Arg 1 (AREA): :RUP-AREA
   Local 2 (REGION): 38
   Local 3 (END-OF-CACHE): SI:AREA
   Local 4 (FIRST-ADDRESS-TO-CREATE): :RUP-AREA
   Local 5 (NEW-END-OF-CACHE): "an area number"
   Local 6 (CACHE-ADDITION): #<DTP-LOCATIVE 140265>

SYS:%ALLOCATE-BLOCK:  (P.C. = 12)
   Arg 0 (LENGTH): 2
   Arg 1 (AREA): :RUP-AREA
   Arg 2 (BITS): 0

CONS-IN-AREA:  (P.C. = 11)
   Arg 0 (X): (RUP:INTERN-NOTICERS)
   Arg 1 (Y): ((RUP:INTERN-CANONICALIZER . RUP:COMCAN) (RUP:LOGICAL-OP? . T))
   Arg 2 (AREA): :RUP-AREA

RUP:ADD-INTERN-NOTICER:  (P.C. = 20)  (from OZ:PS:<REID.RUP>EQUAL2)
   Arg 0 (OPTERM): [term :=]
   Arg 1 (NOTICER): RUP:=NOTICER
   Arg 2 (QUEUE): [RUP:*EQUALITY-INVARIANTS* fifo containing NIL]
   --Defaulted args:--
   Arg 3 (USE-INDEX): NIL

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (RUP:ADD-INTERN-NOTICER (RUP:TERM (QUOTE :=)) (QUOTE RUP:=NOTICER) RUP:*EQUALITY-INVARIANTS*)

MAPC:  (P.C. = 34)
   Arg 0 (FCN): SI:*EVAL
   Rest arg (LISTS): (((RUP:ADD-INTERN-NOTICER (RUP:TERM **) (QUOTE RUP:=>NOTICER) RUP:*RUP-TOP-LEVEL*) (RUP:ADD-INTERN-NOTICER (RUP:TERM **) (QUOTE RUP:NOTNOTICER) RUP:*RUP-TOP-LEVEL*) (RUP:ADD-INTERN-NOTICER (RUP:TERM **) (QUOTE RUP:ORNOTICER) RUP:*RUP-TOP-LEVEL*) (RUP:ADD-INTERN-NOTICER (RUP:TERM **) (QUOTE RUP:ANDNOTICER) RUP:*RUP-TOP-LEVEL*) (RUP:ADD-INTERN-NOTICER (RUP:TERM **) (QUOTE RUP:IFFNOTICER) RUP:*RUP-TOP-LEVEL*) (RUP:ADD-INTERN-NOTICER (RUP:TERM **) (QUOTE RUP:CURRYNOTICER) RUP:*RUP-TOP-LEVEL*) (RUP:SETGMEMS)))

RUP:RUP-INIT:  (P.C. = 6)  (from OZ:PS:<REID.RUP>EQUAL)

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (RUP:RUP-INIT)

Rest of stack:
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL:  (P.C. = 7)
28-Aug-84 12:15:24-EDT,3731;000000000000
Mail-From: DROGERS created at 28-Aug-84 12:14:33
Date: Tue 28 Aug 84 12:14:33-EDT
From: David Rogers <DRogers@MIT-OZ>
Subject: Re: [Postmaster at SCRC-STONY-BROOK: Unable to deliver letter]
To: Moon@SCRC-TENEX
cc: bug-lispm@MIT-OZ
In-Reply-To: Message from "David A. Moon <Moon at SCRC-TENEX>" of Tue 28 Aug 84 00:14:40-EDT

Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 28 Aug 84 00:14-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 80755; Tue 28-Aug-84 00:14:36-EDT
Date: Tuesday, 28 August 1984, 00:14-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: [Postmaster at SCRC-STONY-BROOK: Unable to deliver letter]
To: DRogers at MIT-OZ
Message-ID: <840828001413.3.MOON@EUPHRATES.SCRC.Symbolics>

Can you arrange to not send bogus return addresses in your mail?
I'm not sure where that's coming from since your namespace entry says your
mailbox is on OZ.  Anyway, here's one piece of mail for you.

Date: Monday, 27 August 1984, 22:16-EDT
From: Postmaster at SCRC-STONY-BROOK
Subject: Unable to deliver letter
To: Moon at SCRC-STONY-BROOK

Unable to deliver letter to the following recipient:
  DROGERS at MIT-PREP: Mail error from PREP: 

----- Text of letter follows -----
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 80689; Mon 27-Aug-84 20:08:03-EDT
Date: Monday, 27 August 1984, 20:07-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: font bug
To: DROGERS at MIT-PREP
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 26 Aug 84 17:51-EDT from DROGERS at MIT-PREP
Message-ID: <840827200742.7.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Sunday, 26 August 1984, 17:51-EDT
    From:  <DROGERS at MIT-PREP>

    In Release 5.1, Experimental MIT 1.4, on Lisp Machine Robot-4 (3600):

    Same as my last bug report. Use of fonts in the attribute line
    causes the machine to blow away. As a side not, the HELP key
    is not very useful as it prompts for the name of the font,
    for it scrolls by far to fast to read. You are welcome to read
    oz:oz:<drogers>bug.fonts to reproduce this problem. I will leave
    the file in my area for a couple of days.

The file in question has font-shift characters (epsilons) around some
of the font names.  Actually each font name is written in the font
that it names, which I guess is kind of cute.

    >>Break: 
    While in the function TV:KBD-DEFAULT-OUTPUT-FUNCTION  TV:IO-BUFFER-GET  TV:KBD-IO-BUFFER-GET

    (:PROPERTY :PATHNAME PROMPT-AND-READ):  (P.C. = 22)
    PROMPT-AND-READ:  (P.C. = 135)
    FS:PROMPT-FOR-NEW-PATHNAME:  (P.C. = 14)
    FED:FIND-AND-LOAD-BFD:  (P.C. = 116)
    FED:FIND-AND-LOAD-FONT:  (P.C. = 10)
    ZWEI:GET-FONT-ALIST-ATTRIBUTE:  (P.C. = 35)
    ZWEI:REPARSE-ATTRIBUTE-LIST-INTERNAL:  (P.C. = 166)

In the development system that file reads in without any errors or queries.
However, the font names are not understood and it is not actually displayed
in multiple fonts.  I don't know whether this fix is in 5.2 or in 6.0.

You can understand why this doesn't work: the machine has no idea that fonts
are involved at all until -after- it has read the file attribute line and
discovered that there is a Fonts attribute.  It would be reasonable to make
a low-priority project to fix this by making two passes over the file
attribute line.

--------------
This seems to happend when I do (login 'drogers :host 'prep); then, bug
reports are not intelligent enough to make a proper return address. Perhaps
the user should be given a chance to edit the From: field in the message?
That would avoid this lossage, and also give the user a CHOICE of where
the reply to.

David

-------
28-Aug-84 14:50:24-EDT,494;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 28 Aug 84 14:49-EDT
Date: 28 August 1984 14:49-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
Subject:  Namespace/Mail
To: joseph @ SCRC-QUABBIN
cc: PAO @ MIT-EECS, BUG-LISPM @ MIT-OZ, GAVAN @ MIT-PYGMALION,
    DCP @ SCRC-QUABBIN
In-reply-to: Msg of Mon 27 Aug 84 15:29 EDT from Joseph R Goldstone <joseph at SCRC-QUABBIN.ARPA>

The people who used DM before named their machine DM.
(If you get MC, your host tables are out of date.)
28-Aug-84 15:16:17-EDT,477;000000000000
Mail-From: CHAE created at 28-Aug-84 15:14:58
Date: Tue 28 Aug 84 15:14:57-EDT
From: CHAE@MIT-OZ
Subject: si:dump-forms-to-file
To: bug-lispm@MIT-OZ
cc: chae@MIT-OZ

The above function doesn't seem to work recently on an array whose contents are floating 
point numbers.
It works fine on other arrays or lists.
i.e.
	(si;dump-forms-to-file pathname (list `(setq a ',a)))

when a was an array of floating point numbers , the above function did
not work.
-------
28-Aug-84 15:17:29-EDT,620;000000000000
Mail-From: CHAE created at 28-Aug-84 15:16:59
Mail-From: CHAE created at 28-Aug-84 15:14:58
Date: Tue 28 Aug 84 15:14:57-EDT
From: CHAE@MIT-OZ
Subject: si:dump-forms-to-file
To: bug-lispm@MIT-OZ
cc: chae@MIT-OZ
ReSent-Date: Tue 28 Aug 84 15:16:59-EDT
ReSent-From: CHAE@MIT-OZ
ReSent-To: bug-lispm@MIT-OZ

The above function doesn't seem to work recently on an array whose contents are floating 
point numbers.
It works fine on other arrays or lists.
i.e.
	(si;dump-forms-to-file pathname (list `(setq a ',a)))

when a was an array of floating point numbers , the above function did
not work.
-------
28-Aug-84 15:55:13-EDT,1123;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 28 Aug 84 15:54-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 81065; Tue 28-Aug-84 13:32:03-EDT
Date: Tuesday, 28 August 1984, 13:31-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Compiler/Interpreter Mismatch, More bugs with "areas"
To: REID at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 28 Aug 84 00:57-EDT from REID at MIT-OZ,
             The message of 28 Aug 84 01:20-EDT from REID at MIT-OZ
Message-ID: <840828133157.5.NFEP@NEPONSET.SCRC.Symbolics>

Both of these bugs are your fault.  You are telling it to use area
:RUP-AREA.  The probable reason the interpreter lets you do this is it
doesn't (in release) check symbols to see if they are keywords, and
therefore barfs at you.  In Release 6, the interpreter will have this
restriction.  The compiler, because of the definition of the self
evaluating property of keywords, assumes :RUP-AREA evalues to :RUP-AREA.
You should call the area RUP-AREA, or something, which will get set to a
number in the MAKE-AREA form.
28-Aug-84 15:56:10-EDT,1381;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 28 Aug 84 15:54-EDT
Received: from SCRC-CUYAHOGA by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 81111; Tue 28-Aug-84 14:21:52-EDT
Date: Tuesday, 28 August 1984, 14:21-EDT
From: Robert A. Cassels <Cassels at SCRC-TENEX>
Subject: More bugs with "areas"
To: REID at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 28 Aug 84 01:20-EDT from REID at MIT-OZ
Message-ID: <840828142145.1.CASSELS@CUYAHOGA.SCRC.Symbolics>

    Date: Tuesday, 28 August 1984, 01:20-EDT
    From:  <REID at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, Reasoning Utility Package 10.0, on Lisp Machine Bing Crosby (3600):

    I get the same bug as previously reported when I compile "add-intern-noticer" which
    contains a macro which eventually expands to a "cons-in-area" call.  It works OK interpreted,
    but not compiled (seems to confuse whether to evaluate ":rup-area" or not).

    >>Error: The argument AREA to SI:%ALLOCATE-LIST-BLOCK-ESCAPE, :RUP-AREA, was of the wrong type.
	     The function expected an area number.
    While in the function SI:%ALLOCATE-LIST-BLOCK-ESCAPE  SYS:%ALLOCATE-BLOCK  CONS-IN-AREA

Symbols in the keyword package are supposed to evaluate to themselves.
The system bug is that the interpreter allows SETQing keywords.  Your
bug is using a keyword symbol as a variable.
28-Aug-84 15:59:57-EDT,2239;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 28 Aug 84 15:59-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76471; Tue 28-Aug-84 15:57:07-EDT
Date: Tuesday, 28 August 1984, 15:59-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Re: [Postmaster at SCRC-STONY-BROOK: Unable to deliver letter]
To: David Rogers <DRogers at MIT-OZ>
cc: bug-lispm at MIT-OZ
In-Reply-To: The message of 28 Aug 84 12:14-EDT from David Rogers <DRogers at MIT-OZ>
Message-ID: <840828155948.7.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Tue 28 Aug 84 12:14:33-EDT
    From: David Rogers <DRogers@MIT-OZ>
    
	Date: Tuesday, 28 August 1984, 00:14-EDT
	From: David A. Moon <Moon at SCRC-TENEX>
    
	Can you arrange to not send bogus return addresses in your mail?
	I'm not sure where that's coming from since your namespace entry says your
	mailbox is on OZ.
    
	Date: Monday, 27 August 1984, 22:16-EDT
	From: Postmaster at SCRC-STONY-BROOK
    
	Unable to deliver letter to the following recipient:
	  DROGERS at MIT-PREP: Mail error from PREP: 

    This seems to happend when I do (login 'drogers :host 'prep); then, bug
    reports are not intelligent enough to make a proper return address. 

I see; the problem is you didn't log in as the real you, but as someone else.
The :host option to login means to not use your namespace entry, but instead
login as that user on that host.

I wonder why PREP sends a blank error message for mail to you.  I tried testing
this by hand.  PREP sent a positive acknowledgement for your name, but then after
the text of the mail was sent closed the connection without sending either a
positive or a negative acknowledgement.  Maybe the MAIL server on PREP is totally
bogus?  Could you pass this on to whoever is in charge of PREP?

									Perhaps
    the user should be given a chance to edit the From: field in the message?

You do have a chance to do that.  Edit From: anything you want into the headers
area of the message.  You may have been faked out by the fact that it doesn't
initialize that area with the normal From field; I think this was tried and people
didn't like it because it was verbosity that was usually useless.
28-Aug-84 17:03:33-EDT,1160;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 28 Aug 84 17:02-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 81067; Tue 28-Aug-84 13:32:55-EDT
Date: Tuesday, 28 August 1984, 13:32-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Compiler/Interpreter Mismatch, More bugs with "areas"
To: REID at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 28 Aug 84 00:57-EDT from REID at MIT-OZ,
             The message of 28 Aug 84 01:20-EDT from REID at MIT-OZ
Supersedes: <840828133157.5.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840828133250.6.NFEP@NEPONSET.SCRC.Symbolics>

Both of these bugs are your fault.  You are telling it to use area
:RUP-AREA.  The probable reason the interpreter lets you do this is it
doesn't (in Release 5) check symbols to see if they are keywords.  In
Release 6, the interpreter will have this restriction and complain.  The
compiler, because of the defined self evaluating property of keywords,
assumes :RUP-AREA evalues to :RUP-AREA.  You should call the area
RUP-AREA, or something, which will get set to a number in the MAKE-AREA
form.
28-Aug-84 17:04:24-EDT,999;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 28 Aug 84 17:02-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 81158; Tue 28-Aug-84 15:27:17-EDT
Date: Tuesday, 28 August 1984, 15:26-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Namespace/Mail
To: Christopher C. Stacy <CSTACY at MIT-MC>, joseph at SCRC-QUABBIN
cc: PAO at MIT-EECS, BUG-LISPM at MIT-OZ, GAVAN at MIT-PYGMALION,
    DCP at SCRC-QUABBIN
In-Reply-To: The message of 28 Aug 84 14:49-EDT from Christopher C. Stacy <CSTACY at MIT-MC>
Message-ID: <840828152659.9.HORNIG@PEACE.SCRC.Symbolics>

    Date: 28 August 1984 14:49-EDT
    From: Christopher C. Stacy <CSTACY @ MIT-MC>

    The people who used DM before named their machine DM.
    (If you get MC, your host tables are out of date.)

It appears that no one ever updated the MIT namespace files on LM15.  As
far as they are concerned, DM is a nickname for MC.  Someone should
delete these bogus nicknames.
28-Aug-84 20:49:12-EDT,1102;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 28 Aug 84 20:48-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76570; Tue 28-Aug-84 20:46:50-EDT
Date: Tuesday, 28 August 1984, 20:49-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: si:dump-forms-to-file
To: CHAE at MIT-OZ
cc: bug-lispm at MIT-OZ
In-Reply-To: The message of 28 Aug 84 15:14-EDT from CHAE at MIT-OZ
Message-ID: <840828204934.0.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Tue 28 Aug 84 15:14:57-EDT
    From: CHAE@MIT-OZ

    The above function doesn't seem to work recently on an array whose contents are floating 
    point numbers.
    It works fine on other arrays or lists.
    i.e.
	    (si;dump-forms-to-file pathname (list `(setq a ',a)))

    when a was an array of floating point numbers , the above function did
    not work.
    -------
In what system version?  What happened to make you think it didn't work? (Did it
blow out into the debugger, read the wrong data, write a file a million blocks
long when you expected one only a hundred blocks long, or what?)
28-Aug-84 21:22:33-EDT,1327;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 28 Aug 84 21:21-EDT
Received: from SCRC-MERRIMACK by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76594; Tue 28-Aug-84 21:19:53-EDT
Date: Tuesday, 28 August 1984, 21:22-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: File system bug 
To: CJL at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 16 Aug 84 17:33-EDT from CJL at MIT-OZ
Message-ID: <840828212229.7.MMCM@MERRIMACK.SCRC.Symbolics>

    Date: Thursday, 16 August 1984, 17:33-EDT
    From: CJL at MIT-OZ
    Sender: ZiPpY at MIT-PYGMALION

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

    I tried m-X copy file from janis|fep0:>boot.boot

    >>Error: File system bug on host JANIS|FEP0:
	     Null or missing user name in LOGIN request.
	     For JANIS|FEP0:>boot.boot
    While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:LOGIN-HOST-UNIT  (:METHOD FS:QFILE-ACCESS-PATH :LOGIN-UNIT)

Did you by any chance SETQ USER-ID or otherwise login abnormally?  That
doesn't work.  USER-ID gets out of synch with SI:*USER*, which holds the
names to use for remote hosts.  If you were previously not logged in,
it'll use "", and you'd get the above error.  The Sender field of your
message is further evidence of something like this.
28-Aug-84 21:28:49-EDT,971;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 28 Aug 84 21:28-EDT
Received: from SCRC-MERRIMACK by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76602; Tue 28-Aug-84 21:25:59-EDT
Date: Tuesday, 28 August 1984, 21:28-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: fonts
To: David A. Moon <Moon at SCRC-TENEX>, David Rogers <DROGERS at MIT-OZ>
cc: bug-LISPM at MIT-OZ
In-Reply-To: <840815000656.9.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840828212834.1.MMCM@MERRIMACK.SCRC.Symbolics>

    Date: Wednesday, 15 August 1984, 00:06-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

	Date: Thursday, 19 July 1984, 17:04-EDT
	From: David Rogers <DROGERS at MIT-OZ>

	It would be nice if ZWEI had a Delete Fonts command which took out
	all of the ^F1 etc stuff, and gave back a nice clean text file.

    Just delete the Font specification from the attribute list (the -*- line)
    and do m-X Reparse Attribute List.

Or do m-X Set Fonts CR CR.
28-Aug-84 21:30:24-EDT,1537;000000000000
Mail-From: CJL created at 28-Aug-84 21:29:37
Date: Tue, 28 Aug 1984  21:29 EDT
Message-ID: <CJL.12043173815.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   Mike McMahon <MMcM@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ
Subject: File system bug 
In-reply-to: Msg of 28 Aug 1984 21:22-EDT from Mike McMahon <MMcM at SCRC-TENEX>

    Date: Tuesday, 28 August 1984, 21:22-EDT
    From: Mike McMahon <MMcM at SCRC-TENEX>
    To:   CJL
    cc:   BUG-LISPM
    Re:   File system bug 

        Date: Thursday, 16 August 1984, 17:33-EDT
        From: CJL at MIT-OZ
        Sender: ZiPpY at MIT-PYGMALION

        In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

        I tried m-X copy file from janis|fep0:>boot.boot

        >>Error: File system bug on host JANIS|FEP0:
    	     Null or missing user name in LOGIN request.
    	     For JANIS|FEP0:>boot.boot
        While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:LOGIN-HOST-UNIT  (:METHOD FS:QFILE-ACCESS-PATH :LOGIN-UNIT)

    Did you by any chance SETQ USER-ID or otherwise login abnormally?  That
    doesn't work.  USER-ID gets out of synch with SI:*USER*, which holds the
    names to use for remote hosts.  If you were previously not logged in,
    it'll use "", and you'd get the above error.  The Sender field of your
    message is further evidence of something like this.

Yes, I used (setq user-id "ZiPpY"). All other file systems asked me for
a user to log in as, so I assumed that this was legal.
28-Aug-84 21:48:38-EDT,3153;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 28 Aug 84 21:48-EDT
Received: from SCRC-MERRIMACK by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76612; Tue 28-Aug-84 21:46:02-EDT
Date: Tuesday, 28 August 1984, 21:48-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Moving a lisp machine to another chaosnet address causes boot errors.
To: Richard Lamson <rsl at SPA-NIMBUS>
cc: David A. Moon <Moon at SCRC-TENEX>, BUG-LISPM at MIT-OZ
In-Reply-To: <840814175618.9.RSL@RUSSIAN.SPA.Symbolics>
Message-ID: <840828214836.5.MMCM@MERRIMACK.SCRC.Symbolics>

    Date: Tuesday, 14 August 1984, 17:56-PDT
    From: Richard Lamson <rsl at SPA-NIMBUS>

	Date: Sunday, 12 August 1984, 14:35-EDT
	From: David A. Moon <Moon at SCRC-TENEX>

	    Date: Thursday, 9 August 1984, 20:59-EDT
	    From:  <CJL at MIT-PYGMALION>

	    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

	    PI used to have chaosnet address 13010.  We moved PI to a new subnet,
	    and gave it a new chaosnet address 15314, which is the correct address
	    for the subnet it's on, and updated it's namespace object in the MIT
	    namespace to have this new correct address, yet this error still occurs
	    when booting it.  It still thinks it's 13010! Do we have to disk save
	    a new world load for booting on PI to convince it of it's new address?

	    >>Error: The host PI is not on the CHAOS network at 15314.

	The value of the variable chaos:*brd-history* will probably tell you the identity
	(as a Chaosnet address) of the namespace server that had not yet received up to
	date information on PI's new chaosnet address.

    I have seen this kind of thing every time I have tried to change Chaos
    addresses of hosts.  There is a timing problem in that it attempts to
    set the local host before it gets the namespace update from the network.
    Basically, you have to give the new address a new name, because the
    world saved on the disk thinks it knows that the machine named "PI"
    cannot possibly be at this Chaos address, but someone told it
    (correctly) that the machine at this Chaos address really is PI.

    The temporary fix is to give the new address a new name temporarily,
    change the name, and then do a disk-save on the moved machine.
    Presumably we can fix this in release 6.

I guess it's wrong for CHANGE-LOCAL-HOST to signal an error then.
Instead, it should warn you "Host FOO says that this machine is MIT-PI.
However, the network address on CHAOS of MIT-PI is believed to be 13010,
and this machine has an address of 15314.  Using CHAOS|15314 as the
local host for the time being."  The last sentence should always be
printed by CHANGE-LOCAL-HOST when it uses a gensym.

Then, if the who-am-i was correct and the host has been moved to a new
address since the band was made, it will find out when it is able to
talk to namespace servers and come up correctly as MIT-PI.  If however,
the server was wrong and the band has newer information saved in it
(because you are doing things in a different order), it won't override
that information.
29-Aug-84 01:03:44-EDT,1310;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 29 Aug 84 01:03-EDT
Date: Tuesday, 28 August 1984, 16:18-EDT
From: Alan Bawden <Alan at NIL>
Subject: Namespace screws user.  Film at 11.
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

I typed
(login'alan)
I notice that every place in my namespace entry that used to say MC, now says NIL.

>>Error: The host NIL cannot be a file computer.
While in the function FS:ADD-FILE-COMPUTER  SI:SET-USER-VARIABLES  LOGIN

FS:ADD-FILE-COMPUTER:  (P.C. = 23)
   Arg 0 (HOST): #<HOST NIL 16351753>

SI:SET-USER-VARIABLES:  (P.C. = 45)

LOGIN:  (P.C. = 64)
   Arg 0 (USER-NAME): ALAN
   Rest arg: NIL

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (LOGIN (QUOTE ALAN))

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1" :ABORTED-FUNCTION NIL :BEFORE-PROMPT-FUNCTION NIL :READ-FUNCTION NIL :EVAL-FUNCTION NIL ...)

SI:LISP-COMMAND-LOOP:  (P.C. = 115)
   Arg 0 (STREAM): #<LISP-LISTENER Lisp Listener 1 4700000 exposed>
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1")

SI:LISP-TOP-LEVEL1:  (P.C. = 22)
   Arg 0 (TERMINAL-IO-initialization): #<LISP-LISTENER Lisp Listener 1 4700000 exposed>

SI:LISP-TOP-LEVEL:  (P.C. = 7)
29-Aug-84 01:52:26-EDT,1222;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 29 Aug 84 01:51-EDT
Date: Wednesday, 29 August 1984, 01:48-EDT
From: JCMA@MIT-OZ
Subject: Band Lossage
To: BUG-LISPM@MIT-OZ

In Release 5.1, Experimental MIT 1.5, Experimental RELATUS 129.96,
FEP 18, on Lisp Machine Keith Moon (3600):

I tried to disk save a world load.  I was asked if I wanted to supercede since
there was already a version load-name.load.1.  I responded S to the fquery
(yes).  I was then asked if it was ok to clobber load-name.load.1. because I
was booted out of it.  I said no.  I disk saved using another name.  When I
looked at the disk label after the save, my new file was there but the load
that I had wanted to avoid clobbering was gone.

* Superceding doesn't seem to work.

* The band you are booted out of gets deleted even though you abort the
  disk save when asked if you really want to do it.

I tried to transfer a band (using si:transmit-band) to another machine with
the name of the target load-name.load.2 because there was already a
load-name.load.1.  I got an error which claimed that something tried to send
to NIL on the other end of the band transfer.  There was no Load-name.load.2
on the other machine.
29-Aug-84 02:57:35-EDT,1356;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 29 Aug 84 02:57-EDT
Date: 29 August 1984 02:58-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
Subject:  Namespace/Mail
To: Hornig @ SCRC-STONY-BROOK
cc: PAO @ MIT-EECS, BUG-LISPM @ MIT-OZ, GAVAN @ MIT-PYGMALION,
    DCP @ SCRC-QUABBIN, joseph @ SCRC-QUABBIN
In-reply-to: Msg of 28 Aug 1984 15:26-EDT from Charles Hornig <Hornig at SCRC-STONY-BROOK>

    Date: Tuesday, 28 August 1984, 15:26-EDT
    From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
    To:   Christopher C. Stacy <CSTACY>, joseph at SCRC-QUABBIN
    cc:   PAO at MIT-EECS, BUG-LISPM at MIT-OZ, GAVAN at MIT-PYGMALION,
          DCP at SCRC-QUABBIN
    Re:   Namespace/Mail
    In-Reply-To: The message of 28 Aug 84 14:49-EDT from Christopher C. Stacy <CSTACY at MIT-MC>
    Message-ID: <840828152659.9.HORNIG@PEACE.SCRC.Symbolics>

        Date: 28 August 1984 14:49-EDT
        From: Christopher C. Stacy <CSTACY @ MIT-MC>

        The people who used DM before named their machine DM.
        (If you get MC, your host tables are out of date.)

    It appears that no one ever updated the MIT namespace files on LM15.  As
    far as they are concerned, DM is a nickname for MC.  Someone should
    delete these bogus nicknames.

When does LM15 reread the files from MC?
DM is an Internet machine (on net 18.)
29-Aug-84 07:33:40-EDT,1179;000000000000
Mail-From: X.GYRO created at 29-Aug-84 07:33:21
Date: 29 Aug 1984  07:33 EDT (Wed)
Message-ID: <X.GYRO.12043283722.BABYL@MIT-OZ>
From: Scott Layson <X.GYRO@MIT-OZ>
To:   Mike McMahon <MMcM@SCRC-TENEX>
Cc:   bug-LISPM@MIT-OZ, David Rogers <DROGERS@MIT-OZ>,
      "David A. Moon" <Moon@SCRC-TENEX>
Subject: fonts
In-reply-to: Msg of 28 Aug 1984 21:28-EDT from Mike McMahon <MMcM at SCRC-TENEX>

    Date: Tuesday, 28 August 1984, 21:28-EDT
    From: Mike McMahon <MMcM at SCRC-TENEX>

        Date: Wednesday, 15 August 1984, 00:06-EDT
        From: David A. Moon <Moon at SCRC-TENEX>

    	Date: Thursday, 19 July 1984, 17:04-EDT
    	From: David Rogers <DROGERS at MIT-OZ>

    	It would be nice if ZWEI had a Delete Fonts command which took out
    	all of the ^F1 etc stuff, and gave back a nice clean text file.

        Just delete the Font specification from the attribute list (the -*- line)
        and do m-X Reparse Attribute List.

    Or do m-X Set Fonts CR CR.

This may work in the development system, but in 5.1, COM-SET-FONTS
insists on, and I quote, "a list of at least one element".  I was just
hacking this last night.

-- Scott
29-Aug-84 09:02:52-EDT,1808;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Aug 84 09:02-EDT
Received: from SCRC-PEACE by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76681; Wed 29-Aug-84 09:00:03-EDT
Date: Wednesday, 29 August 1984, 09:02-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Namespace/Mail
To: Christopher C. Stacy <CSTACY at MIT-MC>
cc: PAO at MIT-EECS, BUG-LISPM at MIT-OZ, GAVAN at MIT-PYGMALION,
    DCP at SCRC-QUABBIN, joseph at SCRC-QUABBIN
In-Reply-To: The message of 29 Aug 84 02:58-EDT from Christopher C. Stacy <CSTACY at MIT-MC>
Message-ID: <840829090243.1.HORNIG@PEACE.SCRC.Symbolics>

    Date: 29 August 1984 02:58-EDT
    From: Christopher C. Stacy <CSTACY @ MIT-MC>

	Date: Tuesday, 28 August 1984, 15:26-EDT
	From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
	To:   Christopher C. Stacy <CSTACY>, joseph at SCRC-QUABBIN
	cc:   PAO at MIT-EECS, BUG-LISPM at MIT-OZ, GAVAN at MIT-PYGMALION,
	      DCP at SCRC-QUABBIN
	Re:   Namespace/Mail
	In-Reply-To: The message of 28 Aug 84 14:49-EDT from Christopher C. Stacy <CSTACY at MIT-MC>
	Message-ID: <840828152659.9.HORNIG@PEACE.SCRC.Symbolics>

	    Date: 28 August 1984 14:49-EDT
	    From: Christopher C. Stacy <CSTACY @ MIT-MC>

	    The people who used DM before named their machine DM.
	    (If you get MC, your host tables are out of date.)

	It appears that no one ever updated the MIT namespace files on LM15.  As
	far as they are concerned, DM is a nickname for MC.  Someone should
	delete these bogus nicknames.

    When does LM15 reread the files from MC?

Never.

    DM is an Internet machine (on net 18.)

True.  "INTERNET|DM" on a Lisp Machine will find it correctly.  The
problem is that "MIT|DM" is still a nickname fopr "MIT|MC" and MIT comes
before INTERNET in the search list.
29-Aug-84 16:03:52-EDT,717;000000000000
Mail-From: DROGERS created at 29-Aug-84 16:03:35
Date: Wed 29 Aug 84 16:03:35-EDT
From: David Rogers <DRogers@MIT-OZ>
Subject: Re: [Postmaster at SCRC-STONY-BROOK: Unable to deliver letter]
To: JWalker@SCRC-TENEX
cc: bug-lmdoc@MIT-OZ, bug-lispm@MIT-OZ
In-Reply-To: Message from "Jan Walker <JWalker at SCRC-TENEX>" of Tue 28 Aug 84 18:11:33-EDT

Not totally true: I tried to include a Date: field when the time
was screwed up, and it wouldn't accept it. I would think that including
the From: line should be a settable option, rather than being forced
to not have it. It seems that less experienced people would benefit
from having it, with more experienced people able to turn it off.

David
-------
29-Aug-84 16:04:33-EDT,1751;000000000000
Mail-From: DROGERS created at 29-Aug-84 16:04:19
Date: Wed 29 Aug 84 16:04:19-EDT
From: David Rogers <DRogers@MIT-OZ>
Subject: [Jan Walker <JWalker at SCRC-TENEX>: Re: [Postmaster at SCRC-STONY-BROOK: Unable to deliver letter]]
To: bug-lispm@MIT-OZ

Oops, this is the message I was replying to...
                ---------------

Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 28 Aug 84 18:11-EDT
Received: from SCRC-OTTAWA by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76540; Tue 28-Aug-84 18:08:45-EDT
Date: Tuesday, 28 August 1984, 18:11-EDT
From: Jan Walker <JWalker at SCRC-TENEX>
Subject: Re: [Postmaster at SCRC-STONY-BROOK: Unable to deliver letter]
To: DRogers at MIT-OZ
cc: bug-lmdoc at SCRC-TENEX
In-Reply-To: The message of 28 Aug 84 12:14-EDT from David Rogers <DRogers at MIT-OZ>
Message-ID: <840828181127.8.JWALKER@OTTAWA.SCRC.Symbolics>

    Date: Tue 28 Aug 84 12:14:33-EDT
    From: David Rogers <DRogers@MIT-OZ>

    This seems to happend when I do (login 'drogers :host 'prep); then, bug
    reports are not intelligent enough to make a proper return address. Perhaps
    the user should be given a chance to edit the From: field in the message?
    That would avoid this lossage, and also give the user a CHOICE of where
    the reply to.

When I run into a similar situation, I move the cursor up to the headers
area and type in a From: field.  You can also type in a Reply-to: field
if you like.  It all gets handled properly; the fields you supply
override the ones that would otherwise have been added automatically.
Too bad this kind of thing is not widely realized.  I happened to know
the field names and semantics from having worked in message system
development elsewhere.
-------
29-Aug-84 16:07:52-EDT,1083;000000000000
Mail-From: DROGERS created at 29-Aug-84 16:07:32
Date: Wed 29 Aug 84 16:07:32-EDT
From: David Rogers <DRogers@MIT-OZ>
Subject: Re: fonts
To: MMcM@SCRC-TENEX
cc: moon@SCRC-STONY-BROOK, bug-lispm@MIT-OZ
In-Reply-To: Message from "Mike McMahon <MMcM at SCRC-TENEX>" of Tue 28 Aug 84 21:28:51-EDT

    Date: Tuesday, 28 August 1984, 21:28-EDT
    From: Mike McMahon <MMcM at SCRC-TENEX>

        Date: Wednesday, 15 August 1984, 00:06-EDT
        From: David A. Moon <Moon at SCRC-TENEX>

	    Date: Thursday, 19 July 1984, 17:04-EDT
            From: David Rogers <DROGERS at MIT-OZ>

            It would be nice if ZWEI had a Delete Fonts command which took out
            all of the ^F1 etc stuff, and gave back a nice clean text file.

        Just delete the Font specification from the attribute list (the -*- line)
        and do m-X Reparse Attribute List.

    Or do m-X Set Fonts CR CR.

That sounds nice and easy. If it is not already obviously placed in the documentation,
it should be. An alias to m-X Remove Fonts would be even nicer.
-------
29-Aug-84 17:04:37-EDT,529;000000000000
Mail-From: HENRY created at 29-Aug-84 17:03:25
Date: Wed, 29 Aug 1984  17:03 EDT
Message-ID: <HENRY.12043387498.BABYL@MIT-OZ>
From: HENRY@MIT-OZ
To:   David Rogers <DRogers@MIT-OZ>
Cc:   bug-lispm@MIT-OZ
Subject: Message fields
In-reply-to: Msg of 29 Aug 1984  16:04-EDT from David Rogers <DRogers>


    Too bad this kind of thing is not widely realized.  I happened to know
    the field names and semantics from having worked in message system
    development elsewhere.

Put the options into a help message.

29-Aug-84 18:37:24-EDT,2451;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 29 Aug 84 18:36-EDT
Date: Wednesday, 29 August 1984, 18:05-EDT
From:  <cjl at MIT-OZ>
Subject: Blowout while booting MOON
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Buddy Holly (3600):

Moon blew out with error while booting. This looks like a new one to me,
so I thought I'd pass it on.

>>Error: The symbol NIL has an invalid function definition
While in the function NIL  NETI:FIND-OBJECT-NAMED-IN-NAMESPACE  NET:FIND-OBJECT-NAMED

NIL:
   Arg 0: :GET-NAME-ENTRY
   Arg 1: :CLASS
   Arg 2: :HOST
   Arg 3: NIL

NETI:FIND-OBJECT-NAMED-IN-NAMESPACE:  (P.C. = 27)
   Arg 0 (CLASS): :CLASS
   Arg 1 (NAME): :HOST
   Arg 2 (NAMESPACE): NIL
   Arg 3 (ERROR-P): NIL

NET:FIND-OBJECT-NAMED:  (P.C. = 46)
   Arg 0 (CLASS): :CLASS
   Arg 1 (NAME): :HOST
   --Defaulted args:--
   Arg 2 (ERROR-P): T

NETI:FINDING-OBJECTS:  (P.C. = 42)
   Arg 0 (CLASS): :HOST
   Arg 1 (PROPERTY-LIST-initialization): (:SPOOLED-PRINTER ((#<PRINTER <<Error printing value>>
   Arg 2 (FUNCTION-initialization): #<DTP-COMPILED-FUNCTION (:INTERNAL NET:FIND-OBJECTS-FROM-PROPERTY-LIST 0) 46451116>
   Rest arg (OTHER-ARGS-initialization): (#<DTP-LOCATIVE 140544> #<DTP-LOCATIVE 140545>)

NET:FIND-OBJECTS-FROM-PROPERTY-LIST:  (P.C. = 15)
   Arg 0 (CLASS): :HOST
   Rest arg (PROPERTY-LIST): (:SPOOLED-PRINTER ((#<PRINTER <<Error printing value>>

SI:PRINTER-SPOOLER-HOSTS:  (P.C. = 47)
   Arg 0 (PRINTER): #<PRINTER <<Error printing value>>

SI:GET-HARDCOPY-DEVICE-ALIST:  (P.C. = 66)

SI:SITE-HARDCOPY-INITIALIZE:  (P.C. = 12)

Rest of stack:
SI:*EVAL:  (P.C. = 370)
INITIALIZATIONS:  (P.C. = 42)
NETI:RUN-SITE-INITIALIZATION-LIST:  (P.C. = 41)
(:METHOD NET:OBJECT :DEFAULT :CHANGE-OF-ATTRIBUTES):  (P.C. = 14)
NETI:ADD-OR-CHANGE-OBJECT:  (P.C. = 566)
NETI:QUERY-NAMESPACE-SERVER:  (P.C. = 434)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 421)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
(:METHOD NETI:NAMESPACE :VALIDATION-TIMESTAMP):  (P.C. = 20)
(:METHOD NETI:NAMESPACE :SET-CHANGED-OBJECTS-ALIST):  (P.C. = 33)
NETI:DELETE-OBJECT-FROM-NAMESPACE:  (P.C. = 73)
NETI:GET-INCREMENTAL-UPDATE-FROM-NETWORK:  (P.C. = 224)
(:METHOD NETI:NAMESPACE :GET-LATEST-TIMESTAMP):  (P.C. = 21)
NETI:INITIALIZE-NAMESPACES-AND-NETWORK:  (P.C. = 155)
LISP-REINITIALIZE:  (P.C. = 435)
SI:LISP-TOP-LEVEL:  (P.C. = 3)
29-Aug-84 23:03:00-EDT,1463;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Aug 84 23:02-EDT
Received: from MIT-MC by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 76969; Wed 29-Aug-84 22:59:20-EDT
Date: Wednesday, 29 August 1984, 22:04-EDT
From:  <DRM at MIT-LIVE-OAK>
Subject: 3600's and 3670's running the same world
To: bug-lispm at MIT-OZ
Cc: DRM at MIT-XX


About a month ago the FLA group at the LCS got two 3670s.  When a world
from one of our 3600s was blasted to the 3670s, the 3670s refused to
boot from it.  (After issuing the command START to the FEP the machine
would hang.)  I later found out that issuing the START command again
after getting back to the FEP by typing Control-Hyper-Function would
make the 3670 come to life and run the world.

I was also told that this problem could exist whenever a 3670 is trying
to boot a world created on a 3600, but not the other way around.  Well,
just today I created a world on one of our 3670s and blasted it to a
3600.  The 3670 now boots the new world, but the 3600 doesn't!  (The
3600 hangs in exactly the same way as the 3670 previously.) What is
going on here??

Now for some specifics:

The band created on a 3600 can be found on MIT-LIVE-OAK under
>Tanglewood4.load.  The band created on a 3670 can be found on MIT-FLAME
under >Tanlgewood5.load.  Our three 3600s are MIT-LIVE-OAK,
MIT-MAHOGANY, and MIT-NETLEAF-HACKBERRY.  The two 3670s are MIT-FLAME
and MIT-CHERRY.

-- Dinarte R. Morais
30-Aug-84 01:14:37-EDT,296;000000000000
Mail-From: CJL created at 30-Aug-84 01:14:16
Date: Thu, 30 Aug 1984  01:14 EDT
Message-ID: <CJL.12043476859.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   Bug-LISPM@MIT-OZ
Subject: LISPMs should accept the CHAOS contact name RESET-TIME-SERVER

And do the right thing when they do.
30-Aug-84 02:49:57-EDT,3255;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 30 Aug 84 02:49-EDT
Date: Thursday, 30 August 1984, 02:48-EDT
From:  <foo at MIT-LENNON>
Subject: Bogus Behavior When logging into local host
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine John Lennon (3600):


It shouldn't blow out because the user does not have a directory or there is
no file partition.

>>Error: FEP file FEP:>lmfs.file.newest, required for the file system as a partition, is not accessible:
         FEP File not found.
         For FEP0:>lmfs.fileFor LENNON:>foo>lispm-init.bin
While in the function LMFS:OPEN-LOCAL-LMFS  (:METHOD LMFS:LOCAL-LMFS-ACCESS-MIXIN :OPEN)  (:METHOD FS:ACTIVE-PATHNAME-MIXIN :OPEN)

LMFS:OPEN-LOCAL-LMFS:  (P.C. = 576)
   Arg 0 (PATHNAME): #<LMFS-PATHNAME "LENNON:>foo>lispm-init.bin">
   Arg 1 (LOGPATH): #<LMFS-PATHNAME "LENNON:>foo>lispm-init.bin">
   Arg 2 (ACCESS-PATH): #<LOCAL-LMFS-ACCESS-PATH LENNON using LOCAL-FILE 4030051>
   Arg 3 (OPTIONS): (:DIRECTION :INPUT :CHARACTERS :DEFAULT)
   Local 4 (MODE): :INPUT
   Local 5 (TYPE): :DEFAULT
   Local 6 (IF-EXISTS): NIL
   Local 7 (IF-NOT-EXISTS): :ERROR
   Local 8 (PROBE-DIRECTORY): NIL
   Local 9 (DELETED-P): NIL
   Local 10 (BYTE-SIZE): NIL
   Local 11 (RANDOM-OPTIONS): NIL
   Local 12 (FULL-PROBE-OPENING): NIL

(:METHOD LMFS:LOCAL-LMFS-ACCESS-MIXIN :OPEN):  (P.C. = 15)
   Arg 0 (SELF): #<LOCAL-LMFS-ACCESS-PATH LENNON using LOCAL-FILE 4030051>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor LMFS:LOCAL-LMFS-ACCESS-MIXIN -- 1. IV's, 0. FL's 5401623>
   Arg 2 (OPERATION): :OPEN
   Arg 3 (PATHNAME): #<LMFS-PATHNAME "LENNON:>foo>lispm-init.bin">
   Arg 4 (PATH): #<LMFS-PATHNAME "LENNON:>foo>lispm-init.bin">
   Rest arg (ARGS): (:DIRECTION :INPUT :CHARACTERS :DEFAULT)

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :OPEN):  (P.C. = 14)
   Arg 0 (SELF): #<LMFS-PATHNAME "LENNON:>foo>lispm-init.bin">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 37755002>
   Arg 2 (OPERATION): :OPEN
   Arg 3 (PATHNAME): #<LMFS-PATHNAME "LENNON:>foo>lispm-init.bin">
   Rest arg (OPTIONS): (:DIRECTION :INPUT :CHARACTERS :DEFAULT)

FS:COMMON-LISP-OPEN:  (P.C. = 445)
   Arg 0 (PATHNAME): #<LMFS-PATHNAME "LENNON:>foo>lispm-init.bin">
   Arg 1 (KEYWORD-ARGS): (:CHARACTERS :DEFAULT)

OPEN:  (P.C. = 255)
   Arg 0 (PATHNAME): #<LMFS-PATHNAME "LENNON:>foo>lispm-init.bin">
   Rest arg (KEYWORD-ARGS): (:CHARACTERS :DEFAULT)

FS:LOAD-OPEN:  (P.C. = 104)
   Arg 0 (PATHNAME): #<LMFS-PATHNAME "LENNON:>foo>lispm-init">
   Arg 1 (NONEXISTENT-OK-FLAG): NIL
   Arg 2 (DONT-SET-DEFAULT-P): T

LOGIN:  (P.C. = 540)
   Arg 0 (USER-NAME): "foo"
   Rest arg: (:HOST "lennon" :LOAD-INIT-FILE T)

FS:FORCE-USER-TO-LOGIN:  (P.C. = 112)

Rest of stack:
FS:DEFAULT-PATHNAME:  (P.C. = 114)
ZWEI:PATHNAME-DEFAULTS:  (P.C. = 21)
ZWEI:FIND-DEFAULTED-FILE:  (P.C. = 5)
ZWEI:EDIT-THING:  (P.C. = 23)
(:INTERNAL ZWEI:PROCESS-SPECIAL-COMMAND 7):  (P.C. = 5)
ZWEI:PROCESS-SPECIAL-COMMAND:  (P.C. = 106)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 166)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
30-Aug-84 07:56:17-EDT,1256;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 30 Aug 84 07:56-EDT
Received: from SCRC-MUDDY by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 82080; Thu 30-Aug-84 07:57:42-EDT
Date: Thursday, 30 August 1984, 07:56-EDT
From: Bruce Edwards <BEE at SCRC-STONY-BROOK>
Subject: 3600's and 3670's running the same world
To: DRM at MIT-XX, bug-lispm at MIT-OZ
In-Reply-To: The message of 29 Aug 84 22:04-EDT from DRM at MIT-LIVE-OAK
Message-ID: <840830075601.6.BEE@MUDDY.SCRC.Symbolics>

Are you sure it hangs? I have heard this rumor before, but I have never
seen it. It does however take a god-awful long time to boot. During this
time, it is resizing all of the screens in the world (3670 and 3600's
have different size screens). This takes a pretty long time, and in
addition, you cannot see the run/page bars because they are mapped to a
location which is off the screen in both cases. If you are patient,
eventually it will finish booting. Then you can disk save which will
save the band away with the correct screen sizings. Or you can take two
quaaludes and relax... (From a machine description once given
by Alan Kay.) If it does not boot in 5 minutes (I think it really only
takes about 2), then something really is broken.
30-Aug-84 08:07:36-EDT,471;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 30 Aug 84 08:07-EDT
Date: Thursday, 30 August 1984, 08:07-EDT
From:  <TOMR at MIT-OZ>
Subject: thin film cleaner for LISPM screens
To: DJB at MIT-OZ, info-lispm at MIT-OZ
Cc: bug-lispm at MIT-OZ, MPSG at MIT-OZ
In-reply-to: The message of 23 Aug 84 08:55-EDT from Dave Braunegg <DJB at MIT-OZ>

Try:

Optical Caoting Laboratory, Inc.
2789 Northpoint Parkway
Santa Rosa, CA 95407-7397
Telephone: (7070545-6440

30-Aug-84 10:23:02-EDT,726;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 30 Aug 84 10:22-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 82146; Thu 30-Aug-84 10:23:44-EDT
Date: Thursday, 30 August 1984, 10:23-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: LISPMs should accept the CHAOS contact name RESET-TIME-SERVER
To: Chris Lindblad <CJL at MIT-OZ>, Bug-LISPM at MIT-OZ
In-Reply-To: <CJL.12043476859.BABYL@MIT-OZ>
Message-ID: <840830102309.9.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Thu, 30 Aug 1984  01:14 EDT
    From: Chris Lindblad <CJL@MIT-OZ>

    And do the right thing when they do.
In the source.  "The right thing" is to get the time from the network,
right?
30-Aug-84 10:30:24-EDT,1778;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 30 Aug 84 10:29-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 82155; Thu 30-Aug-84 10:27:41-EDT
Date: Thursday, 30 August 1984, 10:27-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Bogus Behavior When logging into local host
To: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 30 Aug 84 02:48-EDT from foo at MIT-LENNON
Message-ID: <840830102702.0.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 30 August 1984, 02:48-EDT
    From:  <foo at MIT-LENNON>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine John Lennon (3600):

    It shouldn't blow out because the user does not have a directory or there is
    no file partition.

    >>Error: FEP file FEP:>lmfs.file.newest, required for the file system as a partition, is not accessible:
	     FEP File not found.
	     For FEP0:>lmfs.fileFor LENNON:>foo>lispm-init.bin
    While in the function LMFS:OPEN-LOCAL-LMFS  (:METHOD LMFS:LOCAL-LMFS-ACCESS-MIXIN :OPEN)  (:METHOD FS:ACTIVE-PATHNAME-MIXIN :OPEN)

	...

    LOGIN:  (P.C. = 540)
       Arg 0 (USER-NAME): "foo"
       Rest arg: (:HOST "lennon" :LOAD-INIT-FILE T)

    FS:FORCE-USER-TO-LOGIN:  (P.C. = 112)
	...
    ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)

To whoever you are, what is so bogus about this?  It is completely
accurate.  You tried to use Zmail without being logged in, and then you
told it to login as "foo" on the local machine AND load the init file.
Well, the init file is located in Local:>foo>lispm-init.lisp which is
stored inside the local LMFS which is in turn in a FEP file named
FEP:>lmfs.file(.newest).  We don't implement the RUM (Read user's mind)
instruction, yet...
30-Aug-84 14:13:40-EDT,1380;000000000000
Mail-From: CJL created at 30-Aug-84 14:13:09
Date: Thu, 30 Aug 1984  14:13 EDT
Message-ID: <CJL.12043618647.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   "David C. Plummer in disguise" <DCP@SCRC-TENEX>
Cc:   Bug-LISPM@MIT-OZ
Subject: LISPMs should accept the CHAOS contact name RESET-TIME-SERVER
In-reply-to: Msg of 30 Aug 1984 10:23-EDT from David C. Plummer in disguise <DCP at SCRC-TENEX>

    Date: Thursday, 30 August 1984, 10:23-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>
    To:   Chris Lindblad <CJL>, Bug-LISPM
    Re:   LISPMs should accept the CHAOS contact name RESET-TIME-SERVER

        Date: Thu, 30 Aug 1984  01:14 EDT
        From: Chris Lindblad <CJL@MIT-OZ>

        And do the right thing when they do.
    In the source.  "The right thing" is to get the time from the network,
    right?

Yea. Actually it would be neat if there was a set-time service, based on
chaos:simple protocol, so a host with the the known correct time could
smash the times into lispms that have the time wrong.  The scheme of
RESET-TIME-SERVER won't work too well if most of the hosts on the net
have the wrong time, where the set-time service would ensure that the
lispm was set with the correct time. It would be neat if all machines
had set-time service. Fixing this time lossage on the net would be much
easier with it.

30-Aug-84 15:07:45-EDT,3675;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Aug 84 15:07-EDT
Received: from MIT-MC by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 77135; Thu 30-Aug-84 15:04:29-EDT
Date: Thursday, 30 August 1984, 15:02-EDT
From:  <DRM at MIT-LIVE-OAK>
Subject: Bug(?) in TCP-IP
To: BUG-LISPM at MIT-OZ
Cc: DRM at MIT-XX

In Release 5.1, Experimental MIT 1.4, Experimental IP-TCP 12.0, FEP 18,
Tanglewood Version IV with TCP, on Project Tanglewood Mahogany (3600):

Trying to copy a file from MIT-LIVE-OAK to MIT-WILD-BLUE-YONDER with TCP
gives this.  Is this a problem with the TCP-IP system or with our UNIX?
Returning from this frame will complete the file transfer.

>>Error: The :CHANGE-PROPERTIES operation is not supported.
While in the function (:METHOD FS:FILE-ACCESS-PATH :UNCLAIMED-MESSAGE)  SI:FLAVOR-UNCLAIMED-MESSAGE  SI:INSTANCE-HASH-UNCLAIMED-MESSAGE

(:METHOD FS:FILE-ACCESS-PATH :UNCLAIMED-MESSAGE):  (P.C. = 12)
   Arg 0 (SELF): #<UNIX-TCP-FTP-FILE-ACCESS-PATH WILD-BLUE-YONDER using TCP-FTP 11372304>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-ACCESS-PATH -- 4. IV's, 0. FL's 4355037>
   Arg 2 (OPERATION): :UNCLAIMED-MESSAGE
   Arg 3 (OPERATION): :CHANGE-PROPERTIES
   Rest arg (ARGS): (#<UNIX-PATHNAME "WILD-BLUE-YONDER: //usr//drm//illustrate.l"> :CREATION-DATE 23717414425 :AUTHOR "DRM")

SI:FLAVOR-UNCLAIMED-MESSAGE:  (P.C. = 20)
   Arg 0 (SELF): #<UNIX-TCP-FTP-FILE-ACCESS-PATH WILD-BLUE-YONDER using TCP-FTP 11372304>
   Arg 1 (IGNORE): NIL
   Rest arg (MESSAGE): (:CHANGE-PROPERTIES #<UNIX-PATHNAME "WILD-BLUE-YONDER: //usr//drm//illustrate.l"> :CREATION-DATE 23717414425 :AUTHOR "DRM")

SI:INSTANCE-HASH-UNCLAIMED-MESSAGE:  (P.C. = 35)
   Arg 0 (SELF): #<UNIX-TCP-FTP-FILE-ACCESS-PATH WILD-BLUE-YONDER using TCP-FTP 11372304>
   Arg 1 (SELF-MAPPING-TABLE): NIL
   Rest arg (MESSAGE): (:CHANGE-PROPERTIES #<UNIX-PATHNAME "WILD-BLUE-YONDER: //usr//drm//illustrate.l"> :CREATION-DATE 23717414425 :AUTHOR "DRM")

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :CHANGE-PROPERTIES):  (P.C. = 13)
   Arg 0 (SELF): #<UNIX-PATHNAME "WILD-BLUE-YONDER: //usr//drm//illustrate.l">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 54576165>
   Arg 2 (OPERATION): :CHANGE-PROPERTIES
   Arg 3 (IGNORE): T
   Rest arg (PROPERTIES): (:CREATION-DATE 23717414425 :AUTHOR "DRM")

(:METHOD SI:FILE-STREAM-MIXIN :DEFAULT :CHANGE-PROPERTIES):  (P.C. = 10)
   Arg 0 (SELF): #<FTP-STREAM-MODE-CHARACTER-OUTPUT-STREAM "WILD-BLUE-YONDER: //usr//drm//illustrate.l" 11375356>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:FILE-STREAM-MIXIN -- 1. IV's, 0. FL's 4272554>
   Arg 2 (OPERATION): :CHANGE-PROPERTIES
   Rest arg (ARGS): (T :CREATION-DATE 23717414425 :AUTHOR "DRM")

FS:COPY-AUTHOR-AND-CREATION-DATE:  (P.C. = 30)
   Arg 0 (STREAM): #<FTP-STREAM-MODE-CHARACTER-OUTPUT-STREAM "WILD-BLUE-YONDER: //usr//drm//illustrate.l" 11375356>
   Arg 1 (NEW-AUTHOR): "DRM"
   Arg 2 (NEW-CREATION-DATE): 23717414425

COPYF:  (P.C. = 415)
   Arg 0 (FROM-PATHNAME): #<LMFS-PATHNAME "OAK:>Illustrate>Illustrate.lisp">
   Arg 1 (TO-PATHNAME): #<UNIX-PATHNAME "WILD-BLUE-YONDER: //usr//drm//">
   Rest arg: (:CHARACTERS :DEFAULT :COPY-CREATION-DATE T :COPY-AUTHOR T :REPORT-STREAM #<TYPEIN-WINDOW Typein Window 2 3202254 exposed>)

ZWEI:COM-COPY-FILE:  (P.C. = 316)

Rest of stack:
ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 27)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
30-Aug-84 17:22:30-EDT,1776;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 30 Aug 84 17:22-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 82412; Thu 30-Aug-84 17:23:49-EDT
Date: Thursday, 30 August 1984, 17:23-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: LISPMs should accept the CHAOS contact name RESET-TIME-SERVER
To: Chris Lindblad <CJL at MIT-OZ>,
    David C. Plummer in disguise <DCP at SCRC-TENEX>
cc: Bug-LISPM at MIT-OZ
In-Reply-To: <CJL.12043618647.BABYL@MIT-OZ>
Message-ID: <840830172308.9.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Thu, 30 Aug 1984  14:13 EDT
    From: Chris Lindblad <CJL@MIT-OZ>

	Date: Thursday, 30 August 1984, 10:23-EDT
	From: David C. Plummer in disguise <DCP at SCRC-TENEX>
	To:   Chris Lindblad <CJL>, Bug-LISPM
	Re:   LISPMs should accept the CHAOS contact name RESET-TIME-SERVER

	    Date: Thu, 30 Aug 1984  01:14 EDT
	    From: Chris Lindblad <CJL@MIT-OZ>

	    And do the right thing when they do.
	In the source.  "The right thing" is to get the time from the network,
	right?

    Yea. Actually it would be neat if there was a set-time service, based on
    chaos:simple protocol, so a host with the the known correct time could
    smash the times into lispms that have the time wrong.  The scheme of
    RESET-TIME-SERVER won't work too well if most of the hosts on the net
    have the wrong time, where the set-time service would ensure that the
    lispm was set with the correct time. It would be neat if all machines
    had set-time service. Fixing this time lossage on the net would be much
    easier with it.

Sorry, you are operating under the wrong government.  (In theory) it
should decide for itself what to think, not be told what to think.
31-Aug-84 13:19:23-EDT,1473;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 31 Aug 84 13:19-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 82947; Fri 31-Aug-84 13:20:47-EDT
Date: Friday, 31 August 1984, 13:19-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Bug(?) in TCP-IP
To: DRM at MIT-LIVE-OAK, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 30 Aug 84 15:02-EDT from DRM at MIT-LIVE-OAK
Message-ID: <840831131956.2.HORNIG@PEACE.SCRC.Symbolics>

    Date: Thursday, 30 August 1984, 15:02-EDT
    From:  <DRM at MIT-LIVE-OAK>

    In Release 5.1, Experimental MIT 1.4, Experimental IP-TCP 12.0, FEP 18,
    Tanglewood Version IV with TCP, on Project Tanglewood Mahogany (3600):

    Trying to copy a file from MIT-LIVE-OAK to MIT-WILD-BLUE-YONDER with TCP
    gives this.  Is this a problem with the TCP-IP system or with our UNIX?
    Returning from this frame will complete the file transfer.

    >>Error: The :CHANGE-PROPERTIES operation is not supported.
    While in the function (:METHOD FS:FILE-ACCESS-PATH :UNCLAIMED-MESSAGE)  SI:FLAVOR-UNCLAIMED-MESSAGE  SI:INSTANCE-HASH-UNCLAIMED-MESSAGE

It's a bug in the 5.1 COPYF command which insists on setting the
attributes even if there is no way to do it.  This is fixed in 5.2.  In
the mean time, just return from the :CHANGE-PROPERTIES message.  If you
want to fix it privately, just set up a handler for this condition in
FS:COPY-AUTHOR-AND-CREATION-DATE.
31-Aug-84 14:34:20-EDT,2236;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 31 Aug 84 14:33-EDT
Received: from XX.MIT by QUABBIN.SCRC.Symbolics via INTERNET with SMTP id 77384; 31 Aug 84 14:29:47-EDT
Delivery-Notice: While sending this message to SCRC-QUABBIN.ARPA, the
 MIT-XX.ARPA mailer was obliged to send this message in 50-byte
 individually Pushed segments because normal TCP stream transmission
 timed out.  This probably indicates a problem with the receiving TCP
 or SMTP server.  See your site's software support if you have any questions.
Date: Fri, 31 Aug 1984  14:23 EDT
Message-ID: <DRM.12043882644.BABYL@MIT-XX>
From: DRM@MIT-XX.ARPA
To:   Bruce Edwards <BEE@SCRC-STONY-BROOK.ARPA>
Cc:   bug-lispm%MIT-OZ@SCRC-QUABBIN.ARPA
Subject: 3600's and 3670's running the same world
In-reply-to: Msg of 30 Aug 1984  07:56-EDT from Bruce Edwards <BEE at SCRC-STONY-BROOK.ARPA>

     Date: Thursday, 30 August 1984  07:56-EDT
     From: Bruce Edwards <BEE at SCRC-STONY-BROOK.ARPA>
     To:   DRM at MIT-XX.ARPA, bug-lispm%MIT-OZ at SCRC-QUABBIN.ARPA
     Re:   3600's and 3670's running the same world
     
     Are you sure it hangs? I have heard this rumor before, but I have never
     seen it. It does however take a god-awful long time to boot. During this
     time, it is resizing all of the screens in the world (3670 and 3600's
     have different size screens). This takes a pretty long time, and in
     addition, you cannot see the run/page bars because they are mapped to a
     location which is off the screen in both cases. If you are patient,
     eventually it will finish booting. Then you can disk save which will
     save the band away with the correct screen sizings. Or you can take two
     quaaludes and relax... (From a machine description once given
     by Alan Kay.) If it does not boot in 5 minutes (I think it really only
     takes about 2), then something really is broken.

I think something is really broken ... I let MIT-LIVE-OAK, a 3600, try
to boot a 3670 band for over 15 minutes, but no response.  However,
when I got back to the FEP and STARTed again, the run bars became
visible immediately and it completed the boot.  You are welcome to
come watch.

-- Dinarte R. Morais
31-Aug-84 17:21:53-EDT,2303;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 31 Aug 84 17:21-EDT
Received: from SCRC-NEPONSET by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 21760; Fri 31-Aug-84 16:46:52-EDT
Date: Friday, 31 August 1984, 16:46-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: 3600's and 3670's running the same world
To: DRM at MIT-XX
cc: Bruce Edwards <BEE at SCRC-STONY-BROOK>, bug-lispm at MIT-OZ
In-Reply-To: <DRM.12043882644.BABYL@MIT-XX>
Message-ID: <840831164657.6.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Fri, 31 Aug 1984  14:23 EDT
    From: DRM@MIT-XX.ARPA

	 Date: Thursday, 30 August 1984  07:56-EDT
	 From: Bruce Edwards <BEE at SCRC-STONY-BROOK.ARPA>
	 To:   DRM at MIT-XX.ARPA, bug-lispm%MIT-OZ at SCRC-QUABBIN.ARPA
	 Re:   3600's and 3670's running the same world
     
	 Are you sure it hangs? I have heard this rumor before, but I have never
	 seen it. It does however take a god-awful long time to boot. During this
	 time, it is resizing all of the screens in the world (3670 and 3600's
	 have different size screens). This takes a pretty long time, and in
	 addition, you cannot see the run/page bars because they are mapped to a
	 location which is off the screen in both cases. If you are patient,
	 eventually it will finish booting. Then you can disk save which will
	 save the band away with the correct screen sizings. Or you can take two
	 quaaludes and relax... (From a machine description once given
	 by Alan Kay.) If it does not boot in 5 minutes (I think it really only
	 takes about 2), then something really is broken.

    I think something is really broken ... I let MIT-LIVE-OAK, a 3600, try
    to boot a 3670 band for over 15 minutes, but no response.  However,
    when I got back to the FEP and STARTed again, the run bars became
    visible immediately and it completed the boot.  You are welcome to
    come watch.

Wanna have some fun?  Copy the FEP debugger to your machine
(copyf "sys:l-fep;Vxx-debug.flod" "fep:>") where xx is the version of
the FEP proms you have.  When you get to the FEP, don't type Start but
type Load Fep >Vxx-debug.flod.  Poke around and let us know where it
thinks it is.  (If Vxx-debug doesn't exist, I get to yell at somebody
(probably MIT) for not loading the source tape.)
 1-Sep-84 02:38:58-EDT,663;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 1 Sep 84 02:38-EDT
Date: Saturday, 1 September 1984, 02:39-EDT
From: JCMA@MIT-OZ
Subject: DEFMACRO: &LIST-OF seems broken 
To: BUG-LISPM@MIT-OZ

In Release 5.1, Experimental MIT 1.5, Experimental RELATUS 130.0, FEP 18, on Lisp Machine John Lennon (3600):

I was trying to use &list-of and I wasn't getting anywhere.  So, I tried the
example from p. 32 of MAC in vol 3 of the manual, but it doesn't work.

(DEFMACRO PRINT-LET (X &OPTIONAL &LIST-OF ((VARS VALS)
					   '((BASE 10.)
					     (*NOPOINT T))))
  `((LAMBDA (,@VARS) (PRINT ,X))
    ,@VALS))

(PRINT-LET 10.)

(PRINT-LET FOO ((BAR 3)))
 1-Sep-84 04:51:06-EDT,665;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 1 Sep 84 04:50-EDT
Date: Saturday, 1 September 1984, 04:51-EDT
From: JCMA@MIT-OZ
Subject: Flavor TMSing Screw: HELP!
To: BUG-LISPM@MIT-OZ

In Release 5.1, Experimental MIT 1.5, Experimental RELATUS 130.0, FEP 18, on
Lisp Machine John Lennon (3600):  

We're are being screwed mercilessly by the bug in retraction of flavor methods
and the retration/addition of instance variables.  We need the patch that
fixes this ASAP.  If we don't get it we might as well take a vacation.

This is the bug the produces the spurious sending to NIL errors because it has
randomly clobbered entries in the method table.
 3-Sep-84 17:14:24-EDT,452;000000000000
Mail-From: CGA created at  3-Sep-84 17:13:38
Date: Mon 3 Sep 84 17:13-EDT
From: Christopher G Atkeson <CGA@MIT-OZ>
Subject: bing crosby croaks
To: bug-lispm@MIT-OZ

Bing Crosby died on me today ("Lisp stopped itself") and refuses to
warm boot.
For your entertainment I left it as it was with a note on it saying
someone from symbolics might come by.
I don't think it ran out of memory, but if it did it should say so.
Enjoy,
chris atkeson
 4-Sep-84 10:53:11-EDT,1189;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 4 Sep 84 10:52-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 83584; Tue 4-Sep-84 09:57:46-EDT
Date: Tuesday, 4 September 1984, 09:55-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: DEFMACRO: &LIST-OF seems broken 
To: JCMA at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 1 Sep 84 02:39-EDT from JCMA at MIT-OZ
Message-ID: <840904095536.6.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 1 September 1984, 02:39-EDT
    From: JCMA@MIT-OZ

    In Release 5.1, Experimental MIT 1.5, Experimental RELATUS 130.0, FEP 18, on Lisp Machine John Lennon (3600):

    I was trying to use &list-of and I wasn't getting anywhere.  So, I tried the
    example from p. 32 of MAC in vol 3 of the manual, but it doesn't work.

&LIST-OF being broken in Release 5 has been reported several times
before.  The compiler fix for this is in 5.1, which you are running.  I
don't think the DEFMACRO function to hack &LIST-OF is included in some
patch.  You can recompile DEFMACRO-&LIST-OF-CHEVEUX from an editor
buffer, or perhaps include it in MIT 1.6 or something.
 4-Sep-84 10:54:50-EDT,1609;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 4 Sep 84 10:54-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 77920; Tue 4-Sep-84 10:44:24-EDT
Date: Tuesday, 4 September 1984, 10:49-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Flavor TMSing Screw: HELP!
To: JCMA at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 1 Sep 84 04:51-EDT from JCMA at MIT-OZ
Message-ID: <840904104944.7.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 1 September 1984, 04:51-EDT
    From: JCMA@MIT-OZ

    In Release 5.1, Experimental MIT 1.5, Experimental RELATUS 130.0, FEP 18, on
    Lisp Machine John Lennon (3600):  

    We're are being screwed mercilessly by the bug in retraction of flavor methods
    and the retration/addition of instance variables.  We need the patch that
    fixes this ASAP.  If we don't get it we might as well take a vacation.

Wouldn't it be better to design your flavors more carefully so that this
doesn't happen?  Yes, there are bugs and some things will be better in
Release 6, but from your description, it is you who is screwing
yourself.  I have had this problem myself several times while
prototyping an application that uses flavors.  I bitch and screen a lot
too, but finally realize it was my own doing.

I assume the patch you want is UNDEFFLAVOR.  I can't find this in 5.2.
I don't know how easy it would be to make the current source work in
5.2.

    This is the bug the produces the spurious sending to NIL errors because it has
    randomly clobbered entries in the method table.
 5-Sep-84 02:21:28-EDT,1473;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 5 Sep 84 02:21-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 77996; Tue 4-Sep-84 12:03:20-EDT
Date: Tuesday, 4 September 1984, 12:08-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: bing crosby croaks
To: Christopher G Atkeson <CGA at MIT-OZ>, bug-lispm at MIT-OZ
In-Reply-To: The message of 3 Sep 84 17:13-EDT from Christopher G Atkeson <CGA at MIT-OZ>
Message-ID: <840904120841.5.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Mon 3 Sep 84 17:13-EDT
    From: Christopher G Atkeson <CGA@MIT-OZ>

    Bing Crosby died on me today ("Lisp stopped itself") and refuses to
    warm boot.

(This goes for all of Bug-LispM, MIT and elsewhere:) If you don't have
fep:>Vxx-debug.flod (xx = the version of you FEP proms, which you can
find out with the Show Version command to the FEP).  on your machine you
should.  If you don't know how to use it, you should (part of it
involves typeing "Load Fep >Vxx-debug.flod" to the fep prompt.  There
are more details in the Release 5 coverletter.

    For your entertainment I left it as it was with a note on it saying
    someone from symbolics might come by.

I'm confused.  Either somebody officially said they WOULD come by, or
you have a friend that said s/he MIGHT come by.

    I don't think it ran out of memory, but if it did it should say so.

If it did, it would have said "Ran out of swap space".
 5-Sep-84 02:21:56-EDT,1170;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 5 Sep 84 02:21-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 78092; Tue 4-Sep-84 16:18:59-EDT
Date: Tuesday, 4 September 1984, 16:25-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Flavor TMSing Screw: HELP!
To: JCMA at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 1 Sep 84 04:51-EDT from JCMA at MIT-OZ
Message-ID: <840904162500.9.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Saturday, 1 September 1984, 04:51-EDT
    From: JCMA@MIT-OZ

    In Release 5.1, Experimental MIT 1.5, Experimental RELATUS 130.0, FEP 18, on
    Lisp Machine John Lennon (3600):  

    We're are being screwed mercilessly by the bug in retraction of flavor methods
    and the retration/addition of instance variables.  We need the patch that
    fixes this ASAP.  If we don't get it we might as well take a vacation.

    This is the bug the produces the spurious sending to NIL errors because it has
    randomly clobbered entries in the method table.

I think this is 242.330, which is in Release 5.2, which last I heard was supposed to
be distributed this week.
 5-Sep-84 12:07:32-EDT,453;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 5 Sep 84 12:07-EDT
Date: Wednesday, 5 September 1984, 12:06-EDT
From: RICH at MIT-OZ
Sender: YISHAI at MIT-OZ
Subject: Warning messages on Globalizing
To: bug-lispm at MIT-OZ
Cc: DICK at MIT-OZ, KMP at MIT-OZ

In Rel 5 is there a way to inhibit warning messages about
globalizing symbols.  This is a problem for loading GPRINT, which
globalizes about two screenfuls of symbols.
		Thanks, Chuck.
 5-Sep-84 12:21:32-EDT,3320;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 5 Sep 84 12:20-EDT
Date: Wednesday, 5 September 1984, 12:19-EDT
From: roly at MIT-MC
Sender: Bug-Boxer at MIT-MC
Subject: can't connect to mc -- namespace lost
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Experimental Boxer 3.8, on Lisp Machine Joe Louis (3600):

I was just trying to use the lispm as a terminal and it blew out on the
bogus namespace object DM.  It looks like lm15 needs to be updated to
make things consistant, or all of the lispm's might to do a world save?
What a loosing name for a new system.

>>Error: Deleting a name from the wrong namespace.
While in the function NETI:DELETE-NAME-FROM-NAMESPACE  NETI:ADD-OR-CHANGE-OBJECT  NETI:QUERY-NAMESPACE-SERVER

NETI:DELETE-NAME-FROM-NAMESPACE:  (P.C. = 11)
   Arg 0 (NAME): #<NAME INTERNET|MIT-DM 16346146>
   Arg 1 (NAMESPACE): #<NAMESPACE ARPANET 16654503>
   Arg 2 (OBJECT): #<UNIX-HOST MIT-DM 16346152>

NETI:ADD-OR-CHANGE-OBJECT:  (P.C. = 445)
   Arg 0 (CLASS-NAME): :HOST
   Arg 1 (NAME): #<NAME ARPANET|MIT-MC 17254026>
   Arg 2 (PROPERTY-LIST): (:NICKNAME (#<NAME ARPANET|MC 17246744>) :ADDRESS ((#<INTERNET-NETWORK ARPANET 11600134> "10.3.0.44")) :MACHINE-TYPE :DEC-1080 :SYSTEM-TYPE :ITS :SERVICE ((:LOGIN :TCP :TELNET) (:FILE :TCP :TCP-FTP) (:MAIL-TO-USER :TCP :SMTP) (:SEND :TCP :SMTP) (:EXPAND-MAIL-RECIPIENT :TCP :SMTP) (:TIME :TCP :TIME-MSB) (:LOGIN :TCP :SUPDUP) (:SHOW-USERS :TCP :ASCII-NAME)))

NETI:QUERY-NAMESPACE-SERVER:  (P.C. = 434)
   Arg 0 (CLASS): :HOST
   Arg 1 (NAMESPACE): #<NAMESPACE ARPANET 16654503>
   Rest arg (PROPERTY-LIST): (:NAME #<NAME ARPANET|MIT-MC 17254026> :TIMESTAMP NIL)

(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 227)
   Arg 0 (SELF): #<ITS-HOST MIT-MC 16350572>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37633441>
   Arg 2 (OPERATION): :CHECK-VALIDITY
   Arg 3 (RELATIVE-TO-NAMESPACE): #<NAMESPACE ARPANET 16654503>
   Arg 4 (FORCE-P): NIL

(:METHOD NET:OBJECT :CHECK-VALIDITY):  (P.C. = 34)
   Arg 0 (SELF): #<ITS-HOST MIT-MC 16350572>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37633441>
   Arg 2 (OPERATION): :CHECK-VALIDITY
   --Defaulted args:--
   Arg 3 (RELATIVE-TO-NAMESPACE): NIL
   Arg 4 (FORCE-P): NIL

(:METHOD NET:OBJECT :BEFORE :GET):  (P.C. = 5)
   Arg 0 (SELF): #<ITS-HOST MIT-MC 16350572>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37633441>
   Arg 2 (OPERATION): :GET
   Rest arg (IGNORE): (:SERVICE)

(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 7)
   Arg 0 (SELF): #<ITS-HOST MIT-MC 16350572>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37633441>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD NET:HOST :NETWORK-SERVICES):  (P.C. = 5)
   Arg 0 (SELF): #<ITS-HOST MIT-MC 16350572>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:HOST -- 5. IV's, 0. FL's 37633425>
   Arg 2 (OPERATION): :NETWORK-SERVICES

Rest of stack:
NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 142)
NET:INVOKE-SERVICE-ON-HOST:  (P.C. = 50)
TELNET:GET-LOGIN-CONNECTION:  (P.C. = 37)
(:METHOD TELNET:NVT-WINDOW :CONNECT):  (P.C. = 6)
(:METHOD TELNET:NVT-WINDOW :TYPEIN-TOP-LEVEL):  (P.C. = 112)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 5-Sep-84 13:24:00-EDT,780;000000000000
Received: from SCC-WAIKATO by MIT-OZ via Chaosnet; 5 Sep 84 13:23-EDT
Received: from SCRC-EUPHRATES by WAIKATO via CHAOS with CHAOS-MAIL id 49680; Wed 5-Sep-84 13:22:11-EDT
Date: Wednesday, 5 September 1984, 13:21-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Warning messages on Globalizing
To: RICH at MIT-OZ
cc: bug-lispm at MIT-OZ, DICK at MIT-OZ, KMP at MIT-OZ
In-Reply-To: The message of 5 Sep 84 12:06-EDT from RICH at MIT-OZ
Message-ID: <840905132117.4.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Wednesday, 5 September 1984, 12:06-EDT
    From: RICH at MIT-OZ

    In Rel 5 is there a way to inhibit warning messages about globalizing symbols.

Yes.  Read the last paragraph in the (indented portion of the) documentation of GLOBALIZE
for details.
 5-Sep-84 14:58:50-EDT,1655;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 5 Sep 84 14:58-EDT
Date: Wednesday, 5 September 1984, 14:59-EDT
From: JCMA@MIT-OZ
Subject: Flavor TMSing Screw: HELP!
To: DCP@SCRC-TENEX
Cc: JCMA@MIT-OZ, BUG-LISPM@MIT-OZ
In-reply-to: <840904104944.7.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 4 September 1984, 10:49-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>
	Date: Saturday, 1 September 1984, 04:51-EDT
	From: JCMA@MIT-OZ
	In Release 5.1, Experimental MIT 1.5, Experimental RELATUS 130.0, FEP 18, on
	Lisp Machine John Lennon (3600):  

	We're are being screwed mercilessly by the bug in retraction of flavor methods
	and the retration/addition of instance variables.  We need the patch that
	fixes this ASAP.  If we don't get it we might as well take a vacation.

    Wouldn't it be better to design your flavors more carefully so that this
    doesn't happen?  Yes, there are bugs and some things will be better in
    Release 6, but from your description, it is you who is screwing
    yourself.  I have had this problem myself several times while
    prototyping an application that uses flavors.  I bitch and screen a lot
    too, but finally realize it was my own doing.

    I assume the patch you want is UNDEFFLAVOR.  I can't find this in 5.2.
    I don't know how easy it would be to make the current source work in
    5.2.

	This is the bug the produces the spurious sending to NIL errors because it has
	randomly clobbered entries in the method table.

Give me a break.  We have a complicated system which assumes that the
advertized zeta-lisp works.  I would appreciate the patch.
 5-Sep-84 15:54:40-EDT,572;000000000000
Mail-From: ZVONA created at  5-Sep-84 15:53:04
Date: Wed, 5 Sep 1984  15:53 EDT
Message-ID: <ZVONA.12045209702.BABYL@MIT-OZ>
From: ZVONA@MIT-OZ
To:   "David A. Moon" <Moon@SCRC-TENEX>
Cc:   bug-lispm@MIT-OZ, DICK@MIT-OZ, KMP@MIT-OZ, RICH@MIT-OZ
Subject: Warning messages on Globalizing
In-reply-to: Msg of 5 Sep 1984 13:21-EDT from David A. Moon <Moon at SCRC-TENEX>

I modified the version of GPRINT on PIG to use the new package system
in the appropriate way.  This makes globalization unnecessary.  This
change should probably be made in the master source.
 5-Sep-84 16:35:59-EDT,434;000000000000
Mail-From: HENRY created at  5-Sep-84 16:35:29
Date: Wed, 5 Sep 1984  16:35 EDT
Message-ID: <HENRY.12045217424.BABYL@MIT-OZ>
From: HENRY@MIT-OZ
To:   RICH@MIT-OZ
Cc:   bug-lispm@MIT-OZ, DICK@MIT-OZ, KMP@MIT-OZ
Subject: Warning messages on Globalizing
In-reply-to: Msg of 5 Sep 1984 12:06-EDT from RICH


I do 

(LET ((ERROR-OUTPUT 'SI:NULL-STREAM))
     ;; Yeah, I know I'm doing it ....
     (GLOBALIZE 'DEFOBJECT))

 5-Sep-84 21:39:54-EDT,446;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 5 Sep 84 21:39-EDT
Date: Wednesday, 5 September 1984, 21:37-EDT
From: Webster Dove <dove at MIT-BUGS-BUNNY>
Subject: Someone fix the microwave!!!
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.5, FEP 18, on Lisp Machine Janis Joplin (3600):

MAJOR BUG!!!

If someone can't get the microwave to scrc going reliably again, then
the namespace system will go to hell again!!
 6-Sep-84 00:54:31-EDT,2879;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 6 Sep 84 00:54-EDT
Date: Thursday, 6 September 1984, 00:50-EDT
From: JCMA@MIT-OZ
Subject: More Namespace Lossage
To: BUG-LISPM@MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

Tried to qsend wo/ specifying the lispm host.

>>Trap: The word #<DTP-NULL 16352553> was read from location 16352553 (in *NAMESPACE-OBJECT-AREA*).
While in the function (:METHOD SI:PROPERTY-LIST-MIXIN :GET)  (:METHOD NET:OBJECT :COMBINED :GET)  (:METHOD NET:HOST :NETWORK-SERVICES)

(:METHOD SI:PROPERTY-LIST-MIXIN :GET):  (P.C. = 6)
   Arg 0 (SELF): #<HOST SU-HPP-3670-3 16352544>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:PROPERTY-LIST-MIXIN -- 1. IV's, 0. FL's 37756454>
   Arg 2 (OPERATION): :GET
   Arg 3 (INDICATOR): :SERVICE

(:METHOD NET:OBJECT :COMBINED :GET):  (P.C. = 15)
   Arg 0 (SELF): #<HOST SU-HPP-3670-3 16352544>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:OBJECT -- 3. IV's, 1. FL's 37756445>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD NET:HOST :NETWORK-SERVICES):  (P.C. = 5)
   Arg 0 (SELF): #<HOST SU-HPP-3670-3 16352544>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:HOST -- 5. IV's, 0. FL's 37756431>
   Arg 2 (OPERATION): :NETWORK-SERVICES

NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 41)
   Arg 0 (SERVICE): :LISPM-FINGER
   Arg 1 (HOST): #<HOST SU-HPP-3670-3 16352544>
   Arg 2 (ONLY-NEED-BEST): T

NETI:FIND-PATH-TO-SERVICE-ON-HOST:  (P.C. = 7)
   Arg 0 (SERVICE): :LISPM-FINGER
   Arg 1 (HOST): #<HOST SU-HPP-3670-3 16352544>

NETI:SCAN-LISPMS:  (P.C. = 37)
   Arg 0 (HOSTS): (#<LISPM-HOST CADR-16 17260474> #<LISPM-HOST GOLDILOCKS 11623744> #<LISPM-HOST CADR-1 17260372> #<LISPM-HOST MAHOGANY 11621673> #<LISPM-HOST PI 17260303> #<LISPM-HOST APIARY-5 11610254> #<LISPM-HOST CADR-20 17260331> #<LISPM-HOST CADR-24 17260637> #<LISPM-HOST MARVIN 17257605> #<LISPM-HOST KOALA 16725552> ...)
   Arg 1 (ALIVE-FUNCTION): #<DTP-COMPILED-FUNCTION NETI:FIND-LISPMS-RETURNING-INFO-INTERNAL 5314406>
   Arg 2 (ALIVE-ARGS): ("gumby" #<DTP-LOCATIVE 26540245>)
   Arg 3 (DEAD-FUNCTION): #<DTP-COMPILED-FUNCTION IGNORE 1251752>
   Arg 4 (DEAD-ARGS): NIL
   --Defaulted args:--
   Arg 5 (REFUSE-FUNCTION): NIL
   Arg 6 (REFUSE-ARGS): NIL

NETI:FIND-LISPMS-RETURNING-INFO-LOGGED-IN-AS-USER:  (P.C. = 14)
   Arg 0 (USER): "gumby"

ZWEI:DECIDE-HOST:  (P.C. = 4)
   Arg 0 (USER): "gumby"

Rest of stack:
ZWEI:PARSE-DEST:  (P.C. = 14)
ZWEI:CONVERSE-GET-DEST-AND-MSG:  (P.C. = 62)
ZWEI:CONVERSE-SEND-MSG:  (P.C. = 3)
ZWEI:COM-CONVERSE-SEND:  (P.C. = 2)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:CONVERSE-WINDOW-TOP-LEVEL:  (P.C. = 27)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
 6-Sep-84 01:22:43-EDT,1372;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 6 Sep 84 01:22-EDT
Date: Thursday, 6 September 1984, 01:22-EDT
From:  <Henry at MIT-OZ>
Subject: Mixing-in stirs things up
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, on Lisp Machine Joe Louis (3600):

If I try to define a mixin:

(DEFFLAVOR MOUSE-TRACKER-MIXIN
           ((MOUSE-TRACKER NIL))
           ())

(DEFMETHOD (MOUSE-TRACKER-MIXIN :MOUSE-MOVES) (X Y)
           ;; Keeps the mouse-cursor keeping on.
           (TV:MOUSE-SET-BLINKER-CURSORPOS)
	   (COND ((MY ':MOUSE-TRACKER)
		  (SEND (MY ':MOUSE-TRACKER) ':MOUSE-MOVES SELF X Y))
                 (T NIL)))

(DEFFLAVOR MOUSE-TRACKER () ())

(DEFFLAVOR MOUSE-TRACKER-WINDOW
           ()
           (MOUSE-TRACKER-MIXIN TV:WINDOW)
           (:DEFAULT-INIT-PLIST :BLINKER-P NIL))

it loses, but the corresponding definition defining MOUSE-TRACKER-WINDOW directly
without the intermediate mixin wins.

(DEFFLAVOR MOUSE-TRACKER-WINDOW
           ((MOUSE-TRACKER NIL))
           (TV:WINDOW)
           (:DEFAULT-INIT-PLIST :BLINKER-P NIL))

(DEFMETHOD (MOUSE-TRACKER-WINDOW :MOUSE-MOVES) (X Y)
           ;; Keeps the mouse-cursor keeping on.
           (TV:MOUSE-SET-BLINKER-CURSORPOS)
	   (COND ((MY ':MOUSE-TRACKER)
		  (SEND (MY ':MOUSE-TRACKER) ':MOUSE-MOVES SELF X Y))
                 (T NIL)))

 6-Sep-84 01:44:36-EDT,368;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 6 Sep 84 01:44-EDT
Date: Thursday, 6 September 1984, 01:40-EDT
From:  <Henry at MIT-OZ>
Subject: False alarm, previous message about mixins
To: Bug-Lispm at MIT-OZ


Further investigation shows that something unexpected in 
my code is losing, please ignore the previous bug message about
MOUSE-TRACKER-WINDOW.

 6-Sep-84 02:25:25-EDT,326;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 6 Sep 84 02:24-EDT
Date: Thursday, 6 September 1984, 02:18-EDT
From:  <GUMBY at MIT-DM>
Subject: if you c-m-break in an apropos, si:package is left nil.
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.5, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

 6-Sep-84 03:32:22-EDT,3613;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 6 Sep 84 03:32-EDT
Date: Thursday, 6 September 1984, 03:26-EDT
From:  <TIM at MIT-DM>
Subject: SHEET-DISPLAY-LOSENGED-STRING-INTERNAL lossage
To: BUG-LISPM at MIT-OZ
Cc: TIM at MIT-DM

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Robot-1 (3600):

SHEET-DISPLAY-LOSENGED-STRING-INTERNAL incompetently handles the case where
the entire losenged string won't fit to the left of XLIM.  It draws the sides
correctly, but it tries to make the top and bottom bars too wide, and often
leaves too little room for the last displayed character.  In the case where
none of the string will fit, it still tries to draw the box (even if the
sides would look something like ><).

A proposed patch:

(DEFUN-METHOD SHEET-DISPLAY-LOSENGED-STRING-INTERNAL SHEET (STRING X0 Y0 XLIM ALUF)
  (IF ( (+ X0 8.) XLIM)   ; Make sure that at least a diamond will fit        ;***
      (1+ XLIM)					                               ;***
    (LET ((WID (MIN (+ 10. (* (STRING-LENGTH STRING) 6))                       ;***
		    (- XLIM X0))))                                             ;***
      ;; Put the string then the box around it
      (LET ((X1 (1- (+ X0 WID)))
	    (Y1 (+ Y0 8)))
	(FUNCALL-SELF ':STRING-OUT-EXPLICIT STRING (+ X0 5) (+ Y0 2) (- X1 3)  ;***
		      (FUNCALL SCREEN ':PARSE-FONT-DESCRIPTOR FONTS:5X5)
		      ALUF)
	(%DRAW-RECTANGLE (- WID 8) 1 (+ X0 4) Y0 ALUF SELF)
	(%DRAW-RECTANGLE (- WID 8) 1 (+ X0 4) Y1 ALUF SELF)
	(%DRAW-LINE X0 (+ Y0 4) (+ X0 3) (1+ Y0) ALUF T SELF)
	(%DRAW-LINE (1+ X0) (+ Y0 5) (+ X0 3) (1- Y1) ALUF T SELF)
	(%DRAW-LINE X1 (+ Y0 4) (- X1 3) (1+ Y0) ALUF T SELF)
	(%DRAW-LINE (1- X1) (+ Y0 5) (- X1 3) (1- Y1) ALUF T SELF)
	(1+ X1)))))

>>Error: BITBLT attempted to access column 1215 of the destination array,
         which is outside the bounds of 0 to 1167
While in the function %DRAW-RECTANGLE-INTERNAL  (:METHOD SCREEN :%DRAW-RECTANGLE)  %DRAW-RECTANGLE

%DRAW-RECTANGLE-INTERNAL:  (P.C. = 117)
   Arg 0 (WIDTH): 46
   Arg 1 (HEIGHT): 1
   Arg 2 (X): 1150
   Arg 3 (Y): 41
   Arg 4 (ALU): 5
   Arg 5 (ARRAY): #<ART-1B-1170-1243 17244345>
   <lotsa locals...>

(:METHOD SCREEN :%DRAW-RECTANGLE):  (P.C. = 35)
   Arg 0 (SELF): #<MAIN-SCREEN Main Screen 4700077 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SCREEN -- 5. IV's, 1. FL's 35260176>
   Arg 2 (OPERATION): :%DRAW-RECTANGLE
   Arg 3 (W): 46
   Arg 4 (H): 1
   Arg 5 (X): 1150
   Arg 6 (Y): 41
   Arg 7 (ALU): 5
   Arg 8 (SHEET): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 4720225 exposed>

%DRAW-RECTANGLE:  (P.C. = 34)
   Arg 0 (WIDTH): 46
   Arg 1 (HEIGHT): 1
   Arg 2 (X): 1150
   Arg 3 (Y): 41
   Arg 4 (ALU): 5
   Arg 5 (SHEET-OR-ARRAY): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 4720225 exposed>

(:DEFUN-METHOD SHEET-DISPLAY-LOSENGED-STRING-INTERNAL):  (P.C. = 47)
   Arg 0 (SELF): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 4720225 exposed>
   Arg 1 (SELF-MAPPING-TABLE): SHEET
   Arg 2 (STRING): "Scroll"
   Arg 3 (X0): 1144
   Arg 4 (Y0): 41
   Arg 5 (XLIM): 1167
   Arg 6 (ALUF): 5

(:METHOD SHEET :STRING-OUT-EXPLICIT):  (P.C. = 100)
   Arg 0 (SELF): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 4720225 exposed>
   Arg 1 (SELF-MAPPING-TABLE): SHEET
   Arg 2 (OPERATION): :STRING-OUT-EXPLICIT
   Arg 3 (STRING): "The  that I have in my hand..."
   Arg 4 (X): 1100
   Arg 5 (Y): 40
   Arg 6 (XLIM): 1167
   Arg 7 (FONT): #<FONT CPTFONTB 20146235>
   Arg 8 (ALU): 5
   --Defaulted args:--
   Arg 9 (START): 0
   Arg 10 (END): NIL
 6-Sep-84 08:42:27-EDT,401;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 6 Sep 84 08:42-EDT
Date: Thursday, 6 September 1984, 08:43-EDT
From: Gavan Duffy <GAVAN at MIT-OZ>
Subject: Zmail strips ARPA off Harvard
To: Bug-lispm at MIT-OZ

In Zmail, I just responded to a message from Harvard.ARPA.  Zmail stripped the
ARPA off the The To: field, so I put it back on.  Where would my message have
gone if I hadn't done so?
 6-Sep-84 09:16:19-EDT,1313;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Sep 84 09:15-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 85114; Thu 6-Sep-84 09:01:03-EDT
Date: Thursday, 6 September 1984, 09:01-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: More Namespace Lossage
To: JCMA at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 6 Sep 84 00:50-EDT from JCMA at MIT-OZ
Message-ID: <840906090123.5.HORNIG@PEACE.SCRC.Symbolics>

    Date: Thursday, 6 September 1984, 00:50-EDT
    From: JCMA@MIT-OZ

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

    Tried to qsend wo/ specifying the lispm host.

    >>Trap: The word #<DTP-NULL 16352553> was read from location 16352553 (in *NAMESPACE-OBJECT-AREA*).
    While in the function (:METHOD SI:PROPERTY-LIST-MIXIN :GET)  (:METHOD NET:OBJECT :COMBINED :GET)  (:METHOD NET:HOST :NETWORK-SERVICES)

Not surprisingly, I couldn't reproduce this.  The namespace system
doesn't play games with subprimitives, so it shouldn't have been able to
get its hands on an illegal pointer.  Without actually looking at the
contents of virtual memory on the failing machine, there is not much
more I can say.  Have you been having any hardware problems with that
machine?
 6-Sep-84 09:17:33-EDT,1291;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Sep 84 09:17-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 85122; Thu 6-Sep-84 09:12:50-EDT
Date: Thursday, 6 September 1984, 09:13-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Zmail strips ARPA off Harvard
To: Gavan Duffy <GAVAN at MIT-OZ>, Bug-lispm at MIT-OZ
In-Reply-To: The message of 6 Sep 84 08:43-EDT from Gavan Duffy <GAVAN at MIT-OZ>
Message-ID: <840906091308.8.HORNIG@PEACE.SCRC.Symbolics>

    Date: Thursday, 6 September 1984, 08:43-EDT
    From: Gavan Duffy <GAVAN at MIT-OZ>

    In Zmail, I just responded to a message from Harvard.ARPA.  Zmail stripped the
    ARPA off the The To: field, so I put it back on.  Where would my message have
    gone if I hadn't done so?

To HARVARD.ARPA.  The headers in Zmail replies are generated from the
parsed form of the original message's header.  This parsed form contains
the host object for HARVARD.  When Zmail presents this to you on the
screen, it uses the host's name: HARVARD.  When it actually sends it
over the network, it will call it HARVARD.ARPA if it is sending it to an
Internet host, or just HARVARD if it is sending it to a non-Internet
host (to keep old Unixes at SCRC and MIT happy).
 6-Sep-84 11:07:14-EDT,406;000000000000
Mail-From: RICH created at  6-Sep-84 11:06:37
Date: 6 Sep 1984  11:06 EDT (Thu)
Message-ID: <RICH.12045419699.BABYL@MIT-OZ>
From: Charles Rich <RICH@MIT-OZ>
To:   bug-lispm@MIT-OZ
Subject: Lisp Init Files
CC:   Yishai@MIT-OZ

[I tried looking around in the source files and documentation for
this one, but failed]  Is there any init file name that works
for both Rel4 and Rel5?
				-Thanks, CR
 6-Sep-84 12:02:03-EDT,1056;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Sep 84 12:00-EDT
Received: from SCRC-THAMES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 85184; Thu 6-Sep-84 10:24:56-EDT
Date: Thursday, 6 September 1984, 10:26-EDT
From: Scott McKay <SWM at SCRC-QUABBIN>
Subject: if you c-m-break in an apropos, si:package is left nil.
To: GUMBY at MIT-AI, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 6 Sep 84 02:18-EDT from GUMBY at MIT-DM
Message-ID: <840906102618.6.SWM@THAMES.SCRC.Symbolics>

    Date: Thursday, 6 September 1984, 02:18-EDT
    From:  <GUMBY at MIT-DM>

    In Release 5.1, Experimental MIT 1.5, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

This is a well-known bug, which is an artifact of having APROPOS bind
PACKAGE to NIL so that the symbols print out nicely.  There are two
solutions under consideration: (1) the debugger should have a set of
default bindings (which include package), or (2) there should be a
different variable, PRINT-PACKAGE (or whatever) which controls the
printing of symbols.
 6-Sep-84 12:02:41-EDT,890;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Sep 84 12:01-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 85217; Thu 6-Sep-84 10:52:27-EDT
Date: Thursday, 6 September 1984, 10:52-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: if you c-m-break in an apropos, si:package is left nil.
To: GUMBY at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 6 Sep 84 02:18-EDT from GUMBY at MIT-MC
Message-ID: <840906105204.7.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 6 September 1984, 02:18-EDT
    From:  <GUMBY at MIT-DM>

    In Release 5.1, Experimental MIT 1.5, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

We know.  I believe the proposed fix was to have a new function or a
special variable that always prints the package.  I'll try to get this
in for Release 6.  No promises though.
 6-Sep-84 13:58:30-EDT,891;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 6 Sep 84 13:57-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 85340; Thu 6-Sep-84 13:52:57-EDT
Date: Thursday, 6 September 1984, 13:52-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Lisp Init Files
To: Charles Rich <RICH at MIT-OZ>, bug-lispm at MIT-OZ
cc: Yishai at MIT-OZ
In-Reply-To: <RICH.12045419699.BABYL@MIT-OZ>
Message-ID: <840906135233.2.NFEP@NEPONSET.SCRC.Symbolics>

    Date: 6 Sep 1984  11:06 EDT (Thu)
    From: Charles Rich <RICH@MIT-OZ>

    [I tried looking around in the source files and documentation for
    this one, but failed]  Is there any init file name that works
    for both Rel4 and Rel5?

For filesystems that don't support links, you can do
	;;; this file is oz:<rich>lispm.init (Release 4 style).
	(load "oz:<rich>lispm-init")
 6-Sep-84 16:42:07-EDT,988;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 6 Sep 84 16:41-EDT
Date: Thursday, 6 September 1984, 16:41-EDT
From: Gavan Duffy <GAVAN at MIT-OZ>
Subject: Zmail strips ARPA off Harvard
To: Hornig at SCRC-STONY-BROOK, GAVAN at MIT-OZ, Bug-lispm at MIT-OZ
In-reply-to: <840906091308.8.HORNIG@PEACE.SCRC.Symbolics>

    Date: Thursday, 6 September 1984, 09:13-EDT
    From: Charles Hornig <Hornig at SCRC-STONY-BROOK>

    To HARVARD.ARPA.  The headers in Zmail replies are generated from the
    parsed form of the original message's header.  This parsed form contains
    the host object for HARVARD.  When Zmail presents this to you on the
    screen, it uses the host's name: HARVARD.  When it actually sends it
    over the network, it will call it HARVARD.ARPA if it is sending it to an
    Internet host, or just HARVARD if it is sending it to a non-Internet
    host (to keep old Unixes at SCRC and MIT happy).

Personally, I'd rather have Zmail be less ambiguous.
 7-Sep-84 05:55:46-EDT,286;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 7 Sep 84 05:55-EDT
Date: 7 September 1984 05:56-EDT
From: Tim McNerney <TIM @ MIT-MC>
Subject:  FED is still confused about where fonts should go
To: BUG-LISPM @ MIT-MC

FED still thinks that font files should be saved in SYS:FONTS;
 7-Sep-84 11:33:11-EDT,3428;000000000000
Received: from MIT-LISPM-5 by MIT-OZ via Chaosnet; 7 Sep 84 11:32-EDT
Date: Friday, 7 September 1984, 11:33-EDT
From: Robert L. Krawitz <ZZZ.RLK at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In System 98.65, CADR 3.8, ZMail 53.18, MIT-Specific 22.2, microcode 309,
u309, on Lisp Machine Five:


Insert your description of the circumstances here:

I clicked right on Select in Zmail, and got this.

>>TRAP 22330 (TV-ERASE-OFF-SCREEN)
An attempt was made to do graphics past the end of the screen.
Backtrace from the debugger:

Additional information supplied with call:
 Expecting 3 values

(:METHOD TV:SHEET :REFRESH) (P.C. = 267)
  (SELF is #<CLICK-REMEMBERING-POP-UP-MENU Click Remembering Pop Up Menu 1 4652726 exposed>)

 Arg 0 (OPERATION): :REFRESH
 Arg 1 (TYPE): :COMPLETE-REDISPLAY
Local 0 (PAGE-IN): NIL
Local 1: NIL
Local 2 (INFERIOR): NIL


(:METHOD TV:MENU :COMBINED :REFRESH) (P.C. = 64)
  (SELF is #<CLICK-REMEMBERING-POP-UP-MENU Click Remembering Pop Up Menu 1 4652726 exposed>)

 Rest arg (.DAEMON-CALLER-ARGS.): (:REFRESH :COMPLETE-REDISPLAY)
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-5 23610320>
Local 2 (.VAL1.): NIL
Local 3 (.VAL2.): NIL
Local 4 (.VAL3.): NIL


Additional information supplied with call:
 Expecting 3 values

(:METHOD TV:SHEET :EXPOSE) (P.C. = 620)
  (SELF is #<CLICK-REMEMBERING-POP-UP-MENU Click Remembering Pop Up Menu 1 4652726 exposed>)

 Arg 0 (OPERATION): :EXPOSE
   --Defaulted args:--
 Arg 1 (INHIBIT-BLINKERS): NIL
 Arg 2 (BITS-ACTION): :CLEAN
 Arg 3 (X): 150
 Arg 4 (Y): 576
Local 0 (OLD-INHIBIT-SCHEDULING-FLAG): NIL
Local 1 (INHIBIT-SCHEDULING-FLAG): NIL
Local 2 (SUPERIOR-HAS-SCREEN-ARRAY): #<ART-1B-1653-1400 37114060>
Local 3 (OK): T
Local 4 (ERROR): NIL
Local 5 (ARRAY): NIL
Local 6: NIL
Local 7 (SHEET): #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 1 4652417 exposed>
Local 8 (INFERIOR): NIL


Additional information supplied with call:
 Expecting 3 values

(:INTERNAL (:METHOD TV:MENU :COMBINED :EXPOSE) 0) (P.C. = 56)

 Arg 0 (.DAEMON-CALLER-ARGS.): (:EXPOSE)
Local 0 (FOO): NIL
Local 1 (.DAEMON-MAPPING-TABLE.): #<ART-16B-5 23610320>
Local 2 (.VAL1.): NIL
Local 3 (.VAL2.): NIL
Local 4 (.VAL3.): NIL


TV:SHEET-EXPOSE (P.C. = 160)

 Arg 0 (DAEMON-ARGS): (:EXPOSE)
 Arg 1 (INTERNALS): #<DTP-FEF-POINTER (:INTERNAL (:METHOD TV:MENU :COMBINED :EXPOSE) 0) 11672244>
Local 0 (*SHEETS-MADE-INVISIBLE-TO-MOUSE*): NIL
Local 1 (VAL1): NIL
Local 2 (VAL2): NIL
Local 3 (VAL3): NIL
Local 4 (.QUEUE-LEFT.): T
Local 5 (DONE): NIL
Local 6 (ERROR): NIL
Local 7: NIL
Local 8 (SHEET): NIL
Local 9 (E): NIL


Remainder of stack:

(:METHOD TV:MENU :COMBINED :EXPOSE) (P.C. = 37)
TV:EXPOSE-WINDOW-NEAR (P.C. = 475)
ZWEI:MENU-GET-ZMAIL-BUFFER-FOR-SELECTION (P.C. = 164)
ZWEI:COM-ZMAIL-SELECT (P.C. = 62)
ZWEI:COMMAND-EXECUTE (P.C. = 115)
ZWEI:ZMAIL-COMMAND-EXECUTE (P.C. = 27)
(:SELECT-METHOD ZWEI:ZMAIL-COMMAND-LIST :MENU) (P.C. = 32)
(:METHOD ZWEI:ZMAIL-FRAME :PROCESS-SPECIAL-COMMAND) (P.C. = 25)
(:METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN :COMMAND-LOOP) (P.C. = 252)
(:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP) 0) (P.C. = 44)
FUNCALL (P.C. = 25)
(:METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN :AROUND :COMMAND-LOOP) (P.C. = 57)
(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP) (P.C. = 43)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL (P.C. = 115)
SI:PROCESS-TOP-LEVEL (P.C. = 152)
 7-Sep-84 11:57:44-EDT,327;000000000000
Mail-From: SAZ created at  7-Sep-84 11:57:19
Date: Fri 7 Sep 84 11:57-EDT
From: David M. J. Saslav <SAZ@MIT-OZ>
Subject: Apologies
To: bug-lispm@MIT-OZ

Please ignore that last message.  I inadvertently cc'ed
a copy to this list, where there was clearly nothing wrong
with the Lisp Machine here.  Most sorry...

saz
 8-Sep-84 14:11:42-EDT,751;000000000000
Received: from MIT-MERLIN by MIT-OZ via Chaosnet; 8 Sep 84 14:11-EDT
Date: Saturday, 8 September 1984, 14:12-EDT
From: Richard C. Waters <DICK at MIT-OZ>
Subject: problem with format directive ~T
To: BUG-LISPM at MIT-OZ

In Release 4.5, Knowledge-Based-Editor 355.0, FEP 18,
site configuration 88, Sorcerer's Apprentice, on PA Lisp Machine Merlin:

the result of evaluating (format nil "AA~1,2T") is "AA  ".
If you read the manual it says that ~n,mT moves to a column of
the form n+mk for some positive k when n is not greater than the current
column c.  As you can see above it seems to move to a column of the form
c+mk instead.  This strikes me as more reasonable behavior, but
the documentation should be changed.

			Dick Waters
 8-Sep-84 20:05:15-EDT,572;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 8 Sep 84 20:04-EDT
Received: from SCRC-YANGTZE by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 22170; Sat 8-Sep-84 19:51:49-EDT
Date: Saturday, 8 September 1984, 19:51-EDT
From: Carl Hoffman <CWH at SCRC-TENEX>
Subject: problem with format directive ~T
To: DICK at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 8 Sep 84 14:12-EDT from Richard C. Waters <DICK at MIT-OZ>
Message-ID: <840908195100.1.CWH@YANGTZE.SCRC.Symbolics>

    Date: Saturday, 8 September 1984, 14:12-EDT
    From: Richard C. W
 8-Sep-84 20:23:35-EDT,1333;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 8 Sep 84 20:23-EDT
Received: from SCRC-YANGTZE by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 22170; Sat 8-Sep-84 19:51:49-EDT
Date: Saturday, 8 September 1984, 19:51-EDT
From: Carl Hoffman <CWH at SCRC-TENEX>
Subject: problem with format directive ~T
To: DICK at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 8 Sep 84 14:12-EDT from Richard C. Waters <DICK at MIT-OZ>
Message-ID: <840908195100.1.CWH@YANGTZE.SCRC.Symbolics>

    Date: Saturday, 8 September 1984, 14:12-EDT
    From: Richard C. Waters <DICK at MIT-OZ>

    the result of evaluating (format nil "AA~1,2T") is "AA  ".
    If you read the manual it says that ~n,mT moves to a column of
    the form n+mk for some positive k when n is not greater than the current
    column c.  As you can see above it seems to move to a column of the form
    c+mk instead.  This strikes me as more reasonable behavior, but
    the documentation should be changed.

The documentation is correct.  The first column is column 0, not column 1.

The example (format nil "AAA~1,2T") -> "AAA " shows that the formula used is
n+mk and not c+mk.

The formula n+mk simulates tab stops at evenly spaced intervals.  For example,
(format t "~0,8T") is exactly the same as (send standard-output :tyo #\tab).
 8-Sep-84 21:47:03-EDT,514;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 8 Sep 84 21:46-EDT
Date: Saturday, 8 September 1984, 21:33-EDT
From:  <gumby at MIT-MC>
Subject: (viewf "sys:site;notice text")
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

If I walk up to an idle machine and type this as instructed to I am
asked to log in, whereupon it starts talking to SCH|G.  At the very
least it ought to allow anonymous access to the sys host for
not-logged-in lusers.
 9-Sep-84 11:16:55-EDT,1133;000000000000
Received: from SCRC-YUKON by MIT-OZ via Chaosnet; 9 Sep 84 11:16-EDT
Received: from SCRC-NEPONSET by SCRC-YUKON via CHAOS with CHAOS-MAIL id 59861; Sun 9-Sep-84 11:19:19-EDT
Date: Sunday, 9 September 1984, 11:17-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: (viewf "sys:site;notice text")
To: gumby at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 8 Sep 84 21:33-EDT from gumby at MIT-MC
Message-ID: <840909111740.0.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 8 September 1984, 21:33-EDT
    From:  <gumby at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

    If I walk up to an idle machine and type this as instructed to I am
    asked to log in, whereupon it starts talking to SCH|G.  At the very
    least it ought to allow anonymous access to the sys host for
    not-logged-in lusers.

Do you want this only for VIEWF, or any opening (for input, I presume)
on SYS:?  Currently, you are being asked to login because
FS:FORCE-USER-TO-LOGIN is being called from OPEN, which is the major
catch-all for file operations.
 9-Sep-84 16:04:31-EDT,1595;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 9 Sep 84 16:03-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 86846; Sun 9-Sep-84 16:02:45-EDT
Date: Sunday, 9 September 1984, 16:02-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: problem with format directive ~T
To: Carl Hoffman <CWH at SCRC-TENEX>
cc: DICK at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: <840908195100.1.CWH@YANGTZE.SCRC.Symbolics>
Message-ID: <840909160250.6.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Saturday, 8 September 1984, 19:51-EDT
    From: Carl Hoffman <CWH at SCRC-TENEX>

	Date: Saturday, 8 September 1984, 14:12-EDT
	From: Richard C. Waters <DICK at MIT-OZ>

	the result of evaluating (format nil "AA~1,2T") is "AA  ".
	If you read the manual it says that ~n,mT moves to a column of
	the form n+mk for some positive k when n is not greater than the current
	column c.  As you can see above it seems to move to a column of the form
	c+mk instead.  This strikes me as more reasonable behavior, but
	the documentation should be changed.

    The documentation is correct.  The first column is column 0, not column 1.

    The example (format nil "AAA~1,2T") -> "AAA " shows that the formula used is
    n+mk and not c+mk.

Think again.  "AA  " leaves you in column 4, which is not 1+2k.
A quick look at the code shows that what it actually does it move to
column mk for the smallest value of mk that is greater than both c and n.
This is inconsistent with the documentation of both Zetalisp and Common Lisp
FORMAT and should be repaired.
 9-Sep-84 16:13:08-EDT,465;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 9 Sep 84 16:12-EDT
Date: Sunday, 9 September 1984, 16:13-EDT
From: David M. J. Saslav <saz at MIT-OZ>
Subject: Janis' monitor
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

Janis' monitor (room 706?) is in sad shape.  There seems to be a wavering effect
which makes it quite impossible to employ tyi while maintaining one's 20/20
vision.

dmjs
 9-Sep-84 16:59:16-EDT,864;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 9 Sep 84 16:58-EDT
Received: by nprdc.ARPA (4.12/4.7)
	id AA00293; Sun, 9 Sep 84 14:00:10 pdt
Message-Id: <8409092100.AA00293@nprdc.ARPA>
Date: Sunday, 9 September 1984, 14:04-PDT
From: Jim Hollan <hollan@nprdc>
Subject: Copy of free record map
To: BUG-LISPM%mit-oz@mit-mc
Cc: hollan@nprdc

In Release 5.1, Color 1.0, FEP 18, on Maui (3600, Color) (3600):

On one of our 3600s (Molokai) I get the following warning when
salvaging: 

	A copy of what appears to be the free record map of File
	partition in FEP0:>LMFS.FILE.1 was found at record 12606
	(octal), even though an apparently legitimate one was
	already found at 12. I will not use this information or
	act on it in any way: If we have gotten this far, continuing
	salvaging will not hurt. This information, however, should be
	noted.

 9-Sep-84 18:07:14-EDT,1777;000000000000
Mail-From: CJL created at  9-Sep-84 18:06:56
Date: Sun, 9 Sep 1984  18:06 EDT
Message-ID: <CJL.12046282646.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   "David C. Plummer in disguise" <DCP@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ, gumby@MIT-MC
Subject: (viewf "sys:site;notice text")
In-reply-to: Msg of 9 Sep 1984 11:17-EDT from David C. Plummer in disguise <DCP at SCRC-TENEX>

    Date: Sunday, 9 September 1984, 11:17-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

        Date: Saturday, 8 September 1984, 21:33-EDT
        From:  <gumby at MIT-MC>

        In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Jimi Hendrix (3600):

        If I walk up to an idle machine and type this as instructed to I am
        asked to log in, whereupon it starts talking to SCH|G.  At the very
        least it ought to allow anonymous access to the sys host for
        not-logged-in lusers.

    Do you want this only for VIEWF, or any opening (for input, I presume)
    on SYS:?  Currently, you are being asked to login because
    FS:FORCE-USER-TO-LOGIN is being called from OPEN, which is the major
    catch-all for file operations.

Here's a suggestion.  It appears that for twenex file server hosts, the
system asks "Enter user name for host mumble, or return to login
anonymously", while for VMS hosts, it asks "Enter user name for host
mumble" As there is an anonymous account on PIG, one can login
anonymously on the machine; however you must type the word "anonymous"
to log in on the machine. Typing just a return logs you in fine if your
host is OZ. It would be nice if the "or return to login anonymously"
message were available for VMS hosts, and the Lisp machine tries to
login as anonymous.




10-Sep-84 10:36:57-EDT,261;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 10 Sep 84 10:36-EDT
Date: 10 September 1984 10:30-EDT
From: Tim McNerney <TIM @ MIT-MC>
Subject:  FONTS:METSI needs some tweeking
To: BUG-LISPM @ MIT-MC

The baseline of the METSI font should be 18., not 20.
10-Sep-84 10:37:59-EDT,678;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 10 Sep 84 10:37-EDT
Date: 10 September 1984 10:37-EDT
From: Tim McNerney <TIM @ MIT-MC>
Subject:  DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: BUG-LISPM @ MIT-MC
cc: TIM @ MIT-MC

...in the case where an instance variable has the same name as the
flavor.  For instance:

  (defflavor foo
	(foo
	 bar)
	()
    :outside-accessible-instance-variables)

generates two defsubst that look essentially like this

  (defsubst foo-foo (foo)
    (symeval-in-instance foo 'foo)

  (defsubst foo-bar (foo)
    (symeval-in-instance foo 'bar)

Guess what SUBST is going to do in the FOO-FOO case?
10-Sep-84 12:08:18-EDT,1183;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 10 Sep 84 12:07-EDT
Received: from SCRC-NEPONSET by SCRC-YUKON via CHAOS with CHAOS-MAIL id 59982; Mon 10-Sep-84 12:10:19-EDT
Date: Mon, 10 Sep 84 12:08 EDT
From: "David C. Plummer in disguise" <DCP@SCRC-QUABBIN.ARPA>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: Tim McNerney <TIM@MIT-MC.ARPA>, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: The message of 10 Sep 84 10:37-EDT from Tim McNerney <TIM at MIT-MC>
Message-ID: <840910120809.4.NFEP@NEPONSET.SCRC.Symbolics>

    Date: 10 September 1984 10:37-EDT
    From: Tim McNerney <TIM @ MIT-MC>

    ...in the case where an instance variable has the same name as the
    flavor.  For instance:

      (defflavor foo
	    (foo
	     bar)
	    ()
	:outside-accessible-instance-variables)

    generates two defsubst that look essentially like this

      (defsubst foo-foo (foo)
	(symeval-in-instance foo 'foo)

      (defsubst foo-bar (foo)
	(symeval-in-instance foo 'bar)

    Guess what SUBST is going to do in the FOO-FOO case?

Neat.  Fixed in Common Lisp.  I'll fix it in Zetalisp when I'm allowed
to hack the sources.  Thanks.
10-Sep-84 14:08:43-EDT,687;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 10 Sep 84 14:08-EDT
Date: 10 September 1984 14:09-EDT
From: David Vinayak Wallace <GUMBY @ MIT-MC>
Subject:  (viewf "sys:site;notice text")
To: DCP @ SCRC-QUABBIN
cc: BUG-LISPM @ MIT-OZ
In-reply-to: Msg of Sun 9 Sep 84 11:17 EDT from David C. Plummer in disguise <DCP at SCRC-QUABBIN.ARPA>

It would be a gross kluge, but maybe it should check the pathnamesupplied
to OPEN.  All I'm saying is that the  very first thing some new luser tries
(especially something he's instructed to trry) ought to be doable.

Anyway, why shouldn't the sys-host be accessable without a password
whenever it's a host that allows anonymous login?
10-Sep-84 14:20:02-EDT,3064;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 10 Sep 84 14:18-EDT
Date: Monday, 10 September 1984, 14:13-EDT
From: CJL at MIT-OZ
Sender: joseph at SCRC-QUABBIN
Subject: dbg:load-error-table uses wrong pathname for ucode error files for VMS syshosts
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, microcode TMC5-MIC 296, FEP 18, on Lisp Machine Jimi Hendrix (3600):

The correct filename was PIG:USRD$:[S.R5.LUCODE]M.ERR;296

>>Error: file not found
         For PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296
While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:OPEN-CHAOS  (:METHOD FS:QFILE-ACCESS-PATH :OPEN)

(:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 231)
   Arg 0 (SELF): #<HOST-UNIT 5533357>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): :COMMAND
   Arg 3 (MARK-P): NIL
   Arg 4 (STREAM-OR-HANDLE): (:CREATE "I1982")
   Arg 5 (SIMPLE-P): NIL
   Arg 6 (WHOSTATE): "Open"
   Rest arg (COMMANDS): ("OPEN " :READ " " :CHARACTER "" "" "" "" "" "" ...)
   Local 8 (HANDLE): "I1982"
   Local 9 (STREAM): NIL
   Local 10 (PKT): #<Chaos Packet 22546360>
   Local 11 (SUCCESS): NIL
   Local 12 (STRING): "I1982 ERROR FNF C file not found"
   Local 13 (TRANSACTION-ID): "T1985"
   Local 14 (CREATE-P): T
   Local 15 (CONDITION): NIL

FS:OPEN-CHAOS:  (P.C. = 643)
   Arg 0 (ACCESS-PATH): #<NORMAL-QFILE-ACCESS-PATH PIG using QFILE 5533346>
   Arg 1 (REAL-PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296">
   Arg 2 (*COMMAND-PATHNAME*-initialization): #<VMS-PATHNAME "PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296">
   Arg 3 (OPTIONS): (:DIRECTION :INPUT)

(:METHOD FS:QFILE-ACCESS-PATH :OPEN):  (P.C. = 7)
   Arg 0 (SELF): #<NORMAL-QFILE-ACCESS-PATH PIG using QFILE 5533346>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:QFILE-ACCESS-PATH -- 3. IV's, 0. FL's 37747636>
   Arg 2 (OPERATION): :OPEN
   Arg 3 (REAL-PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296">
   Arg 4 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296">
   Rest arg (OPTIONS): (:DIRECTION :INPUT)

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :OPEN):  (P.C. = 14)
   Arg 0 (SELF): #<VMS-PATHNAME "PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 37613544>
   Arg 2 (OPERATION): :OPEN
   Arg 3 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296">
   Rest arg (OPTIONS): NIL

FS:COMMON-LISP-OPEN:  (P.C. = 445)
   Arg 0 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296">
   Arg 1 (KEYWORD-ARGS): NIL

OPEN:  (P.C. = 255)
   Arg 0 (PATHNAME): #<VMS-PATHNAME "PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296">
   Rest arg (KEYWORD-ARGS): NIL

DBG:LOAD-ERROR-TABLE:  (P.C. = 107)
   --Defaulted args:--
   Arg 0 (NAME): "TMC5-MIC"
   Arg 1 (VERSION): 450
   Arg 2 (FORCE-RELOAD-P): NIL

DBG:INITIALIZE:  (P.C. = 2)

Rest of stack:
SI:*EVAL:  (P.C. = 370)
INITIALIZATIONS:  (P.C. = 42)
LISP-REINITIALIZE:  (P.C. = 440)
SI:LISP-TOP-LEVEL:  (P.C. = 3)
10-Sep-84 16:59:19-EDT,2276;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 10 Sep 84 16:56-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 87521; Mon 10-Sep-84 15:40:06-EDT
Date: Monday, 10 September 1984, 15:40-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: More on the flavor redefinition problem
To: Patrick A. O'Donnell <PAO at MIT-EECS>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 20 Aug 84 12:59-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>,
             The message of 20 Aug 84 13:07-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>
Message-ID: <840910154001.1.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 20 August 1984, 12:59-EDT
    From: Patrick A. O'Donnell <PAO at MIT-EECS>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Robot-3 (3600):

	...
    COMPILER:COMPILE-FROM-STREAM-1:  (P.C. = 324)
    COMPILER:COMPILE-FROM-STREAM-1:  (P.C. = 105)
    COMPILER:COMPILE-FROM-STREAM-1:  (P.C. = 172)
	...
		     ------------------------------
    Date: Monday, 20 August 1984, 13:07-EDT
    From: Patrick A. O'Donnell <PAO at MIT-EECS>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Robot-3 (3600):

    Not surprisingly, removing the :mixture option and attempting to
    recompile also lost.  Removing the SI:FLAVOR property from HISTOHACK
    allowed the recompilation without :mixture to succeed, but with the
    :mixture still failed.

This is also broken in the development system.  It appears to be
directly related to :mixture and doesn't have anything to do with
redefinition.  A simpler case is:  
    
    (defflavor f2-mixin () ())
    
    (defflavor f1 () ()
      (:mixture (:mix-f2 f2-mixin)))
    
    (compile-flavor-methods f1)

This last form expands into
    (PROGN 'COMPILE
       (EVAL-WHEN (COMPILE EVAL) (COMPILE-FLAVOR-METHODS-1 'F1))
       (EVAL-WHEN (LOAD EVAL) (COMPILE-FLAVOR-METHODS-2 'F1))
       (COMPILE-FLAVOR-METHODS F2-F1 F1))
Your backtrace loops in COMPILER:COMPILE-FROM-STREAM-1 because of
repeated expansions of (COMPILE-FLAVOR-METHODS F1).  I'll try to fix
this in my next pass through my mail file.

BTW, if UNDEFFLAVOR is part of 5.2, use it instead of bashing the F1's
plist, etc.
10-Sep-84 17:01:24-EDT,3464;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 10 Sep 84 16:56-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 87531; Mon 10-Sep-84 15:58:25-EDT
Date: Monday, 10 September 1984, 15:58-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: nice things to have
To: David Rogers <DRogers at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 21 Aug 84 14:46-EDT from David Rogers <DRogers at MIT-OZ>
Message-ID: <840910155820.3.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Tue 21 Aug 84 14:46:54-EDT
    From: David Rogers <DRogers@MIT-OZ>

    Suggestions, anyone?

Sure.  I'm scanning my mail file in an attempt to get rid of some
things.

    1. It would be nice if one could recieve a SEND message at a chosen site
    whenever a LISP machine opens up. 

You want something like the AI TV's, right?  Who would do the SEND, and
how would it know that you were the one interested in receiving it?
What happens if you request such a thing, and then you give your machine
to somebody else?  How does the scanner know not to send it to the
machine you were on?  The advantage of having some central machine do
this job is it cuts down on network traffic.  Some disadvantages were
just stated.  Another way to do it is have your machine do the polling.
This isn't very hard to do; I'll probably do it on the next pass through
my mail.  Do you really want a SEND, or is a notification good enough?
(The naive way of sending a message to yourself results in TWO messages
in the Converse; one for the send and one for the receive.)

    1. It would be nice if one could watch for certain people logging into a LISP
    machine, and send self a message when this occurs. 

You can, you just need to write the code.  Questions here are, do you
want to look for a person logging into a set of LispMs, a set of people
logging into a LispM, or a set of people logging into a set of LispMs?
Again, do you want a SEND or a notification?

    1. It would be nice if one could edit a namespace object and not
    wait minutes for the server to complete storage upon finishing. It should just
    send a message back to the user upon success or failure.

The solution is to get a namespace server that can be supported.  Doing
what you suggest can be dangerous.  In the development system, but I
don't think in Release 5 (I'm not sure) the namespace editor runs in its
own process, so you can bury the window if you don't want to wait.

    1. It would be nice for the telnet/supdup screens to have as a NETWORK option
    the ability to turn off the notification stuff. When flipping back and
    forth between two telnet screens when both are outputting, it's quite 
    irritating.

What "notification" stuff.  I'm guessing you mean "Process Terminal 1
wants to type out".  Well, this works as you desire in the development
system, but for the wrong reasons.  I'll keep this portion of the
message around for When the terminal program is fixed so I can add this,
unless somebody else thinks it is better to tell users to use various
Terminal-x-T or get a system menu and click on attributes.

    1. It would be nice to be able to TELNET to ARPAnet sites again...

TCP/IP is ending beta-test, which means it should be available in the
not-too-distant future.  This will give you REAL access to the arpanet
(via a kludgy path instead of via kludgy means).
10-Sep-84 17:04:29-EDT,816;000000000000
Mail-From: DICK created at 10-Sep-84 16:59:10
Date: Mon, 10 Sep 1984  16:59 EDT
Message-ID: <DICK.12046532453.BABYL@MIT-OZ>
Sender: DICK@MIT-OZ
From: Dick@MIT-MC
To:   "David A. Moon" <Moon@SCRC-TENEX>
cc:   bug-lispm@MIT-OZ
Subject: problem with format directive ~T
In-reply-to: Msg of 9 Sep 1984 16:02-EDT from David A. Moon <Moon at SCRC-TENEX>


I expect that if you look at the code for FORMAT over the years, that
it always moved to c+mk.  I would argue that this makes a lot more
sense as a thing to do than what the documentation says, and it is the 
documentation which is in error.  Note that a quick look at the manuals
shows that the ~T FORMAT documentation has been copied letter for letter for
nearly a decade probably without anybody bothering to think about
what it said.

		Dick
10-Sep-84 17:07:19-EDT,1353;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 10 Sep 84 17:02-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 87457; Mon 10-Sep-84 14:02:00-EDT
Date: Mon, 10 Sep 84 14:01 EDT
From: "David A. Moon" <Moon@SCRC-RIVERSIDE.ARPA>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: Tim McNerney <TIM@MIT-MC.ARPA>
cc: BUG-LISPM@MIT-MC.ARPA
In-Reply-To: The message of 10 Sep 84 10:37-EDT from Tim McNerney <TIM at MIT-MC>
Message-ID: <840910140143.2.MOON@EUPHRATES.SCRC.Symbolics>

    Date: 10 September 1984 10:37-EDT
    From: Tim McNerney <TIM @ MIT-MC>

    ...in the case where an instance variable has the same name as the
    flavor.  For instance:

      (defflavor foo
	    (foo
	     bar)
	    ()
	:outside-accessible-instance-variables)

    generates two defsubst that look essentially like this

      (defsubst foo-foo (foo)
	(symeval-in-instance foo 'foo)

      (defsubst foo-bar (foo)
	(symeval-in-instance foo 'bar)

    Guess what SUBST is going to do in the FOO-FOO case?

Thanks for the report.  This will be fixed as a side-effect of loading CLCP
(the forthcoming Common Lisp Compatibility Package), which handles substs
in a much more intelligent way.  It wouldn't hurt to fix it sooner, but I
don't know whether there are plans to do so.
10-Sep-84 18:26:58-EDT,1751;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 10 Sep 84 18:26-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 80109; Mon 10-Sep-84 18:25:58-EDT
Date: Monday, 10 September 1984, 18:27-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Bad formatting of version patch directory.
To: GAVAN at MIT-PYGMALION, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 27 Aug 84 08:27-EDT from GAVAN at MIT-PYGMALION
Message-ID: <840910182713.9.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 27 August 1984, 08:27-EDT
    From:  <GAVAN at MIT-PYGMALION>

    In Release 5.1, Experimental MIT 1.6, Experimental RELATUS 129.88,
    FEP 18, on Lisp Machine Jimi Hendrix (3600):

    Lost while trying to add a patch.

    This bug occured because the formatting of the version patch directory
    ("pig:usrd$:[relatus.patch]relatu129.vpd.186") lost dramatically, forgetting
    to start a string with double-quotes when making a patch.  It also randomly
    inserted a  in the file.  It's still there.  Go look.

    >>Error: Comma not inside a backquote
    While in the function SI:XR-COMMA-MACRO  (:PROPERTY LIST SI:STANDARD-READ-FUNCTION)  SI:XR-READ-THING

Sigh.  Now that I'm going through my mail file of unanswered reports, I
can't look at the file because its gone.  My guess is that it DID start
the string with double quotes, but there was a double quote in the patch
comment and it just completely blew it.  This was reported recently
internally as well.  It's fixed for the next release; for now you'll
have to be careful not to put double quotes in patch comments (I'm not
sure of the exact restriction).

I can't speculate how the epsilon character got in there.
10-Sep-84 21:56:02-EDT,1281;000000000000
Received: from SCRC-YUKON by MIT-OZ via Chaosnet; 10 Sep 84 21:55-EDT
Received: from SCRC-HUDSON by SCRC-YUKON via CHAOS with CHAOS-MAIL id 60157; Mon 10-Sep-84 21:58:24-EDT
Date: Monday, 10 September 1984, 21:56-EDT
From: Robert W. Kerns <RWK at SCRC-YUKON>
Subject: Re: [Postmaster at SCRC-STONY-BROOK: Unable to deliver letter]
To: David A. Moon <Moon at SCRC-TENEX>
cc: David Rogers <DRogers at MIT-OZ>, bug-lispm at MIT-OZ
In-Reply-To: <840828155948.7.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840910215630.9.RWK@HUDSON.SCRC.Symbolics>

    Date: Tuesday, 28 August 1984, 15:59-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

	Date: Tue 28 Aug 84 12:14:33-EDT
	From: David Rogers <DRogers@MIT-OZ>
									    Perhaps
	the user should be given a chance to edit the From: field in the message?

    You do have a chance to do that.  Edit From: anything you want into the headers
    area of the message.  You may have been faked out by the fact that it doesn't
    initialize that area with the normal From field; I think this was tried and people
    didn't like it because it was verbosity that was usually useless.
Nobody seems to have mentioned that there is an Add From Field command
in the menu you get when you click right in a reply window.
11-Sep-84 08:47:51-EDT,1593;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 11 Sep 84 08:47-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 88041; Tue 11-Sep-84 08:42:07-EDT
Date: Tuesday, 11 September 1984, 08:41-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: (viewf "sys:site;notice text")
To: David Vinayak Wallace <GUMBY at MIT-MC>, DCP at SCRC-QUABBIN
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 10 Sep 84 14:09-EDT from David Vinayak Wallace <GUMBY at MIT-MC>
Message-ID: <840911084151.7.NFEP@NEPONSET.SCRC.Symbolics>

    Date: 10 September 1984 14:09-EDT
    From: David Vinayak Wallace <GUMBY @ MIT-MC>

    It would be a gross kluge, but maybe it should check the pathnamesupplied
    to OPEN.  All I'm saying is that the  very first thing some new luser tries
    (especially something he's instructed to trry) ought to be doable.
I understand.  The problem is modularity without resorting to gross
kludges.  I would prefer to put the hack in viewf instead of OPEN.  If
it went in open, it would likely bypass some automatic, temporary login
for reading microcode error tables, etc.

    Anyway, why shouldn't the sys-host be accessable without a password
    whenever it's a host that allows anonymous login?
I haven't had time to look into this yet.  My guess is TOPS-20 and ITS
(at least) have a mixin that says these hosts always support anonymous
login and that VMS lacks this property.  If this is true then it
wouldn't be correct to offer to login anonymously when the machine will
refuse to support it.
11-Sep-84 11:32:28-EDT,1990;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 11 Sep 84 11:32-EDT
Date: Tuesday, 11 September 1984, 10:30-EDT
From:  <zvona at MIT-PYGMALION>
Subject: *&@!#^$*<? namespace
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Keith Moon (3600):

Here's a good joke.  This was quite unprovoked.

(print-notifications)
10 Notifications, from 0 to 9:
10:27 HOST MC was mentioned but then not found.
10:27 HOST MC was mentioned but then not found.
10:27 Namespace server was unable to find HOST MC in namespace MIT.
It will be removed from the namespace.
10:27 It is necessary to change the flavor of namespace object #<UNIX-HOST MC 16352325> from FS:UNIX-HOST to FS:ITS-HOST.
This may cause problems in dealing with this object until the next use of
 (SI:FULL-GC :SYSTEM-RELEASE T).
10:25 Namespace server was unable to find HOST MIT-DM in namespace INTERNET.
It will be removed from the namespace.
10:25 Namespace server was unable to find HOST ARPANET|MIT-DM in namespace ARPANET.
It will be removed from the namespace.
10:25 It is necessary to change the flavor of namespace object #<ITS-HOST MIT-DM 16352051> from FS:ITS-HOST to FS:UNIX-HOST.
This may cause problems in dealing with this object until the next use of
 (SI:FULL-GC :SYSTEM-RELEASE T).
10:25 Error from server: Deleting a name from the wrong namespace.;
Obsolete host information may be used.
10:20 It is necessary to change the flavor of namespace object #<UNIX-HOST INTERNET|MIT-DM 16352027> from FS:UNIX-HOST to FS:ITS-HOST.
This may cause problems in dealing with this object until the next use of
 (SI:FULL-GC :SYSTEM-RELEASE T).
10:20 Merging #<ITS-HOST MC 16642576> with #<UNIX-HOST INTERNET|MIT-DM 16352027>.  This may cause problems in dealing with these objects until the next use of (SI:FULL-GC).

I have an idea.  Is there some one function through which all namespace
garbage goes that I can breakon and just return the right value out of?
11-Sep-84 12:00:24-EDT,1368;000000000000
Mail-From: ZVONA created at 11-Sep-84 11:59:22
Date: Tue, 11 Sep 1984  11:59 EDT
Message-ID: <ZVONA.12046740020.BABYL@MIT-OZ>
From: ZVONA@MIT-OZ
To:   "David C. Plummer in disguise" <DCP@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ, DCP@SCRC-QUABBIN, David Vinayak Wallace <GUMBY@MIT-MC>
Subject: (viewf "sys:site;notice text")
In-reply-to: Msg of 11 Sep 1984 08:41-EDT from David C. Plummer in disguise <DCP at SCRC-TENEX>

    Date: Tuesday, 11 September 1984, 08:41-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>
    To:   David Vinayak Wallace <GUMBY at MIT-MC>, DCP at SCRC-QUABBIN
    cc:   BUG-LISPM
    Re:   (viewf "sys:site;notice text")

        Date: 10 September 1984 14:09-EDT
        From: David Vinayak Wallace <GUMBY @ MIT-MC>

        It would be a gross kluge, but maybe it should check the pathnamesupplied
        to OPEN.  All I'm saying is that the  very first thing some new luser tries
        (especially something he's instructed to trry) ought to be doable.
    I understand.  The problem is modularity without resorting to gross
    kludges.  I would prefer to put the hack in viewf instead of OPEN.  If
    it went in open, it would likely bypass some automatic, temporary login
    for reading microcode error tables, etc.

Bleagh.  Why don't you put the text into a string variable in the band instead.
11-Sep-84 18:30:25-EDT,3480;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 11 Sep 84 18:29-EDT
Date: Tuesday, 11 September 1984, 18:29-EDT
From:  <HEWITT at MIT-OZ>
Subject: MC just disappeared from the chaosnet?
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on APIARY-9 (3600):

I tried to send mail and got the following error!

>>Error: MC is not connected to the local chaosnet.
While in the function CHAOS:ADDRESS-PARSE  CHAOS:OPEN-CONNECTION  CHAOS:CONNECT

CHAOS:ADDRESS-PARSE:  (P.C. = 45)
   Arg 0 (HOST-SPEC): #<HOST MC 16352655>
   Local 1 (ADDRESS): NIL
   Local 2 (HOST): #<HOST MC 16352655>

CHAOS:OPEN-CONNECTION:  (P.C. = 5)
   Arg 0 (HOST): #<HOST MC 16352655>
   Arg 1 (CONTACT-NAME): "MAIL"
   Arg 2 (WINDOW-SIZE): 13.

CHAOS:CONNECT:  (P.C. = 233)
   Arg 0 (HOST): #<HOST MC 16352655>
   Arg 1 (CONTACT-NAME): "MAIL"
   Arg 2 (WINDOW-SIZE): 13.
   Arg 3 (TIMEOUT): 600.

CHAOS:OPEN-STREAM:  (P.C. = 65)
   Arg 0 (HOST): #<HOST MC 16352655>
   Arg 1 (CONTACT-NAME): "MAIL"
   Rest arg: NIL

CHAOS:|MEDIUM-CHAOS-((NETWORK CHAOS))-G0223|:  (P.C. = 11)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (CHAOS-MAIL) -- MC on CHAOS 10776010>
   Rest arg (ARGS): NIL

NETI:GET-CONNECTION-FOR-SERVICE-TO-HOST:  (P.C. = 12)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (CHAOS-MAIL) -- MC on CHAOS 10776010>
   Arg 1 (NETWORK): #<CHAOS-NETWORK CHAOS 16540110>
   Arg 2 (IMPLEMENTATION): #<MEDIUM-IMPLEMENTATION 16622053>
   Arg 3 (CONNECTION-ARGS): NIL

NETI:GET-CONNECTION-FOR-SERVICE-1:  (P.C. = 220)
   Arg 0 (MEDIUM): #<MEDIUM-DESCRIPTION on CHAOS 10776004>
   Arg 1 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (CHAOS-MAIL) -- MC on CHAOS 10776010>
   Arg 2 (CONNECTION-ARGS): NIL

NET:GET-CONNECTION-FOR-SERVICE:  (P.C. = 7)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (CHAOS-MAIL) -- MC on CHAOS 10776010>
   Rest arg (CONNECTION-ARGS): NIL

Rest of stack:
ZWEI:CHAOS-MAIL-INTERNAL:  (P.C. = 21)
ZWEI:INVOKE-SERVICE-STORE-AND-FORWARD-MAIL-WITH-CHAOS-MAIL:  (P.C. = 3)
NET:INVOKE-SERVICE-ACCESS-PATH:  (P.C. = 21)
ZWEI:INVOKE-MAIL-SERVICE:  (P.C. = 6)
ZWEI:NETWORK-SEND-IT-1:  (P.C. = 331)
ZWEI:NETWORK-SEND-IT:  (P.C. = 75)
ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
(:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 314)
(:METHOD ZWEI:DRAFT-MSG :COMBINED :TRANSMIT):  (P.C. = 25)
ZWEI:COM-SEND-MESSAGE:  (P.C. = 50)
ZWEI:COM-MAIL-END:  (P.C. = 4)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :EDIT):  (P.C. = 50)
ZWEI:ZMAIL-MAIL:  (P.C. = 75)
ZWEI:CONTINUE-DRAFT-MSG:  (P.C. = 21)
ZWEI:COMPOSE-VIA-DRAFT-MSG:  (P.C. = 5)
ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
ZWEI:COMPOSE-FROM-TEMPLATE:  (P.C. = 20)
ZWEI:NORMAL-REPLY-INTERNAL:  (P.C. = 54)
ZWEI:NORMAL-REPLY:  (P.C. = 5)
ZWEI:COM-ZMAIL-REPLY:  (P.C. = 20)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 6)
(:INTERNAL ZWEI:ZMAIL-COMMAND-LIST 0.):  (P.C. = 10)
ZWEI:ZMAIL-COMMAND-LIST:  (P.C. = 12)
(:METHOD ZWEI:ZMAIL-FRAME :PROCESS-SPECIAL-COMMAND):  (P.C. = 5)
(:METHOD ZWEI:ZMAIL-FRAME :COMMAND-LOOP):  (P.C. = 141)
(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP):  (P.C. = 47)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 52)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
11-Sep-84 18:43:29-EDT,2001;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 11 Sep 84 18:42-EDT
Received: from SCRC-HUDSON by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 88189; Tue 11-Sep-84 12:20:55-EDT
Date: Tuesday, 11 September 1984, 12:20-EDT
From: Robert W. Kerns <RWK at SCRC-YUKON>
Subject: fs:find-file-with-type
To: Richard E. Zippel <RZ at MIT-MC>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 19 Aug 84 15:08-EDT from Richard E. Zippel <RZ at MIT-MC>
Message-ID: <840911122042.1.RWK@HUDSON.SCRC.Symbolics>

    Date: Sunday, 19 August 1984, 15:08-EDT
    From: Richard E. Zippel <RZ at MIT-MC>
    Given a pathname, I wanted to load the corresponding :lisp  or
    :bin file which ever was around.

    I thought the following piece of code would work, but discovered that,
    at least for Unix pathnames like #<UNIX-PATHNAME "VX: //usr//rz//portfolio//Brain">, 
    fs:find-file-with-type returns the file.

	  (cond ((setq pathname (fs:find-file-with-type file :bin))
		 (load pathname nil nil nil t))
		((setq pathname (fs:find-file-with-type file :lisp))
		 (load pathname nil nil nil t)))

    This is presumably because the :type of these pathnames is :unspecific.
    I would thing that pathname should be returned only when :type is
    non-nil and not :unspecific.
No, the current behavior is correct.  If it was otherwise, there
would be no way to explicitly load a file named /usr/rz/portfolio/Brain.

What you should have given it was the pathname /usr/rz/portfolio/Brain.
which is how you type the filename with NIL type.  :unspecific is unfortunately
named; it means the component is SPECIFICALLY absent.

    (DEFUN FIND-FILE-WITH-TYPE (PATHNAME CANONICAL-TYPE)
      (SETQ PATHNAME (FS:PARSE-PATHNAME PATHNAME))
      (IF (SEND PATHNAME ':TYPE)
	  PATHNAME
	(LOOP FOR TYPE IN (SEND PATHNAME ':TYPES-FOR-CANONICAL-TYPE CANONICAL-TYPE)
	      FOR PROBE = (PROBEF (SEND PATHNAME ':NEW-PATHNAME ':TYPE TYPE))
	      WHEN PROBE
		RETURN PROBE)))
11-Sep-84 19:37:43-EDT,1344;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 11 Sep 84 19:36-EDT
Received: from SCRC-CUYAHOGA by WAIKATO via CHAOS with CHAOS-MAIL id 51066; Mon 10-Sep-84 13:06:48-EDT
Date: Mon, 10 Sep 84 13:08 EDT
From: "Robert A. Cassels" <Cassels@SCRC-RIVERSIDE.ARPA>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: TIM@MIT-MC.ARPA, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: The message of 10 Sep 84 10:37-EDT from Tim McNerney <TIM at MIT-MC>
Message-ID: <840910130807.7.CASSELS@CUYAHOGA.SCRC.Symbolics>

    Date: 10 September 1984 10:37-EDT
    From: Tim McNerney <TIM @ MIT-MC>

    ...in the case where an instance variable has the same name as the
    flavor.  For instance:

      (defflavor foo
	    (foo
	     bar)
	    ()
	:outside-accessible-instance-variables)

    generates two defsubst that look essentially like this

      (defsubst foo-foo (foo)
	(symeval-in-instance foo 'foo)

      (defsubst foo-bar (foo)
	(symeval-in-instance foo 'bar)

    Guess what SUBST is going to do in the FOO-FOO case?

Hmm.  Nothing good I'm sure.  FYI, this is fixed by Common Lisp's more
careful handling of DEFSUBST.  I'll fix it in our system as soon as the
current world-building process is complete.  (Tomorrow.)

I assume you can get around the problem until the fix makes it to the
field.
11-Sep-84 21:16:53-EDT,467;000000000000
Mail-From: CJL created at 11-Sep-84 21:15:49
Date: Tue, 11 Sep 1984  21:15 EDT
Message-ID: <CJL.12046841320.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   Info-Lispm-MIT@MIT-OZ
Subject: Announcement of availability of Symbolics Rel 5.2 at MIT

I installed a 5.2 world on JIMI, ELVIS, LENNON, and MOON.
If you want the latest and greatest from Symbolics, band transfer
fep0:>Release-5-2.load.1 and fep0:>tmc5-mic.mic.296 from one of those
machines. 
11-Sep-84 22:16:02-EDT,1615;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 11 Sep 84 22:15-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 88554; Tue 11-Sep-84 20:20:46-EDT
Date: Tuesday, 11 September 1984, 20:20-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: (viewf "sys:site;notice text")
To: ZVONA at MIT-OZ, David C. Plummer in disguise <DCP at SCRC-TENEX>
cc: BUG-LISPM at MIT-OZ, David Vinayak Wallace <GUMBY at MIT-MC>
In-Reply-To: <ZVONA.12046740020.BABYL@MIT-OZ>
Message-ID: <840911202008.5.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Tue, 11 Sep 1984  11:59 EDT
    From: ZVONA@MIT-OZ

	Date: Tuesday, 11 September 1984, 08:41-EDT
	From: David C. Plummer in disguise <DCP at SCRC-TENEX>
	To:   David Vinayak Wallace <GUMBY at MIT-MC>, DCP at SCRC-QUABBIN
	cc:   BUG-LISPM
	Re:   (viewf "sys:site;notice text")

	    Date: 10 September 1984 14:09-EDT
	    From: David Vinayak Wallace <GUMBY @ MIT-MC>

	    It would be a gross kluge, but maybe it should check the pathnamesupplied
	    to OPEN.  All I'm saying is that the  very first thing some new luser tries
	    (especially something he's instructed to trry) ought to be doable.
	I understand.  The problem is modularity without resorting to gross
	kludges.  I would prefer to put the hack in viewf instead of OPEN.  If
	it went in open, it would likely bypass some automatic, temporary login
	for reading microcode error tables, etc.

    Bleagh.  Why don't you put the text into a string variable in the band instead.

Don't look at me!  I was obnoxed when I heard about this thing.
12-Sep-84 10:46:39-EDT,3194;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 12 Sep 84 10:46-EDT
Date: Wednesday, 12 September 1984, 10:47-EDT
From:  <TIM at MIT-MC>
Subject: Random Flavor Examiner blowout
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):



>>Trap: The argument given to the CDR instruction, :METHOD, was not a list, a locative or NIL.
While in the function SI:COMPILED-FUNCTION-DEBUGGING-INFO  SI:FIND-CALLERS-OF-SYMBOLS-IN-COMPILED-FUNCTION  FLAVEX:FIND-IVS-IN-METHOD

SI:COMPILED-FUNCTION-DEBUGGING-INFO:  (P.C. = 6)
   Arg 0 (FUNCTION): (NAMED-LAMBDA ((:METHOD FOO :AFTER :INIT) (:FLAVOR FOO)) (SELF SYS:SELF-MAPPING-TABLE SI:OPERATION &KEY U SCREW) (DECLARE (SYS:INSTANCE-VARIABLES FOO)) (PROGN SELF SYS:SELF-MAPPING-TABLE SI:OPERATION NIL) (PRINT SCREW) (PRINT U))

SI:FIND-CALLERS-OF-SYMBOLS-IN-COMPILED-FUNCTION:  (P.C. = 173)
   Arg 0 (CALLER): (:METHOD FOO :AFTER :INIT)
   Arg 1 (CALLER-FUNCTION): (NAMED-LAMBDA ((:METHOD FOO :AFTER :INIT) (:FLAVOR FOO)) (SELF SYS:SELF-MAPPING-TABLE SI:OPERATION &KEY U SCREW) (DECLARE (SYS:INSTANCE-VARIABLES FOO)) (PROGN SELF SYS:SELF-MAPPING-TABLE SI:OPERATION NIL) (PRINT SCREW) (PRINT U))

FLAVEX:FIND-IVS-IN-METHOD:  (P.C. = 32)
   Arg 0 (IVS): NIL
   Arg 1 (SPEC): (:METHOD FOO :AFTER :INIT)

(:METHOD FLAVEX:METHOD :GET-IVS-REFERENCED-IN-METHOD):  (P.C. = 6)
   Arg 0 (SELF): #<METHOD (FOO :AFTER :DAEMON :INIT) 27251065>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FLAVEX:METHOD -- 7. IV's, 0. FL's 35356540>
   Arg 2 (OPERATION): :GET-IVS-REFERENCED-IN-METHOD
   Arg 3 (IVS): NIL

(:METHOD FLAVEX:BASIC-COMBINED-METHOD :GET-IVS-REFERENCED-IN-DEPENDENT-METHODS):  (P.C. = 31)
   Arg 0 (SELF): #<COMBINED-METHOD (FOO :COMBINED :DAEMON :INIT) 27251076>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FLAVEX:BASIC-COMBINED-METHOD -- 2. IV's, 0. FL's 36252127>
   Arg 2 (OPERATION): :GET-IVS-REFERENCED-IN-DEPENDENT-METHODS
   --Defaulted args:--
   Arg 3 (IVS): NIL

(:METHOD FLAVEX:COMBINED-METHOD :GET-IVS-REFERENCED-IN-METHOD):  (P.C. = 5)
   Arg 0 (SELF): #<COMBINED-METHOD (FOO :COMBINED :DAEMON :INIT) 27251076>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FLAVEX:COMBINED-METHOD -- 2. IV's, 0. FL's 36252134>
   Arg 2 (OPERATION): :GET-IVS-REFERENCED-IN-METHOD
   --Defaulted args:--
   Arg 3 (IVS): NIL

(:METHOD FLAVEX:FRAME :GET-IVS-REFERENCED-IN-METHOD):  (P.C. = 4)
   Arg 0 (SELF): #<FRAME Frame 1 4702004 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FLAVEX:FRAME -- 21. IV's, 11. FL's 35162453>
   Arg 2 (OPERATION): :GET-IVS-REFERENCED-IN-METHOD
   Arg 3 (METHOD): #<COMBINED-METHOD (FOO :COMBINED :DAEMON :INIT) 27251076>

SEND:  (P.C. = 6)
   Arg 0 (OBJECT): #<FRAME Frame 1 4702004 exposed>
   Arg 1 (MESSAGE-NAME): :GET-IVS-REFERENCED-IN-METHOD
   Rest arg (ARGUMENTS): (#<COMBINED-METHOD (FOO :COMBINED :DAEMON :INIT) 27251076>)

Rest of stack:
SI:*EVAL:  (P.C. = 370)
EVALHOOK:  (P.C. = 14)
SI:EVAL-WITH-VECTOR-HACK:  (P.C. = 12)  (from PIG:SYS$DISK:[TIM.W]VECTOR)
(:METHOD FLAVEX:ITEM :HANDLE-CLICK):  (P.C. = 32)
FLAVEX:FRAME-FUNCTION:  (P.C. = 163)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
12-Sep-84 12:12:51-EDT,1727;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 12 Sep 84 12:12-EDT
Received: from SCRC-YANGTZE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 89635; Wed 12-Sep-84 11:55:06-EDT
Date: Wednesday, 12 September 1984, 11:54-EDT
From: Carl Hoffman <CWH at SCRC-TENEX>
Subject: problem with format directive ~T
To: Moon at SCRC-TENEX, Dick at MIT-MC
cc: BUG-LISPM at MIT-OZ
In-Reply-To: <840909160250.6.MOON@EUPHRATES.SCRC.Symbolics>,
             <DICK.12046532453.BABYL@MIT-OZ>
Message-ID: <840912115412.3.CWH@YANGTZE.SCRC.Symbolics>

    Date: Sunday, 9 September 1984, 16:02-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

    Think again.  "AA  " leaves you in column 4, which is not 1+2k.
    A quick look at the code shows that what it actually does it move to
    column mk for the smallest value of mk that is greater than both c and n.
    This is inconsistent with the documentation of both Zetalisp and Common Lisp
    FORMAT and should be repaired.

Right.  Since FORMAT NIL of "AA~0,2T", "AA~1,2T", "AAA~0,2T", and "AAA~1,2T"
all return strings of length 4, it is clear that neither c nor n are being
used in the computation.

However, it seems to me that the CL definition of m in ~n,m@T matches our
current definition of m in ~n,mT.

    Date: Mon, 10 Sep 1984  16:59 EDT
    From: Dick@MIT-MC

    I expect that if you look at the code for FORMAT over the years, that
    it always moved to c+mk.

I understand the CL definition of ~n,mT to mean, assuming c represents the
current cursor position,

    if c<n then c <- n

    if c>=n then c <- n+mk 
		      for the smallest k such that c<n+mk

Now, I'm not sure what you mean by c+mk.  Don't you just mean c+k?
12-Sep-84 12:19:34-EDT,1467;000000000000
Received: from MIT-SMOKEY by MIT-OZ via Chaosnet; 12 Sep 84 12:18-EDT
Date: Wednesday, 12 September 1984, 12:15-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: Syncing terminals
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Spire-Macros 1.9, Compute 1.5,
Attribute 1.8, Audio 1.2, Speech-Attributes 1.1, Display 1.13,
Speech-Layouts 1.8, Experimental Versatec 2.1, Experimental Prtout 1.1,
Spire 13.0, SpireX 10.3, LexiS 6.5, Experimental ZOO 2.4, FEP 22, on Lisp Machine Smokey (3600):


It is somewhat losing that on terminals which you do 
Load Sync-Program >philips-io4.sync
doing 
Clear Screen
causes you to lose the sync (It works correctly for the moniterm version).
It is also kind of losing that if something is wrong with your disk, you can't
tell until you load the sync program from the disk.  Couldn't the FEP (if it can tell
the terminal type) or the terminal dump something that works good enough to see in as 
a sync program without needing the disk, and then letting that be explicitly  
overwritten by the most up to date version of the sync program during a boot (like
load fep does with the fep)?

Also, how do you tell which terminal type you have by looking at it?  I can imagine
the terminals getting switched around for various reasons, like if one breaks or machines
get moved, and the only way I can think of aside from maybe opening up the terminal is
to see which sync program works.
12-Sep-84 13:04:33-EDT,2382;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 12 Sep 84 13:04-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 89783; Wed 12-Sep-84 12:59:14-EDT
Date: Wednesday, 12 September 1984, 12:58-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Syncing terminals
To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 12 Sep 84 12:15-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Message-ID: <840912125837.3.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Wednesday, 12 September 1984, 12:15-EDT
    From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>

    In Release 5.1, Experimental MIT 1.4, Spire-Macros 1.9, Compute 1.5,
    Attribute 1.8, Audio 1.2, Speech-Attributes 1.1, Display 1.13,
    Speech-Layouts 1.8, Experimental Versatec 2.1, Experimental Prtout 1.1,
    Spire 13.0, SpireX 10.3, LexiS 6.5, Experimental ZOO 2.4, FEP 22, on Lisp Machine Smokey (3600):


    It is somewhat losing that on terminals which you do 
    Load Sync-Program >philips-io4.sync
    doing 
    Clear Screen

    causes you to lose the sync (It works correctly for the moniterm
    version).  It is also kind of losing that if something is wrong with
    your disk, you can't tell until you load the sync program from the
    disk.  Couldn't the FEP (if it can tell the terminal type) or the
    terminal dump something that works good enough to see in as a sync
    program without needing the disk, and then letting that be
    explicitly overwritten by the most up to date version of the sync
    program during a boot (like load fep does with the fep)?

This is a long and sad story involving various lack of resources to test
obviously untested sync programs.  The solution, I think, is to get V24
FEP proms which have just been released.

    Also, how do you tell which terminal type you have by looking at it?
I don't know if you can tell from the outside.  [You aren't hearing my
say this] If you take off the top, you find about 5 accessibly knobs on
the Philips but none on the Moniter (they're hidden someplace else).
    I can imagine the terminals getting switched around for various
    reasons, like if one breaks or machines get moved, and the only way
    I can think of aside from maybe opening up the terminal is to see
    which sync program works.
12-Sep-84 13:13:09-EDT,2441;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 12 Sep 84 13:11-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 89785; Wed 12-Sep-84 12:59:55-EDT
Date: Wednesday, 12 September 1984, 12:59-EDT
From: David C. Plummer in disguise <DCP at SCRC-TENEX>
Subject: Syncing terminals
To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 12 Sep 84 12:15-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Supersedes: <840912125837.3.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840912125917.4.NFEP@NEPONSET.SCRC.Symbolics>

    Date: Wednesday, 12 September 1984, 12:15-EDT
    From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>

    In Release 5.1, Experimental MIT 1.4, Spire-Macros 1.9, Compute 1.5,
    Attribute 1.8, Audio 1.2, Speech-Attributes 1.1, Display 1.13,
    Speech-Layouts 1.8, Experimental Versatec 2.1, Experimental Prtout 1.1,
    Spire 13.0, SpireX 10.3, LexiS 6.5, Experimental ZOO 2.4, FEP 22, on Lisp Machine Smokey (3600):


    It is somewhat losing that on terminals which you do 
    Load Sync-Program >philips-io4.sync
    doing 
    Clear Screen

    causes you to lose the sync (It works correctly for the moniterm
    version).  It is also kind of losing that if something is wrong with
    your disk, you can't tell until you load the sync program from the
    disk.  Couldn't the FEP (if it can tell the terminal type) or the
    terminal dump something that works good enough to see in as a sync
    program without needing the disk, and then letting that be
    explicitly overwritten by the most up to date version of the sync
    program during a boot (like load fep does with the fep)?

This is a long and sad story involving various lack of resources to test
obviously untested sync programs.  The solution, I think, is to get V24
FEP proms which have just been released.

    Also, how do you tell which terminal type you have by looking at it?
I don't know if you can tell from the outside.  [You aren't hearing my
say this] If you take off the top, you find about 5 accessibly knobs on
the Philips but none on the Moniter (they're hidden someplace else).
    I can imagine the terminals getting switched around for various
    reasons, like if one breaks or machines get moved, and the only way
    I can think of aside from maybe opening up the terminal is to see
    which sync program works.
12-Sep-84 13:22:45-EDT,1464;000000000000
Received: from MIT-KODIAK by MIT-OZ via Chaosnet; 12 Sep 84 13:22-EDT
Date: Wednesday, 12 September 1984, 13:24-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: Syncing terminals
To: DCP at SCRC-TENEX, sr.ehpyc at MIT-SPEECH, BUG-LISPM at MIT-OZ
In-reply-to: <840912125837.3.NFEP@NEPONSET.SCRC.Symbolics>

    Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 89783; Wed 12-Sep-84 12:59:14-EDT
    Date: Wednesday, 12 September 1984, 12:58-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>
    Subject: Syncing terminals
    To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
    In-Reply-To: The message of 12 Sep 84 12:15-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
    Message-ID: <840912125837.3.NFEP@NEPONSET.SCRC.Symbolics>

	Also, how do you tell which terminal type you have by looking at it?
    I don't know if you can tell from the outside.  [You aren't hearing my
    say this] If you take off the top, you find about 5 accessibly knobs on
    the Philips but none on the Moniter (they're hidden someplace else).

Thanks -- I checked and you can see if the knobs are there through the
vents on top of the terminal on the left side (from the front) without
removing the top.  A word of warning to others getting 3670s:  These
sync programs can be deadly before you discover there are two versions
if you copy a customized boot file from one machine to another.
12-Sep-84 13:25:15-EDT,1460;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 12 Sep 84 13:24-EDT
Date: Wednesday, 12 September 1984, 13:24-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: Syncing terminals
To: DCP at SCRC-TENEX, sr.ehpyc at MIT-SPEECH, BUG-LISPM at MIT-OZ
In-reply-to: <840912125837.3.NFEP@NEPONSET.SCRC.Symbolics>

    Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 89783; Wed 12-Sep-84 12:59:14-EDT
    Date: Wednesday, 12 September 1984, 12:58-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>
    Subject: Syncing terminals
    To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
    In-Reply-To: The message of 12 Sep 84 12:15-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
    Message-ID: <840912125837.3.NFEP@NEPONSET.SCRC.Symbolics>

	Also, how do you tell which terminal type you have by looking at it?
    I don't know if you can tell from the outside.  [You aren't hearing my
    say this] If you take off the top, you find about 5 accessibly knobs on
    the Philips but none on the Moniter (they're hidden someplace else).

Thanks -- I checked and you can see if the knobs are there through the
vents on top of the terminal on the left side (from the front) without
removing the top.  A word of warning to others getting 3670s:  These
sync programs can be deadly before you discover there are two versions
if you copy a customized boot file from one machine to another.
12-Sep-84 14:12:11-EDT,1925;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 12 Sep 84 14:11-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 89822; Wed 12-Sep-84 14:09:02-EDT
Date: Wednesday, 12 September 1984, 14:08-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Random Flavor Examiner blowout
To: TIM at MIT-MC
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 12 Sep 84 10:47-EDT from TIM at MIT-MC
Message-ID: <840912140800.2.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Wednesday, 12 September 1984, 10:47-EDT
    From:  <TIM at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, COLOR 5.1, FEP 18, on Lisp Machine Buddy Holly (3600):

    >>Trap: The argument given to the CDR instruction, :METHOD, was not a list, a locative or NIL.
    While in the function SI:COMPILED-FUNCTION-DEBUGGING-INFO  SI:FIND-CALLERS-OF-SYMBOLS-IN-COMPILED-FUNCTION  FLAVEX:FIND-IVS-IN-METHOD

    SI:COMPILED-FUNCTION-DEBUGGING-INFO:  (P.C. = 6)
       Arg 0 (FUNCTION): (NAMED-LAMBDA ((:METHOD FOO :AFTER :INIT) (:FLAVOR FOO)) (SELF SYS:SELF-MAPPING-TABLE SI:OPERATION &KEY U SCREW) (DECLARE (SYS:INSTANCE-VARIABLES FOO)) (PROGN SELF SYS:SELF-MAPPING-TABLE SI:OPERATION NIL) (PRINT SCREW) (PRINT U))

    SI:FIND-CALLERS-OF-SYMBOLS-IN-COMPILED-FUNCTION:  (P.C. = 173)
       Arg 0 (CALLER): (:METHOD FOO :AFTER :INIT)
       Arg 1 (CALLER-FUNCTION): (NAMED-LAMBDA ((:METHOD FOO :AFTER :INIT) (:FLAVOR FOO)) (SELF SYS:SELF-MAPPING-TABLE SI:OPERATION &KEY U SCREW) (DECLARE (SYS:INSTANCE-VARIABLES FOO)) (PROGN SELF SYS:SELF-MAPPING-TABLE SI:OPERATION NIL) (PRINT SCREW) (PRINT U))

    FLAVEX:FIND-IVS-IN-METHOD:  (P.C. = 32)
       Arg 0 (IVS): NIL
       Arg 1 (SPEC): (:METHOD FOO :AFTER :INIT)

Thanks for the report. FLAVEX:FIND-IVS-IN-METHOD should be calling
SI:FIND-CALLERS-OF-SYMBOLS-AUX1, not SI:FIND-CALLERS-OF-SYMBOLS-IN-COMPILED-FUNCTION.
Someone was confused, evidently.
12-Sep-84 16:10:18-EDT,2503;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 12 Sep 84 16:09-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 89915; Wed 12-Sep-84 16:10:00-EDT
Date: Wednesday, 12 September 1984, 16:09-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Namespace Wars: MIT-MC versus MIT-DM
To: roly at MIT-MC, David A. Moon <Moon at SCRC-TENEX>,
    Richard Lamson <rsl at SPA-RUSSIAN>, MMcM at SCRC-QUABBIN,
    Robert W. Kerns <RWK at SCRC-YUKON>, zvona at MIT-PYGMALION,
    HEWITT at MIT-OZ, BUG-LISPM at MIT-OZ,
    LISPM-NETWORKS at SCRC-QUABBIN
In-Reply-To: The message of 5 Sep 84 12:19-EDT from roly at MIT-MC,
             <840906155308.4.MOON@EUPHRATES.SCRC.Symbolics>,
             <840906181655.4.RSL@RUSSIAN.SPA.Symbolics>,
             <840906214015.1.FILE-SERVER@RIVERSIDE.SCRC.Symbolics>,
             <840906222826.5.MOON@EUPHRATES.SCRC.Symbolics>,
             <840910102653.3.RWK@HUDSON.SCRC.Symbolics>,
             The message of 11 Sep 84 10:30-EDT from zvona at MIT-PYGMALION,
             The message of 11 Sep 84 18:29-EDT from HEWITT at MIT-OZ
Message-ID: <840912160925.0.HORNIG@PEACE.SCRC.Symbolics>

Recently, the namespace servers (and through them everyone else) became
confused about MIT-MC and MIT-DM.  This happened because DM (running
Unix) was added to the NIC host table before DM (the nickname on MC) was
deleted from the namespace database.  The namespace system interpreted
this to mean that they were really the same host.  Because of the
namespace system is structured, it is very difficult to convince it that
two hosts are different once it is told that they are the same.

I have done sufficient surgery here that all of the namespace servers
at SCRC know that MC and DM are two different hosts.  I believe that
CADR-15 is also free of error.  I can't talk to POLAR, GOLDY, or AP-6
now to check time.  Clean namespace servers will not cause a band not
already corrupt to become corrupted.

There may already be many corrupted bands at MIT.  Since MC is a server
host at MIT, most bands will have cached its namespace object.  If the
object was cached before the DM nickname was removed, and if the band
happens to ask for information about INTERNET|MIT-DM before it asks
about INTERNET|MIT-MC, it get confused and combine the objects.  I don't
see an easy way around this.

It would be good if people tried booting now with bands of various ages
and reported their experiences.
12-Sep-84 16:43:57-EDT,1142;000000000000
Mail-From: CJL created at 12-Sep-84 16:29:11
Date: Wed, 12 Sep 1984  16:29 EDT
Message-ID: <CJL.12047051281.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   Charles Hornig <Hornig@SCRC-STONY-BROOK>
Cc:   BUG-LISPM@MIT-OZ, HEWITT@MIT-OZ, LISPM-NETWORKS@SCRC-QUABBIN,
      MMcM@SCRC-QUABBIN, "David A. Moon" <Moon@SCRC-TENEX>, roly@MIT-MC,
      Richard Lamson <rsl@SPA-RUSSIAN>, "Robert W. Kerns" <RWK@SCRC-YUKON>,
      zvona@MIT-PYGMALION
Subject: Namespace Wars: MIT-MC versus MIT-DM
In-reply-to: Msg of 12 Sep 1984 16:09-EDT from Charles Hornig <Hornig at SCRC-STONY-BROOK>

I made sure before disk-saving the Rel 5.2 band meant for distribution
throughout MIT that the band know the correct name servers for all
namespaces, and also know the right information about MC and DM. These
bands should eventually find themselves on GOLDY and AP6, so they will
have the correct information. I believe the disk-saved band on cadr-15
has the wrong information, but I hacked the file-server init file to try
to fix itself automatically. POLAR also probably has the wrong
information, and I haven't done anything about it.
12-Sep-84 17:14:06-EDT,913;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 12 Sep 84 17:12-EDT
Date: Wednesday, 12 September 1984, 17:13-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: Namespace Wars: MIT-MC versus MIT-DM
To: CJL at MIT-OZ, Hornig at SCRC-STONY-BROOK
Cc: BUG-LISPM at MIT-OZ, HEWITT at MIT-OZ,
    LISPM-NETWORKS at SCRC-QUABBIN, MMcM at SCRC-QUABBIN,
    Moon at SCRC-TENEX, roly at MIT-MC, rsl at SPA-RUSSIAN,
    RWK at SCRC-YUKON, zvona at MIT-PYGMALION
In-reply-to: <CJL.12047051281.BABYL@MIT-OZ>

When we get the 5.2 patches, I'll rebuild 5.2 from a clean 5.0 world
load (we're Zoo site over here, so it works better to do it that way I
think).  I just resaved Goldy and Polar a few days ago.  Polar thinks DM
is a unix host, and MC is ITS, which I assume is the right state.  Goldy
doesn't know about any DM.  LM15 seems to be down, so it does not make
sense to update things over here yet.
12-Sep-84 20:04:53-EDT,1483;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 12 Sep 84 20:04-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90036; Wed 12-Sep-84 20:03:45-EDT
Date: Wednesday, 12 September 1984, 20:02-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: More on the flavor redefinition problem
To: David C. Plummer in disguise <DCP at SCRC-TENEX>,
    Patrick A. O'Donnell <PAO at MIT-EECS>, BUG-LISPM at MIT-OZ
In-Reply-To: <840910154001.1.NFEP@NEPONSET.SCRC.Symbolics>
References: The message of 20 Aug 84 12:59-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>,
            The message of 20 Aug 84 13:07-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>,
            <840910154001.1.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840912200247.3.DCP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 10 September 1984, 15:40-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

    It appears to be
    directly related to :mixture and doesn't have anything to do with
    redefinition.  A simpler case is:  
    
	(defflavor f2-mixin () ())
    
	(defflavor f1 () ()
	  (:mixture (:mix-f2 f2-mixin)))
    
	(compile-flavor-methods f1)

    This last form expands into
	(PROGN 'COMPILE
	   (EVAL-WHEN (COMPILE EVAL) (COMPILE-FLAVOR-METHODS-1 'F1))
	   (EVAL-WHEN (LOAD EVAL) (COMPILE-FLAVOR-METHODS-2 'F1))
	   (COMPILE-FLAVOR-METHODS F2-F1 F1))

I believe I fixed this competently, so it should appear in Release 6.
12-Sep-84 20:05:42-EDT,1646;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 12 Sep 84 20:05-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 80831; Wed 12-Sep-84 20:03:55-EDT
Date: Wednesday, 12 September 1984, 20:05-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: Tim McNerney <TIM at MIT-MC>, BUG-LISPM at MIT-MC
In-Reply-To: The message of 10 Sep 84 10:37-EDT from Tim McNerney <TIM at MIT-MC>
References: The message of 10 Sep 84 10:37-EDT from Tim McNerney <TIM at MIT-MC>,
            <840910120809.4.NFEP@NEPONSET.SCRC.Symbolics>,
            <840910130807.7.CASSELS@CUYAHOGA.SCRC.Symbolics>,
            <840910140143.2.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840912200531.4.DCP@NEPONSET.SCRC.Symbolics>

    Date: 10 September 1984 10:37-EDT
    From: Tim McNerney <TIM @ MIT-MC>

    ...in the case where an instance variable has the same name as the
    flavor.  For instance:

      (defflavor foo
	    (foo
	     bar)
	    ()
	:outside-accessible-instance-variables)

    generates two defsubst that look essentially like this

      (defsubst foo-foo (foo)
	(symeval-in-instance foo 'foo)

      (defsubst foo-bar (foo)
	(symeval-in-instance foo 'bar)

    Guess what SUBST is going to do in the FOO-FOO case?

In the source (and 258.3 and therefore Release 6) it makes the
argument of the SUBST have dots around the argument name and the
references.  Therefore, you will get
      (defsubst foo-foo (.foo.)
	(symeval-in-instance .foo. 'foo)

      (defsubst foo-bar (.foo.)
	(symeval-in-instance .foo. 'bar)
12-Sep-84 20:35:12-EDT,1687;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 12 Sep 84 20:34-EDT
Date:  Wed, 12 Sep 84 20:19 EDT
From:  Barry Margolin <Margolin@MIT-MULTICS.ARPA>
Subject:  Re: DEFSUBST will screw up
          :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To:  "David C. Plummer" <DCP@SCRC-TENEX.ARPA>
cc:  Tim McNerney <TIM@MIT-MC.ARPA>, BUG-LISPM@MIT-MC.ARPA
In-Reply-To:  Message of 12 Sep 84 20:05 EDT from "David C. Plummer"
Message-ID:  <840913001920.066724@MIT-MULTICS.ARPA>

    Date:  12 September 1984 20:05 edt
    From:  David C. Plummer <DCP at SCRC-TENEX>
    Subject:  DEFSUBST will screw up
              :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...

        Date: 10 September 1984 10:37-EDT
        From: Tim McNerney <TIM @ MIT-MC>

        ...in the case where an instance variable has the same name as the
        flavor.  For instance:

          (defflavor foo
                  (foo
                   bar)
                  ()
              :outside-accessible-instance-variables)

        generates two defsubst that look essentially like this

          (defsubst foo-foo (foo)
              (symeval-in-instance foo 'foo)

          (defsubst foo-bar (foo)
              (symeval-in-instance foo 'bar)

        Guess what SUBST is going to do in the FOO-FOO case?

    In the source (and 258.3 and therefore Release 6) it makes the
    argument of the SUBST have dots around the argument name and the
    references.  Therefore, you will get
          (defsubst foo-foo (.foo.)
              (symeval-in-instance .foo. 'foo)

          (defsubst foo-bar (.foo.)
              (symeval-in-instance .foo. 'bar)


Why not use a gensym?
12-Sep-84 22:24:41-EDT,1386;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 12 Sep 84 22:23-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 80923; Wed 12-Sep-84 22:22:47-EDT
Date: Wednesday, 12 September 1984, 22:24-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: problem with format directive ~T
To: Dick at MIT-MC
cc: bug-lispm at MIT-OZ
In-Reply-To: <DICK.12046532453.BABYL@MIT-OZ>
Message-ID: <840912222440.2.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Mon, 10 Sep 1984  16:59 EDT
    From: Dick@MIT-MC


    I expect that if you look at the code for FORMAT over the years, that
    it always moved to c+mk.  I would argue that this makes a lot more
    sense as a thing to do than what the documentation says, and it is the 
    documentation which is in error.  Note that a quick look at the manuals
    shows that the ~T FORMAT documentation has been copied letter for letter for
    nearly a decade probably without anybody bothering to think about
    what it said.

I looked at some old versions of format (the oldest I could get without
getting up out of my chair).

2-year old Lisp Machine FORMAT: does mk (same as now)
3-year old Maclisp FORMAT: does c+mk
recent CMU Spice Lisp FORMAT: does n+mk

I believe that n+mk is better than c+mk because it makes your tables line up
in neat columns.  Also it's what the documentation says.
13-Sep-84 01:27:09-EDT,3362;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 01:26-EDT
Date: Thursday, 13 September 1984, 01:28-EDT
From: Gavan Duffy <GAVAN at MIT-OZ>
Subject: Can't send bug reports!
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.37, FEP 18, on Lisp Machine Jim Morrison:

Tried to send myself a bug report and got this error.  When I tried to c-m out
of the debugger, the same error reappeared.  So I walked up the stack and
returned a value.

Is this your clever way of catching up on your bug report backlog?

>>Trap: The subscript given to the AR-1 instruction, :SITE, was not a fixnum.
While in the function SEND  SIGNAL  DBG:SIGNAL-TRAP

SYS:%LEXPR-AREF:  (P.C. = 20)
   Arg 0 (ARRAY): "OZ"
   Arg 1 (INDICES): (:SITE)
   Local 2 (NDIMS): 1.
   Local 3 (DATA-POINTER): NIL
   Local 4 (LINEAR-INDEX): NIL
   Local 5 (TYPE): NIL
   Local 6 (BITS-PER-ELEM): NIL
   Local 7 (ELEMS-PER-Q): NIL

SYS:CALL-FUNNY-FUNCTION:  (P.C. = 16)
   Arg 0 (FUNCTION): "OZ"
   Rest arg (ARGS): (:SITE)

"OZ":
   Arg 0: :SITE

MAILER:ALL-MAIL-ADDRESSES-FORWARD-BETWEEN-HOSTS-P:  (P.C. = 12)
   Arg 0 (HOST-1): #<TOPS20-HOST OZ 70472352>
   Arg 1 (HOST-2): "OZ"

ZWEI:PARSE-BUG-ARG:  (P.C. = 27)
   Arg 0 (SYSTEM): RELATUS-PARSER

BUG:  (P.C. = 7)
   Arg 0 (SYSTEM): RELATUS-PARSER
   Arg 1 (ADDITIONAL-BODY): "Buggy Sentence: 

SYMBOLICS OWES ME A LOT OF MONEY.

#<SENTENCE RELATUS 11544214>, an object of flavor SENTENCE,
 has instance variable values:
 SYNTAX:                     (SYMBOLICS OWES ME A LOT OF MONEY)
 P-O-S-LIST:                 (PROP-N VB PN IA N PP N)
 MARKER-LIST:                (NO NO NO NO NO NO NO)
 ORIGINAL-STRING:            /"SYMBOLICS OWES ME A LOT OF MONEY./"
 TYPE:                       *DECLARATIVE*
 BELIEF-SYSTEM:              #<BELIEF-SYSTEM RELATUS 1100000>
 SOURCE:                     /"GAVAN/"
 AUDIENCE:                   /"Relatus/"
 LOCATION:                   MORRISON
 TIME-OF-SPEECH:             /"Thursday the thirteenth of September, 1984; 1:21:09 am/"
 UNIVERSAL-TIME-OF-SPEECH:   2672889669.
 MAIN-VERB-OBJECT:           #<VERBAL OWE 11552777>
 SENTENCE-NAME:              SENTENCE-269
 PHRASES:                    (#<NOMINAL SYMBOLICS 11552450> #<VERBAL OWE 11552543> #<NOMINAL GAVAN 11552562> #<NOMINAL LOT 11552577>)
 TRANSFORM:                  #<TRANSFORM SENTENCE-269 11552750>
 PARENT:                     NIL
 REFERENCE:                  OWE-1
 CONSTRAINTS:                NIL
"
   Arg 2 (PROMPT): "Insert your description of the problem."
   Arg 3 (POINT-BEFORE-ADDITIONAL-BODY): T

(:METHOD SENTENCE :REPORT-BUG-FROM-STEPPER):  (P.C. = 54)  (from RL: PARSER; STEPPER)
   Arg 0 (SELF): #<SENTENCE RELATUS 11544214>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SENTENCE -- 14. IV's, 3. FL's 104376511>
   Arg 2 (OPERATION): :REPORT-BUG-FROM-STEPPER

REPORT-BUGGY-SENTENCE-FROM-SENTENCE-MOUSE-MENU:  (P.C. = 16)  (from RL: PARSER; MOUSEABLE)
   Arg 0 (ITEM): "Sentence-269"

Rest of stack:
TV:MOUSE-SENSITIVE-EVAL-FOR-TOP-LEVEL:  (P.C. = 21)  (from RL: UTILS; WMAGIC)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:MY-LISP-COMMAND-LOOP:  (P.C. = 116)  (from RL: U; FIX-LISP-COMMAND-LOOP)
TV:MOUSE-SENSITIVE-LISP-TOP-LEVEL1:  (P.C. = 32)  (from RL: UTILS; WMAGIC)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
13-Sep-84 01:32:21-EDT,7624;000000000000
Received: from MIT-LENNON by MIT-OZ via Chaosnet; 13 Sep 84 01:31-EDT
Date: Thursday, 13 September 1984, 01:30-EDT
From: JCMA@MIT-OZ
Subject: Backtrace Of Bug In Bug Reporting
To: BUG-LISPM@MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.37, FEP 18, on Lisp Machine John Lennon:

This a backtrace of the bug in bug reporting.  It needs to be patched at MIT
ASAP.

>>Trap: The subscript given to the AR-1 instruction, :SITE, was not a fixnum.
While in the function SEND  SIGNAL  DBG:SIGNAL-TRAP

SEND:  (P.C. = 6)
   Arg 0 (OBJECT): #<WRONG-TYPE-ARGUMENT-TRAP 17246611>
   Arg 1 (MESSAGE-NAME): :SIGNAL
   Rest arg (ARGUMENTS): (T)

SIGNAL:  (from RL: UTILS; KLUDGES)
   Arg 0 (FLAVOR): #<WRONG-TYPE-ARGUMENT-TRAP 17246611>
   Rest arg: NIL

DBG:SIGNAL-TRAP:  (P.C. = 3)
   Arg 0 (COND): #<WRONG-TYPE-ARGUMENT-TRAP 17246611>

SYS:MICROCODE-ERROR-HANDLER:  (P.C. = 101)
   Arg 0 (MICRO-PC): 4709.
   Arg 1 (VMA): #<DTP-LOCATIVE 317053>
   Arg 2 (MACRO-PC): NIL
   Arg 3 (OLD-INHIBIT-SCHEDULING-FLAG): #<DTP-EVEN-PC 24470453>

SYS:%LEXPR-AREF:  (P.C. = 20)
   Arg 0 (ARRAY): "OZ"
   Arg 1 (INDICES): (:SITE)

SYS:CALL-FUNNY-FUNCTION:  (P.C. = 16)
   Arg 0 (FUNCTION): "OZ"
   Rest arg (ARGS): (:SITE)

"OZ":
   Arg 0: :SITE

MAILER:ALL-MAIL-ADDRESSES-FORWARD-BETWEEN-HOSTS-P:  (P.C. = 12)
   Arg 0 (HOST-1): #<TOPS20-HOST OZ 70472352>
   Arg 1 (HOST-2): "OZ"

ZWEI:PARSE-BUG-ARG:  (P.C. = 27)
   Arg 0 (SYSTEM): DBG:LISPM

BUG:  (P.C. = 7)
   Arg 0 (SYSTEM): DBG:LISPM
   Arg 1 (ADDITIONAL-BODY): "
>>Trap: The first argument given to the ARRAY-LEADER instruction, NIL, was not an array.
While in the function SEND  SIGNAL  DBG:SIGNAL-TRAP

SEND:  (P.C. = 6)
   Arg 0 (OBJECT): #<WRONG-TYPE-ARGUMENT-TRAP 17142470>
   Arg 1 (MESSAGE-NAME): :SIGNAL
   Rest arg (ARGUMENTS): (T)

SIGNAL:  (from RL: UTILS; KLUDGES)
   Arg 0 (FLAVOR): #<WRONG-TYPE-ARGUMENT-TRAP 17142470>
   Rest arg: NIL

DBG:SIGNAL-TRAP:  (P.C. = 3)
   Arg 0 (COND): #<WRONG-TYPE-ARGUMENT-TRAP 17142470>

SYS:MICROCODE-ERROR-HANDLER:  (P.C. = 101)
   Arg 0 (MICRO-PC): 752.
   Arg 1 (VMA): #<DTP-LOCATIVE 25336665>
   Arg 2 (MACRO-PC): NIL
   Arg 3 (OLD-INHIBIT-SCHEDULING-FLAG): #<DTP-EVEN-PC 25336664>

ZWEI:BACKWARD-OVER:  (P.C. = 26)
   Arg 0 (LIST): (141.)
   Arg 1 (BP): (/"/" 0.)

ZWEI:INSERT-TEXT-OF-MSGS:  (P.C. = 132)
   Arg 0 (MSGS): (#<MSG 703271>)
   Arg 1 (BP): (/"/" 0. :MOVES)
   Arg 2 (FONT-ALIST): NIL
   Rest arg: (:INDENTED T :TEMPLATE ZWEI:REPLY-YANK-REFORMAT-TEMPLATE)

(:METHOD ZWEI:COMPATIBLE-REPLY-TEMPLATE :COMPATIBLE-REPLY-MODES):  (P.C. = 42)
   Arg 0 (SELF): #<COMPATIBLE-REPLY-TEMPLATE COMPATIBLE-REPLY-TEMPLATE>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:COMPATIBLE-REPLY-TEMPLATE -- 2. IV's, 6. FL's 74134274>
   Arg 2 (OPERATION): :COMPATIBLE-REPLY-MODES
   Arg 3 (PLIST): #<DTP-LOCATIVE 43440304>
   Arg 4 (REPLY-MODE): :ALL-CC
   Arg 5 (REPLY-WINDOW-MODE): :YANK

(:METHOD ZWEI:COMPATIBLE-REPLY-TEMPLATE :CASE :EXPANSION-KEYWORD :COMPATIBLE-REPLY-MODES):  (P.C. = 12)
   Arg 0 (SELF): #<COMPATIBLE-REPLY-TEMPLATE COMPATIBLE-REPLY-TEMPLATE>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:COMPATIBLE-REPLY-TEMPLATE -- 2. IV's, 6. FL's 74134274>
   Arg 2 (OPERATION): :COMPATIBLE-REPLY-MODES
   Arg 3 (PLIST): #<DTP-LOCATIVE 43440304>
   Arg 4 (REPLY-MODE): ZWEI:*REPLY-MODE*
   Arg 5 (REPLY-WINDOW-MODE): ZWEI:*REPLY-WINDOW-MODE*

Rest of stack:
(:METHOD ZWEI:COMPATIBLE-REPLY-TEMPLATE :COMBINED :EXPANSION-KEYWORD):  (P.C. = 31)
(:METHOD ZWEI:TEMPLATE :EXPAND):  (P.C. = 23)
(:METHOD ZWEI:REPLY-TEMPLATE :COMBINED :EXPAND):  (P.C. = 23)
(:METHOD ZWEI:INDIRECT-TEMPLATE :EXPAND):  (P.C. = 6)
ZWEI:EXPAND-TEMPLATE:  (P.C. = 12)
ZWEI:COMPOSE-FROM-TEMPLATE:  (P.C. = 10)
ZWEI:NORMAL-REPLY-INTERNAL:  (P.C. = 54)
ZWEI:NORMAL-REPLY:  (P.C. = 5)
ZWEI:COM-ZMAIL-REPLY:  (P.C. = 20)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 6)
(:INTERNAL ZWEI:ZMAIL-COMMAND-LIST 0.):  (P.C. = 10)
ZWEI:ZMAIL-COMMAND-LIST:  (P.C. = 12)
(:METHOD ZWEI:ZMAIL-FRAME :PROCESS-SPECIAL-COMMAND):  (P.C. = 16)
(:METHOD ZWEI:ZMAIL-FRAME :COMMAND-LOOP):  (P.C. = 141)
(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP):  (P.C. = 47)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 52)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)"
   Arg 2 (PROMPT): "Please explain the circumstances that led to this bug, and how it can be reproduced"
   Arg 3 (POINT-BEFORE-ADDITIONAL-BODY): T

SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
   Arg 0 (RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION BUG 24411524>
   Rest arg (ARGS): (DBG:LISPM "
>>Trap: The first argument given to the ARRAY-LEADER instruction, NIL, was not an array.
While in the function SEND  SIGNAL  DBG:SIGNAL-TRAP

SEND:  (P.C. = 6)
   Arg 0 (OBJECT): #<WRONG-TYPE-ARGUMENT-TRAP 17142470>
   Arg 1 (MESSAGE-NAME): :SIGNAL
   Rest arg (ARGUMENTS): (T)

SIGNAL:  (from RL: UTILS; KLUDGES)
   Arg 0 (FLAVOR): #<WRONG-TYPE-ARGUMENT-TRAP 17142470>
   Rest arg: NIL

DBG:SIGNAL-TRAP:  (P.C. = 3)
   Arg 0 (COND): #<WRONG-TYPE-ARGUMENT-TRAP 17142470>

SYS:MICROCODE-ERROR-HANDLER:  (P.C. = 101)
   Arg 0 (MICRO-PC): 752.
   Arg 1 (VMA): #<DTP-LOCATIVE 25336665>
   Arg 2 (MACRO-PC): NIL
   Arg 3 (OLD-INHIBIT-SCHEDULING-FLAG): #<DTP-EVEN-PC 25336664>

ZWEI:BACKWARD-OVER:  (P.C. = 26)
   Arg 0 (LIST): (141.)
   Arg 1 (BP): (/"/" 0.)

ZWEI:INSERT-TEXT-OF-MSGS:  (P.C. = 132)
   Arg 0 (MSGS): (#<MSG 703271>)
   Arg 1 (BP): (/"/" 0. :MOVES)
   Arg 2 (FONT-ALIST): NIL
   Rest arg: (:INDENTED T :TEMPLATE ZWEI:REPLY-YANK-REFORMAT-TEMPLATE)

(:METHOD ZWEI:COMPATIBLE-REPLY-TEMPLATE :COMPATIBLE-REPLY-MODES):  (P.C. = 42)
   Arg 0 (SELF): #<COMPATIBLE-REPLY-TEMPLATE COMPATIBLE-REPLY-TEMPLATE>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:COMPATIBLE-REPLY-TEMPLATE -- 2. IV's, 6. FL's 74134274>
   Arg 2 (OPERATION): :COMPATIBLE-REPLY-MODES
   Arg 3 (PLIST): #<DTP-LOCATIVE 43440304>
   Arg 4 (REPLY-MODE): :ALL-CC
   Arg 5 (REPLY-WINDOW-MODE): :YANK

(:METHOD ZWEI:COMPATIBLE-REPLY-TEMPLATE :CASE :EXPANSION-KEYWORD :COMPATIBLE-REPLY-MODES):  (P.C. = 12)
   Arg 0 (SELF): #<COMPATIBLE-REPLY-TEMPLATE COMPATIBLE-REPLY-TEMPLATE>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:COMPATIBLE-REPLY-TEMPLATE -- 2. IV's, 6. FL's 74134274>
   Arg 2 (OPERATION): :COMPATIBLE-REPLY-MODES
   Arg 3 (PLIST): #<DTP-LOCATIVE 43440304>
   Arg 4 (REPLY-MODE): ZWEI:*REPLY-MODE*
   Arg 5 (REPLY-WINDOW-MODE): ZWEI:*REPLY-WINDOW-MODE*

Rest of stack:
(:METHOD ZWEI:COMPATIBLE-REPLY-TEMPLATE :COMBINED :EXPANSION-KEYWORD):  (P.C. = 31)
(:METHOD ZWEI:TEMPLATE :EXPAND):  (P.C. = 23)
(:METHOD ZWEI:REPLY-TEMPLATE :COMBINED :EXPAND):  (P.C. = 23)
(:METHOD ZWEI:INDIRECT-TEMPLATE :EXPAND):  (P.C. = 6)
ZWEI:EXPAND-TEMPLATE:  (P.C. = 12)
ZWEI:COMPOSE-FROM-TEMPLATE:  (P.C. = 10)
ZWEI:NORMAL-REPLY-INTERNAL:  (P.C. = 54)
ZWEI:NORMAL-REPLY:  (P.C. = 5)
ZWEI:COM-ZMAIL-REPLY:  (P.C. = 20)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 6)
(:INTERNAL ZWEI:ZMAIL-COMMAND-LIST 0.):  (P.C. = 10)
ZWEI:ZMAIL-COMMAND-LIST:  (P.C. = 12)
(:METHOD ZWEI:ZMAIL-FRAME :PROCESS-SPECIAL-COMMAND):  (P.C. = 16)
(:METHOD ZWEI:ZMAIL-FRAME :COMMAND-LOOP):  (P.C. = 141)
(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP):  (P.C. = 47)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 52)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)" "Please explain the circumstances that led to this bug, and how it can be reproduced" T)

SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
   Arg 0 (IGNORE): NIL
13-Sep-84 05:35:16-EDT,1005;000000000000
Received: from MIT-LENNON by MIT-OZ via Chaosnet; 13 Sep 84 05:35-EDT
Date: Thursday, 13 September 1984, 05:37-EDT
From: JCMA@MIT-OZ
Subject: Fix to 5.2 Bug Reporting Bug
To: BUG-LISPM@MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.37, FEP 18, on Lisp Machine John Lennon:

;; fix 5.2 lossage
#10R MAILER:(COMPILER-LET ((PACKAGE (PKG-FIND-PACKAGE "MAILER")))

(EVAL-WHEN (EVAL LOAD)
  (WHEN (FBOUNDP 'SI:GET-RELEASE-VERSION)
    (MULTIPLE-VALUE-BIND (RELEASE VERSION NIL)
	(SI:GET-RELEASE-VERSION)
      (WHEN (AND (= RELEASE 5.) (= VERSION 2.))
	(DEFUN ALL-MAIL-ADDRESSES-FORWARD-BETWEEN-HOSTS-P (HOST-1 HOST-2)
	;; problem seems to be that these hosts may be strings, and
	;; strings don't respond well to messages.
	  (SETQ HOST-1 (SI:PARSE-HOST HOST-1)
		HOST-2 (SI:PARSE-HOST HOST-2))
	  (LET* ((SITE-1 (SEND HOST-1 :SITE)))
	    (AND SITE-1
		 (EQ SITE-1 (SEND HOST-2 :SITE))
		 (EQUAL (SEND SITE-1 :USER-GET :ALL-MAIL-ADDRESSES-FORWARD) "YES"))))))))

)
13-Sep-84 05:54:26-EDT,950;000000000000
Received: from MIT-LENNON by MIT-OZ via Chaosnet; 13 Sep 84 05:54-EDT
Date: Thursday, 13 September 1984, 05:56-EDT
From: JCMA@MIT-OZ
Subject: bug-zmail@oz
         Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME
To: Bug-Lispm@MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.37, FEP 18, on Lisp Machine John Lennon:

These provide a structured interface for obtaining this information.

(DEFMETHOD (ZMACS-FRAME :TYPEOUT-WINDOW) ()
    (IF (VARIABLE-BOUNDP *TYPEOUT-WINDOW*)
	(SYMEVAL '*TYPEOUT-WINDOW*)
	NIL))

(DEFMETHOD (ZMACS-FRAME :TYPEIN-WINDOW) ()
  (IF (VARIABLE-BOUNDP *typein-WINDOW*)
      (SYMEVAL '*typein-WINDOW*)
      NIL))

(DEFMETHOD (ZMAIL-FRAME :TYPEOUT-WINDOW) ()
    (IF (VARIABLE-BOUNDP *TYPEOUT-WINDOW*)
	(SYMEVAL '*TYPEOUT-WINDOW*)
	NIL))

(DEFMETHOD (ZMAIL-FRAME :TYPEIN-WINDOW) ()
  (IF (VARIABLE-BOUNDP *typein-WINDOW*)
      (SYMEVAL '*typein-WINDOW*)
      NIL))
13-Sep-84 06:06:58-EDT,2871;000000000000
Received: from MIT-LENNON by MIT-OZ via Chaosnet; 13 Sep 84 06:06-EDT
Date: Thursday, 13 September 1984, 06:09-EDT
From: JCMA@MIT-OZ
Subject: Typed CONTROL-X CONTROL-B
To: BUG-LISPM@MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.37, FEP 18, on Lisp Machine John Lennon:



>>Error: The argument ARRAY to ARRAY-ACTIVE-LENGTH, ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME"), was of the wrong type.
         The function expected an array.
While in the function SEND  SIGNAL  DBG:CHECK-ARG-2

SEND:  (P.C. = 6)
   Arg 0 (OBJECT): #<CHECK-ARG 20175203>
   Arg 1 (MESSAGE-NAME): :SIGNAL
   Rest arg (ARGUMENTS): (T)

SIGNAL:  (from RL: UTILS; KLUDGES)
   Arg 0 (FLAVOR): CHECK-ARG
   Rest arg: (:FUNCTION #<DTP-COMPILED-FUNCTION ARRAY-ACTIVE-LENGTH 24424472> :ARG-NAME ARRAY :OLD-VALUE ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME") :DESCRIPTION "an array" :ARG-NUMBER NIL ...)

DBG:CHECK-ARG-2:  (P.C. = 63)
   Arg 0 (FLAVOR): CHECK-ARG
   Arg 1 (ARGNAME): ARRAY
   Arg 2 (OLD-VALUE): ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME")
   Arg 3 (TYPE-KEY): :DESCRIPTION
   Arg 4 (TYPE-VAL): "an array"

DBG:CHECK-ARG-1:  (P.C. = 23)
   Arg 0 (ARGNAME): ARRAY
   Arg 1 (OLD-VALUE): ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME")
   Arg 2 (DESCRIPTION): "an array"

ARRAY-ACTIVE-LENGTH:  (P.C. = 123)
   Arg 0 (ARRAY): ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME")

APPEND-TO-ARRAY:  (P.C. = 10)
   Arg 0 (TO-ARRAY): "(To: Bug-Lispm Re: "
   Arg 1 (FROM-ARRAY): ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME")
   --Defaulted args:--
   Arg 2 (FROM-START): 0.
   Arg 3 (FROM-END): NIL

(:METHOD ZWEI:MAIL-BUFFER :DESCRIPTION):  (P.C. = 101)
   Arg 0 (SELF): #<MAIL-BUFFER "*Mail-3*" 20134412>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:MAIL-BUFFER -- 0. IV's, 4. FL's 103037427>
   Arg 2 (OPERATION): :DESCRIPTION

ZWEI:LIST-BUFFERS-INTERNAL:  (P.C. = 141)
   Arg 0 (STREAM): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 5402030 exposed>
   Arg 1 (PRINTER): #<DTP-COMPILED-FUNCTION (:INTERNAL ZWEI:COM-LIST-BUFFERS 0.) 44637550>
   Arg 2 (WIDTH): 95.
   Arg 3 (PERIOD-FLAG): NIL
   Arg 4 (APROPOS): NIL

Rest of stack:
ZWEI:COM-LIST-BUFFERS:  (P.C. = 15)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:  (P.C. = 77)
SYS:CALL-FUNNY-FUNCTION:  (P.C. = 101)
Closure of ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
13-Sep-84 11:11:07-EDT,3512;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 11:10-EDT
Date: Thursday, 13 September 1984, 11:10-EDT
From: Webster Dove <dove at MIT-BUGS-BUNNY>
Subject: bug in squishing mixin
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

Some sort of bug in hardcopy output??

>>Trap: The subscripts given to the AS-2 instruction, 61 and 1, on #<ART-1B-400-1 13174520> were beyond the limits, 
           400 by 1
While in the function (:METHOD SI:HARDCOPY-STREAM-FONT-WITH-SQUISHING-MIXIN :AFTER :SHOW-CHAR)  (:METHOD LGP:PAGE-BUFFERING-LGP-TEXT-STREAM :COMBINED :SHOW-CHAR)  (:METHOD SI:BASIC-HARDCOPY-STREAM :TYO)

(:METHOD SI:HARDCOPY-STREAM-FONT-WITH-SQUISHING-MIXIN :AFTER :SHOW-CHAR):  (P.C. = 6)
   Arg 0 (SELF): #<PAGE-BUFFERING-LGP-TEXT-STREAM 13174444>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:HARDCOPY-STREAM-FONT-WITH-SQUISHING-MIXIN -- 3. IV's, 0. FL's 4320420>
   Arg 2 (OPERATION): :SHOW-CHAR
   Arg 3 (CHAR): 61

(:METHOD LGP:PAGE-BUFFERING-LGP-TEXT-STREAM :COMBINED :SHOW-CHAR):  (P.C. = 32)
   Arg 0 (SELF): #<PAGE-BUFFERING-LGP-TEXT-STREAM 13174444>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor LGP:PAGE-BUFFERING-LGP-TEXT-STREAM -- 1. IV's, 8. FL's 4320446>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD SI:BASIC-HARDCOPY-STREAM :TYO):  (P.C. = 104)
   Arg 0 (SELF): #<PAGE-BUFFERING-LGP-TEXT-STREAM 13174444>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-HARDCOPY-STREAM -- 27. IV's, 0. FL's 4320365>
   Arg 2 (OPERATION): :TYO
   Arg 3 (CHAR): 61

(:METHOD SI:OUTPUT-STREAM :STRING-OUT):  (P.C. = 21)
   Arg 0 (SELF): #<PAGE-BUFFERING-LGP-TEXT-STREAM 13174444>
   Arg 1 (SELF-MAPPING-TABLE): SI:OUTPUT-STREAM
   Arg 2 (OPERATION): :STRING-OUT
   Arg 3 (STRING): "1 (3 hosts)"
   Arg 4 (START): 0
   Arg 5 (END): NIL

(:METHOD HACKS:NET-GRAPH-HARDCOPY :STRING-OUT):  (P.C. = 13)  (from TWEETY-PIE:>util>netmap)
   Arg 0 (SELF): #<NET-GRAPH-HARDCOPY 10747500>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor HACKS:NET-GRAPH-HARDCOPY -- 3. IV's, 1. FL's 4325042>
   Arg 2 (OPERATION): :STRING-OUT
   Arg 3 (TEXT): "1 (3 hosts)"
   --Defaulted args:--
   Arg 4 (START): 0
   Arg 5 (END): NIL

(:METHOD HACKS:NET-GRAPH-SUBNET :DISPLAY):  (P.C. = 117)  (from TWEETY-PIE:>util>netmap)
   Arg 0 (SELF): #<NET-GRAPH-SUBNET 13172606>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor HACKS:NET-GRAPH-SUBNET -- 8. IV's, 0. FL's 4322635>
   Arg 2 (OPERATION): :DISPLAY
   Arg 3 (WINDOW): #<NET-GRAPH-HARDCOPY 10747500>

(:INTERNAL (:METHOD HACKS:NET-GRAPH :DISPLAY-TREE) 2):  (P.C. = 5)
   Arg 0 (IGNORE): 1
   Arg 1 (SN): #<NET-GRAPH-SUBNET 13172606>
   Arg 2 (X-WINDOW): #<NET-GRAPH-HARDCOPY 10747500>

(:METHOD SI:EQ-HASH-TABLE :MAP-HASH):  (P.C. = 103)
   Arg 0 (SELF): #<EQ-HASH-TABLE 13170436>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:EQ-HASH-TABLE -- 7. IV's, 0. FL's 41141740>
   Arg 2 (OPERATION): :MAP-HASH
   Arg 3 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL (:METHOD HACKS:NET-GRAPH :DISPLAY-TREE) 2) 22404631>
   Rest arg (ARGS): NIL

Rest of stack:
(:METHOD HACKS:NET-GRAPH :DISPLAY-TREE):  (P.C. = 147)  (from TWEETY-PIE:>util>netmap)
HACKS:NET-GRAPH:  (P.C. = 15)  (from TWEETY-PIE:>util>netmap)
SI:*EVAL:  (P.C. = 370)
HACKS:DEMO:  (P.C. = 71)
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL:  (P.C. = 7)
13-Sep-84 12:17:46-EDT,842;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 12:17-EDT
Date: 13 September 1984 12:17-EDT
From: Tim McNerney <TIM @ MIT-MC>
Subject:  DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: DCP @ SCRC-RIVERSIDE
cc: BUG-LISPM @ MIT-MC, TIM @ MIT-MC

    From: DCP
    (defsubst foo-foo (.foo.)
      (symeval-in-instance .foo. 'foo))

What if some loser wants to have an instance variable that has the
same name as the flavor with dots around it?  I.e:

  (defsubst foo-.foo. (.foo.)
    (symeval-in-instace .foo. '.foo.))

If you are going to perform any transformation on the flavor name
before you use it as a lambda variable in the subst, why don't you use
(GENTEMP flavor-name) which will guarantee a unique symbol.  Thus:

  (defsubst foo-foo (foo-23)
    (symeval-in-instance foo-23 'foo))
13-Sep-84 16:09:21-EDT,454;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 16:08-EDT
Date: Thursday, 13 September 1984, 15:57-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Elvis Presley:

This error message implies that all arguments to MEMQ should be a list
or NIL.

>>Trap: Some argument to MEMQ was not a list or NIL.
While in the function EVAL-GO  EVAL-PROG-BODY  EVAL-PROG-BODY
13-Sep-84 16:14:19-EDT,299;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 16:12-EDT
Date: Thursday, 13 September 1984, 16:03-EDT
From: David Chapman <Zvona at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Elvis Presley:

*CATCH should have a return-list declaration.
13-Sep-84 16:44:21-EDT,673;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Sep 84 16:43-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90356; Thu 13-Sep-84 13:23:30-EDT
Date: Thursday, 13 September 1984, 13:21-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Microwave unreliability
To: Networks at SCRC-TENEX, Bug-LispM at MIT-OZ
Message-ID: <840913132156.3.DCP@NEPONSET.SCRC.Symbolics>

The cause of microwave flakies could very well be inconsistent download
files on Quabbin and Stony-Brook.  I have correct this.  The next time
it boots, it should get the right version from both machines and may
stay up for more than 10 minutes.
13-Sep-84 16:45:00-EDT,1129;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Sep 84 16:44-EDT
Received: from SCRC-TURKEY by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90416; Thu 13-Sep-84 15:47:14-EDT
Date: Thursday, 13 September 1984, 15:46-EDT
From: Gerry Smith <gsmith at SCRC-YUKON>
Subject: dbg:load-error-table uses wrong pathname for ucode error files for VMS syshosts
To: CJL at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 10 Sep 84 14:13-EDT from CJL at MIT-OZ
Message-ID: <840913154621.1.GSMITH@TURKEY.SCRC.Symbolics>

    Date: Monday, 10 September 1984, 14:13-EDT
    From: CJL at MIT-OZ

    In Release 5.1, Experimental MIT 1.4, microcode TMC5-MIC 296, FEP 18, on Lisp Machine Jimi Hendrix (3600):

    The correct filename was PIG:USRD$:[S.R5.LUCODE]M.ERR;296

    >>Error: file not found
	     For PIG:USRD$:[S.R5.LUCODE]TMC5MIC.ERR;296
    While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:OPEN-CHAOS  (:METHOD FS:QFILE-ACCESS-PATH :OPEN)

Thanks for reporting this.  Fortunately the problem was found in-house
in time to make it into 5.2, which you should be getting sometime soon.
13-Sep-84 17:03:59-EDT,2854;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 17:01-EDT
Date: Thursday, 13 September 1984, 17:01-EDT
From: PAO at MIT-OZ
Sender: CGA at MIT-OZ
Subject: Losing network interface?
To: BUG-LISPM at MIT-OZ, BUG-SYMBOLICS-HARDWARE at MIT-OZ
Cc: PAO at MIT-OZ, CGA at MIT-OZ, CHAE at MIT-OZ

In Release 5.1, Experimental MIT 1.5, Experimental Puma 4.0, FEP 18, on Lisp Machine Robot-2 (3600):

We can communicate with our PDP-11 over the net for some time with no
problems.  Suddenly, the Lisp Machine apparently stops listening to the
network, because the user process sits waiting for packets, the connection
indicates that there are no incoming packets waiting, and haven't been
for some time.  The -11 is indeed sending the packets.  A hostat at this
time gets into the following state, in which it will stay until
doomsday.  This can be made to happen at will with the -11 sending many
maximum size packets (about a total of 192K bytes).  It happens on both
Robot-2 and Robot-3.  It also happened on Robot-2 after swapping the
network interface board.  This has started happening rather recently, as
the same operations have succeeded in the past.

Note: The user process which grabs packets from the connection does not
wait in CHAOS:GET-PKT, but waits for one of several possible events, one
of which is packets waiting in the connection.  (NETI:RESET) seems to
clear up the problem, allowing communication up to the point where it
breaks.  It is quite repeatable.  

A speedy response to this problem would be appreciated, as our work is
currently on hold.

>>Break: 
While in the function PROCESS-WAIT  NETI:ALLOCATE-PACKET-BUFFER  CHAOS:GET-PKT

PROCESS-WAIT:
   Arg 0 (WHOSTATE): "Packet Buffer"
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL NETI:ALLOCATE-PACKET-BUFFER 0.) 46623166>
   Rest arg (ARGUMENTS): NIL

NETI:ALLOCATE-PACKET-BUFFER:  (P.C. = 136)
   Arg 0 (WAIT-P): T

CHAOS:GET-PKT:  (P.C. = 5)
   --Defaulted args:--
   Arg 0 (WAIT-P): T

CHAOS:OPEN-CONNECTION:  (P.C. = 66)
   Arg 0 (HOST): 4870.
   Arg 1 (CONTACT-NAME): "STATUS"
   Arg 2 (WINDOW-SIZE): 1.

CHAOS:POLL-HOSTS:  (P.C. = 211)
   Arg 0 (HOSTS): (OZ)
   Arg 1 (CONTACT-NAME): "STATUS"
   Arg 2 (HEADING-FCN): #<DTP-COMPILED-FUNCTION CHAOS:HOSTAT-HEADING 7110317>
   Arg 3 (FORMAT-FCN): #<DTP-COMPILED-FUNCTION CHAOS:HOSTAT-FORMAT-ANS 7110350>
   --Defaulted args:--
   Arg 4 (SKIP-CLOSED-CONNECTIONS): NIL
   Arg 5 (WHOSTATE): "Host Reply"

CHAOS:HOSTAT-INTERNAL:  (P.C. = 7)
   Rest arg (HOSTS): (OZ)

HOSTAT:  (P.C. = 10)
   Rest arg (HOSTS): (OZ)

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (HOSTAT (QUOTE OZ))

Rest of stack:
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
13-Sep-84 17:05:29-EDT,1551;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Sep 84 17:03-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90360; Thu 13-Sep-84 13:27:45-EDT
Date: Thursday, 13 September 1984, 13:26-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: bug sending bug reports
To: Cory Myers <cory at MIT-BUGS-BUNNY>, JCMA at MIT-OZ,
    Gavan Duffy <GAVAN at MIT-OZ>, David C. Plummer <DCP at SCRC-TENEX>,
    Bug-LispM at MIT-OZ
In-Reply-To: The message of 12 Sep 84 13:47-EDT from Cory Myers <cory at MIT-BUGS-BUNNY>,
             The message of 13 Sep 84 01:25-EDT from JCMA at MIT-OZ,
             The message of 13 Sep 84 01:28-EDT from Gavan Duffy <GAVAN at MIT-OZ>,
             The message of 13 Sep 84 01:30-EDT from JCMA at MIT-OZ,
             The message of 13 Sep 84 05:37-EDT from JCMA at MIT-OZ,
             <840913093012.9.DCP@NEPONSET.SCRC.Symbolics>
Supersedes: <840913132602.4.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840913132633.5.DCP@NEPONSET.SCRC.Symbolics>

OK folks, I don't want to here anything more from you people until you
fix your init files:

pig:[jcma]lispmini.lsp:
    (DEFUN INITIALIZE-VARIABLES ()
      (LOGIN-SETQ
	...
	ZWEI:*HOST-FOR-BUG-REPORTS* "OZ"		; Where to BUG- people.
	...))

I wasn't able to get to Gavan's or Cory's files because the microwave
went down (again).

That variable is supposed to contain a host object these days.

If JCMa fixes his init file he can also take out the kludge at the
beginning that bypasses the problem.
13-Sep-84 17:06:43-EDT,1667;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 17:04-EDT
Received: from SCRC-CUYAHOGA by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90287; Thu 13-Sep-84 10:49:14-EDT
Date: Thu, 13 Sep 84 10:48 EDT
From: "Robert A. Cassels" <Cassels@SCRC-RIVERSIDE.ARPA>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: DCP@SCRC-RIVERSIDE.ARPA, TIM@MIT-MC.ARPA, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: <840912200531.4.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840913104813.8.CASSELS@CUYAHOGA.SCRC.Symbolics>

    Date: Wednesday, 12 September 1984, 20:05-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

	Date: 10 September 1984 10:37-EDT
	From: Tim McNerney <TIM @ MIT-MC>

	...in the case where an instance variable has the same name as the
	flavor.  For instance:

	  (defflavor foo
		(foo
		 bar)
		()
	    :outside-accessible-instance-variables)

	generates two defsubst that look essentially like this

	  (defsubst foo-foo (foo)
	    (symeval-in-instance foo 'foo)

	  (defsubst foo-bar (foo)
	    (symeval-in-instance foo 'bar)

	Guess what SUBST is going to do in the FOO-FOO case?

    In the source (and 258.3 and therefore Release 6) it makes the
    argument of the SUBST have dots around the argument name and the
    references.  Therefore, you will get
	  (defsubst foo-foo (.foo.)
	    (symeval-in-instance .foo. 'foo)

	  (defsubst foo-bar (.foo.)
	    (symeval-in-instance .foo. 'bar)

That fixes this example, but....  The argument should be a GENSYM, so
there's no possible conflict.  Note that the same symbol can be used for
all the DEFSUBSTs, if you're worried about consing.
13-Sep-84 17:08:21-EDT,1186;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 17:05-EDT
Received: from SCRC-CUYAHOGA by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90383; Thu 13-Sep-84 14:09:51-EDT
Date: Thu, 13 Sep 84 14:08 EDT
From: "Robert A. Cassels" <Cassels@SCRC-RIVERSIDE.ARPA>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: DCP@SCRC-RIVERSIDE.ARPA, Cassels@SCRC-RIVERSIDE.ARPA,
    TIM@MIT-MC.ARPA, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: <840913111352.4.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840913140848.9.CASSELS@CUYAHOGA.SCRC.Symbolics>

    Date: Thursday, 13 September 1984, 11:13-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

	Date: Thursday, 13 September 1984, 10:48-EDT
	From: Robert A. Cassels <Cassels at SCRC-TENEX>

	That fixes this example, but....  The argument should be a GENSYM, so
	there's no possible conflict.  Note that the same symbol can be used for
	all the DEFSUBSTs, if you're worried about consing.

    Mumble.  I believe dots are sufficiently safe.  See the reply I sent to
    Margolin.  If you want to change it, go ahead.

An ounce of prevention....
In the source.  I don't care whether it gets patched.
13-Sep-84 19:22:46-EDT,1015;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Sep 84 19:21-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90590; Thu 13-Sep-84 19:13:41-EDT
Date: Thursday, 13 September 1984, 19:12-EDT
From: David A. Moon <Moon at SCRC-TENEX>
To: David Chapman <Zvona at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Sep 84 15:57-EDT from David Chapman <Zvona at MIT-OZ>
Message-ID: <840913191227.4.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Thursday, 13 September 1984, 15:57-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Elvis Presley:

    This error message implies that all arguments to MEMQ should be a list
    or NIL.

    >>Trap: Some argument to MEMQ was not a list or NIL.
    While in the function EVAL-GO  EVAL-PROG-BODY  EVAL-PROG-BODY

Thank you.  I fixed this typographical error in the microcode source,
so the problem should hopefully be fixed in the next release.
13-Sep-84 19:26:49-EDT,994;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 19:25-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 80881; Wed 12-Sep-84 21:10:12-EDT
Date: Wed, 12 Sep 84 21:12 EDT
From: "David C. Plummer" <DCP@TENEX.SCRC.Symbolics>
Subject: Re: DEFSUBST will screw up
         :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: Barry Margolin <Margolin@MULTICS.MIT>
cc: "David C. Plummer" <DCP@TENEX.SCRC.Symbolics>,
    Tim McNerney <TIM@MIT-MC.ARPA>, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: <840913001920.066724@MIT-MULTICS.ARPA>
Message-ID: <840912211200.0.DCP@NEPONSET.SCRC.Symbolics>

    Date:  Wed, 12 Sep 84 20:19 EDT
    From:  Barry Margolin <Margolin@MIT-MULTICS.ARPA>

    Why not use a gensym?

(1) Because G0392 doesn't give the user any hints,
(2) it doesn't show up in a disassembly,
(3) Putting dots around things is a somewhat standard convention of
    giving names to variables created by macros.  Users aren't supposed
    to use them.
13-Sep-84 19:28:03-EDT,1009;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 19:27-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81010; Thu 13-Sep-84 11:11:51-EDT
Date: Thursday, 13 September 1984, 11:13-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: Robert A. Cassels <Cassels at SCRC-TENEX>, DCP at SCRC-TENEX,
    TIM at MIT-MC, BUG-LISPM at MIT-MC
In-Reply-To: <840913104813.8.CASSELS@CUYAHOGA.SCRC.Symbolics>
Message-ID: <840913111352.4.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 13 September 1984, 10:48-EDT
    From: Robert A. Cassels <Cassels at SCRC-TENEX>

    That fixes this example, but....  The argument should be a GENSYM, so
    there's no possible conflict.  Note that the same symbol can be used for
    all the DEFSUBSTs, if you're worried about consing.

Mumble.  I believe dots are sufficiently safe.  See the reply I sent to
Margolin.  If you want to change it, go ahead.
13-Sep-84 20:22:06-EDT,2152;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 13 Sep 84 20:21-EDT
Received: from MIT-MC by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 22517; Thu 13-Sep-84 20:03:34-EDT
Date: Thu, 13 Sep 1984  14:24 EDT
Message-ID: <DICK.12047290801.BABYL@MIT-OZ>
Sender: DICK%MIT-OZ@MIT-MC.ARPA
From: Dick@MIT-MC
To:   Carl Hoffman <CWH@SCRC-RIVERSIDE.ARPA>
Cc:   BUG-LISPM%MIT-OZ@SCRC-RIVERSIDE.ARPA, Moon@SCRC-RIVERSIDE.ARPA
Subject: problem with format directive ~T
In-reply-to: Msg of 12 Sep 1984  11:54-EDT from Carl Hoffman <CWH at SCRC-RIVERSIDE.ARPA>


Sorry for the brain damage in my last message.  Let me try again.
It seems that what ~n,mT does now (assuming c is the current position) is:

    if c<n then c <- n
    if c>=n then c <- mk -- for the smallest k such that c<mk

while what the Common Lisp manual say that it should:

    if c<n then c <- n
    if c>=n then c <- n+mk -- for the smallest k such that c<(n+mk)

However, the wording in the manual is a bit vague as to whether it is
"k such that c<(n+mk)" or "k such that c<=(n+mk)".  It should be noted that
current Maclisp uses the <= interpretation.

Note that the Common Lisp manual defines ~n,m@T to be

    c <- mk -- for the smallest k such that (c+n)<=mk

Which is different from either of the above.  Though its processing of m 
is much more like what ~T does now than what ~T should do.

----

My point was the following:

In every lisp manual I can find (ie common lisp and various lisp machine 
manuals) the statement of what ~T should do is word for word the same,
indicating that the definition has simply been copied for years without
thought.

I had the idea that this bug may have existed in format for a very long
time.  (It is interesting to note that current Maclisp seems to do what the
manual says.)  

I also had the thought that in many ways what ~T does now seems a lot more
sensible than what the manual says.  Maybe the documentation should be changed,
and not the code.  But all in all I expect that since the common lisp
manual is all done now, this change would hardly worth doing in any event.

			Dick
13-Sep-84 20:43:16-EDT,1213;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Sep 84 20:42-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90693; Thu 13-Sep-84 20:43:26-EDT
Date: Thursday, 13 September 1984, 20:41-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Losing network interface?
To: PAO at MIT-OZ, BUG-LISPM at MIT-OZ, BUG-SYMBOLICS-HARDWARE at MIT-OZ
cc: CGA at MIT-OZ, CHAE at MIT-OZ
In-Reply-To: The message of 13 Sep 84 17:01-EDT from PAO at MIT-OZ
Message-ID: <840913204155.2.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 13 September 1984, 17:01-EDT
    From: PAO at MIT-OZ

    In Release 5.1, Experimental MIT 1.5, Experimental Puma 4.0, FEP 18, on Lisp Machine Robot-2 (3600):

    A speedy response to this problem would be appreciated, as our work is
    currently on hold.

Do (chaos:collect-allocated-chaos-packets).  If that returns a long
list, that is where all the packets are.  It indicates some entity isn't
returning packets.  Look at the source, destination and especially the
opcode (e.g., is it all EOF packets).

If the list is short, you've got me stumped.

Also do (chaos:print-recent-headers) to see the history of packets.
13-Sep-84 20:50:55-EDT,1749;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 13 Sep 84 20:50-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90700; Thu 13-Sep-84 20:51:21-EDT
Date: Thursday, 13 September 1984, 20:49-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: Tim McNerney <TIM at MIT-MC>, DCP at SCRC-RIVERSIDE
cc: BUG-LISPM at MIT-MC
In-Reply-To: The message of 13 Sep 84 12:17-EDT from Tim McNerney <TIM at MIT-MC>
Message-ID: <840913204957.4.DCP@NEPONSET.SCRC.Symbolics>

    Date: 13 September 1984 12:17-EDT
    From: Tim McNerney <TIM @ MIT-MC>

	From: DCP
	(defsubst foo-foo (.foo.)
	  (symeval-in-instance .foo. 'foo))

    What if some loser wants to have an instance variable that has the
    same name as the flavor with dots around it?  I.e:

      (defsubst foo-.foo. (.foo.)
	(symeval-in-instace .foo. '.foo.))

As I said in my message to Margolin (which finally made its way around
the world and back), there seems to be a convention that users should
not use symbols with .s around their names.  They are for the names of
local variables used by macros (to avoid using GENSYM all the time).
Anyway, as you'll see when more mail winds around the universe, we're
really going to fix this right!

    If you are going to perform any transformation on the flavor name
    before you use it as a lambda variable in the subst, why don't you use
    (GENTEMP flavor-name) which will guarantee a unique symbol.  Thus:

      (defsubst foo-foo (foo-23)
	(symeval-in-instance foo-23 'foo))

My machine doesn't have GENTEMP.  If it did, I would be running Common
Lisp which wouldn't have your original problem anyway...
13-Sep-84 23:35:32-EDT,1551;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 13 Sep 84 23:34-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 80990; Thu 13-Sep-84 09:28:14-EDT
Date: Thursday, 13 September 1984, 09:30-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: bug sending bug reports
To: Cory Myers <cory at MIT-BUGS-BUNNY>, JCMA at MIT-OZ,
    Gavan Duffy <GAVAN at MIT-OZ>
cc: BUG-LISPM at SCRC-TENEX, Bug-LispM at MIT-OZ
In-Reply-To: The message of 12 Sep 84 13:47-EDT from Cory Myers <cory at MIT-BUGS-BUNNY>,
             The message of 13 Sep 84 01:25-EDT from JCMA at MIT-OZ,
             The message of 13 Sep 84 01:28-EDT from Gavan Duffy <GAVAN at MIT-OZ>,
             The message of 13 Sep 84 01:30-EDT from JCMA at MIT-OZ,
             The message of 13 Sep 84 05:37-EDT from JCMA at MIT-OZ
Message-ID: <840913093012.9.DCP@NEPONSET.SCRC.Symbolics>

All of these bugs are because zwei:*host-for-bug-reports* is a string,
not a host object.  That used to work in Release 4, but not 5.  I can't
get to MIT right now (microwave down), so I can't poke around on
machines to find out why.  (I was able to get to Morrison before the
microwave barfed, but it was running 5.1 and it had a host object in
that variable.)  Last night somebody looked at the MIT host object, and
it was OK, and the namespace system should enforce that a host object is
put in that variable.  Therefore, the speculation is that somebody set
it to a string either as part of their init file or part of customizing
5.2 for MIT.
13-Sep-84 23:39:23-EDT,4028;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 13 Sep 84 23:38-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 80993; Thu 13-Sep-84 09:35:52-EDT
Date: Thursday, 13 September 1984, 09:37-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Typed CONTROL-X CONTROL-B
To: JCMA at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Sep 84 06:09-EDT from JCMA at MIT-OZ
Message-ID: <840913093750.2.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 13 September 1984, 06:09-EDT
    From: JCMA@MIT-OZ

    In Symbolics 3600 Release 5.2, Experimental RELATUS 130.37, FEP 18, on Lisp Machine John Lennon:

    >>Error: The argument ARRAY to ARRAY-ACTIVE-LENGTH, ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME"), was of the wrong type.
	     The function expected an array.
    While in the function SEND  SIGNAL  DBG:CHECK-ARG-2

I think this is because you spazzed in sending your previous bug-report.
The header was

    From: JCMA@MIT-OZ
    Subject: bug-zmail@oz
	     Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME
    To: Bug-Lispm@MIT-OZ

Note the two line subject field instead of two recipients.  In the
development system, and therefore in release 6 List/Edit Buffers does
something a bit more reasonable and gives you two lines like this

   *Mail-3*                                   (To:  Re: foobar@mumble
                                                                                (Text)

    SEND:  (P.C. = 6)
       Arg 0 (OBJECT): #<CHECK-ARG 20175203>
       Arg 1 (MESSAGE-NAME): :SIGNAL
       Rest arg (ARGUMENTS): (T)

    SIGNAL:  (from RL: UTILS; KLUDGES)
       Arg 0 (FLAVOR): CHECK-ARG
       Rest arg: (:FUNCTION #<DTP-COMPILED-FUNCTION ARRAY-ACTIVE-LENGTH 24424472> :ARG-NAME ARRAY :OLD-VALUE ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME") :DESCRIPTION "an array" :ARG-NUMBER NIL ...)

    DBG:CHECK-ARG-2:  (P.C. = 63)
       Arg 0 (FLAVOR): CHECK-ARG
       Arg 1 (ARGNAME): ARRAY
       Arg 2 (OLD-VALUE): ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME")
       Arg 3 (TYPE-KEY): :DESCRIPTION
       Arg 4 (TYPE-VAL): "an array"

    DBG:CHECK-ARG-1:  (P.C. = 23)
       Arg 0 (ARGNAME): ARRAY
       Arg 1 (OLD-VALUE): ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME")
       Arg 2 (DESCRIPTION): "an array"

    ARRAY-ACTIVE-LENGTH:  (P.C. = 123)
       Arg 0 (ARRAY): ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME")

    APPEND-TO-ARRAY:  (P.C. = 10)
       Arg 0 (TO-ARRAY): "(To: Bug-Lispm Re: "
       Arg 1 (FROM-ARRAY): ("bug-zmail@oz" "Methods that need to be added to ZMACS-FRAME and ZMAIL-FRAME")
       --Defaulted args:--
       Arg 2 (FROM-START): 0.
       Arg 3 (FROM-END): NIL

    (:METHOD ZWEI:MAIL-BUFFER :DESCRIPTION):  (P.C. = 101)
       Arg 0 (SELF): #<MAIL-BUFFER "*Mail-3*" 20134412>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:MAIL-BUFFER -- 0. IV's, 4. FL's 103037427>
       Arg 2 (OPERATION): :DESCRIPTION

    ZWEI:LIST-BUFFERS-INTERNAL:  (P.C. = 141)
       Arg 0 (STREAM): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 5402030 exposed>
       Arg 1 (PRINTER): #<DTP-COMPILED-FUNCTION (:INTERNAL ZWEI:COM-LIST-BUFFERS 0.) 44637550>
       Arg 2 (WIDTH): 95.
       Arg 3 (PERIOD-FLAG): NIL
       Arg 4 (APROPOS): NIL

    Rest of stack:
    ZWEI:COM-LIST-BUFFERS:  (P.C. = 15)
    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
    ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:  (P.C. = 77)
    SYS:CALL-FUNNY-FUNCTION:  (P.C. = 101)
    Closure of ZWEI:MAKE-EXTENDED-COMMAND-INTERNAL:
    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
    ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
    (:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
    (:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
    ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
13-Sep-84 23:40:32-EDT,1237;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 13 Sep 84 23:40-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81149; Thu 13-Sep-84 19:30:09-EDT
Date: Thursday, 13 September 1984, 19:31-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: *CATCH needs values declaration
To: David Chapman <Zvona at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 13 Sep 84 16:03-EDT from David Chapman <Zvona at MIT-OZ>
Message-ID: <840913193154.2.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 13 September 1984, 16:03-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Elvis Presley:

    *CATCH should have a return-list declaration.

That may be true, but instead I should try to persuade you to use CATCH
instead.  (The CATCH I'm talking about doesn't exist on LM-2s, but that
may not be an issue.)  CATCH returns the values (all of them) of the
implicit body.  You can also THROW multiple values.  That is
	(catch 'foo (values 1 2 3)) and
	(catch 'foo (throw 'foo (values 1 2 3)))
each return three values.

This is the Common Lisp version of CATCH and THROW.  *CATCH and *THROW
will hopefully go away at that time.
13-Sep-84 23:54:39-EDT,1887;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 13 Sep 84 23:54-EDT
Received: from SCRC-HUDSON by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90825; Thu 13-Sep-84 23:51:41-EDT
Date: Thursday, 13 September 1984, 23:51-EDT
From: Robert W. Kerns <RWK at SCRC-YUKON>
Subject: Syncing terminals
To: David C. Plummer in disguise <DCP at SCRC-TENEX>
cc: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
In-Reply-To: <840912125917.4.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840913235144.8.RWK@HUDSON.SCRC.Symbolics>

    Date: Wednesday, 12 September 1984, 12:59-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>
	Also, how do you tell which terminal type you have by looking at it?
    I don't know if you can tell from the outside.  [You aren't hearing my
    say this] If you take off the top, you find about 5 accessibly knobs on
    the Philips but none on the Moniter (they're hidden someplace else).

Facing the monitor from the front, you can look at PC board on
the left facing toward the center of the box (not the one facing
toward the outside on the extreme left).  You can see the adjustments
through the grill, without opening the cabinet or otherwise endangering
yourself or your warranty.

	I can imagine the terminals getting switched around for various
	reasons, like if one breaks or machines get moved, and the only way
	I can think of aside from maybe opening up the terminal is to see
	which sync program works.
Yes, but once you have the FEP proms with the right sync
programs, switching them means you forgo that, unless you
get Service to do it for you.  Which kind of monitor goes
with which machine is controlled by a prom inside the
machine.  The Load Sync command is intended to be helpful,
but it's worth trying to keep the right monitor on the
right machine.  (Or it would be, if it worked...)
14-Sep-84 00:02:11-EDT,2422;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 14 Sep 84 00:00-EDT
Received: from SCRC-HUDSON by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 90829; Fri 14-Sep-84 00:00:00-EDT
Date: Friday, 14 September 1984, 00:00-EDT
From: Robert W. Kerns <RWK at SCRC-YUKON>
Subject: (viewf "sys:site;notice text")
To: David C. Plummer in disguise <DCP at SCRC-TENEX>
cc: ZVONA at MIT-OZ, BUG-LISPM at MIT-OZ,
    David Vinayak Wallace <GUMBY at MIT-MC>
In-Reply-To: <840911202008.5.NFEP@NEPONSET.SCRC.Symbolics>
Message-ID: <840914000001.9.RWK@HUDSON.SCRC.Symbolics>

    Date: Tuesday, 11 September 1984, 20:20-EDT
    From: David C. Plummer in disguise <DCP at SCRC-TENEX>

	Date: Tue, 11 Sep 1984  11:59 EDT
	From: ZVONA@MIT-OZ

	    Date: Tuesday, 11 September 1984, 08:41-EDT
	    From: David C. Plummer in disguise <DCP at SCRC-TENEX>
	    To:   David Vinayak Wallace <GUMBY at MIT-MC>, DCP at SCRC-QUABBIN
	    cc:   BUG-LISPM
	    Re:   (viewf "sys:site;notice text")

		Date: 10 September 1984 14:09-EDT
		From: David Vinayak Wallace <GUMBY @ MIT-MC>

		It would be a gross kluge, but maybe it should check the pathnamesupplied
		to OPEN.  All I'm saying is that the  very first thing some new luser tries
		(especially something he's instructed to trry) ought to be doable.
	    I understand.  The problem is modularity without resorting to gross
	    kludges.  I would prefer to put the hack in viewf instead of OPEN.  If
	    it went in open, it would likely bypass some automatic, temporary login
	    for reading microcode error tables, etc.

	Bleagh.  Why don't you put the text into a string variable in the band instead.

    Don't look at me!  I was obnoxed when I heard about this thing.

I would have prefered to do that.  Unfortunately, because of some
@#$(*&@#$(*& goverment contract restrictions, sometimes the message
has to be changed at a site to reference a specific contract number.

It's a lot easier to supply an additional tape with the right stuff
than to supply a tape with a different world with a different string.

How do you get around the SYS host requiring login?

By the way, the command to view the file doesn't HAVE to be VIEWF.
We could have (VIEW-TRADE-SECRET-NOTICE) instead.  And if someone
wants to come up with an alternate scheme for supplying alternate
notices that doesn't involve login to some host, that would be
great.
14-Sep-84 00:06:40-EDT,748;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 00:04-EDT
Date: Thursday, 13 September 1984, 23:59-EDT
From: Patrick A. O'Donnell <PAO at MIT-EECS>
Subject: More on losing net interface
To: BUG-LISPM at MIT-OZ, BUG-PUMA at MIT-OZ
Cc: PAO at MIT-OZ, CGA at MIT-OZ, CHAE at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Obsolete Puma 3.26, FEP 18,
PUMA MANIPULATOR SYSTEM, on Lisp Machine Robot-2 (3600):

It appears to be an interaction between my code and something.  The
communcation with the Puma-11 works with my Puma version 3.5, but not
with 3.26 or 4.0.  I don't think I changed anything which communicates
with the net.  The patches were mainly user interface.  Any ideas what
might be causing the problem?

		- Pat
14-Sep-84 00:32:44-EDT,1168;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 00:31-EDT
Date: Fri, 14 Sep 1984  00:30 EDT
Message-ID: <HENRY.12047401115.BABYL@MIT-OZ>
From: HENRY%MIT-OZ@MIT-MC.ARPA
To:   "David C. Plummer" <DCP%SCRC-TENEX@MIT-MC.ARPA>
Cc:   BUG-LISPM@MIT-MC, DCP%SCRC-RIVERSIDE@MIT-MC.ARPA,
      Tim McNerney <TIM@MIT-MC>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
In-reply-to: Msg of 13 Sep 1984 20:49-EDT from David C. Plummer <DCP at SCRC-TENEX>


    As I said in my message to Margolin (which finally made its way around
    the world and back), there seems to be a convention that users should
    not use symbols with .s around their names.  

Then such conventions should be documented. The real problem with
such things, I think, is when some user decides to write a macro
that needs to hide a symbol from HIS users, and picks the same
weird character to surround his names. I hate to recommend the package
system for anything, but since its purpose is supposed to be the
separation of symbol spaces, maybe some symbol in the SI package
would be appropriate here, and relatively safe from user interference.

14-Sep-84 11:33:44-EDT,791;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 14 Sep 84 11:24-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81360; Fri 14-Sep-84 11:14:03-EDT
Date: Friday, 14 September 1984, 11:16-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: *CATCH needs values declaration
To: David C. Plummer <DCP at SCRC-TENEX>
cc: David Chapman <Zvona at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: <840913193154.2.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840914111637.5.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Thursday, 13 September 1984, 19:31-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>
    That may be true, but instead I should try to persuade you to use CATCH
    instead.  (The CATCH I'm talking about doesn't exist on LM-2s,

Yes it does.
14-Sep-84 12:40:25-EDT,2246;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 12:38-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91108; Fri 14-Sep-84 12:22:03-EDT
Date: Friday, 14 September 1984, 12:21-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: Robert A. Cassels <Cassels at SCRC-RIVERSIDE>, HENRY at MIT-OZ,
    DCP at SCRC-RIVERSIDE, Moon at SCRC-RIVERSIDE,
    MMcM at SCRC-RIVERSIDE
cc: BUG-LISPM at MIT-MC, TIM at MIT-MC
In-Reply-To: <840914100524.3.CASSELS@CUYAHOGA.SCRC.Symbolics>
Message-ID: <840914122107.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Fri, 14 Sep 84 10:05 EDT
    From: "Robert A. Cassels" <Cassels@SCRC-RIVERSIDE.ARPA>

	Date: Fri, 14 Sep 1984  00:30 EDT
	From: HENRY%MIT-OZ@MIT-MC.ARPA


	    As I said in my message to Margolin (which finally made its way around
	    the world and back), there seems to be a convention that users should
	    not use symbols with .s around their names.  

	Then such conventions should be documented. The real problem with
	such things, I think, is when some user decides to write a macro
	that needs to hide a symbol from HIS users, and picks the same
	weird character to surround his names. I hate to recommend the package
	system for anything, but since its purpose is supposed to be the
	separation of symbol spaces, maybe some symbol in the SI package
	would be appropriate here, and relatively safe from user interference.

    Such conventions are a hack intended to try to balance the desire for
    non-collision of names with the desire for meaningful names.  We should
    find a better way.  Perhaps the real solution is ininterned symbols of
    the meaningful name?

    In the FOO-FOO context:
    (defmacro test-foo (name)
      (let ((uninterned-name (make-symbol (get-pname name))))
	`(defsubst ,name (,uninterned-name)
	   (symeval-in-instance ,uninterned-name ',name))))

    (test-foo foo)

    (foo <c-sh-A> => FOO (SUBST): (FOO)
    (arglist 'foo) => (#:FOO)

    So we effectively have a GENSYM, but it has a more useful name.

    If this satisfies everyone, I'll fix DEFFLAVOR this way.

That's acceptable to me.
14-Sep-84 12:51:42-EDT,1057;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 14 Sep 84 12:50-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91141; Fri 14-Sep-84 12:47:14-EDT
Date: Friday, 14 September 1984, 12:46-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: *CATCH needs values declaration
To: David A. Moon <Moon at SCRC-TENEX>,
    David C. Plummer <DCP at SCRC-TENEX>
cc: David Chapman <Zvona at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: <840914111637.5.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840914124618.3.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 14 September 1984, 11:16-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

	Date: Thursday, 13 September 1984, 19:31-EDT
	From: David C. Plummer <DCP at SCRC-TENEX>
	That may be true, but instead I should try to persuade you to use CATCH
	instead.  (The CATCH I'm talking about doesn't exist on LM-2s,

    Yes it does.

Oh well.  I thought doggies couldn't throw multiple values.  I
should read the Magnum Opus and try to forget the ChineNual.
14-Sep-84 12:58:50-EDT,492;000000000000
Received: from MIT-ML by MIT-OZ via Chaosnet; 14 Sep 84 12:58-EDT
Date: Friday, 14 September 1984, 13:03-EDT
From: Patrick A. O'Donnell <PAO at MIT-EECS>
Subject: Losing network interface?
To: DCP at SCRC-TENEX
Cc: BUG-LISPM at MIT-OZ, CGA at MIT-OZ, CHAE at MIT-OZ, PAO at MIT-EECS
In-reply-to: <840913204155.2.DCP@NEPONSET.SCRC.Symbolics>

Thanks.  That helped.  It's amazing how much trouble a single missing
character can cause.  Especially when it's a "lowly" period.
		- Pat
14-Sep-84 13:12:13-EDT,640;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 13:10-EDT
Date: Fri, 14 Sep 1984  13:09 EDT
Message-ID: <KWH.12047539189.BABYL@MIT-OZ>
From: KWH%MIT-OZ@MIT-MC.ARPA
To:   HENRY%MIT-OZ@MIT-MC.ARPA
Cc:   BUG-LISPM@MIT-MC, DCP%SCRC-RIVERSIDE@MIT-MC.ARPA,
      "David C. Plummer" <DCP%SCRC-TENEX@MIT-MC.ARPA>,
      Tim McNerney <TIM@MIT-MC>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
In-reply-to: Msg of 14 Sep 1984  00:30-EDT from HENRY


If the relevant variable here only needs to be available lexically,
what's wrong with using an un-interned symbol generated with
MAKE-SYMBOL?

Ken
14-Sep-84 16:12:51-EDT,653;000000000000
Received: from MIT-APIARY-5 by MIT-OZ via Chaosnet; 14 Sep 84 16:12-EDT
Date: Friday, 14 September 1984, 16:14-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Problems with 5.2
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-5:

This worked in 5.1, but in 5.2 causes a hard crash that wedges the
machine, even stopping time.

(load "<Henry>Ezwin-Defsys")
(make-system 'beekeeper) ;; A minute or two.
(test-beekeeper) ;; Gives you mouse corners for making a window. Crashes after
                 ;; window appears.

I'll try to narrow it down a bit, but as you can imagine, its hard to do.

14-Sep-84 17:03:06-EDT,1264;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 14 Sep 84 17:02-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81550; Fri 14-Sep-84 16:54:42-EDT
Date: Friday, 14 September 1984, 16:58-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Problems with 5.2
To: Henry Lieberman <Henry at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 14 Sep 84 16:14-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840914165804.5.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 14 September 1984, 16:14-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-5:

    This worked in 5.1, but in 5.2 causes a hard crash that wedges the
    machine, even stopping time.

    (load "<Henry>Ezwin-Defsys")
    (make-system 'beekeeper) ;; A minute or two.
    (test-beekeeper) ;; Gives you mouse corners for making a window. Crashes after
		     ;; window appears.
It sounds like you can't even warm boot.  I would suggest doing the
(test-beekeeper) in another Lisp Listener, which would allow the
original one to be used during booting.  Maybe I'm totally off base?

    I'll try to narrow it down a bit, but as you can imagine, its hard to do.

14-Sep-84 17:03:35-EDT,2804;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 17:02-EDT
Received: from SCRC-HUDSON by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91267; Fri 14-Sep-84 15:18:09-EDT
Date: Fri, 14 Sep 84 15:18 EDT
From: "Robert W. Kerns" <RWK@YUKON.SCRC.Symbolics>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: "Robert A. Cassels" <Cassels@RIVERSIDE.SCRC.Symbolics>
cc: HENRY@OZ.MIT, DCP@RIVERSIDE.SCRC.Symbolics,
    Moon@RIVERSIDE.SCRC.Symbolics, MMcM@RIVERSIDE.SCRC.Symbolics,
    BUG-LISPM@MIT-MC.ARPA, TIM@MIT-MC.ARPA
In-Reply-To: <840914100524.3.CASSELS@CUYAHOGA.SCRC.Symbolics>
Message-ID: <840914151810.7.RWK@HUDSON.SCRC.Symbolics>

    Date: Fri, 14 Sep 84 10:05 EDT
    From: "Robert A. Cassels" <Cassels@SCRC-RIVERSIDE.ARPA>

	Date: Fri, 14 Sep 1984  00:30 EDT
	From: HENRY%MIT-OZ@MIT-MC.ARPA


	    As I said in my message to Margolin (which finally made its way around
	    the world and back), there seems to be a convention that users should
	    not use symbols with .s around their names.  

	Then such conventions should be documented. The real problem with
	such things, I think, is when some user decides to write a macro
	that needs to hide a symbol from HIS users, and picks the same
	weird character to surround his names. I hate to recommend the package
	system for anything, but since its purpose is supposed to be the
	separation of symbol spaces, maybe some symbol in the SI package
	would be appropriate here, and relatively safe from user interference.

    Such conventions are a hack intended to try to balance the desire for
    non-collision of names with the desire for meaningful names.  We should
    find a better way.  Perhaps the real solution is ininterned symbols of
    the meaningful name?

    In the FOO-FOO context:
    (defmacro test-foo (name)
      (let ((uninterned-name (make-symbol (get-pname name))))
	`(defsubst ,name (,uninterned-name)
	   (symeval-in-instance ,uninterned-name ',name))))

    (test-foo foo)

    (foo <c-sh-A> => FOO (SUBST): (FOO)
    (arglist 'foo) => (#:FOO)

    So we effectively have a GENSYM, but it has a more useful name.

    If this satisfies everyone, I'll fix DEFFLAVOR this way.

There were a lot of problems in MacLisp with this due
to loading the symbols from binary files.  There is a
fundamental conflict between retaining EQness and
maintaining distinctness.  I think, however, that since
the Lisp Machine does enough things with uninterned
symbols more correctly than MacLisp did, that you won't
see any of these problems without dealing in very
subtle issues like including macroexpansions in
datastructures in files.  I just tested the more usual
screw cases, and they all worked.

I think you should go ahead and do it.
14-Sep-84 17:11:26-EDT,1256;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 14 Sep 84 17:11-EDT
Received: from SCRC-MERRIMACK by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91382; Fri 14-Sep-84 17:12:31-EDT
Date: Friday, 14 September 1984, 17:11-EDT
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Problems with 5.2
To: Henry Lieberman <Henry at MIT-OZ>
Cc: BUG-LISPM at MIT-OZ
In-reply-to: The message of 14 Sep 84 16:14-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840914171114.1.MMCM@MERRIMACK.SCRC.Symbolics>

    Date: Friday, 14 September 1984, 16:14-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-5:

    This worked in 5.1, but in 5.2 causes a hard crash that wedges the
    machine, even stopping time.

    (load "<Henry>Ezwin-Defsys")
    (make-system 'beekeeper) ;; A minute or two.
    (test-beekeeper) ;; Gives you mouse corners for making a window. Crashes after
                     ;; window appears.

    I'll try to narrow it down a bit, but as you can imagine, its hard to do.

Works fine for me in 5.2 over here.  I was even able to make some workers and
links without getting stung.  You'll have to be more specific on the nature of
the crash.
14-Sep-84 18:09:31-EDT,1140;000000000000
Received: from MIT-APIARY-5 by MIT-OZ via Chaosnet; 14 Sep 84 18:09-EDT
Date: Friday, 14 September 1984, 18:12-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Visibility of windows
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-5:

I often find the behavior of the window system with overlapping
windows strange and counter-intuitive, not at all like the "sheets of
paper on a desktop" metaphor. 

Here's a simple example:

(SETQ W1 (TV:MAKE-WINDOW 'TV:WINDOW ':EDGES-FROM ':MOUSE ':EXPOSE-P T))
; #<WINDOW Window 4 640253 exposed>

(SETQ W2 (TV:MAKE-WINDOW 'TV:WINDOW ':EDGES-FROM ':MOUSE ':EXPOSE-P T))
; #<WINDOW Window 5 640351 exposed>

Draw the windows so that the upper left corner of the second window is
in the center of the first, and the lower right corner is outside the first
window. I would expect to see:

     ----------------
     |              |
     |       ----------------
     |W1     |              |
     --------|              |
             |W2            |
             ----------------

Instead, W1 disappears when W2 appears.



14-Sep-84 18:39:58-EDT,1567;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 18:39-EDT
Date: 14 September 1984 18:31-EDT
From: Richard Mlynarik <MLY @ MIT-MC>
Subject: "Time parse no longer accepts dates in European format" in rel5.2
To: bug-lispm @ MIT-OZ

I continue to be amazed at both the chauvinism and ignorance of
supposedly educated perople in the United States of America of
the existence of the rest of the world.

It may well be now, or have been in the recent past, that if "it's
not on the arpanet it doesn't count" but your software is going to
have to deal with the fact that NOBODY outside the USA would write
date formats in such a counter-intuitive, non-magnitude-monotonic
way as MM-DD-YY (at LEAST dd-mm-yy has the virtue of monotonicity,
if not in a direction consistent with the rest of human numerical
representation, and is in daily use by orders of magnitude more
people (albeit not all computer users) than the American format will
ever be)

To label such a format "European" (as in "UnAmerican") is to reveal
your ignorance, and to outlaw its use, even in unambiguous circumstances,
is to reinforce the sort of unthinking ignorant image that this country
has around much the rest of the world. (Or is symbol*cs secretly allied
with the State Department, and its effort to spread ill will around the
globe?)

I also refer you also to a recent message on common-lisp about similar issues.

Well, at least you accept the ISO format now.

Now, please try to be good boys and girls, or else I'll c-%centercentre
all your sources.
14-Sep-84 20:35:58-EDT,661;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 20:35-EDT
Received: by nprdc.ARPA (4.12/4.7)
	id AA00290; Fri, 14 Sep 84 17:37:20 pdt
Message-Id: <8409150037.AA00290@nprdc.ARPA>
Date: Friday, 14 September 1984, 17:42-PDT
From: Jim Hollan <hollan@nprdc>
Subject: sys:fonts; nlgp-1 in 5.2
To: bug-lispm%mit-oz@mit-mc
Cc: hollan@nprdc


In Symbolics 3600 Release 5.2, Color 1.0, FEP 18, on Maui (3600, Color):

	Is there a new logical pathname for lgp fonts with 5.2? When doing
a hardcopy file I get:

	>>Error: The logical pathname SYS: FONTS; NLGP1; is not defined

I thought the logical pathname was suppose to be sys: fonts; lgp-1;
14-Sep-84 20:44:48-EDT,2056;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 20:44-EDT
Received: from SCRC-CUYAHOGA by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91006; Fri 14-Sep-84 10:06:48-EDT
Date: Fri, 14 Sep 84 10:05 EDT
From: "Robert A. Cassels" <Cassels@SCRC-RIVERSIDE.ARPA>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: HENRY%MIT-OZ@SCRC-RIVERSIDE.ARPA, DCP@SCRC-RIVERSIDE.ARPA,
    Moon@SCRC-RIVERSIDE.ARPA, MMcM@SCRC-RIVERSIDE.ARPA
cc: BUG-LISPM@MIT-MC.ARPA, TIM@MIT-MC.ARPA
In-Reply-To: <HENRY.12047401115.BABYL@MIT-OZ>
Message-ID: <840914100524.3.CASSELS@CUYAHOGA.SCRC.Symbolics>

    Date: Fri, 14 Sep 1984  00:30 EDT
    From: HENRY%MIT-OZ@MIT-MC.ARPA


	As I said in my message to Margolin (which finally made its way around
	the world and back), there seems to be a convention that users should
	not use symbols with .s around their names.  

    Then such conventions should be documented. The real problem with
    such things, I think, is when some user decides to write a macro
    that needs to hide a symbol from HIS users, and picks the same
    weird character to surround his names. I hate to recommend the package
    system for anything, but since its purpose is supposed to be the
    separation of symbol spaces, maybe some symbol in the SI package
    would be appropriate here, and relatively safe from user interference.

Such conventions are a hack intended to try to balance the desire for
non-collision of names with the desire for meaningful names.  We should
find a better way.  Perhaps the real solution is ininterned symbols of
the meaningful name?

In the FOO-FOO context:
(defmacro test-foo (name)
  (let ((uninterned-name (make-symbol (get-pname name))))
    `(defsubst ,name (,uninterned-name)
       (symeval-in-instance ,uninterned-name ',name))))

(test-foo foo)

(foo <c-sh-A> => FOO (SUBST): (FOO)
(arglist 'foo) => (#:FOO)

So we effectively have a GENSYM, but it has a more useful name.

If this satisfies everyone, I'll fix DEFFLAVOR this way.
14-Sep-84 20:48:39-EDT,1702;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 20:48-EDT
Received: by nprdc.ARPA (4.12/4.7)
	id AA00394; Fri, 14 Sep 84 17:51:18 pdt
Message-Id: <8409150051.AA00394@nprdc.ARPA>
Date: Friday, 14 September 1984, 17:56-PDT
From: Jim Hollan <hollan@nprdc>
Subject: :batch problem in 5.2
To: bug-lispm%mit-oz@mit-mc
Cc: hollan@nprdc


In Symbolics 3600 Release 5.2, Color 1.0, FEP 18, on Maui (3600, Color):

	In trying to make-system using :batch keyword in 5.2 I get a
gensym filename for compiler warnings as a default, the make-system says
it has completed immediately with no files loaded, then it asks again
for a file for compiler warnings, and finally loads the files. Below is
a simple example: 
  
(make-system 'rup :batch)
Write compiler warnings to file: (default MAUI:>hollan>g0518.cwarns) 
Compiler warnings written to file MAUI:>hollan>g0518.cwarns.
MAKE-SYSTEM finished successfully at 9/14/84 17:48:06.
Write compiler warnings to file: (default RUP: RUP; RUP.CWARNS.NEWEST) 
Loading RUP: RUP; UTILSINIT.BIN.NEWEST
Loading RUP: RUP; UTILS.BIN.NEWEST
Warning:  Function NAMCOPY, being redefined by file RUP: RUP; UTILS,
was previously defined by file RUP: RUP; UTILSINIT.
Loading RUP: RUP; TMS1.BIN.NEWEST
Loading RUP: RUP; EQUAL.BIN.NEWEST
Loading RUP: RUP; EQUAL2.BIN.NEWEST
Loading RUP: RUP; TERMQ.BIN.NEWEST
Loading RUP: RUP; RUPTL.BIN.NEWEST
Loading RUP: RUP; CSUB.BIN.NEWEST
Loading RUP: RUP; NOTCR.BIN.NEWEST
Loading RUP: RUP; UNIF.BIN.NEWEST
Loading RUP: RUP; PNOT.BIN.NEWEST
Loading RUP: RUP; OURUTILS.BIN.NEWEST
Compiler warnings written to file RUP: RUP; RUP.CWARNS.NEWEST.
MAKE-SYSTEM finished successfully at 9/14/84 17:48:52.
T
14-Sep-84 20:59:13-EDT,426;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 14 Sep 84 20:58-EDT
Date: 14 September 1984 21:00-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
Subject: M-X Copy File 
To: BUG-FILE @ MIT-MC
cc: BUG-ITS @ MIT-MC, BUG-LISPM @ MIT-MC

M-X Copy File does not preserve authors on ITS.
It does preserve reference date (although maybe it should
use DNRF instead of referencing the file to copy it) and
the creation date.
14-Sep-84 22:05:36-EDT,1995;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 14 Sep 84 22:05-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81616; Fri 14-Sep-84 22:00:18-EDT
Date: Friday, 14 September 1984, 22:02-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Visibility of windows
To: Henry Lieberman <Henry at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 14 Sep 84 18:12-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840914220251.0.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Friday, 14 September 1984, 18:12-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-5:

    I often find the behavior of the window system with overlapping
    windows strange and counter-intuitive, not at all like the "sheets of
    paper on a desktop" metaphor. 

    Here's a simple example:

    (SETQ W1 (TV:MAKE-WINDOW 'TV:WINDOW ':EDGES-FROM ':MOUSE ':EXPOSE-P T))
    ; #<WINDOW Window 4 640253 exposed>

    (SETQ W2 (TV:MAKE-WINDOW 'TV:WINDOW ':EDGES-FROM ':MOUSE ':EXPOSE-P T))
    ; #<WINDOW Window 5 640351 exposed>

    Draw the windows so that the upper left corner of the second window is
    in the center of the first, and the lower right corner is outside the first
    window. I would expect to see:

	 ----------------
	 |              |
	 |       ----------------
	 |W1     |              |
	 --------|              |
		 |W2            |
		 ----------------

    Instead, W1 disappears when W2 appears.



Give your windows the :SAVE-BITS option if you want the bits saved.  If the bits
aren't saved, there is nothing to display when the window is covered.  This is
the default for real types of windows that need it, but the (really rather
bogus) flavor TV:WINDOW doesn't have this by default, because it is too "general."

That's the reason why it behaves the way it does; I certainly don't want to
imply that I think this is right and good.
14-Sep-84 23:02:00-EDT,968;000000000000
Received: from MIT-APIARY-5 by MIT-OZ via Chaosnet; 14 Sep 84 23:01-EDT
Date: Friday, 14 September 1984, 22:58-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: :SAVE-BITS option on windows
To: Moon at MIT-OZ
Cc: Bug-Lispm at MIT-OZ


I guess, then, I don't really understand the :SAVE-BITS option, and why it is NIL
by default in TV:WINDOW. According to Encyclopaedia Symbolica, the only reason
for not having it is that the window might have a faster means of regenerating
its contents than paging in a bit array. It seems that fewer users would get
screwed if it were T by default. Or maybe the default should be that a window
has :SAVE-BITS unless it has a :REFRESH or :REGENERATE or some such method.
How do you decide when a window needs it or not? If you have frames and panes, 
should they all have it, or just the frame, or just the panes?

Why do you say TV:WINDOW is "bogus"? If so, what SHOULD we be building our
windows on top of?

14-Sep-84 23:37:58-EDT,674;000000000000
Received: from MIT-APIARY-5 by MIT-OZ via Chaosnet; 14 Sep 84 23:37-EDT
Date: Friday, 14 September 1984, 23:34-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Problems with 5.2
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-5:

Indeed, my previous bug is reproducible, it seems, only if called from my 
Ztop editor top level. So to reproduce it:

(LOAD "OZ:<HENRY>ZTOP")
(LOAD "OZ:<HENRY>EZWIN-DEFSYS")
(MAKE-SYSTEM 'BEEKEEPER)

Then go into the editor's History buffer, type

(TEST-BEEKEEPER)

then hit END. This gives you mouse corners, and the machine crashes when
the window appears. Works OK in 5.1. 

15-Sep-84 11:11:30-EDT,1388;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 15 Sep 84 11:11-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91540; Sat 15-Sep-84 11:15:52-EDT
Date: Saturday, 15 September 1984, 11:15-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Problems with 5.2
To: Henry Lieberman <Henry at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 14 Sep 84 23:34-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840915111502.2.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 14 September 1984, 23:34-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-5:

    Indeed, my previous bug is reproducible, it seems, only if called from my 
    Ztop editor top level. So to reproduce it:

    (LOAD "OZ:<HENRY>ZTOP")
    (LOAD "OZ:<HENRY>EZWIN-DEFSYS")
    (MAKE-SYSTEM 'BEEKEEPER)

    Then go into the editor's History buffer, type

    (TEST-BEEKEEPER)

    then hit END. This gives you mouse corners, and the machine crashes when
    the window appears. Works OK in 5.1. 

Try (to the FEP) Show Status to see if there are any hints to why the
machine crashed, then do Load Fep >v18-debug.flod and do some poking
around.  When you eventually get back to Lisp, you can decode the micro
PCs printed by Show Status with (dbg:decode-micro-pc #oNNN).
15-Sep-84 12:17:08-EDT,1428;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 15 Sep 84 12:16-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81650; Sat 15-Sep-84 12:03:45-EDT
Date: Saturday, 15 September 1984, 12:06-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: M-X Copy File 
To: Christopher C. Stacy <CSTACY at MIT-MC>, BUG-FILE at MIT-MC
cc: BUG-ITS at MIT-MC, BUG-LISPM at MIT-MC
In-Reply-To: The message of 14 Sep 84 21:00-EDT from Christopher C. Stacy <CSTACY at MIT-MC>
Message-ID: <840915120628.5.MOON@EUPHRATES.SCRC.Symbolics>

    Date: 14 September 1984 21:00-EDT
    From: Christopher C. Stacy <CSTACY @ MIT-MC>

    M-X Copy File does not preserve authors on ITS.
    It does preserve reference date (although maybe it should
    use DNRF instead of referencing the file to copy it) and
    the creation date.

This is because the routine CLOSIT in the FILE job sets the author of the
file it just wrote to the user's HSNAME.  Evidently it does this because
the FILE job doesn't login under the name of the user who is using it.
We can do one of
 (1) Make the FILE job login under the right name.
 (2) Make ITS set the file author from the XUNAME instead of the UNAME and
     make the file job set its XUNAME to the user's name instead of to
     a copy of its UNAME.
 (3) Make the FILE job set the author when it opens the file instead of
     when it closes it.
Suggestions?
15-Sep-84 12:28:02-EDT,2491;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 15 Sep 84 12:27-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81654; Sat 15-Sep-84 12:27:45-EDT
Date: Saturday, 15 September 1984, 12:30-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: :SAVE-BITS option on windows
To: Henry Lieberman <Henry at MIT-OZ>
cc: Bug-Lispm at MIT-OZ, ROM at SCRC-TENEX
In-Reply-To: The message of 14 Sep 84 22:58-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840915123040.6.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Friday, 14 September 1984, 22:58-EDT
    From: Henry Lieberman <Henry at MIT-OZ>


    I guess, then, I don't really understand the :SAVE-BITS option, and why it is NIL
    by default in TV:WINDOW. According to Encyclopaedia Symbolica, the only reason
    for not having it is that the window might have a faster means of regenerating
    its contents than paging in a bit array. It seems that fewer users would get
    screwed if it were T by default. 

Probably so.  On the other hand, it's expensive (especially on machines with
64K of memory like we had when the window system was first designed) and my guess
is that the theory behind not having it on by default is that the user program shouldn't
pay in performance for features it doesn't use.  I think if we were redesigning
the window system today we would deal differently with this whole constellation of issues.

Probably the default save-bits should change, but I'm not going to change it
myself right now; consideration of compatibility is warranted before changing
something like this.

				     Or maybe the default should be that a window
    has :SAVE-BITS unless it has a :REFRESH or :REGENERATE or some such method.
    How do you decide when a window needs it or not? If you have frames and panes, 
    should they all have it, or just the frame, or just the panes?

Usually just the frame, but it depends on whether you play games with multiple
configurations of the frame; if you do you might need to save the bits of the panes,
too, since they won't always be exposed in the frame.  It isn't simple.

    Why do you say TV:WINDOW is "bogus"? If so, what SHOULD we be building our
    windows on top of?

I meant it isn't very useful to instantiate TV:WINDOW by itself without mixing it
with other flavors.  Indeed you should build some of your window flavors on top of it,
I didn't mean to imply the opposite.  Sorry about that.
15-Sep-84 14:43:56-EDT,1251;000000000000
Received: from MIT-APIARY-9 by MIT-OZ via Chaosnet; 15 Sep 84 14:43-EDT
Date: Saturday, 15 September 1984, 14:47-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: 5.2 crashes machine
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on APIARY-9:

Sorry, I don't have enough expertise in low-level debugging to 
be able to use Show Status or V18-Debug [which doesn't seem to work at all
on the machine I'm using]. If you can give me naive-lisp-hacker type
documentation or instructions for debugging or reporting the crash, I'll do 
it. 

Meanwhile, I've managed to narrow down the problem to a reproducible case
that doesn't depend on too much. 

(DEFUN PRINT-DISK-LABEL-STRING ()
       (WITH-OUTPUT-TO-STRING (S)
                              (PRINT-DISK-LABEL SI:*BOOT-UNIT* S)
                              S))

(DEFUN INSERT-IN-FONT (STRING FONT-NUMBER)
       (LET ((FROM (ZWEI:COPY-BP (ZWEI:POINT)))
             (TO (ZWEI:INSERT (ZWEI:POINT) STRING)))
            (ZWEI:CHANGE-FONT-INTERVAL FROM TO T FONT-NUMBER)))


Do Meta-X Set Fonts of CPTFONTB, CPTFONTI.

In the editor's Meta-Escape minibuffer, do:

(SETQ S (PRINT-DISK-LABEL-STRING))

(INSERT-IN-FONT S 1.)

crashes the machine.

15-Sep-84 14:47:33-EDT,520;000000000000
Received: from MIT-APIARY-9 by MIT-OZ via Chaosnet; 15 Sep 84 14:47-EDT
Date: Saturday, 15 September 1984, 14:52-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: 5.2 Crashes
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on APIARY-9:

Aha, I see that the release bulletin has a patch for DRAW-STRING in 5.2
for the error that might be responsible for my crash. I guess we
don't have this patch here, even though I did (LOAD-PATCHES). We need
it badly if we're going to use 5.2 at all.

15-Sep-84 17:11:09-EDT,1016;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 15 Sep 84 17:10-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91633; Sat 15-Sep-84 17:15:35-EDT
Date: Saturday, 15 September 1984, 17:13-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: 5.2 crashes machine
To: Henry Lieberman <Henry at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 15 Sep 84 14:47-EDT from Henry Lieberman <Henry at MIT-OZ>
Supersedes: <840915171306.4.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840915171359.5.MOON@EUPHRATES.SCRC.Symbolics>

Does the machine go into an infinite loop, rather than going into the
FEP command processor with a message like "Lisp stopped itself"?  If so,
read "Release 5.2 Bulletin" page 1.  If you don't have a copy of this,
complain to your Symbolics representative and/or to whoever at MIT might
be sitting on copies of it.

Also complain to whoever installed 5.2 at your site that THEY didn't
read the bulletin before installing it.
15-Sep-84 17:13:11-EDT,835;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 15 Sep 84 17:12-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81700; Sat 15-Sep-84 17:10:07-EDT
Date: Saturday, 15 September 1984, 17:13-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: 5.2 crashes machine
To: Henry Lieberman <Henry at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 15 Sep 84 14:47-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840915171306.4.MOON@EUPHRATES.SCRC.Symbolics>

Does the machine go into an infinite loop, rather than going into the
FEP command processor with a message like "Lisp stopped itself"?  If so,
read "Release 5.2 Bulletin" page 1.  If you don't have a copy of this,
complain to your Symbolics representative and/or to whoever at MIT might
be sitting on copies of it.
15-Sep-84 17:14:30-EDT,839;000000000000
Received: from SCRC-RIVERSIDE by MIT-OZ via Chaosnet; 15 Sep 84 17:12-EDT
Received: from SCRC-EUPHRATES by SCRC-RIVERSIDE via CHAOS with CHAOS-MAIL id 22624; Sat 15-Sep-84 17:13:59-EDT
Date: Saturday, 15 September 1984, 17:13-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: 5.2 crashes machine
To: Henry Lieberman <Henry at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 15 Sep 84 14:47-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840915171306.4.MOON@EUPHRATES.SCRC.Symbolics>

Does the machine go into an infinite loop, rather than going into the
FEP command processor with a message like "Lisp stopped itself"?  If so,
read "Release 5.2 Bulletin" page 1.  If you don't have a copy of this,
complain to your Symbolics representative and/or to whoever at MIT might
be sitting on copies of it.
15-Sep-84 17:15:51-EDT,1314;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 15 Sep 84 17:14-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91635; Sat 15-Sep-84 17:18:24-EDT
Date: Saturday, 15 September 1984, 17:16-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: 5.2 Crashes
To: Henry Lieberman <Henry at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 15 Sep 84 14:52-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840915171647.6.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Saturday, 15 September 1984, 14:52-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on APIARY-9:

    Aha, I see that the release bulletin has a patch for DRAW-STRING in 5.2
    for the error that might be responsible for my crash. I guess we
    don't have this patch here, even though I did (LOAD-PATCHES). We need
    it badly if we're going to use 5.2 at all.

I apologize for sending you a message (2 messages actually) just now
telling you to read the bulletin.  My mail was delivered out of order
and I stupidly didn't read all the mail from you before replying to the
first one I saw.  Anyway, you should complain to whoever installed 5.2
at your site that they didn't read the installation bulletin before
installing it.
15-Sep-84 18:36:57-EDT,1620;000000000000
Mail-From: CJL created at 15-Sep-84 18:36:35
Date: Sat, 15 Sep 1984  18:36 EDT
Message-ID: <CJL.12047860909.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   "David A. Moon" <Moon@SCRC-TENEX>
Cc:   BUG-LISPM@MIT-OZ, Henry Lieberman <Henry@MIT-OZ>
Subject: 5.2 Crashes
In-reply-to: Msg of 15 Sep 1984 17:16-EDT from David A. Moon <Moon at SCRC-TENEX>

    Date: Saturday, 15 September 1984, 17:16-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

    Anyway, you should complain to whoever installed 5.2
    at your site that they didn't read the installation bulletin before
    installing it.

I did not read the installation bulletin before installing it, because
at the time of installation I had no evidence that such bulletin
existed. I was given by our Symbolocs service rep a Rel 5.2 on tape, and
a copy of the document "Release 5.2 Release notes/Patch notes". I
installed Release 5.2 on the machines I use following the instructions
in "Release 5.2 Release notes/Patch notes". This document makes no
mention of a release bulletin. The next day I received a copy of the
Release bulletin from him, and he said it was "hot off the LGP".  I
inverred from this that the release bulletin didn't even exist when I
installed Release 5.2. Since then I have become disaffected with doing
people favors by telling them that I have installed software according
to the installation instructions, as even then one can lose. Anyone else
here at MIT is welcome to disk save a new band with the manually typed
in patches described by the Release bulletin, and announce that they
have done so. 
15-Sep-84 19:04:22-EDT,748;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 15 Sep 84 19:04-EDT
Date: Saturday, 15 September 1984, 19:08-EDT
From: Gavan Duffy <GAVAN at MIT-OZ>
Subject: bug sending bug reports
To: DCP at SCRC-TENEX, cory at MIT-BUGS-BUNNY
Cc: BUG-LISPM at SCRC-TENEX, Bug-LispM at MIT-OZ
In-reply-to: <840913093012.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 13 September 1984, 09:30-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

    All of these bugs are because zwei:*host-for-bug-reports* is a string,
    not a host object.  That used to work in Release 4, but not 5. . . .
    the speculation is that somebody set it to a string either as part of 
    their init file or part of customizing 5.2 for MIT.

Init file.  Thanks.
16-Sep-84 00:31:36-EDT,914;000000000000
Mail-From: HENRY created at 16-Sep-84 00:31:05
Date: Sun, 16 Sep 1984  00:31 EDT
Message-ID: <HENRY.12047925444.BABYL@MIT-OZ>
From: HENRY@MIT-OZ
To:   Chris Lindblad <CJL@MIT-OZ>
Cc:   BUG-LISPM@MIT-OZ, "David A. Moon" <Moon@SCRC-TENEX>
Subject: 5.2 Crashes
In-reply-to: Msg of 15 Sep 1984  18:36-EDT from Chris Lindblad <CJL>


    Date: Saturday, 15 September 1984  18:36-EDT
    From: Chris Lindblad <CJL>
    To:   David A. Moon <Moon at SCRC-TENEX>
    cc:   BUG-LISPM, Henry Lieberman <Henry>
    Re:   5.2 Crashes

    ... Anyone else
    here at MIT is welcome to disk save a new band with the manually typed
    in patches described by the Release bulletin, and announce that they
    have done so. 

Since the bug was screwing me so badly, I typed in the patch on
OZ:<Henry>Patch.Lisp and .Bin. Will someone who knows how install
the patch on PIG and people can dump new bands.

16-Sep-84 12:41:52-EDT,727;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 12:41-EDT
Date: Sunday, 16 September 1984, 12:38-EDT
From: David Chapman <Zvona at MIT-OZ>
Subject: null extraneous rest arg
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Jim Morrison:

Under what conditions does the debugger mention this null extraneous
rest arg?  It doesn't seem to be an error condition, so unless there is
some good reason to display it, it should be suppressed as confusing.
If there is a criterion for when to display that is meaningful to the
user, I'd be interested to know what it is.

(:PROPERTY :NOT RUP:CONJ-NORMAL):  (from OZ:OZ:<AGRE.SP>PI-LISP)
   Arg 0 (EXP)
   Extraneous Rest Arg: NIL
16-Sep-84 13:37:45-EDT,792;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 13:37-EDT
Date: Sunday, 16 September 1984, 13:34-EDT
From: David Chapman <Zvona at MIT-OZ>
Subject: possible compiler optimizations
To: Bug-Lispm at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Jim Morrison:

Just in case you haven't thought of these:

(memq x <quoted-list>) as a condition ==>
(or (eq x <first-elt>) (eq x <second>) ...)

(nth i (multiple-value-list (foo))) ==>
(multiple-value-bind (ignore ignore ... thing) (foo)
  thing) ==>
CALL FOO
%STACK-NTH i

where there are i-1 ignores before thing.  In other words, there's no
point actually consing the list if you are just going to nth it; you
might as well nth the stack instead.  (There must be an instruction to
nth the stack?)
16-Sep-84 16:00:50-EDT,475;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 16:00-EDT
Date: Sunday, 16 September 1984, 15:57-EDT
From: David Chapman <Zvona at MIT-OZ>
Subject: neti:*inhibit-validity-checking*
To: bug-lispm at MIT-OZ

In 5.2.

I've put (login-setq neti:*inhibit-validity-checking* t) in my init
file.  This seems to turn off the namespace system, which is very nice.
Is there any way people could be screwed by this?  If not, I will
suggest it to the world at large.
16-Sep-84 16:31:32-EDT,1245;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 16:31-EDT
Date: 16 September 1984 16:32-EDT
From: Alan Bawden <ALAN @ MIT-MC>
To: CSTACY @ MIT-MC
cc: BUG-LISPM @ MIT-MC, BUG-ITS @ MIT-MC

God DAMNIT!  When I came in this morning MC had no free job slots because
the system was completely full of dead TIME servers.  After gunning about
50 of them so that I could work I found out that all of the binary files on
SYSNET, including the time server, had been trashed.  You can probably
guess why: when you use M-X Copy File from a Lisp Machine it must clobber
36-bit binary files named BIN by DWIMing and treating them as 32-bit
L-machine BIN files.  I'll bet if there were any text files on the old TCP
directory that contained imbedded ^M's they have been trashed as well by
being copied in Lisp Machine character set mode.  And I know you already
noticed that Copy File clobbered all of the author information.  You really
should have used :MOVE rather than deluding yourself into thinking that a
Lisp Machine could make the job easier.

I reassembled the time server, but I leave it up to you to deal with the
rest of the mess.  I would advise retrieving the entire TCP directory and
doing it again the right way.
16-Sep-84 16:37:44-EDT,1140;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 16 Sep 84 16:37-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81773; Sun 16-Sep-84 16:31:34-EDT
Date: Sunday, 16 September 1984, 16:35-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: 5.2 crashes machine
To: Henry Lieberman <Henry at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 15 Sep 84 14:47-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840916163537.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 15 September 1984, 14:47-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on APIARY-9:

    Sorry, I don't have enough expertise in low-level debugging to 
    be able to use Show Status or V18-Debug [which doesn't seem to work at all
    on the machine I'm using]. 
You type
	Show Status
to the FEP prompt, write down what it says, and include it in a bug
report.  (Hopefully fixed someday when the FEP stores this information
and coughs it back to Lisp after Lisp is running again.)

How does V18-debug not work?  What does it do?  What doesn't it do?
16-Sep-84 17:23:52-EDT,577;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 17:23-EDT
Date: Sunday, 16 September 1984, 17:25-EDT
From:  <dove at MIT-TWEETY-PIE>
Subject: internet entry internet|tweety
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

It seems that when tweety was added to the namespace internet, the namespace system
failed to make the connection with mit|tweety.  Thus the namespace system concludes
that internet|tweety and mit|tweety (the local host) are different.  Wonderful for
the network software!
16-Sep-84 18:18:59-EDT,882;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 18:17-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81783; Sun 16-Sep-84 16:51:40-EDT
Date: Sun, 16 Sep 84 16:55 EDT
From: "David A. Moon" <Moon@SCRC-RIVERSIDE.ARPA>
Subject: How to copy files on ITS without trashing them
To: CSTACY@MIT-MC.ARPA
cc: Alan Bawden <ALAN@MIT-MC.ARPA>, BUG-LISPM@MIT-MC.ARPA,
    BUG-ITS@MIT-MC.ARPA
In-Reply-To: The message of 16 Sep 84 16:32-EDT from Alan Bawden <ALAN at MIT-MC>
Message-ID: <840916165519.5.MOON@EUPHRATES.SCRC.Symbolics>

The most convenient way, I have always found, is to use the DIRED program.
Not the Emacs one, the other one.  It has a set of file-processing commands
that take the star convention and it's fast.  The only problem is that the
right MOVE command has some obscure name like BC (don't trust my memory on this!)
16-Sep-84 19:01:14-EDT,316;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 19:00-EDT
Date: 16 September 1984 18:56-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
To: ALAN @ MIT-MC
cc: BUG-ITS @ MIT-MC, BUG-LISPM @ MIT-MC
In-reply-to: Msg of 16 Sep 1984 16:32-EDT from Alan Bawden <ALAN>

Sigh....so much for trusting ZWEI...
16-Sep-84 20:50:09-EDT,1703;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 16 Sep 84 20:49-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 81869; Sun 16-Sep-84 20:45:47-EDT
Date: Sunday, 16 September 1984, 20:49-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: null extraneous rest arg
To: David Chapman <Zvona at MIT-OZ>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 16 Sep 84 12:38-EDT from David Chapman <Zvona at MIT-OZ>
Message-ID: <840916204923.0.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Sunday, 16 September 1984, 12:38-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Jim Morrison:

    Under what conditions does the debugger mention this null extraneous
    rest arg?  It doesn't seem to be an error condition, so unless there is
    some good reason to display it, it should be suppressed as confusing.
    If there is a criterion for when to display that is meaningful to the
    user, I'd be interested to know what it is.

    (:PROPERTY :NOT RUP:CONJ-NORMAL):  (from OZ:OZ:<AGRE.SP>PI-LISP)
       Arg 0 (EXP)
       Extraneous Rest Arg: NIL

It's a bug, not a misfeature.  I don't know what the bug is exactly, but
the simplest test case is

	(funcall '(lambda (x) (dbg)) '(1))

NB: This only happens when you run your code interpreted.

Aside to BUG-LISPM @ SCRC: The recently-introduced bug in the Debugger that
is revealed if you run this -in the development system- (the function is
displayed as NIL) is fixed in my private copy (and "always" has been) so
it should get fixed automatically when that's merged in.  In other words
don't expend a lot of effort fixing it.
16-Sep-84 21:50:29-EDT,617;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 21:49-EDT
Date: 16 September 1984 21:52-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
To: BUG-LISPM @ MIT-OZ

In Rel 5.2 on JANIS:

If I go into ZWEI's DIRED, tell it to delete some files, then switch to another
window (say a TERMINAL window), when I next type SYSTEM-E, a new editor is
always created.  In fact, if I then use the system menu to kill the unwanted
editor, and type SYSTEM-E again, I get a third editor.   When I finally re-select
the original editor, it redisplays itself more than once, as if it was confused
about something.  
16-Sep-84 22:16:02-EDT,236;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 16 Sep 84 22:15-EDT
Date: 16 September 1984 22:18-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
To: BUG-LISPM @ MIT-OZ

The IBASE should be in the status-modeline near the package.
17-Sep-84 08:55:37-EDT,2758;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 08:55-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91965; Mon 17-Sep-84 08:59:40-EDT
Date: Monday, 17 September 1984, 08:59-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: possible compiler optimizations
To: David Chapman <Zvona at MIT-OZ>
cc: Bug-Lispm at MIT-OZ
In-Reply-To: The message of 16 Sep 84 13:34-EDT from David Chapman <Zvona at MIT-OZ>
Message-ID: <840917085911.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 16 September 1984, 13:34-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Jim Morrison:

    Just in case you haven't thought of these:

    (memq x <quoted-list>) as a condition ==>
    (or (eq x <first-elt>) (eq x <second>) ...)

Since MEMQ is in microcode now, I'm not sure this makes much of a
difference.  [Time passes]  The metering curve for this is very strange.
Here's the chart for x being the i'th element (0 based) of the quoted
list.
	i=0 MEMQ is 1.3 microseconds slower
	i=1 MEMQ is 1.9 microseconds slower
	i=2 MEMQ is 1.0 microseconds slower
	i=3 MEMQ is 0.8 microseconds slower
	i=4 MEMQ is 0.1 microseconds slower
The not-in-list cases add about 0.3 microseconds to the MEMQ case.  In
conclusion, the MEMQ saves space being PUSH PUSH MEMQ BRANCH whereas the
OR expansion takes up (* (length list) 4) instructions (PUSH PUSH EQ
BRANCH per EQ clause).

    (nth i (multiple-value-list (foo))) ==>
This looks like dangerous programming style...
    (multiple-value-bind (ignore ignore ... thing) (foo)
      thing) ==>
... since this shows what you really mean.
    CALL FOO
    %STACK-NTH i
The list is created on the caller's frame:
	PUSH-LOCAL I
	CALL-0-MULTIPLE #'FOO
	CALL-0-STACK #'SYS:%MULTIPLE-VALUE-LIST
	CALL-2-STACK #'NTH
%STACK-NTH would have to do some very interesting hackery on the stack,
since the top of the stack is how many elements there are underneath,
not the base of the stack.

    where there are i-1 
You mean I since NTH is 0 based.
    ignores before thing.  In other words, there's no
    point actually consing the list if you are just going to nth it; you
    might as well nth the stack instead.  (There must be an instruction to
    nth the stack?)
It would have to be written, and would only accomidate the few people
who write code in the style you present above.

Since it looks like you intend a constant I (instead of a variable as in
my examples), I would suggest writing a NTH-MULTIPLE-VALUE macro which
expands into the multiple-value-bind you suggest.  This would produce
the code
	CALL-0-MULTIPLE #'FOO
	TAKE-VALUES <i+1>
	POP-N-SAVE-1 <i>
17-Sep-84 08:56:08-EDT,2758;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 08:55-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91965; Mon 17-Sep-84 08:59:40-EDT
Date: Monday, 17 September 1984, 08:59-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: possible compiler optimizations
To: David Chapman <Zvona at MIT-OZ>
cc: Bug-Lispm at MIT-OZ
In-Reply-To: The message of 16 Sep 84 13:34-EDT from David Chapman <Zvona at MIT-OZ>
Message-ID: <840917085911.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 16 September 1984, 13:34-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Jim Morrison:

    Just in case you haven't thought of these:

    (memq x <quoted-list>) as a condition ==>
    (or (eq x <first-elt>) (eq x <second>) ...)

Since MEMQ is in microcode now, I'm not sure this makes much of a
difference.  [Time passes]  The metering curve for this is very strange.
Here's the chart for x being the i'th element (0 based) of the quoted
list.
	i=0 MEMQ is 1.3 microseconds slower
	i=1 MEMQ is 1.9 microseconds slower
	i=2 MEMQ is 1.0 microseconds slower
	i=3 MEMQ is 0.8 microseconds slower
	i=4 MEMQ is 0.1 microseconds slower
The not-in-list cases add about 0.3 microseconds to the MEMQ case.  In
conclusion, the MEMQ saves space being PUSH PUSH MEMQ BRANCH whereas the
OR expansion takes up (* (length list) 4) instructions (PUSH PUSH EQ
BRANCH per EQ clause).

    (nth i (multiple-value-list (foo))) ==>
This looks like dangerous programming style...
    (multiple-value-bind (ignore ignore ... thing) (foo)
      thing) ==>
... since this shows what you really mean.
    CALL FOO
    %STACK-NTH i
The list is created on the caller's frame:
	PUSH-LOCAL I
	CALL-0-MULTIPLE #'FOO
	CALL-0-STACK #'SYS:%MULTIPLE-VALUE-LIST
	CALL-2-STACK #'NTH
%STACK-NTH would have to do some very interesting hackery on the stack,
since the top of the stack is how many elements there are underneath,
not the base of the stack.

    where there are i-1 
You mean I since NTH is 0 based.
    ignores before thing.  In other words, there's no
    point actually consing the list if you are just going to nth it; you
    might as well nth the stack instead.  (There must be an instruction to
    nth the stack?)
It would have to be written, and would only accomidate the few people
who write code in the style you present above.

Since it looks like you intend a constant I (instead of a variable as in
my examples), I would suggest writing a NTH-MULTIPLE-VALUE macro which
expands into the multiple-value-bind you suggest.  This would produce
the code
	CALL-0-MULTIPLE #'FOO
	TAKE-VALUES <i+1>
	POP-N-SAVE-1 <i>
17-Sep-84 08:57:58-EDT,2198;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 08:57-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91967; Mon 17-Sep-84 09:01:45-EDT
Date: Monday, 17 September 1984, 09:01-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: internet entry internet|tweety
To: dove at MIT-TWEETY-PIE, BUG-LISPM at MIT-OZ,
    bug-ip-tcp at SCRC-STONY-BROOK
In-Reply-To: The message of 16 Sep 84 17:25-EDT from dove at MIT-TWEETY-PIE,
             The message of 16 Sep 84 17:29-EDT from dove%MIT-TWEETY-PIE at SCRC-STONY-BROOK
Message-ID: <840917090103.1.HORNIG@PEACE.SCRC.Symbolics>

    Date: Sunday, 16 September 1984, 17:25-EDT
    From:  <dove at MIT-TWEETY-PIE>

    In Symbolics 3600 Release 5.2, Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

    It seems that when tweety was added to the namespace internet, the namespace system
    failed to make the connection with mit|tweety.  Thus the namespace system concludes
    that internet|tweety and mit|tweety (the local host) are different.  Wonderful for
    the network software!

    Date: Sun, 16 Sep 84 17:29 EDT
    From:  <dove%MIT-TWEETY-PIE@SCRC-STONY-BROOK.ARPA>

    In Symbolics 3600 Release 5.2, Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

    The reason that tweety was being entered under egp was that internet|tweety was being
    considered as a viable gateway since it didn't match local host.  Either the namespace
    system needs to be better at associating the two objects mit|tweety and internet|tweety
    or the deletion of the local host from the list of world gateways should be done by interface
    address and not by matching with the *local-host*.

This should not be happening.  The MIT namespace servers I can check all
now know that INTERNET|MIT-TWEETY-PIE and MIT|TWEETY-PIE are the same
host.  What might be happening is that the bad (old) information is
saved in the band on TWEETY.  When the network is first turned on, the
system can't get the new information until the network is turned on, so
it uses the old.  You might try resetting and enabling just the Internet
network to see if that helps.
17-Sep-84 09:04:41-EDT,1148;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 09:04-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91975; Mon 17-Sep-84 09:07:47-EDT
Date: Monday, 17 September 1984, 09:07-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: neti:*inhibit-validity-checking*
To: David Chapman <Zvona at MIT-OZ>, bug-lispm at MIT-OZ
In-Reply-To: The message of 16 Sep 84 15:57-EDT from David Chapman <Zvona at MIT-OZ>
Message-ID: <840917090714.1.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 16 September 1984, 15:57-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In 5.2.

    I've put (login-setq neti:*inhibit-validity-checking* t) in my init
    file.  This seems to turn off the namespace system, which is very nice.
    Is there any way people could be screwed by this?  If not, I will
    suggest it to the world at large.
That's not such a great idea.  You probably won't be able to communicate
with any machine that isn't in your local cache.  Converse may not
always work.  Function-<ALL LispMs>-F may not find all the Lispms (it
may not even find all the local lispms).
17-Sep-84 09:10:44-EDT,1697;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 09:10-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91979; Mon 17-Sep-84 09:14:43-EDT
Date: Monday, 17 September 1984, 09:14-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: neti:*inhibit-validity-checking*
To: David Chapman <Zvona at MIT-OZ>, bug-lispm at MIT-OZ
In-Reply-To: The message of 16 Sep 84 15:57-EDT from David Chapman <Zvona at MIT-OZ>
Message-ID: <840917091404.3.HORNIG@PEACE.SCRC.Symbolics>

    Date: Sunday, 16 September 1984, 15:57-EDT
    From: David Chapman <Zvona at MIT-OZ>

    In 5.2.

    I've put (login-setq neti:*inhibit-validity-checking* t) in my init
    file.  This seems to turn off the namespace system, which is very nice.
    Is there any way people could be screwed by this?  If not, I will
    suggest it to the world at large.

If you do this, you will never be able to deal with any host, printer,
or whatever that is not already in your world load.  In 5.2 this is not
as bad as it might seem, as the system caches almost anything you might want
(and a good deal you wouldn't) when you boot it.  Watch out in future
releases, though, as we have changed the system to cache a lot less (for
efficiency).  Also, you won't in general see any changes made to
objects.  This is because at boot time we only note that the object has
changed, deferring actually reading the changes until you reference the
object.  If you turn off validity checking, the system will just use the
old obsolete information.  All in all, I wouldn't recommend this for
general use by those who might not understand the possible side-effects.
17-Sep-84 09:21:14-EDT,767;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 09:21-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91986; Mon 17-Sep-84 09:25:13-EDT
Date: Monday, 17 September 1984, 09:24-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Made more consistent with humans in Common Lisp
To: Christopher C. Stacy <CSTACY at MIT-MC>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 16 Sep 84 22:18-EDT from Christopher C. Stacy <CSTACY at MIT-MC>
Message-ID: <840917092424.3.DCP@NEPONSET.SCRC.Symbolics>

    Date: 16 September 1984 22:18-EDT
    From: Christopher C. Stacy <CSTACY @ MIT-MC>

    The IBASE should be in the status-modeline near the package.
And what base should be used to print it out with...
17-Sep-84 09:54:18-EDT,1293;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 09:53-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 91993; Mon 17-Sep-84 09:34:31-EDT
Date: Monday, 17 September 1984, 09:33-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
To: Christopher C. Stacy <CSTACY at MIT-MC>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 16 Sep 84 21:52-EDT from Christopher C. Stacy <CSTACY at MIT-MC>
Message-ID: <840917093349.5.DCP@NEPONSET.SCRC.Symbolics>

    Date: 16 September 1984 21:52-EDT
    From: Christopher C. Stacy <CSTACY @ MIT-MC>

    In Rel 5.2 on JANIS:

    If I go into ZWEI's DIRED, tell it to delete some files, then switch to another
    window (say a TERMINAL window), when I next type SYSTEM-E, a new editor is
    always created.  In fact, if I then use the system menu to kill the unwanted
    editor, and type SYSTEM-E again, I get a third editor.   When I finally re-select
    the original editor, it redisplays itself more than once, as if it was confused
    about something.  
I remember something like this a while back.  In the current system (and
therefore Release 6) it does something a bit better.  It doesn't create
a new editor window for you, but it does get confused about which
blinker to blink.
17-Sep-84 13:19:15-EDT,1620;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 13:17-EDT
Received: from SCRC-HARLEM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 92130; Mon 17-Sep-84 13:13:48-EDT
Date: Monday, 17 September 1984, 13:13-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: 5.2 Crashes
To: Chris Lindblad <CJL at MIT-OZ>
cc: HENRY at MIT-OZ, BUG-LISPM at MIT-OZ,
    David A. Moon <Moon at SCRC-TENEX>
In-Reply-To: <HENRY.12047925444.BABYL@MIT-OZ>
Message-ID: <840917131309.6.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Sun, 16 Sep 1984  00:31 EDT
    From: HENRY@MIT-OZ


	Date: Saturday, 15 September 1984  18:36-EDT
	From: Chris Lindblad <CJL>
	To:   David A. Moon <Moon at SCRC-TENEX>
	cc:   BUG-LISPM, Henry Lieberman <Henry>
	Re:   5.2 Crashes

	... Anyone else
	here at MIT is welcome to disk save a new band with the manually typed
	in patches described by the Release bulletin, and announce that they
	have done so. 

    Since the bug was screwing me so badly, I typed in the patch on
    OZ:<Henry>Patch.Lisp and .Bin. Will someone who knows how install
    the patch on PIG and people can dump new bands.

Things like this should go in the MIT site system.  The right thing
to do is to recompile this system (which has no real source), and then
make patches to it, several of which will come from the "5.2 Bulletin".

Chris, I know you've already gone far beyond the call of duty just by setting up
a 5.2 world over there.  If you want to handle this, do, if you don't, don't
(but maybe answer the questions of those who would be willing to do it).

Thanks.
17-Sep-84 14:32:10-EDT,911;000000000000
Received: from MIT-LENNON by MIT-OZ via Chaosnet; 17 Sep 84 14:31-EDT
Date: Monday, 17 September 1984, 14:28-EDT
From: Jerry Roylance <GLR at MIT-OZ>
Subject: Namespace and Public Key
To: Bug-Lispm at MIT-OZ


I'm tired of logging-in to several different machines.  How about putting into
the namespace an encrypted password slot for each host in the user object.
The encryption key is something the user selects.

Then let me set a *REMEMBER-PASSWORD-KEY* in my lisp environment.  When
the system needs to log into PIG, it checks to see if there is a
remember password key.  If there is, then it fetches the encrypted
password out of the user object, decrypts it, and tries logging in.  (If
the login fails, then the system can ask the user for the password.)

Thus I only log in once, but have access to all the hosts I use.

The encryption and decryption key need never leave my machine.
17-Sep-84 16:07:45-EDT,1386;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 17 Sep 84 16:07-EDT
Received: from SCRC-PEACE by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 82123; Mon 17-Sep-84 16:06:34-EDT
Date: Monday, 17 September 1984, 16:10-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: namespace caching
To: Webster Dove <dove at MIT-BUGS-BUNNY>
cc: BUG-LISPM at MIT-OZ, RSW at SCRC-STONY-BROOK
In-Reply-To: The message of 29 Jul 84 17:20-EDT from Webster Dove <dove at MIT-BUGS-BUNNY>
Category: namespace
Message-ID: <840917161042.6.HORNIG@PEACE.SCRC.Symbolics>

Synopsis:  -- Fill in your brief summary of this problem --

tv:edit-namespace-object should make sure of getting the most recent
copy of an object by only dealing with primary namespace servers.

Diagnosis: non-preemptive

  -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --

    Date: Sunday, 29 July 1984, 17:20-EDT
    From: Webster Dove <dove at MIT-SYLVESTER>

    In Release 5.1, Experimental MIT 1.4, Experimental IP-TCP 12.0, on Lisp Machine Tweety Pie (3600):

    I frequently find that changes I make to cadr-15 can't be found because tv:edit-namespace-object
    decides to read from polar rather than cadr-15 (even though cadr-15 responds to a finger
    request).  Is there any way to force tv:edit-namespace-object to read from the primary namespace
    server?
17-Sep-84 17:32:40-EDT,1794;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 17 Sep 84 17:32-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 82157; Mon 17-Sep-84 17:29:26-EDT
Date: Monday, 17 September 1984, 17:33-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: (not completely about) namespace caching
To: Charles Hornig <Hornig at SCRC-STONY-BROOK>,
    Webster Dove <dove at MIT-BUGS-BUNNY>
cc: BUG-LISPM at MIT-OZ, RSW at SCRC-STONY-BROOK
In-Reply-To: <840917161042.6.HORNIG@PEACE.SCRC.Symbolics>
Message-ID: <840917173329.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 17 September 1984, 16:10-EDT
    From: Charles Hornig <Hornig at SCRC-STONY-BROOK>

    Synopsis:  -- Fill in your brief summary of this problem --

    tv:edit-namespace-object should make sure of getting the most recent
    copy of an object by only dealing with primary namespace servers.

    Diagnosis: non-preemptive

Will people please say when they think it should be fixed by and/or when
they think they will get around to it.  I think this bug should be fixed
by the Release 6 beta test, which means it should be fixed in the next
month, which means non-preemptive may be too light a designation.

      -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --

	Date: Sunday, 29 July 1984, 17:20-EDT
	From: Webster Dove <dove at MIT-SYLVESTER>

	In Release 5.1, Experimental MIT 1.4, Experimental IP-TCP 12.0, on Lisp Machine Tweety Pie (3600):

	I frequently find that changes I make to cadr-15 can't be found because tv:edit-namespace-object
	decides to read from polar rather than cadr-15 (even though cadr-15 responds to a finger
	request).  Is there any way to force tv:edit-namespace-object to read from the primary namespace
	server?
17-Sep-84 17:45:21-EDT,739;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 17 Sep 84 17:44-EDT
Date: Monday, 17 September 1984, 17:47-EDT
From: Yishai A. Feldman <YISHAI at MIT-OZ>
Subject: echoing of Read in M-C-Sh-E
To: BUG-LISPM at MIT-OZ
Cc: RICH at MIT-OZ

In Release 5.1, Experimental MIT 1.4, on Lisp Machine Bing Crosby (3600):

It is odd that if you evaluate a form in the buffer (using M-C-Sh-E) in which
a read is to be evaluated, the characters typed to the read are not echoed
in the temporary pop-down screen (even if it has already been established).
Note that the read does in fact receive the characters.  This can be
demonstrated by simply typing the form

(PROGN (PRINT T) (READ))

into an empty buffer and then typing M-C-Sh-E.

17-Sep-84 18:10:32-EDT,1718;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 17 Sep 84 18:08-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 92425; Mon 17-Sep-84 18:11:31-EDT
Date: Monday, 17 September 1984, 18:10-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: echoing of Read in M-C-Sh-E
To: Yishai A. Feldman <YISHAI at MIT-OZ>, BUG-LISPM at MIT-OZ
cc: RICH at MIT-OZ
In-Reply-To: The message of 17 Sep 84 17:47-EDT from Yishai A. Feldman <YISHAI at MIT-OZ>
Message-ID: <840917181042.2.DCP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 17 September 1984, 17:47-EDT
    From: Yishai A. Feldman <YISHAI at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, on Lisp Machine Bing Crosby (3600):

    It is odd that if you evaluate a form in the buffer (using M-C-Sh-E) in which
    a read is to be evaluated, the characters typed to the read are not echoed
    in the temporary pop-down screen (even if it has already been established).
    Note that the read does in fact receive the characters.  This can be
    demonstrated by simply typing the form

    (PROGN (PRINT T) (READ))

    into an empty buffer and then typing M-C-Sh-E.

Popping down a typeout window for standard-output doesn't necessarily
mean that standard-input will be set to something similar.  Try the
following:
	(list standard-output standard-input) c-m-sh-E
	  => (#<ZMAIL-TYPEOUT-WINDOW ...> #<DTP-CLOSURE ...>)
	(progn (print t)
	       (list standard-output standard-input))
	  => (#<ZMAIL-TYPEOUT-WINDOW ...> #<DTP-CLOSURE ...>)
	[Break]
	(list standard-output standard-output)
	  => (#:TERMINAL-IO-SYN-STREAM #:TERMINAL-IO-SYN-STREAM)
	terminal-io
	  => #<ZMAIL-TYPEOUT-WINDOW ...>
17-Sep-84 19:39:22-EDT,4881;000000000000
Received: from MIT-SMOKEY by MIT-OZ via Chaosnet; 17 Sep 84 19:39-EDT
Date: Monday, 17 September 1984, 19:40-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: Using dired to rename other machine's FEP files bombs (but still works)
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Spire-Macros 1.9, Compute 1.5,
Attribute 1.8, Audio 1.2, Speech-Attributes 1.1, Display 1.13,
Speech-Layouts 1.8, Experimental Versatec 2.1, Experimental Prtout 1.1,
Spire 13.0, SpireX 10.3, LexiS 6.5, Experimental ZOO 2.4, FEP 22, on Lisp Machine Smokey (3600):

I tried to rename GRIZZLY|FEP0:>new-spire.boot to be GRIZZLY|FEP0:>spirex.boot and got this error.
I was in Dired at the time, and used the R command to do it.
In spite of the error, the file ends up renamed.

>>Error: FEP file FEP:>lmfs.file.newest, required for the file system as a partition, is not accessible:
         FEP File not found.
         For FEP0:>lmfs.fileFor GRIZZLY:>spirex.boot.1
While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:DIRECTORY-CHAOS  (:METHOD FS:QFILE-ACCESS-PATH :DIRECTORY-STREAM)

(:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 231)
   Arg 0 (SELF): #<HOST-UNIT 5764427>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): :COMMAND
   Arg 3 (MARK-P): NIL
   Arg 4 (STREAM-OR-HANDLE): (:CREATE "I3022")
   Arg 5 (SIMPLE-P): NIL
   Arg 6 (WHOSTATE): "Directory"
   Rest arg (COMMANDS): ("DIRECTORY" " DELETED" "" "" "" 141. ">spirex.boot.1" 141.)
   Local 8 (HANDLE): "I3022"
   Local 9 (STREAM): NIL
   Local 10 (PKT): #<Chaos Packet 16405654>
   Local 11 (SUCCESS): NIL
   Local 12 (STRING): "I3022 ERROR NFS F FEP file FEP:>lmfs.file.newest, required for the file system as a partition, is not accessible:
FEP File not found.
For FEP0:>lmfs.file"
   Local 13 (TRANSACTION-ID): "T3039"
   Local 14 (CREATE-P): T
   Local 15 (CONDITION): NIL

FS:DIRECTORY-CHAOS:  (P.C. = 142)
   Arg 0 (ACCESS-PATH): #<LMFS-QFILE-ACCESS-PATH GRIZZLY using QFILE 5764416>
   Arg 1 (*COMMAND-PATHNAME*-initialization): #<LMFS-PATHNAME "GRIZZLY:>spirex.boot.1">
   Arg 2 (OPTIONS): (:DELETED)

(:METHOD FS:QFILE-ACCESS-PATH :DIRECTORY-STREAM):  (P.C. = 6)
   Arg 0 (SELF): #<LMFS-QFILE-ACCESS-PATH GRIZZLY using QFILE 5764416>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:QFILE-ACCESS-PATH -- 3. IV's, 0. FL's 34320035>
   Arg 2 (OPERATION): :DIRECTORY-STREAM
   Arg 3 (PATHNAME): #<LMFS-PATHNAME "GRIZZLY:>spirex.boot.1">
   Arg 4 (OPTIONS): (:DELETED)

(:METHOD FS:DIRECTORY-STREAM-FILE-ACCESS-PATH-MIXIN :DIRECTORY-LIST):  (P.C. = 13)
   Arg 0 (SELF): #<LMFS-QFILE-ACCESS-PATH GRIZZLY using QFILE 5764416>
   Arg 1 (SELF-MAPPING-TABLE): FS:DIRECTORY-STREAM-FILE-ACCESS-PATH-MIXIN
   Arg 2 (OPERATION): :DIRECTORY-LIST
   Arg 3 (PATHNAME): #<LMFS-PATHNAME "GRIZZLY:>spirex.boot.1">
   Arg 4 (OPTIONS): (:DELETED)

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :DIRECTORY-LIST):  (P.C. = 12)
   Arg 0 (SELF): #<LMFS-PATHNAME "GRIZZLY:>spirex.boot.1">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 34315531>
   Arg 2 (OPERATION): :DIRECTORY-LIST
   Arg 3 (OPTIONS): (:DELETED)

(:METHOD FS:FILE-ACCESS-PATH :PROPERTIES):  (P.C. = 5)
   Arg 0 (SELF): #<LMFS-QFILE-ACCESS-PATH GRIZZLY using QFILE 5764416>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-ACCESS-PATH -- 4. IV's, 0. FL's 34320043>
   Arg 2 (OPERATION): :PROPERTIES
   Arg 3 (PATHNAME): #<LMFS-PATHNAME "GRIZZLY:>spirex.boot.1">

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :PROPERTIES):  (P.C. = 11)
   Arg 0 (SELF): #<LMFS-PATHNAME "GRIZZLY:>spirex.boot.1">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 34315531>
   Arg 2 (OPERATION): :PROPERTIES

FS:FILE-PROPERTIES:  (P.C. = 77)
   Arg 0 (PATHNAME): #<LMFS-PATHNAME "GRIZZLY:>spirex.boot.1">
   --Defaulted args:--
   Arg 1 (ERROR-P): T

ZWEI:COM-DIRED-RENAME-FILE:  (P.C. = 52)

ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
   Arg 0 (COMMAND): ZWEI:COM-DIRED-RENAME-FILE
   Arg 1 (CHAR): 114.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
   Arg 0 (CH): 114.

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 200)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 101651305>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 11. IV's, 0. FL's 30152730>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T
   Arg 4 (DESCRIPTION): NIL

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 101651305>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 12. IV's, 1. FL's 30152742>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)

SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
17-Sep-84 19:49:10-EDT,841;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 17 Sep 84 19:48-EDT
Received: from SCRC-CONCORD by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 92459; Mon 17-Sep-84 19:46:54-EDT
Date: Monday, 17 September 1984, 19:47-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: FED is still confused about where fonts should go
To: TIM at MIT-MC, BUG-LISPM at MIT-MC
In-Reply-To: The message of 7 Sep 84 05:56-EDT from Tim McNerney <TIM at MIT-MC>
Message-ID: <840917194741.2.BSG@CONCORD.SCRC.Symbolics>

    Date: 7 September 1984 05:56-EDT
    From: Tim McNerney <TIM @ MIT-MC>

    FED still thinks that font files should be saved in SYS:FONTS;
In the development system, FED remembers where autoloaded font
files came from, and tries harder to search for them, too.
This should all be cleared up in the next major release.
17-Sep-84 22:13:26-EDT,5094;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 17 Sep 84 22:13-EDT
Date: Monday, 17 September 1984, 22:16-EDT
From:  <TIM at MIT-MC>
Subject: Infinite loop in pathname code
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental IP-TCP 15.3, FEP 18, on Lisp Machine Minnie Mouse:

???

>>Error: The control stack overflowed.
While in the function PROCESS-LOCK  (:METHOD SI:EQUAL-HASH-TABLE :GET-HASH)  (:METHOD FS:PATHNAME-HASH-TABLE-MIXIN :GET-PATHNAME)

PROCESS-LOCK:
   Arg 0 (LOCATIVE-POINTER): #<DTP-LOCATIVE 50467460>
   Arg 1 (LOCK-VALUE): NIL
   Arg 2 (WHOSTATE): "Hash Table Lock"

(:METHOD SI:EQUAL-HASH-TABLE :GET-HASH):  (P.C. = 15)
   Arg 0 (SELF): #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE TWEETY-PIE>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:EQUAL-HASH-TABLE -- 8. IV's, 0. FL's 41256130>
   Arg 2 (OPERATION): :GET-HASH
   Arg 3 (KEY): (NIL NIL NIL NIL)

(:METHOD FS:PATHNAME-HASH-TABLE-MIXIN :GET-PATHNAME):  (P.C. = 6)
   Arg 0 (SELF): #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE TWEETY-PIE>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN -- 1. IV's, 0. FL's 41256123>
   Arg 2 (OPERATION): :GET-PATHNAME
   Arg 3 (DEV): :UNSPECIFIC
   Arg 4 (DIR): NIL
   Arg 5 (NAM): NIL
   Arg 6 (TYP): NIL
   Arg 7 (VRS): NIL
   Arg 8 (KEY): (NIL NIL NIL NIL)

(:METHOD NET:NO-DEVICE-HOST-MIXIN :GET-PATHNAME):  (P.C. = 26)
   Arg 0 (SELF): #<LISPM-HOST TWEETY-PIE 14334743>
   Arg 1 (SELF-MAPPING-TABLE): NET:NO-DEVICE-HOST-MIXIN
   Arg 2 (OPERATION): :GET-PATHNAME
   Arg 3 (DEV): :UNSPECIFIC
   Arg 4 (DIR): NIL
   Arg 5 (NAM): NIL
   Arg 6 (TYP): NIL
   Arg 7 (VRS): NIL

FS:MAKE-PATHNAME-1:  (P.C. = 562)
   Rest arg (OPTIONS): (:DEFAULT-HOST #<LISPM-HOST TWEETY-PIE 14334743> :DEFAULT-DEVICE :UNSPECIFIC :DEFAULT-DIRECTORY NIL :DEFAULT-NAME NIL :DEFAULT-TYPE NIL ...)

(:METHOD FS:PATHNAME :NEW-PATHNAME):  (P.C. = 21)
   Arg 0 (SELF): #<LMFS-PATHNAME "TWEETY-PIE:">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 41436042>
   Arg 2 (OPERATION): :NEW-PATHNAME
   Rest arg (OPTIONS): (:RAW-DEVICE :UNSPECIFIC :RAW-DIRECTORY NIL :RAW-NAME NIL :RAW-TYPE NIL :VERSION NIL ...)

(:METHOD FS:PATHNAME :COMBINED :NEW-PATHNAME):  (P.C. = 36)
   Arg 0 (SELF): #<LMFS-PATHNAME "TWEETY-PIE:">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 41436042>
   Rest arg (.DAEMON-CALLER-ARGS.): (:NEW-PATHNAME :RAW-DEVICE :UNSPECIFIC :RAW-DIRECTORY NIL :RAW-NAME NIL :RAW-TYPE NIL :VERSION ...)

(:METHOD FS:PATHNAME :NEW-DEFAULT-PATHNAME):  (P.C. = 307)
   Arg 0 (SELF): #<LMFS-PATHNAME "TWEETY-PIE:">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 41436042>
   Arg 2 (OPERATION): :NEW-DEFAULT-PATHNAME
   Rest arg (OPTIONS): (:RAW-DEVICE :UNSPECIFIC :RAW-DIRECTORY NIL :RAW-NAME NIL :RAW-TYPE NIL :VERSION NIL)

Rest of stack:
(:INTERNAL (:METHOD FS:PATHNAME :COMBINED :NEW-DEFAULT-PATHNAME) 0):  (P.C. = 7)
(:METHOD FS:PATHNAME :WHOPPER :NEW-DEFAULT-PATHNAME):  (P.C. = 32)
(:METHOD FS:PATHNAME :COMBINED :NEW-DEFAULT-PATHNAME):  (P.C. = 11)
FS:DEFAULT-PATHNAME:  (P.C. = 257)
(:METHOD FS:PATHNAME :WHOPPER :NEW-DEFAULT-PATHNAME):  (P.C. = 21)
(:METHOD FS:PATHNAME :COMBINED :NEW-DEFAULT-PATHNAME):  (P.C. = 11)
(:METHOD FS:PATHNAME :WHOPPER :NEW-DEFAULT-PATHNAME):  (P.C. = 24)
   [suppressing an infinite number of these...]
(:METHOD FS:PATHNAME :COMBINED :NEW-DEFAULT-PATHNAME):  (P.C. = 11)
(:METHOD FS:PATHNAME :WHOPPER :NEW-DEFAULT-PATHNAME):  (P.C. = 24)
(:METHOD FS:PATHNAME :COMBINED :NEW-DEFAULT-PATHNAME):  (P.C. = 11)
FS:DEFAULT-PATHNAME:  (P.C. = 332)
(:METHOD FS:PATHNAME :TRANSLATE-WILD-PATHNAME):  (P.C. = 7)
(:METHOD FS:PATHNAME :TRANSLATE-WILD-PATHNAME-REVERSIBLE):  (P.C. = 11)
(:METHOD FS:LOGICAL-PATHNAME :TRANSLATED-PATHNAME):  (P.C. = 66)
(:INTERNAL (:METHOD FS:LOGICAL-PATHNAME :COMBINED :TRANSLATED-PATHNAME) 0):  (P.C. = 7)
(:METHOD FS:LOGICAL-PATHNAME :WHOPPER :TRANSLATED-PATHNAME):  (P.C. = 21)
(:METHOD FS:LOGICAL-PATHNAME :COMBINED :TRANSLATED-PATHNAME):  (P.C. = 11)
(:DEFUN-METHOD FS:LOGICAL-PATHNAME-PLIST-PASS-ON):  (P.C. = 5)
(:METHOD FS:LOGICAL-PATHNAME :GET):  (P.C. = 10)
RECORD-SOURCE-FILE-NAME:  (P.C. = 151)
FDEFINE:  (P.C. = 26)
SI:LOAD-BIN-OP-FDEFINE:  (P.C. = 7)
SI:BIN-LOAD-NEXT-COMMAND:  (P.C. = 24)
SI:BIN-LOAD-TOP-LEVEL:  (P.C. = 6)
(:METHOD ZWEI:MAJOR-MODE :DEFAULT :LOAD-BINARY-FILE):  (P.C. = 4)
SI:BIN-LOAD-FILE-INTERNAL:  (P.C. = 131)
FS:LOAD-STREAM:  (P.C. = 16)
LOAD:  (P.C. = 122)
SI:*EVAL:  (P.C. = 370)
PROGN:  (P.C. = 22)
SI:*EVAL:  (P.C. = 421)
COND:  (P.C. = 23)
SI:*EVAL:  (P.C. = 421)
LET:  (P.C. = 102)
SI:*EVAL:  (P.C. = 605)
SI:DO-INTERNAL:  (P.C. = 447)
LOAD-WORLD:  (from OBERON:SYS$DISK:[TIM.W]LOAD)
SI:*EVAL:  (P.C. = 644)
SI:READFILE-INTERNAL:  (P.C. = 77)
FS:LOAD-STREAM:  (P.C. = 16)
LOAD:  (P.C. = 122)
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL:  (P.C. = 7)
17-Sep-84 22:47:49-EDT,978;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 17 Sep 84 22:47-EDT
Date: 17 September 1984 22:43-EDT
From: Christopher C. Stacy <CSTACY @ MIT-MC>
Subject:  Made more consistent with humans in Common Lisp
To: DCP @ SCRC-TENEX
cc: BUG-LISPM @ MIT-OZ
In-reply-to: Msg of 17 Sep 1984 09:24-EDT from David C. Plummer <DCP at SCRC-TENEX>

    Date: Monday, 17 September 1984, 09:24-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>
    To:   Christopher C. Stacy <CSTACY>, BUG-LISPM at MIT-OZ
    Re:   Made more consistent with humans in Common Lisp
    In-Reply-To: The message of 16 Sep 84 22:18-EDT from Christopher C. Stacy <CSTACY at MIT-MC>
    Message-ID: <840917092424.3.DCP@NEPONSET.SCRC.Symbolics>

        Date: 16 September 1984 22:18-EDT
        From: Christopher C. Stacy <CSTACY @ MIT-MC>

        The IBASE should be in the status-modeline near the package.
    And what base should be used to print it out with...
Base ten with a decimal point.
18-Sep-84 00:15:34-EDT,598;000000000000
Mail-From: CJL created at 18-Sep-84 00:14:58
Date: Tue, 18 Sep 1984  00:14 EDT
Message-ID: <CJL.12048446797.BABYL@MIT-OZ>
From: Chris Lindblad <CJL@MIT-OZ>
To:   Info-LISPM-MIT@MIT-OZ
Subject: Better Symbolics Release 5.2 at MIT

I have made a new world load, >Release-5-2-bulletin.load.1,
on MOON. It has the two patches mentioned in the Release 5.2 bulletin.
These two patches involve multiple fonts in ZWEI, and a make-system fix.
These patches weren't in the release 5.2 I had previously announced,
and only partially in the world >Release-5-2-fixed.load as announced by
Pinhead. 
18-Sep-84 02:13:51-EDT,3280;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 18 Sep 84 02:13-EDT
Date: Tuesday, 18 September 1984, 02:15-EDT
From: Elisha Sacks <ELISHA at MIT-OBERON>
To: BUG-LISPM at MIT-OZ

In Experimental System 99.2, CADR 4.0, Experimental ZMail 54.0,
MIT-Specific 23.0, microcode 320, GC@2, on Lisp Machine Sixteen:


Insert your description of the circumstances here:

Compiling some Macsyma sources...

>>TRAP 6056 (ARGTYP NUMBER PP T X1MNS)
The argument to 1-, NIL, was of the wrong type.
The function expected a number.
Backtrace from the debugger:

COMPILER:PEEP-PREVIOUS-INSN-INDEX-SKIPPING-TAGS (P.C. = 22)

 Arg 0 (INDEX): NIL
Local 0 (I): NIL
Local 1 (TEM): NIL


COMPILER:PEEP-ONE-SPOT (P.C. = 368)

 Arg 0 (INDEX): 123
Local 0 (X): NIL
Local 1 (X-PTR): NIL
Local 2 (Y): (COMPILER:BRANCH COMPILER:NILIND FALSE NIL ...)
Local 3 (Z): (COMPILER:MOVE COMPILER:D-PDL (SPECIAL B))
Local 4 (Z-PTR): 125
Local 5 (TAG-SKIPPED-FLAG): T
Local 6 (Y-JUST-SETS-INDS): NIL
Local 7 (Y-BRANCH-TARGET-INDEX): NIL
Local 8 (LENGTH): 178
Local 9 (PREV-PTR): NIL
Local 10 (TARGET-PTR): NIL
Local 11 (PREV-MATCH): NIL
Local 12 (TARGET-MATCH): NIL
Local 13 (OINSN): NIL
Local 14 (NTAG): NIL
Local 15 (TARGET): NIL
Local 16 (X-PTR): NIL
Local 17 (OTAG): NIL
Local 18 (OY): NIL
Local 19 (CONST): NIL
Local 20 (.SELECTQ.ITEM.): NIL
Local 21 (INDS-USED): NIL
Local 22 (FINAL-BRANCH): NIL
Local 23 (INDICATOR): NIL
Local 24 (SENSE): NIL
Local 25 (TOTAL-POPS): NIL
Local 26 (I): NIL
Local 27 (F): NIL


COMPILER:PEEP-WHOLE-FUNCTION (P.C. = 35)

Local 0 (PEEP-QUEUE): NIL


COMPILER:PEEP (P.C. = 90)

 Arg 0 (PEEP-CODE-ARRAY): #<ART-Q-LIST-1536 20410537>
 Arg 1 (FUNCTION-NAME): TRIGINT
Local 0 (INSN-COUNT): 0
Local 1: NIL
Local 2 (ELT): NIL
Local 3 (START-TIME): 2493793777


COMPILER:QC-TRANSLATE-FUNCTION (P.C. = 379)

 Arg 0 (FUNCTION-SPEC): TRIGINT
 Arg 1 (EXP): (NAMED-LAMBDA TRIGINT (EXP VAR) (BLOCK TRIGINT **))
 Arg 2 (QC-TF-PROCESSING-MODE): COMPILER:MACRO-COMPILE
 Arg 3 (QC-TF-OUTPUT-MODE): COMPILER:QFASL
   --Defaulted args:--
 Arg 4 (NAME-FOR-FUNCTION): TRIGINT
Local 0 (NEW-OBJECT-THIS-LEVEL): T
Local 1 (VAL): NIL
Local 2 (VARIABLES-LISTS): ((** ** ** ** ...))
Local 3 (L): ((TRIGINT TRIGINT ** NIL ...))
Local 4 (FUNCTION-TO-DEFINE): TRIGINT
Local 5 (EXP): (NAMED-LAMBDA TRIGINT (EXP VAR) (BLOCK TRIGINT **))
Local 6 (NAME-FOR-FUNCTION): TRIGINT
Local 7 (NEW-OBJECT-THIS-LEVEL): NIL
Local 8: ("Give up on compiling ~S" TRIGINT)
Local 9: (ERROR ("Give up on compiling ~S" TRIGINT) T ("Give up on compiling ~S" TRIGINT) ...)
Local 10 (VL): NIL
Local 11 (V): NIL


Remainder of stack:

COMPILER:QC-FILE-FORM (P.C. = 81)
COMPILER:QC-FILE-COMMON (P.C. = 96)
COMPILER:COMPILE-DRIVER (P.C. = 586)
COMPILER:QC-FILE-WORK-COMPILE (P.C. = 36)
COMPILER:COMPILE-STREAM (P.C. = 581)
(:INTERNAL QC-FILE 1) (P.C. = 65)
QC-FILE (P.C. = 565)
SI:QC-FILE-1 (P.C. = 36)
SI:DO-FILE-TRANSFORMATIONS (P.C. = 171)
SI:PERFORM-TRANSFORMATIONS (P.C. = 82)
SI:PERFORM-TRANSFORMATIONS (P.C. = 63)
MAKE-SYSTEM (P.C. = 158)
SYSTEM:EVAL1 (P.C. = 717)
EVALHOOK (P.C. = 37)
SI:EVAL-ABORT-TRIVIAL-ERRORS (P.C. = 45)
SI:LISP-TOP-LEVEL1 (P.C. = 274)
SI:LISP-TOP-LEVEL2 (P.C. = 23)
SI:PROCESS-TOP-LEVEL (P.C. = 115)
18-Sep-84 09:26:38-EDT,1635;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 18 Sep 84 09:26-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 92677; Tue 18-Sep-84 09:27:27-EDT
Date: Tuesday, 18 September 1984, 09:26-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Infinite loop in pathname code
To: TIM at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 17 Sep 84 22:16-EDT from TIM at MIT-MC
Message-ID: <840918092638.4.HORNIG@PEACE.SCRC.Symbolics>

    Date: Monday, 17 September 1984, 22:16-EDT
    From:  <TIM at MIT-MC>

    In Symbolics 3600 Release 5.2, Experimental IP-TCP 15.3, FEP 18, on Lisp Machine Minnie Mouse:

    ???

    >>Error: The control stack overflowed.
    While in the function PROCESS-LOCK  (:METHOD SI:EQUAL-HASH-TABLE :GET-HASH)  (:METHOD FS:PATHNAME-HASH-TABLE-MIXIN :GET-PATHNAME)

A likely explanation for this is an unfortunate interaction between the
pathname system and the namespace system.  My guess is that that at some
point Minnie displayed a notification saying something like "It is
necessary to combine the hosts INTERNET|MIT-TWEETY-PIE and
MIT|TWEETY-PIE.  This may cause problems until the next use of
SI:FULL-GC.".  What you experienced is one of the problems it causes.
If the two objects are not both cached in your band, rebooting will fix
the problem.

At a low level, it is because there are two versions of TWEETY's host
object, one of which is structure-forwarded to the other.  However, for
efficientcy, EQ does not follow structure forwarding.  The two objects,
while identical for all other purposes, are not EQ.
18-Sep-84 21:01:13-EDT,1440;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 18 Sep 84 20:59-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 93163; Tue 18-Sep-84 21:04:30-EDT
Date: Tuesday, 18 September 1984, 21:03-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: CHECK-ARG
To: PAO at MIT-EECS
cc: Bug-LispM at MIT-OZ, RSW at SCRC-STONY-BROOK
In-Reply-To: The message of 20 Jul 84 14:36-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>
Disposition: interesting suggestion, but maybe too dangerous?
Category: core
Message-ID: <840918210305.1.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 20 July 1984, 14:36-EDT
    From: Patrick A. O'Donnell <PAO at MIT-EECS>

    In Release 5.0, Experimental MIT 1.4, FEP 18, on Lisp Machine Marilyn Monroe (3600):

    It would be useful if CHECK-ARG and friends allowed one to specify the
    flavor of error to signal.  Then programmers could tailor the error
    handling to their particular systems.

My feeling is that if the user supplies the wrong type of argument, it
really should FERROR and the user should correct his code.  We don't
want to encourage complete DWIM, do we?  Granted, there may be some
automatic programming systems that could use this, but shouldn't it be
considered a bug (in the automatic programmer) if it violiated the
contracts of the functions it wrote?

Maybe you can give a specific example we can use for discussion?
18-Sep-84 21:27:31-EDT,2398;000000000000
Received: from MIT-SMOKEY by MIT-OZ via Chaosnet; 18 Sep 84 21:25-EDT
Date: Tuesday, 18 September 1984, 21:26-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: Bears growling at the DIFNREIFH
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 22, on Lisp Machine Smokey:

Why does ARPANET|ZOO or INTERNET|ZOO keep me from making a ZOO logical
pathname locally?  I can always get to ARPANET|ZOO by typing it out.  There
are only so many good names around for things, and if people have to make
room for everyone on the arpanet (and they're not even running Zetalisp)
with logical pathnames, the logical pathnames are likely to end up being
things like DIFNREIFH:  And why should a mere unix host get to have a name
that a group of Lisp Machines were using before hand?  Where are your
priorities?

>>Error: The name ZOO is already in use by physical host ZOO.
While in the function FS:MAKE-LOGICAL-PATHNAME-HOST  SI:*EVAL  SI:READFILE-INTERNAL

FS:MAKE-LOGICAL-PATHNAME-HOST:  (P.C. = 120)
   Arg 0 (NAME): "ZOO"
   Rest arg: NIL
   Local 2 (NO-SEARCH-FOR-SHADOWED-PHYSICAL): NIL
   Local 3 (HOST): #<UNIX-HOST ZOO 14752117>
   Local 4 (FILE): "The name ~A is already in use by physical host ~A."
   Local 5 (MODULE): "ZOO"
   Local 6 (.STREAM-ABORT-FLAG.): #<UNIX-HOST ZOO 14752117>
   Local 7 (STREAM): #<DTP-LOCATIVE 140265>

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (FS:MAKE-LOGICAL-PATHNAME-HOST "ZOO")

SI:READFILE-INTERNAL:  (P.C. = 77)
   Arg 0 (STANDARD-INPUT-initialization): #<FILE-INPUT-CHARACTER-STREAM "SYS: SITE; ZOO.SYSTEM.NEWEST" 316712>
   Arg 1 (PKG): NIL
   Arg 2 (NO-MSG-P): T

SI:MAYBE-RELOAD-SYSTEM-DECLARATION:  (P.C. = 105)
   Arg 0 (SYSTEM-NAME): ZOO
   Arg 1 (KEYWORDS): (:NOCONFIRM)

SI:FIND-SYSTEM-NAMED:  (P.C. = 50)
   Arg 0 (NAME): ZOO
   --Defaulted args:--
   Arg 1 (NO-ERROR-P): NIL
   Arg 2 (LOADED-ONLY): NIL

MAKE-SYSTEM:  (P.C. = 6)
   Arg 0 (SYSTEM): ZOO
   Rest arg (KEYWORDS): (:COMPILE)

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (MAKE-SYSTEM (QUOTE ZOO) :COMPILE)

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1" :ABORTED-FUNCTION NIL :BEFORE-PROMPT-FUNCTION NIL :READ-FUNCTION NIL :EVAL-FUNCTION NIL ...)

Rest of stack:
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL:  (P.C. = 7)
18-Sep-84 21:30:08-EDT,3680;000000000000
Received: from MIT-LENNON by MIT-OZ via Chaosnet; 18 Sep 84 21:28-EDT
Date: Tuesday, 18 September 1984, 21:29-EDT
From: John C. Mallery <JCMA at MIT-OZ>
Subject: There should be restart handlers for retrying operations here
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.57, FEP 18, on Lisp Machine John Lennon:

Also, VMS file job is dropping connection left and right on pig.

>>Error: Attempt to get a packet from CHAOS Connection for O2539 to PIG, which stopped responding.
While in the function CHAOS:BAD-CHAOS-CONNECTION-STATE  CHAOS:GET-NEXT-PKT  (:DEFUN-METHOD FS:FILE-NEXT-READ-PKT)

CHAOS:BAD-CHAOS-CONNECTION-STATE:  (P.C. = 20)
   Arg 0 (CONN): #<CHAOS Connection for O2539 to PIG 70604356>
   Arg 1 (ATTEMPT): "get a packet from"
   Local 2 (STATE): CHAOS:HOST-DOWN-STATE
   Local 3 (PKT): NIL

CHAOS:GET-NEXT-PKT:  (P.C. = 46)
   Arg 0 (CONN): #<CHAOS Connection for O2539 to PIG 70604356>
   Arg 1 (NO-HANG-P): NIL
   --Defaulted args:--
   Arg 2 (STREAM): NIL

(:DEFUN-METHOD FS:FILE-NEXT-READ-PKT):  (P.C. = 21)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[S.R5.PATCH]SYS242.VPD" 3627773>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN -- 5. IV's, 1. FL's 73723654>
   Arg 2 (NO-HANG-P): NIL
   Arg 3 (FOR-SYNC-MARK-P): NIL

(:METHOD FS:FILE-INPUT-STREAM-MIXIN :GET-NEXT-INPUT-PKT):  (P.C. = 17)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[S.R5.PATCH]SYS242.VPD" 3627773>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN -- 5. IV's, 1. FL's 73723654>
   Arg 2 (OPERATION): :GET-NEXT-INPUT-PKT
   Arg 3 (NO-HANG-P): NIL

(:METHOD CHAOS:CHARACTER-INPUT-STREAM-MIXIN :NEXT-INPUT-BUFFER):  (P.C. = 6)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[S.R5.PATCH]SYS242.VPD" 3627773>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor CHAOS:CHARACTER-INPUT-STREAM-MIXIN -- 1. IV's, 0. FL's 73723717>
   Arg 2 (OPERATION): :NEXT-INPUT-BUFFER
   Arg 3 (NO-HANG-P): NIL

(:METHOD SI:BASIC-BUFFERED-INPUT-STREAM :SETUP-NEXT-INPUT-BUFFER):  (P.C. = 11)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[S.R5.PATCH]SYS242.VPD" 3627773>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM -- 3. IV's, 0. FL's 73723754>
   Arg 2 (OPERATION): :SETUP-NEXT-INPUT-BUFFER
   --Defaulted args:--
   Arg 3 (NO-HANG-P): NIL

(:METHOD FS:FILE-INPUT-CHARACTER-STREAM :COMBINED :SETUP-NEXT-INPUT-BUFFER):  (P.C. = 10)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[S.R5.PATCH]SYS242.VPD" 3627773>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-CHARACTER-STREAM -- 1. IV's, 7. FL's 73723664>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD SI:BASIC-BUFFERED-INPUT-STREAM :TYI):  (P.C. = 13)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[S.R5.PATCH]SYS242.VPD" 3627773>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM -- 3. IV's, 0. FL's 73723754>
   Arg 2 (OPERATION): :TYI
   --Defaulted args:--
   Arg 3 (EOF): NIL

Rest of stack:
SI:XR-XRTYI-WHITE-OUT:  (P.C. = 5)
SI:XR-READ-THING:  (P.C. = 15)
(:INTERNAL SI:READ-INTERNAL 0.):  (P.C. = 15)
SI:READ-INTERNAL:  (P.C. = 53)
READ:  (P.C. = 6)
SI:READ-PATCH-DIRECTORY:  (P.C. = 57)
LOAD-PATCHES:  (P.C. = 673)
PATCH-LOAD:  (P.C. = 24)  (from PIG:SYS$DISK:[JCMA]LISPMINI)
HELLO:  (P.C. = 57)  (from PIG:SYS$DISK:[JCMA]LISPMINI)
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL2:  (P.C. = 5)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
18-Sep-84 21:33:12-EDT,1081;000000000000
Received: from MIT-LENNON by MIT-OZ via Chaosnet; 18 Sep 84 21:32-EDT
Date: Tuesday, 18 September 1984, 21:33-EDT
From: John C. Mallery <JCMA at MIT-OZ>
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.57, FEP 18, on Lisp Machine John Lennon:



>>Error: FILE protocol violation at interrupt level from host PIG, unknown transaction id in "T2549 I2545 ERROR MSC C Connection in illegal state"
While in the function (:INTERNAL FS:HOST-CHAOS-INTERRUPT-FUNCTION 1.)  SI:PROCESS-RUN-FUNCTION-INTERNAL  SI:PROCESS-TOP-LEVEL

(:INTERNAL FS:HOST-CHAOS-INTERRUPT-FUNCTION 1.):  (P.C. = 12)
   Arg 0 (PKT): #<Chaos Packet 23142617>
   Arg 1 (CONN): #<CHAOS Connection for FILE 1 to PIG 70604356>

SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
   Arg 0 (RESTART-ON-RESET): NIL
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL FS:HOST-CHAOS-INTERRUPT-FUNCTION 1.) 25463637>
   Rest arg (ARGS): (#<Chaos Packet 23142617> #<CHAOS Connection for FILE 1 to PIG 70604356>)

SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
   Arg 0 (IGNORE): NIL
18-Sep-84 22:58:49-EDT,1978;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 18 Sep 84 22:57-EDT
Date: Sunday, 16 September 1984, 18:47-EDT
From: sr.ehpyc at MIT-SPEECH
Sender: joseph at SCRC-QUABBIN
Subject: Can't disk-save
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, ZOO 3.0, ZOO-KEEPER 3.0,
Experimental Spire-Macros 2.0, Experimental Versatec 2.1, Print 34.3,
Experimental Versatec-Spool 2.3, FEP 22, on Lisp Machine Smokey:

I tried to disk save.  SYS:LOADED-BAND-NAME has the value "FEP0:>release-5-2-zoo-site.load."
although the file name is FEP0:>release-5-2-zoo-site.load.1

I am renaming it to something shorter with the hope that the FEP will pass something that fits
to that variable.

>>Error: Bad version: must be a number, "*", "NEWEST" or "OLDEST": FEP0:>release-5-2-zoo-site.load.
While in the function (:METHOD FS:LMFS-PATHNAME-MIXIN :PARSE-NAMESTRING)  FS:PARSE-PATHNAME  FS:MERGE-PATHNAMES

FS:MERGE-PATHNAMES:  (P.C. = 10)
   Arg 0 (PATHNAME): "FEP0:>release-5-2-zoo-site.load."
   Arg 1 (DEFAULTS): "FEP:>Release-5-2.load"
   --Defaulted args:--
   Arg 2 (DEFAULT-VERSION): :NEWEST
   Local 3 (HOST): NIL
   Local 4 (DEFAULT): NIL
   Local 5 (NEW-DEVICE): NIL
   Local 6 (NEW-DIRECTORY): NIL
   Local 7 (NEW-NAME): NIL
   Local 8 (NEW-TYPE): NIL
   Local 9 (NEW-VERSION): NIL

DISK-SAVE:  (P.C. = 27)
   Arg 0 (DESTINATION-FILE): ">goldy.load"

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (DISK-SAVE ">goldy.load")

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1" :ABORTED-FUNCTION NIL :BEFORE-PROMPT-FUNCTION NIL :READ-FUNCTION NIL :EVAL-FUNCTION NIL ...)

SI:LISP-COMMAND-LOOP:  (P.C. = 115)
   Arg 0 (STREAM): #<LISP-LISTENER Lisp Listener 1 5300000 exposed>
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1")

SI:LISP-TOP-LEVEL1:  (P.C. = 22)
   Arg 0 (TERMINAL-IO-initialization): #<LISP-LISTENER Lisp Listener 1 5300000 exposed>

SI:LISP-TOP-LEVEL:  (P.C. = 7)
18-Sep-84 23:11:59-EDT,425;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 18 Sep 84 23:11-EDT
Date: 18 Sep 1984  23:16 EDT (Tue)
Message-ID: <SR.EHPYC.12048698260.BABYL@MIT-SPEECH>
From: Scott Cyphers <SR.EHPYC@MIT-SPEECH>
To:   sr.ehpyc@MIT-SPEECH
Cc:   BUG-LISPM@MIT-OZ
Subject: Can't disk-save
In-reply-to: Msg of 16 Sep 1984 18:47-EDT from sr.ehpyc

Shortening the name made the entire name fit in the string in
sys:loaded-band-name.
19-Sep-84 08:34:23-EDT,3420;000000000000
Received: from SCRC-PEACE by MIT-OZ via Chaosnet; 19 Sep 84 08:34-EDT
Date: Wednesday, 19 September 1984, 08:37-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: Bears growling at the DIFNREIFH
To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 18 Sep 84 21:26-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Message-ID: <840919083753.4.HORNIG@PEACE.SCRC.Symbolics>

    Date: Tuesday, 18 September 1984, 21:26-EDT
    From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>

    In Symbolics 3600 Release 5.2, FEP 22, on Lisp Machine Smokey:

    Why does ARPANET|ZOO or INTERNET|ZOO keep me from making a ZOO logical
    pathname locally?  I can always get to ARPANET|ZOO by typing it out.  There
    are only so many good names around for things, and if people have to make
    room for everyone on the arpanet (and they're not even running Zetalisp)
    with logical pathnames, the logical pathnames are likely to end up being
    things like DIFNREIFH:  And why should a mere unix host get to have a name
    that a group of Lisp Machines were using before hand?  Where are your
    priorities?

    >>Error: The name ZOO is already in use by physical host ZOO.
    While in the function FS:MAKE-LOGICAL-PATHNAME-HOST  SI:*EVAL  SI:READFILE-INTERNAL

The system is supposed to work the way you want it to.  Unfortunately,
when the changes to allow logical hosts to shadow physical hosts were
made, MAKE-LOGICAL-PATHNAME-HOST was overlooked.  It still contains an
error check which defeats the ability for a logical host to have the
same name as a physical host.  This will be fixed in a furure system
release.  In the mean time, this definition of it seems to work for me.
As with all quick fixes, I can't guarantee it.


; From file pathst.lisp >sys>io Q: (355)
#8R FILE-SYSTEM::(COMPILER-LET ((PACKAGE (PKG-FIND-PACKAGE "FILE-SYSTEM")))

;;; Define a new logical pathname host.  The actual translations to physical pathnames
;;; are defined by a file on SYS:SITE; which is different at each site.
;;; :NO-SEARCH-FOR-SHADOWED-PHYSICAL is same as for SET-LOGICAL-PATHNAME-HOST
;;; How :NO-SEARCH-FOR-SHADOWED-PHYSICAL is supposed to be passed to the
;;; SET-LOGICAL-PATHNAME-HOST form is not clear.
(DEFUN MAKE-LOGICAL-PATHNAME-HOST (NAME &KEY NO-SEARCH-FOR-SHADOWED-PHYSICAL)
  NO-SEARCH-FOR-SHADOWED-PHYSICAL		;should do something useful with this
  (SETQ NAME (STRING NAME))
  (IF (GET-LOGICAL-PATHNAME-HOST NAME T)
      (FORMAT ERROR-OUTPUT "~&Warning: the logical host ~A is already defined." NAME)
      (LET ((FILE (SEND (PARSE-PATHNAME (SEND NET:*LOCAL-SITE* :SITE-DIRECTORY))
			:NEW-PATHNAME :NAME NAME
			:CANONICAL-TYPE :LOGICAL-PATHNAME-DIRECTORY-TRANSLATIONS
			:VERSION :NEWEST)))
	(LET ((MODULE (FIRST (SI:SYSTEM-MODULES (SI:FIND-SYSTEM-NAMED
						  'LOGICAL-PATHNAMES-TRANSLATION-FILES)))))
	  (SETF (SI:MODULE-COMPONENTS MODULE)
		(APPEND (SI:MODULE-COMPONENTS MODULE) (LIST (LIST FILE)))))
	(WITH-OPEN-FILE (STREAM FILE)
	  (PKG-BIND "FS"
	    (SI:READFILE-INTERNAL STREAM NIL NIL))
	  (UNLESS (GET-LOGICAL-PATHNAME-HOST NAME T)
	    (FERROR "Loading the file ~A failed to define a logical host named ~A.
The file is supposed to contain a form such as (FS:SET-LOGICAL-PATHNAME-HOST ~:*~S
						:PHYSICAL-HOST ...
						:TRANSLATIONS ...)"
		    (SEND STREAM :TRUENAME) NAME))))))

)
19-Sep-84 10:03:47-EDT,1559;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 19 Sep 84 10:03-EDT
Received: from SCRC-HARLEM by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 82691; Wed 19-Sep-84 09:48:36-EDT
Date: Wednesday, 19 September 1984, 09:48-EDT
From: Joseph R Goldstone <joseph at SCRC-QUABBIN>
Subject: Can't disk-save
To: sr.ehpyc at MIT-SPEECH, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 16 Sep 84 18:47-EDT from sr.ehpyc at MIT-SPEECH,
             <SR.EHPYC.12048698260.BABYL@MIT-SPEECH>
Message-ID: <840919094838.6.JOSEPH@HARLEM.SCRC.Symbolics>

    Date: Sunday, 16 September 1984, 18:47-EDT
    From: sr.ehpyc at MIT-SPEECH

    In Symbolics 3600 Release 5.2, ZOO 3.0, ZOO-KEEPER 3.0,
    Experimental Spire-Macros 2.0, Experimental Versatec 2.1, Print 34.3,
    Experimental Versatec-Spool 2.3, FEP 22, on Lisp Machine Smokey:

    I tried to disk save.  SYS:LOADED-BAND-NAME has the value "FEP0:>release-5-2-zoo-site.load."
    although the file name is FEP0:>release-5-2-zoo-site.load.1

    >>Error: Bad version: must be a number, "*", "NEWEST" or "OLDEST": FEP0:>release-5-2-zoo-site.load.
    While in the function (:METHOD FS:LMFS-PATHNAME-MIXIN :PARSE-NAMESTRING)  FS:PARSE-PATHNAME  FS:MERGE-PATHNAMES

    Date: 18 Sep 1984  23:16 EDT (Tue)
    From: Scott Cyphers <SR.EHPYC@MIT-SPEECH>

    Shortening the name made the entire name fit in the string in
    sys:loaded-band-name.

In the current development system, the name is allowed (by both Lisp and the FEP)
to be up to 64 characters in length.  Thanks for the report.
19-Sep-84 10:12:58-EDT,1507;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 19 Sep 84 10:12-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 93333; Wed 19-Sep-84 10:14:22-EDT
Date: Wednesday, 19 September 1984, 10:12-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: del-if & rem-if
To: Robert Kassel <rob at MIT-OZ>
cc: BUG-LISPM at MIT-OZ, Bug-LMdoc at SCRC-TENEX,
    RSW at SCRC-STONY-BROOK
In-Reply-To: The message of 24 Jul 84 19:09-EDT from Robert Kassel <rob at MIT-OZ>
Disposition: ZL documentation bug
Category: core
Message-ID: <840919101244.5.DCP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 24 July 1984, 19:09-EDT
    From: Robert Kassel <rob at MIT-OZ>

    In Release 5.1 on Lisp Machine Grizzly (3600):

    "The" manual says that del-it is just like rem-if.  Rem-if takes an
    &rest extra-lists argument which del-if does not.  It should (I think).

"The" manual is wrong (at least from the implementation's point of
view).  Since the documented arglist doesn't have the &REST arg (which
is correct), it should really say
	del-if is just like rem-if except that it modifies list rather
	than creating a new list, and it doesn't take an extra-lists
	&rest argument.
Ditto for del-if-not.

The three users of rem-if in the system don't use the extra-lists.  I
think it exists because of the other name of the function (subset-not)
which has a mathematic meaning.

Common Lisp will replace all of this, so I hesitate to change any code.
19-Sep-84 10:26:24-EDT,1468;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 19 Sep 84 10:25-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 93340; Wed 19-Sep-84 10:30:40-EDT
Date: Wednesday, 19 September 1984, 10:29-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Bears growling at the DIFNREIFH
To: Charles Hornig <Hornig at SCRC-STONY-BROOK>,
    Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
In-Reply-To: <840919083753.4.HORNIG@PEACE.SCRC.Symbolics>
References: The message of 18 Sep 84 21:26-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>,
            <840918201634.6.RSL@RUSSIAN.SPA.Symbolics>,
            <840919083753.4.HORNIG@PEACE.SCRC.Symbolics>
Message-ID: <840919102905.7.DCP@NEPONSET.SCRC.Symbolics>

    Date: Wednesday, 19 September 1984, 08:37-EDT
    From: Charles Hornig <Hornig at SCRC-STONY-BROOK>

    The system is supposed to work the way you want it to.  Unfortunately,
    when the changes to allow logical hosts to shadow physical hosts were
    made, MAKE-LOGICAL-PATHNAME-HOST was overlooked.  It still contains an
    error check which defeats the ability for a logical host to have the
    same name as a physical host.  This will be fixed in a furure system
    release.  In the mean time, this definition of it seems to work for me.
    As with all quick fixes, I can't guarantee it.

Presumably the real fix will do something useful with
no-search-for-shadowed-physical?
19-Sep-84 10:40:49-EDT,1697;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 19 Sep 84 10:40-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 93346; Wed 19-Sep-84 10:45:12-EDT
Date: Wednesday, 19 September 1984, 10:43-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: There should be restart handlers for retrying operations here
To: John C. Mallery <JCMA at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 18 Sep 84 21:29-EDT from John C. Mallery <JCMA at MIT-OZ>
Message-ID: <840919104337.8.DCP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 18 September 1984, 21:29-EDT
    From: John C. Mallery <JCMA at MIT-OZ>

    In Symbolics 3600 Release 5.2, Experimental RELATUS 130.57, FEP 18, on Lisp Machine John Lennon:

    Also, VMS file job is dropping connection left and right on pig.
I'm afraid I can't help you with this part.

    >>Error: Attempt to get a packet from CHAOS Connection for O2539 to PIG, which stopped responding.
    While in the function CHAOS:BAD-CHAOS-CONNECTION-STATE  CHAOS:GET-NEXT-PKT  (:DEFUN-METHOD FS:FILE-NEXT-READ-PKT)

	...
    SI:READ-PATCH-DIRECTORY:  (P.C. = 57)

I'm guessing this is where you want the ERROR-RESTART.  That is, it
should offer to try reading the patch directory again.  It's in the
source.

    LOAD-PATCHES:  (P.C. = 673)
    PATCH-LOAD:  (P.C. = 24)  (from PIG:SYS$DISK:[JCMA]LISPMINI)
    HELLO:  (P.C. = 57)  (from PIG:SYS$DISK:[JCMA]LISPMINI)
    SI:*EVAL:  (P.C. = 370)
    SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
    SI:LISP-COMMAND-LOOP:  (P.C. = 115)
    SI:LISP-TOP-LEVEL1:  (P.C. = 22)
    SI:LISP-TOP-LEVEL2:  (P.C. = 5)
    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
19-Sep-84 10:47:09-EDT,1751;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 19 Sep 84 10:46-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 82705; Wed 19-Sep-84 10:46:16-EDT
Date: Wednesday, 19 September 1984, 10:45-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
To: John C. Mallery <JCMA at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 18 Sep 84 21:33-EDT from John C. Mallery <JCMA at MIT-OZ>
Message-ID: <840919104555.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 18 September 1984, 21:33-EDT
    From: John C. Mallery <JCMA at MIT-OZ>

    In Symbolics 3600 Release 5.2, Experimental RELATUS 130.57, FEP 18, on Lisp Machine John Lennon:

This think this should have been sent to Bug-VMS, or someplace else.  Do
you have beliefs it was the LispMs fault?  My guess is that the data
connection timed out and the control connection was still alive.  That's
a pure guess.

    >>Error: FILE protocol violation at interrupt level from host PIG, unknown transaction id in "T2549 I2545 ERROR MSC C Connection in illegal state"
    While in the function (:INTERNAL FS:HOST-CHAOS-INTERRUPT-FUNCTION 1.)  SI:PROCESS-RUN-FUNCTION-INTERNAL  SI:PROCESS-TOP-LEVEL

    (:INTERNAL FS:HOST-CHAOS-INTERRUPT-FUNCTION 1.):  (P.C. = 12)
       Arg 0 (PKT): #<Chaos Packet 23142617>
       Arg 1 (CONN): #<CHAOS Connection for FILE 1 to PIG 70604356>

    SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
       Arg 0 (RESTART-ON-RESET): NIL
       Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL FS:HOST-CHAOS-INTERRUPT-FUNCTION 1.) 25463637>
       Rest arg (ARGS): (#<Chaos Packet 23142617> #<CHAOS Connection for FILE 1 to PIG 70604356>)

    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
       Arg 0 (IGNORE): NIL
19-Sep-84 13:14:12-EDT,1560;000000000000
Received: from MIT-ROBOT-4 by MIT-OZ via Chaosnet; 19 Sep 84 13:13-EDT
Date: Monday, 17 September 1984, 09:05-EDT
From: Patrick A. O'Donnell <PAO at MIT-EECS>
Subject: CHECK-ARG
To: David C. Plummer <DCP at SCRC-TENEX>
Cc: PAO at MIT-EECS, Bug-LispM at MIT-OZ, RSW at SCRC-STONY-BROOK
In-reply-to: <840918210305.1.DCP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 18 September 1984, 21:03-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

	Date: Friday, 20 July 1984, 14:36-EDT
	From: Patrick A. O'Donnell <PAO at MIT-EECS>

	In Release 5.0, Experimental MIT 1.4, FEP 18, on Lisp Machine Marilyn Monroe (3600):

	It would be useful if CHECK-ARG and friends allowed one to specify the
	flavor of error to signal.  Then programmers could tailor the error
	handling to their particular systems.

    My feeling is that if the user supplies the wrong type of argument, it
    really should FERROR and the user should correct his code.  We don't
    want to encourage complete DWIM, do we?  Granted, there may be some
    automatic programming systems that could use this, but shouldn't it be
    considered a bug (in the automatic programmer) if it violiated the
    contracts of the functions it wrote?

    Maybe you can give a specific example we can use for discussion?

The particular customization I wanted was to be able to specify the
:BUG-REPORT-RECIPIENT-SYSTEM for the error, so that users could report any
problems to the right place, instead of BUG-LISPM, easily.  (Perhaps there
is a better way for this to happen?)
19-Sep-84 14:19:23-EDT,2945;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 19 Sep 84 14:19-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 82825; Wed 19-Sep-84 14:22:37-EDT
Date: Wednesday, 19 September 1984, 14:22-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: CHECK-ARG
To: Patrick A. O'Donnell <PAO at MIT-EECS>,
    David C. Plummer <DCP at SCRC-TENEX>
cc: Bug-LispM at MIT-OZ, RSW at SCRC-STONY-BROOK
In-Reply-To: The message of 17 Sep 84 09:05-EDT from Patrick A. O'Donnell <PAO at MIT-EECS>
Message-ID: <840919142238.7.DCP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 17 September 1984, 09:05-EDT
    From: Patrick A. O'Donnell <PAO at MIT-EECS>

	Date: Tuesday, 18 September 1984, 21:03-EDT
	From: David C. Plummer <DCP at SCRC-TENEX>

	    Date: Friday, 20 July 1984, 14:36-EDT
	    From: Patrick A. O'Donnell <PAO at MIT-EECS>

	    In Release 5.0, Experimental MIT 1.4, FEP 18, on Lisp Machine Marilyn Monroe (3600):

	    It would be useful if CHECK-ARG and friends allowed one to specify the
	    flavor of error to signal.  Then programmers could tailor the error
	    handling to their particular systems.

	My feeling is that if the user supplies the wrong type of argument, it
	really should FERROR and the user should correct his code.  We don't
	want to encourage complete DWIM, do we?  Granted, there may be some
	automatic programming systems that could use this, but shouldn't it be
	considered a bug (in the automatic programmer) if it violiated the
	contracts of the functions it wrote?

	Maybe you can give a specific example we can use for discussion?

    The particular customization I wanted was to be able to specify the
    :BUG-REPORT-RECIPIENT-SYSTEM for the error, so that users could report any
    problems to the right place, instead of BUG-LISPM, easily.  (Perhaps there
    is a better way for this to happen?)

Oh, THAT problem!!!  The current solution is that users should try and
figure out what subsystem caused the error and send it to the
appropriate mailing list.  Obviously that isn't the right thing.  As an
example, suppose somebody was running a 3600 Fortran program and got a
microcode signalled error.  Was it the system's fault?  The user's
algorithm?  The Fortran compiler doing a wrong optimization ("there are
no bugs in 3600 Fortran")?  The Lisp compiler doing something wrong?

For your specific case, I see your point.  What I would suggest for now
(this is a bit of a kludge) is to define
	(:method check-arg :bug-report-recipient-system)
This has the unfortunate side effect that you will get all bugs caused
by a check-arg and you will have to forward appropriate ones.  It also
means you shouldn't distribute your system to the masses because it may
interact with other systems.

In the long run, it sounds OK.  I don't have the time to think about the
implementation details, etc.  Maybe somebody else does?
19-Sep-84 15:32:42-EDT,2680;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 19 Sep 84 15:29-EDT
Date: Wednesday, 19 September 1984, 15:30-EDT
From: Webster Dove <dove at MIT-BUGS-BUNNY>
Subject: converse bug
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, UTIL 1.0, FPA 1.0,
Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

This happened when I tried invoking converse to sri-nic

>>Trap: The argument given to the CAR instruction, "dove@TWEETY-PIE", was not a list, a locative or NIL.
While in the function GETL  ZWEI:STRING-FROM-HEADER  MAILER:SMTP-UNPARSE-PATH

GETL:  (P.C. = 30)
   Arg 0 (SYMBOL): #<DTP-LOCATIVE 26540457>
   Arg 1 (INDICATOR-LIST): (:INFERIORS)
   Local 2 (PLIST): "dove@TWEETY-PIE"

ZWEI:STRING-FROM-HEADER:  (P.C. = 27)
   Arg 0 (HEADER): "dove@TWEETY-PIE"
   Arg 1 (FORMAT): :HOST
   Arg 2 (NAMING-CONVENTION): :ARPANET

MAILER:SMTP-UNPARSE-PATH:  (P.C. = 7)
   Arg 0 (RECIP): "dove@TWEETY-PIE"
   Arg 1 (NAMING-CONVENTION): :ARPANET
   Arg 2 (SEARCH-RULES): (#<NAMESPACE MIT 35315623> #<NAMESPACE INTERNET 14300012> #<NAMESPACE SCRC 35316233> #<NAMESPACE ARPANET 36753200>)

(:METHOD MAILER:SMTP-USER :START-MESSAGE):  (P.C. = 13)
   Arg 0 (SELF): #<SMTP-USER 7546557>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:SMTP-USER -- 7. IV's, 1. FL's 46722757>
   Arg 2 (OPERATION): :START-MESSAGE
   Rest arg (IGNORE): ("dove@TWEETY-PIE")

(:METHOD MAILER:SMTP-USER :COMBINED :START-MESSAGE):  (P.C. = 15)
   Arg 0 (SELF): #<SMTP-USER 7546557>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:SMTP-USER -- 7. IV's, 1. FL's 46722757>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

MAILER:INVOKE-SERVICE-SEND-WITH-SMTP:  (P.C. = 32)
   Arg 0 (PATH): #<SERVICE-ACCESS-PATH SEND (SMTP) -- SRI-NIC on INTERNET 7546512>

NET:INVOKE-SERVICE-ACCESS-PATH:  (P.C. = 21)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH SEND (SMTP) -- SRI-NIC on INTERNET 7546512>
   Arg 1 (SERVICE-ARGS): (:FROM "dove@TWEETY-PIE" :TEXT "Can you reply to me from there yet?" :TO "ian" :DATE 2673458974.)

NET:INVOKE-SERVICE-ON-HOST:  (P.C. = 272)
   Arg 0 (SERVICE): :SEND
   Arg 1 (HOST): #<TOPS20-HOST SRI-NIC 43212230>
   Rest arg (SERVICE-ARGS): (:FROM "dove@TWEETY-PIE" :TEXT "Can you reply to me from there yet?" :TO "ian" :DATE 2673458974.)

Rest of stack:
ZWEI:SEND-MSG:  (P.C. = 150)
ZWEI:CONVERSE-SEND-MSG:  (P.C. = 16)
ZWEI:COM-CONVERSE-SEND:  (P.C. = 2)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:CONVERSE-WINDOW-TOP-LEVEL:  (P.C. = 27)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
19-Sep-84 16:21:20-EDT,2401;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 19 Sep 84 16:20-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 93620; Wed 19-Sep-84 15:57:56-EDT
Date: Wednesday, 19 September 1984, 15:57-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: converse bug
To: Webster Dove <dove at MIT-BUGS-BUNNY>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 19 Sep 84 15:30-EDT from Webster Dove <dove at MIT-BUGS-BUNNY>
Message-ID: <840919155731.2.HORNIG@PEACE.SCRC.Symbolics>

    Date: Wednesday, 19 September 1984, 15:30-EDT
    From: Webster Dove <dove at MIT-BUGS-BUNNY>

    In Symbolics 3600 Release 5.2, UTIL 1.0, FPA 1.0,
    Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

    This happened when I tried invoking converse to sri-nic

    >>Trap: The argument given to the CAR instruction, "dove@TWEETY-PIE", was not a list, a locative or NIL.
    While in the function GETL  ZWEI:STRING-FROM-HEADER  MAILER:SMTP-UNPARSE-PATH

I just tripped over this yesterday doing QA on the TCP we plan to ship.
Here is what I did to it:


; From file smtp.lisp >rel-5>zmail Y: (8)
#10R MAILER:(COMPILER-LET ((PACKAGE (PKG-FIND-PACKAGE "MAILER")))

(define-protocol :smtp (:send :byte-stream)
  (:desirability .65)
  (:invoke (path)
   (let ((plist (locf (neti:service-access-path-args path)))
	 (host (neti:service-access-path-host path)))
     (with-open-stream (mailer (make-instance 'smtp-user :host host :smtp-command "SEND"
					      :stream (get-connection-for-service
							path :ascii-translation t)))
       (send mailer :start-message (zwei:parse-one-address (get plist :from)))
       (send mailer :verify-recipient (zwei:parse-one-address (get plist :to)))
       ;; Unfortunately, nested with-input-from-string doesn't work.  Fixed in common lisp.
       (with-input-from-string
	 (stream (string-append
		   (with-output-to-string (stream)
		     (let ((zwei:*network-header-format* (smtp-naming-convention host)))
		       (zwei:output-headers stream
					    `(:headers (:date ,(get plist :date)
							:from ,(zwei:parse-addresses (get plist :from))
							:to ,(ZWEI:PARSE-ADDRESSES (get plist :TO)))
					      :header-format :internet :internet-format t)
					    t)))
		   (get plist :text)))
	 (send mailer :receive-message nil stream))
       (send mailer :finish-message)))))

)
19-Sep-84 18:13:36-EDT,871;000000000000
Mail-From: MARTY created at 19-Sep-84 18:13:02
Date: 19 Sep 1984  18:13 EDT (Wed)
Message-ID: <MARTY.12048905196.BABYL@MIT-OZ>
From: Martin David Connor <MARTY@MIT-OZ>
To:   Chaos-maint@MIT-MC, Bug-Hardware@MIT-OZ, Bug-Lispm-MIT@MIT-OZ
Subject: Subnet 6 lossage


I have removed TOTO and CADR27 from subnet 6.  It is getting flooded
with packets which seem to be coming from the file computer (CADR27).
To reporducibly destroy the subnet, go over to CADR27 and get a peek
window and click left on "HOSTAT".  The machine will wedge, and the
subnet will wedge as it sends endless packets.  You can try
warm-booting, but that doesn't always help.

In short, someone should look at CADR27.  I took TOTO off of 6 because
it cannot afford to crash with 45/60  users on NVTs.

I hope someone who is good at this sort of debugging will look closer
into it.

19-Sep-84 21:06:58-EDT,968;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 19 Sep 84 21:06-EDT
Date: Wednesday, 19 September 1984, 20:58-EDT
From:  <CFRY at MIT-OZ>
Subject: flavor examiner extension
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

   I wanted this functionality and couldn't find it in the code.
    I call it from a series of menus that firsts asks you to select
    a flavor, then asks for operations on the selected flavor, one of
    which is examine-flavor.
    If something like this isn't already in the system, please install this.

    (defun flavex:examine-flavor (flavor &aux flavor-examiner-instance)
      "Brings up the Flavor Examiner with FLAVOR."
      (setq flavor-examiner-instance (OR (tv:FIND-WINDOW-OF-FLAVOR 'flavex:frame)
					 (tv:MAKE-WINDOW 'flavex:frame)))
      (send flavor-examiner-instance :examine-flavor flavor)
      (send flavor-examiner-instance :mouse-select))
19-Sep-84 21:07:42-EDT,614;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 19 Sep 84 21:06-EDT
Date: Wednesday, 19 September 1984, 21:00-EDT
From:  <CFRY at MIT-OZ>
Subject: flavor examiner method arglist
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

    In the Flavor examiner, when I asked to see the arglist of
    a method, it printed:
    (self sys:self-mapping-table si:operation my-real-arg)

    when it should have just printed:
    (my-real-arg)

    The flavor examiner ought to have an item in the zmail 
    bug report menu [click middle on "MAIL"].
20-Sep-84 00:20:23-EDT,2076;000000000000
Received: from MIT-MOON by MIT-OZ via Chaosnet; 20 Sep 84 00:20-EDT
Date: Thursday, 20 September 1984, 00:23-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: Error during band transfer
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:

Trying to (si:transmit-band "Release-5-2-bulletin.load" "buddy")

>>Error: Remote error: The host MIT-MC cannot be a file computer.
While in the function SI:CHECK-FOR-REMOTE-ERROR  SI:REMOTE-COMMAND  SI:TRANSMIT-BAND-WITH-RETRY

SI:CHECK-FOR-REMOTE-ERROR:  (P.C. = 33)
   Arg 0 (STREAM): #<CHARACTER-STREAM 4470601>
   Local 1 (LINE): "-The host MIT-MC cannot be a file computer."
   Local 2 (*SELECTQ-ITEM*): 55

SI:REMOTE-COMMAND:  (P.C. = 14)
   Arg 0 (STREAM): #<CHARACTER-STREAM 4470601>
   Arg 1 (FORMAT-STRING): "FILE ~A~%"
   Rest arg (FORMAT-ARGS): ("FEP:>Release-5-2-bulletin.load.NEWEST")

SI:TRANSMIT-BAND-WITH-RETRY:  (P.C. = 77)
   Arg 0 (MODE): :FAST
   Arg 1 (STREAM): #<CHARACTER-STREAM 4470601>
   Arg 2 (SOURCE-BAND): "Release-5-2-bulletin.load"
   Arg 3 (TARGET-HOST): "buddy"
   Arg 4 (TARGET-BAND): NIL
   Arg 5 (SUBSET-START): NIL
   Arg 6 (SUBSET-N-BLOCKS): NIL

SI:TRANSMIT-BAND:  (P.C. = 46)
   Arg 0 (SOURCE-BAND): "Release-5-2-bulletin.load"
   Arg 1 (TARGET-HOST): "buddy"
   --Defaulted args:--
   Arg 2 (TARGET-BAND): NIL
   Arg 3 (SUBSET-START): NIL
   Arg 4 (SUBSET-N-BLOCKS): NIL

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (SI:TRANSMIT-BAND "Release-5-2-bulletin.load" "buddy")

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1" :ABORTED-FUNCTION NIL :BEFORE-PROMPT-FUNCTION NIL :READ-FUNCTION NIL :EVAL-FUNCTION NIL ...)

SI:LISP-COMMAND-LOOP:  (P.C. = 115)
   Arg 0 (STREAM): #<LISP-LISTENER Lisp Listener 1 3100000 exposed>
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1")

SI:LISP-TOP-LEVEL1:  (P.C. = 22)
   Arg 0 (TERMINAL-IO-initialization): #<LISP-LISTENER Lisp Listener 1 3100000 exposed>

Rest of stack:
SI:LISP-TOP-LEVEL:  (P.C. = 7)
20-Sep-84 01:01:19-EDT,3471;000000000000
Mail-From: EHL created at 20-Sep-84 01:00:56
Date: Thu, 20 Sep 1984  01:00 EDT
Message-ID: <EHL.12048979454.BABYL@MIT-OZ>
From: EHL@MIT-OZ
To:   bug-lispm@MIT-OZ
Subject: 5.2 tape problems


In Symbolics 3600 Release 5.2, Experimental Boxer 4.1,
Educational Computing Group, on Lisp Machine Joe Louis:

Got this while trying to do an incremental dump.  It worked after I
super-A'd using RTAPE instead of TAPE.  Why isn't this the default anymore ??

>>Error: ASPEN does not support TAPE in a reachable way.
While in the function NET:INVOKE-SERVICE-ON-HOST  TAPE:MAKE-STREAM  LMFS:BACKUP-DUMP-TAPE-STREAM-GETTER

NET:INVOKE-SERVICE-ON-HOST:  (P.C. = 62)
   Arg 0 (SERVICE): :TAPE
   Arg 1 (HOST): #<LISPM-HOST ASPEN 14311614>
   Rest arg (SERVICE-ARGS): (:DIRECTION :BIDIRECTIONAL :UNIT NIL :NO-READ-AHEAD NIL :PAD-CHAR NIL :BUFFER-SIZE NIL ...)
   Local 3: ("Retry invoking ~A on ~A." :TAPE #<LISPM-HOST ASPEN 14311614>)
   Local 4: NIL
   Local 5: NIL
   Local 6 (THESE-ARGS): (:DIRECTION :BIDIRECTIONAL :UNIT NIL :NO-READ-AHEAD NIL :PAD-CHAR NIL :BUFFER-SIZE NIL ...)
   Local 7: "Retry invoking ~A on ~A."
   Local 8: :TAPE
   Local 9: #<LISPM-HOST ASPEN 14311614>
   Local 10: #<ERROR-RESTART-HANDLER 35766154>
   Local 11: #<DTP-LOCATIVE 1207705>
   Local 12: #<DTP-LOCATIVE 43400507>
   Local 13: (#<ERROR-RESTART-HANDLER 35766154> #<DTP-LOCATIVE 1207705> #<DTP-LOCATIVE 43400507>)
   Local 14: #<DTP-CLOSURE 43400516>
   Local 15: (#<DTP-CLOSURE 43400421> #<DTP-CLOSURE 43400155> #<DTP-CLOSURE 43400054> #<DTP-CLOSURE 43400016>)
   Local 16: #<DTP-LOCATIVE 43400522>
   Local 17: #<DTP-EVEN-PC 24573202>
   Local 18: #<DTP-LOCATIVE 37013472>
   Local 19: #<DTP-LOCATIVE 43400435>
   Local 20: NETI:FIND-PATH-RETRY
   Local 21: #<DTP-EVEN-PC 24573201>
   Local 22: #<DTP-LOCATIVE 37013472>
   Local 23: #<DTP-LOCATIVE 43400524>
   Local 24 (SERVICE-ACCESS-PATHS): NIL
   Local 25 (ERRORS): NIL

TAPE:MAKE-STREAM:  (P.C. = 503)
   Rest arg: (:SPEC #<TAPE-SPEC for Lisp Machine Aspen: reel=joe5.2, den=1600, reclen=4096, granularity=4, minrec=128 10633174> :LOCK-REASON "Local file system dumper" :DIRECTION :BIDIRECTIONAL :NO-BOT-PROMPT T :NOREWIND T)

LMFS:BACKUP-DUMP-TAPE-STREAM-GETTER:  (P.C. = 35)

LMFS:BACKUP-DUMP-I:  (P.C. = 25)

LMFS:BACKUP-DUMPER:  (P.C. = 435)
   Rest arg (ARGS): (:DUMP-TYPE :INCREMENTAL)

(:METHOD LMFS:FSMAINT-FRAME :EXECUTE):  (P.C. = 276)
   Arg 0 (SELF): #<FSMAINT-FRAME Fsmaint Frame 1 3115165 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor LMFS:FSMAINT-FRAME -- 11. IV's, 12. FL's 45544345>
   Arg 2 (OPERATION): :EXECUTE
   Arg 3 (KEY): :INCREMENTAL-DUMP

(:METHOD LMFS:FSMAINT-FRAME :INTERPRET-INPUT):  (P.C. = 167)
   Arg 0 (SELF): #<FSMAINT-FRAME Fsmaint Frame 1 3115165 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor LMFS:FSMAINT-FRAME -- 11. IV's, 12. FL's 45544345>
   Arg 2 (OPERATION): :INTERPRET-INPUT
   Arg 3 (INPUT): (:MENU ("Incremental Dump" :VALUE :INCREMENTAL-DUMP :DOCUMENTATION "Start an incremental backup dump") 1 #<COMMAND-MENU-PANE Command Menu Pane 3 3144242 exposed>)

LMFS:FSMAINT-READ-FCN:  (P.C. = 20)

Rest of stack:
SYS:CALL-FUNNY-FUNCTION:  (P.C. = 101)
Closure of LMFS:FSMAINT-READ-FCN:
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 142)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
(:METHOD LMFS:FSMAINT-FRAME :FSMAINT-TOP-LEVEL):  (P.C. = 76)
LMFS:FSMAINT-TOP-LEVEL:  (P.C. = 6)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
20-Sep-84 08:43:06-EDT,1161;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 20 Sep 84 08:42-EDT
Received: from SCRC-CONCORD by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 83071; Thu 20-Sep-84 08:46:01-EDT
Date: Thursday, 20 September 1984, 08:46-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: flavor examiner method arglist
To: CFRY at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 19 Sep 84 21:00-EDT from CFRY at MIT-OZ
Message-ID: <840920084614.6.BSG@CONCORD.SCRC.Symbolics>

    Date: Wednesday, 19 September 1984, 21:00-EDT
    From:  <CFRY at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on Lisp Machine Janis Joplin (3600):

	In the Flavor examiner, when I asked to see the arglist of
	a method, it printed:
	(self sys:self-mapping-table si:operation my-real-arg)

	when it should have just printed:
	(my-real-arg)
I fixed this in the source for non-combined methods.

For asking for the arglist of a combined method, which it
thinks it supports, the information "you want" is simply not
available, and even the next-closest-kludge is in the process
of changing.  I left this for the rewriter of the flavor examiner.
20-Sep-84 08:51:36-EDT,1300;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 20 Sep 84 08:51-EDT
Received: from SCRC-CONCORD by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 83073; Thu 20-Sep-84 08:54:18-EDT
Date: Thursday, 20 September 1984, 08:54-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: 5.2 tape problems
To: EHL at MIT-OZ, bug-lispm at MIT-OZ
In-Reply-To: <EHL.12048979454.BABYL@MIT-OZ>
Message-ID: <840920085441.7.BSG@CONCORD.SCRC.Symbolics>

    Date: Thu, 20 Sep 1984  01:00 EDT
    From: EHL@MIT-OZ


    In Symbolics 3600 Release 5.2, Experimental Boxer 4.1,
    Educational Computing Group, on Lisp Machine Joe Louis:

    Got this while trying to do an incremental dump.  It worked after I
    super-A'd using RTAPE instead of TAPE.  Why isn't this the default anymore ??

    >>Error: ASPEN does not support TAPE in a reachable way.
    While in the function NET:INVOKE-SERVICE-ON-HOST  TAPE:MAKE-STREAM  LMFS:BACKUP-DUMP-TAPE-STREAM-GETTER

TAPE is a service, RTAPE is a protocol.  The issue is not that
the default should be "RTAPE instead of TAPE", it's that every 3600
host potentially has a (cartridge) tape drive, and is thus potentially
a tape server via RTAPE.  Your namespace data base should declare each
host that has a tape drive to support TAPE via RTAPE.
20-Sep-84 09:11:26-EDT,1448;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 20 Sep 84 09:11-EDT
Received: from SCRC-PEACE by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 93880; Thu 20-Sep-84 09:04:21-EDT
Date: Thursday, 20 September 1984, 09:04-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: 5.2 tape problems
To: EHL at MIT-OZ, bug-lispm at MIT-OZ
In-Reply-To: <EHL.12048979454.BABYL@MIT-OZ>
Message-ID: <840920090405.1.HORNIG@PEACE.SCRC.Symbolics>

    Date: Thu, 20 Sep 1984  01:00 EDT
    From: EHL@MIT-OZ

    In Symbolics 3600 Release 5.2, Experimental Boxer 4.1,
    Educational Computing Group, on Lisp Machine Joe Louis:

    Got this while trying to do an incremental dump.  It worked after I
    super-A'd using RTAPE instead of TAPE.  Why isn't this the default anymore ??

    >>Error: ASPEN does not support TAPE in a reachable way.
    While in the function NET:INVOKE-SERVICE-ON-HOST  TAPE:MAKE-STREAM  LMFS:BACKUP-DUMP-TAPE-STREAM-GETTER

According to its namespace object ASPEN does not support RTAPE.  If it
does, you should edit its namespace object to add the service triple
"TAPE CHAOS RTAPE".

The reason that this is not the default is that we found that most
LispM's don't have tape drives.  It is more useful to use the service
entry as a marker for those that do (so you can get menus of all of
them, and so forth) and to force you to use the proceed option if the
database isn't up to date.
20-Sep-84 09:54:13-EDT,1268;000000000000
Received: from SCRC-YUKON by MIT-OZ via Chaosnet; 20 Sep 84 09:53-EDT
Received: from SCRC-TURKEY by SCRC-YUKON via CHAOS with CHAOS-MAIL id 61734; Thu 20-Sep-84 10:00:31-EDT
Date: Thursday, 20 September 1984, 09:57-EDT
From: Gerry Smith <gsmith at SCRC-YUKON>
Subject: 5.2 tape problems
To: EHL at MIT-OZ, bug-lispm at MIT-OZ
In-Reply-To: <EHL.12048979454.BABYL@MIT-OZ>
Message-ID: <840920095706.8.GSMITH@TURKEY.SCRC.Symbolics>

    Date: Thu, 20 Sep 1984  01:00 EDT
    From: EHL@MIT-OZ


    In Symbolics 3600 Release 5.2, Experimental Boxer 4.1,
    Educational Computing Group, on Lisp Machine Joe Louis:

    Got this while trying to do an incremental dump.  It worked after I
    super-A'd using RTAPE instead of TAPE.  Why isn't this the default anymore ??

    >>Error: ASPEN does not support TAPE in a reachable way.
    While in the function NET:INVOKE-SERVICE-ON-HOST  TAPE:MAKE-STREAM  LMFS:BACKUP-DUMP-TAPE-STREAM-GETTER

This was unfortunately not very well described in the 5.2 patch notes.
The standard protocol for tape service is now RTAPE.  And the way to
tell your site that is to tell the namespace system that Aspen supports
RTAPE.  The way to do it is described on page 59 of the 5.2 Patch Notes,
in section 12.1.1.
20-Sep-84 09:58:11-EDT,1713;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 20 Sep 84 09:57-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 83097; Thu 20-Sep-84 10:01:01-EDT
Date: Thursday, 20 September 1984, 10:01-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Error during band transfer
To: Henry Lieberman <Henry at MIT-OZ>, BUG-LISPM at MIT-OZ
cc: Hornig at SCRC-TENEX, Joseph at SCRC-TENEX
In-Reply-To: The message of 20 Sep 84 00:23-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840920100115.4.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 20 September 1984, 00:23-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:

    Trying to (si:transmit-band "Release-5-2-bulletin.load" "buddy")

    >>Error: Remote error: The host MIT-MC cannot be a file computer.
    While in the function SI:CHECK-FOR-REMOTE-ERROR  SI:REMOTE-COMMAND  SI:TRANSMIT-BAND-WITH-RETRY

    SI:CHECK-FOR-REMOTE-ERROR:  (P.C. = 33)
       Arg 0 (STREAM): #<CHARACTER-STREAM 4470601>
       Local 1 (LINE): "-The host MIT-MC cannot be a file computer."
       Local 2 (*SELECTQ-ITEM*): 55

This is really cute.  The error is really happening on Buddy, not your
machine.  What release was it running?  Was anybody logged in?

I think the answers are 5.1 or 5.2 and 'no' and the problem is that
when it did an automatic (si:login-to-sys-host) in order to access the
FEP filesystem, it blew out trying to parse the login-name/machine pair
LISPM MC from MIT|LISP-MACHINE's namespace object.  This would mean your
namespace is still confused about MC's identity.

Maybe a bigger hammer is needed on CADR-15?
20-Sep-84 10:23:12-EDT,1410;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 20 Sep 84 10:22-EDT
Date: Thursday, 20 September 1984, 10:25-EDT
From: Gavan Duffy <GAVAN at MIT-OZ>
Subject: >>Error: "MC" is not the name of a known host.
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.35, FEP 18, on Lisp Machine Buddy Holly:

The namespace appears to be confused.

>>Error: "MC" is not the name of a known host.
While in the function SI:PARSE-HOST  SI:*EVAL  SI:LISP-COMMAND-LOOP-INTERNAL

SI:PARSE-HOST:  (P.C. = 77)
   Arg 0 (HOST): "MC"
   --Defaulted args:--
   Arg 1 (NO-ERROR-P): NIL
   Arg 2 (IGNORE): NIL
   Local 3 (HOST-ERROR): #<OBJECT-NOT-FOUND-IN-SEARCH-LIST 4270113>
   Local 4 (BAR-IDX): NIL
   Local 5 (VALID-P): T

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (SI:PARSE-HOST "MC")

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1" :ABORTED-FUNCTION NIL :BEFORE-PROMPT-FUNCTION NIL :READ-FUNCTION NIL :EVAL-FUNCTION NIL ...)

SI:LISP-COMMAND-LOOP:  (P.C. = 115)
   Arg 0 (STREAM): #<LISP-LISTENER Lisp Listener 1 5400000 exposed>
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1")

SI:LISP-TOP-LEVEL1:  (P.C. = 22)
   Arg 0 (TERMINAL-IO-initialization): #<LISP-LISTENER Lisp Listener 1 5400000 exposed>

SI:LISP-TOP-LEVEL2:  (P.C. = 5)

SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
   Arg 0 (IGNORE): NIL
20-Sep-84 14:56:11-EDT,3791;000000000000
Received: from MIT-ML by MIT-OZ via Chaosnet; 20 Sep 84 14:52-EDT
Date: Thursday, 20 September 1984, 14:39-EDT
From:  <ZIPPY at MIT-ML>
Subject: Conspicuous consumption
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-4:

Why eat up 300,000 blocks I could be using with a LMFS partition that no
one can access?

>>Error: FEP file FEP1:>lmfs.file.1, required for the file system as a partition, is not accessible:
         FEP File not found.
         For FEP1:>lmfs.file.1For AP4:>*.*.*
While in the function (:METHOD LMFS:LOCAL-LMFS-ACCESS-MIXIN :DIRECTORY-LIST)  (:METHOD FS:ACTIVE-PATHNAME-MIXIN :DIRECTORY-LIST)  FS:DIRECTORY-LIST

(:METHOD LMFS:LOCAL-LMFS-ACCESS-MIXIN :DIRECTORY-LIST):  (P.C. = 300)
   Arg 0 (SELF): #<LOCAL-LMFS-ACCESS-PATH AP4 using LOCAL-FILE 4501711>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor LMFS:LOCAL-LMFS-ACCESS-MIXIN -- 1. IV's, 0. FL's 6201623>
   Arg 2 (OPERATION): :DIRECTORY-LIST
   Arg 3 (PATHNAME): #<LMFS-PATHNAME "AP4:>*.*.*">
   Arg 4 (OPTIONS): (:NO-EXTRA-INFO :DELETED)
   Local 5 (SX): NIL
   Local 6 (FNAME): :WILD
   Local 7 (FTYPE): :WILD
   Local 8 (DIRECTORY): :ROOT
   Local 9 (NAME): :WILD
   Local 10 (TYPE): :WILD
   Local 11 (VERSION): :WILD
   Local 12 (ANSWER): #<LMFS-CONFIGURATION-ERROR 4504621>

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :DIRECTORY-LIST):  (P.C. = 12)
   Arg 0 (SELF): #<LMFS-PATHNAME "AP4:>*.*.*">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 41436103>
   Arg 2 (OPERATION): :DIRECTORY-LIST
   Arg 3 (OPTIONS): (:NO-EXTRA-INFO :DELETED)

FS:DIRECTORY-LIST:  (P.C. = 111)
   Arg 0 (FILENAME): #<LMFS-PATHNAME "AP4:>*.*.*">
   Rest arg (OPTIONS): (:NO-EXTRA-INFO :DELETED)

(:METHOD FS:MEANINGFUL-ROOT-MIXIN :LIST-ROOT):  (P.C. = 23)
   Arg 0 (SELF): #<LMFS-PATHNAME "AP4:">
   Arg 1 (SELF-MAPPING-TABLE): FS:MEANINGFUL-ROOT-MIXIN
   Arg 2 (OPERATION): :LIST-ROOT
   Rest arg (IGNORE): NIL

(:METHOD TV:TREE-LIST-ROOT-TOPNODE :GENERATE-INFERIORS-LIST):  (P.C. = 6)
   Arg 0 (SELF): #<HIERARCHICAL-ROOT-TOPNODE 4500757>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:TREE-LIST-ROOT-TOPNODE -- 4. IV's, 0. FL's 46545577>
   Arg 2 (OPERATION): :GENERATE-INFERIORS-LIST

(:METHOD TV:DIRECTORY-TREE :BEFORE :VISIBLE-INFERIORS):  (P.C. = 16)
   Arg 0 (SELF): #<HIERARCHICAL-ROOT-TOPNODE 4500757>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:DIRECTORY-TREE -- 8. IV's, 1. FL's 46545546>
   Arg 2 (OPERATION): :VISIBLE-INFERIORS

(:METHOD TV:DIRECTORY-TREE :COMBINED :VISIBLE-INFERIORS):  (P.C. = 7)
   Arg 0 (SELF): #<HIERARCHICAL-ROOT-TOPNODE 4500757>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:DIRECTORY-TREE -- 8. IV's, 1. FL's 46545546>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD TV:TREE-LIST-TOPNODE :AFTER :INIT):  (P.C. = 5)
   Arg 0 (SELF): #<HIERARCHICAL-ROOT-TOPNODE 4500757>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:TREE-LIST-TOPNODE -- 2. IV's, 1. FL's 46545540>
   Arg 2 (OPERATION): :INIT
   Rest arg (IGNORE): (#<DTP-LOCATIVE 43400324>)

Rest of stack:
(:METHOD TV:HIERARCHICAL-ROOT-TOPNODE :COMBINED :INIT):  (P.C. = 17)
INSTANTIATE-FLAVOR:  (P.C. = 376)
MAKE-INSTANCE:  (P.C. = 6)
TV:FILE-SYSTEM-EDIT:  (P.C. = 22)
(:METHOD LMFS:FSMAINT-FRAME :HIERED-ROOT):  (P.C. = 14)
(:METHOD LMFS:FSMAINT-FRAME :EXECUTE):  (P.C. = 47)
(:METHOD LMFS:FSMAINT-FRAME :INTERPRET-INPUT):  (P.C. = 167)
LMFS:FSMAINT-READ-FCN:  (P.C. = 20)
SYS:CALL-FUNNY-FUNCTION:  (P.C. = 101)
Closure of LMFS:FSMAINT-READ-FCN:
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 142)
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
(:METHOD LMFS:FSMAINT-FRAME :FSMAINT-TOP-LEVEL):  (P.C. = 76)
LMFS:FSMAINT-TOP-LEVEL:  (P.C. = 6)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
20-Sep-84 15:25:58-EDT,1183;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 20 Sep 84 15:25-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 94130; Thu 20-Sep-84 15:28:57-EDT
Date: Thursday, 20 September 1984, 15:28-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Conspicuous consumption
To: ZIPPY at MIT-ML, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 20 Sep 84 14:39-EDT from ZIPPY at MIT-ML
Message-ID: <840920152847.3.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 20 September 1984, 14:39-EDT
    From:  <ZIPPY at MIT-ML>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-4:

    Why eat up 300,000 blocks I could be using with a LMFS partition that no
    one can access?

    >>Error: FEP file FEP1:>lmfs.file.1, required for the file system as a partition, is not accessible:
	     FEP File not found.
	     For FEP1:>lmfs.file.1For AP4:>*.*.*
    While in the function (:METHOD LMFS:LOCAL-LMFS-ACCESS-MIXIN :DIRECTORY-LIST)  (:METHOD FS:ACTIVE-PATHNAME-MIXIN :DIRECTORY-LIST)  FS:DIRECTORY-LIST

Somebody should read about FSPTs and either fix FEP:>FSPT.FSPT or
create (and initialize) FEP1:>LMFS.FILE.
20-Sep-84 16:34:08-EDT,3103;000000000000
Received: from MIT-LISPM-32 by MIT-OZ via Chaosnet; 20 Sep 84 16:32-EDT
Date: Thursday, 20 September 1984, 16:35-EDT
From:  <PGS at MIT-OZ>
Sender:  at MIT-OZ
To: BUG-LISPM at MIT-OZ

In System 98.62, CADR 3.7, ZMail 53.17, MIT-Specific 22.1, microcode 309,
ZM MIT, on Unknown:

I did (load-and-save-patches 1 :nosite).  The documentation for
load-and-save-patches says that one can specify a band number or name in this
position.  I seem to remember having fixed this once in the past.  No, wait --
that was fixing hostat to allow a number as arg again after HDT had been playing
with the hostat code.  And, gee, that seems to have been improved to a point
where it no longer works, too.

>>TRAP 10371 (ARGTYP ARRAY M-A 0 FALL-THROUGH AREF)
The first argument to AREF, 1, was of the wrong type.
The function expected an array.
Backtrace from the debugger:

PARSE-NUMBER (P.C. = 101)

 Arg 0 (STRING): 1
 Arg 1 (FROM): 0
 Arg 2 (TO): NIL
 Arg 3 (RADIX): NIL
 Arg 4 (FAIL-IF-NOT-WHOLE-STRING): T
Local 0 (SIGN): NIL
Local 1 (NUM): NIL
Local 2 (RADIX): 12
Local 3 (I): 0
Local 4: 1
Local 5 (CH): NIL


LOAD-AND-SAVE-PATCHES (P.C. = 166)

 Arg 0 (BAND): 1
 Rest arg (KEYWORD-ARGS): (:NOSITE)
Local 1: NIL
Local 2 (PATCH-SYSTEM): ("MIT-Specific" 26 :RELEASED (** **))
Local 3 (BAND1): 1
Local 4 (COUNT): 0
Local 5 (UNDO-FORM): NIL


SI:EVAL1 (P.C. = 1324)

 Arg 0 (FORM): (LOAD-AND-SAVE-PATCHES 1 :NOSITE)
   --Defaulted args:--
 Arg 1 (NOHOOK): NIL
Local 0 (ARGNUM): 2
Local 1 (TEM): NIL
Local 2 (ENV): NIL
Local 3 (TAIL): NIL
Local 4 (FCTN): #<DTP-FEF-POINTER LOAD-AND-SAVE-PATCHES 11316151>
Local 5 (ARG-DESC): 4000001
Local 6 (NUM-ARGS): 2
Local 7 (CLOSURE-PASSED): NIL
Local 8 (LAMBDA-LIST): NIL
Local 9 (LL): NIL
Local 10 (QUOTE-STATUS): NIL
Local 11 (REST-FLAG): NIL
Local 12 (ARGL): NIL
Local 13: NIL
Local 14: NIL
Local 15 (IGNORE): NIL
Local 16 (ADL): NIL
Local 17 (ITEM): NIL
Local 18 (*SELECTQ-ITEM*): NIL


Additional information supplied with call:
 Values to be collected for MULTIPLE-VALUE-LIST

SI:EVAL-ABORT-TRIVIAL-ERRORS (P.C. = 61)

 Arg 0 (TOP-LEVEL-FORM): (LOAD-AND-SAVE-PATCHES 1 :NOSITE)
Local 0: ((SYSTEM:TOO-FEW-ARGUMENTS SYSTEM:TOO-MANY-ARGUMENTS SYSTEM:CELL-CONTENTS-ERROR SYSTEM:WRONG-TYPE-ARGUMENT ...) SI:EVAL-ABORT-TRIVIAL-ERRORS-HANDLER)
Local 1: ((** SI:EVAL-ABORT-TRIVIAL-ERRORS-HANDLER))


SI:LISP-TOP-LEVEL1 (P.C. = 426)

 Arg 0 (TERMINAL-IO): #<LISP-LISTENER Lisp Listener 1 3200000 exposed>
   --Defaulted args:--
 Arg 1 (TOP-LEVEL-P): T
Local 0 (OLD-PACKAGE): #<Package USER 5000020>
Local 1 (W-PKG): #<Package USER 5000020>
Local 2 (LAST-TIME-DEFAULT-COMMON-LISP): NIL
Local 3 (THROW-FLAG): T
Local 4: ("Return to top level in ~A." "Lisp Listener 1")
Local 5: ((SYSTEM:ABORT ERROR) ("Return to top level in ~A." "Lisp Listener 1") T ("Return to top level in ~A." "Lisp Listener 1") ...)
Local 6 (VALUES): NIL
Local 7: NIL
Local 8 (VALUE): NIL


Remainder of stack:

SI:LISP-TOP-LEVEL2 (P.C. = 27)
SI:PROCESS-TOP-LEVEL (P.C. = 246)
SI:LISP-TOP-LEVEL (P.C. = 47)
20-Sep-84 17:20:01-EDT,1722;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 20 Sep 84 17:19-EDT
Date: Thursday, 20 September 1984, 17:20-EDT
From:  <TIM at MIT-MC>
Subject: Incompatibility between 5.1 and 5.2?
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, FEP 18, on PI Project (3600):

Loaded a file compiled by 5.2 with the following form in it:

(defselect ((:property region named-structure-invoke))
  (:print-self (region stream &rest ignore)
   (si:printing-random-object (region stream :typep)
     ... )))

>>Error: Exporting PRINTING-RANDOM-OBJECT from package SYSTEM would cause name conflict in 
            SYSTEM-INTERNALS.
While in the function SI:PKG-NEW-SYMBOL  SI:PKG-NEW-SYMBOL-EXTERNAL-ONLY  INTERN

SI:PKG-NEW-SYMBOL:  (P.C. = 171)
   Arg 0 (PKG): #<Package SYSTEM 26102553>
   Arg 1 (SYM): PRINTING-RANDOM-OBJECT
   Arg 2 (HASH): 401085136
   Arg 3 (CODE): 1
   Local 4: ((SI:PRINTING-RANDOM-OBJECT . #<Package SYSTEM-INTERNALS 25640000>))
   Local 5 (MODULUS): ((SI:PRINTING-RANDOM-OBJECT . #<Package SYSTEM-INTERNALS 25640000>))
   Local 6 (IGNORE): NAME-CONFLICT-IN-EXPORT-FROM-LOCKED-PACKAGE

SI:PKG-NEW-SYMBOL-EXTERNAL-ONLY:  (P.C. = 14)
   Arg 0 (PKG): #<Package SYSTEM 26102553>
   Arg 1 (SYM): PRINTING-RANDOM-OBJECT
   Arg 2 (HASH): 401085136
   Arg 3 (CODE): 0

INTERN:  (P.C. = 136)
   Arg 0 (SYM): "PRINTING-RANDOM-OBJECT"
   --Defaulted args:--
   Arg 1 (PKG): #<Package SYSTEM 26102553>

SI:LOAD-BIN-OP-PACKAGE-SYMBOL:  (P.C. = 44)
   Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OBERON:SYS$DISK:[TIM.W]REGION.BIN" 2751376>

SI:BIN-LOAD-NEXT-COMMAND:  (P.C. = 20)
   Arg 0 (STREAM): #<FILE-INPUT-BINARY-STREAM "OBERON:SYS$DISK:[TIM.W]REGION.BIN" 2751376>
20-Sep-84 17:26:46-EDT,502;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 20 Sep 84 17:25-EDT
Date: Thursday, 20 September 1984, 17:27-EDT
From: Stephen L. Chiu <PGS at MIT-OZ>
Sender: SLC at MIT-OZ
To: BUG-LISPM at MIT-OZ

In System 98.70, CADR 3.10, ZMail 53.18, MIT-Specific 22.5,
microcode 309, ZM MIT, on Lisp Machine Thirty-two:

When one compiles the function given below, one is warned that e is bound but
never used, but one is not warned about d.

(defun foo (n &key d e)
  (let* ((a n)
	 (b a))
    b))
20-Sep-84 19:16:40-EDT,1235;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 20 Sep 84 19:16-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 94265; Thu 20-Sep-84 19:02:54-EDT
Date: Thursday, 20 September 1984, 19:02-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Incompatibility between 5.1 and 5.2?
To: TIM at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 20 Sep 84 17:20-EDT from TIM at MIT-MC
Message-ID: <840920190245.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 20 September 1984, 17:20-EDT
    From:  <TIM at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on PI Project (3600):

    Loaded a file compiled by 5.2 with the following form in it:

    (defselect ((:property region named-structure-invoke))
      (:print-self (region stream &rest ignore)
       (si:printing-random-object (region stream :typep)
	 ... )))

    >>Error: Exporting PRINTING-RANDOM-OBJECT from package SYSTEM would cause name conflict in 
		SYSTEM-INTERNALS.
    While in the function SI:PKG-NEW-SYMBOL  SI:PKG-NEW-SYMBOL-EXTERNAL-ONLY  INTERN

Yes, that is an unfortunate incompatibility.  You can either recompile
the file in 5.1 (and it should work in 5.2) or use 5.2.
20-Sep-84 19:17:29-EDT,1461;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 20 Sep 84 19:16-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 94268; Thu 20-Sep-84 19:04:12-EDT
Date: Thursday, 20 September 1984, 19:04-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Incompatibility between 5.1 and 5.2?
To: TIM at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 20 Sep 84 17:20-EDT from TIM at MIT-MC
Supersedes: <840920190245.9.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840920190402.0.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 20 September 1984, 17:20-EDT
    From:  <TIM at MIT-MC>

    In Release 5.1, Experimental MIT 1.4, FEP 18, on PI Project (3600):

    Loaded a file compiled by 5.2 with the following form in it:

    (defselect ((:property region named-structure-invoke))
      (:print-self (region stream &rest ignore)
       (si:printing-random-object (region stream :typep)
	 ... )))

    >>Error: Exporting PRINTING-RANDOM-OBJECT from package SYSTEM would cause name conflict in 
		SYSTEM-INTERNALS.
    While in the function SI:PKG-NEW-SYMBOL  SI:PKG-NEW-SYMBOL-EXTERNAL-ONLY  INTERN

Yes, that is an unfortunate incompatibility.  You can either recompile
the file in 5.1 (and it should work in 5.2) or use 5.2.  You could also
(GLOBALIZE "PRINTING-RANDOM-OBJECT" "SYSTEM") in your init file or
someplace else reasonable.  This should not cause a problem if it is
done in 5.2.
20-Sep-84 22:42:05-EDT,3096;000000000000
Received: from MIT-EECS by MIT-OZ via Chaosnet; 20 Sep 84 22:41-EDT
Date: Thursday, 20 September 1984, 22:42-EDT
From:  <APIARY-SERVERS at MIT-APIARY-6>
Subject: namespaciness screws up again
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-6:

in system menu, click on hardcopy
typed in filename.
clicked on "path" [was tremont, but net is losing, so tried to change to tremont-via-mc]
then this cruft.

>>Error: The symbol NIL has an invalid function definition
While in the function NIL  NET:FIND-PATHS-TO-SERVICE-ON-HOST  NET:INVOKE-SERVICE-ON-HOST

NIL:
   Arg 0: :NETWORK-SERVICES

NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 142)
   Arg 0 (SERVICE): :HARDCOPY
   Arg 1 (HOST): NIL
   --Defaulted args:--
   Arg 2 (ONLY-NEED-BEST): NIL

NET:INVOKE-SERVICE-ON-HOST:  (P.C. = 50)
   Arg 0 (SERVICE): :HARDCOPY
   Arg 1 (HOST): NIL
   Rest arg (SERVICE-ARGS): (#<PRINTER TREMONT-VIA-MC 14300606> (:NEW-PAGE-HOOK #<DTP-COMPILED-FUNCTION SI:HARDCOPY-PRINT-PAGE-HEADING 25423551> :HEADER-FONT-P T :BANNER-FILE-NAME "AP6:>apiary-servers>DISPLAY.MSS.61" :BANNER-CREATION-DATE 2656047868. :PRESS-FONTS (("LPT" "" 10.)) ...))

SI:GET-HARDCOPY-DEVICE-OUTPUT-STREAM:  (P.C. = 35)
   Arg 0 (DEVICE): #<PRINTER TREMONT-VIA-MC 14300606>
   Arg 1 (OPTIONS): (:NEW-PAGE-HOOK #<DTP-COMPILED-FUNCTION SI:HARDCOPY-PRINT-PAGE-HEADING 25423551> :HEADER-FONT-P T :BANNER-FILE-NAME "AP6:>apiary-servers>DISPLAY.MSS.61" :BANNER-CREATION-DATE 2656047868. :PRESS-FONTS (("LPT" "" 10.)) ...)

SI:MAKE-HARDCOPY-STREAM:  (P.C. = 23)
   Arg 0 (DEVICE): #<PRINTER TREMONT-VIA-MC 14300606>
   Rest arg (OPTIONS): (:NEW-PAGE-HOOK #<DTP-COMPILED-FUNCTION SI:HARDCOPY-PRINT-PAGE-HEADING 25423551> :HEADER-FONT-P T :BANNER-FILE-NAME "AP6:>apiary-servers>DISPLAY.MSS.61" :BANNER-CREATION-DATE 2656047868. :PRESS-FONTS (("LPT" "" 10.)) ...)

SI:HARDCOPY-FROM-STREAM:  (P.C. = 27)
   Arg 0 (STREAM): #<LMFS-CHAR-INPUT-OPENING "AP6:>apiary-servers>DISPLAY.MSS.61" 73620350>
   Arg 1 (DEVICE): #<PRINTER TREMONT-VIA-MC 14300606>
   Rest arg (OPTIONS): (:BANNER-FILE-NAME "AP6:>apiary-servers>DISPLAY.MSS.61" :BANNER-CREATION-DATE 2656047868. :PRESS-FONTS (("LPT" "" 10.)) :COPIES 1. :PAGE-HEADINGS T ...)

SI:HARDCOPY-TEXT-FILE:  (P.C. = 52)
   Arg 0 (FILE-NAME): #<LMFS-PATHNAME "AP6:>apiary-servers>DISPLAY.MSS.61">
   Arg 1 (DEVICE): #<PRINTER TREMONT-VIA-MC 14300606>
   Rest arg (OPTIONS): (:PRESS-FONTS (("LPT" "" 10.)) :COPIES 1. :PAGE-HEADINGS T :LANDSCAPE-P NIL)

PRESS:HARDCOPY-VIA-MENUS:  (P.C. = 1522)
   Arg 0 (PATH): NIL
   Arg 1 (LOWER-PRIORITY-P): T

Rest of stack:
SI:*EVAL:  (P.C. = 370)
(:METHOD TV:MENU-EXECUTE-MIXIN :EXECUTE):  (P.C. = 53)
(:METHOD TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-PROCESS-RENAMING-MENU :COMBINED :EXECUTE):  (P.C. = 24)
(:METHOD TV:BASIC-MENU :CHOOSE):  (P.C. = 21)
(:METHOD TV:DYNAMIC-MULTICOLUMN-MOMENTARY-WINDOW-HACKING-MENU :COMBINED :CHOOSE):  (P.C. = 34)
TV:CALL-SYSTEM-MENU:  (P.C. = 26)
SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
21-Sep-84 02:04:52-EDT,502;000000000000
Received: from MIT-MORRISON by MIT-OZ via Chaosnet; 21 Sep 84 02:04-EDT
Date: Friday, 21 September 1984, 02:07-EDT
From: Henry Lieberman <Henry at MIT-OZ>
Subject: How do I get MAKE-SYSTEM to shut up
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Jim Morrison:

(MAKE-SYSTEM 'EZWIN :COMPILE :NOLOAD :NOCONFIRM :BATCH :SILENT)

still insists on asking me about the compiler warnings file name.
That's silly, it should just default to NAME-OF-SYSTEM.CWARNS

21-Sep-84 06:04:07-EDT,1336;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 21 Sep 84 06:03-EDT
Date: Friday, 21 September 1984, 06:06-EDT
From:  <CFRY at MIT-OZ>
Subject: real-time io isn't
To: BUG-LISPM at MIT-OZ

In Release 5.1, Experimental MIT 1.4, Experimental FB 183.0, FEP 18, on Lisp Machine Janis Joplin (3600):
1 Megaword ram.

I am attempting to send bits out of the serial port at 9600 baud
to a synthesizer. I am using:
-  without-interrupts around my code,
-  my data arrays are paged in [they are only a couple hundred words].
- gc is off
- I call (neti:disable) just inside my without-interrupts expression.
The proceedure that outputs should be able to fit very easily into ram,
but I still get paging, even after running the proceedure several times in a row
with no computation between runnings [so that the proceedure should be in RAM].

I notice that if I move the mouse during the running, the output slows WAY down.
Shouldn't without-interrupts turn off the mouse?
Even with the mouse upside-down, [so that its state shouldn't be changing]
I still get some paging.
I would prefer to leave the keyboard on so that c-m-abort would work,
but am not willing to sacrafice real time performance for this functionality.

Will arrays which may be modifed by array-push-extend still get
fully paged in with page-in-array ?
21-Sep-84 08:26:12-EDT,1402;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 21 Sep 84 08:25-EDT
Received: from SCRC-CONCORD by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 83370; Fri 21-Sep-84 08:28:48-EDT
Date: Friday, 21 September 1984, 08:29-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: Conspicuous consumption
To: DCP at SCRC-TENEX, ZIPPY at MIT-ML, BUG-LISPM at MIT-OZ
In-Reply-To: <840920152847.3.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840921082934.5.BSG@CONCORD.SCRC.Symbolics>

    Date: Thursday, 20 September 1984, 15:28-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

	Date: Thursday, 20 September 1984, 14:39-EDT
	From:  <ZIPPY at MIT-ML>

	In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-4:

	Why eat up 300,000 blocks I could be using with a LMFS partition that no
	one can access?

	>>Error: FEP file FEP1:>lmfs.file.1, required for the file system as a partition, is not accessible:
		 FEP File not found.
		 For FEP1:>lmfs.file.1For AP4:>*.*.*
	While in the function (:METHOD LMFS:LOCAL-LMFS-ACCESS-MIXIN :DIRECTORY-LIST)  (:METHOD FS:ACTIVE-PATHNAME-MIXIN :DIRECTORY-LIST)  FS:DIRECTORY-LIST

    Somebody should read about FSPTs and either fix FEP:>FSPT.FSPT or
    create (and initialize) FEP1:>LMFS.FILE.

The FSPT on AP4 says that this is indeed where the file system is, and
there is no such file on FEP1.  How did the FSPT get this way?
21-Sep-84 09:55:11-EDT,2932;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 21 Sep 84 09:53-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 94516; Fri 21-Sep-84 09:50:22-EDT
Date: Friday, 21 September 1984, 09:50-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: real-time io isn't
To: CFRY at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 21 Sep 84 06:06-EDT from CFRY at MIT-OZ
Message-ID: <840921095000.5.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 21 September 1984, 06:06-EDT
    From:  <CFRY at MIT-OZ>

    In Release 5.1, Experimental MIT 1.4, Experimental FB 183.0, FEP 18, on Lisp Machine Janis Joplin (3600):
    1 Megaword ram.

Where does it say Lisp Machines make good real-time I/O machines?

    I am attempting to send bits out of the serial port at 9600 baud
    to a synthesizer. I am using:
    -  without-interrupts around my code,
Without interrupts turns off scheduling.  Doing serial I/O causes a
PROCESS-WAIT because the 3600 is producing data faster than 9600 baud.
PROCESS-WAIT turns scheduling back on.
    -  my data arrays are paged in [they are only a couple hundred words].
    - gc is off
    - I call (neti:disable) just inside my without-interrupts expression.
    The proceedure that outputs should be able to fit very easily into ram,
    but I still get paging, even after running the proceedure several times in a row
    with no computation between runnings [so that the proceedure should be in RAM].
How are you measuring "paging"?  My guess is you are consing in your
output routine, and the "paging" you are seeing is finding room for new
pages.

    I notice that if I move the mouse during the running, the output slows WAY down.
That's true, and is partly to blame on the current implementation of the
FEP.  It may get better in the new FEP system, but no guarentees.  Don't
use the mouse.
    Shouldn't without-interrupts turn off the mouse?
No.  See above about PROCESS-WAIT.  Scheduling is being resumed and the
mouse process is waking up.
    Even with the mouse upside-down, [so that its state shouldn't be changing]
    I still get some paging.
See questions above.
    I would prefer to leave the keyboard on so that c-m-abort would work,
c-m-Abort will work since you are process-waiting anyway.
    but am not willing to sacrafice real time performance for this functionality.
"Real time" is a very misleading term when applied to Lisp Machines.

    Will arrays which may be modifed by array-push-extend still get
    fully paged in with page-in-array ?
Yes, but the act of extending will cause "paging" (i.e., storage
creation causing pages to be kicked out to make room for new ones).

Executive summary: Don't say "real time" in the context of a Lisp
Machine unless you really know what you are talking about.  Get V22 or
V24 FEP proms; it may make your situation just a bit better.
21-Sep-84 09:56:39-EDT,1177;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 21 Sep 84 09:53-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 94518; Fri 21-Sep-84 09:53:02-EDT
Date: Friday, 21 September 1984, 09:52-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: How do I get MAKE-SYSTEM to shut up
To: Henry Lieberman <Henry at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 21 Sep 84 02:07-EDT from Henry Lieberman <Henry at MIT-OZ>
Message-ID: <840921095239.6.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 21 September 1984, 02:07-EDT
    From: Henry Lieberman <Henry at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Jim Morrison:

    (MAKE-SYSTEM 'EZWIN :COMPILE :NOLOAD :NOCONFIRM :BATCH :SILENT)

    still insists on asking me about the compiler warnings file name.
    That's silly, it should just default to NAME-OF-SYSTEM.CWARNS

I have no idea!  I am pushing to have make-system "work" and conform to
the documentation for Release 6.  The "tools developers use work better
than other tools" is completely bogus when it comes to make-system; we
have to put up with this lossage ourselves.
21-Sep-84 10:04:07-EDT,596;000000000000
Received: from MIT-MOON by MIT-OZ via Chaosnet; 21 Sep 84 10:03-EDT
Date: Friday, 21 September 1984, 10:00-EDT
From: Ken Haase <KWH at MIT-OZ>
Subject: ZMail reselecting itself from beneath me.
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:

ZMail reselects itself when it finishes sending a
message.  If I do a <SELECT>-T after hitting <END> to a
message in ZMail, ZMail reexposes and selects itself (while I'm
in the middle of doing something in Telnet) when the message
I'd ended has been sent and the window is redisplaying itself.

21-Sep-84 10:06:13-EDT,5226;000000000000
Received: from MIT-BING-CROSBY by MIT-OZ via Chaosnet; 21 Sep 84 10:05-EDT
Date: Friday, 21 September 1984, 10:08-EDT
From: Christopher C. Stacy <CStacy at MIT-DM>
Subject: HOST MC was mentioned but then not found
To: BUG-LISPM at MIT-OZ, BUG-BETA-TEST at SCRC-STONY-BROOK
Cc: MOON at SCRC-TENEX, DLW at SCRC-STONY-BROOK, RWK at SCRC-STONY-BROOK,
    joseph at SCRC-STONY-BROOK, CAH at SCRC-STONY-BROOK,
    DCP at SCRC-STONY-BROOK, CStacy at MC, KMP at MC, TAFT at MC,
    TK at MC


When I booted Symbolics 3600 Release 5.2, and tried to log in on Lisp
Machine Bing Crosby this morning, I was greeted with a flurry of
notifications from the namespace system:

09:22 Merging #<ITS-HOST MC 35270424> with #<UNIX-HOST INTERNET|MIT-DM 14300000>.  
09:22 It is necessary to change the flavor of namespace object #<UNIX-HOST INTERNET|MIT-DM 14300000>  
      from FS:UNIX-HOST to FS:ITS-HOST.
09:26 It is necessary to change the flavor of namespace object #<ITS-HOST MIT-DM 43211741> 
      from FS:ITS-HOST to FS:UNIX-HOST.

09:26 Namespace server was unable to find HOST MIT-DM in namespace INTERNET.
      It will be removed from the namespace.
09:26 Namespace server was unable to find HOST ARPANET|MIT-DM in namespace ARPANET.
      It will be removed from the namespace.
09:26 Namespace server was unable to find HOST ARPANET|MIT-MC in namespace ARPANET.
      It will be removed from the namespace.
09:26 Error from server: The namespace SCRC is not loaded.;
      Obsolete host information may be used.

The machine finally erred out of LOGIN when it tried to load my init
file from my home machine (MC):

>>Error: "MC" is not the name of a known host.
         Either some name server did not respond or validity checking was inhibited.
While in the function SI:PARSE-HOST  SI:*EVAL  DBG:EVAL-IN-ERROR-ENVIRONMENT

SI:PARSE-HOST:  (P.C. = 77)
   Arg 0 (HOST): "MC"
   --Defaulted args:--
   Arg 1 (NO-ERROR-P): NIL
   Arg 2 (IGNORE): NIL
   Local 3 (HOST-ERROR): #<OBJECT-NOT-FOUND-IN-SEARCH-LIST 4323301>
   Local 4 (BAR-IDX): NIL
   Local 5 (VALID-P): NIL

DBG:COMMAND-LOOP:  (P.C. = 455)

DBG:DEBUGGER-HANDLER:  (P.C. = 12)
   Arg 0 (OPERATION): :HANDLE-CONDITION
   Rest arg (SELECT-METHOD-ARGS): (#<HOST-NOT-ACCESSIBLE-FOR-FILE 4317752> #<DTP-LOCATIVE 67133311>)

Rest of stack:
ERROR:  (P.C. = 55)
(:METHOD FS:ACTIVE-PATHNAME-HOST :FILE-ACCESS-PATH):  (P.C. = 65)
(:METHOD FS:ACTIVE-PATHNAME-MIXIN :HOMEDIR):  (P.C. = 6)
FS:USER-HOMEDIR:  (P.C. = 22)
FS:INIT-FILE-PATHNAME:  (P.C. = 5)
LOGIN:  (P.C. = 425)
SI:LISP-TOP-LEVEL:  (P.C. = 7)

Beta testing software is one thing, and I think we all understand
about the risk users take when trying out new stuff.  
I want to make clear that we are NOT talking about Beta test software.
We are talking about Released software.  This stuff is supposed to work.
Many people rely on it every day, and as users they are not prepared or
interested in spending hours or days or weeks trying to debug the machine in
order to even log in!

I have not been able to log in or read any files for two days now.
I cannot read a file from any other filecomputer on the network either:
the MC host object gets sent a :SAMPLE-PATHNAME message, which fails.
The host is "unavailable for file operations in any way" and I don't
believe I can even write any files either.

I have consulted online with a network wizard at SCRC, whose time I
appreciate. He tried several experiments involving my machine and the
namespace servers here.  He thought he had won, but when shown that the
system was still broken simply replied that he was "out of ideas."

Well, let me tell you:  *I* am getting some ideas.
These ideas involve the aerodynamic properties of $70,000 piles of junk!

I used to think Lisp Machines were pretty wonderful computers, but since
the introduction of the network namespace system they have become a nightmare.
Not a day has gone by over here where half the people at the lab were not
running around due to the namespace system completely fucking them over in 
one way or another.

Now I know it's relatively nice and cozy over there where you all run
the development system, which seems to be the only place these bugs are
fixed.  I know you all have access to TCP/IP by microwaving through us
and our IMPs, although you have completely removed that capability from
our machines.  I know these namespace bugs are probably fixed in that
system.  I know all about that.  I don't give a damn.  I want to log in.

You are reading the calmed-down version of this note; I waited a day
before writing this to see if the problems would maybe be fixed, and to
wait for my hands to stop shaking and my head to stop sweating.

I am fast losing all faith in Symbolics' ability to support their
fantastically broken software.  C'mon guys: what's going on over there!
You're winners -- can't you do something about this?

09:37 HOST MC was mentioned but then not found.

Well, I just mentioned it.  Could I please have some indication of when,
if ever, the Lisp Machine system available to us here at MIT is going to
function in any reasonable fashion?

Frustrated,
Chris
21-Sep-84 10:07:58-EDT,859;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 21 Sep 84 10:07-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 94527; Fri 21-Sep-84 10:11:31-EDT
Date: Friday, 21 September 1984, 10:10-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Printers should have physical pathnames for fonts.widths data.
To: BUG-LISPM at MIT-OZ
Message-ID: <840921101056.8.DCP@NEPONSET.SCRC.Symbolics>

Why do the printers MIT|TREMONT and MIT|TREMONT-VIA-MC have logical
pathnames for the FONTS.WIDTHS data?  SCRC|MOOSELOOKMEGUNTIC does too.
I thought it was decided logical pathnames just didn't hack it for this,
since it makes it potentially impossible to print a file at another
site.

Maybe I'm remembering the sys.translations discussion?  In any case, I
believe the above paragraph to represent a true problem.
21-Sep-84 10:21:57-EDT,2357;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 21 Sep 84 10:21-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 83396; Fri 21-Sep-84 10:24:28-EDT
Date: Friday, 21 September 1984, 10:25-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: namespaciness screws up again
To: APIARY-SERVERS at MIT-APIARY-6, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 20 Sep 84 22:42-EDT from APIARY-SERVERS at MIT-APIARY-6
Message-ID: <840921102502.1.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 20 September 1984, 22:42-EDT
    From:  <APIARY-SERVERS at MIT-APIARY-6>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Apiary-6:

    in system menu, click on hardcopy
    typed in filename.
    clicked on "path" [was tremont, but net is losing, so tried to change to tremont-via-mc]
    then this cruft.

I can't reproduce this in the development system because hardcopy
changed (yet again).  [I did find a completely different set of bugs,
though.]  If this happens again, please arrange to send the following
information with the bug report
	(describe (net:find-object-named :printer "TREMONT-VIA-MC"))
	(describe (net:parse-host "MC"))

    >>Error: The symbol NIL has an invalid function definition
    While in the function NIL  NET:FIND-PATHS-TO-SERVICE-ON-HOST  NET:INVOKE-SERVICE-ON-HOST

    NIL:
       Arg 0: :NETWORK-SERVICES

    NET:FIND-PATHS-TO-SERVICE-ON-HOST:  (P.C. = 142)
       Arg 0 (SERVICE): :HARDCOPY
       Arg 1 (HOST): NIL
       --Defaulted args:--
       Arg 2 (ONLY-NEED-BEST): NIL

    NET:INVOKE-SERVICE-ON-HOST:  (P.C. = 50)
       Arg 0 (SERVICE): :HARDCOPY
       Arg 1 (HOST): NIL
       Rest arg (SERVICE-ARGS): (#<PRINTER TREMONT-VIA-MC 14300606> (:NEW-PAGE-HOOK #<DTP-COMPILED-FUNCTION SI:HARDCOPY-PRINT-PAGE-HEADING 25423551> :HEADER-FONT-P T :BANNER-FILE-NAME "AP6:>apiary-servers>DISPLAY.MSS.61" :BANNER-CREATION-DATE 2656047868. :PRESS-FONTS (("LPT" "" 10.)) ...))

    SI:GET-HARDCOPY-DEVICE-OUTPUT-STREAM:  (P.C. = 35)
       Arg 0 (DEVICE): #<PRINTER TREMONT-VIA-MC 14300606>
       Arg 1 (OPTIONS): (:NEW-PAGE-HOOK #<DTP-COMPILED-FUNCTION SI:HARDCOPY-PRINT-PAGE-HEADING 25423551> :HEADER-FONT-P T :BANNER-FILE-NAME "AP6:>apiary-servers>DISPLAY.MSS.61" :BANNER-CREATION-DATE 2656047868. :PRESS-FONTS (("LPT" "" 10.)) ...)

21-Sep-84 10:34:02-EDT,1183;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 21 Sep 84 10:33-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 83405; Fri 21-Sep-84 10:35:29-EDT
Date: Friday, 21 September 1984, 10:36-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: ZMail reselecting itself from beneath me.
To: Ken Haase <KWH at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 21 Sep 84 10:00-EDT from Ken Haase <KWH at MIT-OZ>
Message-ID: <840921103615.5.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 21 September 1984, 10:00-EDT
    From: Ken Haase <KWH at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:

    ZMail reselects itself when it finishes sending a
    message.  If I do a <SELECT>-T after hitting <END> to a
    message in ZMail, ZMail reexposes and selects itself (while I'm
    in the middle of doing something in Telnet) when the message
    I'd ended has been sent and the window is redisplaying itself.

Thanks for the report.  We noticed this too and it was fixed recently
(two or three weeks ago).  Unless something crops up to break it, it
will do the more winning thing in Release 6.
21-Sep-84 11:22:22-EDT,1187;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 21 Sep 84 11:20-EDT
Received: from SCRC-ANNISQUAM by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 94590; Fri 21-Sep-84 11:24:22-EDT
Date: Friday, 21 September 1984, 11:23-EDT
From: Doug Dodds <DODDS at SCRC-TENEX>
Subject: ZMail reselecting itself from beneath me.
To: KWH at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 21 Sep 84 10:00-EDT from Ken Haase <KWH at MIT-OZ>
Message-ID: <840921112302.3.DODDS@ANNISQUAM.SCRC.Symbolics>

    Date: Friday, 21 September 1984, 10:00-EDT
    From: Ken Haase <KWH at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:

    ZMail reselects itself when it finishes sending a
    message.  If I do a <SELECT>-T after hitting <END> to a
    message in ZMail, ZMail reexposes and selects itself (while I'm
    in the middle of doing something in Telnet) when the message
    I'd ended has been sent and the window is redisplaying itself.

I'm happy to tell you that this was one of a large class of
activity-selection bugs, most obviously affecting Zmail, that have
recently been fixed.  The fix will be included in Release 6.
22-Sep-84 11:06:13-EDT,1376;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 22 Sep 84 11:05-EDT
Received: from SCRC-HUDSON by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 95018; Sat 22-Sep-84 08:07:50-EDT
Date: Saturday, 22 September 1984, 08:07-EDT
From: Robert W. Kerns <RWK at SCRC-YUKON>
Subject: How do I get MAKE-SYSTEM to shut up
To: David C. Plummer <DCP at SCRC-TENEX>
cc: Henry Lieberman <Henry at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: <840921095239.6.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840922080756.3.RWK@HUDSON.SCRC.Symbolics>

    Date: Friday, 21 September 1984, 09:52-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

	Date: Friday, 21 September 1984, 02:07-EDT
	From: Henry Lieberman <Henry at MIT-OZ>

	In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Jim Morrison:

	(MAKE-SYSTEM 'EZWIN :COMPILE :NOLOAD :NOCONFIRM :BATCH :SILENT)

	still insists on asking me about the compiler warnings file name.
	That's silly, it should just default to NAME-OF-SYSTEM.CWARNS

    I have no idea!  I am pushing to have make-system "work" and conform to
    the documentation for Release 6.  
This is the documented behaviour.  It's a reasonable suggestion,
though.
				      The "tools developers use work better
    than other tools" is completely bogus when it comes to make-system; we
    have to put up with this lossage ourselves.
Yep.
22-Sep-84 13:52:31-EDT,3626;000000000000
Received: from MIT-MOON by MIT-OZ via Chaosnet; 22 Sep 84 13:52-EDT
Date: Saturday, 22 September 1984, 13:55-EDT
From: Ken Haase <KWH at MIT-OZ>
Subject: Unable to do :TYI's from the serial port.
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:

The method [(:METHOD SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN :WHOPPER :TYI)]
was redefined in 242.341 as not taking any arguments.  This seems to make it
impossible to do :TYI's from the serial port.

>>Trap: The function (:METHOD SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN :WHOPPER :TYI) was called with too many arguments.
While in the function (:METHOD SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN :WHOPPER :TYI)  (:INTERNAL (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI) 0)  (:METHOD SI:BASIC-SERIAL-STREAM :WHOPPER :TYI)

(:METHOD SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN :WHOPPER :TYI):  (P.C. = 1)
   Arg 0 (SELF): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
   Arg 1 (SELF-MAPPING-TABLE): SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN
   Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:INTERNAL (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI) 0) 0) 25465053>
   Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor SI:SERIAL-CHARACTER-STREAM -- 0. IV's, 8. FL's 42052420>
   Arg 4 (.OPERATION.): :TYI
   Extraneous Rest Arg: (NIL)

(:INTERNAL (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI) 0):  (P.C. = 12)
   Arg 0 (SELF): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:SERIAL-CHARACTER-STREAM -- 0. IV's, 8. FL's 42052420>
   Rest arg (.DAEMON-CALLER-ARGS.): (:TYI NIL)

(:METHOD SI:BASIC-SERIAL-STREAM :WHOPPER :TYI):  (P.C. = 20)
   Arg 0 (SELF): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-SERIAL-STREAM -- 14. IV's, 0. FL's 61646660>
   Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI) 0) 25465041>
   Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor SI:SERIAL-CHARACTER-STREAM -- 0. IV's, 8. FL's 42052420>
   Arg 4 (.OPERATION.): :TYI
   --Defaulted args:--
   Arg 5 (EOF): NIL

(:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI):  (P.C. = 12)
   Arg 0 (SELF): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:SERIAL-CHARACTER-STREAM -- 0. IV's, 8. FL's 42052420>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

TYI:  (P.C. = 11)
   Rest arg (READ-ARGS): (#<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>)

DECTALK:DISPATCH-DECTALK-INPUTS:  (P.C. = 3)  (from OZ:PS:<KWH.DECTALK>TALK)
   Arg 0 (SERIAL-STREAM): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
   Arg 1 (KEYPAD-BUFFER): #<IO-BUFFER 12215611: 5 entries, State: NIL>
   Arg 2 (SEQUENCE-BUFFER): #<IO-BUFFER 12216007: empty, State: NIL>

DECTALK:EVENT-TYI:  (P.C. = 15)  (from OZ:PS:<KWH.DECTALK>TALK)

DECTALK:PHONE-COMMAND:  (P.C. = 10)  (from OZ:PS:<KWH.DECTALK>TALK)
   Arg 0 (COMMAND): :HANGUP
   --Defaulted args:--
   Arg 1 (ARGUMENT): ""

Rest of stack:
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
BREAK:  (P.C. = 173)
(:DEFUN-METHOD ZWEI:COM-BREAK):  (P.C. = 112)
ZWEI:COM-BREAK:  (P.C. = 12)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
22-Sep-84 16:06:25-EDT,2184;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 22 Sep 84 16:06-EDT
Date: Saturday, 22 September 1984, 16:08-EDT
From: Richard E. Zippel <RZ at MIT-MC>
Subject: Bug in "List all Directory Names"
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental Schema 41.1, FEP 18, on Lisp Machine Aspen:

I tried (M-X) List all directories and got the following.  "aspen:>**>"
was the default, I only typed carriage return.

>>Trap: The argument given to the SYS:SETUP-1D-ARRAY instruction, #<LMFS-PATHNAME "ASPEN:>**>">, was not an array.
While in the function %STRING-SEARCH-CHAR  (:METHOD NET:HOST :PATHNAME-HOST-NAMEP)  (:METHOD FS:LISPM-HOST :COMBINED :PATHNAME-HOST-NAMEP)

%STRING-SEARCH-CHAR:  (P.C. = 2)
   Arg 0 (CHAR): 124
   Arg 1 (STRING): #<LMFS-PATHNAME "ASPEN:>**>">
   Arg 2 (START): 0
   Arg 3 (END): 10

(:METHOD NET:HOST :PATHNAME-HOST-NAMEP):  (P.C. = 17)
   Arg 0 (SELF): #<LISPM-HOST ASPEN 14311614>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:HOST -- 5. IV's, 0. FL's 41437600>
   Arg 2 (OPERATION): :PATHNAME-HOST-NAMEP
   Arg 3 (NAME): #<LMFS-PATHNAME "ASPEN:>**>">

(:METHOD FS:LISPM-HOST :COMBINED :PATHNAME-HOST-NAMEP):  (P.C. = 16)
   Arg 0 (SELF): #<LISPM-HOST ASPEN 14311614>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:LISPM-HOST -- 0. IV's, 4. FL's 41437621>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

FS:GET-PATHNAME-HOST-I:  (P.C. = 26)
   Arg 0 (HOST-NAME): #<LMFS-PATHNAME "ASPEN:>**>">
   Arg 1 (LIST): #<DTP-LOCATIVE 4101430>

FS:GET-PATHNAME-HOST:  (P.C. = 15)
   Arg 0 (HOST-NAME): #<LMFS-PATHNAME "ASPEN:>**>">
   Arg 1 (NO-ERROR-P): T
   --Defaulted args:--
   Arg 2 (NO-AUTO-ADD-P): NIL

FS:ALL-DIRECTORIES:  (P.C. = 11)
   Arg 0 (PATHNAME): #<LMFS-PATHNAME "ASPEN:>**>">
   Rest arg (OPTIONS): (:SORTED)

ZWEI:COM-LIST-ALL-DIRECTORY-NAMES:  (P.C. = 37)

ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 27)

Rest of stack:
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
22-Sep-84 16:20:03-EDT,4290;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 22 Sep 84 16:19-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 83892; Sat 22-Sep-84 16:23:13-EDT
Date: Sat, 22 Sep 84 16:22 EDT
From: "David C. Plummer" <DCP@SCRC-STONY-BROOK.ARPA>
Subject: DEFSUBST will screw up :OUTSIDE-ACCESSIBLE-INSTANCE-VARIABLES...
To: "Robert A. Cassels" <Cassels@SCRC-RIVERSIDE.ARPA>,
    "Robert W. Kerns" <RWK@SCRC-STONY-BROOK.ARPA>,
    HENRY%MIT-OZ@SCRC-STONY-BROOK.ARPA, DCP@SCRC-RIVERSIDE.ARPA,
    Moon@SCRC-RIVERSIDE.ARPA, MMcM@SCRC-RIVERSIDE.ARPA, TIM@MIT-MC.ARPA
cc: BUG-LISPM@MIT-MC.ARPA
In-Reply-To: <840914100524.3.CASSELS@CUYAHOGA.SCRC.Symbolics>,
             <840914151810.7.RWK@HUDSON.SCRC.Symbolics>
References: <840912131009.7.CASSELS@CUYAHOGA.SCRC.Symbolics>,
            <840913104813.8.CASSELS@CUYAHOGA.SCRC.Symbolics>,
            The message of 13 Sep 84 12:17-EDT from Tim McNerney <TIM at MIT-MC>,
            <840913191235.3.MMCM@MERRIMACK.SCRC.Symbolics>,
            <840913194234.5.DCP@NEPONSET.SCRC.Symbolics>,
            <840913204957.4.DCP@NEPONSET.SCRC.Symbolics>,
            <840913222911.8.MOON@EUPHRATES.SCRC.Symbolics>,
            <840913225550.5.RWK@HUDSON.SCRC.Symbolics>,
            <HENRY.12047401115.BABYL@MIT-OZ>,
            <840914100524.3.CASSELS@CUYAHOGA.SCRC.Symbolics>,
            <840914111908.6.MOON@EUPHRATES.SCRC.Symbolics>,
            <840914122107.9.DCP@NEPONSET.SCRC.Symbolics>,
            <840914123900.2.DCP@NEPONSET.SCRC.Symbolics>,
            <KWH.12047539189.BABYL@MIT-OZ>,
            The message of 14 Sep 84 13:47-EDT from Tim McNerney <TIM at MIT-MC>,
            <840914151810.7.RWK@HUDSON.SCRC.Symbolics>,
            <840914173641.8.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840922162218.9.DCP@NEPONSET.SCRC.Symbolics>

I am not addressing the following issues:
 * This is fixed by CommonLisp (or a codewalker)
 * It could be a gensym with a declared arglist except for the problem
   in the interpreter (which is fixed by the lexical interpreter)
 * the .foo. "convention"
I am addressing this issue, in hopes of cleaning out my mail file.

    Date: Fri, 14 Sep 84 10:05 EDT
    From: "Robert A. Cassels" <Cassels@SCRC-RIVERSIDE.ARPA>

    (foo <c-sh-A> => FOO (SUBST): (FOO)
    (arglist 'foo) => (#:FOO)

    So we effectively have a GENSYM, but it has a more useful name.

    If this satisfies everyone, I'll fix DEFFLAVOR this way.
		     ------------------------------
    Date: Fri, 14 Sep 84 15:18 EDT
    From: "Robert W. Kerns" <RWK@YUKON.SCRC.Symbolics>

    There were a lot of problems in MacLisp with this due
    to loading the symbols from binary files.  There is a
    fundamental conflict between retaining EQness and
    maintaining distinctness.  I think, however, that since
    the Lisp Machine does enough things with uninterned
    symbols more correctly than MacLisp did, that you won't
    see any of these problems without dealing in very
    subtle issues like including macroexpansions in
    datastructures in files.  I just tested the more usual
    screw cases, and they all worked.

    I think you should go ahead and do it.

I was maximally conservative and tried the following.  From another
machine, I compiled a file containing
    (defmacro deftester (name object1 object2)
      (let ((sym1 (make-symbol (get-pname object1) nil))
	    (sym2 (make-symbol (get-pname object2) t)))
	`(defun ,name (,sym1 ,sym2)
	   (list ,sym1 ,sym2
		 ',sym1 ',sym2
		 (eq ',sym1 ',sym2)
		 (eq ',sym1 ',sym1)
		 (eq (car '(,sym1 2))
		     (car '(,sym1 3)))))))
    
    (deftester foobar foo bar)
and loaded the result on my machine.  The arglist of FOOBAR is correct
(it has #:FOO and #:BAR, which by games played by c-sh-A show as FOO and
BAR).  (foobar 1 2) => (1 2 #:FOO #:BAR NIL T T) which shows that eq
symbols /in the dumped out file/ remain eq when read back in (but
reloading the file will produce a different set, of course).  Therefore,
I don't see any problem with loading a file with GENSYMs in it compiled
in somebody else's environment.

I made the change to DEFFLAVOR in the source (and made it do the
make-symbol once instead of once per outside accessible instance
variable).
22-Sep-84 22:57:01-EDT,1564;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 22 Sep 84 22:56-EDT
Date: 22 Sep 1984  23:01 EDT (Sat)
Message-ID: <SR.EHPYC.12049744180.BABYL@MIT-SPEECH>
From: Scott Cyphers <SR.EHPYC@MIT-SPEECH>
To:   bug-lispm@oz, sr.jack@MIT-SPEECH
Subject: [SR.JACK: Goldy's unwillingness to dump]

Although more flexible, the new way to set parameters for a backup
tape are hardly intuitive in 5.2, particularly for someone who's main
familiarity with lisp machines is for backing them up, as evidenced by
this note I got today.  Perhaps it is time to come up with something a
little friendlier and more flexible than choose-variable-values for
these kinds of things.  Having to edit the parameters for opening
stream to speech is hardly winning.  Why not have a dynamic
choose-variable-values kind of thing that sets up tape variables
according to the type of host?

Date: Saturday, 22 September 1984  08:47-EDT
From: SR.JACK
To:   sr.ehpyc, sr.rob
Re:   Goldy's unwillingness to dump

Today, Sat. morn, I roused myself out of bed at 7:30 to come in and have some
Fun, namely backing up.  Well it seems that Goldy had some other ideas.
No matter what I tried I got this error message:

	>>ERROR: Cannot mount reel chenutt1[or whatever], Cannot get tape-
	Filename was not specified.

	(:DEFUN-METHOD TAPE: REMOTE-TAPE-MIXIN-MOUNT):


I couldn't get rid of this problem.
Also, the new menu has no provision for specifying unit MTA0:, could this 
have something to do with it, or is that assumed by goldy now?

						Thanks,
						Jack
23-Sep-84 00:55:10-EDT,3125;000000000000
Received: from MIT-MOON by MIT-OZ via Chaosnet; 23 Sep 84 00:53-EDT
Date: Sunday, 23 September 1984, 00:50-EDT
From: JCMA@MIT-OZ
To: BUG-LISPM@MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:



>>Error: Illegal to change specified bits
         For OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1
While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:CHANGE-PROPERTIES-CHAOS  (:METHOD FS:QFILE-ACCESS-PATH :CHANGE-PROPERTIES)

(:METHOD FS:HOST-UNIT :COMMAND):  (P.C. = 236)
   Arg 0 (SELF): #<HOST-UNIT 4476662>
   Arg 1 (SELF-MAPPING-TABLE): FS:HOST-UNIT
   Arg 2 (OPERATION): :COMMAND
   Arg 3 (MARK-P): NIL
   Arg 4 (STREAM-OR-HANDLE): NIL
   Arg 5 (SIMPLE-P): NIL
   Arg 6 (WHOSTATE): "Change Properties"
   Rest arg (COMMANDS): NIL
   Local 8 (HANDLE): NIL
   Local 9 (STREAM): NIL
   Local 10 (PKT): #<Chaos Packet 6142433>
   Local 11 (SUCCESS): NIL
   Local 12 (STRING): " ERROR ACC F Illegal to change specified bits"
   Local 13 (TRANSACTION-ID): "T2349"
   Local 14 (CREATE-P): NIL
   Local 15 (CONDITION): NIL
   Local 16: T
   Local 17: #<CASE-HANDLER 35766504>
   Local 18: (#<BIND-HANDLER 62056366> #<BIND-HANDLER 62056372>)
   Local 19: (#<CASE-HANDLER 35766504> #<BIND-HANDLER 62056366> #<BIND-HANDLER 62056372>)

FS:CHANGE-PROPERTIES-CHAOS:  (P.C. = 24)
   Arg 0 (ACCESS-PATH): #<TOPS20-QFILE-ACCESS-PATH OZ using QFILE 4476651>
   Arg 1 (*COMMAND-PATHNAME*-initialization): #<TOPS20-PATHNAME "OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1">
   Arg 2 (PROPERTIES): (:PROTECTION "777777")

(:METHOD FS:QFILE-ACCESS-PATH :CHANGE-PROPERTIES):  (P.C. = 6)
   Arg 0 (SELF): #<TOPS20-QFILE-ACCESS-PATH OZ using QFILE 4476651>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:QFILE-ACCESS-PATH -- 4. IV's, 0. FL's 35266772>
   Arg 2 (OPERATION): :CHANGE-PROPERTIES
   Arg 3 (PATHNAME): #<TOPS20-PATHNAME "OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1">
   Rest arg (PROPERTIES): (:PROTECTION "777777")

(:METHOD FS:ACTIVE-PATHNAME-MIXIN :CHANGE-PROPERTIES):  (P.C. = 13)
   Arg 0 (SELF): #<TOPS20-PATHNAME "OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:ACTIVE-PATHNAME-MIXIN -- 1. IV's, 0. FL's 41270761>
   Arg 2 (OPERATION): :CHANGE-PROPERTIES
   Arg 3 (IGNORE): T
   Rest arg (PROPERTIES): (:PROTECTION "777777")

FS:CHANGE-FILE-PROPERTIES:  (P.C. = 101)
   Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1">
   Arg 1 (ERROR-P): T
   Rest arg (PROPERTIES): (:PROTECTION "777777")

ZWEI:CHANGE-FILE-PROPERTIES:  (P.C. = 133)
   Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1">

ZWEI:COM-DIRED-CHANGE-FILE-PROPERTIES:  (P.C. = 30)

ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
   Arg 0 (COMMAND): ZWEI:COM-DIRED-CHANGE-FILE-PROPERTIES
   Arg 1 (CHAR): 46
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

Rest of stack:
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
23-Sep-84 03:27:27-EDT,4670;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 23 Sep 84 03:27-EDT
Date: Sunday, 23 September 1984, 03:19-EDT
From:  <TIM at MIT-MC>
Subject: Found PACKAGE bound to NIL in break loop
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Janis Joplin:

In the midst of doing an APROPOS, the window took a MORE exception.
While paused, I decided to enter a break loop (to see what a symbol was
bound to), and, well, PACKAGE was bound to NIL, and we lost.  Perhaps
someone should make sure that PACKAGE is bound to something reasonable
when the user enters a break loop.

  (DEFUN APROPOS-1 (SYMBOL &AUX COMMA)
    (COND ((STRING-SEARCH APROPOS-SUBSTRING (GET-PNAME SYMBOL))
	   (PUSH SYMBOL RETURN-LIST)
	   ;; Binding the package to NIL forces the package to be printed.
	   ;; This is better than explicitly printing the package, because
	   ;; this way you get the "short" version.
	   (LET ((PACKAGE NIL))
**MORE**==>  (FORMAT T "~%~S" SYMBOL))
	   ...)))

>>Trap: The first argument given to the ARRAY-LEADER instruction, NIL, was not an array.
While in the function SI:PKG-INTERN-INTERNAL  INTERN  SI:XR-READ-SYMBOL

SI:PKG-INTERN-INTERNAL:  (P.C. = 4)
   Arg 0 (STRING): "*LOCAL-FS-HOST*"
   Arg 1 (HASH): 1089148272
   Arg 2 (PKG): NIL

INTERN:  (P.C. = 20)
   Arg 0 (SYM): "*LOCAL-FS-HOST*"
   --Defaulted args:--
   Arg 1 (PKG): NIL

SI:XR-READ-SYMBOL:  (P.C. = 21)
   Arg 0 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 1 (STRING): "*LOCAL-FS-HOST*"

SI:XR-READ-THING:  (P.C. = 236)
   Arg 0 (STREAM): #:TERMINAL-IO-SYN-STREAM

(:INTERNAL SI:READ-INTERNAL 0):  (P.C. = 15)
   Arg 0 (STREAM): #:TERMINAL-IO-SYN-STREAM
   Arg 1 (FUNCTION): READ-FOR-TOP-LEVEL
   Arg 2 (EOF-OPTION): SI:NO-EOF-OPTION

(:DEFUN-METHOD TV:RUBOUT-HANDLER-READ):  (P.C. = 61)
   Arg 0 (SELF): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 3110643 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:STREAM-MIXIN -- 14. IV's, 0. FL's 37255602>
   Arg 2 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL SI:READ-INTERNAL 0) 25445332>
   Arg 3 (ARGS): (#:TERMINAL-IO-SYN-STREAM READ-FOR-TOP-LEVEL SI:NO-EOF-OPTION)

(:METHOD TV:STREAM-MIXIN :RUBOUT-HANDLER):  (P.C. = 72)
   Arg 0 (SELF): #<EDITOR-TYPEOUT-WINDOW Editor Typeout Window 5 3110643 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor TV:STREAM-MIXIN -- 14. IV's, 0. FL's 37255602>
   Arg 2 (OPERATION): :RUBOUT-HANDLER
   Arg 3 (RUBOUT-HANDLER-OPTIONS-initialization): ((:ACTIVATION = 148) (:FULL-RUBOUT :FULL-RUBOUT))
   Arg 4 (FUNCTION): #<DTP-COMPILED-FUNCTION (:INTERNAL SI:READ-INTERNAL 0) 25445332>
   Rest arg (ARGS): (#:TERMINAL-IO-SYN-STREAM READ-FOR-TOP-LEVEL SI:NO-EOF-OPTION)

SI:READ-INTERNAL:  (P.C. = 46)
   Arg 0 (FUNCTION): READ-FOR-TOP-LEVEL
   Rest arg (READ-ARGS): (#:TERMINAL-IO-SYN-STREAM NIL ((:FULL-RUBOUT :FULL-RUBOUT)))

Rest of stack:
READ-FOR-TOP-LEVEL:  (P.C. = 6)
SI:BREAK-READ-FUNCTION:  (P.C. = 124)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 142)
BREAK:  (P.C. = 173)
SYS:KBD-INTERCEPT-CHARACTER:  (P.C. = 52)
TV:KBD-DEFAULT-OUTPUT-FUNCTION:  (P.C. = 17)
TV:IO-BUFFER-GET:  (P.C. = 54)
TV:KBD-IO-BUFFER-GET:  (P.C. = 17)
(:METHOD TV:STREAM-MIXIN :ANY-TYI):  (P.C. = 67)
(:METHOD ZWEI:EDITOR-TYPEOUT-WINDOW :MORE-TYI):  (P.C. = 5)
(:DEFUN-METHOD TV:SHEET-MORE-LOCK-KLUDGE):  (P.C. = 31)
(:DEFUN-METHOD TV:SHEET-MORE-HANDLER):  (P.C. = 54)
(:METHOD ZWEI:EDITOR-TYPEOUT-WINDOW :MORE-EXCEPTION):  (P.C. = 14)
(:METHOD TV:SHEET :HANDLE-EXCEPTIONS):  (P.C. = 30)
(:METHOD TV:SHEET :STRING-OUT):  (P.C. = 113)
(:METHOD TV:TYPEOUT-WINDOW-WITH-MOUSE-SENSITIVE-ITEMS :COMBINED :STRING-OUT):  (P.C. = 16)
SI:PRINT-RAW-STRING:  (P.C. = 23)
SI:PRINT-PNAME-STRING:  (P.C. = 427)
(:INTERNAL SI:PRINT-PNAME-STRING 0):  (P.C. = 6)
SI:PKG-PACKAGE-PREFIX:  (P.C. = 153)
SI:PKG-SYMBOL-PREFIX:  (P.C. = 60)
SI:PRINT-PNAME-STRING:  (P.C. = 27)
SI:PRINT-OBJECT:  (P.C. = 73)
PRIN1:  (P.C. = 10)
FORMAT:FORMAT-CTL-ASCII:  (P.C. = 52)
(:PROPERTY FORMAT:S FORMAT:CTL-ONE-ARG):  (P.C. = 5)
FORMAT:FORMAT-CTL-OP:  (P.C. = 21)
FORMAT:FORMAT-CTL-STRING:  (P.C. = 74)
FORMAT:  (P.C. = 70)
SI:APROPOS-1:  (P.C. = 21)
MAPATOMS:  (P.C. = 41)
APROPOS:  (P.C. = 23)
SI:*EVAL:  (P.C. = 370)
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
BREAK:  (P.C. = 173)
(:DEFUN-METHOD ZWEI:COM-BREAK):  (P.C. = 112)
ZWEI:COM-BREAK:  (P.C. = 12)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
23-Sep-84 20:39:07-EDT,1122;000000000000
Received: from MIT-JANIS by MIT-OZ via Chaosnet; 23 Sep 84 20:38-EDT
Date: Sunday, 23 September 1984, 20:35-EDT
From: Scott W. Layson <x.Gyro at MIT-OZ>
Subject: &rest args and the error handler
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Janis Joplin:

When an error happens in a function that takes a &rest parameter, and
the actual argument list passed is quite long, I find no simple way to
view the entire &rest argument -- it gets truncated via PRINLENGTH in
the normal display.  I wind up doing something like c-m-5 c-m-A, c-m-6
c-m-A, etc.  Now I grant that it's useful to be able to see and modify
individual elements of the list, but more commonly I just want to see
the whole thing.

So I have a couple proposals:

c-m-- c-m-A should display the &rest argument, if any.

If the rest arg is called OPTIONS, say, (dbg:arg 'options) should refer
to the whole thing and not just the first element.  If it is argument
number <i>, (dbg:arg <i>) should still refer to just the first element,
(dbg:arg <i+1>) to the second, etc., just like c-m-A.

-- Scott
24-Sep-84 00:03:44-EDT,1992;000000000000
Received: from MIT-LISPM-2 by MIT-OZ via Chaosnet; 24 Sep 84 00:03-EDT
Date: Monday, 24 September 1984, 00:06-EDT
From:  <TIM at MIT-MC>
Sender:  at MIT-MC
To: BUG-LISPM at MIT-OZ

In System 98.43, CADR 3.6, ZMail 53.14, MIT-Specific 22.0, DAEDALUS 5.3,
Experimental Nodes 3.0, microcode 309, on Lisp Machine Two:


Insert your description of the circumstances here:

I Telnet'ed *to* this CADR and the server lost.
This is what I found when physically visited it.

>>ERROR: Attempt to :UNTYI something different than last :TYI'ed.
Backtrace from the debugger:

(:METHOD SI:BASIC-BUFFERED-INPUT-STREAM :UNTYI) (P.C. = 54)
  (SELF is #<ASCII-TRANSLATING-CHARACTER-STREAM 36263133>)

 Arg 0 (OPERATION): :UNTYI
 Arg 1 (CH): 215
Local 0 (NEW-INDEX): 1


CHAOS:TELNET-SERVER-FUNCTION (P.C. = 224)

Local 0 (CONN): #<CHAOS Connection 23172633>
Local 1 (LOSE): NIL
Local 2: (SYSTEM:REMOTE-NETWORK-ERROR SI:CONDITION-CASE-THROW CHAOS:G0352)
Local 3: ((SYSTEM:REMOTE-NETWORK-ERROR SI:CONDITION-CASE-THROW CHAOS:G0352))
Local 4: #<ASCII-TRANSLATING-CHARACTER-STREAM 36263133>
Local 5 (.FILE-ABORTED-FLAG.): :ABORT
Local 6 (CH): 215
Local 7 (*SELECTQ-ITEM*): NIL


SI:PROCESS-RUN-FUNCTION-INTERNAL (P.C. = 100)

 Arg 0 (RESTART-ON-RESET): NIL
 Arg 1 (FUNCTION): CHAOS:TELNET-SERVER-FUNCTION
 Rest arg (ARGS): NIL
Local 1: ("Terminate and free process ~A." "TELNET Server")
Local 2: ((SYSTEM:ABORT ERROR) ("Terminate and free process ~A." "TELNET Server") T ("Terminate and free process ~A." "TELNET Server") ...)


SI:PROCESS-TOP-LEVEL (P.C. = 246)

 Arg 0 (IGNORE): NIL
Local 0: ("Reset and arrest process ~A." "TELNET Server")
Local 1: (CONDITION ("Reset and arrest process ~A." "TELNET Server") T ("Reset and arrest process ~A." "TELNET Server") ...)
Local 2: ("Restart process ~A." "TELNET Server")
Local 3: ((SYSTEM:ABORT CONDITION) ("Restart process ~A." "TELNET Server") T ("Restart process ~A." "TELNET Server") ...)
Local 4 (IGNORE): NIL
24-Sep-84 08:55:29-EDT,1818;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 24 Sep 84 08:55-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 95700; Mon 24-Sep-84 08:55:52-EDT
Date: Monday, 24 September 1984, 08:55-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
To: JCMA at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 23 Sep 84 00:50-EDT from JCMA at MIT-OZ
Message-ID: <840924085516.7.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 23 September 1984, 00:50-EDT
    From: JCMA@MIT-OZ

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:

Is this really a LispM bug, an OZ bug, or a user bug?  Maybe you forgot
to enable your capabilities on OZ?

    >>Error: Illegal to change specified bits
	     For OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1
    While in the function (:METHOD FS:HOST-UNIT :COMMAND)  FS:CHANGE-PROPERTIES-CHAOS  (:METHOD FS:QFILE-ACCESS-PATH :CHANGE-PROPERTIES)

	...

    FS:CHANGE-FILE-PROPERTIES:  (P.C. = 101)
       Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1">
       Arg 1 (ERROR-P): T
       Rest arg (PROPERTIES): (:PROTECTION "777777")

    ZWEI:CHANGE-FILE-PROPERTIES:  (P.C. = 133)
       Arg 0 (PATHNAME): #<TOPS20-PATHNAME "OZ:OZ:<KWH.DECTALK>BUG-DECTALK.TXT.1">

    ZWEI:COM-DIRED-CHANGE-FILE-PROPERTIES:  (P.C. = 30)

    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
       Arg 0 (COMMAND): ZWEI:COM-DIRED-CHANGE-FILE-PROPERTIES
       Arg 1 (CHAR): 46
       Arg 2 (PREFIX-CHAR): NIL
       Arg 3 (HOOK-LIST): NIL

    Rest of stack:
    ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
    (:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
    (:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
    ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
24-Sep-84 09:09:18-EDT,1676;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 24 Sep 84 09:09-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 95711; Mon 24-Sep-84 09:06:12-EDT
Date: Monday, 24 September 1984, 09:05-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Found PACKAGE bound to NIL in break loop
To: TIM at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 23 Sep 84 03:19-EDT from TIM at MIT-MC
Message-ID: <840924090544.1.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 23 September 1984, 03:19-EDT
    From:  <TIM at MIT-MC>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Janis Joplin:

    In the midst of doing an APROPOS, the window took a MORE exception.
    While paused, I decided to enter a break loop (to see what a symbol was
    bound to), and, well, PACKAGE was bound to NIL, and we lost.  Perhaps
    someone should make sure that PACKAGE is bound to something reasonable
    when the user enters a break loop.

      (DEFUN APROPOS-1 (SYMBOL &AUX COMMA)
	(COND ((STRING-SEARCH APROPOS-SUBSTRING (GET-PNAME SYMBOL))
	       (PUSH SYMBOL RETURN-LIST)
	       ;; Binding the package to NIL forces the package to be printed.
	       ;; This is better than explicitly printing the package, because
	       ;; this way you get the "short" version.
	       (LET ((PACKAGE NIL))
    **MORE**==>  (FORMAT T "~%~S" SYMBOL))
	       ...)))

This has been reported several times, by MIT people as well as
internally.  The current theory is to have a set of standard break
bindings that make sure a reasonable breakpoint environment is entered.
PACKAGE isn't the only thing affected by this.
24-Sep-84 09:27:41-EDT,1995;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 24 Sep 84 09:27-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 95723; Mon 24-Sep-84 09:29:43-EDT
Date: Monday, 24 September 1984, 09:29-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: &rest args and the error handler
To: Scott W. Layson <x.Gyro at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 23 Sep 84 20:35-EDT from Scott W. Layson <x.Gyro at MIT-OZ>
Message-ID: <840924092912.6.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 23 September 1984, 20:35-EDT
    From: Scott W. Layson <x.Gyro at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Janis Joplin:

    When an error happens in a function that takes a &rest parameter, and
    the actual argument list passed is quite long, I find no simple way to
    view the entire &rest argument -- it gets truncated via PRINLENGTH in
    the normal display.  I wind up doing something like c-m-5 c-m-A, c-m-6
    c-m-A, etc.  Now I grant that it's useful to be able to see and modify
    individual elements of the list, but more commonly I just want to see
    the whole thing.

    So I have a couple proposals:

    c-m-- c-m-A should display the &rest argument, if any.

    If the rest arg is called OPTIONS, say, (dbg:arg 'options) should refer
    to the whole thing and not just the first element.  If it is argument
    number <i>, (dbg:arg <i>) should still refer to just the first element,
    (dbg:arg <i+1>) to the second, etc., just like c-m-A.

I think if you use the local versions of all those, you will win.  This
is one of the differences of the 3600 with the CADR.  DBG:ARG and c-m-A
give you access to the caller's versions.  DBG:LOC and c-m-L give you
access to the callee's versions (the local variables).  Thus, c-m-<n>
c-m-L will give you the rest arg (as a list) for the appropriate value
of <n>. (dbg:loc 'options) will give you the list.  Fair enough?
24-Sep-84 14:07:37-EDT,424;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 24 Sep 84 14:06-EDT
Date: Monday, 24 September 1984, 14:09-EDT
From: Webster Dove <dove at MIT-BUGS-BUNNY>
Subject: disable WHO-AM-I ?
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, UTIL 1.0, FPA 1.0,
Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

How do I disable the WHO-AM-I service on tweety?  I don't list it as a
service, but supply it anyway!
24-Sep-84 16:29:54-EDT,2573;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 24 Sep 84 16:28-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 95991; Mon 24-Sep-84 16:32:05-EDT
Date: Monday, 24 September 1984, 16:31-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: &rest args and the error handler
To: David C. Plummer <DCP at SCRC-TENEX>,
    Scott W. Layson <x.Gyro at MIT-OZ>, BUG-LISPM at MIT-OZ
In-Reply-To: <840924092912.6.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840924163123.1.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Monday, 24 September 1984, 09:29-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

	Date: Sunday, 23 September 1984, 20:35-EDT
	From: Scott W. Layson <x.Gyro at MIT-OZ>

	In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Janis Joplin:

	When an error happens in a function that takes a &rest parameter, and
	the actual argument list passed is quite long, I find no simple way to
	view the entire &rest argument -- it gets truncated via PRINLENGTH in
	the normal display.  I wind up doing something like c-m-5 c-m-A, c-m-6
	c-m-A, etc.  Now I grant that it's useful to be able to see and modify
	individual elements of the list, but more commonly I just want to see
	the whole thing.

If the last argument displayed before the rest argument is arg 3, then
c-m-4 c-m-L will get you the rest argument.  Note the use of c-m-L and
that you add one to the last number it shows you.  This is a trick of
course, and I don't advocate it as great user interface, but I thought
you might like to know the trick.

	So I have a couple proposals:

	c-m-- c-m-A should display the &rest argument, if any.

	If the rest arg is called OPTIONS, say, (dbg:arg 'options) should refer
	to the whole thing and not just the first element.  If it is argument
	number <i>, (dbg:arg <i>) should still refer to just the first element,
	(dbg:arg <i+1>) to the second, etc., just like c-m-A.

Right.  It is a bug in the Debugger that dbg:arg of the symbolic name of the
rest argument doesn't work (in my opinion).

    I think if you use the local versions of all those, you will win.  This
    is one of the differences of the 3600 with the CADR.  DBG:ARG and c-m-A
    give you access to the caller's versions.  DBG:LOC and c-m-L give you
    access to the callee's versions (the local variables).  Thus, c-m-<n>
    c-m-L will give you the rest arg (as a list) for the appropriate value
    of <n>. (dbg:loc 'options) will give you the list.  Fair enough?

Right.  But not great user interface.
24-Sep-84 19:47:30-EDT,2534;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 24 Sep 84 19:46-EDT
Date: Monday, 24 September 1984, 19:47-EDT
From: Richard E. Zippel <RZ at MIT-MC>
Subject: Bug in Zmail, Examine file
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Aspen:

I have had this problem twice while ``Examine File''ing a mail file.
This particular set of problems was started by examining
aspen:>RZ>Mail.text, I have had similar problems with Unix mailboxes.
I'd localize this for you better if our syshost was up.

>>Error: The symbol NIL has an invalid function definition
While in the function NIL  (:METHOD ZWEI:RMAIL-BUFFER :GET-INBOX)  ZWEI:GET-INBOX-FOR-BUFFER

NIL:
   Arg 0: :NEW-CANONICAL-TYPE
   Arg 1: :ZMAIL-TEMP

(:METHOD ZWEI:RMAIL-BUFFER :GET-INBOX):  (P.C. = 33)
   Arg 0 (SELF): #<RMAIL-BUFFER "ASPEN:>RZ>mail.text" 6741345>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:RMAIL-BUFFER -- 3. IV's, 5. FL's 46355572>
   Arg 2 (OPERATION): :GET-INBOX
   Arg 3 (NEW-PATHNAME): NIL
   Arg 4 (DELETE-P): NIL

ZWEI:GET-INBOX-FOR-BUFFER:  (P.C. = 57)
   Arg 0 (BUFFER): #<RMAIL-BUFFER "ASPEN:>RZ>mail.text" 6741345>
   Arg 1 (FROM-PATHNAME): NIL
   Arg 2 (DELETE-P): NIL
   Arg 3 (TELL-BACKGROUND-P): NIL

ZWEI:COM-GET-INBOX-INTERNAL:  (P.C. = 253)
   Arg 0 (FIRST-TIME-P): NIL
   --Defaulted args:--
   Arg 1 (FOR-BUFFER): #<RMAIL-BUFFER "ASPEN:>RZ>mail.text" 6741345>

ZWEI:COM-GET-NEW-MAIL-FROM-INBOX:  (P.C. = 7)

ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
   Arg 0 (COMMAND): ZWEI:COM-GET-NEW-MAIL-FROM-INBOX
   Arg 1 (CHAR): (:MENU ("Get inbox" . ZWEI:COM-GET-NEW-MAIL-FROM-INBOX) 4 #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 5 3115431 exposed>)
   --Defaulted args:--
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 6)
   Arg 0 (*CURRENT-COMMAND*-initialization): ZWEI:COM-GET-NEW-MAIL-FROM-INBOX

(:INTERNAL ZWEI:ZMAIL-COMMAND-LIST 0):  (P.C. = 10)
   Arg 0 (**DEFSELECT-OP**): :MENU
   Arg 1 (ITEM): ("Get inbox" . ZWEI:COM-GET-NEW-MAIL-FROM-INBOX)
   Arg 2 (CH): 4
   Arg 3 (WINDOW): #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 5 3115431 exposed>

Rest of stack:
ZWEI:ZMAIL-COMMAND-LIST:  (P.C. = 12)
(:METHOD ZWEI:ZMAIL-FRAME :PROCESS-SPECIAL-COMMAND):  (P.C. = 16)
(:METHOD ZWEI:ZMAIL-FRAME :COMMAND-LOOP):  (P.C. = 141)
(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP):  (P.C. = 47)
ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 52)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
24-Sep-84 20:03:57-EDT,2142;000000000000
Received: from MIT-LENNON by MIT-OZ via Chaosnet; 24 Sep 84 20:03-EDT
Date: Monday, 24 September 1984, 20:06-EDT
From:  <REID at MIT-OZ>
Subject: defsystem and make-system
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Reasoning Utility Package 12.0,
Experimental DIAGRAM 12.0, Experimental QUANTITY 17.0,
Experimental HISTORY 26.0, Experimental PROCESS 22.0,
Experimental SIMULATION 14.0, FEP 18, on Lisp Machine John Lennon:

I don't know exactly what is going wrong, but it has to do with DEFSYSTEM.

I have several systems defined, such as the following.

   (defsystem quantity
     (:pathname-default "oz:<reid.code>")
     (:patchable "oz:<reid.patches>")
     (:module qlattice ("qlattice" "qarith"))
     (:module rup-and-qlattice "ruplatt")
     (:compile-load qlattice (:fasload (imaginer init) (imaginer damrup))
      (:fasload (imaginer init) (imaginer damrup)))
     (:compile-load rup-and-qlattice (:fasload qlattice (imaginer rup))
      (:fasload qlattice (imaginer rup))))

   (defsystem history
     (:pathname-default "oz:<reid.code>")
     (:patchable "oz:<reid.patches>")
     (:module base-objects ("quantobjs" "baseobjs"))
     (:module histories ("history"))
     (:module objects ("change" "objects"))
     (:compile-load base-objects (:fasload (imaginer init) (imaginer rup) (quantity qlattice))
      (:fasload (imaginer init) (imaginer rup) (quantity qlattice)))
     (:compile-load histories (:fasload base-objects) (:fasload base-objects))
     (:compile-load objects (:fasload histories) (:fasload histories)))

The problem is when I do "(make-system 'quantity)" it loads all the
quantity files (appending explicit version numbers, i.e. "loading
QLATTICE.BIN.8").  Then, when I do a "(make-system 'history)" it again
tries to load the QLATTICE and QARITH files (this time without explicit
version numbers).  This happens for all my DEFSYSTEMs which include
other systems to preload.  Unfortunately, several of these files are
only to be loaded once.  How can I get "make-system" to realize that the
files have already been loaded??

Thanks, Reid Simmons
24-Sep-84 21:25:05-EDT,2162;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 24 Sep 84 21:24-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 96155; Mon 24-Sep-84 21:27:42-EDT
Date: Monday, 24 September 1984, 21:27-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: defsystem and make-system
To: REID at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 24 Sep 84 20:06-EDT from REID at MIT-OZ
Message-ID: <840924212706.2.DCP@NEPONSET.SCRC.Symbolics>

    Date: Monday, 24 September 1984, 20:06-EDT
    From:  <REID at MIT-OZ>

    In Symbolics 3600 Release 5.2, Reasoning Utility Package 12.0,
    Experimental DIAGRAM 12.0, Experimental QUANTITY 17.0,
    Experimental HISTORY 26.0, Experimental PROCESS 22.0,
    Experimental SIMULATION 14.0, FEP 18, on Lisp Machine John Lennon:

    I don't know exactly what is going wrong, but it has to do with DEFSYSTEM.

    I have several systems defined, such as the following.

    The problem is when I do "(make-system 'quantity)" it loads all the
    quantity files (appending explicit version numbers, i.e. "loading
    QLATTICE.BIN.8").  Then, when I do a "(make-system 'history)" it again
    tries to load the QLATTICE and QARITH files (this time without explicit
    version numbers).  This happens for all my DEFSYSTEMs which include
    other systems to preload.  Unfortunately, several of these files are
    only to be loaded once.  How can I get "make-system" to realize that the
    files have already been loaded??

You find a world that has been updated with the patches in the 5.2 patch
bulletin.  The bug is that make-system had a bug that would always
reload files.

P.s.: You should also endeavor to make it possible to reload files.  For
example, suppose you did
	(make-system 'foo)
... fix some bugs in the source...
	(make-system 'foo :compile)
This could cause some entire files to be (rightfully) reloaded.  Use of
DEFVAR and ADD-INITIALIZATION using :ONCE as a keyword may help.  E.g.,
    (add-initialization "Do something nasty that can only be done once"
			'(do-something-nasty-that-can-only-be-done-once)
			'(:once))
25-Sep-84 01:54:17-EDT,1112;000000000000
Received: from MIT-MOON by MIT-OZ via Chaosnet; 25 Sep 84 01:53-EDT
Date: Tuesday, 25 September 1984, 01:56-EDT
From: JCMA@MIT-OZ
Subject: Packages Screws Associated W/ Evaluated Code
To: Bug-Lispm@MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.66, FEP 18, on Lisp
Machine Keith Moon:

I thought I would report this in general terms but not in specific because I
no longer have the cases on hand.  We were trying to interface to some code
which ran interpreted.  All of that code was in the user package.  My code was
in my package.  Two serious bugs came to light.

* Definitions of interpreted code which were loaded into the user package
clobbered my definitions in my package!

* Redefinitions of buggy functions in my package did not propagate to
the interpreted functions which called them in the user package.

These problems forced us to have to compile the previously interpreted code.
These are very serious problems for interpreted code.  Either something should
be done about them or the ability to run interpreted code should not be
advertized as a feature.
25-Sep-84 02:59:22-EDT,2480;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 25 Sep 84 02:58-EDT
Date: Tuesday, 25 September 1984, 03:02-EDT
From:  <TIM at MIT-MC>
Subject: Redisplay lossage:  buffer corruption?
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, FEP 18, on PI Project:

Did a Compile Changed Definitions, from what I can tell, it tried to compile a
random text file.  I don't believe POINT-LINE and the line of FIRST-BP are even
in the same buffer.  Anyway, my Zwei seems to be totally wedged!  Any suggestion
for the next time this sort of thing happens?

>>Trap: The first argument given to the AP-LEADER instruction, NIL, was not an array.
While in the function ZWEI:PUT-POINT-AT-PLINE  ZWEI:RECENTER-WINDOW  ZWEI:REDISPLAY

ZWEI:PUT-POINT-AT-PLINE:  (P.C. = 23)
   Arg 0 (SHEET): #<ZMACS-WINDOW-PANE Zmacs Window Pane 1 3100337 exposed>
   Arg 1 (POINT-LINE): "Re:   Metting w//Pete"
   Arg 2 (POINT-INDEX): 3
   Arg 3 (POINT-PLINE): 24
   Arg 4 (FIRST-BP): (";;; -*- Mode: Lisp; Package: USER; Base: 10. -*-" 0 :NORMAL)
   Arg 5 (LAST-BP): ("" 0 :MOVES)
   Local 6 (LH): 14
   Local 7 (P): 0
   Local 8 (STOP-LINE): ";;; -*- Mode: Lisp; Package: USER; Base: 10. -*-"
   Local 9 (DIAGRAM-NPLINES): NIL
   Local 10 (LINE): NIL
   Local 11 (POINT-LINE-P): NIL
   Local 12 (DIAGRAM): NIL

ZWEI:RECENTER-WINDOW:  (P.C. = 101)
   Arg 0 (WINDOW): #<WINDOW 35740033>
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL

ZWEI:REDISPLAY:  (P.C. = 266)
   Arg 0 (WINDOW): #<WINDOW 35740033>
   --Defaulted args:--
   Arg 1 (RECENTER-TYPE): :ABSOLUTE
   Arg 2 (RC1): NIL
   Arg 3 (RC2): NIL
   Arg 4 (FORCE-TO-COMPLETION-P): NIL

ZWEI:REDISPLAY-ALL-WINDOWS:  (P.C. = 34)
   --Defaulted args:--
   Arg 0 (FORCE-TO-COMPLETION-P): NIL
   Arg 1 (SELECT-P): T

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 140)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 35672207>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 12. IV's, 0. FL's 61663712>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T
   Arg 4 (DESCRIPTION): NIL

(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
   Arg 0 (SELF): #<ZMACS-TOP-LEVEL-EDITOR 35672207>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:TOP-LEVEL-EDITOR -- 12. IV's, 1. FL's 42623361>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)

SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
   Arg 0 (IGNORE): NIL
25-Sep-84 06:38:26-EDT,3726;000000000000
Received: from MIT-MOON by MIT-OZ via Chaosnet; 25 Sep 84 06:38-EDT
Date: Tuesday, 25 September 1984, 06:40-EDT
From: JCMA@MIT-OZ
To: bug-pig@MIT-OZ
Cc: BUG-LISPM@MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.72, FEP 18, on Lisp Machine Keith Moon:



>>Error: illegal record encountered; STV = !UL
         For PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12
While in the function (:DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK)  (:DEFUN-METHOD FS:FILE-NEXT-READ-PKT)  (:METHOD FS:FILE-INPUT-STREAM-MIXIN :GET-NEXT-INPUT-PKT)

(:DEFUN-METHOD FS:FILE-PROCESS-ASYNC-MARK):  (P.C. = 20)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12" 7443006>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-DATA-STREAM-MIXIN -- 6. IV's, 0. FL's 73723745>
   Arg 2 (PKT): #<Chaos Packet 23146715>
   Local 3 (STRING): "I2450 ERROR MSC F illegal record encountered; STV = !UL"

(:DEFUN-METHOD FS:FILE-NEXT-READ-PKT):  (P.C. = 67)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12" 7443006>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN -- 5. IV's, 1. FL's 73723654>
   Arg 2 (NO-HANG-P): NIL
   Arg 3 (FOR-SYNC-MARK-P): NIL

(:METHOD FS:FILE-INPUT-STREAM-MIXIN :GET-NEXT-INPUT-PKT):  (P.C. = 17)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12" 7443006>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-STREAM-MIXIN -- 5. IV's, 1. FL's 73723654>
   Arg 2 (OPERATION): :GET-NEXT-INPUT-PKT
   Arg 3 (NO-HANG-P): NIL

(:METHOD CHAOS:CHARACTER-INPUT-STREAM-MIXIN :NEXT-INPUT-BUFFER):  (P.C. = 6)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12" 7443006>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor CHAOS:CHARACTER-INPUT-STREAM-MIXIN -- 1. IV's, 0. FL's 73723717>
   Arg 2 (OPERATION): :NEXT-INPUT-BUFFER
   Arg 3 (NO-HANG-P): NIL

(:METHOD SI:BASIC-BUFFERED-INPUT-STREAM :SETUP-NEXT-INPUT-BUFFER):  (P.C. = 11)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12" 7443006>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-BUFFERED-INPUT-STREAM -- 3. IV's, 0. FL's 73723754>
   Arg 2 (OPERATION): :SETUP-NEXT-INPUT-BUFFER
   --Defaulted args:--
   Arg 3 (NO-HANG-P): NIL

(:METHOD FS:FILE-INPUT-CHARACTER-STREAM :COMBINED :SETUP-NEXT-INPUT-BUFFER):  (P.C. = 10)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12" 7443006>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:FILE-INPUT-CHARACTER-STREAM -- 1. IV's, 7. FL's 73723664>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD SI:BUFFERED-LINE-INPUT-STREAM :LINE-IN):  (P.C. = 16)
   Arg 0 (SELF): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12" 7443006>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BUFFERED-LINE-INPUT-STREAM -- 3. IV's, 0. FL's 73723731>
   Arg 2 (OPERATION): :LINE-IN
   Arg 3 (LEADER): 9.

ZWEI:VIEW-WINDOW-DISPLAY:  (P.C. = 37)
   Arg 0 (ZWEI-WINDOW): #<WINDOW 71365745>
   Arg 1 (STREAM): #<FILE-INPUT-CHARACTER-STREAM "PIG:USRD$:[RELATUS.EXAMPLES.INTERV]QXHUN4.TXT;12" 7443006>
   Arg 2 (FORCE-P): T

Rest of stack:
ZWEI:VIEW-WINDOW:  (P.C. = 32)
ZWEI:VIEW-STREAM:  (P.C. = 37)
ZWEI:VIEW-FILE:  (P.C. = 42)
ZWEI:COM-DIRED-VIEW-FILE:  (P.C. = 47)
ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
(:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
25-Sep-84 07:37:29-EDT,1114;000000000000
Received: from SCRC-YUKON by MIT-OZ via Chaosnet; 25 Sep 84 07:37-EDT
Received: from SCRC-PEACE by SCRC-YUKON via CHAOS with CHAOS-MAIL id 62901; Tue 25-Sep-84 07:40:26-EDT
Date: Tuesday, 25 September 1984, 07:40-EDT
From: Charles Hornig <Hornig at SCRC-STONY-BROOK>
Subject: disable WHO-AM-I ?
To: Webster Dove <dove at MIT-BUGS-BUNNY>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 24 Sep 84 14:09-EDT from Webster Dove <dove at MIT-BUGS-BUNNY>
Message-ID: <840925074026.5.HORNIG@PEACE.SCRC.Symbolics>

    Date: Monday, 24 September 1984, 14:09-EDT
    From: Webster Dove <dove at MIT-BUGS-BUNNY>

    In Symbolics 3600 Release 5.2, UTIL 1.0, FPA 1.0,
    Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

    How do I disable the WHO-AM-I service on tweety?  I don't list it as a
    service, but supply it anyway!

The you really need to do this, you have to splice its server object out
of neti:*servers*.  This shouldn't be necessary, though.  5.2 systems
try to get WHO-AM-I information from the namespace server before asking
total randoms.  Why don't you want to provide it?
25-Sep-84 10:24:21-EDT,1917;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 25 Sep 84 10:23-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 96303; Tue 25-Sep-84 10:27:00-EDT
Date: Tuesday, 25 September 1984, 10:26-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Packages Screws Associated W/ Evaluated Code
To: JCMA at MIT-OZ, Bug-Lispm at MIT-OZ
In-Reply-To: The message of 25 Sep 84 01:56-EDT from JCMA at MIT-OZ
Message-ID: <840925102612.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 25 September 1984, 01:56-EDT
    From: JCMA@MIT-OZ

    In Symbolics 3600 Release 5.2, Experimental RELATUS 130.66, FEP 18, on Lisp
    Machine Keith Moon:

    I thought I would report this in general terms but not in specific because I
    no longer have the cases on hand.  We were trying to interface to some code
    which ran interpreted.  All of that code was in the user package.  My code was
    in my package.  Two serious bugs came to light.

    * Definitions of interpreted code which were loaded into the user package
    clobbered my definitions in my package!

That shouldn't happen.  You are really going to have to provide a test
case.

    * Redefinitions of buggy functions in my package did not propagate to
    the interpreted functions which called them in the user package.

I don't understand this.  I take it to mean you redefined a buggy RL:FOO
but USER:FOO called the old RL:FOO instead of the new.  This isn't
supposed to happen either.  Again, you are going to have to provide a
test case.

    These problems forced us to have to compile the previously interpreted code.
    These are very serious problems for interpreted code.  Either something should
    be done about them or the ability to run interpreted code should not be
    advertized as a feature.

The interpreter is supposed to work, and as far as I can tell, it does.
25-Sep-84 10:31:08-EDT,1478;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 25 Sep 84 10:30-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 96309; Tue 25-Sep-84 10:33:04-EDT
Date: Tuesday, 25 September 1984, 10:32-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Redisplay lossage:  buffer corruption?
To: TIM at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 25 Sep 84 03:02-EDT from TIM at MIT-MC
Message-ID: <840925103218.1.DCP@NEPONSET.SCRC.Symbolics>

    Date: Tuesday, 25 September 1984, 03:02-EDT
    From:  <TIM at MIT-MC>

    In Symbolics 3600 Release 5.2, FEP 18, on PI Project:

    Did a Compile Changed Definitions, from what I can tell, it tried to compile a
    random text file.  I don't believe POINT-LINE and the line of FIRST-BP are even
    in the same buffer.  Anyway, my Zwei seems to be totally wedged!  Any suggestion
    for the next time this sort of thing happens?

    >>Trap: The first argument given to the AP-LEADER instruction, NIL, was not an array.
    While in the function ZWEI:PUT-POINT-AT-PLINE  ZWEI:RECENTER-WINDOW  ZWEI:REDISPLAY

    ZWEI:PUT-POINT-AT-PLINE:  (P.C. = 23)

This [compiling a text buffer, barfing during redisplay] has been
reported before.  I don't know when we will find the resources to fix
this one, as I think this is a special case of a more global problem.

My trick is to return out of ZWEI:REDISPLAY and then type c-m-L before
doing anything else.
25-Sep-84 15:36:39-EDT,535;000000000000
Mail-From: MICHAELG created at 25-Sep-84 15:33:39
Date: 25 Sep 1984  15:33 EDT (Tue)
Message-ID: <MICHAELG.12050449046.BABYL@MIT-OZ>
From: Mike Gennert@MIT-OZ <MICHAELG@MIT-OZ>
To:   BUG-LISPM@MIT-OZ
Cc:   MICHAELG @ MIT-OZ
Subject: namespace server

A friend of mine from Japan wants to know more about how lisp-machines
are networked in general and the namespace server in particular.  None
of the AI memos, Tech Reps or Working Papers is any help.  Is any info
available concerning the namespace server?
- Mike Gennert
25-Sep-84 23:27:16-EDT,4743;000000000000
Received: from MIT-BUDDY by MIT-OZ via Chaosnet; 25 Sep 84 23:26-EDT
Date: Tuesday, 25 September 1984, 23:26-EDT
From:  <CFRY at MIT-OZ>
Subject: :unspecific is an invalid file version
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental MIT 1.2, FEP 18, on Lisp Machine Buddy Holly:

THis happens every time I do (make-system 'fb) .
The files that make-system is trying to load is on prep [unix, bsd 4.2].

MIT patch 1.3 [the big one] can't be loaded in a fresh 5.2 bullitin band,
so if that patch fixes this bug, it does no good since it can't be loaded.

>>Error: :UNSPECIFIC is an invalid version for FS:LOGICAL-PATHNAME
While in the function (:METHOD FS:PATHNAME :VALIDATE-COMPONENT)  (:METHOD FS:PATHNAME :VALIDATE)  (:METHOD FS:PATHNAME-HASH-TABLE-MIXIN :GET-PATHNAME)

(:METHOD FS:PATHNAME :VALIDATE-COMPONENT):  (P.C. = 40)<<Error printing function name>>
   Arg 0 (SELF): #<LOGICAL-PATHNAME "FB: FB; Z-MENUS.BIN">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 41262613>
   Arg 2 (OPERATION): :VALIDATE-COMPONENT
   Arg 3 (TEST-ARG): :UNSPECIFIC
   Arg 4 (TEST-ARG-LOC): #<DTP-LOCATIVE 50466041>
   Arg 5 (VALID-MSG): :VERSION
   Arg 6 (TEST-MSG): :VALID-VERSION-P
   Arg 7 (CASE-MSG): NIL
   Arg 8 (UNCASE-MSG): NIL
   Arg 9 (COMPONENT): :VERSION
   Arg 10 (PRETTY-NAME): "version"

(:METHOD FS:PATHNAME :VALIDATE):  (P.C. = 13)<<Error printing function name>>
   Arg 0 (SELF): #<LOGICAL-PATHNAME "FB: FB; Z-MENUS.BIN">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 41262613>
   Arg 2 (OPERATION): :VALIDATE

(:METHOD FS:PATHNAME-HASH-TABLE-MIXIN :GET-PATHNAME):  (P.C. = 27)<<Error printing function name>>
   Arg 0 (SELF): #<CASE-INSENSITIVE-PATHNAME-HASH-TABLE FB>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME-HASH-TABLE-MIXIN -- 1. IV's, 0. FL's 41256123>
   Arg 2 (OPERATION): :GET-PATHNAME
   Arg 3 (DEV): :UNSPECIFIC
   Arg 4 (DIR): ("FB")
   Arg 5 (NAM): "Z-MENUS"
   Arg 6 (TYP): "BIN"
   Arg 7 (VRS): :UNSPECIFIC
   Arg 8 (KEY): (("FB") "Z-MENUS" "BIN" :UNSPECIFIC)

(:METHOD NET:NO-DEVICE-HOST-MIXIN :GET-PATHNAME):  (P.C. = 26)<<Error printing function name>>
   Arg 0 (SELF): #<LOGICAL-HOST FB>
   Arg 1 (SELF-MAPPING-TABLE): NET:NO-DEVICE-HOST-MIXIN
   Arg 2 (OPERATION): :GET-PATHNAME
   Arg 3 (DEV): :UNSPECIFIC
   Arg 4 (DIR): ("FB")
   Arg 5 (NAM): "Z-MENUS"
   Arg 6 (TYP): "BIN"
   Arg 7 (VRS): :UNSPECIFIC

FS:MAKE-PATHNAME-1:  (P.C. = 562)<<Error printing function name>>
   Rest arg (OPTIONS): (:DEFAULT-HOST #<LOGICAL-HOST FB> :DEFAULT-DEVICE :UNSPECIFIC :DEFAULT-DIRECTORY ("FB") :DEFAULT-NAME "Z-MENUS" :DEFAULT-TYPE "BIN" ...)

(:METHOD FS:PATHNAME :NEW-PATHNAME):  (P.C. = 21)<<Error printing function name>>
   Arg 0 (SELF): #<LOGICAL-PATHNAME "FB: FB; Z-MENUS.BIN.NEWEST">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 41262613>
   Arg 2 (OPERATION): :NEW-PATHNAME
   Rest arg (OPTIONS): (:NAME "Z-MENUS" :CANONICAL-TYPE :BIN :VERSION :UNSPECIFIC)

(:METHOD FS:PATHNAME :COMBINED :NEW-PATHNAME):  (P.C. = 36)<<Error printing function name>>
   Arg 0 (SELF): #<LOGICAL-PATHNAME "FB: FB; Z-MENUS.BIN.NEWEST">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:PATHNAME -- 0. IV's, 1. FL's 41262613>
   Rest arg (.DAEMON-CALLER-ARGS.): (:NEW-PATHNAME :NAME "Z-MENUS" :CANONICAL-TYPE :BIN :VERSION :UNSPECIFIC)

(:METHOD FS:LOGICAL-PATHNAME :BACK-TRANSLATED-PATHNAME):  (P.C. = 117)<<Error printing function name>>
   Arg 0 (SELF): #<LOGICAL-PATHNAME "FB: FB; Z-MENUS.BIN.NEWEST">
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:LOGICAL-PATHNAME -- 0. IV's, 4. FL's 41262627>
   Arg 2 (OPERATION): :BACK-TRANSLATED-PATHNAME
   Arg 3 (PATHNAME): #<UNIX-PATHNAME "PREP: //u//cfry//fb//z-menus.bn">

Rest of stack:
SI:SET-FILE-STREAM-LOADED-ID:  (P.C. = 27)<<Error printing function name>>
SI:BIN-LOAD-FILE-INTERNAL:  (P.C. = 140)<<Error printing function name>>
SI:BIN-LOAD-FILE:  (P.C. = 22)<<Error printing function name>>
SI:FASLOAD-1:  (P.C. = 5)<<Error printing function name>>
SI:DO-FILE-TRANSFORMATIONS:  (P.C. = 242)<<Error printing function name>>
SI:PERFORM-TRANSFORMATIONS:  (P.C. = 166)<<Error printing function name>>
MAKE-SYSTEM:  (P.C. = 222)<<Error printing function name>>
SI:*EVAL:  (P.C. = 370)<<Error printing function name>>
SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)<<Error printing function name>>
SI:LISP-COMMAND-LOOP:  (P.C. = 115)<<Error printing function name>>
SI:LISP-TOP-LEVEL1:  (P.C. = 22)<<Error printing function name>>
SI:LISP-TOP-LEVEL2:  (P.C. = 5)<<Error printing function name>>
SI:PROCESS-TOP-LEVEL:  (P.C. = 53)<<Error printing function name>>
26-Sep-84 01:45:27-EDT,1045;000000000000
Received: from MIT-ROBOT-4 by MIT-OZ via Chaosnet; 26 Sep 84 01:44-EDT
Date: Wednesday, 26 September 1984, 01:45-EDT
From: Scott W. Layson <x.Gyro at MIT-OZ>
Subject: ART-BOOLEAN default value incorrectly computed
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, on Lisp Machine Robot-4:

I have found three functions in which the expression for the default
value of an array element computes the wrong value for ART-BOOLEAN
arrays (i.e., T instead of NIL): ADJUST-ARRAY-SIZE, COPY-ARRAY-CONTENTS,
and COPY-ARRAY-CONTENTS-AND-LEADER.  ADJUST-ARRAY-SIZE, for example,
uses the expression

  (IF (NULL (ARRAY-BITS-PER-ELEMENT TYPE)) NIL 0)

The problem is that (ARRAY-BITS-PER-ELEMENT ART-BOOLEAN) => 1, of
course, so this expression returns 0, which of course turns into T when
stored into the array.  COPY-ARRAY-CONTENTS and friend use a slightly
different expression with the same bug.  There are probably more
instances of this bug scattered around the system, too (though
MAKE-ARRAY works correctly).

-- Scott
26-Sep-84 01:48:57-EDT,1242;000000000000
Received: from MIT-JANIS by MIT-OZ via Chaosnet; 26 Sep 84 01:48-EDT
Date: Wednesday, 26 September 1984, 01:49-EDT
From: JCMA@MIT-OZ
Subject: disable WHO-AM-I ?
To: dove@MIT-BUGS-BUNNY
Cc: Hornig@SCRC-STONY-BROOK@mc, BUG-LISPM@MIT-OZ
In-reply-to: <840925074026.5.HORNIG@PEACE.SCRC.Symbolics>

    Date: Tuesday, 25 September 1984, 07:40-EDT
    From: Charles Hornig <Hornig at SCRC-STONY-BROOK>

	Date: Monday, 24 September 1984, 14:09-EDT
	From: Webster Dove <dove at MIT-BUGS-BUNNY>

	In Symbolics 3600 Release 5.2, UTIL 1.0, FPA 1.0,
	Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

	How do I disable the WHO-AM-I service on tweety?  I don't list it as a
	service, but supply it anyway!

    The you really need to do this, you have to splice its server object out
    of neti:*servers*.  This shouldn't be necessary, though.  5.2 systems
    try to get WHO-AM-I information from the namespace server before asking
    total randoms.  Why don't you want to provide it?

I have a function that does this for you if you want it.  CSTACY thinks you
should be able to click in peek on the servers and both delete and undelete
servers.  My function already does all this except it is not interfaced to
peek.
26-Sep-84 11:56:24-EDT,703;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 26 Sep 84 11:52-EDT
Date: Wednesday, 26 September 1984, 11:52-EDT
From: Gavan Duffy <GAVAN at MIT-OZ>
Subject: Inserting doc-strings when patching function definitions.
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.77, FEP 18, on Lisp Machine Keith Moon:

When patching a function definition, I'm asked to make a comment which is then
inserted into the patch buffer.  Good idea, but I'd like to be able
(optionally, of course) to simply insert any newly-defined function's
doc-string (if the function has indeed been fdefined and if there is a
doc-string) so that I needn't type in the same thing once again.
26-Sep-84 23:40:58-EDT,1965;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 26 Sep 84 23:40-EDT
Date: Wednesday, 26 September 1984, 23:36-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: tape:write-fep-files-to-tape didn't work
To: BUG-LISPM at MIT-OZ

In Symbolics 3600 Release 5.2, ZOO 3.0, ZOO-KEEPER 3.0,
Experimental Spire-Macros 3.0, Experimental Versatec 3.0, Print 34.3,
Experimental Versatec-Spool 4.0, FEP-TAPE 2.0, FEP 18, on Lisp Machine Goldilocks:

I tried to write a fep tape and nothing happened for a couple minutes (clock and everything
was stopped) and then I got this error.

>>Error: Can't make a 303. block long disk array meeting alignment constraints
While in the function SI:CONSTRUCT-DISK-ARRAY  ALLOCATE-RESOURCE  SI:MAKE-DISK-ARRAY

SI:CONSTRUCT-DISK-ARRAY:  (P.C. = 245)
   Arg 0 (IGNORE): #<RESOURCE 21733722>
   Arg 1 (LENGTH): 251730
   Rest arg: NIL
   Local 3 (INITIAL-VALUE): 0
   Local 4 (AREA): 16
   Local 5 (TYPE): 5
   Local 6 (N-BLOCKS): 457
   Local 7: 0
   Local 8 (DISK-ARRAY): <<Error printing value>>
ALLOCATE-RESOURCE:  (P.C. = 164)
   Arg 0 (RESOURCE-NAME): SI:DISK-ARRAY
   Rest arg (PARAMETERS): (251730)

SI:MAKE-DISK-ARRAY:  (P.C. = 6)
   Rest arg (ARGS): (251730)

TAPE:WRITE-DATA-TO-TAPE:  (P.C. = 10)
   Arg 0 (START): 0
   Arg 1 (NBLOCKS): 55572
   Arg 2 (FILE): #<INPUT-CHARACTER-DISK-STREAM "FEP0:>5-2-Spire-dist.load" 131414305>

TAPE:WRITE-FILE-TO-TAPE:  (P.C. = 70)

TAPE:WRITE-FEP-FILES-TO-TAPE:  (P.C. = 100)
   Arg 0 (MIC-NAME): "fep0:>tmc5-mic.mic.296"

SI:*EVAL:  (P.C. = 370)
   Arg 0 (FORM): (TAPE:WRITE-FEP-FILES-TO-TAPE "fep0:>tmc5-mic.mic.296")

SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
   Rest arg: (:NAME "Lisp Top Level in Lisp Listener 1" :ABORTED-FUNCTION NIL :BEFORE-PROMPT-FUNCTION NIL :READ-FUNCTION NIL :EVAL-FUNCTION NIL ...)

Rest of stack:
SI:LISP-COMMAND-LOOP:  (P.C. = 115)
SI:LISP-TOP-LEVEL1:  (P.C. = 22)
SI:LISP-TOP-LEVEL:  (P.C. = 7)
26-Sep-84 23:56:35-EDT,369;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 26 Sep 84 23:56-EDT
Date: 26 September 1984 23:53-EDT
From: Tim McNerney <TIM @ MIT-MC>
Subject:  Debugger c-E loses against combined methods
To: BUG-LISPM @ MIT-MC

If you have the time, could you make it a bit more "intelligent"?  Four 
out of five hackers would prefer not to be led to a COMPILE-FLAVOR-METHODS.
27-Sep-84 11:38:56-EDT,1604;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 27 Sep 84 11:38-EDT
Date: Thursday, 27 September 1984, 11:21-EDT
From: Webster Dove <dove at MIT-BUGS-BUNNY>
Subject: pkg question
To: BUG-LISPM at MIT-OZ
Fcc: BUGS-BUNNY: /syla/dspg/dove/mbox

In Symbolics 3600 Release 5.2, UTIL 1.3, FPA 1.0,
Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

I have a package p1 and two packages which use it p2 and p3.  I want
both p2 and p3 to contribute functions for p1 to export.  I do this by
importing the definition from p2 or p3 into p1 and then exporting it
from p1.  Unfortunately, both p2 and p3 use functions that the other
defines.

The current system seems to require me to declare all such
imported/exported symbols before either p2 or p3 is compiled.  If I
don't, then p2 or p3 makes there own private version of the symbol which
must be uninterned, and that prevents functions with the private symbols
from working correctly.  This is especially apparent when both p2 and p3
use (check-arg-type arg type) and the type is defined by the other pkg.

Within one package, the use of a function before declaration is handled
properly by make-system.  When multiple pkgs are involved, it would be
nice if symbols that are used before definition were not cast in stone
at that time.  Then if the user subsequently exported them from another
package, the "right" thing could happen.  (That might be harder than it
first appears!)

Is the only way to handle this to declare all import/export symbols in a
separate file that is loaded before the sub package files are compiled?
28-Sep-84 15:43:22-EDT,456;000000000000
Received: from MIT-MERLIN by MIT-OZ via Chaosnet; 28 Sep 84 15:41-EDT
Date: Friday, 28 September 1984, 15:41-EDT
From: Richard C. Waters <DICK at MIT-OZ>
Subject: prog1 doesn't return multiple-values
To: bug-lispm at MIT-OZ


note the following top level interaction

(progn (values 2 3))
2
3
(unwind-protect (values 2 3) 4 5)
2
3
(prog1 (values 2 3))
2


It seems to me that prog1 should propogate multiple values.


			Dick Waters
29-Sep-84 02:47:59-EDT,646;000000000000
Received: from MIT-BUDDY by MIT-OZ via Chaosnet; 29 Sep 84 02:47-EDT
Date: Saturday, 29 September 1984, 02:42-EDT
From: JCMA@MIT-OZ
Subject: Namespace lossage times out AI-11
To: BUG-LISPM@MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.93, FEP 22, on Lisp
Machine Buddy Holly:  

I was trying to hardcopy the buffer.  Apparently the spooler for the dover
(MC) couldn't be found in the namespace.  So, the system decided it might try
to send directly.  Unfortunately, it opened a connection to the AI-11, but had
to do a bunch of namespace losing.  While it was doing that the connection at
the other end timed out.
29-Sep-84 20:25:09-EDT,1857;000000000000
Received: from SCRC-YUKON by MIT-OZ via Chaosnet; 29 Sep 84 20:24-EDT
Received: from SCRC-HUDSON by SCRC-YUKON via CHAOS with CHAOS-MAIL id 63920; Fri 28-Sep-84 01:13:26-EDT
Date: Friday, 28 September 1984, 01:13-EDT
From: Robert W. Kerns <RWK at SCRC-YUKON>
Subject: namespace server
To: MICHAELG at MIT-OZ
cc: BUG-LISPM at MIT-OZ
In-Reply-To: <MICHAELG.12050449046.BABYL@MIT-OZ>
Supersedes: <840928011201.4.RWK@HUDSON.SCRC.Symbolics>,
            <840928011312.5.RWK@HUDSON.SCRC.Symbolics>,
            <840928011329.6.RWK@HUDSON.SCRC.Symbolics>
Message-ID: <840928011344.7.RWK@HUDSON.SCRC.Symbolics>

    Date: 25 Sep 1984  15:33 EDT (Tue)

    A friend of mine from Japan wants to know more about how lisp-machines
    are networked in general and the namespace server in particular.  None
    of the AI memos, Tech Reps or Working Papers is any help.  Is any info
    available concerning the namespace server?
    - Mike Gennert
The namespace server was developed at Symbolics, not at MIT,
so the AI memos, Technical Reports, and Working Papers will
not help.  It is documented in Volume 7 of the Symbolics
documentation set.  He can get a copy from the Symbolics
distributor in Japan.

I presume this is for general interest; I certainly wouldn't try to
implement it from the documentation.  The documentation only deals with
network protocol, implementing a namespace server involves a lot of
subtle issues beyond just the network protocol.

As far as networking in general:

The CHAOSnet protocols are documented in some AI memo or
other.  This can also be found in the Symbolics documentation,
and it's bound to be more up-to-date there.

TCP/IP documentation is presumably available from the Network
Information Center.  I don't know exactly where to send for it,
but presumably someone reading this will.
29-Sep-84 20:25:34-EDT,2936;000000000000
Received: from SCRC-YUKON by MIT-OZ via Chaosnet; 29 Sep 84 20:25-EDT
Received: from SCRC-HUDSON by SCRC-YUKON via CHAOS with CHAOS-MAIL id 63925; Fri 28-Sep-84 01:23:35-EDT
Date: Friday, 28 September 1984, 01:23-EDT
From: Robert W. Kerns <RWK at SCRC-YUKON>
Subject: Bug in Zmail, Examine file
To: Richard E. Zippel <RZ at MIT-MC>
cc: BUG-LISPM at MIT-OZ
In-Reply-To: The message of 24 Sep 84 19:47-EDT from Richard E. Zippel <RZ at MIT-MC>
Message-ID: <840928012345.9.RWK@HUDSON.SCRC.Symbolics>

    Date: Monday, 24 September 1984, 19:47-EDT
    From: Richard E. Zippel <RZ at MIT-MC>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Aspen:

    I have had this problem twice while ``Examine File''ing a mail file.
    This particular set of problems was started by examining
    aspen:>RZ>Mail.text, I have had similar problems with Unix mailboxes.
    I'd localize this for you better if our syshost was up.

This backtrace shows you were trying to do a [Get inbox] on the
file you were examining!  First of all, that's completely counter
to the concept of Examining a file, i.e. it's not a READ-ONLY
operation.  Secondly, the file you were examining was itself your
inbox file.  You should select your mbox file (unix) or your BABYL
file (Lispm, ITS, TOPS-20, or unix), and give the [Get inbox]
command on that buffer.  (This is done automatically for you if
you just type G or [Get inbox] at a completely fresh Zmail).

Why don't you tell us what you were trying to do, and we'll tell
you how to do it?

    >>Error: The symbol NIL has an invalid function definition
    While in the function NIL  (:METHOD ZWEI:RMAIL-BUFFER :GET-INBOX)  ZWEI:GET-INBOX-FOR-BUFFER

    NIL:
       Arg 0: :NEW-CANONICAL-TYPE
       Arg 1: :ZMAIL-TEMP

    (:METHOD ZWEI:RMAIL-BUFFER :GET-INBOX):  (P.C. = 33)
       Arg 0 (SELF): #<RMAIL-BUFFER "ASPEN:>RZ>mail.text" 6741345>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:RMAIL-BUFFER -- 3. IV's, 5. FL's 46355572>
       Arg 2 (OPERATION): :GET-INBOX
       Arg 3 (NEW-PATHNAME): NIL
       Arg 4 (DELETE-P): NIL

    ZWEI:GET-INBOX-FOR-BUFFER:  (P.C. = 57)
       Arg 0 (BUFFER): #<RMAIL-BUFFER "ASPEN:>RZ>mail.text" 6741345>
       Arg 1 (FROM-PATHNAME): NIL
       Arg 2 (DELETE-P): NIL
       Arg 3 (TELL-BACKGROUND-P): NIL

    ZWEI:COM-GET-INBOX-INTERNAL:  (P.C. = 253)
       Arg 0 (FIRST-TIME-P): NIL
       --Defaulted args:--
       Arg 1 (FOR-BUFFER): #<RMAIL-BUFFER "ASPEN:>RZ>mail.text" 6741345>

    ZWEI:COM-GET-NEW-MAIL-FROM-INBOX:  (P.C. = 7)

    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
       Arg 0 (COMMAND): ZWEI:COM-GET-NEW-MAIL-FROM-INBOX
       Arg 1 (CHAR): (:MENU ("Get inbox" . ZWEI:COM-GET-NEW-MAIL-FROM-INBOX) 4 #<ZMAIL-MAIN-COMMAND-MENU-PANE Zmail Main Command Menu Pane 5 3115431 exposed>)
       --Defaulted args:--
       Arg 2 (PREFIX-CHAR): NIL
       Arg 3 (HOOK-LIST): NIL

29-Sep-84 20:29:22-EDT,1324;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 29 Sep 84 20:29-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 97725; Thu 27-Sep-84 11:58:56-EDT
Date: Thursday, 27 September 1984, 11:58-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Printers should have physical pathnames for fonts.widths data.
To: David C. Plummer <DCP at SCRC-TENEX>, BUG-LISPM at MIT-OZ
In-Reply-To: <840921101056.8.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840927115815.0.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 21 September 1984, 10:10-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>

    Why do the printers MIT|TREMONT and MIT|TREMONT-VIA-MC have logical
    pathnames for the FONTS.WIDTHS data?  SCRC|MOOSELOOKMEGUNTIC does too.
    I thought it was decided logical pathnames just didn't hack it for this,
    since it makes it potentially impossible to print a file at another
    site.

    Maybe I'm remembering the sys.translations discussion?  In any case, I
    believe the above paragraph to represent a true problem.

MIT people: I have changed all the printers at SCRC to have fully
qualified physical pathnames (e.g.,
SCRC|QUABBIN:>sys>press-fonts>fonts.widths) for the fonts.widths data.
I suggest somebody over there do the same for your printers.
29-Sep-84 20:36:32-EDT,685;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 29 Sep 84 20:35-EDT
Received: from SCRC-SUDBURY by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 84818; Wed 26-Sep-84 15:48:19-EDT
Date: Wed, 26 Sep 84 15:48 EDT
From: "Richard L. Bryan" <RLB@SCRC-RIVERSIDE.ARPA>
Subject: [FONTS:METSI needs some tweaking] [bumpy fonts (TR10BI)]
To: jek@SCRC-RIVERSIDE.ARPA, Moon@SCRC-RIVERSIDE.ARPA,
    joseph@SCRC-RIVERSIDE.ARPA, TIM@MIT-MC.ARPA, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: The message of 10 Sep 84 10:30-EDT from Tim McNerney <TIM at MIT-MC>,
             <"170403224054.1.jek@VIXEN"@SQUANNACOOK.SCRC.Symbolics>
Message-ID: <840926154818.2.RLB@SUDBURY.SCRC.Symbolics>

In the "source".
29-Sep-84 20:36:50-EDT,1168;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Sep 84 20:36-EDT
Received: from SCRC-CONCORD by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 84845; Wed 26-Sep-84 16:45:09-EDT
Date: Wednesday, 26 September 1984, 16:46-EDT
From:  <BSG at SCRC-STONY-BROOK>
Subject: Bug in "List all Directory Names"
To: RZ at MIT-MC, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 22 Sep 84 16:08-EDT from Richard E. Zippel <RZ at MIT-MC>
Message-ID: <"840926164634.1.BSG@STONY-BROOK"@CONCORD.SCRC.Symbolics>

    Date: Saturday, 22 September 1984, 16:08-EDT
    From: Richard E. Zippel <RZ at MIT-MC>

    In Symbolics 3600 Release 5.2, Experimental Schema 41.1, FEP 18, on Lisp Machine Aspen:

    I tried (M-X) List all directories and got the following.  "aspen:>**>"
    was the default, I only typed carriage return.

    >>Trap: The argument given to the SYS:SETUP-1D-ARRAY instruction, #<LMFS-PATHNAME "ASPEN:>**>">, was not an array.
    While in the function %STRING-SEARCH-CHAR  (:METHOD NET:HOST :PATHNAME-HOST-NAMEP)  (:METHOD FS:LISPM-HOST :COMBINED :PATHNAME-HOST-NAMEP)

This has been fixed in the development system.  Thanks for your report.
29-Sep-84 20:37:19-EDT,4889;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Sep 84 20:37-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 84956; Wed 26-Sep-84 20:22:30-EDT
Date: Wednesday, 26 September 1984, 20:22-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Unable to do :TYI's from the serial port.
To: Ken Haase <KWH at MIT-OZ>, BUG-LISPM at MIT-OZ, HOSS at SCRC-TENEX
In-Reply-To: The message of 22 Sep 84 13:55-EDT from Ken Haase <KWH at MIT-OZ>
Message-ID: <840926202250.1.DCP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 22 September 1984, 13:55-EDT
    From: Ken Haase <KWH at MIT-OZ>

    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Keith Moon:

    The method [(:METHOD SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN :WHOPPER :TYI)]
    was redefined in 242.341 as not taking any arguments.  This seems to make it
    impossible to do :TYI's from the serial port.

    >>Trap: The function (:METHOD SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN :WHOPPER :TYI) was called with too many arguments.
    While in the function (:METHOD SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN :WHOPPER :TYI)  (:INTERNAL (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI) 0)  (:METHOD SI:BASIC-SERIAL-STREAM :WHOPPER :TYI)

I haven't seen an answer to this.  I wish I had.  I also wish I could
find a 5.2 bulletin to see if there was a fix for it.

Yes, ascii translating serial streams are broken in 5.2.  Other forms of
ascii translating streams may be broken as well.  What I would suggest
is finding the source in the 5.2 patches that breaks it and make it
accept the argument.  It should be called EOF and all CONTINUE-WHOPPERs
should supply it as well.  I would then suggest making it a local MIT
patch so others don't have to go through the pain.

I can't give you any more specific info since much of that code bears
zero resemblance to the current sources.

    (:METHOD SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN :WHOPPER :TYI):  (P.C. = 1)
       Arg 0 (SELF): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
       Arg 1 (SELF-MAPPING-TABLE): SI:ASCII-TRANSLATING-INPUT-STREAM-MIXIN
       Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:INTERNAL (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI) 0) 0) 25465053>
       Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor SI:SERIAL-CHARACTER-STREAM -- 0. IV's, 8. FL's 42052420>
       Arg 4 (.OPERATION.): :TYI
       Extraneous Rest Arg: (NIL)

    (:INTERNAL (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI) 0):  (P.C. = 12)
       Arg 0 (SELF): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:SERIAL-CHARACTER-STREAM -- 0. IV's, 8. FL's 42052420>
       Rest arg (.DAEMON-CALLER-ARGS.): (:TYI NIL)

    (:METHOD SI:BASIC-SERIAL-STREAM :WHOPPER :TYI):  (P.C. = 20)
       Arg 0 (SELF): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:BASIC-SERIAL-STREAM -- 14. IV's, 0. FL's 61646660>
       Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI) 0) 25465041>
       Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor SI:SERIAL-CHARACTER-STREAM -- 0. IV's, 8. FL's 42052420>
       Arg 4 (.OPERATION.): :TYI
       --Defaulted args:--
       Arg 5 (EOF): NIL

    (:METHOD SI:SERIAL-CHARACTER-STREAM :COMBINED :TYI):  (P.C. = 12)
       Arg 0 (SELF): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor SI:SERIAL-CHARACTER-STREAM -- 0. IV's, 8. FL's 42052420>
       Rest arg (.DAEMON-CALLER-ARGS.): NIL

    TYI:  (P.C. = 11)
       Rest arg (READ-ARGS): (#<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>)

    DECTALK:DISPATCH-DECTALK-INPUTS:  (P.C. = 3)  (from OZ:PS:<KWH.DECTALK>TALK)
       Arg 0 (SERIAL-STREAM): #<SERIAL-CHARACTER-STREAM Unit = 2, baud = 1200 12162110>
       Arg 1 (KEYPAD-BUFFER): #<IO-BUFFER 12215611: 5 entries, State: NIL>
       Arg 2 (SEQUENCE-BUFFER): #<IO-BUFFER 12216007: empty, State: NIL>

    DECTALK:EVENT-TYI:  (P.C. = 15)  (from OZ:PS:<KWH.DECTALK>TALK)

    DECTALK:PHONE-COMMAND:  (P.C. = 10)  (from OZ:PS:<KWH.DECTALK>TALK)
       Arg 0 (COMMAND): :HANGUP
       --Defaulted args:--
       Arg 1 (ARGUMENT): ""

    Rest of stack:
    SI:*EVAL:  (P.C. = 370)
    SI:LISP-COMMAND-LOOP-INTERNAL:  (P.C. = 200)
    BREAK:  (P.C. = 173)
    (:DEFUN-METHOD ZWEI:COM-BREAK):  (P.C. = 112)
    ZWEI:COM-BREAK:  (P.C. = 12)
    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
    ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
    (:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
    (:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
    ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
29-Sep-84 20:38:04-EDT,3273;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Sep 84 20:37-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 84968; Wed 26-Sep-84 20:47:37-EDT
Date: Wednesday, 26 September 1984, 20:47-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Bug in "List all Directory Names"
To: Richard E. Zippel <RZ at MIT-MC>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 22 Sep 84 16:08-EDT from Richard E. Zippel <RZ at MIT-MC>
Message-ID: <840926204758.3.DCP@NEPONSET.SCRC.Symbolics>

    Date: Saturday, 22 September 1984, 16:08-EDT
    From: Richard E. Zippel <RZ at MIT-MC>

    In Symbolics 3600 Release 5.2, Experimental Schema 41.1, FEP 18, on Lisp Machine Aspen:

    I tried (M-X) List all directories and got the following.  "aspen:>**>"
    was the default, I only typed carriage return.

I believe this is the same bug somebody (PAO? trying to get all the
directories on PIG?) reported a few months ago.  The bug is that
fs:all-directories is supposed to accept a pathname, and as a
convenience also accept a host.  In Release 5 the bug is that it must
take a host.  (I think that's the case.)  I tried to reproduce the bug a
few months ago and met with success, so the current source really is
doing a better thing.  For now, try giving it a host.  In the long run
you should see the correct behavior in Release 6.

    >>Trap: The argument given to the SYS:SETUP-1D-ARRAY instruction, #<LMFS-PATHNAME "ASPEN:>**>">, was not an array.
    While in the function %STRING-SEARCH-CHAR  (:METHOD NET:HOST :PATHNAME-HOST-NAMEP)  (:METHOD FS:LISPM-HOST :COMBINED :PATHNAME-HOST-NAMEP)

    %STRING-SEARCH-CHAR:  (P.C. = 2)
       Arg 0 (CHAR): 124
       Arg 1 (STRING): #<LMFS-PATHNAME "ASPEN:>**>">
       Arg 2 (START): 0
       Arg 3 (END): 10

    (:METHOD NET:HOST :PATHNAME-HOST-NAMEP):  (P.C. = 17)
       Arg 0 (SELF): #<LISPM-HOST ASPEN 14311614>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor NET:HOST -- 5. IV's, 0. FL's 41437600>
       Arg 2 (OPERATION): :PATHNAME-HOST-NAMEP
       Arg 3 (NAME): #<LMFS-PATHNAME "ASPEN:>**>">

    (:METHOD FS:LISPM-HOST :COMBINED :PATHNAME-HOST-NAMEP):  (P.C. = 16)
       Arg 0 (SELF): #<LISPM-HOST ASPEN 14311614>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor FS:LISPM-HOST -- 0. IV's, 4. FL's 41437621>
       Rest arg (.DAEMON-CALLER-ARGS.): NIL

    FS:GET-PATHNAME-HOST-I:  (P.C. = 26)
       Arg 0 (HOST-NAME): #<LMFS-PATHNAME "ASPEN:>**>">
       Arg 1 (LIST): #<DTP-LOCATIVE 4101430>

    FS:GET-PATHNAME-HOST:  (P.C. = 15)
       Arg 0 (HOST-NAME): #<LMFS-PATHNAME "ASPEN:>**>">
       Arg 1 (NO-ERROR-P): T
       --Defaulted args:--
       Arg 2 (NO-AUTO-ADD-P): NIL

    FS:ALL-DIRECTORIES:  (P.C. = 11)
       Arg 0 (PATHNAME): #<LMFS-PATHNAME "ASPEN:>**>">
       Rest arg (OPTIONS): (:SORTED)

    ZWEI:COM-LIST-ALL-DIRECTORY-NAMES:  (P.C. = 37)

    ZWEI:COM-EXTENDED-COMMAND:  (P.C. = 27)

    Rest of stack:
    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
    ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
    (:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
    (:METHOD ZWEI:TOP-LEVEL-EDITOR :COMBINED :EDIT):  (P.C. = 41)
    ZWEI:ZMACS-WINDOW-TOP-LEVEL:  (P.C. = 16)
    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
29-Sep-84 20:38:37-EDT,2249;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Sep 84 20:38-EDT
Received: from SCRC-CONCORD by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 85419; Thu 27-Sep-84 15:10:13-EDT
Date: Thursday, 27 September 1984, 15:10-EDT
From: Bernard S. Greenberg <BSG at SCRC-TENEX>
Subject: [SR.JACK: Goldy's unwillingness to dump]
To: SR.EHPYC at MIT-SPEECH, bug-lispm at MIT-OZ, sr.jack at MIT-SPEECH
In-Reply-To: <SR.EHPYC.12049744180.BABYL@MIT-SPEECH>
Message-ID: <840927151023.2.BSG@CONCORD.SCRC.Symbolics>

    Date: 22 Sep 1984  23:01 EDT (Sat)
    From: Scott Cyphers <SR.EHPYC@MIT-SPEECH>

    Although more flexible, the new way to set parameters for a backup
    tape are hardly intuitive in 5.2, particularly for someone who's main
    familiarity with lisp machines is for backing them up, as evidenced by
    this note I got today.  Perhaps it is time to come up with something a
    little friendlier and more flexible than choose-variable-values for
    these kinds of things.  Having to edit the parameters for opening
    stream to speech is hardly winning.  Why not have a dynamic
    choose-variable-values kind of thing that sets up tape variables
    according to the type of host?
It doesn't "know from" type of host.   Not utterly clear that it should.
    Date: Saturday, 22 September 1984  08:47-EDT
    From: SR.JACK
    To:   sr.ehpyc, sr.rob
    Re:   Goldy's unwillingness to dump

    Today, Sat. morn, I roused myself out of bed at 7:30 to come in and have some
    Fun, namely backing up.  Well it seems that Goldy had some other ideas.
    No matter what I tried I got this error message:

	    >>ERROR: Cannot mount reel chenutt1[or whatever], Cannot get tape-
	    Filename was not specified.

	    (:DEFUN-METHOD TAPE: REMOTE-TAPE-MIXIN-MOUNT):
De fun method of making dis work is to say
    goldy: "mta0:"  for "tape spec".  I don't know if the : after
MTA0 is necessary, if not, just say goldy:mta0.  Is there such
a thing as 5.2 release notes at MIT?  They do explain all this.

    I couldn't get rid of this problem.
    Also, the new menu has no provision for specifying unit MTA0:, could this 
    have something to do with it, or is that assumed by goldy now?
See above.
29-Sep-84 20:39:14-EDT,3069;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Sep 84 20:38-EDT
Received: from SCRC-THAMES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86006; Fri 28-Sep-84 15:10:44-EDT
Date: Friday, 28 September 1984, 15:11-EDT
From: Scott McKay <SWM at SCRC-QUABBIN>
Subject: &rest args and the error handler
To: Moon at SCRC-TENEX, DCP at SCRC-TENEX, x.Gyro at MIT-OZ,
    BUG-LISPM at MIT-OZ
In-Reply-To: <840924163123.1.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840928151148.5.SWM@THAMES.SCRC.Symbolics>

    Date: Monday, 24 September 1984, 16:31-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

	Date: Monday, 24 September 1984, 09:29-EDT
	From: David C. Plummer <DCP at SCRC-TENEX>

	    Date: Sunday, 23 September 1984, 20:35-EDT
	    From: Scott W. Layson <x.Gyro at MIT-OZ>

	    In Symbolics 3600 Release 5.2, FEP 18, on Lisp Machine Janis Joplin:

	    When an error happens in a function that takes a &rest parameter, and
	    the actual argument list passed is quite long, I find no simple way to
	    view the entire &rest argument -- it gets truncated via PRINLENGTH in
	    the normal display.  I wind up doing something like c-m-5 c-m-A, c-m-6
	    c-m-A, etc.  Now I grant that it's useful to be able to see and modify
	    individual elements of the list, but more commonly I just want to see
	    the whole thing.

    If the last argument displayed before the rest argument is arg 3, then
    c-m-4 c-m-L will get you the rest argument.  Note the use of c-m-L and
    that you add one to the last number it shows you.  This is a trick of
    course, and I don't advocate it as great user interface, but I thought
    you might like to know the trick.

	    So I have a couple proposals:

	    c-m-- c-m-A should display the &rest argument, if any.

Teco madness...

	    If the rest arg is called OPTIONS, say, (dbg:arg 'options) should refer
	    to the whole thing and not just the first element.  If it is argument
	    number <i>, (dbg:arg <i>) should still refer to just the first element,
	    (dbg:arg <i+1>) to the second, etc., just like c-m-A.

    Right.  It is a bug in the Debugger that dbg:arg of the symbolic name of the
    rest argument doesn't work (in my opinion).

I agree, and now (dbg:arg 'options) shows the whole &rest argument.
I'll patch it later.

	I think if you use the local versions of all those, you will win.  This
	is one of the differences of the 3600 with the CADR.  DBG:ARG and c-m-A
	give you access to the caller's versions.  DBG:LOC and c-m-L give you
	access to the callee's versions (the local variables).  Thus, c-m-<n>
	c-m-L will give you the rest arg (as a list) for the appropriate value
	of <n>. (dbg:loc 'options) will give you the list.  Fair enough?

    Right.  But not great user interface.

Question:  I notice than c-m-<number> c-m-L, where <number> is greater
than the number of frame locals, still shows data.  Is this a bug, or a
feature whereby you can look at the stack in places you don't own?  It
seems a bit dubious to me.
29-Sep-84 20:40:36-EDT,1333;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Sep 84 20:40-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86042; Fri 28-Sep-84 15:54:18-EDT
Date: Friday, 28 September 1984, 15:54-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: &rest args and the error handler
To: Scott McKay <SWM at SCRC-QUABBIN>
cc: DCP at SCRC-TENEX, x.Gyro at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: <840928151148.5.SWM@THAMES.SCRC.Symbolics>
Message-ID: <840928155448.4.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Friday, 28 September 1984, 15:11-EDT
    From: Scott McKay <SWM at SCRC-QUABBIN>
    Question:  I notice than c-m-<number> c-m-L, where <number> is greater
    than the number of frame locals, still shows data.  Is this a bug, or a
    feature whereby you can look at the stack in places you don't own?  It
    seems a bit dubious to me.

I often take advantage of this to examine the temporary-values stack of
a function.  There used to be a note on my whiteboard saying to put an explicit
command into the debugger for this, but I erased it.

Also you can use it to get around that bug in the compiler where the pc
ranges in the local-map are sometimes incorrect, which makes the debugger
sometimes think that certain local variables are not present where in fact
they are.
29-Sep-84 20:51:20-EDT,1796;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 29 Sep 84 20:51-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86048; Fri 28-Sep-84 15:57:16-EDT
Date: Friday, 28 September 1984, 15:57-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: &rest args and the error handler
To: Scott McKay <SWM at SCRC-QUABBIN>, Moon at SCRC-TENEX,
    DCP at SCRC-TENEX, x.Gyro at MIT-OZ, BUG-LISPM at MIT-OZ
In-Reply-To: <840928151148.5.SWM@THAMES.SCRC.Symbolics>
Message-ID: <840928155746.2.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 28 September 1984, 15:11-EDT
    From: Scott McKay <SWM at SCRC-QUABBIN>

	    I think if you use the local versions of all those, you will win.  This
	    is one of the differences of the 3600 with the CADR.  DBG:ARG and c-m-A
	    give you access to the caller's versions.  DBG:LOC and c-m-L give you
	    access to the callee's versions (the local variables).  Thus, c-m-<n>
	    c-m-L will give you the rest arg (as a list) for the appropriate value
	    of <n>. (dbg:loc 'options) will give you the list.  Fair enough?

	Right.  But not great user interface.

    Question:  I notice than c-m-<number> c-m-L, where <number> is greater
    than the number of frame locals, still shows data.  Is this a bug, or a
    feature whereby you can look at the stack in places you don't own?  It
    seems a bit dubious to me.

If you ever need me to bring your machine back to life, you better keep
this "feature" in.  Also, the debugger often doesn't know how many
locals have really been allocated.  E.g., try
	(defun foo (&optional (a "alkdfj"))
	  (let ((a a))
	    (declare (sys:array-register a))
	    (fsignal "Where's the array register")
	    (let ((b 1))
	      (fsignal "Oh, there it is!"))))
29-Sep-84 21:00:17-EDT,2183;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 29 Sep 84 20:59-EDT
Received: from SCRC-HUDSON by SCRC-YUKON via CHAOS with CHAOS-MAIL id 63942; Fri 28-Sep-84 02:32:03-EDT
Date: Fri, 28 Sep 84 02:32 EDT
From: "Robert W. Kerns" <RWK@SCRC-RIVERSIDE.ARPA>
Subject: M-X Copy File 
To: "David A. Moon" <Moon@SCRC-RIVERSIDE.ARPA>
cc: "Christopher C. Stacy" <CSTACY@MIT-MC.ARPA>, BUG-FILE@MIT-MC.ARPA,
    BUG-ITS@MIT-MC.ARPA, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: <840915120628.5.MOON@EUPHRATES.SCRC.Symbolics>
Message-ID: <840928023221.8.RWK@HUDSON.SCRC.Symbolics>

[I haven't looked at the code; I'm surmising what's
going on from your message.  But I think you've forgotten
some of the more unfortunate parts of ITS!]

    Date: Saturday, 15 September 1984, 12:06-EDT
    From: David A. Moon <Moon at SCRC-TENEX>

	Date: 14 September 1984 21:00-EDT
	From: Christopher C. Stacy <CSTACY @ MIT-MC>

	M-X Copy File does not preserve authors on ITS.
	It does preserve reference date (although maybe it should
	use DNRF instead of referencing the file to copy it) and
	the creation date.

    This is because the routine CLOSIT in the FILE job sets the author of the
    file it just wrote to the user's HSNAME.  
HSNAME is the correct thing to set the file author to on ITS,
because "file authors" are directories, not people.

					      Evidently it does this because
    the FILE job doesn't login under the name of the user who is using it.
    We can do one of
     (1) Make the FILE job login under the right name.
I don't think this makes any difference.  Isn't the problem
overwriting the explicit CHANGE-PROPERTIES that COPYF does?

     (2) Make ITS set the file author from the XUNAME instead of the UNAME and
	 make the file job set its XUNAME to the user's name instead of to
	 a copy of its UNAME.
This would involve changing the UFD format, since
currently the file author is just the MFD index
of the directory.

     (3) Make the FILE job set the author when it opens the file instead of
	 when it closes it.
I think this is right, and the easiest.  Then if a
CHANGE-PROPERTIES sets it to something else, it will
prevail, right?
29-Sep-84 21:06:27-EDT,2898;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 29 Sep 84 21:05-EDT
Received: from SCRC-EUPHRATES by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86001; Fri 28-Sep-84 15:03:14-EDT
Date: Fri, 28 Sep 84 15:03 EDT
From: "David A. Moon" <Moon@SCRC-RIVERSIDE.ARPA>
Subject: M-X Copy File 
To: "Robert W. Kerns" <RWK@SCRC-RIVERSIDE.ARPA>
cc: "Christopher C. Stacy" <CSTACY@MIT-MC.ARPA>, BUG-FILE@MIT-MC.ARPA,
    BUG-ITS@MIT-MC.ARPA, BUG-LISPM@MIT-MC.ARPA
In-Reply-To: <840928023221.8.RWK@HUDSON.SCRC.Symbolics>
Message-ID: <840928150349.8.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Friday, 28 September 1984, 02:32-EDT
    From: Robert W. Kerns <RWK at SCRC-YUKON>

    [I haven't looked at the code; I'm surmising what's
    going on from your message.  But I think you've forgotten
    some of the more unfortunate parts of ITS!]

No.

	Date: Saturday, 15 September 1984, 12:06-EDT
	From: David A. Moon <Moon at SCRC-TENEX>

	    Date: 14 September 1984 21:00-EDT
	    From: Christopher C. Stacy <CSTACY @ MIT-MC>

	    M-X Copy File does not preserve authors on ITS.
	    It does preserve reference date (although maybe it should
	    use DNRF instead of referencing the file to copy it) and
	    the creation date.

	This is because the routine CLOSIT in the FILE job sets the author of the
	file it just wrote to the user's HSNAME.  
    HSNAME is the correct thing to set the file author to on ITS,
    because "file authors" are directories, not people.

Yes, the problem is who sets it, not what it sets it to.  It sets it at the time
you close the file, even if you already set it yourself to something better, which
is the source of the bug.

						  Evidently it does this because
	the FILE job doesn't login under the name of the user who is using it.
	We can do one of
	 (1) Make the FILE job login under the right name.
    I don't think this makes any difference.  Isn't the problem
    overwriting the explicit CHANGE-PROPERTIES that COPYF does?

If the file job logged in under the right name then it wouldn't need to set the
author itself at the wrong time, because ITS would set it to the right value at
the right time.

	 (2) Make ITS set the file author from the XUNAME instead of the UNAME and
	     make the file job set its XUNAME to the user's name instead of to
	     a copy of its UNAME.
    This would involve changing the UFD format, since
    currently the file author is just the MFD index
    of the directory.

How would changing the source of the person's name affect the UFD format?

You're right that the file job would have to set its XUNAME to the person's HSNAME.

	 (3) Make the FILE job set the author when it opens the file instead of
	     when it closes it.
    I think this is right, and the easiest.  Then if a
    CHANGE-PROPERTIES sets it to something else, it will
    prevail, right?

Yes.
30-Sep-84 00:18:22-EDT,11101;000000000000
Received: from MIT-BUDDY by MIT-OZ via Chaosnet; 30 Sep 84 00:18-EDT
Date: Sunday, 30 September 1984, 00:18-EDT
From: JCMA@MIT-OZ
Subject: Obnoxious Mail lossage of 5.2 backtrace 
To: BUG-LISPM@MIT-OZ, bug-zmail@MIT-OZ, bug-mail@MIT-OZ

In Symbolics 3600 Release 5.2, Experimental RELATUS 130.98, FEP 22, on Lisp Machine Buddy Holly:

This has been happening lots in 5.2 but usually the error is caught
and I can't send in the backtrace.  But this time, here it is.  Note
that these errors happen only for dec 20's excluding oz.

>>Error: Mail error from XX: -Error on hostname lookup
While in the function (:DEFUN-METHOD MAILER:CHAOS-MAIL-USER-CHECK-REPLY)  (:METHOD MAILER:CHAOS-MAIL-USER :RECEIVE-MESSAGE)  (:INTERNAL (:METHOD MAILER:CHAOS-MAIL-USER :COMBINED :RECEIVE-MESSAGE) 0.)

(:DEFUN-METHOD MAILER:CHAOS-MAIL-USER-CHECK-REPLY):  (P.C. = 56)
   Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
   Local 2 (REPLY): "-Error on hostname lookup"
   Local 3 (.SELECTQ-ITEM.): 45.

(:METHOD MAILER:CHAOS-MAIL-USER :RECEIVE-MESSAGE):  (P.C. = 46)
   Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
   Arg 2 (OPERATION): :RECEIVE-MESSAGE
   Arg 3 (TRACE-LINE): NIL
   Arg 4 (SOURCE-STREAM): #<DTP-COMPILED-FUNCTION SI:WITH-INPUT-FROM-STRING-INTERNAL-FUNCTION 24560235>
   Arg 5 (BODY-STREAM): NIL

(:INTERNAL (:METHOD MAILER:CHAOS-MAIL-USER :COMBINED :RECEIVE-MESSAGE) 0.):  (P.C. = 7)
   Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
   Rest arg (.DAEMON-CALLER-ARGS.): (:RECEIVE-MESSAGE NIL #<DTP-COMPILED-FUNCTION SI:WITH-INPUT-FROM-STRING-INTERNAL-FUNCTION 24560235> NIL)

(:METHOD MAILER:MAIL-ACCESS-PATH :WHOPPER :RECEIVE-MESSAGE):  (P.C. = 23)
   Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:MAIL-ACCESS-PATH -- 2. IV's, 0. FL's 74212242>
   Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:METHOD MAILER:CHAOS-MAIL-USER :COMBINED :RECEIVE-MESSAGE) 0.) 45111365>
   Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
   Arg 4 (.OPERATION.): :RECEIVE-MESSAGE
   Arg 5 (TRACE-LINE): NIL
   Arg 6 (STREAM): #<DTP-COMPILED-FUNCTION SI:WITH-INPUT-FROM-STRING-INTERNAL-FUNCTION 24560235>
   --Defaulted args:--
   Arg 7 (BODY-STREAM): NIL

(:METHOD MAILER:CHAOS-MAIL-USER :COMBINED :RECEIVE-MESSAGE):  (P.C. = 12)
   Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
   Rest arg (.DAEMON-CALLER-ARGS.): (:RECEIVE-MESSAGE NIL #<DTP-COMPILED-FUNCTION SI:WITH-INPUT-FROM-STRING-INTERNAL-FUNCTION 24560235>)

ZWEI:INVOKE-MAIL-SERVICE:  (P.C. = 211)
   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (CHAOS-MAIL) -- XX on CHAOS 11654737>
   Arg 1 (RECIPIENTS): ((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (("To: clipping@mit-cls" 4.) ("To: clipping@mit-cls" 20.))))
   Arg 2 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)

ZWEI:NETWORK-SEND-IT-2:  (P.C. = 503)
   Arg 0 (RECIPIENTS): ((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (("To: clipping@mit-cls" 4.) ("To: clipping@mit-cls" 20.))))
   Arg 1 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)

ZWEI:NETWORK-SEND-IT-1:  (P.C. = 171)
   Arg 0 (SERVICES): NIL
   Arg 1 (RECIPIENTS): ((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (("To: clipping@mit-cls" 4.) ("To: clipping@mit-cls" 20.))))
   Arg 2 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)

ZWEI:NETWORK-SEND-IT:  (P.C. = 114)
   Arg 0 (RECIPIENTS): ((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (("To: clipping@mit-cls" 4.) ("To: clipping@mit-cls" 20.))))
   Arg 1 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)

ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
   Arg 0 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)
   Arg 1 (FUNCTION): ZWEI:NETWORK-SEND-IT
   Rest arg (ARGS): (((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (** **))) (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM (**) :TO (**)) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>))

(:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 315)
   Arg 0 (SELF): #<DRAFT-MSG 11634204>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:BASIC-DRAFT-MSG -- 7. IV's, 0. FL's 4301401>
   Arg 2 (OPERATION): :TRANSMIT

(:METHOD ZWEI:DRAFT-MSG :COMBINED :TRANSMIT):  (P.C. = 25)
   Arg 0 (SELF): #<DRAFT-MSG 11634204>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:DRAFT-MSG -- 17. IV's, 3. FL's 4301411>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:COM-SEND-MESSAGE:  (P.C. = 50)

ZWEI:COM-MAIL-END:  (P.C. = 4)

ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
   Arg 0 (COMMAND): ZWEI:COM-MAIL-END
   Arg 1 (CHAR): 148.
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
   Arg 0 (CH): 148.

(:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 12. IV's, 0. FL's 74266650>
   Arg 2 (OPERATION): :EDIT
   --Defaulted args:--
   Arg 3 (TOP-LEVEL-P): T
   Arg 4 (DESCRIPTION): NIL

(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :EDIT):  (P.C. = 50)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMAIL-MAIL:  (P.C. = 113)
   Arg 0 (CONFIGURATION): :MAIL
   Arg 1 (STARTING-WINDOW): #<WINDOW 72116326>

ZWEI:CONTINUE-DRAFT-MSG:  (P.C. = 21)
   Arg 0 (DRAFT-MSG): #<DRAFT-MSG 11634204>

ZWEI:COMPOSE-VIA-DRAFT-MSG:  (P.C. = 5)
   Arg 0 (TEMPLATE-EXPANSION): (:STARTING-POINT ((:HEADERS :TO)) :HEADERS (:TO NIL) :MSGS (#<MSG 1054042>))

ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
   Arg 0 (TEMPLATE-EXPANSION): (:STARTING-POINT ((:HEADERS :TO)) :HEADERS (:TO NIL) :MSGS (#<MSG 1054042>))
   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION ZWEI:COMPOSE-VIA-DRAFT-MSG 25523246>
   Rest arg (ARGS): ((:STARTING-POINT ((:HEADERS :TO)) :HEADERS (:TO NIL) :MSGS (#<MSG 1054042>)))

ZWEI:COMPOSE-FROM-TEMPLATE:  (P.C. = 20)
   Arg 0 (TEMPLATE): ZWEI:MAIL-TEMPLATE
   Rest arg (PLIST): (:MSGS (#<MSG 1054042>))

ZWEI:COM-ZMAIL-MAIL:  (P.C. = 15)

ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
   Arg 0 (COMMAND): ZWEI:COM-ZMAIL-MAIL
   Arg 1 (CHAR): 109.
   --Defaulted args:--
   Arg 2 (PREFIX-CHAR): NIL
   Arg 3 (HOOK-LIST): NIL

ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 6)
   Arg 0 (*CURRENT-COMMAND*-initialization): ZWEI:COM-ZMAIL-MAIL

(:METHOD ZWEI:ZMAIL-FRAME :PROCESS-COMMAND-CHAR):  (P.C. = 7)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Arg 2 (OPERATION): :PROCESS-COMMAND-CHAR
   Arg 3 (CH): 109.

(:INTERNAL (:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR) 0.) 0.):  (P.C. = 7)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Rest arg (.DAEMON-CALLER-ARGS.): (:PROCESS-COMMAND-CHAR 109.)

(:METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN :WHOPPER :PROCESS-COMMAND-CHAR):  (P.C. = 21)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-COMMAND-LOOP-MIXIN -- 10. IV's, 1. FL's 74266707>
   Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR) 0.) 0.) 44627675>
   Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Arg 4 (.OPERATION.): :PROCESS-COMMAND-CHAR
   Arg 5 (CHAR): 109.

(:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR) 0.):  (P.C. = 12)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Rest arg (.DAEMON-CALLER-ARGS.): (:PROCESS-COMMAND-CHAR 109.)

(:METHOD ZWEI:ZMAIL-FRAME :WHOPPER :PROCESS-COMMAND-CHAR):  (P.C. = 21)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR) 0.) 44627663>
   Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Arg 4 (.OPERATION.): :PROCESS-COMMAND-CHAR
   Arg 5 (CHAR): 109.

(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR):  (P.C. = 11)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

(:METHOD ZWEI:ZMAIL-FRAME :COMMAND-LOOP):  (P.C. = 146)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Arg 2 (OPERATION): :COMMAND-LOOP

(:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP):  (P.C. = 47)
   Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
   Rest arg (.DAEMON-CALLER-ARGS.): NIL

ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 52)
   Arg 0 (WINDOW): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>

SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
   --Defaulted args:--
   Arg 0 (IGNORE): NIL
30-Sep-84 01:30:56-EDT,10454;000000000000
Received: from MIT-MC by MIT-OZ via Chaosnet; 30 Sep 84 01:30-EDT
Date: Sunday, 30 September 1984, 01:22-EDT
From:  <GAVAN at MIT-PYGMALION>
Subject: Your bug in background mail
To: JCMA at MIT-OZ, BUG-relatus at MIT-OZ, BUG-LISPM at MIT-OZ,
    DODDS at SCRC-STONY-BROOK
In-reply-to: The message of 28 Sep 84 19:49-EDT from JCMA at MIT-OZ

    Date: Friday, 28 September 1984, 19:49-EDT
    From: JCMA@MIT-OZ
    Subject: your bug in background mail

No, it's SYMBOLICS' bug.

    To: BUG-relatus@MIT-OZ

    In Symbolics 3600 Release 5.2, Experimental RELATUS 130.91, FEP 22, on Lisp Machine Buddy Holly:


    It is pissing me off, so I am going to add a condition-case to kludge around it.
    I will tell you where I put it so you can debug it.  I think it is actually a system
    bug but you should verify that.

I already did.  Look at the stack.  The last ten frames or so are system
functions.  The code below shows where the losing :TYPEOUT-STAYS message is
sent.  Notice on the stack that ZWEI:TYPEIN-LINE-DURABLE is indeed the guilty
party.  I have reported this bug to BUG-LISPM, but no one has responded yet.
The basic problem is that WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION does not
handle the :TYPEOUT-STAYS operation. 
		
;;; -*- Mode: Lisp; Package: User; Base: 8.; Patch-File: T -*-
;;; Patch file for System version 243.598
;;; Reason: Add function TYPEIN-LINE-DURABLE,
;;;   Use it to make COM-BRIEF-DOCUMENTATION output stay longer
;;; Written 3/13/84 14:18:35 by dodds,
;;; while running on Annisquam from fep0:>system-243-594.load
;;; with Experimental System 243.597, Experimental Hardcopy 21.28, Experimental Zmail 84.98, Experimental LMFS 38.78, Experimental Tape 22.12, Experimental Basic Sage 2.2, cold load 114, microcode TMC5-IO4-MIC 274, FEP 17, New Sage, superGC.


; From file displa.lisp >sys>zwei Q: (157)
#8R ZWEI:(COMPILER-LET ((PACKAGE (PKG-FIND-PACKAGE "ZWEI")))


(DEFUN TYPEIN-LINE-DURABLE (STRING &REST ARGS)
  (UNLESS (SEND *TYPEIN-WINDOW* ':SEND-IF-HANDLES ':PREPARE-FOR-TYPEOUT)
    (SEND *TYPEIN-WINDOW* ':FRESH-LINE))
  (LEXPR-FUNCALL #'FORMAT *TYPEIN-WINDOW* STRING ARGS)
  (FUNCALL *TYPEIN-WINDOW* ':TYPEOUT-STAYS))


    >>Error: The object #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 24560337> received a :TYPEOUT-STAYS message, which went unclaimed.
	     The rest of the message was (NIL)
    While in the function STREAM-DEFAULT-HANDLER  SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION  ZWEI:TYPEIN-LINE-DURABLE

    STREAM-DEFAULT-HANDLER:  (P.C. = 310)
       Arg 0 (FCTN): #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 24560337>
       Arg 1 (OP): :TYPEOUT-STAYS
       Arg 2 (ARG1): NIL
       Arg 3 (ARGS): NIL
       Local 4 (TEM): NIL
       Local 5 (IGNORE): SYS:UNCLAIMED-MESSAGE
       Local 6 (EOF): :OBJECT
       Local 7 (DELIMITER): #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 24560337>
       Local 8 (IGNORE): :MESSAGE
       Local 9 (INDEX): :TYPEOUT-STAYS

    SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION:  (P.C. = 250)
       Arg 0 (OP): :TYPEOUT-STAYS
       --Defaulted args:--
       Arg 1 (ARG1): NIL
       Rest arg (ARGS): NIL

    ZWEI:TYPEIN-LINE-DURABLE:  (P.C. = 22)
       Arg 0 (STRING): "~A"
       Rest arg (ARGS): ("Message of 19:46 sent successfully via OZ.")

    (:METHOD ZWEI:BASIC-DRAFT-MSG :MESSAGE-SENT):  (P.C. = 314)
       Arg 0 (SELF): #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:BASIC-DRAFT-MSG -- 7. IV's, 0. FL's 74204305>
       Arg 2 (OPERATION): :MESSAGE-SENT
       Arg 3 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
       Arg 4 (EXPANSION): (:TEXT "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)
       Arg 5 (RECIPIENT-PRINTER): #<DTP-COMPILED-FUNCTION ZWEI:MESSAGE-SENT-ADDRESS-RECIPIENT-PRINTER 44342413>
       Arg 6 (FORMAT-STRING): "via ~A"
       Rest arg (FORMAT-ARGS): NIL

    ZWEI:INVOKE-MAIL-SERVICE:  (P.C. = 230)
       Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH MAIL-TO-USER (CHAOS-MAIL) -- OZ on CHAOS 7371064>
       Arg 1 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
       Arg 2 (TEMPLATE-EXPANSION): (:TEXT "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)

    ZWEI:NETWORK-SEND-IT-2:  (P.C. = 503)
       Arg 0 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
       Arg 1 (TEMPLATE-EXPANSION): (:TEXT "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)

    ZWEI:NETWORK-SEND-IT-1:  (P.C. = 171)
       Arg 0 (SERVICES): NIL
       Arg 1 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
       Arg 2 (TEMPLATE-EXPANSION): (:TEXT "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)

    ZWEI:NETWORK-SEND-IT:  (P.C. = 114)
       Arg 0 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
       Arg 1 (TEMPLATE-EXPANSION): (:TEXT "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)

    ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
       Arg 0 (TEMPLATE-EXPANSION): (:TEXT "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)
       Arg 1 (FUNCTION): ZWEI:NETWORK-SEND-IT
       Rest arg (ARGS): (((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (** **) :HOST-DEFAULTED T)) (:TEXT "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM (**) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO (**)) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>))

    (:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 315)
       Arg 0 (SELF): #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:BASIC-DRAFT-MSG -- 7. IV's, 0. FL's 74204305>
       Arg 2 (OPERATION): :TRANSMIT

    ZWEI:RELATUS-SEND-MESSAGE-STRING:  (P.C. = 41)  (from RL: PARSER; BACKGROUN)
       Arg 0 (TO): "BUG-RELATUS-PARSER"
       Arg 1 (SUBJECT): "Lost Getting Syntax Info For Bug Report"
       Arg 2 (MESSAGE): "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)"

    BUG-RELATUS-IN-BACKGROUND:  (P.C. = 61)  (from RL: PARSER; BACKGROUN)
       Arg 0 (BUG-LIST): "BUG-RELATUS-PARSER"
       Arg 1 (SUBJECT): "Lost Getting Syntax Info For Bug Report"
       Arg 2 (MESSAGE): "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)"

    SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
       Arg 0 (RESTART-ON-RESET): T
       Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION BUG-RELATUS-IN-BACKGROUND 45123657>
       Rest arg (ARGS): ("BUG-RELATUS-PARSER" "Lost Getting Syntax Info For Bug Report" "

    (N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
    (SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)")

    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
       Arg 0 (IGNORE): NIL
30-Sep-84 17:48:47-EDT,602;000000000000
Received: from MIT-TWEETY-PIE by MIT-OZ via Chaosnet; 30 Sep 84 17:48-EDT
Date: Sunday, 30 September 1984, 17:49-EDT
From: Webster Dove <dove at MIT-BUGS-BUNNY>
Subject: :which-operations/:send-if-handles & :case
To: BUG-LISPM at MIT-OZ
Fcc: BUGS-BUNNY: /syla/dspg/dove/mbox

In Symbolics 3600 Release 5.2, UTIL 1.4, FPA 1.0,
Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

The messages :which-operations and :send-if-handles don't behave
properly with :case combinations.  :send-if-handles should verify that
the individual case is handled not the message of which it is a case.

30-Sep-84 19:24:21-EDT,1225;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 19:23-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86655; Sun 30-Sep-84 12:20:12-EDT
Date: Sunday, 30 September 1984, 12:20-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: prog1 doesn't return multiple-values
To: Richard C. Waters <DICK at MIT-OZ>, bug-lispm at MIT-OZ
In-Reply-To: The message of 28 Sep 84 15:41-EDT from Richard C. Waters <DICK at MIT-OZ>
Message-ID: <840930122019.6.DCP@NEPONSET.SCRC.Symbolics>

    Date: Friday, 28 September 1984, 15:41-EDT
    From: Richard C. Waters <DICK at MIT-OZ>

    note the following top level interaction

    (progn (values 2 3))
    2
    3
    (unwind-protect (values 2 3) 4 5)
    2
    3
    (prog1 (values 2 3))
    2

    It seems to me that prog1 should propogate multiple values.

Please include a valid bug header.  I can only hope you are using
Release 5 which has MULTIPLE-VALUE-PROG1, first documented on page 47 of
the Release Notes.

Please read the Common Lisp Manual's discussion (page 109 for PROG, page
136 for multiple-value-prog1, and the bottom of 138 for interactions).
Also read the Magnum Opus, EVAL, pages 23 to 27.
30-Sep-84 19:25:19-EDT,2277;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 19:25-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86664; Sun 30-Sep-84 12:58:29-EDT
Date: Sunday, 30 September 1984, 12:58-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: tape:write-fep-files-to-tape didn't work
To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 26 Sep 84 23:36-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Message-ID: <840930125835.8.DCP@NEPONSET.SCRC.Symbolics>

    Date: Wednesday, 26 September 1984, 23:36-EDT
    From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>

    In Symbolics 3600 Release 5.2, ZOO 3.0, ZOO-KEEPER 3.0,
    Experimental Spire-Macros 3.0, Experimental Versatec 3.0, Print 34.3,
    Experimental Versatec-Spool 4.0, FEP-TAPE 2.0, FEP 18, on Lisp Machine Goldilocks:

    I tried to write a fep tape and nothing happened for a couple minutes (clock and everything
    was stopped) and then I got this error.

    >>Error: Can't make a 303. block long disk array meeting alignment constraints
    While in the function SI:CONSTRUCT-DISK-ARRAY  ALLOCATE-RESOURCE  SI:MAKE-DISK-ARRAY

    SI:CONSTRUCT-DISK-ARRAY:  (P.C. = 245)

Oh barf, I was hoping this wouldn't come up at a customer site.  I fixed
this a couple months ago when various other experiments with disk arrays
caused this to happen nearly all the time.  What's happening is that you
originally have one region (call it R1) in si:disk-array-area.  It tries
to cons el-grande-array.  R1 isn't big enough, and the storage system
can't extend it to be big enough, so the storage systems makes another
region, R2, that is big enough.  The array is consed in R2.  At first it
doesn't meet alignment constraints, so what it does is unmake the array
and make an array of zero size (which takes up one word for the header).
Unfortunately, it makes this el-poco-array in R1.  Thinking this will
change the alignment of el-grande-array, it tries to make it again, but
gets thwarted because it is made in R2, again, and of course doesn't
meet alignment constraints.

Fun, eh?  The thing I suggest for you is to do
	si:(setf (ldb %%region-no-cons (region-bits R1)) 1)
when this comes up in Release 5.
30-Sep-84 19:35:15-EDT,2567;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 30 Sep 84 19:34-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 100185; Sun 30-Sep-84 14:58:31-EDT
Date: Sunday, 30 September 1984, 14:57-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: pkg question
To: Webster Dove <dove at MIT-BUGS-BUNNY>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 27 Sep 84 11:21-EDT from Webster Dove <dove at MIT-BUGS-BUNNY>
Message-ID: <840930145754.6.DCP@NEPONSET.SCRC.Symbolics>

    Date: Thursday, 27 September 1984, 11:21-EDT
    From: Webster Dove <dove at MIT-BUGS-BUNNY>

    In Symbolics 3600 Release 5.2, UTIL 1.3, FPA 1.0,
    Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

    I have a package p1 and two packages which use it p2 and p3.  I want
    both p2 and p3 to contribute functions for p1 to export.  I do this by
    importing the definition from p2 or p3 into p1 and then exporting it
    from p1.  Unfortunately, both p2 and p3 use functions that the other
    defines.

    The current system seems to require me to declare all such
    imported/exported symbols before either p2 or p3 is compiled.  If I
    don't, then p2 or p3 makes there own private version of the symbol which
    must be uninterned, and that prevents functions with the private symbols
    from working correctly.  This is especially apparent when both p2 and p3
    use (check-arg-type arg type) and the type is defined by the other pkg.

    Within one package, the use of a function before declaration is handled
    properly by make-system.  When multiple pkgs are involved, it would be
    nice if symbols that are used before definition were not cast in stone
    at that time.  Then if the user subsequently exported them from another
    package, the "right" thing could happen.  (That might be harder than it
    first appears!)

    Is the only way to handle this to declare all import/export symbols in a
    separate file that is loaded before the sub package files are compiled?

Without seeing your files and not understanding exactly what the problem
is, it sounds like you want to export the symbols as part of the package
declaration of P1.  That way, both P2 and P3 will always get them the
first time around and you never have to import at all.

Asking the package system to second guess you on your true intentions
when you don't tell it your true intentions until 30 minutes later is
called "impossible," I think, so what "the right thing" is isn't
necessarily clear.
30-Sep-84 19:35:45-EDT,1210;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 30 Sep 84 19:34-EDT
Received: from SCRC-EUPHRATES by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 100300; Sun 30-Sep-84 17:06:12-EDT
Date: Sunday, 30 September 1984, 17:05-EDT
From: David A. Moon <Moon at SCRC-TENEX>
Subject: prog1 doesn't return multiple-values
To: Richard C. Waters <DICK at MIT-OZ>
cc: bug-lispm at MIT-OZ
In-Reply-To: The message of 28 Sep 84 15:41-EDT from Richard C. Waters <DICK at MIT-OZ>
Message-ID: <840930170520.4.MOON@EUPHRATES.SCRC.Symbolics>

    Date: Friday, 28 September 1984, 15:41-EDT
    From: Richard C. Waters <DICK at MIT-OZ>


    note the following top level interaction

    (progn (values 2 3))
    2
    3
    (unwind-protect (values 2 3) 4 5)
    2
    3
    (prog1 (values 2 3))
    2


    It seems to me that prog1 should propogate multiple values.

Maybe it should, but in Zetalisp and Common Lisp it doesn't.  The reason it
doesn't is basically efficiency, which may or may not be a silly reason depending
on your point of view.  I'm sure people would complain either way (not the same
people in most cases!).

The documentation of both those languages explains this.
30-Sep-84 19:46:02-EDT,971;000000000000
Received: from SCRC-YUKON by MIT-OZ via Chaosnet; 30 Sep 84 19:45-EDT
Received: from SCRC-HUDSON by SCRC-YUKON via CHAOS with CHAOS-MAIL id 64353; Sun 30-Sep-84 01:54:51-EDT
Date: Sunday, 30 September 1984, 01:53-EDT
From: Robert W. Kerns <RWK at SCRC-YUKON>
Subject: prog1 doesn't return multiple-values
To: Richard C. Waters <DICK at MIT-OZ>
cc: bug-lispm at MIT-OZ
In-Reply-To: The message of 28 Sep 84 15:41-EDT from Richard C. Waters <DICK at MIT-OZ>
Message-ID: <840930015320.7.RWK@HUDSON.SCRC.Symbolics>

    Date: Friday, 28 September 1984, 15:41-EDT
    From: Richard C. Waters <DICK at MIT-OZ>


    note the following top level interaction

    (progn (values 2 3))
    2
    3
    (unwind-protect (values 2 3) 4 5)
    2
    3
    (prog1 (values 2 3))
    2


    It seems to me that prog1 should propogate multiple values.

See the documentation of either ZetaLisp or Common Lisp.

They both refer you to MULTIPLE-VALUE-PROG1.
30-Sep-84 20:15:44-EDT,1553;000000000000
Received: from SCRC-STONY-BROOK by MIT-OZ via Chaosnet; 30 Sep 84 20:15-EDT
Received: from SCRC-NEPONSET by SCRC-STONY-BROOK via CHAOS with CHAOS-MAIL id 100472; Sun 30-Sep-84 20:14:59-EDT
Date: Sunday, 30 September 1984, 20:14-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: :which-operations/:send-if-handles & :case
To: Webster Dove <dove at MIT-BUGS-BUNNY>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 30 Sep 84 17:49-EDT from Webster Dove <dove at MIT-BUGS-BUNNY>
Message-ID: <840930201416.5.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 30 September 1984, 17:49-EDT
    From: Webster Dove <dove at MIT-BUGS-BUNNY>

    In Symbolics 3600 Release 5.2, UTIL 1.4, FPA 1.0,
    Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

    The messages :which-operations and :send-if-handles don't behave
    properly with :case combinations.  :send-if-handles should verify that
    the individual case is handled not the message of which it is a case.

I assume you mean
	(defflavor foo ()
	  ()
	  (:method-combination (:case :base-flavor-last :bar)))
	(defmethod (foo :case :bar :baz) () )
	(compile-flavor-methods foo)
	(send (make-instance 'foo) :send-if-handles :bar :quux)
bombs in (:method foo :combined :bar) trying to dispatch on :quux
instead of not doing the :send-if-handles.

This can indeed be considered a misfeature (I hesitate to call it a bug
because it is following documented behavior).  I'm not sure what else to
tell you; I'm not in a very creative mood right now to brainstorm ideas.
30-Sep-84 20:20:51-EDT,2064;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 20:20-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86798; Sun 30-Sep-84 20:19:19-EDT
Date: Sunday, 30 September 1984, 20:19-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: :which-operations/:send-if-handles & :case
To: Webster Dove <dove at MIT-BUGS-BUNNY>, BUG-LISPM at MIT-OZ
In-Reply-To: The message of 30 Sep 84 17:49-EDT from Webster Dove <dove at MIT-BUGS-BUNNY>
Supersedes: <840930201416.5.DCP@NEPONSET.SCRC.Symbolics>
Message-ID: <840930201923.6.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 30 September 1984, 17:49-EDT
    From: Webster Dove <dove at MIT-BUGS-BUNNY>

    In Symbolics 3600 Release 5.2, UTIL 1.4, FPA 1.0,
    Experimental IP-TCP 15.3, on Lisp Machine Tweety Pie:

    The messages :which-operations and :send-if-handles don't behave
    properly with :case combinations.  :send-if-handles should verify that
    the individual case is handled not the message of which it is a case.

I assume you mean
	(defflavor foo ()
	  ()
	  (:method-combination (:case :base-flavor-last :bar)))
	(defmethod (foo :case :bar :baz) () )
	(compile-flavor-methods foo)
	(send (make-instance 'foo) :send-if-handles :bar :quux)
bombs in (:method foo :combined :bar) trying to dispatch on :quux
instead of not doing the :send-if-handles.

This can indeed be considered a misfeature (I hesitate to call it a bug
because it is following documented behavior).  I'm not sure what else to
tell you; I'm not in a very creative mood right now to brainstorm ideas.

Actually, I did learn something.
  (send (make-instance 'foo) :bar :which-operations)
  => (:BAZ)
but unfortunately,
  (send (make-instance 'foo) :bar :send-if-handles :quux)
complains that :send-if-handles is an unknown case.

Taking this to the extreme (i.e., knowing that IF :BAR is defined, it is
defined with :case method combination) we could get something like
  (send (make-instance 'foo) :send-if-handles :bar :send-if-handles :quux)
Garp!
30-Sep-84 20:34:13-EDT,13000;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 20:33-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86807; Sun 30-Sep-84 20:33:34-EDT
Date: Sunday, 30 September 1984, 20:33-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Obnoxious Mail lossage of 5.2 backtrace 
To: JCMA at MIT-OZ, BUG-LISPM at MIT-OZ, bug-zmail at MIT-OZ,
    bug-mail at MIT-OZ
In-Reply-To: The message of 30 Sep 84 00:18-EDT from JCMA at MIT-OZ
Message-ID: <840930203345.9.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 30 September 1984, 00:18-EDT
    From: JCMA@MIT-OZ

    In Symbolics 3600 Release 5.2, Experimental RELATUS 130.98, FEP 22, on Lisp Machine Buddy Holly:

    This has been happening lots in 5.2 but usually the error is caught
    and I can't send in the backtrace.  But this time, here it is.  Note
    that these errors happen only for dec 20's excluding oz.

    >>Error: Mail error from XX: -Error on hostname lookup
    While in the function (:DEFUN-METHOD MAILER:CHAOS-MAIL-USER-CHECK-REPLY)  (:METHOD MAILER:CHAOS-MAIL-USER :RECEIVE-MESSAGE)  (:INTERNAL (:METHOD MAILER:CHAOS-MAIL-USER :COMBINED :RECEIVE-MESSAGE) 0.)

In my machine, (describe (net:parse-host "MIT-CLS"))
  #<UNIX-HOST MIT-CLS 55630227>, an object of flavor FS:UNIX-HOST,
   has instance variable values:
   NETI:PATHNAME-HASH-TABLE:          NIL
   NETI:SAMPLE-PATHNAME:              NIL
   NETI:LAST-NAME-AS-FILE-COMPUTER:   "MIT-CLS"
   FS:FILE-ACCESS-PATHS:              NIL
   NETI:ADDRESSES:                    ((#<INTERNET-NETWORK INTERNET 55600042> 2202400114))
   NETI:SYSTEM-TYPE:                  :UNIX
   NETI:AVAILABILITY:                 NIL
   PROPERTY-LIST:                     (...)
   NETI:CLASS:                        :HOST
   NETI:NAMES:                        (#<NAME INTERNET|MIT-CLS 55630201>
				       #<NAME INTERNET|CLS 55630223>)
   NETI:VALIDATION-TIMESTAMPS:        (...)
  #<UNIX-HOST MIT-CLS 55630227>
My guess this is not a LispM bug, but a lack of timely updating of the
host table on XX (and whatever other 20s you notice this on).

    (:DEFUN-METHOD MAILER:CHAOS-MAIL-USER-CHECK-REPLY):  (P.C. = 56)
       Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
       Local 2 (REPLY): "-Error on hostname lookup"
       Local 3 (.SELECTQ-ITEM.): 45.

    (:METHOD MAILER:CHAOS-MAIL-USER :RECEIVE-MESSAGE):  (P.C. = 46)
       Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
       Arg 2 (OPERATION): :RECEIVE-MESSAGE
       Arg 3 (TRACE-LINE): NIL
       Arg 4 (SOURCE-STREAM): #<DTP-COMPILED-FUNCTION SI:WITH-INPUT-FROM-STRING-INTERNAL-FUNCTION 24560235>
       Arg 5 (BODY-STREAM): NIL

    (:INTERNAL (:METHOD MAILER:CHAOS-MAIL-USER :COMBINED :RECEIVE-MESSAGE) 0.):  (P.C. = 7)
       Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
       Rest arg (.DAEMON-CALLER-ARGS.): (:RECEIVE-MESSAGE NIL #<DTP-COMPILED-FUNCTION SI:WITH-INPUT-FROM-STRING-INTERNAL-FUNCTION 24560235> NIL)

    (:METHOD MAILER:MAIL-ACCESS-PATH :WHOPPER :RECEIVE-MESSAGE):  (P.C. = 23)
       Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:MAIL-ACCESS-PATH -- 2. IV's, 0. FL's 74212242>
       Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:METHOD MAILER:CHAOS-MAIL-USER :COMBINED :RECEIVE-MESSAGE) 0.) 45111365>
       Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
       Arg 4 (.OPERATION.): :RECEIVE-MESSAGE
       Arg 5 (TRACE-LINE): NIL
       Arg 6 (STREAM): #<DTP-COMPILED-FUNCTION SI:WITH-INPUT-FROM-STRING-INTERNAL-FUNCTION 24560235>
       --Defaulted args:--
       Arg 7 (BODY-STREAM): NIL

    (:METHOD MAILER:CHAOS-MAIL-USER :COMBINED :RECEIVE-MESSAGE):  (P.C. = 12)
       Arg 0 (SELF): #<CHAOS-MAIL-USER 11656352>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor MAILER:CHAOS-MAIL-USER -- 3. IV's, 1. FL's 74212233>
       Rest arg (.DAEMON-CALLER-ARGS.): (:RECEIVE-MESSAGE NIL #<DTP-COMPILED-FUNCTION SI:WITH-INPUT-FROM-STRING-INTERNAL-FUNCTION 24560235>)

    ZWEI:INVOKE-MAIL-SERVICE:  (P.C. = 211)
       Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH STORE-AND-FORWARD-MAIL (CHAOS-MAIL) -- XX on CHAOS 11654737>
       Arg 1 (RECIPIENTS): ((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (("To: clipping@mit-cls" 4.) ("To: clipping@mit-cls" 20.))))
       Arg 2 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)

    ZWEI:NETWORK-SEND-IT-2:  (P.C. = 503)
       Arg 0 (RECIPIENTS): ((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (("To: clipping@mit-cls" 4.) ("To: clipping@mit-cls" 20.))))
       Arg 1 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)

    ZWEI:NETWORK-SEND-IT-1:  (P.C. = 171)
       Arg 0 (SERVICES): NIL
       Arg 1 (RECIPIENTS): ((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (("To: clipping@mit-cls" 4.) ("To: clipping@mit-cls" 20.))))
       Arg 2 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)

    ZWEI:NETWORK-SEND-IT:  (P.C. = 114)
       Arg 0 (RECIPIENTS): ((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (("To: clipping@mit-cls" 4.) ("To: clipping@mit-cls" 20.))))
       Arg 1 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)

    ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
       Arg 0 (TEMPLATE-EXPANSION): (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM ((:USER #<USER JCMA@OZ 34652054>)) :TO ((:NAME "clipping" :HOST ** :INTERVAL **))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>)
       Arg 1 (FUNCTION): ZWEI:NETWORK-SEND-IT
       Rest arg (ARGS): (((:NAME "clipping" :HOST (:OBJECT #<HOST CLS 34653515>) :INTERVAL (** **))) (:TEXT #<NODE 11646577> :HEADERS (:DATE 2674354552. :FROM (**) :TO (**)) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674354552. :DRAFT-MSG #<DRAFT-MSG 11634204>))

    (:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 315)
       Arg 0 (SELF): #<DRAFT-MSG 11634204>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:BASIC-DRAFT-MSG -- 7. IV's, 0. FL's 4301401>
       Arg 2 (OPERATION): :TRANSMIT

    (:METHOD ZWEI:DRAFT-MSG :COMBINED :TRANSMIT):  (P.C. = 25)
       Arg 0 (SELF): #<DRAFT-MSG 11634204>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:DRAFT-MSG -- 17. IV's, 3. FL's 4301411>
       Rest arg (.DAEMON-CALLER-ARGS.): NIL

    ZWEI:COM-SEND-MESSAGE:  (P.C. = 50)

    ZWEI:COM-MAIL-END:  (P.C. = 4)

    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
       Arg 0 (COMMAND): ZWEI:COM-MAIL-END
       Arg 1 (CHAR): 148.
       Arg 2 (PREFIX-CHAR): NIL
       Arg 3 (HOOK-LIST): NIL

    ZWEI:PROCESS-COMMAND-CHAR:  (P.C. = 14)
       Arg 0 (CH): 148.

    (:METHOD ZWEI:EDITOR :EDIT):  (P.C. = 214)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:EDITOR -- 12. IV's, 0. FL's 74266650>
       Arg 2 (OPERATION): :EDIT
       --Defaulted args:--
       Arg 3 (TOP-LEVEL-P): T
       Arg 4 (DESCRIPTION): NIL

    (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :EDIT):  (P.C. = 50)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Rest arg (.DAEMON-CALLER-ARGS.): NIL

    ZWEI:ZMAIL-MAIL:  (P.C. = 113)
       Arg 0 (CONFIGURATION): :MAIL
       Arg 1 (STARTING-WINDOW): #<WINDOW 72116326>

    ZWEI:CONTINUE-DRAFT-MSG:  (P.C. = 21)
       Arg 0 (DRAFT-MSG): #<DRAFT-MSG 11634204>

    ZWEI:COMPOSE-VIA-DRAFT-MSG:  (P.C. = 5)
       Arg 0 (TEMPLATE-EXPANSION): (:STARTING-POINT ((:HEADERS :TO)) :HEADERS (:TO NIL) :MSGS (#<MSG 1054042>))

    ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
       Arg 0 (TEMPLATE-EXPANSION): (:STARTING-POINT ((:HEADERS :TO)) :HEADERS (:TO NIL) :MSGS (#<MSG 1054042>))
       Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION ZWEI:COMPOSE-VIA-DRAFT-MSG 25523246>
       Rest arg (ARGS): ((:STARTING-POINT ((:HEADERS :TO)) :HEADERS (:TO NIL) :MSGS (#<MSG 1054042>)))

    ZWEI:COMPOSE-FROM-TEMPLATE:  (P.C. = 20)
       Arg 0 (TEMPLATE): ZWEI:MAIL-TEMPLATE
       Rest arg (PLIST): (:MSGS (#<MSG 1054042>))

    ZWEI:COM-ZMAIL-MAIL:  (P.C. = 15)

    ZWEI:COMMAND-EXECUTE:  (P.C. = 55)
       Arg 0 (COMMAND): ZWEI:COM-ZMAIL-MAIL
       Arg 1 (CHAR): 109.
       --Defaulted args:--
       Arg 2 (PREFIX-CHAR): NIL
       Arg 3 (HOOK-LIST): NIL

    ZWEI:ZMAIL-COMMAND-EXECUTE:  (P.C. = 6)
       Arg 0 (*CURRENT-COMMAND*-initialization): ZWEI:COM-ZMAIL-MAIL

    (:METHOD ZWEI:ZMAIL-FRAME :PROCESS-COMMAND-CHAR):  (P.C. = 7)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Arg 2 (OPERATION): :PROCESS-COMMAND-CHAR
       Arg 3 (CH): 109.

    (:INTERNAL (:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR) 0.) 0.):  (P.C. = 7)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Rest arg (.DAEMON-CALLER-ARGS.): (:PROCESS-COMMAND-CHAR 109.)

    (:METHOD ZWEI:ZMAIL-COMMAND-LOOP-MIXIN :WHOPPER :PROCESS-COMMAND-CHAR):  (P.C. = 21)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-COMMAND-LOOP-MIXIN -- 10. IV's, 1. FL's 74266707>
       Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR) 0.) 0.) 44627675>
       Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Arg 4 (.OPERATION.): :PROCESS-COMMAND-CHAR
       Arg 5 (CHAR): 109.

    (:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR) 0.):  (P.C. = 12)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Rest arg (.DAEMON-CALLER-ARGS.): (:PROCESS-COMMAND-CHAR 109.)

    (:METHOD ZWEI:ZMAIL-FRAME :WHOPPER :PROCESS-COMMAND-CHAR):  (P.C. = 21)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Arg 2 (.WHOPPER-CONTINUATION.): #<DTP-COMPILED-FUNCTION (:INTERNAL (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR) 0.) 44627663>
       Arg 3 (.OLD-SELF-MAPPING-TABLE.): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Arg 4 (.OPERATION.): :PROCESS-COMMAND-CHAR
       Arg 5 (CHAR): 109.

    (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :PROCESS-COMMAND-CHAR):  (P.C. = 11)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Rest arg (.DAEMON-CALLER-ARGS.): NIL

    (:METHOD ZWEI:ZMAIL-FRAME :COMMAND-LOOP):  (P.C. = 146)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Arg 2 (OPERATION): :COMMAND-LOOP

    (:METHOD ZWEI:ZMAIL-FRAME :COMBINED :COMMAND-LOOP):  (P.C. = 47)
       Arg 0 (SELF): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>
       Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:ZMAIL-FRAME -- 68. IV's, 20. FL's 73370552>
       Rest arg (.DAEMON-CALLER-ARGS.): NIL

    ZWEI:ZMAIL-PROCESS-TOP-LEVEL:  (P.C. = 52)
       Arg 0 (WINDOW): #<ZMAIL-FRAME Main Zmail Window 6400357 exposed>

    SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
       --Defaulted args:--
       Arg 0 (IGNORE): NIL
30-Sep-84 20:44:32-EDT,11155;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 20:44-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86812; Sun 30-Sep-84 20:42:31-EDT
Date: Sunday, 30 September 1984, 20:42-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: Your bug in background mail
To: GAVAN at MIT-PYGMALION, JCMA at MIT-OZ, BUG-relatus at MIT-OZ,
    BUG-LISPM at MIT-OZ, DODDS at SCRC-STONY-BROOK
In-Reply-To: The message of 30 Sep 84 01:22-EDT from GAVAN at MIT-PYGMALION
Message-ID: <840930204234.0.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 30 September 1984, 01:22-EDT
    From:  <GAVAN at MIT-PYGMALION>

	Date: Friday, 28 September 1984, 19:49-EDT
	From: JCMA@MIT-OZ
	Subject: your bug in background mail

    No, it's SYMBOLICS' bug.

	To: BUG-relatus@MIT-OZ

	In Symbolics 3600 Release 5.2, Experimental RELATUS 130.91, FEP 22, on Lisp Machine Buddy Holly:


	It is pissing me off, so I am going to add a condition-case to kludge around it.
	I will tell you where I put it so you can debug it.  I think it is actually a system
	bug but you should verify that.

    I already did.  Look at the stack.  The last ten frames or so are system
    functions.  The code below shows where the losing :TYPEOUT-STAYS message is
    sent.  Notice on the stack that ZWEI:TYPEIN-LINE-DURABLE is indeed the guilty
    party.  I have reported this bug to BUG-LISPM, but no one has responded yet.
My memory is failing me.  Maybe you responded before people other than
Moon were really keeping track of things.
    The basic problem is that WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION does not
    handle the :TYPEOUT-STAYS operation. 
Say, hey.  Where is it written that :TYPEOUT-STAYS is a generic stream
operation?  Oh, I see.  The mail service is assuming you are sending the
mail from an editor buffer that can hack typein-lines.  Well, no I'm
getting confused.  Maybe you shouldn't be using as much of Zwei as you
are to be sending the message?  Might it be that
	ZWEI:RELATUS-SEND-MESSAGE-STRING:  (P.C. = 41)  (from RL: PARSER; BACKGROUN)
is making assumptions, some of which are false, about program
interfaces?

    ;;; -*- Mode: Lisp; Package: User; Base: 8.; Patch-File: T -*-
    ;;; Patch file for System version 243.598
    ;;; Reason: Add function TYPEIN-LINE-DURABLE,
    ;;;   Use it to make COM-BRIEF-DOCUMENTATION output stay longer
    ;;; Written 3/13/84 14:18:35 by dodds,
    ;;; while running on Annisquam from fep0:>system-243-594.load
    ;;; with Experimental System 243.597, Experimental Hardcopy 21.28, Experimental Zmail 84.98, Experimental LMFS 38.78, Experimental Tape 22.12, Experimental Basic Sage 2.2, cold load 114, microcode TMC5-IO4-MIC 274, FEP 17, New Sage, superGC.


    ; From file displa.lisp >sys>zwei Q: (157)
    #8R ZWEI:(COMPILER-LET ((PACKAGE (PKG-FIND-PACKAGE "ZWEI")))


    (DEFUN TYPEIN-LINE-DURABLE (STRING &REST ARGS)
      (UNLESS (SEND *TYPEIN-WINDOW* ':SEND-IF-HANDLES ':PREPARE-FOR-TYPEOUT)
	(SEND *TYPEIN-WINDOW* ':FRESH-LINE))
      (LEXPR-FUNCALL #'FORMAT *TYPEIN-WINDOW* STRING ARGS)
      (FUNCALL *TYPEIN-WINDOW* ':TYPEOUT-STAYS))


	>>Error: The object #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 24560337> received a :TYPEOUT-STAYS message, which went unclaimed.
		 The rest of the message was (NIL)
	While in the function STREAM-DEFAULT-HANDLER  SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION  ZWEI:TYPEIN-LINE-DURABLE

	STREAM-DEFAULT-HANDLER:  (P.C. = 310)
	   Arg 0 (FCTN): #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 24560337>
	   Arg 1 (OP): :TYPEOUT-STAYS
	   Arg 2 (ARG1): NIL
	   Arg 3 (ARGS): NIL
	   Local 4 (TEM): NIL
	   Local 5 (IGNORE): SYS:UNCLAIMED-MESSAGE
	   Local 6 (EOF): :OBJECT
	   Local 7 (DELIMITER): #<DTP-COMPILED-FUNCTION SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION 24560337>
	   Local 8 (IGNORE): :MESSAGE
	   Local 9 (INDEX): :TYPEOUT-STAYS

	SI:WITH-OUTPUT-TO-STRING-INTERNAL-FUNCTION:  (P.C. = 250)
	   Arg 0 (OP): :TYPEOUT-STAYS
	   --Defaulted args:--
	   Arg 1 (ARG1): NIL
	   Rest arg (ARGS): NIL

	ZWEI:TYPEIN-LINE-DURABLE:  (P.C. = 22)
	   Arg 0 (STRING): "~A"
	   Rest arg (ARGS): ("Message of 19:46 sent successfully via OZ.")

	(:METHOD ZWEI:BASIC-DRAFT-MSG :MESSAGE-SENT):  (P.C. = 314)
	   Arg 0 (SELF): #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>
	   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:BASIC-DRAFT-MSG -- 7. IV's, 0. FL's 74204305>
	   Arg 2 (OPERATION): :MESSAGE-SENT
	   Arg 3 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
	   Arg 4 (EXPANSION): (:TEXT "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)
	   Arg 5 (RECIPIENT-PRINTER): #<DTP-COMPILED-FUNCTION ZWEI:MESSAGE-SENT-ADDRESS-RECIPIENT-PRINTER 44342413>
	   Arg 6 (FORMAT-STRING): "via ~A"
	   Rest arg (FORMAT-ARGS): NIL

	ZWEI:INVOKE-MAIL-SERVICE:  (P.C. = 230)
	   Arg 0 (SERVICE-ACCESS-PATH): #<SERVICE-ACCESS-PATH MAIL-TO-USER (CHAOS-MAIL) -- OZ on CHAOS 7371064>
	   Arg 1 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
	   Arg 2 (TEMPLATE-EXPANSION): (:TEXT "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)

	ZWEI:NETWORK-SEND-IT-2:  (P.C. = 503)
	   Arg 0 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
	   Arg 1 (TEMPLATE-EXPANSION): (:TEXT "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)

	ZWEI:NETWORK-SEND-IT-1:  (P.C. = 171)
	   Arg 0 (SERVICES): NIL
	   Arg 1 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
	   Arg 2 (TEMPLATE-EXPANSION): (:TEXT "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)

	ZWEI:NETWORK-SEND-IT:  (P.C. = 114)
	   Arg 0 (RECIPIENTS): ((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (("BUG-RELATUS-PARSER" 0.) ("BUG-RELATUS-PARSER" 18.)) :HOST-DEFAULTED T))
	   Arg 1 (TEMPLATE-EXPANSION): (:TEXT "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)

	ZWEI:FUNCALL-TEMPLATE-EXPANSION:  (P.C. = 47)
	   Arg 0 (TEMPLATE-EXPANSION): (:TEXT "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM ((:USER #<USER JCMA 34651773>)) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO ((:NAME "BUG-RELATUS-PARSER" :HOST ** :ORIGINAL-INTERVAL ** :HOST-DEFAULTED T))) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>)
	   Arg 1 (FUNCTION): ZWEI:NETWORK-SEND-IT
	   Rest arg (ARGS): (((:NAME "BUG-RELATUS-PARSER" :HOST (:OBJECT #<TOPS20-HOST OZ 70136061>) :ORIGINAL-INTERVAL (** **) :HOST-DEFAULTED T)) (:TEXT "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)" :HEADERS (:DATE 2674251985. :FROM (**) :SUBJECT "Lost Getting Syntax Info For Bug Report" :TO (**)) :HEADER-FORMAT :SHORT :TRANSMIT-TIME 2674251985. :DRAFT-MSG #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>))

	(:METHOD ZWEI:BASIC-DRAFT-MSG :TRANSMIT):  (P.C. = 315)
	   Arg 0 (SELF): #<SEND-MESSAGE-STRING-DRAFT-MSG 7363635>
	   Arg 1 (SELF-MAPPING-TABLE): #<Map to flavor ZWEI:BASIC-DRAFT-MSG -- 7. IV's, 0. FL's 74204305>
	   Arg 2 (OPERATION): :TRANSMIT

	ZWEI:RELATUS-SEND-MESSAGE-STRING:  (P.C. = 41)  (from RL: PARSER; BACKGROUN)
	   Arg 0 (TO): "BUG-RELATUS-PARSER"
	   Arg 1 (SUBJECT): "Lost Getting Syntax Info For Bug Report"
	   Arg 2 (MESSAGE): "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)"

	BUG-RELATUS-IN-BACKGROUND:  (P.C. = 61)  (from RL: PARSER; BACKGROUN)
	   Arg 0 (BUG-LIST): "BUG-RELATUS-PARSER"
	   Arg 1 (SUBJECT): "Lost Getting Syntax Info For Bug Report"
	   Arg 2 (MESSAGE): "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)"

	SI:PROCESS-RUN-FUNCTION-INTERNAL:  (P.C. = 51)
	   Arg 0 (RESTART-ON-RESET): T
	   Arg 1 (FUNCTION): #<DTP-COMPILED-FUNCTION BUG-RELATUS-IN-BACKGROUND 45123657>
	   Rest arg (ARGS): ("BUG-RELATUS-PARSER" "Lost Getting Syntax Info For Bug Report" "

	(N SING 3. WHICH PURPOSIVE INDIVIDUAL NO NO YES) is not the two element list, that is supposed to be returned by
	(SENTENCE :GET-SYNTAX-INFO-OF-NOUNS-AND-VERBS)")

	SI:PROCESS-TOP-LEVEL:  (P.C. = 53)
	   Arg 0 (IGNORE): NIL
30-Sep-84 20:48:27-EDT,1539;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 30 Sep 84 20:48-EDT
Date: Sunday, 30 September 1984, 20:45-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: tape:write-fep-files-to-tape didn't work
To: DCP at SCRC-TENEX, sr.ehpyc at MIT-SPEECH, BUG-LISPM at MIT-OZ
In-reply-to: <840930125835.8.DCP@NEPONSET.SCRC.Symbolics>

    Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 19:25-EDT
    Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86664; Sun 30-Sep-84 12:58:29-EDT
    Date: Sunday, 30 September 1984, 12:58-EDT
    From: David C. Plummer <DCP at SCRC-TENEX>
    Subject: tape:write-fep-files-to-tape didn't work
    To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
    In-Reply-To: The message of 26 Sep 84 23:36-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
    Message-ID: <840930125835.8.DCP@NEPONSET.SCRC.Symbolics>

    Fun, eh?  The thing I suggest for you is to do
	    si:(setf (ldb %%region-no-cons (region-bits R1)) 1)
    when this comes up in Release 5.

That seems to be working, provided that you do it before you try and write the tape.
For anyone else who may try to do it, the right order and the way to find R1 is

(make-system 'fep-tape :noconfirm)
(describe-area si:disk-array-area)
Region #141 ... The region number

si:(setf (ldb %%region-no-cons (region-bits #o141)) 1)	;Whatever region is appropriate
(describe-area si:disk-array-area) ; To make sure you got the right one

(tape:write-files-to-fep-tape ...)
30-Sep-84 21:15:35-EDT,2127;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 21:14-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86824; Sun 30-Sep-84 21:14:47-EDT
Date: Sunday, 30 September 1984, 21:15-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: tape:write-fep-files-to-tape didn't work
To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, DCP at SCRC-TENEX,
    BUG-LISPM at MIT-OZ
In-Reply-To: The message of 30 Sep 84 20:45-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Message-ID: <840930211500.3.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 30 September 1984, 20:45-EDT
    From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>

	Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 19:25-EDT
	Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86664; Sun 30-Sep-84 12:58:29-EDT
	Date: Sunday, 30 September 1984, 12:58-EDT
	From: David C. Plummer <DCP at SCRC-TENEX>
	Subject: tape:write-fep-files-to-tape didn't work
	To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, BUG-LISPM at MIT-OZ
	In-Reply-To: The message of 26 Sep 84 23:36-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
	Message-ID: <840930125835.8.DCP@NEPONSET.SCRC.Symbolics>

	Fun, eh?  The thing I suggest for you is to do
		si:(setf (ldb %%region-no-cons (region-bits R1)) 1)
	when this comes up in Release 5.

    That seems to be working, provided that you do it before you try and write the tape.
    For anyone else who may try to do it, the right order and the way to find R1 is

    (make-system 'fep-tape :noconfirm)
    (describe-area si:disk-array-area)
    Region #141 ... The region number

    si:(setf (ldb %%region-no-cons (region-bits #o141)) 1)	;Whatever region is appropriate
    (describe-area si:disk-array-area) ; To make sure you got the right one

    (tape:write-files-to-fep-tape ...)
No!  The right thing to do is let it bomb out once, and then figure out
which region is losing and do it to that region.  If you create
disk-arrays (for example, by referencing the FEP filesystem) after you
do the magic SETF, you could just lose in the same way.
30-Sep-84 22:04:52-EDT,1156;000000000000
Received: from MIT-SPEECH by MIT-OZ via Chaosnet; 30 Sep 84 22:04-EDT
Date: Sunday, 30 September 1984, 21:59-EDT
From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Subject: tape:write-fep-files-to-tape didn't work
To: DCP at SCRC-TENEX, sr.ehpyc at MIT-SPEECH, BUG-LISPM at MIT-OZ
In-reply-to: <840930211500.3.DCP@NEPONSET.SCRC.Symbolics>

    No!  The right thing to do is let it bomb out once, and then figure out
    which region is losing and do it to that region.  If you create
    disk-arrays (for example, by referencing the FEP filesystem) after you
    do the magic SETF, you could just lose in the same way.

The question then is:  How do you determine R1?  The array local in the erring
function is an <<error printing value>> and if you try to describe it you get
a bad VMA page-fault kind of last word from lisp before the FEP takes over.
The only algorithm I can think of is to set the region-no-cons for the second
highest region number in the area (assuming the last one consed is the bad one
and region numbers are allocated in numerical order, which may not be true on
a machine that's been GCing itself from time to time.)
30-Sep-84 22:14:00-EDT,1626;000000000000
Received: from SCRC-QUABBIN by MIT-OZ via Chaosnet; 30 Sep 84 22:13-EDT
Received: from SCRC-NEPONSET by SCRC-QUABBIN via CHAOS with CHAOS-MAIL id 86849; Sun 30-Sep-84 22:13:46-EDT
Date: Sunday, 30 September 1984, 22:14-EDT
From: David C. Plummer <DCP at SCRC-TENEX>
Subject: tape:write-fep-files-to-tape didn't work
To: Scott Cyphers <sr.ehpyc at MIT-SPEECH>, DCP at SCRC-TENEX,
    BUG-LISPM at MIT-OZ
In-Reply-To: The message of 30 Sep 84 21:59-EDT from Scott Cyphers <sr.ehpyc at MIT-SPEECH>
Message-ID: <840930221400.7.DCP@NEPONSET.SCRC.Symbolics>

    Date: Sunday, 30 September 1984, 21:59-EDT
    From: Scott Cyphers <sr.ehpyc at MIT-SPEECH>

	No!  The right thing to do is let it bomb out once, and then figure out
	which region is losing and do it to that region.  If you create
	disk-arrays (for example, by referencing the FEP filesystem) after you
	do the magic SETF, you could just lose in the same way.

    The question then is:  How do you determine R1?  The array local in the erring
    function is an <<error printing value>> and if you try to describe it you get
    a bad VMA page-fault kind of last word from lisp before the FEP takes over.
    The only algorithm I can think of is to set the region-no-cons for the second
    highest region number in the area (assuming the last one consed is the bad one
    and region numbers are allocated in numerical order, which may not be true on
    a machine that's been GCing itself from time to time.)

Oh.  Never mind.  Do it your way.  I guess by the time this bit us every
day, the storage system was a little more forgiving...
