Date: Tuesday, 27 April 1982, 16:40-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Macroexpanding into the buffer
To: JCMA at MIT-AI
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 27 Apr 82 15:09-EDT from JCMA at MIT-AI

    Date: Tuesday, 27 April 1982, 15:09-EDT
    From: JCMA@MIT-AI
    ZMACS needs the commmand META-X MACRO EXPAND SEXP INTO BUFFER for
    dealing with hairy macros.
Try M-X Execute Command Into Buffer
    M-X Macro Expand Sexp
which will do what you want.

Date: Tuesday, 27 April 1982, 15:09-EDT
From: JCMA@MIT-AI
To: BUG-ZWEI@MIT-AI

In ZWEI in Experimental LMFILE-Remote 12.2,
Experimental MIT-Specific 4.0, Experimental System 83.18,
Experimental ZMail 43.0, Experimental Remote-File 5.0, microcode 104,
60.45Hz, on Lisp Machine Eighteen:

ZMACS needs the commmand META-X MACRO EXPAND SEXP INTO BUFFER for
dealing with hairy macros.

Date: Tuesday, 27 April 1982, 00:53-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: COM-NOT-MODIFIED
To: David E. Goldfarb <DEG at SCRC-TENEX>
Cc: BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 27 Apr 82 00:20-EDT from David E. Goldfarb <DEG at SCRC-TENEX>


    Date: Tuesday, 27 April 1982, 00:20-EDT
    From: David E. Goldfarb <DEG at SCRC-TENEX>
    Subject: COM-NOT-MODIFIED
    To: BUG-ZWEI at SCRC-TENEX
    Cc: DEG at SCRC-TENEX

    In ZWEI in Experimental System 208.29, Experimental ZMail 44.3,
    Experimental LMFS 25.10, Experimental Tape 9.0, Experimental Canon 13.0,
    microcode 878, site configuration 6, on Spaniel:

    The new not modified entry of the c-X c-B menu call COM-NOT-MODIFIED
    with a buffer, but that function expects no arguments.
				    - David
I fixed this in the source.  It should be made a patch in 209.

Date: Tuesday, 27 April 1982, 00:23-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Source compare into a buffer
To: David Chapman <Zvona at MIT-AI>
Cc: bug-zwei at MIT-AI
In-reply-to: The message of 26 Apr 82 17:46-EDT from David Chapman <Zvona at MIT-AI>

    Date: Monday, 26 April 1982, 17:46-EDT
    From: David Chapman <Zvona at MIT-AI>
    Could m-X Source Compare with a numeric argument put its
    result in a buffer?
The sequence
M-X Execute Command Into Buffer
M-X Source Compare
will do what you want.

Date: Tuesday, 27 April 1982, 00:20-EDT
From: David E. Goldfarb <DEG at SCRC-TENEX>
Subject: COM-NOT-MODIFIED
To: BUG-ZWEI at SCRC-TENEX
Cc: DEG at SCRC-TENEX

In ZWEI in Experimental System 208.29, Experimental ZMail 44.3,
Experimental LMFS 25.10, Experimental Tape 9.0, Experimental Canon 13.0,
microcode 878, site configuration 6, on Spaniel:

The new not modified entry of the c-X c-B menu call COM-NOT-MODIFIED
with a buffer, but that function expects no arguments.
				- David

Date: Monday, 26 April 1982  15:15-EDT
From: MMCM at SCRC-TENEX
To:   Michael Travers <MT at MIT-AI>
Cc:   BUG-ZWEI at MIT-AI

    Date: 23 April 1982 19:57-EST
    From: Michael Travers <MT at MIT-AI>
    In ZWEI in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    microcode 849, on Lisp Machine Four:

    Indent for Comment isn't smart about semicolons in Lisp
    strings.  That is, a line like

    (foo "ai:mt;mloop >")		;Are we having fun yet?

    will be turned into

    (foo "ai:mt				  ;mloop >")		;Are we having fun yet?

    if Meta-; is done to it.
Are you sure you were in LISP mode at the time?

Date: Monday, 26 April 1982, 17:46-EDT
From: David Chapman <Zvona at MIT-AI>
To: bug-zwei at MIT-AI

Could m-X Source Compare with a numeric argument put its
result in a buffer?

Date: Sunday, 25 April 1982, 20:22-EDT
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: COMPILER-LET and indentation
To: David A. Moon <Moon at SCRC-TENEX>
Cc: David Chapman <Zvona at MIT-AI>, BUG-ZWEI at MIT-AI
In-reply-to: The message of 24 Apr 82 18:27-EST from David A. Moon <Moon at SCRC-TENEX>

    Date: 22 April 1982 18:19-EST
    From: David Chapman <Zvona at MIT-AI>
    compiler-let doesn't indent right because it has an &rest arg,
    not an &body arg.
I made COMPILER-LET indent like LET in the source.

DULCEY@MIT-ML 04/25/82 16:56:19 Re: Copy File mode setting
To: (BUG ZWEI) at MIT-AI
CC: DULCEY at MIT-ML
In ZWEI in Experimental LMFILE-Remote 12.2,
Experimental MIT-Specific 4.0, Experimental System 83.18,
Experimental ZMail 43.0, Experimental Remote-File 5.0, microcode 104,
Try me, on Lisp Machine Four:

According to the documentation of Copy File (from HELP D 
M-X Copy File), an argument of 2 forces binary copying, and
an argument of 3 forces text copying.  However, the prompt
which appears in the minibuffer has it the other way around!

(P.S.  I'd be happier if you want back to Copy Text File, etc.)


Date: Saturday, 24 April 1982, 20:07-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: m-x List All Directory Names
To: dulcey at MIT-ML
Cc: bug-zwei at SCRC-TENEX, bug-nws at SCRC-TENEX

By the way, I fixed the bug in the FILE server that made it crash
if you did a List All Directory Names on an ITS.

Date: 24 April 1982 19:53-EST
From: David Chapman <ZVONA at MIT-AI>
To: MOON at MIT-AI, BUG-ZWEI at MIT-AI

True.  I was inveighing against fexprs in general.  But in any
case, whatever other mechanism there is for making things indent
right in zwei ought to be applied to compiler-let.

Gumby@MIT-MC (Sent by Laura@MIT-MC) 04/24/82 18:44:44
To: (BUG zwei) at MIT-AI
In zwei in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Eighteen:

In DIRED, I tried to delete a protected file on the filecomputer (FC:).
The machine barfed, reported the problem, then dropped into the error-handler
saying:

(ARGTYP  CONS M-T T ...)
The argument to CAR, "FNF Error ...

..while in the function ZWEI:DIRED-DO-LIST <- ZWEI:COM-DIRED-EXIT <- ZWEI:COMMAND-EXECUTE

			--DAVID

Date: Saturday, 24 April 1982, 18:27-EST
From: David A. Moon <Moon at SCRC-TENEX>
To: David Chapman <Zvona at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 22 Apr 82 18:19-EST from David Chapman <Zvona at MIT-AI>

    Date: 22 April 1982 18:19-EST
    From: David Chapman <Zvona at MIT-AI>
    To: BUG-ZWEI at MIT-AI

    In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    Tester 23.1, microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

    compiler-let doesn't indent right because it has an &rest arg,
    not an &body arg.  This is because it is a fexpr.  Does it really
    need to be a fexpr?  fexprs are rarely warranted and make writing
    code analyzers a pain.

I don't see how you can write a code analyzer that doesn't know about
COMPILER-LET and expect it to work, since the whole point of COMPILER-LET is to
put some bindings around the macro expansion of its body.  If you look at the
source (as I just did) there are some comments there that claim to be reasons
why it isn't a macro.  I can't vouch for their correctness but they sound
plausible; basically they are instantiations of the first sentence in this
paragraph.

Date: 24 April 1982 16:46-EST
From: David Chapman <ZVONA at MIT-AI>
Subject: c-X o with one windo
To: MOON at MIT-AI, BUG-ZWEI at MIT-AI

Sure.

Date: Saturday, 24 April 1982  14:08-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-AI>
Cc:   bug-zwei at SCRC-TENEX
Subject: c-x O when only one window

What should it do instead?  Beep?

Date: Saturday, 24 April 1982, 13:54-EST
From: David Chapman <Zvona at MIT-AI>
Subject: Changing numeric arg c-X O
To: MOON at SCRC-TENEX
Cc: bug-zwei at MIT-AI
In-reply-to: The message of 24 Apr 82 12:03-EST from MOON at SCRC-TENEX

    Date: Saturday, 24 April 1982  12:03-EST
    From: MOON at SCRC-TENEX
    To:   David Chapman <Zvona at MIT-AI>
    Cc:   bug-zwei at MIT-AI
    Subject: Changing numeric arg c-X O

	Date: Friday, 23 April 1982, 22:44-EST
	From: David Chapman <Zvona at MIT-AI>
	To: bug-zwei at MIT-AI

	what about making it so that a numeric arg to c-X o
	selects the numeric-argth window from the top, rather
	than doing numeric-arg c-X o rotations?
    This would be all right with me; it's different from c-m-L and
    t-S since all the alternatives are visible.  What should it do
    in the case where you are currently in 1-window mode, i.e. all
    the alternatives are not visible?
I have always found it bizzare that c-X o does anything when you
are in 1-window mode.  I think it should never select anything
that is not visible.  You should have to explicitly use c-X 2 or
Split Screen for that.

Date: Saturday, 24 April 1982  12:03-EST
From: MOON at SCRC-TENEX
To:   David Chapman <Zvona at MIT-AI>
Cc:   bug-zwei at MIT-AI
Subject: Changing numeric arg c-X O

    Date: Friday, 23 April 1982, 22:44-EST
    From: David Chapman <Zvona at MIT-AI>
    To: bug-zwei at MIT-AI

    what about making it so that a numeric arg to c-X o
    selects the numeric-argth window from the top, rather
    than doing numeric-arg c-X o rotations?
This would be all right with me; it's different from c-m-L and
t-S since all the alternatives are visible.  What should it do
in the case where you are currently in 1-window mode, i.e. all
the alternatives are not visible?

Date: Friday, 23 April 1982, 23:24-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 15.25, microcode 849,
Warning: Black Magic!, on Lisp Machine Twenty-two:

why is it that

(in Bolio Mode)

foo<point>

m-3 m-# =>

3foo*<point>

but

<mark>foo<point>

c-3 c-X c-#

3foo<point>*

and

<point>foo<mark>

c-3 c-X c-#

<point>3foo*

Date: Friday, 23 April 1982, 23:20-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 15.25, microcode 849,
Warning: Black Magic!, on Lisp Machine Twenty-two:

com-canonicallize-whitespace misbehaves itself as follows:

(in Lisp Mode)

foo <point>bar

c-c-w =>

foo<point> bar

Date: Friday, 23 April 1982, 22:44-EST
From: David Chapman <Zvona at MIT-AI>
To: bug-zwei at MIT-AI

what about making it so that a numeric arg to c-X o
selects the numeric-argth window from the top, rather
than doing numeric-arg c-X o rotations?

Date: Friday, 23 April 1982, 22:20-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 15.25, microcode 849,
Warning: Black Magic!, on Lisp Machine Twenty-two:

c-X ^ doesn't work too well when you have > 2 windows.
It leaves gaps and things.

Date: 23 April 1982 19:57-EST
From: Michael Travers <MT at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Four:

Indent for Comment isn't smart about semicolons in Lisp
strings.  That is, a line like

(foo "ai:mt;mloop >")		;Are we having fun yet?

will be turned into

(foo "ai:mt				  ;mloop >")		;Are we having fun yet?

if Meta-; is done to it.

DULCEY@MIT-ML 04/22/82 22:45:35 Re: DIRED redisplay
To: (BUG ZWEI) at MIT-AI
CC: DULCEY at MIT-ML
In ZWEI in Experimental LMFILE-Remote 12.1,
Experimental MIT-Specific 4.0, Experimental System 83.18,
Experimental ZMail 43.0, Experimental Remote-File 5.0, microcode 104,
Try me, on Lisp Machine One:

When in DIRED, if one views a file, and then comes back with Rubout,
ZWEI sometimes fails to redisplay the directory listing.  (C-L does
get it back.)


DULCEY@MIT-ML 04/22/82 20:33:22 Re: Execute Command Into Buffer lossage
To: (BUG ZWEI) at MIT-AI, (BUG NWS) at MIT-AI
CC: DULCEY at MIT-ML
In ZWEI in Experimental LMFILE-Remote 12.1,
Experimental MIT-Specific 4.0, Experimental System 83.18,
Experimental ZMail 43.0, Experimental Remote-File 5.0, microcode 104,
Try me, on Lisp Machine Four:

The following sequence of commands loses in ZWEI:

M-X Execute Command Into Buffer
M-X List All Directory Names
FS:

with the following error message:

>>ERROR: NIL unknown cursor-position unit
While in the function (SELECT-METHOD ZWEI:INTERVAL-IO READ-CURSORPOS)  ZWEI:INTERVAL-TYPEOUT-STREAM-IO  (SELECT-METHOD ZWEI:INTERVAL-TYPEOUT-STREAM-ITEM-IO ITEM-LIST)

(SELECT-METHOD ZWEI:INTERVAL-IO READ-CURSORPOS):
   Arg 0 (IGNORE): READ-CURSORPOS
   --Defaulted args:--
   Arg 1 (UNITS): NIL

The same sequence loses with the device FC:, and both also lose on
System 79.45.  M-X List All Directory Names in normal mode (listing on
screen, without using M-X Execute Command Into Buffer) wins.  I was
unable to try either with an ITS file server because M-X List All
Directory Names takes forever on one.  I also wasn't able to try it on a
Symbolics system, since this poor machine has only two LOD bands,
neither of which is one.


Date: 22 April 1982 18:19-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-ZWEI at MIT-AI

In System 79.45, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Tester 23.1, microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

compiler-let doesn't indent right because it has an &rest arg,
not an &body arg.  This is because it is a fexpr.  Does it really
need to be a fexpr?  fexprs are rarely warranted and make writing
code analyzers a pain.

Date: Thursday, 22 April 1982, 01:46-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Incorrect paren-flashing
To: DULCEY at MIT-ML
Cc: BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 22 Apr 82 01:48-EST from DULCEY at MIT-ML


    From: DULCEY@MIT-ML
    Date: 04/22/82 01:48:29

    When I attempted to edit the file AI:.MAIL.;NAMES 6919 and update the
    mailing list INFO-LISPM-MIT, if I put the cursor at the end of the
    mailing list, ZWEI flashed the wrong paren.  (It was off by one.)
This is because the syntax rules for .MAIL.; NAMES > files are not the
same as for LISP files.  Notice that there's a ([FOO;FOO BAZ]) type
entry.  Note the semicolon.  By LISP rules, the ")" is part of a
comment, and thus should be ignored.  It does not understand that.
[FOO;FOO BAZ] is a single entity.  No other editor knows this about NAMES >
either.

DULCEY@MIT-ML 04/22/82 01:48:29 Re: Incorrect paren-flashing
To: (BUG ZWEI) at MIT-AI
CC: DULCEY at MIT-ML
In ZWEI in Experimental LMFILE-Remote 12.1,
Experimental MIT-Specific 4.0, Experimental System 83.18,
Experimental ZMail 43.0, Experimental Remote-File 5.0, microcode 104,
60.45 Hz -- Try me., on Lisp Machine Eighteen:

When I attempted to edit the file AI:.MAIL.;NAMES 6919 and update the
mailing list INFO-LISPM-MIT, if I put the cursor at the end of the
mailing list, ZWEI flashed the wrong paren.  (It was off by one.)

I don't know yet whether other versions of the editor do this too.


Date: Wednesday, 21 April 1982, 19:57-EST
From: David Chapman <Zvona at MIT-AI>
To: bug-zwei at MIT-AI

Why is c-0 m-K not analogous to c-0 c-K?

Date: Tuesday, 20 April 1982, 12:31-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.43, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Tester 23.1, microcode 849, on Lisp Machine Four:

m-. (:method foo bar)
Read ``(FOO BAR)'' from what file?

This is disconcerting in that I might be paranoid and suppose
that Zmacs doesn't know about :method specs or something.

Date: Tuesday, 20 April 1982, 12:30-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.43, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Tester 23.1, microcode 849, on Lisp Machine Four:

When I do m-X View Directory on mc:.dovr.; it consistently gets a
zwei:barf on nil in recenter-window-relative in (:method zwei
:before :end-of-page-exception).

An unrelated thing is that it would be nice to have some
character you could type at the more break in view directory that
would turn it into a dired.  Especially true since for some
reason getting this information seems to be very expensive and if
you already have some of it and an open stream it seems a pity to
waste them.

Date: Tuesday, 20 April 1982, 12:22-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.43, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Tester 23.1, microcode 849, on Lisp Machine Four:

m-X Delete File
FC: Tester; DO&
Delete FC: Tester; DO&#>? Yes.
Error (gobbledygook) Can not delete FC: Tester; DO&#> because:
file not found.

I suspect that this is preventable by checking to see if the
truename has a numeric version or not.

Date: 20 April 1982 00:15-EST
From: Knowledge-Based Editor <KBE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.43, ZMail 40.7, Remote-File 2.0, LMFILE-Remote
5.3, Knowledge-Based-Editor 5.2, microcode 849, Fading Magic, 
on Lisp Machine Twenty-two:

In font MEDFNT in a full-screen instantiation of ZWEI, I got a marker
in the c-X c-B thing saying my filename was truncated when it hadn't
been. A filename one longer was truncated (and got the marker), so I 
suspect you have a fencepost error. The filename which fits was:
 TIMING-KBE-5-2-.512K-WITH-DISK-SWITCHES-AT-14-DECIMAL#>
and the one which doesn't fit is
 TIMING-KBE-5-2-.512K-WITH-DISK-SWITCHES-AT-140-DECIMAL#>
--kmp

ps actually, i double checked before sending this and it turns out
   this really isn't your bug. the thing getting truncated off the
   end was the KMP; FS: ... but this bug report was too fun not to
   go ahead and send. (ie, please ignore it)

Date: 19 April 1982 10:29-EST
From: Steven C. Bagley <Bagley at MIT-MC>
To: BUG-zwei at MIT-AI
cc: BAGLEY at MIT-MC

In zwei in System 79.40, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.5hz, on Lisp Machine Twenty:

I did a Dired on VX:/usr/bagley and was greeted with the
following error message:

>>ERROR: Illegal UNIX pathname type: ".text", use ".tx"
instead. 
While in the function (METHOD FS:UNIX-PATHNAME-MIXIN
CONVERT-TYPE-FOR-LISPM)  .....

I have a file named save.text, which I renamed to save.tx and
the error went away when I did another DIRED.  However, this
error looks like kludge to me.

Date: Saturday, 17 April 1982, 12:00-EST
From: JCMA@MIT-AI
To: BUG-ZWEI@MIT-AI

In ZWEI in Experimental LMFILE-Remote 12.0,
Experimental MIT-Specific 4.0, Experimental System 83.14,
Experimental ZMail 43.0, Experimental Remote-File 5.0, microcode 104,
Try me, on Lisp Machine One:

When composing a letter in zmail's mail mode and you mouse on a message
in the summary window to see it, an error is generated.  The only way to
see the message is to abort the letter, look at the message and then use
continue to get back to the message.  Zmail should be smarter than this,
knowing how to display the messsage with no error.

Date: 14 Apr 1982 2221-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: FS doesn't know about mail files
To: zvona at MIT-AI, BUG-ZWEI at MIT-AI, BUG-FILECOMPUTER at MIT-AI
cc: DLA at SCRC-TENEX
In-Reply-To: Your message of 14-Apr-82 1547-EST

The FS file system doesn't know about mail files.  It would be a 
pretty trivail thing to make it do so, since there are two other
file systems from which to copy.  But this sort of implies having
a mail server to put mail there in the first place, and it would
probably be sort of hairy to have two mail servers running on 
LM27 (what would they do, race to see which one gets the message?).
-------

Date: 14 April 1982 15:36-EST
From: David Chapman <zvona at MIT-AI>
Sender: KBE at MIT-AI
To: BUG-ZWEI at MIT-AI, BUG-FILECOMPUTER at MIT-AI

In zwei in System 79.42, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 14.0, microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

(login 'kbe 'fs)

m-X View Mail  =>

Error: The object #<REMOTE-PATHNAME "FS: KBE; KBE"> received a :NEW-MAIL-PATHNAME 
message, which went unclaimed.

Date: 14 April 1982 07:53-EST
From: Matthew T. Mason <MTM at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.40, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Six:

M-X Find Unbalanced Parentheses reported "probably no right-paren for this left-paren"
with the cursor positioned at the top of the file, with just white space following.
Previous to loading the file or starting the editor I had eval'd "(tex-syntax)":

(defun tex-syntax ()
  
  (mapc #'zwei:set-char-syntax
	`(,zwei:list-open
	  ,zwei:list-close
	  ,zwei:list-comment
	  ,zwei:list-alphabetic
	  ,zwei:list-slash 
	  ,zwei:list-alphabetic)
	(circular-list zwei:*list-syntax-table*)
	`(,#/{ ,#/} ,#/% ,#/; ,#/\ ,#//))
  )


Just previous to checking for unbalanced parens, I had tried to flush all memoization by
inserting and then deleting a space in each line (using MACRO).

So:  1) Is this a ZWEI bug?
     2) Is there an easier way to flush parsed line memoization?  This is necessary
        whenever I change the syntax table in the middle of editing a file.

Date: Wednesday, 14 April 1982, 04:30-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: String search
To: Clark M. Baker <CMB at SCRC-TENEX>
Cc: BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 23 Mar 82 09:45-EST from Clark M. Baker <CMB at SCRC-TENEX>


    Date: Tuesday, 23 March 1982, 09:45-EST
    From: Clark M. Baker <CMB at SCRC-TENEX>
    Type Control S, followed by Altmode, followed by Help.  The help
    automatically flushes itself.  This seems like a bug.
Apparrently the person who fixed this in the source did not notice
that it actually documents *CURRENT-COMMAND*, which of course is
incremental search, not string-search!  I did not fix this.

Also, Incremental search's documentation string needs work.  It doesn't
mention ALTMODE at all, either as a way to get to String Search or as
a way of exiting a search.  I haven't fixed this (yet at least).

Date: Wednesday, 14 April 1982, 03:53-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: #| ... |# and M-.
To: Edward Barton <EB at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 23 Mar 82 23:05-EST from Edward Barton <EB at MIT-AI>

    Date: 23 March 1982 23:05-EST
    From: Edward Barton <EB at MIT-AI>
    To: BUG-LISPM at MIT-AI
    M-. shows you ";" comments before a function definition, but not #| ... |#
    comments.
I'm not sure it should.  (Not sure it shouldn't either).  #| ... |# is used
mostly for commenting out code, as opposed to descriptive comments for the
following function.  What were you putting in there that you did want displayed?

Date: 13 April 1982 14:33-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI
cc: rwk at SCRC-TENEX, mmcm at SCRC-TENEX

Foo.  This has happened to me three times in the last three days.  I send some
mail with Zmail, so it tries to write to AI:.MAIL.;MAIL >, but AI is down so
the Zmail background process gets an error.  I do Terminal-0-S and (silly me)
hit Abort and it seems happy.  But then when AI comes back up I try to save
my editor buffers and the machine just goes into "Lock" forever and sits there
staring at me with the cursor blinking.  So I go back into Zmail and write a
note complaining about it and when I try to send it (yes!) the same thing
happens.  So I save my buffers to MC (which works), boot my machine, read them
back in from MC and save them on AI (which works).  I infer that what is happening
is that there is some locative per host that the attempt to write out mail locks
and it isn't unwind-protected so that the Abort leaves it locked, and then the
lock prevents anyone else from writing to the host.

Date: Tuesday, 13 April 1982  12:07-EST
From: ACW at SCRC-TENEX
To:   Jan Walker <JWALKER at SCRC-TENEX>
Cc:   Bug-Zwei at SCRC-TENEX, Writers at SCRC-TENEX
Subject: What to call Q-registers


How about "variables"?

   ---Allan

Date: 13 April 1982 04:58-EST
From: Knowledge-Based Editor <KBE at MIT-AI>
To: rwk at SCRC-TENEX
cc: BUG-ZWEI at MIT-AI

it didn't create two buffers with the same filename. the buffer
named ZWEI became one named FS:KBE;MAGIC.LISP#>. The other buffer,
just called MAGIC didn't get a chance to become the same name because
I aborted the menu prematurely. It *is* the case that you can create 
two buffers with the same name, but that's a different problem. Also,
there was another bug which you're missing, which is that it displayed
the text of the buffer MAGIC with a modeline of FS:KBE;MAGIC.LISP#>,
which was wrong. I can probably recreate this lossage sequence if you're 
unable to. g'nite and g'luck. -kmp

Date: Tuesday, 13 April 1982, 03:45-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Bugs in Kill or Save Buffers
To: Kent M. Pitman <kmp at MIT-MC>
Cc: BUG-ZWEI at MIT-MC
In-reply-to: The message of 13 Apr 82 02:15-EST from Kent M. Pitman <kmp at MIT-MC>

Actually, all that boils down to two problems:

1)  You shouldn't be able to create two buffers with the same file name, at
least without knowing about it.

2)  It should have told you what buffer it was offering to save.

The situation would have been somewhat further improved if it had been
clever and seen that the buffer name would make a nice file default and
used that.


Redistributed-Date:  12 April 1982 21:28 est
Redistributed-By:  Margolin.PDO at MIT-MULTICS
Redistributed-To:  "jwalker@scrc" at MIT-MC, 
                   "bug-zwei@scrc" at MIT-MC
Date:  12 April 1982 21:27 est
From:  Barry Margolin at MIT-MULTICS
Subject:  Re: terminology carry-over
Sender:  Margolin.PDO at MIT-MULTICS
To:  Jan Walker <JWALKER at SCRC-TENEX>
cc:  Bug-Zwei at SCRC-TENEX, Writers at SCRC-TENEX
In-Reply-To:  Message of 12 April 1982 17:19 est from Jan Walker

Multics Emacs documentation just calls them "variables" and "named
regions" (the latter seems incorrect though, although something that
actually fit that name would be interesting).  Something along the lines
of "text variables" seems to be good.

Date: Monday, 12 April 1982  15:59-EST
From: Jan Walker <JWALKER at SCRC-TENEX>
To:   Bug-Zwei at SCRC-TENEX, Writers at SCRC-TENEX
Subject: terminology carry-over

Why does zwei use the term "Q-registers"?  (No, I know about TECO
so don't explain to me about teco qregs.)  Can someone think of a
more descriptive term for these that would be less arbitrary.

Date: 12 April 1982 13:16-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: RWK at SCRC-TENEX
cc: BUG-ZWEI at MIT-AI

Perhaps the idea you want to decide when to warn somebody about creating multiple
editor buffers for the same file is the idea of the "root" of a filename.  Given
FC:AGRE;PARALLEL.LSP#7, PARALL.LSP is the "root", the name of the file, and 
FC:AGRE;...#7 just give incidental information telling you what device it came
from, what directory it was filed under, and which version of the file this is.
You want a warning whenever you try to create a buffer for a file with the same
filename root as that of an existing buffer modulo syntax, so that 
FC:DANIEL;PARALLEL.LSP#2 and AI:BATALI;PARALL 5 would give errors with 
FC:AGRE;PARALLEL.LSP#7 already having a buffer but FC:AGRE;PARALL.LSP#7,
FC:AGRE;PARALLEL.DOC#7, and AI:AGRE;PARALL NOTES wouldn't.  The FC root is
NAME.EXT, the ITS root is NAME if FN2 is numeric and NAME.FN2 if it isn't.
There are screw cases, but there are always screw cases when converting 
between different file formats.  Perhaps if the definition is made broad enough
and the warning mild enough people won't scream too loudly.  It would help if
it offered you something in return for the warning, like the ability to do a
quick source-compare at a keystroke.    - phIl

Date: Monday, 12 April 1982  12:35-EST
From: ACW at SCRC-TENEX
To:   MOON at SCRC-TENEX
Cc:   bug-zwei at SCRC-TENEX, user-interface at SCRC-TENEX
Subject: how should it work?


I think c-Q Abort should stick an Abort in the buffer.
Reason: It's the only way to put an abort in the buffer,
and if you really didn't want the abort in the buffer
you can rub it out.  So getting caught in a c-Q is
not an unrecoverable catastrophe even though there
is no way to abort from it.

If we took the other stance, that ABort should always
work, then we would have to provide a separate command
(m-X Insert An Abort) to do it.  This is cludgier.

   ---Allan

Date: Monday, 12 April 1982, 12:28-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: AGRE at MIT-AI
Cc: BUG-ZWEI at MIT-AI, zvona at MIT-AI

    Date: 11 April 1982 15:35-EST
    From: Philip E. Agre <AGRE at MIT-AI>
    In zwei in System 79.40, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    microcode 849, on Lisp Machine Eight:
    Do (M-X Lisp Mode then) M-X Fill Long Comment at the start of this stuff 
    and nothing will happen.  The effect goes away if there is a <cr> at the end of it.
This is fixed in the source.

Date: Monday, 12 April 1982, 10:16-EST
From: Jan Walker <JWALKER at SCRC-TENEX>
To: CARLF at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 10 April 1982 23:32-EST
    From: Carl Richard Feynman <CARLF at MIT-AI>
    To: BUG-ZWEI at MIT-AI
    Redistributed-to: jwalker at SCRC-TENEX
    Redistributed-by: Daniel L. Weinreb <dlw at SCRC-TENEX>
    Redistributed-date: Sunday, 11 April 1982, 10:02-EST

    In ZWEI in System 79.40, ZMail 40.7, LMFILE-Remote 5.3,
    Experimental Remote-File 4.0, Experimental DAEDALUS 3.2, microcode 849, on Lisp Machine Two:

    The documentation string of the command "Document containing command"
    is incomprehensible.
			    -- Carl
Right.  It's that whole problem of what's a noun and what's a verb and
who is this string talking to anyhow.  I guess it is time for me to try
fixing some of those and see if it makes the situation better or worse.

Date: Monday, 12 April 1982, 06:51-EST
From: Top Dog <RWK at SCRC-TENEX>
Subject: C-/ does wrong thing
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in System 204.56, ZMail 42.10, LMFS 24.7, Tape 8.2, Canon 12.3,
Symbolics 10.1, microcode 869, on Dachshund:

M-X Document Containing<sp>C-/
includes "" as things it looks for substrings of!  This is clearly
not reasonable.

kmp@MIT-MC 04/12/82 06:02:57
To: (BUG ZWEI) at MIT-AI
In ZWEI in System 79.40, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 12.0, microcode 849,
Warning: Black Magic!, on Lisp Machine Twenty-two:

In M-X View File, if I hit Abort, the viewed-file text on my screen clears
but Zwei does not redisplay my buffer contents until I type another character.
If the viewed text goes away, I'd just as soon see my buffer again.


Date: 11 Apr 1982 2102-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: Multiple names for "the same" file
To: AGRE at MIT-AI, MOON at SCRC-TENEX
cc: BUG-ZWEI at MIT-AI, RWK at SCRC-TENEX
In-Reply-To: Your message of 11-Apr-82 2053-EST

I'm not sure if your suggestion is a reductio ad absurdum argument or a damn
fine idea.  Maybe it's just an absurdly fine idea.  (My cat doesn't agree).
I guess I'll make it always warn and we'll see, unless someone can save some
experimentation by objecting now.
-------

Date: 11 April 1982 20:36-EST
From: Philip E. Agre <AGRE at MIT-AI>
Subject: Re: Multiple names for "the same" file
To: AGRE at MIT-AI, RWK at SCRC-TENEX, MOON at SCRC-TENEX
cc: BUG-ZWEI at MIT-AI

    Date: 11 Apr 1982 1943-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Subject: Re: Multiple names for "the same" file
    To: MOON at SCRC-TENEX, AGRE at MIT-AI
    cc: BUG-ZWEI at MIT-AI, RWK at SCRC-TENEX
    In-Reply-To: Your message of 11-Apr-82 1426-EST

    How about a warning (in the echo area, without beep) if you read in a file
    when you have another of the same NAME and TYPE but different VERSION?
    Also, if two files of the same name, one type :UNSPECIFIC and one type
    anything else.  The check should also occur before renaming a file with
    ^X^W, and more actively complain if the filename would in fact be duplcated,
    since this is almost certain to leave you totally confused.

     Not only that, but same name/etc but different FILE SYSTEM too!  So it
should warn you on AI:AGRE;FCFLOW > and FC:AGRE;FCFLOW.#> even if they have
different version numbers, in case you are keeping duplicate copies on different
machines.  You should never have two files on different machines with the same
name (modulo filename syntax) and different contents; doing so is very likely to
cause confusion.  - phIl
     P.S.  How about different file system -plus- different directory?!  How far
do you go?  Maybe it should offer to source-compare in each of these cases, not
as a question you have to answer NO to but something like "if you want a
source-compare in a buffer, type super-c" or some such.  That'd be really nice
sometimes.
     P.P.S.  In general there should be a theory about when the machine should
make a point of advertizing one of its features to you.  Already it's rather
hard for a semi-frequent user of the LispMachine to keep track of all the
commands and functions s/he needs to know about to reasonably comfortably get
through the day.  Maybe there already is such a theory?  Certainly there is a
well-developed theory of notifications (even if I grouch at it at places).

Date: 11 Apr 1982 1943-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: Multiple names for "the same" file
To: MOON at SCRC-TENEX, AGRE at MIT-AI
cc: BUG-ZWEI at MIT-AI, RWK at SCRC-TENEX
In-Reply-To: Your message of 11-Apr-82 1426-EST

How about a warning (in the echo area, without beep) if you read in a file
when you have another of the same NAME and TYPE but different VERSION?
Also, if two files of the same name, one type :UNSPECIFIC and one type
anything else.  The check should also occur before renaming a file with
^X^W, and more actively complain if the filename would in fact be duplcated,
since this is almost certain to leave you totally confused.
-------

Date: 11 April 1982 15:35-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.40, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Eight:

Do (M-X Lisp Mode then) M-X Fill Long Comment at the start of this stuff 
and nothing will happen.  The effect goes away if there is a <cr> at the end of it.

;;; Flow constraint representation.  For every ordered pair of boxes in a given
;;; block, there is a symbol which is the link between those two boxes.  The
;;; link symbol is ambiguous as to whether it is an order link (meaning "box1
;;; must be executed before box2") or a cover link (meaning that the link is in
;;; the cover of the order, where for a given order the cover is the set of
;;; (x,y) st x<y and z st x<z<y).  Rather, which it is depends on how it is
;;; used.  Different contexts (i.e., nodes in the search space) would have
;;; different orders and covers, and so the orders and covers are represented on
;;; the context names' property lists.  Their are two context trees, that for
;;; the mapper's search and that for the coder's search, but they are continuous
;;; in that the parent of a coder's tree's root is the mapper's tree's node (i.e., the name of the mapper context) which
;;; made the call to the coder.

Date: 11 April 1982 14:29-EST
From: Philip E. Agre <AGRE at MIT-AI>
Subject: Multiple names for "the same" file
To: AGRE at MIT-AI, MOON at SCRC-TENEX
cc: BUG-ZWEI at MIT-AI

Maybe you're right; it isn't clear.  In any event, you never want to have
two buffers pointing at the same file without knowing it.  Perhaps the best
thing is to give a warning, but here is the behavior I expected when I did
just what I described: I expected that I would have gotten "(new file)" on
dir;name >, which would have written out (i.e., C-X C-S) as dir;name 1.
Part of my theory of fn2's is that ">" should try really hard to be numeric;
this unfortunately is a borderline case.  Had I not already had a buffer
for dir;name nonnum, then I would likely have wanted > to refer to nonnum,
but the referent of > shouldn't depend on what buffers you have loaded.
So my conclusion, again: there should be a warning message and probably a
request for y/n confirmation (not yes/no since there's nothing destructive
immediately at stake) every time you try to create a new buffer that points
to the same file as an existing one, in the sense that adding to the new
buffer would cause there to be divergent versions of the file.

Date: Sunday, 11 April 1982  13:51-EST
    From: MOON at SCRC-TENEX
    To:   Philip E. Agre <AGRE at MIT-AI>
    Cc:   BUG-ZWEI at MIT-AI
    Subject: Multiple names for "the same" file

	Date: 10 April 1982 10:38-EST
	From: Philip E. Agre <AGRE at MIT-AI>

	Do C-X C-F on dir;name > for some nonexistent file so as to get a new buffer
	with (new file) for dir;name >.  Type some text at it and then do C-X C-W
	dir;name nonnum for some non-numeric fn2.  Then type some more text at the
	buffer and do C-X C-F dir;name >.  It will read dir;name nonnum from disk and
	give you a second buffer for the same file with the old text.  This is just
	asking for lossage.  I don't know what the right behavior is here but this
	clearly isn't it.
    The same thing happens if the fn2 is numeric.  c-X c-W changes the name of the
    file associated with the buffer.  If you had modified and written out the second
    buffer, it would have written to name >, not name nonnum.  Thus your two buffers
    were in fact holding different files; they were only the same file as long as no
    one created another file that was ">" the original file.  I can't think of any
    behavior that would be better.

    Possibly the editor could print a warning if you do a Find File or Write
    File and there exists another editor buffer whose file had the same
    truename the last time it was read or written.  Note that this is not
    necessarily an error.  For instance, I often have a file read into two
    editor buffers, where one is the version I am modifying and the other is
    the installed version which I am keeping in the editor so I can refer back
    to it.

Date: Sunday, 11 April 1982, 10:14-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: how should it work?
To: MOON at SCRC-TENEX, user-interface at SCRC-TENEX, bug-zwei at SCRC-TENEX

Consistency both states that Abort should be inserted AND that Abort
should quit.  My conclusion is that there is no way to be consistent.
Since consistency is out as a criterion, I guess that since it's easy to
cancel a c-Q by just doing it and rubbing out the result, (or, in the
present implementation, by typing, say, "Q" or "A" or some other unused
non-shifted letter!), it should insert an Abort.  Break should insert
a Break, too, in any case.

Date: Sunday, 11 April 1982, 10:14-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: how should it work?
To: MOON at SCRC-TENEX, user-interface at SCRC-TENEX, bug-zwei at SCRC-TENEX

Consistency both states that Abort should be inserted AND that Abort
should quit.  My conclusion is that there is no way to be consistent.
Since consistency is out as a criterion, I guess that since it's easy to
cancel a c-Q by just doing it and rubbing out the result, (or, in the
present implementation, by typing, say, "Q" or "A" or some other unused
non-shifted letter!), it should insert an Abort.  Break should insert
a Break, too, in any case.

Date: Sunday, 11 April 1982  13:51-EST
From: MOON at SCRC-TENEX
To:   Philip E. Agre <AGRE at MIT-AI>
Cc:   BUG-ZWEI at MIT-AI
Subject: Multiple names for "the same" file

    Date: 10 April 1982 10:38-EST
    From: Philip E. Agre <AGRE at MIT-AI>

    Do C-X C-F on dir;name > for some nonexistent file so as to get a new buffer
    with (new file) for dir;name >.  Type some text at it and then do C-X C-W
    dir;name nonnum for some non-numeric fn2.  Then type some more text at the
    buffer and do C-X C-F dir;name >.  It will read dir;name nonnum from disk and
    give you a second buffer for the same file with the old text.  This is just
    asking for lossage.  I don't know what the right behavior is here but this
    clearly isn't it.
The same thing happens if the fn2 is numeric.  c-X c-W changes the name of the
file associated with the buffer.  If you had modified and written out the second
buffer, it would have written to name >, not name nonnum.  Thus your two buffers
were in fact holding different files; they were only the same file as long as no
one created another file that was ">" the original file.  I can't think of any
behavior that would be better.

Possibly the editor could print a warning if you do a Find File or Write
File and there exists another editor buffer whose file had the same
truename the last time it was read or written.  Note that this is not
necessarily an error.  For instance, I often have a file read into two
editor buffers, where one is the version I am modifying and the other is
the installed version which I am keeping in the editor so I can refer back
to it.

Date: Sunday, 11 April 1982  13:56-EST
From: MOON at SCRC-TENEX
To:   Kent M. Pitman <KMP at MIT-MC>
Cc:   BUG-ZWEI at MIT-MC
Subject: Oops, more on <Line> mode

Yes, I noticed this typo in the ^Q Rubout <quan> command when I was editing
the other changes I said I would make, so I fixed it.  I guess it was written
by copying and changing the ^Q Delete <quan> command and never finished.
I think ^Q has a command for fixing things that are in reverse order....


Date: 10 April 1982 23:32-EST
From: Carl Richard Feynman <CARLF at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.40, ZMail 40.7, LMFILE-Remote 5.3,
Experimental Remote-File 4.0, Experimental DAEDALUS 3.2, microcode 849, on Lisp Machine Two:

The documentation string of the command "Document containing command"
is incomprehensible.
			-- Carl

Date: 10 April 1982 10:38-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.35, ZMail 40.7, LMFILE-Remote 5.3,
Experimental Remote-File 3.0, Experimental Local-File 35.1,
microcode 849, CStacy spacial, on Lisp Machine Six:

Do C-X C-F on dir;name > for some nonexistent file so as to get a new buffer
with (new file) for dir;name >.  Type some text at it and then do C-X C-W
dir;name nonnum for some non-numeric fn2.  Then type some more text at the
buffer and do C-X C-F dir;name >.  It will read dir;name nonnum from disk and
give you a second buffer for the same file with the old text.  This is just
asking for lossage.  I don't know what the right behavior is here but this
clearly isn't it.

Date: 9 April 1982 23:51-EST
From: Kent M. Pitman <KMP at MIT-MC>
Subject:  Oops, more on <Line> mode
To: MOON at SCRC-TENEX
cc: BUG-ZWEI at MIT-MC

The right fix may be just to flush <line> mode, as you mentioned earlier
you might do, but in case you don't, I guess you should know about the
following behavior...

Go into the middle of a buffer you don't love much which has text on each
lines. Type a char ("A" will do) at the beginning of some line. Now type
Rubout. Note that you get a Control-K instead. Further note that if you
type Rubout you get another Control-K. This is especially annoying because
if you Control-Y the text back in, you'll find it's been assuming you were
doing a backward-style kill and all the lines you yanked back will be in
the reverse order... This behavior is part of what garbaged my buffer last
night as I was moving around being confused, but I left it out of my original
bug report because I could not reproduce the behavior and figured I was
just confused. Apparently I wasn't.


Date:  9 Apr 1982 1816-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Re: how should it work?
To: MOON at SCRC-TENEX, user-interface at SCRC-TENEX, bug-zwei at SCRC-TENEX
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 9-Apr-82 1812-EST

It should insert an ABORT character.  It's easy to type RUBOUT, and there's
always CONTROL-ABORT.  Anything else will end up being inconsistent with
^Q BREAK.
-------

Date: Friday, 9 April 1982  18:12-EST
From: MOON at SCRC-TENEX
To:   user-interface at SCRC-TENEX, bug-zwei at SCRC-TENEX
Subject: how should it work?

In fixing the editor c-Q command, I seem to have introduced a behavioral
inconsistency (by making it share code with the reader of numeric arguments).
It used to be that control-Q Abort was a no-op.  Now it is unless you type
it fast enough that you don't get prompted, in which case an Abort character
is inserted in your buffer.  The same thing happens with Break.

The question is, which should it do when you type Abort: abort the command
or insert an abort character?  Obviously it should be consistent and not depend
on how fast you type it.

Pro: this is the only way to get these characters into a buffer except by knowing
the octal codes.

Con: this is the only way to cancel a c-Q command.

anti-Con: what c-Q Break does is preposterous.

Date: Friday, 9 April 1982, 17:50-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: COM-VARIOUS-QUANTITIES
To: Zvona at MIT-AI
Cc: bug-zwei at SCRC-TENEX

I greatly doubt that the slowness you report has anything to do with the
various quantities stuff.  I think you will find that if you do a second
c-Q immediate after the first one, it is a lot faster.  The problem only
has to do with the displaying of the prompt.

Date: Friday, 9 April 1982, 15:59-EST
From: David Chapman <Zvona at MIT-AI>
Subject: COM-VARIOUS-QUANTITIES
To: dlw at SCRC-TENEX, kmp at MIT-AI
Cc: bug-zwei at SCRC-TENEX
In-reply-to: The message of 9 Apr 82 11:43-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

I use c-Q mainly to get printing characters into the buffer which
are bound to something other than com-self-insert.  This quite
annoyingly slow, presumably because of various quantities being
there.  Also, the ``c-Q:'' prompt is a real pain when you are
doing it from the minibuffer.  I occasionally do use Various
Quantities per se, but I think they would be much better off on a
(single) m-X key.

Date: Thursday, 8 April 1982, 22:29-EST
From: Michael Travers <MT at MIT-AI>
To: BUG-ZWEI at EE

In ZWEI in System 204.53, ZMail 42.10, microcode 865, Play, on Lisp Machine Nine:

If you hit Break while in a String Search prompt, the
String Search cursor is left blinking and the typeout
cursor does not blink.

Date: Wednesday, 7 April 1982, 21:43-EST
From: Tom Knight <TK at SCRC-TENEX>
Subject: walk your dog...
To: bug-zwei at SCRC-TENEX

Typing <meta>X set fonts
followed by a list of font names, delimited by commas rather
than spaces, Zwei bombs with a ", not inside `" error.
It probably shouldn't be trying to read those objects.

Date: 7 April 1982 14:57-EST
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-ZWEI at MIT-MC

When *Mail-n* buffers are emptied and the To: --Text follows...-- line is
put in them anew, they should be set not-modified. Then if you type c-X M
and hit Abort first thing (eg, if it was a typo), you don't have a lingering
buffer which thinks it is modified and waiting to be returned to by c-U c-X M...
I find myself typing m-~ Abort to buffers empty of all but a To: prompt
so I don't end up with piles of empty mail buffers at the  end of my session...
-kmp


Date: Wednesday, 7 April 1982, 14:08-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: DULCEY at MIT-ML
Cc: BUG-ZWEI at MIT-AI

    DULCEY@MIT-ML 04/06/82 02:27:24
    If one defines a Word Abbrev containing a Return character (by using
    the Make Word Abbrev command, and using Control-Q to make it possible
    to type the Return), the abbrev works fine during that editor session.
    However, if one stores it in a QWABL file and then tries to read the
    QWABL file back in during a future editing session, the Abbrev gets
    defined incorrectly!
Fixed in the source.

Date: Wednesday, 7 April 1982, 12:47-EST
From: David Chapman <Zvona at MIT-AI>
To: MMcM at SCRC-TENEX
Cc: BUG-zwei at MIT-AI
In-reply-to: The message of 7 Apr 82 12:17-EST from Mike McMahon <MMcM at SCRC-TENEX>

	Fill Long Comment seems to consistently lose on the last
	two lines.
    I did fill long comment on the text of your message in lisp mode and it worked correctly.
    If that also works for you, could you send me the actual part of the buffer where it fails.
    If not, perhaps someone there already incorporated the fix into the MIT sources?

Hmm, must be more subtle than I thought.  However, if you NOW do c-7 c-2 c-X f m-X F. L. C.
with point on the line JUST BEFORE this comment, you SHOULD see the lossage.


;;; The Urdu naming context gets around the
;;; problem that there may be more than one
;;; instance of a plan if it is called from more
;;; than one place.  These instances are
;;; distinguished by concatenating segment names
;;; with those of the superior lambda-exp seg.

Date: Wednesday, 7 April 1982, 12:17-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Zvona at MIT-AI
Cc: BUG-zwei at MIT-AI

    Date: Wednesday, 7 April 1982, 11:01-EST
    From: David Chapman <Zvona at MIT-AI>
    Fill Long Comment seems to consistently lose on the last
    two lines.
I did fill long comment on the text of your message in lisp mode and it worked correctly.
If that also works for you, could you send me the actual part of the buffer where it fails.
If not, perhaps someone there already incorporated the fix into the MIT sources?

Date: Wednesday, 7 April 1982, 11:01-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.40, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Knowledge-Based-Editor 5.6, microcode 849, Shiny new magic!, on Lisp Machine Twenty-two:

Fill Long Comment seems to consistently lose on the last
two lines.

;;; The Urdu naming context gets around the
;;; problem that there may be more than one
;;; instance of a plan if it is called from more
;;; than one place.  These instances are
;;; distinguished by concatenating segment names
;;; with those
;;; of the superior lambda-exp seg.

F. L. C. w/ 72 col fill =>

;;; The Urdu naming context gets around the problem that there may be
;;; more than one instance of a plan if it is called from more than one
;;; place.  These instances are distinguished by concatenating segment
;;; names with those
;;; of the superior lambda-exp seg.

Date: 7 April 1982 10:22-EST
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject:  Auto filling bugs
To: BUG-ZWEI at MIT-AI
cc: AGRE at MIT-AI

Here are a couple of problems that have been noticed by Phil Agre
and me when we use my FILCOM library.  FILCOM sets up a command
hook that auto-fills Lisp comments -- it checks whether point is
in a comment, and then calls the normal Zwei auto-fill hook.
Thus, these problems occur without FILCOM -- just turn on Auto
Fill mode inside Lisp mode.

I think the most important problem is that breaking a line
doesn't start the next line's comment in the same comment column.
EMACS will copy the comment column from the previous line (as
well as copying the number of ";"s and the whitespace after them,
as does Zwei).  A particular case is when there is a single ; in
column 0 -- I believe EMACS treats that special when indenting
several lines, for example.

The other problem is that when typing new words into the middle
of a comment, the words at the end of the comment line break off
into separate comment lines -- they don't merge with the next
line's comment.  Auto-filling will merge plain (non-comment) text
into the next line, but not comments.  Thus you end up with
something like:

;;; lkj lkj lkj lkj lkj lkj new stuff here lkj lkj lkj lkj lkj
;;; lkj lkj lkj
;;; lkj lkj lkj lkj lkj lkj lkj lkj lkj lkj lkj lkj lkj lkj

Any ideas on this?

Date: Tuesday, 6 April 1982, 17:42-EST
From: David Chapman <Zvona at MIT-AI>
Subject: Sectionization
To: RWK at SCRC-TENEX
Cc: AGRE at MIT-AI, BUG-ZWEI at MIT-AI
In-reply-to: The message of 6 Apr 82 07:34-EST from Robert W. Kerns <RWK at SCRC-TENEX>

    I think all of this can be short-circuited if modified sections get re-sectionized
    whenever you need the sections to be consistent.  

That is what I do now (using check-interval-sections.)  The point
is that that isn't as good as one would like; some of the
information you want isn't there.  Just some of the lossage modes
available:

-- A single section can have any number of functions in it.
There is no way of knowing which have actually changed.

-- New text may go in as inferior to the buffer directly, not of
any section, even if the buffer has been sectionized.

-- The previous and next pointers are not at all trustworthy. 

-- Sections that have been deleted from the text altogether may
persist as inferiors of the buffer.  (This is probably an actual
bug, unlike some of these others, which are non-features.)

In general the sectionization structure just isn't reliable
enough to support the sorts of things that you would like to
build on top of it.  Now my guess is that the (many!) bugs in
Compile Changed Functions could be patched up, because it doesn't
matter to much if you compile a few extra functions.  But it
might even be easier to do the right thing and incrementally
resectionize. 

Date: Tuesday, 6 April 1982  11:35-EST
From: MMCM at SCRC-TENEX
To:   Kent M. Pitman <KMP at MIT-MC>
Cc:   BUG-KBE at MIT-AI, BUG-ZWEI at MIT-AI, RWK at SCRC-TENEX

    Date: 6 April 1982 00:50-EST
    From: Kent M. Pitman <KMP at MIT-MC>
    I think synchronously interrupting the process would be acceptable, too.
    The other process would, I think, be happy if it could pass ZWEI a function
    to be run in the ZWEI stack group. Is there a well-defined way to do this?
    Is it documented?
You can put in a blip whose CAR is :EXECUTE and whose CDR is a function
and arguments for the most general escape.

    How much of all this is prone to change? Extending and interacting with
    the editor as I am trying to do is something I have seen like zero 
    documentation on. Is some planned at some point soon? When I hack anything
    related to Zwei, I have the impression it could break any time. It'd be
    nice to have some idea of what is stable, what is encouraged for use, etc.
There is indeed no documentation yet on the internals of the editor.
At present i could only say that stability of the internals is only based
on how much else in the editor itself depends on it.

Sectionization in particular is likely to get completely rewritten in the
near future.

DULCEY@MIT-ML 04/06/82 05:36:57 Re: Word Abbrev Mode
To: (BUG ZWEI) at MIT-AI
In ZWEI in System 79.38, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Nine:

In reference to the previous message:
One way around it is to store your Word Abbrevs in the form produced
by Insert Word Abbrevs instead of QWABL format.  The Abbrevs can be
restored with Define Word Abbrevs.  This is probably less efficient,
but it works!


Date: Tuesday, 6 April 1982, 07:34-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Sectionalization
To: David Chapman <zvona at MIT-AI>
Cc: AGRE at MIT-AI, BUG-ZWEI at MIT-AI
In-reply-to: The message of 3 Apr 82 18:04-EST from David Chapman <zvona at MIT-AI>

I think all of this can be short-circuited if modified sections get re-sectionized
whenever you need the sections to be consistent.

DULCEY@MIT-ML 04/06/82 02:27:24
To: (BUG ZWEI) at MIT-AI
In ZWEI in System 79.38, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Nine:

If one defines a Word Abbrev containing a Return character (by using
the Make Word Abbrev command, and using Control-Q to make it possible
to type the Return), the abbrev works fine during that editor session.
However, if one stores it in a QWABL file and then tries to read the
QWABL file back in during a future editing session, the Abbrev gets
defined incorrectly!  An example follows:

I created one such Abbrev, and then wrote it into the file FOO QWABL.
The file created looks like this:

m.m& Make Usage Abbrev Variable[V
q..q[..o
MVX foo Fundamental Abbrevfoo
bar2

During the edit which created this file, the abbreviation worked
correctly.  If I typed

  foo

I got

  foo
  bar

as expected.  But after reading the file back in, it's a different
story!  Now, when I type

  foo

I get

  barfoo

(!!)  If I then rewrite the QWABL file, here's what comes out:

m.m& Make Usage Abbrev Variable[V
q..q[..o
MVX foo Fundamental Abbrevbarfoo3


Date: 6 April 1982 00:50-EST
From: Kent M. Pitman <KMP at MIT-MC>
To: MMcM at SCRC-TENEX
cc: RWK at SCRC-TENEX, BUG-KBE at MIT-AI, BUG-ZWEI at MIT-AI

Thanks. MUST-REDISPLAY-OTHER-WINDOWS sounds like it might do fun things.
I'll have a look.

I think synchronously interrupting the process would be acceptable, too.
The other process would, I think, be happy if it could pass ZWEI a function
to be run in the ZWEI stack group. Is there a well-defined way to do this?
Is it documented?

How much of all this is prone to change? Extending and interacting with
the editor as I am trying to do is something I have seen like zero 
documentation on. Is some planned at some point soon? When I hack anything
related to Zwei, I have the impression it could break any time. It'd be
nice to have some idea of what is stable, what is encouraged for use, etc.

Thanks muchly for your help.
 -kmp


Date: Monday, 5 April 1982, 20:43-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: RWK at SCRC-TENEX, Zvona at MIT-AI, BUG-zwei at MIT-AI

I wouldn't want to see more information like this in the mode line; you
just don't need it often enough for it to be made continuously visible.
It would be too distracting and use up too much real estate.

The reason it displays in pixels in Variable Apropos is that it, by
necessity, MUST be in pixels to allow for general font hacking.

However, maybe it should be changed to ALSO display in terms of the
number of spaces in font zero.  This might require a new "variable type"
in Zwei's variable-hacking stuff.

I'd also rather not dump alternate functionality by re-using illegal
argument values.  That is the sort of hackerish user interface that
often bothers people about Emacs; it is fundamentally not a very clear
sort of thing to do.  I'd rather have a general mechanism for handling
variables, and think of c-X F as a "short form" of a commonly used
command, namely, the setting of the fill column.  Reading the fill
column isn't common enough to require a "short form".

Date: Monday, 5 April 1982  17:08-EST
From: MOON at SCRC-TENEX
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   BUG-ZWEI at MIT-MC

    Date: 4 April 1982 01:48-EST
    From: Kent M. Pitman <kmp at MIT-MC>
    To: BUG-ZWEI at MIT-MC

    In system 79.35,...

    The completing buffer name reader beeps as if ambiguous when I type
    "RH " to mean RH 56 CWH; MC: ... It thinks this is ambiguous with 
    RH.PATCHES#> KBE; FS: ... Since a dot immediately follows the
    RH in RH.PATCHEs, this should not be ambiguous.

I fixed this in the source; buffer names will be read with *COMPLETING-DELIMS*
bound to the appropriate characters for completing file names.


Date: Monday, 5 April 1982, 17:46-EST
From: David Chapman <Zvona at MIT-AI>
To: RWK at SCRC-TENEX, BUG-zwei at MIT-AI
In-reply-to: The message of 5 Apr 82 15:13-EST from Robert W. Kerns <RWK at SCRC-TENEX>

    I can't check it now since I'm at home, but Variable Apropos (M-X, HELP-V)
    should tell you what you want to know.
In fact it gives the fill col in pixels which is pretty useless.

Date: Monday, 5 April 1982  16:58-EST
From: MOON at SCRC-TENEX
To:   Kent M. Pitman <kmp at MIT-MC>
Cc:   BUG-ZWEI at SCRC-TENEX
Subject: Extraneous file reads

    Date: 4 April 1982 21:50-EST
    From: Kent M. Pitman <kmp at MIT-MC>
    Subject: Extraneous file reads
    To: BUG-ZWEI at MIT-MC

    When I have a file FOO.BAR#> and I explicitly write it to FOO.BAR#100 (which
    is higher than any existing FOO.BAR), then a Find File occurs (eg, via Tags
    Search), Zwei finds out it needs to use FOO.BAR#100, so reads it from disk
    rather than using it out of my buffer.
Actually Zwei finds out it needs to use FOO.BAR#>, which is not in a
buffer; the buffer you have is explicitly for version 100 and the greatest
version might be bigger than 100.  c-X c-W changes the file name associated
with the buffer.  You can use m-x Set Visited File Name to change the file
of the buffer back to > if that's what you want (i.e. you just wanted to
crank up the version number, not to keep that version explicitly in a
buffer.)

    Additionally, M-X Compile File always prompts for a buffer name to compile,
    yet last time I used it -- many versions ago -- it wanted to always read off
    of disk even when there was an unmodified copy in core. If it's going to use
    the copy off of disk, it might as well prompt for a buffername instead of a 
    filename. I stopped using M-X Compile File as a result of this; now I just
    use QC-FILE or QC-FILE-LOAD from lisp listeners because they seem to do more
    natural things. I wish these were Zwei commands...
m-x Compile File is precisely QC-FILE.  In recent Symbolics software the misleading
prompt for m-x Compile File was fixed and m-x Load File was added, which is
a Zwei command version of QC-FILE-LOAD (it only offers to compile if the source
has changed).

    Accessing files from remote file systems is very slow and cleaning up little
    points like this save a lot of time and hassle ...
It sounds like you're suggesting that when the machine goes to open a file
for input, if that file has been read into an editor buffer it offer to
read from the editor buffer instead?  I guess that could be done although
probably it is only significantly faster when the file is on the AI
machine.

Date:  5 Apr 1982 1513-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
To: Zvona at MIT-AI, BUG-zwei at MIT-AI
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 5-Apr-82 1452-EST

Maybe "Autofill=nn" should appear in the mode line when in autofill mode?
This doesn't solve what to do in non-auto-fill mode; perhaps "Fill=nn" might
be OK when it's not the default value, but mode-line real estate is limitted.

I can't check it now since I'm at home, but Variable Apropos (M-X, HELP-V)
should tell you what you want to know.  I don't like the idea of dumping
alternate functionality on keys by re-using illegal argument values, but the
alternative is often worse.  I'd like other opinions on this.
-------

Date:  4 Apr 1982 2318-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Multiple logins to same machine
To: NLM at MIT-AI, BUG-ZWEI at MIT-AI
cc: RWK at SCRC-TENEX
In-Reply-To: Your message of 4-Apr-82 2312-EST

No, but it's one of the things that should be fixed by the new pathname system.
(It's not part of what was going to be changed, but while I'm at it....)
I would welcome suggestions as to exactly how it should behave.  Reading files
is fairly simple, but what do you do about writing them?  What if both logins
are capable of writing in a directory, which one becomes the file author?

Doing this right probably also depends on the new error system.
-------

Date: 4 April 1982 23:09-EST
From: Neil L. Mayle <NLM at MIT-AI>
To: BUG-ZWEI at MIT-AI

In System 79.40, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental DAEDALUS 33.0, microcode 849, on Lisp Machine Eight:

if i have read a file form my directory on xx (prompts for my password)
and than attempt to read a file from another directory on xx instead of 
asking for a password it craps out.  Has this bug been fixed?

Date: 4 April 1982 21:50-EST
From: Kent M. Pitman <kmp at MIT-MC>
Subject: Extraneous file reads
To: BUG-ZWEI at MIT-MC

In system 79.40, ...

When I have a file FOO.BAR#> and I explicitly write it to FOO.BAR#100 (which
is higher than any existing FOO.BAR), then a Find File occurs (eg, via Tags
Search), Zwei finds out it needs to use FOO.BAR#100, so reads it from disk
rather than using it out of my buffer. Why can't it use the copy that is in
the unmodified buffer, rather than risking my having two initially-identical 
but soon-to-diverge copies of the same stuff in core? ... or at least offer to
do so?

Additionally, M-X Compile File always prompts for a buffer name to compile,
yet last time I used it -- many versions ago -- it wanted to always read off
of disk even when there was an unmodified copy in core. If it's going to use
the copy off of disk, it might as well prompt for a buffername instead of a 
filename. I stopped using M-X Compile File as a result of this; now I just
use QC-FILE or QC-FILE-LOAD from lisp listeners because they seem to do more
natural things. I wish these were Zwei commands...

Accessing files from remote file systems is very slow and cleaning up little
points like this save a lot of time and hassle ...

-kmp


Date: 4 April 1982 01:48-EST
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-ZWEI at MIT-MC

In system 79.35,...

The completing buffer name reader beeps as if ambiguous when I type
"RH " to mean RH 56 CWH; MC: ... It thinks this is ambiguous with 
RH.PATCHES#> KBE; FS: ... Since a dot immediately follows the
RH in RH.PATCHEs, this should not be ambiguous.
-kmp


Date: 3 April 1982 18:04-EST
From: David Chapman <zvona at MIT-AI>
Sender: ___034 at MIT-AI
To: AGRE at MIT-AI, BUG-ZWEI at MIT-AI

Well, that is not a real solution, because I make a lot of my defuns
by copying old ones with m-w c-y.  And it is easy enough to do the
right thing.  The only possible lossage with what I suggested is that
it would make all text insertion/deletion slower, I don't know by
how much.  Possibly the incrementality could be an option for those 
of us that use the sectionization feature a lot.

Date: 3 April 1982 02:51-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: ZVONA at MIT-AI
cc: BUG-ZWEI at MIT-AI

    Date: Friday, 2 April 1982, 13:27-EST
    From: David Chapman <Zvona at MIT-AI>
    In-reply-to: The message of 24 Mar 82 00:52-EST from Philip E. Agre <AGRE at MIT-AI>

    I have had a lot of problems with sectionization in interfacing
    the PA to Zwei also.  Here is a partial analysis and a suggested
    partial solution.

    . . . .

Perhaps a quick hack to get incrementality is to have the "(" key hooked
to a function COM-OPEN-PAREN that checks to see if it's in the first column
and does some appropriate processing or hanging from hooks for later
processing or something.  But then when you move a paren OUT of column 1....
   - phiL

Date: Friday, 2 April 1982, 16:27-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.38, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Knowledge-Based-Editor 5.6, microcode 849, Shiny new magic!, on Lisp Machine Twenty-two:

it would be useful to be able to check the fill column
without setting it.  I suggest that c-x f do this with a
nonpositive argument.

Date: Friday, 2 April 1982, 13:27-EST
From: David Chapman <Zvona at MIT-AI>
To: AGRE at MIT-AI, BUG-ZWEI at MIT-AI
Cc: kmp at MIT-AI
In-reply-to: The message of 24 Mar 82 00:52-EST from Philip E. Agre <AGRE at MIT-AI>

I have had a lot of problems with sectionization in interfacing
the PA to Zwei also.  Here is a partial analysis and a suggested
partial solution.
    Compile Buffer Changed Functions is not very smart about figuring out
    what needs to be compiled.  For example, enter a fresh editor buffer,
    type 

    (defun foo (x) (- x 2))
    (defun bar (y) (+ y 2))

    then do Compile Buffer Changed Functions.  No functions are
    compiled.  
This seems to be because the buffer is not sectionized initially,
so the text of the defuns is in a buffer node, not a section
node.  The buffer has no inferiors, so nothing happens.  There
ought to be a special case check when the buffer has no inferiors
that would first sectionize the buffer.
    Then do Evaluate Buffer, then C-N
    Rubout 4, and Compile Buffer Changed Functions compiles bar.
That is because Evaluate Buffer sectionized it.
    But then do M-< C-U C-K (defun quux (z) (- z 5)) and Compile
    Buffer Changed Functions, and it claims to compile foo. 
Because quux went into foos section-node.

There are a variety of related lossages, all of which depend on
the fact that **sectionization is not kept up-to-date**.  There
is a fix for this, namely completely incremental sectionization.
All buffer modification goes through three functions, namely
insert insert-interval and delete-interval.  Now if these were
made to check for parens in column 0, they could insert, delete,
and merge sections automatically, and the buffer structure would
be up-to-date.  KMP and I actually wrote much of this code, but
eventually decided that it was too drastic a change to make when
we could work around the problem.  

There is another whole class of lossages related to the paren in
col 0 hack and supra-defun list structure.  Consider

(eval-when (compile load)
(defun foo (x) (bar x))

(defun bar (y) (quux y)))

This thing gets three sections.  Now if you change the eval-when
line to

(eval-when (compile load eval)

and do m-X Compile Buffer Changed Functions, you get a read eof
error.  And if you modify bar, you get a read close-at-top-level
error. 

I don't see any easy solution for this one given that the paren in
col 0 hack is required for efficiency.  It is not clear what the
right thing is in any case.  One possibility would be to check
for this sort of situation and errset out the read errors.  This
has the bug that the supradefun information may be required to
make the contained functions compile properly.  An alternative
would be to somehow make contained defuns be in the section of
their containing list (by modifying the col 0 paren heursitic).
This has the disadvantage that if you modify one of the contained
defuns, you have to recompile all of them.  

Perhaps the best solution would be to have a table of the forms
that typically occur at supradefun level and their argument
positions.  Then you could know that the cddr of an eval-when is
an unordered list of forms for evaluation, and thus save
recompiling all the subforms when one is modified.  

Probably this is more trouble than it is worth.  But I think that
incremental sectionization *is* a worthwhile hack.

Date: 2 April 1982 02:54-EST
From: Kent M. Pitman <kmp at MIT-MC>
To: BUG-ZWEI at MIT-AI
cc: RWK at SCRC-TENEX, BUG-KBE at MIT-AI

Assume that the Programmer's Apprentice is running as an independent process
with its own little window and stack group and such. There is a queue of 
requests which the apprentice looks at to decide what to do. When empty, the
apprentice sits bored. From Zwei I know how to submit things to the queue
in a way that the Apprentice will find them. I do not, however, know how to
let the apprentice talk to Zwei in order to have the results put into an
Emacs buffer.

In particular, I need the following function:

  (ZWEI:UPDATE-DISPLAY-OF-INTERVAL-IF-EXPOSED interval)

  Given any interval, if any Zwei editing window is exposed which is displaying
  the given interval, ask that the display of the interval be updated if necessary
  because changes have been made to the interval by an asynchronous process.

This is because the Programmer's Apprentice can find the relevant interval
just fine from the ZWEI:ZMACS-BUFFERS property of functions. Having found the
interval, it can delete the old definition and insert a new one in its place.
If Zwei is displaying the interval at the time, it does not show the modification
unless the guy types Control-L or Clear-Screen or whatever.

Also, there is potential for timing errors when I do this updating of the
interval. If Zwei is simultaneously hacking that interval, one or both may
lose. It would be nice if there were a way I could get a lock on an interval
from another process so that Zwei would momentarily block on modifying that
interval until the Programmer's Apprentice had freed the lock.

I expect some real problems in making this all work without lossage, but
I think it is important to look into these kinds of tasks. It seems, in the
abstract, like just the right thing -- to have the Programmer's Apprentice
be able to be modifying one part of the buffer while I am off modifying another
part. That's sort of what an apprentice is all about.

I would appreciate any ideas/comments on this problem and/or the mode of
interaction I am describing. Getting something powerful like this to work is 
currently a priority issue with the Programmer's Apprentice project. 

Thanks,
 -kmp

Date: Monday, 29 March 1982, 13:36-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: AGRE at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 26 March 1982 22:13-EST
    From: Philip E. Agre <AGRE at MIT-AI>
    Would it be hard to define an editor command like Close Defun
    that would generate enough close-parens to close off the current
    defun?  This would be a nice thing to put on C-).  I can't figure
    out how to write it myself.
Added to the source.

Date: Monday, 29 March 1982, 13:17-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: MT at MIT-AI
Cc: BUG-ZWEI at MIT-EECS

    Date: Friday, 26 March 1982, 23:09-EST
    From: Michael Travers <MT at MIT-AI>
    Could COM-FILL-PARAGRAPH be made clever enough to set its
    own fill prefix if called from in the midst of a
    multi-line LISP comment?
That's what M-X Fill Long Comment is for.

Date: Monday, 29 March 1982, 01:06-EST
From: salz@MIT-AI
Subject: zwei/window system bombed
To: BUG-NWS@EE, bug-zwei@ee

In NWS in System 204.48, ZMail 42.7, microcode 865, 60Hz, on Lisp Machine Eleven:

^^^^^Don't know if all of this is true:   I was using lispm 13 and can't get anything
     to come up, so I'm sending this bug from another lispm while I still have 13's
     screen and error messages in front of me...

I was editing some word abbrevs while in text fill abbrev mode when all of a sudden
I got a message about something like "zwei can't manage its windows"  (there was
essentially no text in my main buffer).  I did a SYSTEM PEEK W to find out where
the hell I was, got the Screen Color and Screen Main Screen lines, a nd then:
Trap 6605 (subscript-oop m-q m-s)
The subscript, 10, was greater than the length, 10, of AR-1
While in the function (method:zwei-zmacs-window name-for-selection)  (method:tv-basic-frame
name-for-selection)  (method:tv-sheet print-self)

I then tried to SYSTEM-E to find out what the error message was and got the
window systems fuckups, using cold stream message.

Hitting ABORT, in another attempt to go back to ZWEI, caused the sucker to die.

Date: Sunday, 28 March 1982, 12:34-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Not Modified in ^X^B
To: Michael Travers <MT at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 27 Mar 82 17:39-EST from Michael Travers <MT at MIT-AI>

    Date: 27 March 1982 17:39-EST
    From: Michael Travers <MT at MIT-AI>
    To: BUG-ZWEI at MIT-AI

    In ZWEI in System 79.34, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    microcode 849, 60.45Hz, on Lisp Machine Four:

    How about a Not Modified item in the menu you get when
    you mouse a line of the C-X C-B display?
I did this in the source.

Date: 28 March 1982 11:54-EST
From: Ken Haase <kwh at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.35, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
DAEDALUS 31.7, Experimental Walt Animation System 6.2, microcode 849, on Lisp Machine Eight:

When you are being prompted by Meta-. for a variable name to type or
mouse, you can't use the scroll bar; the cursor turns into the scroll
bar, but doesn't react to mouse clicks.  (this is a real problem if the
thing you want to mouse is off of the screen) Also, once you start
typing, you don't seem to be able to go back into "mouse-mode"; it would
be nice if you could.


Date: 27 March 1982 17:39-EST
From: Michael Travers <MT at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.34, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Four:

How about a Not Modified item in the menu you get when
you mouse a line of the C-X C-B display?

Date: Friday, 26 March 1982, 20:51-EST
From: Michael Travers <MT at MIT-AI>
To: BUG-ZWEI at EE

In ZWEI in System 204.48, ZMail 42.7, microcode 865, ), on Lisp Machine Nine:

It seems like Set Package ought to be able to take a
package name that doesn't exist yet and create it, the
same way Reparse Mode Line does.

Date: Friday, 26 March 1982, 23:09-EST
From: Michael Travers <MT at MIT-AI>
To: BUG-ZWEI at EE

In ZWEI in System 204.48, ZMail 42.7, microcode 865, ), on Lisp Machine Nine:

Could COM-FILL-PARAGRAPH be made clever enough to set its
own fill prefix if called from in the midst of a
multi-line LISP comment?

Date: 26 March 1982 22:13-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.31, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Knowledge-Based-Editor 2.2, microcode 849, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

Would it be hard to define an editor command like Close Defun
that would generate enough close-parens to close off the current
defun?  This would be a nice thing to put on C-).  I can't figure
out how to write it myself.

Date: Thursday, 25 March 1982, 06:11-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Load File
To: RWK at SCRC-TENEX, HIC at SCRC-TENEX, MMcM at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX

I added M-X Load File in 204.47.  Both it and Compile File don't depend
on the file being in a buffer anymore.  Load File asks whether to save
and whether to Compile, if appropriate.

The code for COM-LOAD-FILE is fairly gross.  I made a function
ZWEI:COMPILE-FILE-P which basically does a SI:FILE-NEWER-THAN-FILE-P,
because I couldn't find a clean interface to the system stuff to do this
operation.

Also, the pathname handling is wierd, because you both want to have a
default and want to let LOAD handle the default.  Unfortuantely
READ-DEFAULTED-PATHNAME returns the merged pathname.  There should
probably be a way to read a pathname, displaying a default, but
returning only the parsed pathname.

Date: Wednesday, 24 March 1982, 09:26-EST
From: Bernard S Greenberg <BSG at SCRC-TENEX>
Subject: Interned pathnames propagating bad information  (old subject!)
To: MOON at SCRC-TENEX, dlw at MIT-AI
Cc: BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX, TURNIP at MIT-AI

    Date: Tuesday, 23 March 1982  15:23-EST
    From: MOON at SCRC-TENEX
    Renaming Set Package to Set Buffer Package and making a new Set Package
    command that updates the -*- line would be all right with me.  I assume
    there would also be Set Base, Set Mode, and maybe Set Lowercase.  Since
    the command would be changed grossly incompatibly (modifying the buffer)
    it might be wise to call the new command Set File Package and make
    Set Package nonexistent.
I dunno.  There is an argument of the form "why don't we just fix the thing to
do what people expect", which militates in favor of fixing the command whose name
implies the obvious thing, i.e., Set Package, to do so, i.e., modify the buffer.
The counter-argument to incompatibility is that fewer people will be scrod per day by
the new incompatibility than by the old poor behavior.

I think your needed command is more of a pkg-goto than a Set Package, and perhaps
Go to Package is the right nomenclature.

Date: 24 March 1982 00:55-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.31, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Knowledge-Based-Editor 2.2, microcode 849, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

C-X C-F in M-X Bug gives a default file name of AI: NIL.

Date: 24 March 1982 00:52-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.31, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Knowledge-Based-Editor 2.2, microcode 849, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

Compile Buffer Changed Functions is not very smart about figuring out
what needs to be compiled.  For example, enter a fresh editor buffer,
type 

(defun foo (x) (- x 2))
(defun bar (y) (+ y 2))

then do Compile Buffer Changed Functions.  No functions are
compiled.  Then move to the end of the foo line, do C-B C-B
Rubout 3, then do Compile Buffer Changed Functions.  No
functions are compiled.  Then do Evaluate Buffer, then C-N
Rubout 4, and Compile Buffer Changed Functions compiles bar.
But then do M-< C-U C-K (defun quux (z) (- z 5)) and Compile
Buffer Changed Functions, and it claims to compile foo. There
are many more strange behaviors that I have come across but have
not been able to characterize sufficiently well to report.
These include functions claiming to be compiled but not changing
their behavior and functions not being compiled even though they
were changed.  I suspect that this has to do with the
"sectioning" of buffers, a process I don't understand (and can't
figure out a good way of doing), but I don't know.  (These
strange behaviors are not restricted to cadr-22, but I have not
run the particular example I gave on another machine, or under
systems 80 or 204.)

Date: Wednesday, 24 March 1982, 00:12-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: C-U prompting
To: RWK at SCRC-TENEX
Cc: AGRE at MIT-AI, BUG-ZWEI at MIT-AI

I agree that I'd rather not have them cover up the mode line; I think
that I don't like the mode line to go away so much.  The C-U stuff seems
to go away as soon as you give the command to which it applies, so it
doesn't cause trash to accumulate on the screen.  Indeed, it is very
important NOT to display C-U when you are NOT in the state of just
having typed the control-U.

I don't know about the who-state.  That's a good problem.

Date: Tuesday, 23 March 1982, 21:00-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Typeing RETURN to Add Patch
To: David Chapman <Zvona at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 23 Mar 82 19:08-EST from David Chapman <Zvona at MIT-AI>

    Date: 23 March 1982 19:08-EST
    From: David Chapman <Zvona at MIT-AI>
    In zwei in System 79.34, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    Tester 20.6, Reasoning Utility Package 1.0,
    Experimental Plan Calculus 1.0, microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

    typing return at the prompt System to patch: beeps and returns.
    It should not allow you to get out without aborting.

It only does this when the buffer you're patching from isn't associated with
a file that is part of any loaded system, since otherwise it knows what system
you want.

In any event, I don't think that I agree (at the moment anyway) that it
shouldn't do what it does.  I don't think it's good policy to have modes
which demand a response and won't let you go; such things can be terribly
confusing for new users of a feature.

Date: 23 March 1982 19:22-EST
From: Andrew L. Ressler <ALR at MIT-ML>
Subject:  C-U prompting
To: MMcM at SCRC-TENEX
cc: DLA at SCRC-TENEX, RWK at SCRC-TENEX, AGRE at MIT-AI,
    BUG-ZWEI at MIT-AI

Why must I see all these dumb test messages?????

Date: 23 March 1982 19:08-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.34, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Tester 20.6, Reasoning Utility Package 1.0,
Experimental Plan Calculus 1.0, microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

typing return at the prompt System to patch: beeps and returns.
It should not allow you to get out without aborting.

Date: Tuesday, 23 March 1982, 18:23-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Zvona at MIT-AI
Cc: BUG-ZWEI at SCRC-TENEX

    Date: Sunday, 21 March 1982, 14:05-EST
    From: David Chapman <Zvona at MIT-AI>
    Interval streams do not back up the pointer on an :untyi.
I got rid of *UNRCHF* in the source.

Date: Tuesday, 23 March 1982, 18:07-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Interned pathnames propagating bad information
To: dlw at MIT-AI
Cc: MOON at SCRC-TENEX, BUG-LISPM at MIT-AI, TURNIP at MIT-AI,
    BUG-ZWEI at SCRC-TENEX, DLA at SCRC-TENEX

I don't like any of these proposals for Set Package changing the mode
line.  I would have been screwed many times by having that behavior.
Instead, why don't we have the following:

Set * (where * is Package, Base, etc.) will NOT update the mode line.
However, it will print a warning that the package is now different from
that in the mode line, and if you really want things to stay this way
you should do M-X Update Mode Line.  This will not screw Moon and me,
and will help naive users to understand what is happening.

A possible extention is that numeric args to Set * will change the mode
line.  To that I would be agreeable.  But please don't make it a
default.

Date: Tuesday, 23 March 1982, 15:35-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Your recent problems
To: Bruce J. Nemnich <BJN at MIT-AI>
Cc: BUG-ZWEI at MIT-AI, BUG-ZMAIL at SCRC-TENEX
In-reply-to: The message of 22 Mar 82 23:17-EST from Bruce J. Nemnich <BJN at MIT-AI>


    Date: Monday, 22 March 1982, 23:17-EST
    From: Bruce J. Nemnich <BJN at MIT-AI>
    In ZWEI in System 79.28, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    Macsyma 26.0, microcode 849, MC, on Lisp Machine Thirteen:

    I was going to look at the source for ZWEI:EXPUNGE-MAIL-FILE, but when I
    did meta-. on it, I got a TRAP 15257 because CC:A-PGF-WMD was unbound.
    'Twas in (SI:FUNCTION-SPEC-GET 'COM-ZMAIL-TYPE 'ZMACS-BUFFERS). The last
    indicator said it was 63% through reading file ai:zmail;comnds >.

    Date: Monday, 22 March 1982, 22:55-EST
    From: Bruce J. Nemnich <BJN at MIT-AI>
    In ZMAIL in System 79.28, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    Macsyma 26.0, microcode 849, MC, on Lisp Machine Thirteen:

    I get an error in ZWEI:EXPUNGE-MAIL-FILE. It gives CDR the argument 622504.
    Actually, it may only do it when I have deleted all my mail messages, but
    I don't think so. In any case, it gives me a TRAP 5344. I don't think I have
    anything funny in my init file...you can look at it in AI:USERS0;BJN ZMAIL.

It sounds to me like your machine was somewhat trashed.  CC:A-PGF-WMD
doesn't have anything to do with ZWEI:EXPUNGE-MAIL-FILE or anything M-.
does.  If you can reproduce it on LM13, try it elsewhere; if it doesn't
happen in other system 79's, LM13 should get a new band from somewhere.

If you can reproduce it elsewhere, please send another note.

Date: Tuesday, 23 March 1982  15:23-EST
From: MOON at SCRC-TENEX
To:   Daniel L. Weinreb <dlw at MIT-AI>
Cc:   BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX, TURNIP at MIT-AI
Subject: Interned pathnames propagating bad information  (old subject!)

Renaming Set Package to Set Buffer Package and making a new Set Package
command that updates the -*- line would be all right with me.  I assume
there would also be Set Base, Set Mode, and maybe Set Lowercase.  Since
the command would be changed grossly incompatibly (modifying the buffer)
it might be wise to call the new command Set File Package and make
Set Package nonexistent.

Date: 23 March 1982 12:21-EST
From: Daniel L. Weinreb <dlw at MIT-AI>
Subject: Interned pathnames propagating bad information
To: MOON at SCRC-TENEX
cc: BUG-LISPM at MIT-AI, TURNIP at MIT-AI, BUG-ZWEI at SCRC-TENEX

I think this is clearly a case for a "sophisticated user" command.  MOST
files, especially those used by non-wizards (that means everybody except
you and a few others) only reside in one package.  I think that Set
Package should change the information in all places and there should be
a special command for the specialized use that you have, with a suitable
name such that it is apparent that it does something unusual (so that
people won't find it with Apropos and assume it is what they want).

Yeah, having Set Package just do an Update Mode Line is probably the
right thing.

Date: Tuesday, 23 March 1982, 09:45-EST
From: Clark M. Baker <CMB at SCRC-TENEX>
Subject: String search
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in System 204.40, ZMail 42.7, LMFS 24.2, Tape 8.0, Canon 12.3,
Symbolics 10.1, microcode 865, on Beagle:

Type Control S, followed by Altmode, followed by Help.  The help
automatically flushes itself.  This seems like a bug.

Date: Tuesday, 23 March 1982, 00:13-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: C-U prompting
To: DLA at SCRC-TENEX
Cc: RWK at SCRC-TENEX, AGRE at MIT-AI, BUG-ZWEI at MIT-AI

    Date: Sunday, 21 March 1982, 20:31-EST
    From: David L. Andre <DLA at SCRC-TENEX>
AGRE: Please let me know if you get this message.  I believe i have fixed the
typo that was causing your mail to get lost at this end.

Date: Tuesday, 23 March 1982, 00:09-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: C-U prompting
To: DLA at SCRC-TENEX
Cc: RWK at SCRC-TENEX, AGRE at MIT-AI, BUG-ZWEI at MIT-AI

    Date: Sunday, 21 March 1982, 20:31-EST
    From: David L. Andre <DLA at SCRC-TENEX>
This is yet another test message to AGRE.

Date: Tuesday, 23 March 1982, 00:05-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: C-U prompting
To: DLA at SCRC-TENEX
Cc: RWK at SCRC-TENEX, AGRE at MIT-AI, BUG-ZWEI at MIT-AI

    Date: Sunday, 21 March 1982, 20:31-EST
    From: David L. Andre <DLA at SCRC-TENEX>
This is another test message to AGRE.

Date: Monday, 22 March 1982, 23:49-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: C-U prompting
To: DLA at SCRC-TENEX
Cc: RWK at SCRC-TENEX, AGRE at MIT-AI, BUG-ZWEI at MIT-AI

    Date: Sunday, 21 March 1982, 20:31-EST
    From: David L. Andre <DLA at SCRC-TENEX>
This is a test message to AGRE.

Date: Monday, 22 March 1982, 23:17-EST
From: Bruce J. Nemnich <BJN at MIT-AI>
Subject: META-.
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.28, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Macsyma 26.0, microcode 849, MC, on Lisp Machine Thirteen:

I was going to look at the source for ZWEI:EXPUNGE-MAIL-FILE, but when I
did meta-. on it, I got a TRAP 15257 because CC:A-PGF-WMD was unbound.
'Twas in (SI:FUNCTION-SPEC-GET 'COM-ZMAIL-TYPE 'ZMACS-BUFFERS). The last
indicator said it was 63% through reading file ai:zmail;comnds >.

Date: Monday, 22 March 1982  15:25-EST
From: MOON at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX, turnip at MIT-AI
Subject: Interned pathnames propagating bad information

    Date: Monday, 22 March 1982, 04:10-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>
    Subject: Interned pathnames propagating bad information
    To: MOON at SCRC-TENEX
    Cc: BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX, turnip at MIT-AI
    In-reply-to: The message of 21 Mar 82 23:40-EST from MOON at SCRC-TENEX

        Date: Sunday, 21 March 1982  23:40-EST
        From: MOON at SCRC-TENEX
    	....
        If it changed the -*- line I would have been shafted about 3 times a day
        by it during the past several weeks.  I don't think it should ever change
        anything about the file either; you only want that behavior because of
        the bug now that Zwei's assumption of a package when none is specified
        gets speciously associated with the file and then you need to undo that
        specious package property.
    Can you explain how you would have been shafted?  I don't see it.  Maybe
    I have a different model of what Set Package means or something.

    I agree it doesn't matter as much if ZWEI didn't remember properties it
    spuriously assumed.

I have been working with a lot of files that temporarily have to exist in
more than one package.  m-x Set Package is the only way to set what package
c-sh-E and c-sh-C use when reading from the buffer.  If it automatically
updated the -*- line I would be totally and completely shafted, because the
buffer would be modified spuriously, and because the file's real package
would be suddenly replaced by the temporary other package.  Having it merely
update the in-core copy of the file's -*- line is mostly not a shaft, since
the -*- line will set it back the next time the file is compiled or loaded
(except in the screw case that was the source of the original bug report,
where someone omitted the Package: in the file's -*- line on the theory that
it would always default to User.)

To get to the point, there are good reasons to have two copies of this
information, and I think the copies should be more separate than they are
now.  Possibly a better user interface would be to have two Set Package
commands, one which updated both copies and one which updated only one
copy, instead of one (half-assed) command that updates part but not all
of both copies.  But the assumption that any particular will only be read
into one package is highly naive.

Date: Monday, 22 March 1982  12:28-EST
From: MMCM at SCRC-TENEX
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX, RWK at SCRC-TENEX,
      turnip at MIT-AI
Subject: Interned pathnames propagating bad information

    Date: Sunday, 21 March 1982, 12:12-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    And Set Package should certainly change the file plist as well as the
    editor's idea.
It does, that is the only place that information is stored in fact.
		    I'd even like to see it change the -*- line in the
    buffer.  It is a real pain having this information around in many
    different places and forms and having to copy it from one to the other,
    since it can become inconsistent so easily.
Should it just do M-X Update Mode Line?

Date: Monday, 22 March 1982, 04:40-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: C-U prompting
To: David L. Andre <DLA at SCRC-TENEX>
Cc: AGRE at MIT-AI, BUG-ZWEI at MIT-AI
In-reply-to: The message of 21 Mar 82 20:31-EST from David L. Andre <DLA at SCRC-TENEX>

    Date: Sunday, 21 March 1982, 20:31-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    My previous curt response was due to the fact that I had to leave to go
    skiing in 5 minutes.  Now that I have time, I will elaborate.  The only
    thing that hasn't been said by others which still bothers me is that the
    numeric arg thing appears in the typein window sometimes, and over the
    mode line at others.  I didn't like the duplicity of seeing C-U's all
    over the bottom of my screen.  I would prefer to see it go over the mode
    line, because that's where I'm use to seeing it.
What do other people think?  Personally, I think it would be more distracting
and would remove valuable information.  I don't like the fact that searches and
M-X and ^X^F all hide the filename from view.

    I also think the whostate should be TYI, not TYPEAHEAD.  There should be
    no distinction from the user's point of view, and it scares me when the
    whostate starts doing wierd things.  (ie, I stop and try to figure out
    what's going on.)
I originally did it that way but thought people might object to having
the status line lying to them.

Date: Monday, 22 March 1982, 04:28-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Load File
To: HIC at SCRC-TENEX
Cc: David L. Andre <DLA at SCRC-TENEX>, BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 21 Mar 82 22:09-EST from HIC at SCRC-TENEX

    Date: Sunday, 21 March 1982  22:09-EST
    From: HIC at SCRC-TENEX
	Date: Sunday, 21 March 1982, 20:49-EST
	From: David L. Andre <DLA>
	    Date: Sunday, 21 March 1982, 02:40-EST
	    From: Howard I. Cannon <HIC at SCRC-TENEX>
	    I'd like to see a "Load File" command to go along with "Compile File"

	Well, before I send a message saying that it took less time to add it to
	the source than to delete this message, let me bring up relevant
	points:  Why does the file in M-X Compile File have to be in an editor
	buffer?  Should M-X Load File offer to save and/or compile the file?
	Should it too have the restriction that the file be loaded into an
	editor buffer?
    Make it the same as Compile Buffer.  If it wasn't in a buffer, I'm not
    sure why I'd want to use an editor command.  Yes, it should offer to save
    the file first I guess.  I'm not sure about compiling -- probably not.
I guess one reason for it to take a buffer is because buffer completion
is faster and less dense than filename completion.  Despite this, I
think M-X Compile File should compile a file, not the file of a buffer,
and M-X Load File should also take a file, not a buffer.  When I've
wanted Load File and Compile File, it's been either because I happened
to be in the editor when I wanted to do it, or because I wanted filename
completion etc.

Date: Monday, 22 March 1982, 04:10-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Interned pathnames propagating bad information
To: MOON at SCRC-TENEX
Cc: BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX, turnip at MIT-AI
In-reply-to: The message of 21 Mar 82 23:40-EST from MOON at SCRC-TENEX



    Date: Sunday, 21 March 1982  23:40-EST
    From: MOON at SCRC-TENEX
	....
    If it changed the -*- line I would have been shafted about 3 times a day
    by it during the past several weeks.  I don't think it should ever change
    anything about the file either; you only want that behavior because of
    the bug now that Zwei's assumption of a package when none is specified
    gets speciously associated with the file and then you need to undo that
    specious package property.
Can you explain how you would have been shafted?  I don't see it.  Maybe
I have a different model of what Set Package means or something.

I agree it doesn't matter as much if ZWEI didn't remember properties it
spuriously assumed.

Date: Sunday, 21 March 1982  23:40-EST
From: MOON at SCRC-TENEX
To:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc:   BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX, RWK at SCRC-TENEX,
      turnip at MIT-AI
Subject: Interned pathnames propagating bad information

    Date: Sunday, 21 March 1982, 12:12-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    Subject: Interned pathnames propagating bad information
    To: RWK at SCRC-TENEX, turnip at MIT-AI
    Cc: BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX

    I agree that Zwei should assume that any file without an explicit
    Package property in its -*- line is in the User package.  I have seen
    people bitten by this several times.  Perhaps the right way to do this
    is to have the file-property-list parser always put in a Package
    property, defaulting to User if there isn't actually any Package
    property in the line, rather than putting the change into Zwei itself.

    And Set Package should certainly change the file plist as well as the
    editor's idea.  I'd even like to see it change the -*- line in the
    buffer.  It is a real pain having this information around in many
    different places and forms and having to copy it from one to the other,
    since it can become inconsistent so easily.
If it changed the -*- line I would have been shafted about 3 times a day
by it during the past several weeks.  I don't think it should ever change
anything about the file either; you only want that behavior because of
the bug now that Zwei's assumption of a package when none is specified
gets speciously associated with the file and then you need to undo that
specious package property.

Date: Sunday, 21 March 1982  22:09-EST
From: HIC at SCRC-TENEX
To:   David L. Andre <DLA at SCRC-TENEX>
Cc:   BUG-ZWEI at SCRC-TENEX

    Date: Sunday, 21 March 1982, 20:49-EST
    From: David L. Andre <DLA>
    To:   HIC
    cc:   BUG-ZWEI, DLA

        Date: Sunday, 21 March 1982, 02:40-EST
        From: Howard I. Cannon <HIC at SCRC-TENEX>

        I'd like to see a "Load File" command to go along with "Compile File"

    Well, before I send a message saying that it took less time to add it to
    the source than to delete this message, let me bring up relevant
    points:  Why does the file in M-X Compile File have to be in an editor
    buffer?  Should M-X Load File offer to save and/or compile the file?
    Should it too have the restriction that the file be loaded into an
    editor buffer?
Make it the same as Compile Buffer.  If it wasn't in a buffer, I'm not
sure why I'd want to use an editor command.  Yes, it should offer to save
the file first I guess.  I'm not sure about compiling -- probably not.

Date: Sunday, 21 March 1982, 20:49-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: HIC at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX, DLA at SCRC-TENEX

    Date: Sunday, 21 March 1982, 02:40-EST
    From: Howard I. Cannon <HIC at SCRC-TENEX>

    I'd like to see a "Load File" command to go along with "Compile File"

Well, before I send a message saying that it took less time to add it to
the source than to delete this message, let me bring up relevant
points:  Why does the file in M-X Compile File have to be in an editor
buffer?  Should M-X Load File offer to save and/or compile the file?
Should it too have the restriction that the file be loaded into an
editor buffer?

Date: 21 March 1982 21:04-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.31, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Six:

1. It would be nice if Ctrl-Shift-A = Hyper-Ctrl-A = Quick Arglist would
   tell you about the fields of a defstruct when asked about its constructor
   function.  E.g., for MAKE-ASTRONAUT it might print (CONSTRUCTOR) :
   (NAME AGE SEX HELMET-SIZE FAVORITE-BEVERAGE).
2. It would also be nice if M-X Bug Zwei would work, avoiding the wait for
   the second (argument) window that just M-X Bug gives you.

Date: Sunday, 21 March 1982, 20:31-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: C-U prompting
To: RWK at SCRC-TENEX
Cc: DLA at SCRC-TENEX, AGRE at MIT-AI, BUG-ZWEI at MIT-AI, DLA at SCRC-TENEX

My previous curt response was due to the fact that I had to leave to go
skiing in 5 minutes.  Now that I have time, I will elaborate.  The only
thing that hasn't been said by others which still bothers me is that the
numeric arg thing appears in the typein window sometimes, and over the
mode line at others.  I didn't like the duplicity of seeing C-U's all
over the bottom of my screen.  I would prefer to see it go over the mode
line, because that's where I'm use to seeing it.

I also think the whostate should be TYI, not TYPEAHEAD.  There should be
no distinction from the user's point of view, and it scares me when the
whostate starts doing wierd things.  (ie, I stop and try to figure out
what's going on.)

Date: Sunday, 21 March 1982, 20:06-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in System 204.39, ZMail 42.7, LMFS 24.1, Tape 8.0, Canon 12.3,
Symbolics 10.1, microcode 865, on Beagle:

Although tv:window-call is defined using &body, Zwei indents as if
it were defined using &rest.  The "body effect" is not happening.

Date: Sunday, 21 March 1982, 16:43-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.33, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Knowledge-Based-Editor 2.2, microcode 849, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

zwei:function-correspondence seems to have an obsolete
idea of the value returned by defintion-text-location.  I
fixed this in the source (on AI).
transfer-correspondence has various other random bugs.  I
conjecture that these functions are not currently being
used and can not be expected to do anything useful?

Date: Sunday, 21 March 1982, 14:24-EST
From: David Chapman <Zvona at MIT-AI>
To: bug-zwei at MIT-AI

I patched the interval-stream :untyi bug by changing the
:read-bp definition to

  ((:UNTYO-MARK :READ-BP) ()
   ;; First, if there is an unread character, discard it and back up one.
   (COND (*UNRCHF*
	  (SETQ *UNRCHF* NIL)
	  (IF (ZEROP *INDEX*)
	      (SETQ *LINE* (LINE-PREVIOUS *LINE*) *INDEX* (LINE-LENGTH *LINE*))
	      (SETQ *INDEX* (1- *INDEX*)))))
   (CREATE-BP *LINE* *INDEX*))

It might be cleaner to eliminate *UNRCHF* altogether.

Date: Sunday, 21 March 1982, 14:05-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.31, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Knowledge-Based-Editor 2.2, microcode 849, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

Interval streams do not back up the pointer on an :untyi.

(setq st (interval-stream (point) (mark)))
#<DTP-CLOSURE mumble>
(funcall st ':read-bp)
("(list)" 0)
(funcall st ':tyi)
40.
(funcall st ':untyi 40)
...
(funcall st ':read-bp)
("(list)" 1)

This breaks the xr-correspondence hack.

Date: Sunday, 21 March 1982, 13:13-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: rwk at SCRC-TENEX
Cc: bug-zwei at SCRC-TENEX

The new arg prompting just helped me out.  I accidentally typed
Control-U instead of Control-Y; I paused because my text wasn't yanked,
and was promptly told what had happened.  Win.

Date: Sunday, 21 March 1982, 13:15-EST
From: David Chapman <Zvona at MIT-AI>
To: bug-zwei at MIT-AI

Why is set-comtab-return-undo a fexpr?  It takes args like
set-comtab.

Date: Sunday, 21 March 1982, 12:12-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Interned pathnames propagating bad information
To: RWK at SCRC-TENEX, turnip at MIT-AI
Cc: BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX

I agree that Zwei should assume that any file without an explicit
Package property in its -*- line is in the User package.  I have seen
people bitten by this several times.  Perhaps the right way to do this
is to have the file-property-list parser always put in a Package
property, defaulting to User if there isn't actually any Package
property in the line, rather than putting the change into Zwei itself.

And Set Package should certainly change the file plist as well as the
editor's idea.  I'd even like to see it change the -*- line in the
buffer.  It is a real pain having this information around in many
different places and forms and having to copy it from one to the other,
since it can become inconsistent so easily.

Date: Sunday, 21 March 1982, 12:36-EST
From: David Chapman <Zvona at MIT-AI>
To: HIC at MIT-AI, BUG-ZWEI at MIT-AI
In-reply-to: The message of 21 Mar 82 02:40-EST from Howard I. Cannon <HIC at SCRC-TENEX>

    I'd like to see a "Load File" command to go along with "Compile File"
Incidentally, why does Compile File prompt for a *buffer*?  

Several other commands prompt for a buffer when it doesn't seem
to make much sense.  Resectionize Buffer for example.  This could
prompt for a buffer with a numeric arg or otherwise (in the only
case I've ever seen it used) take the current buffer.  Or Revert
Buffer similarly.

There are several other commands that seem to take unneccessary
buffer args.  Even Kill Buffer; the only time I give it a buffer
is when the data structure for a buffer is screwed up enough that
I can't select it to kill it.  This could be the action with a
numeric arg.

Date: Sunday, 21 March 1982, 02:40-EST
From: Howard I. Cannon <HIC at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in System 204.39, ZMail 42.6, LMFS 24.1, Tape 8.0, Canon 12.3,
Symbolics 10.1, microcode 865, on Retriever:

I'd like to see a "Load File" command to go along with "Compile File"

Date: Saturday, 20 March 1982, 18:14-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Argument prompting
To: Howard I. Cannon <HIC at SCRC-TENEX>
Cc: BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 19 Mar 82 18:11-EST from Howard I. Cannon <HIC at SCRC-TENEX>


    Date: Friday, 19 March 1982, 18:11-EST
    From: Howard I. Cannon <HIC at SCRC-TENEX>
    This new argument feature SUCKS.  It is too sensitive (namely, even if I
    type Control-U Control-N very fast, it still flashes and distracts me)
    and it doesn't work (go into the mini-buffer and type Control-U).

    If you aren't going to take it out, make it so I can turn it off in my
    init file please.
Try it in 204.38.  It is now under the control of *ARGUMENT-PROMPT-DELAY*,
which controls the delay during which it looks for typeahead.  It can also
be set to NIL, in which case typeahead does not suppress prompting.  In any
case, prompting always occurs with multi-digit arguments (C-1 C-5, or C-U C-U)
on the theory that prompting becomes exponentially more important then.

I initialized *ARGUMENT-PROMPT-DELAY* to 20 (1/3 second).  This seems to
be slow enough that it never prompts for me.  I think it should be fairly
short for the sake of new users and naive users.  If you think it's too
short (or like it some other way) send me mail and it can be changed in
the next system.  In the meantime, set it in your init.

Date: Saturday, 20 March 1982  16:12-EST
From: MOON at SCRC-TENEX
To:   Robert W. Kerns <RWK at SCRC-TENEX>
Cc:   BUG-LISPM at SCRC-TENEX, BUG-ZWEI at SCRC-TENEX
Subject: Let's do our software debugging with an oscilliscope!

The actual bug is that Howard forgot to add (SELF NIL) to *BREAK-BINDINGS*
when installing the new flavor system.

Date: Saturday, 20 March 1982, 07:42-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Interned pathnames propagating bad information
To: Alias for KMP <turnip at MIT-AI>
Cc: BUG-LISPM at MIT-AI, BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 20 Mar 82 01:25-EST from Alias for KMP <turnip at MIT-AI>


    Date: 20 March 1982 01:25-EST
    From: Alias for KMP <turnip at MIT-AI>
    In System 79.25, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
    microcode 849, 60.45Hz, on Lisp Machine Twenty-two:

    I loaded a file into an editor buffer. It had no associated package, so it
    took on the package KBE: because I was already editting a file in that package.
    I am not sure I approve of this behavior.
I am sure that I do not.

    I then wrote the file to AI:KMP;FSF > and FS:KMP;FSF.LISP#>. Then I went into
    a ZWEI breakpoint and did (QC-FILE "AI:KMP;FSF") and it didn't compile right
    because the KBE package shadows LET and I hadn't loaded the shadow definition.
    So I said fine, I'll go to USER:. So I went to a Lisp Listener in USER: and 
    did QC-FILE again the same way, but it still compiled in KBE:. Now since the file
    doesn't have the word KBE: in it anywhere and since I was in USER: in the listener,
    it was odd to me that it should happen this way. I assume the info comes from
    the interned pathnames. This is probably a bug.
No, I wouldn't call this a bug.  What package something is compiled in should
not depend on what package you happen to have current when you compile it.
The package really is a property of a given file.  The problem is just that
the package had never been set currectly.

    So I went back to the editor and did M-X Set PackageUSER and went back to the
    lisp listener and tried again. It still compiled in KBE. That was my bug, because
    the file defaults for the buffer were now AI:KMP;FSF.LISP#>. Fine. So I did
    C-X C-W AI:KMP;FSF > assuming the file properties as now understood by ZWEI for
    the FS: file would correctly be inherited by AI:KMP;FSF > ... they were not. This
    I believe to have been your bug. I went back to my lisp listener and tried the
    QC-FILE again and it still compiled in KBE:.
Yes, I believe this is a bug.  ZWEI should set the properties in the
generic pathname when it writes out a file.
    I went back into the editor and did M-X Set PackageUSER yet again, and sure
    enuf, this time it worked. I was able to compile the file in USER: as I had
    wanted to originally.

    I have seen this screw someone in the past and they didn't have the slightest
    idea what was going on or where the invalid package info was coming from.
    Took me a while looking at their stuff and finally I figured out it was probably
    due to interned pathnames. Interning anything is dangerous unless carfully 
    controlled. I hope these bugs can be fixed to avoid others' future confusion.
Well, I would quibble that the problem is not the interned pathnames.
The problem is the uncontrolled propogation of defaulted information.
Even if it did assume KBE for the package, it should not have saved that
information since it didn't actually know.  When it DID have information
from the user, then it did NOT save it.  It wouldn't matter to the symptoms
whether it saved it in an INTERNED pathname, or as an actual property of
the file on disk.

I think ZWEI should assume USER unless a file has a property list saying
otherwise, and M-X Set Package should SET THE FILE'S PROPERTY LIST.
Also, ^X^W should update the information in the pathname, for the name
it writes out to.

Anyway, thanks for your comments, Kent.  I'll see about getting this
fixed up.

Date: Saturday, 20 March 1982, 07:19-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Let's do our software debugging with an oscilliscope!
To: BUG-LISPM at SCRC-TENEX, BUG-ZWEI at SCRC-TENEX

In System 204.36, ZMail 42.6, LMFS 24.1, Tape 8.0, Canon 12.3,
Symbolics 10.1, microcode 865, on Spaniel:

In ZWEI, do BREAK
(defun foo () standard-input)
(foo) ==> #<DTP-CLOSURE 123723>
(compile 'foo)
(foo) ==> SI:TERMINAL-IO-SYN-STREAM

This ridiculous behaviour combined with the non-closure nature of
SI:TERMINAL-IO-SYN led me to have to figure out why my machine would
halt on something each component of which worked when tried by hand.  No
fun, I say.  Specifically, you can't pass STANDARD-INPUT into a
PROCESS-WAIT, because it will try to allocate a background interactor
and halt.  You can't see that you're really passing in
SI:TERMINAL-IO-SYN-STREAM when doing this in a break loop in ZMACS,
because if you ask for the value of STANDARD-INPUT it lies to you.  The
only way to find out what's happening is to let it halt and debug from
the debugging cable.

Date: Friday, 19 March 1982, 18:11-EST
From: Howard I. Cannon <HIC at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in System 204.36, ZMail 42.6, LMFS 24.1, Tape 8.0, Canon 12.3,
Symbolics 10.1, microcode 865, on Retriever:

This new argument feature SUCKS.  It is too sensitive (namely, even if I
type Control-U Control-N very fast, it still flashes and distracts me)
and it doesn't work (go into the mini-buffer and type Control-U).

If you aren't going to take it out, make it so I can turn it off in my
init file please.

Date: Friday, 19 March 1982, 04:43-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: C-U prompting
To: David L. Andre <DLA at SCRC-TENEX>
Cc: AGRE at MIT-AI, BUG-ZWEI at MIT-AI
In-reply-to: The message of 18 Mar 82 14:10-EST from David L. Andre <DLA at SCRC-TENEX>



    Date: Thursday, 18 March 1982, 14:10-EST
    From: David L. Andre <DLA at SCRC-TENEX>
	Date: Thursday, 18 March 1982, 13:03-EST
	From: Robert W. Kerns <RWK at SCRC-TENEX>
	    Date: 10 March 1982 23:28-EST
	    From: Philip E. Agre <AGRE at MIT-AI>
	    When you type a control-U in Zwei, if no other characters come along
	    for a second or so it should display "C-U " at the bottom of the
	    screen like Emacs does.
	Try 204.34 and tell me what you think.
    I think it sucks.   (Well, you did ask for my opinion.)
OK, so I learned my lesson.  Never ask DLA his opinion.

Actually, want to be more constructive and give some reasons and/or
suggestions?  Do you at least agree that it's better than no prompting
at all?

Date: Friday, 19 March 1982  12:04-EST
From: MMCM at SCRC-TENEX
To:   Kent M. Pitman <KMP at MIT-AI>
Cc:   BUG-ZWEI at MIT-AI

    Date: 18 March 1982 21:19-EST
    From: Kent M. Pitman <KMP at MIT-AI>
    Another misfeature in Query Replace ... When I type "," and it pauses
    waiting for me to approve the change, I can type c-R to edit. When I
    exit the edit, I would like it to be back in the approval wait loop,
    not go ahead with the search blindly.
It does what it does for EMACS compatibility.
I suppose this tty33 type interface could be improved.

Date: 19 March 1982 12:04-EST
From: Danny Hillis <DANNY at MIT-AI>
To: BUG-ZWEI at MIT-AI, BUG-DPL at MIT-AI

In zwei in System 79.26, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
DAEDALUS 31.0, microcode 849, on Lisp Machine Eight:

When using Zwei with Daedalus, I often get a subscript out of
bounds error in TV:SHEET-COMPUTE-MOTION in ZWEI:REDISPLAY. I
happens after returning from an error break to the editor. The
array in the editor. The array in question looks like a line of
the buffer. If I return T from ZWEI:REDISPLAY the error
reappears when I try to refresh, unless I move to the beginning
of the buffer first.

Date: 18 March 1982 21:19-EST
From: Kent M. Pitman <KMP at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.29, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 3.2, microcode 849,
Warning: Black Magic!, on Lisp Machine Twenty-two:

Another misfeature in Query Replace ... When I type "," and it pauses
waiting for me to approve the change, I can type c-R to edit. When I
exit the edit, I would like it to be back in the approval wait loop,
not go ahead with the search blindly.

Date: 18 March 1982 21:17-EST
From: Kent M. Pitman <KMP at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.29, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 3.2, microcode 849,
Warning: Black Magic!, on Lisp Machine Twenty-two:

m-X Tags Query Replace (and presumably just m-X Query Replace, too) tries
to be smart about case conversion. However, if I am doing a replace of 
a string like "8add" with a string like "add-fact", I find that whether
it finds "8ADD" or "8add", it always replaces in "add-fact". For the former
case, I would prefer "ADD-FACT".
-kmp

Date: 18 March 1982 21:14-EST
From: Kent M. Pitman <KMP at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.29, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Experimental Knowledge-Based-Editor 3.2, microcode 849,
Warning: Black Magic!, on Lisp Machine Twenty-two:

I typed m-X and then realized I was just gonna do the same thing as I
did a second ago. So I typed c-G and tried doing c-X Alt, but it was
too late and the m-X buffer came up with no text in it. It should probably
wait until the next m-X command is successfully typed in before flushing
the information about the previous.
-kmp

Date: Thursday, 18 March 1982, 17:14-EST
From: James E. Kulp <JEK at SCRC-TENEX>
Subject: M-X commands
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in System 204.35, ZMail 42.5, Obsolete LMFS 23.18, Tape 8.0,
Symbolics 10.1, Canon 12.3, microcode 865, on Borzoi:

Spaces at the beginning of an extended command should either beep or not be
significant.  As it is they just create confusion by making completion not work.

Date: 18 March 1982 16:21-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: M-Q in CONVERSE
To: BUG-ZWEI at MIT-AI, BUG-CONVERSE at MIT-AI

In ZWEI in System 79.29, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Four:

Filling a paragraph with Meta-Q (COM-FILL-PARAGRAPH) in CONVERSE
can destroy one of those heavy black lines.  Could they be
declared paragraph separators?  Also note that using M-X Undo to
undo the fill makes things look ok, but CONVERSE complains that
the buffer is broken nonetheless, and you need to M-X Regenerate
Buffer.  I am willing to believe that Undo is tempting fate,
since one is not supposed to be killing those lines, but at least
could be protect them from M-Q?

Date: 18 March 1982 16:15-EDT
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: System-M/C/E
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.29, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine Four:

Using the System key (or Terminal-S or the system menu's Select)
to switch between ZMACS and CONVERSE or ZMAIL, the buffer's
*FILL-COLUMN* is not being reset properly.  For example, in a
plain system (no init file), do:

(defun TEXT-MODE-HOOK ()
  (setq zwei:*fill-column* (* 65. 8.)))

(defun LISP-MODE-HOOK ()
  (setq zwei:*fill-column* (* 90. 8.)))

(setq zwei:text-mode-hook 'text-mode-hook
      zwei:lisp-mode-hook 'lisp-mode-hook)

Now do System-E and Meta-X Lisp Mode.  Fill column is now at 90
columns.  Do System-C to enter CONVERSE, which initially turns on
Text mode (but only on CONVERSE startup I guess), setting fill
column to 65 columns.  System-E back to ZMACS and you'll find
that fill column is 65, not 90, columns.

Still within ZMACS, do M-X Lisp Mode to fix that, and System-C
back to CONVERSE -- now CONVERSE's fill column is wrong, at 90.

It looks like not everything per-buffer is being reset when a
Zwei-based subsystem is selected.  (Though I notice that the Tab
key's binding, for one, is correctly reset.)

Date: Thursday, 18 March 1982, 14:10-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: C-U prompting
To: RWK at SCRC-TENEX
Cc: AGRE at MIT-AI, BUG-ZWEI at MIT-AI, DLA at SCRC-TENEX, DLA at SCRC-TENEX

    Date: Thursday, 18 March 1982, 13:03-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>
	Date: 10 March 1982 23:28-EST
	From: Philip E. Agre <AGRE at MIT-AI>
	When you type a control-U in Zwei, if no other characters come along
	for a second or so it should display "C-U " at the bottom of the
	screen like Emacs does.
    Try 204.34 and tell me what you think.
I think it sucks.   (Well, you did ask for my opinion.)

Date: Thursday, 18 March 1982, 13:03-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: C-U prompting
To: Philip E. Agre <AGRE at MIT-AI>
Cc: BUG-ZWEI at MIT-AI, DLA at SCRC-TENEX
In-reply-to: The message of 10 Mar 82 23:28-EST from Philip E. Agre <AGRE at MIT-AI>

    Date: 10 March 1982 23:28-EST
    From: Philip E. Agre <AGRE at MIT-AI>
    When you type a control-U in Zwei, if no other characters come along
    for a second or so it should display "C-U " at the bottom of the
    screen like Emacs does.
Try 204.34 and tell me what you think.  It may be a day or two before
this patch makes it over to MIT, since I'm not sure of the current
state of the setup on EE.

Date: Thursday, 18 March 1982, 04:38-EST
From: ROBERT KERNS <RWK at SCRC-TENEX>
To: GJC at MIT-MC
Cc: bug-zwei at SCRC-TENEX
In-reply-to: The message of 16 Mar 82 23:13-EST from GJC at MIT-MC


    From: GJC@MIT-MC
    Date: 03/16/82 23:13:59

    [1] "META-X LIST FILES" does not work (appears to be unimplemented)
	 for the VAX-VMS file server.
It's not unimplemented.  For some reason I haven't tracked down yet it
does not work with the M-X List Files command.  It does work to do
C-U C-X C-D, however.  I'll track this down and get a new file server
on your favorite VMS soon.

    [2] There does not appear to be a spelling-correction command like the
	META-$ command in ITS-EMACS.
I believe people are currently looking into suitable dictionaries.

Date: Thursday, 18 March 1982, 03:36-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Typo fixed
To: Kent M. Pitman <kmp at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 17 Mar 82 01:08-EST from Kent M. Pitman <kmp at MIT-AI>

    Date: 17 March 1982 01:08-EST
    From: Kent M. Pitman <kmp at MIT-AI>
    In System 79.26, ZMail 40.7, ... microcode 849, ... on Lisp Machine Twenty-two:

    In Kill or Save Buffers (on editor menu), the mouse documentation has
    an apparent typo. For most places the mouse can be on menu, it says:

       Any button an a box to complement its state
Someone seems to have fixed this typo in the source.
(In (:method :basic-multiple-choice :who-line-documentation-string)).

Date: Wednesday, 17 March 1982, 20:04-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Taft at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 16 March 1982 23:16-EST
    From: Jonathan D. Taft <Taft at MIT-AI>
    If you mouse select them to be saved while having a different buffer
    selected on the screen, which does have an associated filename; then
    the editor prompts you at the bottom of the screen for a filename under
    which to store the other previously unstored buffer without giving any
    indication of which buffer it is asking about. The real screw is that
    the default it supplies is for the currently selected and displayed
    buffer, not the one it is trying to save. (Control-X Control-S in such
    a previously unsaved buffer would give you a reasonable default.)

Fixed in the source.

Date: 17 March 1982 01:31-EST
From: Barry Margolin <BARMAR at MIT-MC>
Subject: word-modifying commands
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.24, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60 Hz., on Lisp Machine Five:

If I just typed a word (haven't even typed a space), I should be able to
use one of the word-modifying commands on that word without having to
specify a numeric argument of -1.  I am referring to commands like M-U
and M-L.  I think that this behavior would more useful than the current
one, which gives one the ability to uppercase a word starting from the
middle.  I almost always want to capitalize or uppercasify the word I
just typed.  Perhaps an explicit numeric argument should get the current
behavior (M-1 M-U does what M-U does now, while just M-U uppercasifies
the entire "current" word).
					barmar

Date: 17 March 1982 01:24-EST
From: Kent M. Pitman <kmp at MIT-AI>
To: BUG-ZWEI at MIT-AI

In system 79.26 on Cadr-22:

If I do C-X C-F when the defaults are FS: KBE; FOO.LISP#>,
and I type BAR<cr> it thinks I mean BAR#> when I mean BAR.LISP#>
I should think that if I wanted a null extension, I would type
BAR.<cr> ... It is rare to want a null extension (for me at least),
so I should think it should be made hard.
-kmp

Date: 17 March 1982 01:08-EST
From: Kent M. Pitman <kmp at MIT-AI>
To: BUG-ZWEI at MIT-AI

In System 79.26, ZMail 40.7, ... microcode 849, ... on Lisp Machine Twenty-two:

In Kill or Save Buffers (on editor menu), the mouse documentation has
an apparent typo. For most places the mouse can be on menu, it says:

   Any button an a box to complement its state
 
-kmp

Date: 16 March 1982 23:16-EST
From: Jonathan D. Taft <Taft at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.28, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Eight:

With regard to the use of the Kill-or-Save-Buffers menu with buffers
which have been named but never filed out and are lacking a filename.

If you mouse select them to be saved while having a different buffer
selected on the screen, which does have an associated filename; then
the editor prompts you at the bottom of the screen for a filename under
which to store the other previously unstored buffer without giving any
indication of which buffer it is asking about. The real screw is that
the default it supplies is for the currently selected and displayed
buffer, not the one it is trying to save. (Control-X Control-S in such
a previously unsaved buffer would give you a reasonable default.)


GJC@MIT-MC 03/16/82 23:13:59
To: (BUG ZWEI) at MIT-AI
In ZWEI in System 79.28, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, Mathlab, on Lisp Machine Fifteen:

[1] "META-X LIST FILES" does not work (appears to be unimplemented)
     for the VAX-VMS file server.

[2] There does not appear to be a spelling-correction command like the
    META-$ command in ITS-EMACS.



Date: 16 March 1982 04:56-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.23, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Eight:

If you put (defun foo (x) 1) into an editor buffer, do C-T-E over it, then
mouse-click-right and select Compile Defun, then (grindef foo) will say
(defun foo (x) 1).  However, if you then go back into the editor and change
the 1 to a 2 so as to get (defun foo (x) 2) and mouse-click-right and select
Compile Defun, doing (grindef foo) will still say (defun foo (x) 1).  This
is a bug in that grindef describes a definition different from the actual
definition.  Whether you redefine a function using the interpreter or the
compiler should have no effect on functions that tell you about the nature
of the current definition.

Date: Sunday, 14 March 1982, 20:58-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: Zvona at MIT-AI
Cc: BUG-zwei at MIT-AI, DLA at SCRC-TENEX

    From: David Chapman <Zvona at MIT-AI>
    Why isn't Count Occurences on m-X Count Occurences?
Fixed in the source.

Date: Sunday, 14 March 1982, 16:09-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.26, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, Eye-saving, on Lisp Machine Six:

Why isn't Count Occurences on m-X Count Occurences?

DULCEY@MIT-MC 03/14/82 15:31:34
To: (BUG ZWEI) at MIT-AI
In ZWEI in System 79.18, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.2,
Macsyma 30.0, microcode 849, 60Hz, on Lisp Machine Sixteen:

In Word Abbrev Mode, it is impossible to define a Greek letter as a word abbrev.
(ZWEI will let you, all right, but it won't expand!)

For example:
LAMBDA#\control-x#\control-aL#\cr	wins, but

LAMBDA#\control-x#\control-a#\cr	loses.

(These were actually typed as control characters, not as shown above.
I typed them that way here so you could see them.)


Date: Sunday, 14 March 1982, 02:21-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 204.26, Experimental ZMail 42.4,
Experimental LMFS 23.18, Experimental Tape 8.0,
Experimental Symbolics 10.1, Experimental Canon 12.3, microcode 865, on Spaniel:

It seems that, after the first time I do M-. INTERVAL-IO, Zwei must
resectionize the buffer every time to find it.

Date: Saturday, 13 March 1982, 11:20-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Comtabs
To: kmp at MIT-MC
Cc: bug-zwei at SCRC-TENEX

Changes to the standard comtab apply to all editors everywhere, including little
ones that pop up.  Changes to zmacs-comtab affect only Zmacs, the editor that
edits files.  For example, buffer-switching and listing commands are on zmacs-comtab,
while basic text manipulation and moving forward over words and stuff are on
the standard comtab.

kmp@MIT-MC 03/13/82 01:36:11 Re: Sticky fonts
To: (BUG ZWEI) at MIT-AI
In System 79.26, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Programmer's Apprentice 21.9, microcode 849, PA 21.7, on Lisp Machine Twenty-two:

Odd. I was in a buffer which had

  ;;; -*- Mode:LISP; Package:KBE; Base:10; Fonts:MEDFNB; -*-

for its file property list and which was being properly displayed
in MEDFNB. I then read a file into another buffer which had

  ;;; -*- Mode:TEXT; Fonts:CPTFONT; -*-

for its file property list. When I switched back to the first buffer,
I was in CPTFONT instead of MEDFNB. I had to do M-X Reparse Mode Line
to get things back to normal. Now switching buffers between those two
no longer causes that problem.

On a related issue, I think that once a buffer is displayed in a given 
font, it should remember that font and not change it unless asked to do 
so. It is too confusing/annoying to have fonts be sticky from buffer 
in the way they currently are.

-kmp


kmp@MIT-MC 03/13/82 01:16:49 Re: Comtabs
To: (BUG ZWEI) at MIT-MC
I have various pieces of Zwei-hacking code stolen from one place or
another. Some set the comtab *STANDARD-COMTAB* and some set *ZMACS-COMTAB*.
What is the difference between these? I am interested in setting some
things totally globally (eg, my ^M = Return synonym), while other things
I want to work only in a normal window and not in the little windows that
pop up in the echo area for M-X, M-Alt, etc.


kwh@MIT-AI 03/12/82 23:03:07 Re: Attaching keyboard macros to keys.
To: (BUG ZWEI) at MIT-AI
CC: KWH at MIT-AI
In ZWEI in System 79.19, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, 60.45Hz, on Lisp Machine One:

How do I attach a keyboard macro to a key.  I tried naming it and then
setting a key to it, but it didn't work.

Date: Friday, 12 March 1982, 15:39-EST
From: Dan Gerson <DanG at SCRC-TENEX>
Subject: completing read
To: User-Interface at SCRC-TENEX
Cc: Bug-zwei at SCRC-TENEX

I think that <return> should not complete; if I want completion, I can type
<altmode>, or <end> depending upon what I want to do.

An example of how <return> currently screws users is if they want to
create a new buffer with a name which may be completed to an existing
name.  Say I want a buffer named "B", not BUFFER-n.  After I blew up
MMcM told me I could type c-<return>.  Now, c-<return> isn't documented
in any of the usual places, neither from the help message for completing
read, nor from Describe Command, since c-<return> is
COM-COMPLETE-AND-EXIT just the same as <return>. COM-COMPLETE-AND-EXIT
does a special check to see if the control bit was set.  Bletch.

Isn't it more consistant for <return> to mean exit, <end> to mean complete
and exit if unique, and <altmode> to mean complete?

Date: Friday, 12 March 1982, 08:56-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: com-display-directory loses on asking new pathname
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 204.23, Experimental ZMail 42.3,
Experimental LMFS 23.18, Experimental Tape 8.0,
Experimental Symbolics 10.1, Experimental Canon 12.1, microcode 865, on Beagle:

When COM-DISPLAY-DIRECTORY asks for a new pathname, when it displays
the directory, the pathname it displays at the top of the screen is
the original one, not the corrected one.  E.g. ^U^X^D SCRC:<LMMAN>*.XGP
and when you get the bogus TENEX error, give it <RWK>*.XGP instead.

Date: 12 March 1982 03:01-EST
From: Kent M. Pitman <KMP at MIT-AI>
To: BUG-ZWEI at MIT-AI

In System 79.23, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
Programmer's Apprentice 21.7, microcode 849, PA 21.7, on Lisp Machine Twenty-two:

When M-X Rename File is done on a file which is also in a buffer, it would
be nice if Zwei would offer to rename the buffer appropriately so that the
buffer didn't accidentally get written out to the wrong place later on.

Date: Thursday, 11 March 1982, 14:15-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Printing numerical args.
To: KWH at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 11 March 1982 00:53-EST
    From: Ken Haase <KWH at MIT-AI>
    Maybe instead of typing out Control-u, it should type out 4,16,64.... instead.
    (With the same for Control-<digit> commands)
That would be wrong, since a fair number of commands distinguish an
argument of C-U from an argument of 4.

Date: Thursday, 11 March 1982, 04:50-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
To: David L. Andre <DLA at SCRC-TENEX>
Cc: MMCM at SCRC-TENEX, BUG-ZWEI at SCRC-TENEX, bug-lispm-scrc at SCRC-TENEX
In-reply-to: The message of 10 Mar 82 18:36-EST from David L. Andre <DLA at SCRC-TENEX>

    Date: Wednesday, 10 March 1982, 18:36-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    To: MMCM at SCRC-TENEX
    Cc: BUG-ZWEI at SCRC-TENEX, bug-lispm-scrc at SCRC-TENEX, DLA at SCRC-TENEX

	Date: Wednesday, 10 March 1982  16:52-EST
	From: MMCM at SCRC-TENEX
	    Date: Wednesday, 10 March 1982, 02:48-EST
	    From: W. E. (Todd) Matson <Matson at SCRC-POINTER>
	    The "Copy File" command fails when copying a file to the LOCAL: host.
	    It dies trying to change the creation date of the file.
	The problem is really in the local file system.  Probably the correct fix
	is to have a default method for change-properties on si:file-stream-mixin
	which passes it on to the pathname.
    This won't work if the pathname is :NEWEST, as well as some other
    obscure cases.  :CHANGE-PROPERTIES should be made to be a required method.

The default method I added just does
(LEXPR-FUNCALL (FUNCALL-SELF ':TRUENAME) ':CHANGE-PROPERTIES ARGS)

:TRUENAME is already a required method.

Date: Thursday, 11 March 1982, 04:46-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Copy File on LOCAL: host
To: MMCM at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX, bug-lispm-scrc at SCRC-TENEX
In-reply-to: The message of 10 Mar 82 16:52-EST from MMCM at SCRC-TENEX

    Date: Wednesday, 10 March 1982  16:52-EST
    From: MMCM at SCRC-TENEX
	Date: Wednesday, 10 March 1982, 02:48-EST
	From: W. E. (Todd) Matson <Matson at SCRC-POINTER>
	The "Copy File" command fails when copying a file to the LOCAL: host.
	It dies trying to change the creation date of the file.
    The problem is really in the local file system.  Probably the correct fix
    is to have a default method for change-properties on si:file-stream-mixin
    which passes it on to the pathname.
Done in 204.21.

Date: 11 March 1982 00:53-EST
From: Ken Haase <KWH at MIT-AI>
Subject:   Printing numerical args.
To: BUG-ZWEI at MIT-AI


Maybe instead of typing out Control-u, it should type out 4,16,64.... instead.
(With the same for Control-<digit> commands)

-Ken

HANSON@MIT-MC 03/11/82 00:13:29
To: (BUG zwei) at MIT-AI
In System 78.58, ZMail 38.5, Local-File 32.15, Experimental DAEDALUS 29.9, microcode 849, on Lisp Machine Two:

If you do a View Directory, and it hangs in --More--, and you then type c-X c-F,
then it will leave the directory opened forever.


Date: 10 March 1982 23:28-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.21, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, Eye-saving, on Lisp Machine Six:

When you type a control-U in Zwei, if no other characters come along
for a second or so it should display "C-U " at the bottom of the
screen like Emacs does.

Date: Wednesday, 10 March 1982, 22:23-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: DLA at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX

    Date: Wednesday, 10 March 1982, 21:25-EST
    From: David L. Andre <DLA at SCRC-TENEX>
    In Experimental System 204.18, Experimental ZMail 42.1,
    Experimental LMFS 23.15, Experimental Tape 8.0,
    Experimental Symbolics 10.1, Experimental Canon 12.1, microcode 865, on Basset:

    Auto Fill mode doesn't interract correctly with diagrams.  If you insert
    enough into the last line of a conversation so that it must put some
    words on the next line, it bombs out.
Works fine for me.  Did you really experience the bug in the above numbered system?

Date: Wednesday, 10 March 1982, 21:25-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In Experimental System 204.18, Experimental ZMail 42.1,
Experimental LMFS 23.15, Experimental Tape 8.0,
Experimental Symbolics 10.1, Experimental Canon 12.1, microcode 865, on Basset:

Auto Fill mode doesn't interract correctly with diagrams.  If you insert
enough into the last line of a conversation so that it must put some
words on the next line, it bombs out.

Date: Wednesday, 10 March 1982, 18:36-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: MMCM at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX, bug-lispm-scrc at SCRC-TENEX, DLA at SCRC-TENEX

    Date: Wednesday, 10 March 1982  16:52-EST
    From: MMCM at SCRC-TENEX
	Date: Wednesday, 10 March 1982, 02:48-EST
	From: W. E. (Todd) Matson <Matson at SCRC-POINTER>
	The "Copy File" command fails when copying a file to the LOCAL: host.
	It dies trying to change the creation date of the file.
    The problem is really in the local file system.  Probably the correct fix
    is to have a default method for change-properties on si:file-stream-mixin
    which passes it on to the pathname.
This won't work if the pathname is :NEWEST, as well as some other
obscure cases.  :CHANGE-PROPERTIES should be made to be a required method.

Date: Wednesday, 10 March 1982  16:52-EST
From: MMCM at SCRC-TENEX
cc:   W. E. (Todd) Matson <Matson at SCRC-POINTER>
to:   BUG-ZWEI at SCRC-TENEX, bug-lispm-scrc at SCRC-TENEX

    Date: Wednesday, 10 March 1982, 02:48-EST
    From: W. E. (Todd) Matson <Matson at SCRC-POINTER>
    The "Copy File" command fails when copying a file to the LOCAL: host.
    It dies trying to change the creation date of the file.
The problem is really in the local file system.  Probably the correct fix
is to have a default method for change-properties on si:file-stream-mixin
which passes it on to the pathname.

Date: Wednesday, 10 March 1982, 02:48-EST
From: W. E. (Todd) Matson <Matson at SCRC-POINTER>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 204.18, Experimental ZMail 42.1,
Experimental LMFS 23.16, Experimental Tape 8.0,
Experimental Symbolics 10.1, Experimental Canon 12.1, microcode 865, on Retriever:

The "Copy File" command fails when copying a file to the LOCAL: host.
It dies trying to change the creation date of the file.

Date: Monday, 8 March 1982, 18:30-EST
From: Clark M. Baker <CMB at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 204.18, Experimental ZMail 42.1,
Experimental LMFS 23.15, Experimental Tape 8.0,
Experimental Symbolics 10.1, Experimental Canon 12.1, microcode 865, on Retriever:

Do a ^X ^B.  Click right on one of the buffers.  Select Kill.  Then type
a space to make the buffer display go away.  How come it inserts a space
in addition to making the display go away?

Date: Monday, 8 March 1982, 17:56-EST
From: Clark M. Baker <CMB at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX, user-interface at SCRC-TENEX

In ZWEI in Experimental System 204.18, Experimental ZMail 42.1,
Experimental LMFS 23.15, Experimental Tape 8.0,
Experimental Symbolics 10.1, Experimental Canon 12.1, microcode 865, on Retriever:

Why does ^X ^B have a column labeled Lines which sometimes contains a
count of lines in the buffer, and sometimes contains the version number
of the file?  It seems like there should be two columns, one for the
number of lines and one for the version number.

Date: Monday, 8 March 1982, 12:57-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Case-sensitive-search
To: RWK at SCRC-TENEX
Cc: JWALKER at SCRC-TENEX, BUG-ZWEI at SCRC-TENEX

    Date: Saturday, 6 March 1982, 16:25-EST
    From: Robert W. Kerns <RWK at SCRC-TENEX>
	Date: Friday, 5 March 1982, 10:18-EST
	From: Jan Walker <JWALKER at SCRC-TENEX>
	       Where's "fs bothcase"?
	    Gee, where'd you pick that one from?  It's a TECO "FS flag".  It controls whether
	    searches are case-sensitive or not.  Has this anachronism made it into ZWEI?
	Come on.  Of course I know it's a teco flag.  I was taking a short cut
	by using the quotes.  What I should have said was "Where's the ZWEI
	analog of fs bothcase?  I need case-sensitive searches."  Sorry.  But I
	guess I have my answer: "There isn't any".  Right?

    Sorry, I seem to have misunderstood.  I can't keep track of who does and
    doesn't know TECO.  It seemed perfectly plausible that you ran across
    "FS Bothcase" in some documentation or help text, and were complaining
    about seeing that.  In fact, I have memories of seeing something like
    that somewhere myself.  So I mis-parsed "where's" into "what's".

    So this time to answer the question you really asked: If there is one, I
    can't find it either.
M-X Set Variable/Alphabetic Case Affects Search/T in the next system.
This took slightly less time to add than it has taken to delete all these messages.

Date: Saturday, 6 March 1982, 16:25-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Case-sensitive-search
To: Jan Walker <JWALKER at SCRC-TENEX>
Cc: BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 5 Mar 82 10:18-EST from Jan Walker <JWALKER at SCRC-TENEX>

    Date: Friday, 5 March 1982, 10:18-EST
    From: Jan Walker <JWALKER at SCRC-TENEX>
	   Where's "fs bothcase"?
	Gee, where'd you pick that one from?  It's a TECO "FS flag".  It controls whether
	searches are case-sensitive or not.  Has this anachronism made it into ZWEI?
    Come on.  Of course I know it's a teco flag.  I was taking a short cut
    by using the quotes.  What I should have said was "Where's the ZWEI
    analog of fs bothcase?  I need case-sensitive searches."  Sorry.  But I
    guess I have my answer: "There isn't any".  Right?

Sorry, I seem to have misunderstood.  I can't keep track of who does and
doesn't know TECO.  It seemed perfectly plausible that you ran across
"FS Bothcase" in some documentation or help text, and were complaining
about seeing that.  In fact, I have memories of seeing something like
that somewhere myself.  So I mis-parsed "where's" into "what's".

So this time to answer the question you really asked: If there is one, I
can't find it either.

Date: 5 March 1982 16:47-EST
From: Patrick G. Sobalvarro <PGS at MIT-AI>
To: BUG-ZWEI at MIT-AI

It would be nice if the screen blinker remained blinking during an
i-search, because it's really difficult to spot it on a crowded
screen.

-pgs

Date: Friday, 5 March 1982, 10:18-EST
From: Jan Walker <JWALKER at SCRC-TENEX>
Subject: Case-sensitive-search
To: RWK at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX

       Where's "fs bothcase"?
    Gee, where'd you pick that one from?  It's a TECO "FS flag".  It controls whether
    searches are case-sensitive or not.  Has this anachronism made it into ZWEI?
Come on.  Of course I know it's a teco flag.  I was taking a short cut
by using the quotes.  What I should have said was "Where's the ZWEI
analog of fs bothcase?  I need case-sensitive searches."  Sorry.  But I
guess I have my answer: "There isn't any".  Right?

Date: Thursday, 4 March 1982  14:10-EST
From: MOON at SCRC-TENEX
To:   Jan Walker <JWALKER at SCRC-TENEX>
Cc:   BUG-ZWEI at SCRC-TENEX
Subject: Switching windows while typeout is displayed in the editor makes the blinkers funny

This is due to fundamental conceptual errors in the way selection works.
This is one of the things (perhaps the main thing) that will be fixed by
the new "activity system" that HIC is going to find the time to work on
one of these months.  In the meantime there isn't a reasonable way to fix it.
The problem is basically that switching programs (e.g. between the editor
and zmail) is all mixed up internally with switch windows (e.g. between the
normal editor window, the editor typeout window (e.g. Apropos output),
and the editor mini-buffer).

Date: Thursday, 4 March 1982, 14:11-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Case-sensitive-search
To: Jan Walker <JWALKER at SCRC-TENEX>
Cc: BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 4 Mar 82 10:30-EST from Jan Walker <JWALKER at SCRC-TENEX>

    Date: Thursday, 4 March 1982, 10:30-EST
    From: Jan Walker <JWALKER at SCRC-TENEX>

    Where's "fs bothcase"?
Gee, where'd you pick that one from?  It's a TECO "FS flag".  It controls whether
searches are case-sensitive or not.  Has this anachronism made it into ZWEI?

    I need to be able to do case-sensitive searches every once in a while.
Maybe this should be a subcommand of hairy string search?

Date: Thursday, 4 March 1982, 13:32-EST
From: David Chapman <Zvona at MIT-AI>
To: bug-zwei at MIT-AI

In zmail in System 79.19, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.3,
microcode 849, on Lisp Machine Twenty-two:

If I have a buffer containing the file FOO which is read only and
then write a new version of FOO by some means other than Zmacs
and then c-x c-f FOO it barfs that there is a new FOO, do I want
it?  When I say yes, it loses because the buffer is read-only and
tries to write the new FOO over the old one.

Date: Thursday, 4 March 1982, 10:37-EST
From: Jan Walker <JWALKER at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 204.5, Experimental ZMail 42.0,
Experimental LMFS 23.4, Experimental Tape 8.0,
Experimental Symbolics 10.0, Experimental Canon 12.0, microcode 865, on Boxer:

I'm not sure how to describe this.  BSG thinks it is a bug.  I had typed
in something that had parens and the cursor was sitting after the close
paren.  Then I did an Apropos and then immediately did SYSTEM M to send
some mail.  When I came back to the editor, the typeout was still on the
screen (that's OK), the cursor was back to where it would have been if
the typeout hadn't been there (unsure whether that's OK) and the
matching open paren was blinking away in the midst of the typeout (sure
that is not OK).  

Maybe someone can take some time to talk to me about what windows are
involved in this and whether I ought to regard it as a bug or not.

Date: Thursday, 4 March 1982, 10:30-EST
From: Jan Walker <JWALKER at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 204.5, Experimental ZMail 42.0,
Experimental LMFS 23.4, Experimental Tape 8.0,
Experimental Symbolics 10.0, Experimental Canon 12.0, microcode 865, on Boxer:


Where's "fs bothcase"?

I need to be able to do case-sensitive searches every once in a while.

Date: Wednesday, 3 March 1982, 20:47-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Per-file Shift Lock Mode
To: KWH at MIT-AI
Cc: BUG-ZWEI at MIT-AI, DLA at SCRC-TENEX

    Date: 3 March 1982 19:58-EST
    From: Ken Haase <KWH at MIT-AI>

    Is their a way to set Electric Shift Lock Mode in the mode line?  I know
    about ZWEI:ELECTRIC-SHIFT-LOCK-MODE-IF-APPROPRIATE (or whatever), but I
    would like it to be on a per-file basis; If it is implemented, Update
    Mode Line doesn't do the right thing, and if it is not, how hard would
    it be to put in?  It seems inconsistent that Font Lock Mode is on a
    per-file basis while Shift Lock Mode isn't.

Do you know about the Lowercase property?  If a file has this
property, then E-S-L-IF-APPROPRIATE won't put it Electric Shift Lock
mode (Blue manual, page 370).

Second, if this is not what you want, you can define your own file
properties; see the blue manual, page 371.

Date: Wednesday, 3 March 1982, 20:37-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Per-file Shift Lock Mode
To: KWH at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 3 March 1982 19:58-EST
    From: Ken Haase <KWH at MIT-AI>
    Is their a way to set Electric Shift Lock Mode in the mode line?  I know
    about ZWEI:ELECTRIC-SHIFT-LOCK-MODE-IF-APPROPRIATE (or whatever), but I
    would like it to be on a per-file basis; If it is implemented, Update
    Mode Line doesn't do the right thing, and if it is not, how hard would
    it be to put in?  It seems inconsistent that Font Lock Mode is on a
    per-file basis while Shift Lock Mode isn't.

ZWEI:ELECTRIC-SHIFT-LOCK-MODE-IF-APPROPRIATE honors a Lowercase property
in the mode line.


Date: 3 March 1982 19:58-EST
From: Ken Haase <KWH at MIT-AI>
Subject: Per-file Shift Lock Mode
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.18, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.2,
microcode 849, 60.45Hz, on Lisp Machine Nine:

Is their a way to set Electric Shift Lock Mode in the mode line?  I know
about ZWEI:ELECTRIC-SHIFT-LOCK-MODE-IF-APPROPRIATE (or whatever), but I
would like it to be on a per-file basis; If it is implemented, Update
Mode Line doesn't do the right thing, and if it is not, how hard would
it be to put in?  It seems inconsistent that Font Lock Mode is on a
per-file basis while Shift Lock Mode isn't.

Date: Sunday, 28 February 1982, 01:17-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 203.8, Experimental ZMail 42.0,
Experimental LMFS 23.1, Experimental Tape 8.0,
Experimental Symbolics 10.0, Experimental Canon 11.1, microcode 864, on Beagle:

In M-X Disassemble, if you type the name of a function that exists in a
certain buffer, it will complete.  However, if you're in a different
package, the editor will beep, complaining that the function is
undefined.

Date: 27 February 1982 12:39-EST
From: Danny Hillis <DANNY at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in Experimental System 79.8, ZMail 40.7,
Experimental LMFILE Remote 4.1, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, 79.5 RM 4.1, on Lisp Machine Two:

I tried to send mail to bug-@.  Zwei barfed paring the header.  
I guess there may be no way to win on that.

If you have a file with fewer fonts in the header than their are 
fonts used in the body, you can't even read the file in to fix it.
Specifically, 9 loses horribly if you only have one font in the
fonts: declaration.

Date: 26 February 1982 15:28-EST
From: Betty Dexter <BETTYD at MIT-AI>
To: ZVONA at MIT-AI, mmcm at SCRC-TENEX
cc: BUG-ZMAIL at MIT-AI, BUG-ZWEI at MIT-AI

    Date: Friday, 26 February 1982, 13:43-EST
    From: David Chapman <Zvona at MIT-AI>
    In-reply-to: The message of 26 Feb 82 12:21-EST from Mike McMahon <MMcM at SCRC-TENEX>

        Date: Friday, 26 February 1982, 12:21-EST
        From: Mike McMahon <MMcM at SCRC-TENEX>
        To: RICH at MIT-AI
        Cc: BUG-ZMAIL at MIT-AI, BUG-ZWEI at MIT-AI

    	Date: 26 February 1982 10:33-EST
    	From: Charles Rich <RICH at MIT-AI>
    	I type End to send the message and get an error break because the host
    	(e.g. AI) is down.  I C-Z out of the error handler, get back to the Mail
    	buffer and Abort out of it (planning to Continue later).  When I return
    	to the toplevel of Zmail and try to do anything with the keyboard or use
    	the mouse to Continue the Who-line says "LOCK".  If I M-C-Abort out of
    	this state, I get the error handler again telling me I am trying to
    	unlock a process that I didn't lock.  I use Peek to look at the
    	situation and it seems it is the Zmail-Background-process which is
    	locked.  It looks to me like there is perhaps a missing unwind-protect
    	somewhere to clear a lock.  This state is very hard to get out of.
    	All I can do is warm-boot, which still leaves Zmail sort of confused.

        I suspect that the background process is in the error handler.  You probably
        got a notification about that.  You have to get it out of there before the
        two processes can synchronize.

    In other words, do terminal-0-s to get to the background process
    pop-up window and control-z out of that.

I only got notification after I warm booted.  In response to the
notification I then did try terminal-0-s, but it had no effect.  It
still seems that the Zmail/Zwei code should protect itself from
getting into this unsynchronized state due to an i/o error, which
is a common occurence.

Date: Friday, 26 February 1982, 13:29-EST
From: David Chapman <Zvona at MIT-AI>
To: MMCM at SCRC-TENEX
Cc: BUG-zwei at MIT-AI, bug-lmfile at MIT-AI
In-reply-to: The message of 25 Feb 82 21:02-EST from MMCM at SCRC-TENEX

    Date: Thursday, 25 February 1982  21:02-EST
    From: MMCM at SCRC-TENEX
    To:   David Chapman <Zvona at MIT-AI>
    Cc:   BUG-zwei at MIT-AI

	Date: Thursday, 25 February 1982, 17:05-EST
	From: David Chapman <Zvona at MIT-AI>
	m-X Reap File prints and tries to delete already deleted files
	and then complains that it can't delete them because mumble.
    What file system is this on?  M-X Reap File does not supply the :DELETED
    option to the directory-list and hence should not be getting a listing
    of deleted files.
LMFILE (FC:)

Date: Friday, 26 February 1982, 12:21-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: RICH at MIT-AI
Cc: BUG-ZMAIL at MIT-AI, BUG-ZWEI at MIT-AI

    Date: 26 February 1982 10:33-EST
    From: Charles Rich <RICH at MIT-AI>
    I type End to send the message and get an error break because the host
    (e.g. AI) is down.  I C-Z out of the error handler, get back to the Mail
    buffer and Abort out of it (planning to Continue later).  When I return
    to the toplevel of Zmail and try to do anything with the keyboard or use
    the mouse to Continue the Who-line says "LOCK".  If I M-C-Abort out of
    this state, I get the error handler again telling me I am trying to
    unlock a process that I didn't lock.  I use Peek to look at the
    situation and it seems it is the Zmail-Background-process which is
    locked.  It looks to me like there is perhaps a missing unwind-protect
    somewhere to clear a lock.  This state is very hard to get out of.
    All I can do is warm-boot, which still leaves Zmail sort of confused.
I suspect that the background process is in the error handler.  You probably
got a notification about that.  You have to get it out of there before the
two processes can synchronize.

Date: 26 February 1982 10:33-EST
From: Charles Rich <RICH at MIT-AI>
To: BUG-ZMAIL at MIT-AI
cc: BUG-ZWEI at MIT-AI

In ZMAIL in System 79.16, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.2,
Programmer's Apprentice 21.4, microcode 849, on Lisp Machine Twenty-two:


Using the Mail option inside ZMAIL, the system gets in a wedged
situation as follows:

I type End to send the message and get an error break because the host
(e.g. AI) is down.  I C-Z out of the error handler, get back to the Mail
buffer and Abort out of it (planning to Continue later).  When I return
to the toplevel of Zmail and try to do anything with the keyboard or use
the mouse to Continue the Who-line says "LOCK".  If I M-C-Abort out of
this state, I get the error handler again telling me I am trying to
unlock a process that I didn't lock.  I use Peek to look at the
situation and it seems it is the Zmail-Background-process which is
locked.  It looks to me like there is perhaps a missing unwind-protect
somewhere to clear a lock.  This state is very hard to get out of.
All I can do is warm-boot, which still leaves Zmail sort of confused.

				-Chuck.

Date: Thursday, 25 February 1982  21:02-EST
From: MMCM at SCRC-TENEX
To:   David Chapman <Zvona at MIT-AI>
Cc:   BUG-zwei at MIT-AI

    Date: Thursday, 25 February 1982, 17:05-EST
    From: David Chapman <Zvona at MIT-AI>
    m-X Reap File prints and tries to delete already deleted files
    and then complains that it can't delete them because mumble.
What file system is this on?  M-X Reap File does not supply the :DELETED
option to the directory-list and hence should not be getting a listing
of deleted files.

Date: Thursday, 25 February 1982, 17:05-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.16, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.2,
microcode 849, 79.5 RM 4.1, on Lisp Machine Two:

m-X Reap File prints and tries to delete already deleted files
and then complains that it can't delete them because mumble.

Date: Thursday, 25 February 1982, 13:42-EST
From: David Chapman <Zvona at MIT-AI>
To: MMcM at SCRC-TENEX
Cc: BUG-zwei at MIT-AI
In-reply-to: The message of 24 Feb 82 14:27-EST from Mike McMahon <MMcM at SCRC-TENEX>

	Why doesn't c-; put point after the last semi in a comment
	beginning, instead of only after the first?  Better still to put
	it after the last semi and following whitespace.
    That's what it does already.  Are you sure you are in Lisp mode (i believe
    you had this problem before)?
Sorry, I was being faked out by a bug in LMLIB;FILCOM.

Date: Thursday, 25 February 1982, 00:16-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: String search fails to fail
To: BUG-zwei at SCRC-TENEX

In zwei in System 202.29, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.16, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 858, on Retriever:

I don't think this is a new bug.  String search for a string that starts
with a carriage return, and isn't found, leaves point at the end of the
buffer and doesn't beep.

Date: Wednesday, 24 February 1982, 13:43-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-mc

In zwei in System 79.13, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 836, on Lisp Machine Nineteen: 

It is confusing in dired that the @ command, for example, clears the D
bit.  That U clears the P bit is also weird and should at least
be documented.

Date: Wednesday, 24 February 1982, 15:53-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Zvona at MIT-AI
Cc: BUG-zwei at MIT-AI

    Date: Thursday, 18 February 1982, 15:21-EST
    From: David Chapman <Zvona at MIT-AI>
    If you do c-m-X while in an m-X, c- loses next time (ie
    puts you in m-X instead of c-m-X.)
Fixed in the source.  I removed the flags and special case code that
had been added to the subprimites to implement this and made only the
C-M-X command know about the transformation.

Date: Wednesday, 24 February 1982, 14:27-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Zvona at MIT-AI
Cc: BUG-zwei at MIT-AI

    Date: Wednesday, 24 February 1982, 10:37-EST
    From: David Chapman <Zvona at MIT-AI>
    Why doesn't c-; put point after the last semi in a comment
    beginning, instead of only after the first?  Better still to put
    it after the last semi and following whitespace.
That's what it does already.  Are you sure you are in Lisp mode (i believe
you had this problem before)?

Date: Wednesday, 24 February 1982, 10:37-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.13, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 836, on Lisp Machine Nineteen:

Why doesn't c-; put point after the last semi in a comment
beginning, instead of only after the first?  Better still to put
it after the last semi and following whitespace.

;;; Foo! <point>

c-; =>

;<point>;; Foo! 

should be 

;;; <point>Foo! 

Date: Wednesday, 24 February 1982, 09:52-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.13, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 836, on Lisp Machine Nineteen:

Query Replace, if given numeric argument, should change its
prompts to notify the user of the switched behavior.

Date: Wednesday, 24 February 1982, 09:32-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In dired in System 79.13, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 836, on Lisp Machine Nineteen:

Trying to delete a delete-protected file in dired prints a
warning, but then bombs trying to parse the error string as a
list.

Date: Wednesday, 24 February 1982, 09:02-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 79.13, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 836, on Lisp Machine Nineteen:

Update Mode Line on an empty LISP mode buffer inserts a comment
with only one semi, violating the (undocumented) conventions
about what flavors of comments get how many semis.

Date: Tuesday, 23 February 1982  00:21-EST
From: MOON at SCRC-TENEX
To:   Philippe Brou <PHILIP at MIT-AI>
Cc:   BUG-ZWEI at MIT-AI
Subject: Problem with FASL UPDATE

    Date: 20 February 1982 19:38-EST
    From: Philippe Brou <PHILIP at MIT-AI>
    To: BUG-ZWEI at MIT-AI

    In ZWEI in System 79.12, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
    microcode 849, 60.45Hz, on Lisp Machine Four:

    Problem with FASL UPDATE

    The expression (// 180. 3.14159) in
    (defun test (a)
           (* a (// 180. 3.14159)))
    is responsible for a DTP-TRAP while doing FASL UPDATE

    The system doesn't complain if the 
    expression is replaced by a single number.
    (qc-file...) or Meta-Greek-E don't complain.

Patch 202.28 probably fixes this as well.  This patch could be made for
MIT as well if this bug is getting seriously in your way.

Date: 23 February 1982 00:23-EST
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.12, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, on Lisp Machine Twenty-two:

The fact that Meta-~ is defined in the *ZMACS-COMTAB* rather than 
*STANDARD-COMTAB* means that if I replace that character with my own
definition by SET-COMTAB, that character won't be in effect when typing
in the minibuffer, where Zmacs commands are disallowed. Is this 
intended behavior? Should I remove the character from *ZMACS-COMTAB*
somehow and put it in *STANDARD-COMTAB*?


Date: 22 February 1982 23:07-EST
From: "Kenneth W. Haase,Jr." <KWH at MIT-AI>
To: MMcM at SCRC-TENEX
cc: BUG-ZWEI at MIT-AI

I had a #Q (DEFUN ....

but I changed my code to make it work.

Thanks.


Date: 22 February 1982 21:42-EST
From: Daniel L. Weinreb <dlw at MIT-AI>
Subject: [RpK: Getting ASCII control characters]
To: DLA at SCRC-TENEX
cc: MT at MIT-AI, RPK at MIT-AI, MOON at SCRC-TENEX,
    bug-zwei at SCRC-TENEX

There is already an "Emacs" minor mode, if you want to put something
in for Emacs compatibility only.

Date: Monday, 22 February 1982, 11:47-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: kwh at mit-ai
Cc: BUG-ZWEI at MIT-AI

    kwh@MIT-AI 02/21/82 14:50:53 Re: Finding #Q'd defuns.
    When in M-X Edit Compiler Warnings , definitions
    prefixed by a #Q aren't "found"-
If you mean
#Q (defun ...
then that isn't likely to ever get fixed, since the ( must be in the zeroth column
to be recognized as a defun.

If you mean
#Q
(defun ...
(which the reader is just as happy about), i'd like to see the particular case.

Date: Monday, 22 February 1982, 03:21-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: [RpK: Getting ASCII control characters]
To: MT at MIT-AI, RpK at MIT-AI, MOON at SCRC-TENEX, bug-zwei at SCRC-TENEX
Cc: DLA at SCRC-TENEX

As long as c-Q c-@ works, I see no reason for c-Q c-Space to work.

*However*, I think that c-Q c-@ working is a kludge.  Maybe this should
be a separate TECO mode or something?

Date: 21 February 1982 17:35-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-ZWEI at MIT-AI, BUG-LMFONT at MIT-AI

In zwei in System 79.13, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
Programmer's Apprentice 21.4, microcode 849, on Lisp Machine Twenty-two:

The font used to draw pictures of layouts in Split Screen
has no @ character.

kwh@MIT-AI 02/21/82 14:50:53 Re: Finding #Q'd defuns.
To: (BUG ZWEI) at MIT-AI
In zwei in System 79.8, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, on Lisp Machine Six:

When in M-X Edit Compiler Warnings , definitions
prefixed by a #Q aren't "found"-

kwh@MIT-AI 02/21/82 14:31:49 Re: Bug-bug
To: (BUG ZWEI) at MIT-AI, (BUG ZMAIL) at MIT-AI
In zwei in System 79.8, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, on Lisp Machine Six:

In M-X Bug, if the "prompt for subject" flag is set in you ZMAIL init,
(so that it says "There is no subject yet, ok to go ahead anyway?")
it prompts for the subject field (if you replied yes to the above message)
in the text section of the message, rather than in the header-  

kwh@MIT-AI 02/21/82 14:26:18 Re: Edit Compiler warnings
To: (BUG ZWEI) at MIT-AI
In zwei in System 79.8, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, on Lisp Machine Six:


If you have a function defining macro, which expands into a defun, like:

	  (DEFMACRO DEFSPRITE (NAME ARGS &REST BODY)
	    `(DEFUN (,NAME SPRITE-FUNCTION)
		    (CAULDRON NEW-FORM . ,ARGS)
	       . ,BODY))
		       
   and then somewhere have a definition using that macro, such as:

	  (DEFSPRITE RULE (PATTERN &REST CONSEQUENTS)
	    (LET ((BINDINGS (MATCH? PATTERN NEW-FORM
				    (VAR-BIND '?THIS-FACT NEW-FORM
					      (LOCAL-VARS CAULDRON)))))
	      (AND BINDINGS
		   (ADD-ASSERTIONS CAULDRON
				   (MAPCAR #'VAR-SUBST
					   CONSEQUENTS
					   (CIRCULAR-LIST BINDINGS))))))

If the compilation of the above produces some error, M-X Edit Compiler Warnings
cannot find the "defsprite" because it is look for the DEFUN of
	(PROPERTY RULE SPELL-FUNCTION) which is how it what it expanded into-

How can I tell ZWEI or whatever mechanism is used to look for things the right
way?


Date: Sunday, 21 February 1982, 12:46-EST
From: David E. Goldfarb <DEG at SCRC-TENEX>
Subject: Commands redefining keys
To: DLA at SCRC-TENEX, BUG-ZWEI at SCRC-TENEX
Cc: DEG at SCRC-TENEX

    Date: Thursday, 18 February 1982, 22:22-EST
    From: David L. Andre <DLA at SCRC-TENEX>

	Date: Wednesday, 17 February 1982, 20:42-EST
	From: David E. Goldfarb <DEG at SCRC-TENEX>

	  I object to the fact that com-list-callers takes the liberty of
	defining c-. for its own purposes.  I already use that key and don't
	like having it pulled away from me.

    Maybe it should be documented somewhere that everything redefines c-.

That is not really my point.  I find c-. a convenient key for my own
uses.  No key should be completed hardwired to any functionality; if it
is desirable to have a general iteration key, that key should be
selected by some global (and user-redefinable) variable, and not
restricted to be only c-..
				- David

Date: 21 February 1982 10:38-EST
From: Michael Travers <MT at MIT-AI>
Subject: [RpK: Getting ASCII control characters]
To: MOON at SCRC-TENEX, bug-zwei at SCRC-TENEX


    How about adding another quantity operation to Various Quantities
    (Control-Q) for inserting ASCII `control' characters (invoked with C-Q
    A) ?  The operation would try to insert the appropriate character,
    ignoring any bucky bits the user types in (because Lisp Machine bucky
    bits have nothing to do with ASCII anyway).

    Keystrokes       Character inserted
    C-Q A C			
    C-Q A C-M-S-C		
    C-Q A C-A		
    C-Q A Line		
C-Q A Space		 
    C-Q A ?			

    Not only would this help editing TECO files, but also things like R.

    bob
    ---
    I guess this wouldn't be a disaster -- Moon

It may or may not be a good idea, but it doesn't solve the problem,
which is that C-Q C-Space behaves differently in ZMACS than it does in
EMACS.  You can currently use C-Q C-@ to get the char, but I'm used to
doing it the other way.

Date: Sunday, 21 February 1982, 05:59-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Rumor about buffers as streams
To: Richard M. Stallman <RMS at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 20 Feb 82 03:18-EST from Richard M. Stallman <RMS at MIT-AI>

    Date: 20 February 1982 03:18-EST
    From: Richard M. Stallman <RMS at MIT-AI>
    To: BUG-ZWEI at MIT-AI

    I hear a rumor that buffers in ZWEI will become streams as well.
    If this is true, I hope that this will not mean that the ability to
    make multiple streams which work on the same buffer
    with different pointers will be lost.

I am at the root of that rumor.  Let me set your mind at ease.  I did
have that idea at one time, just as random musings, not as a proposal
for change.  Actually, windows were more in line with what I was
thinking, with insertion at point, but I think it's more apropriate for
a more general interface to take a buffer or window and specify what you
want to use for the point to insert or read from.  In any event, it
would never occur to me to disallow the existing ways of making a stream
into a buffer.

Date: 20 February 1982 19:38-EST
From: Philippe Brou <PHILIP at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 79.12, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, 60.45Hz, on Lisp Machine Four:

Problem with FASL UPDATE

The expression (// 180. 3.14159) in
(defun test (a)
       (* a (// 180. 3.14159)))
is responsible for a DTP-TRAP while doing FASL UPDATE

The system doesn't complain if the 
expression is replaced by a single number.
(qc-file...) or Meta-Greek-E don't complain.

Date: Saturday, 20 February 1982, 16:29-EST
From: David Chapman <Zvona at MIT-AI>
Subject: Proposal to flush kill-ring binding for filename defaulting
To: MOON at SCRC-TENEX, dlw at SCRC-TENEX, rwk at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX, user-interface at SCRC-TENEX
In-reply-to: The message of 19 Feb 82 14:52-EST from MOON at SCRC-TENEX

c-m-Y ought to be documented by com-document-completing-read.

RMS@MIT-MC 02/20/82 04:46:39
To: (BUG ZWEI) at MIT-MC
In system 79.13 on CADR-1, I set SUPDUP:JOURNAL-STREAM to an
editor buffer stream and supduped to MC and ran EMACS there.
I did a considerable amount of editing, the idea being to take
statistics on the effectiveness of local editing.
Eventually I got an error from MOVE-BP, because LINE was empty
and index was 2.  This was from INSERT (or something similar)
called from the TYO method of the interval stream.
At this point, I went to the editor and it got more errors,
including calling CREATE-LINE with a length of -2.  I returned
a line created by calling CREATE-LINE with length 0, and it seemed
to recover.

I then wrote the buffer out into RMS;MC: LEPREC HAUN.
Insertion was occurring at the very end of the buffer.
I believe I added a CRLF at the end before writing it out,
and deleted a pair of null characters that were at the end of
the long final line.

Ah, the error in CREATE-LINE happened when I typed a Return to
add that CRLF.  I did this because I hoped that getting to a fresh line
would clear up the lossage in ZWEI.


Date: 20 February 1982 03:18-EST
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-ZWEI at MIT-AI

I hear a rumor that buffers in ZWEI will become streams as well.
If this is true, I hope that this will not mean that the ability to
make multiple streams which work on the same buffer
with different pointers will be lost.

Date: Friday, 19 February 1982, 16:48-EST
From: James M. Turner <JMTurn at FC>
Subject: Optional argument to LOGIN
To: BUG-ZWEI at MIT-AI
Cc: JMTURN at MIT-AI

In ZWEI in System 79.13, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, 60.45Hz, on Lisp Machine Four:

I agree with Chris that LOGIN should take a &REST argument. It seems to me that
the only really winning way user login files can access this argument is if
login binds something like SI:*LOGIN-OPTIONAL-ARGUMENT* to be that value. Then
the user could say:

(login 'jmturn "fc" t 'no-patches 'read-mail)

and have hir program do winning things based on it. Does anyone out there have
any strong objections to a frob like this? It would be transparent to the users,
and would provide a nice alternative to having your login query you 1E6 times.

					James


Date: Friday, 19 February 1982, 16:48-EST
From: James M. Turner <JMTurn at FC>
Subject: Optional argument to LOGIN
To: BUG-ZWEI at MIT-AI
Cc: JMTURN at MIT-AI

In ZWEI in System 79.13, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, 60.45Hz, on Lisp Machine Four:

I agree with Chris that LOGIN should take a &REST argument. It seems to me that
the only really winning way user login files can access this argument is if
login binds something like SI:*LOGIN-OPTIONAL-ARGUMENT* to be that value. Then
the user could say:

(login 'jmturn "fc" t 'no-patches 'read-mail)

and have hir program do winning things based on it. Does anyone out there have
any strong objections to a frob like this? It would be transparent to the users,
and would provide a nice alternative to having your login query you 1E6 times.

					James


Date: Friday, 19 February 1982  14:52-EST
From: MOON at SCRC-TENEX
To:   dlw at SCRC-TENEX, rwk at SCRC-TENEX
Cc:   BUG-ZWEI at SCRC-TENEX, user-interface at SCRC-TENEX
Subject: Proposal to flush kill-ring binding for filename defaulting

This is a reasonable idea, however c-m-Y already does something useful
in c-X c-F (actually in all minibuffer-using commands).

Date: Friday, 19 February 1982  14:24-EST
From: MOON at SCRC-TENEX
To:   bug-zwei at SCRC-TENEX
Subject: [RpK: Getting ASCII control characters]

Date: 18 February 1982 17:00-EST
From: Robert P. Krajewski <RpK at MIT-AI>
Subject: Getting ASCII control characters
To: Moon at SCRC-TENEX
cc: MT at MIT-AI

How about adding another quantity operation to Various Quantities
(Control-Q) for inserting ASCII `control' characters (invoked with C-Q
A) ?  The operation would try to insert the appropriate character,
ignoring any bucky bits the user types in (because Lisp Machine bucky
bits have nothing to do with ASCII anyway).

Keystrokes       Character inserted
C-Q A C			
C-Q A C-M-S-C		
C-Q A C-A		
C-Q A Line		
C-Q A Space		 
C-Q A ?			

Not only would this help editing TECO files, but also things like R.

bob
---
I guess this wouldn't be a disaster -- Moon

kwh@MIT-AI 02/19/82 13:15:24
To: (BUG ZWEI) at MIT-AI
In zwei in System 78.58, ZMail 38.5, Local-File 32.15, Experimental DAEDALUS 29.9, microcode 843, on Lisp Machine Two:

When control-.'ing through a M-X Edit Changed Functions, it finished up with
"No more callers" when it was finished...


Date: 19 February 1982 08:57-EST
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: Set Comment Col--
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.58, ZMail 38.5, Macsyma 26.0, microcode 841,
60Hz, on Lisp Machine Sixteen:

For Apropos-use alone, never mind clarity, how about expanding
the name to Set Comment Column?

Date: Friday, 19 February 1982, 08:52-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 78.58, ZMail 38.5, Programmer's Apprentice 21.4, Dungeon 2.1, Detective 2.2, microcode 836, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

com-string-search should self-document when you type
<help> at it.

Date: Friday, 19 February 1982, 05:00-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: ^X^F and the kill ring
To: Daniel L. Weinreb <dlw at SCRC-TENEX>
Cc: BUG-ZWEI at SCRC-TENEX, user-interface at SCRC-TENEX
In-reply-to: The message of 17 Feb 82 20:17-EST from Daniel L. Weinreb <dlw at SCRC-TENEX>

So *THAT'S* what's going on.  I had tried to form a theory on the
basis of experience, but just got more confused.  If no objections
I'll implement your idea.

Date: Thursday, 18 February 1982, 22:22-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Commands redefining keys
To: BUG-ZWEI at SCRC-TENEX
Cc: DEG at SCRC-TENEX

    Date: Wednesday, 17 February 1982, 20:42-EST
    From: David E. Goldfarb <DEG at SCRC-TENEX>

      I object to the fact that com-list-callers takes the liberty of
    defining c-. for its own purposes.  I already use that key and don't
    like having it pulled away from me.
Maybe it should be documented somewhere that everything redefines c-.

Date: Thursday, 18 February 1982, 15:30-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In System 78.58, ZMail 38.5, Programmer's Apprentice 21.4, Dungeon 2.1, Detective 2.2, microcode 836, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

c-m-X Extended String Search c-H ? deselects everything
(mode-line => nil).

I tried putting com-extended-string-search on c-S and
decided that it probably wasn't intended for that, since
it had no way (eg) to yank a previous string.  The name
led me to believe that it was a true extension of
com-string-search; and this would seem to be a useful
thing for it to be.  The syntax not being upward
compatible is not important; but it would be a win if the
functionality were.

Date: Thursday, 18 February 1982, 15:21-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 78.58, ZMail 38.5, Programmer's Apprentice 21.4, Dungeon 2.1, Detective 2.2, microcode 836, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

If you do c-m-X while in an m-X, c- loses next time (ie
puts you in m-X instead of c-m-X.)

Date: Thursday, 18 February 1982, 15:20-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 78.58, ZMail 38.5, Programmer's Apprentice 21.4, Dungeon 2.1, Detective 2.2, microcode 836, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

If you do c-m-X while in an m-X, m- loses next time (ie
puts you in m-X instead of c-m-X.)

Date: Thursday, 18 February 1982, 08:53-EST
From: Clark M. Baker <CMB at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 202.25, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.14, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 858, on Retriever:

I typed ^X ^F AI:HES;FILTER <esc> to see with what it would complete.
Instead it went into Output Hold so I typed <terminal> <hold-output>.
It was asking me for my ITS uname in the same area of the screen as my
filename was being completed.  Having given it my ITS uname, it went
into the NIL state.  Typine <system> E seemed to wake it up, but it
didn't redisplay my filename or give me a cursor.  This seems like a bug
to me.

Date: 18 February 1982 10:15-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.58, ZMail 38.5, Local-File 32.15, Experimental DAEDALUS 29.9, microcode 843, on Lisp Machine Two:

A suggestion.  When a file is being read into a new buffer, as with C-X C-F,
when a screenful of text has been read in perhaps it can be displayed while
the rest is being read.  ZMail does a similar sort of thing for Mail and Rmail
files.  This can be useful in many situations, e.g., text files you want to
read from the top, or when the text at the top of the file reveals that that
wasn't the file you had in mind.  The processing can be done while waiting 
for the host machine to respond to network requests.  Low priority.    - phiL

Date: Wednesday, 17 February 1982, 21:04-EST
From: David E. Goldfarb <DEG at SCRC-TENEX>
Subject: Bizzarre bug...
To: BUG-ZWEI at SCRC-TENEX
Cc: DEG at SCRC-TENEX

In ZWEI in Experimental System 202.25, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.14, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 858, on Retriever:

I was mailing a letter, and hit END.  Then, due to machine slowness and
general brain-damage on my part, I decided that I must have typed one
END too few, and that as long as it wasn't sent, I would make another
change to the header.

   The message finished being sent, I was returned to the top level
configuration.  Then, the mail-header window that I had selected
appeared on top of the top-level list-of-headers pane.  At this point, I
could perform any operation in the lower panes, but could not use the
top pane since it was covered.  I could not select it either.

Finally fixed things by going into mail mode.  That caused the header
window to update itself (remove the subject), and allowed me to abort
back into normalcy.

(Some of my defaults which may pertain to this are not precisely
standard.  I don't think any of them could have all that much
relationship, but please get back to me if the bug is otherwise
irrepreducible).

				- David

Date: Wednesday, 17 February 1982, 20:42-EST
From: David E. Goldfarb <DEG at SCRC-TENEX>
Subject: Commands redefining keys
To: BUG-ZWEI at SCRC-TENEX
Cc: DEG at SCRC-TENEX

In ZWEI in Experimental System 202.25, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.14, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 858, on Retriever:

  I object to the fact that com-list-callers takes the liberty of
defining c-. for its own purposes.  I already use that key and don't
like having it pulled away from me.

  The nice thing about zwei/emacs in general is that it allows users to
shift the commands around however they so choose.  No command should
EVER be hardwired to define a key; it should at least check a global
variable to see what key to use so the user can change the default if it
so pleases him.

				- David

Date: Wednesday, 17 February 1982, 20:17-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX
Cc: user-interface at SCRC-TENEX

In ZWEI in Experimental System 202.25, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.14, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 855, on Boxer:

Currently, when c-X c-F (et al) prompts you for a filename, it
lambda-binds the kill ring to a cons of the last-pathname-typed and the
old value of the kill ring.  Sometimes a user puts some text into
the kill ring, say by doing a Meta-W out of a Zwei buffer such
as those in ZMail, and then tries to yank it back into a c-X c-F
prompt.  This is a useful and interesting technique, but it
has two problems.

First, it is confusing that you have to do c-Y m-Y to get the string
you just pushed onto the kill buffer.  You may not think this is
confusing, but I have seen a lot of confused people.  It just isn't
any too obvious.

Second, if you do c-X c-F, go to ZMail, save some text, and return to
Zmacs, you cannot yank in the text because it didn't get onto the kill
ring because the kill ring has been lambda-bound and so cannot be
affected by any other process.

Furthermore, sometimes you want to yank in the printed representation of
the current default pathname, rather than the last pathname typed, and
to lambda-bind two things onto the kill ring (I think Eine used to do
this) is even more obscure.

I propose that c-m-Y and c-U c-m-Y be used to yank the last pathname
typed and the current default pathname, respectively, and that the
kill ring be left alone.

Date: Wednesday, 17 February 1982, 18:35-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Henry at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 17 February 1982 17:27-EST
    From: Henry Lieberman <Henry at MIT-AI>
    The following forms fail to redefine the Meta-~ command in my Zwei init file.
    They worked ok in systems < 79.
    ZWEI:(SET-COMTAB *STANDARD-COMTAB*
		     '("~" COM-INSIDE-SQUIGGLES))
I'd guess that the normal M-~ was moved into the zmacs comtab, and is
now therefore shadowing yours.  It's a shame that user redefinitions are
distinguished inside comtabs.

Date: 17 February 1982 17:27-EST
From: Henry Lieberman <Henry at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.12, ZMail 40.7, Remote-File 2.0, LMFILE-Remote 5.0,
microcode 849, 60.45Hz, on Lisp Machine Eighteen:

The following forms fail to redefine the Meta-~ command in my Zwei init file.
They worked ok in systems < 79.

ZWEI:(SET-COMTAB *STANDARD-COMTAB*
		 '("~" COM-INSIDE-SQUIGGLES))

(SETQ *EMPHASIS-FONT-BEGIN* "~" *EMPHASIS-FONT-END* "~")

(DEFCOM COM-INSIDE-SQUIGGLES
	"Inserts a pair of tildes, leaving you inside them to type a symbol's name."
	()
        (INSERT-MOVING (POINT) *EMPHASIS-FONT-BEGIN*)
        (INSERT (POINT) *EMPHASIS-FONT-END*)
	DIS-TEXT)



Date: Wednesday, 17 February 1982, 01:57-EST
From: David A. Moon <Moon at SCRC-TENEX>
To: Michael Travers <MT at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 16 Feb 82 22:54-EST from Michael Travers <MT at MIT-AI>

    Date: 16 February 1982 22:54-EST
    From: Michael Travers <MT at MIT-AI>
    To: BUG-ZWEI at MIT-AI

    In ZWEI in System 78.56, ZMail 38.5, Local-File 32.13, Experimental DAEDALUS 30.0, microcode 843, on Lisp Machine Eight:

    Control-Q Control-Space inserts a space (or what looks like a space) rather 
    than a ^@.
There is no such character in the Lisp machine character set.  The characters
that can appear in files (and hence editor buffers) are only the printing
characters.  Of course this can be a bit of a drag when editing teco files
or other files that really want to be in the pdp10 character set with
control characters instead of the "sail" printing characters.

Date: Tuesday, 16 February 1982, 23:13-EST
From: David A. Moon <Moon at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 202.22, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.10, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 855, on Terrier:

In Converse, c-Y c-U c-space always says "attempt to switch intervals?
Please do (bug 'zwei)"  It doesn't damage anything, though.  c-X c-X
at that point works fine.

Date: 16 February 1982 22:54-EST
From: Michael Travers <MT at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.56, ZMail 38.5, Local-File 32.13, Experimental DAEDALUS 30.0, microcode 843, on Lisp Machine Eight:

Control-Q Control-Space inserts a space (or what looks like a space) rather 
than a ^@.

Date: Tuesday, 16 February 1982, 12:38-EST
From: Clark Baker <CMB at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 202.23, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.11, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 855, on Boxer:

In incremental search mode, type <terminal> <clear-screen>.  Neither the
main text window, of the little window at the bottom will be
re-displayed.  The same thing happened when I was in search mode and did
a "move single" to reshape the whole Zmacs.

Date: 16 February 1982 09:32-EST
From: Gerald R. Barber <JerryB at MIT-AI>
Subject: defvar
To: ALR at MIT-ML
cc: BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI, DCB at MIT-AI,
    dlw at SCRC-TENEX

    Date: 14 February 1982 20:37-EST
    From: Andrew L. Ressler <ALR at MIT-ML>
    To:   JerryB
    cc:   dlw at SCRC-TENEX, BUG-LISPM, BUG-ZWEI, DCB
    Re:   defvar

	I can hardly consider this a feature.  It may be convenient to have this
	capability somewhere but its behavior is too unexpected for it to be
	on vanilla flavored Compile Defun or Eval Defun.  I expect you will get
	bug messages about this from confused users until it is changed.
    What would you suggest to replace this behavior.  I think it is consistent
    and easy to use.  I admit documentation would help, but I don't think its
    behavior should be changed.

I don't think it is consistent with the notion of evaluation or
compilation as it is used in most other contexts.  Until a better
solution is found Eval Defun and Compile Defun should at least print a
message in the echo area that the DEFVAR is being treated specially.

Date: Tuesday, 16 February 1982, 04:49-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: Subject
To: BUG-ZWEI at SCRC-TENEX, BUG-ZMail at SCRC-TENEX

I think the following bug is partially due to my ZMail options.  Anyway,
when I type END after making bug report via M-X Bug, I get the prompt
"There is no subject yet; go ahead anyway?".  If I answer no, the
"Subject:" prompt gets put somewhere in the middle of my message, rather
than with the headers.

Date: Tuesday, 16 February 1982, 04:45-EST
From: David L. Andre <DLA at SCRC-TENEX>
Subject: M-X Sort Lines
To: BUG-zwei at SCRC-TENEX

It would be nice if you could undo a M-X Sort Lines.

Date: Monday, 15 February 1982, 23:46-EST
From: David L. Andre <DLA at SCRC-TENEX>
To: BUG-zwei at SCRC-TENEX

In zwei in Experimental System 202.23, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.10, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 854, on Basset:

POINTER:>DLA>LOSER.LISP loses in the following way:
put the point one back from the eof, and type c-m-&.
Gets NIL bad arg to AP-LEADER.

Date: 15 FEB 1982 1241-PST
From: DEKLEER at PARC-MAXC
To:   BUG-zwei at MIT-AI

In zwei in ETHER 26.0, System 79.8, microcode 854, on Unknown:

Hiting abort key in typing a bug report gives erroneous beeps and a complaint
about already being at top-level.
-------

Date: 14 February 1982 22:37-EST
From: Richard Greenblatt <rg at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 79.8, ZMail 40.7, Experimental LMFILE Remote 4.1,
Remote-File 2.0, LMFILE-Remote 5.0, microcode 849, 79.5 RM 4.1, on Lisp Machine Seven:

one the cntrl-x cntrl-b printout, dired buffers just say *dired-1* or something,
not telling you what file directory they are a dired of.  This is a deprovement.

Date: 14 February 1982 20:37-EST
From: Andrew L. Ressler <ALR at MIT-ML>
Subject:  defvar
To: JerryB at MIT-AI
cc: dlw at SCRC-TENEX, BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI,
    DCB at MIT-AI

    I can hardly consider this a feature.  It may be convenient to have this
    capability somewhere but its behavior is too unexpected for it to be
    on vanilla flavored Compile Defun or Eval Defun.  I expect you will get
    bug messages about this from confused users until it is changed.
What would you suggest to replace this behavior.  I think it is consistent
and easy to use.  I admit documentation would help, but I don't think its
behavior should be changed.

Date: Sunday, 14 February 1982, 17:54-EST
From: David A. Moon <Moon at SCRC-TENEX>
To: David Chapman <Zvona at MIT-AI>
Cc: BUG-zwei at MIT-AI
In-reply-to: The message of 13 Feb 82 20:03-EST from David Chapman <Zvona at MIT-AI>

    Date: Saturday, 13 February 1982, 20:03-EST
    From: David Chapman <Zvona at MIT-AI>
    To: BUG-zwei at MIT-AI

    The E command should dired an ARC: device on ITS logically.
I'm getting a little tired of answering this bug report.  Lisp machines
cannot read directories of the ARC: because it does not provide a directory
in standard format and no one has yet taken the time to put special-case
code in the FILE server to handle ARC: directories.

Date: Saturday, 13 February 1982, 20:03-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In dired in System 78.57, ZMail 38.5, Programmer's Apprentice 21.4, Dungeon 2.1, Detective 2.2, microcode 836, Sorcerer's Apprentice, on Lisp Machine Twenty-two:

The E command should dired an ARC: device on ITS logically.

Date: 13 February 1982 11:09-EST
From: Gerald R. Barber <JerryB at MIT-AI>
Subject: defvar
To: dlw at SCRC-TENEX
cc: DCB at MIT-AI, BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI

    Date: Friday, 12 February 1982, 18:40-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    Re:   defvar

    DEFVAR will set even a bound variable if and only if you execute it with
    the Eval Defun or Compile Defun commands.  This is a feature, not a bug.
    The idea is that if you want to edit your program and change your mind
    about the initial value of a variable, you can do so easily.  I realize
    that there is no documentation on this editor, and I'm sorry about it.

I can hardly consider this a feature.  It may be convenient to have this
capability somewhere but its behavior is too unexpected for it to be
on vanilla flavored Compile Defun or Eval Defun.  I expect you will get
bug messages about this from confused users until it is changed.

Date: 13 February 1982 01:11-EST
From: "" at MIT-AI
Subject: dired
To: BUG-ZWEI at MIT-AI


Dired can't hack archive devices!

Date: 12 February 1982 14:51-EST
From: Daniel Brotsky <dcb at MIT-AI>
Subject: defvar
To: BUG-LISPM at MIT-AI, BUG-ZWEI at MIT-AI
cc: JERRYB at MIT-AI

In System 78.57, ZMail 38.5, Experimental Tester 20.0, Reasoning Utility Package 1.1, Experimental Plan Calculus 1.2, microcode 848, 60.45 Hz, on Lisp Machine Four:

Doing Evaluate Defun [Control-Top-E] (or Compile Defun [Control-Greek-E], same
result both times) of

(defvar foo 3)

with foo set to 0 resulted in a value of 3 and foo being set to 3.

This disagreed with doing the same thing in a breakpoint Zmacs, which returned
nil and left foo set to 0.

This error did not occur with Compile Buffer, nor when the QFASL was loaded
after a Compile File of the buffer. (The source lives in DCB;DEFTST and the
qfasl in DCB;DEFTST QFASL).


P.S. JerryB also had this problem while running System 78.57 on cadr9.

Date: Sunday, 14 February 1982, 14:59-EST
From: David E. Goldfarb <DEG at SCRC-TENEX>
Subject: Inconsistant behaviour
To: BUG-ZWEI at SCRC-TENEX
Cc: DEG at SCRC-TENEX

In ZWEI in Experimental System 202.21, ZMail 40.7, Experimental Tape 7.0,
Experimental LMFS 22.10, Experimental Symbolics 9.3,
Experimental Canon 10.3, microcode 855, on Boxer:

Meta-C (Capitalize word) will not abort if given an argument forcing it
beyond the end of buffer (Meta-U and Meta-L do, on the other hand beep
and abort in this case).  Instead, it will beep and retain the cursor at
its old location, but still capitalize the rest of the buffer.

				- David

Date: 10 February 1982 21:52-EST
From: "Kenneth W. Haase,Jr." <kwh at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.56, ZMail 38.5, microcode 849, 60Hz, on Lisp Machine One:

M-X Edit Compiler Warnings  jumps into two window mode, but does not display
the bottom window, where the code is.  (you have to hit c-L to see your code)
This happened on cadr-4 also, with the file "kwh; wedit >".


Date: 10 February 1982 15:29-EST
From: Gerald R. Barber <JerryB at MIT-AI>
Subject: dired lossage
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.57, ZMail 38.5, Mega-Frame 1.0, Experimental MEGA 8.0, microcode 843, 60Hz, on Lisp Machine Twenty-three:

If I abort out of a dired in zwei while it is reading the directory then
the next time I try to enter dired on the same machine I get a "too many
directory commands" error.  The only way I have found to fix it is to
kill the file job on the file server.

Date: Wednesday, 10 February 1982, 08:29-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 78.57, ZMail 38.5, microcode 849, on Lisp Machine Eighteen:

Why is it that when you c-ABORT out of a dired while it is
fetching the directory you get an empty dired buffer, while if
you c-ABORT out of a find file you don't get an empty file
buffer? 

Date: Tuesday, 9 February 1982, 20:31-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: editor commands ignoring mode line?
To: GOLDMAN at USC-ISIF
Cc: BUG-ZWEI at SCRC-TENEX

    Date:  9 Feb 1982 1613-PST
    From: GOLDMAN at USC-ISIF
    It looks like the function LOAD is sensitive to any package specification
    in a file's mode line, but that editor commands which
    require reading of expressions from a buffer into lisp
    allow the read to take place in whatever pkg is current, regardless of
    wheTher one is explicitly specified in the mode line in the buffer.
    Can this really be??
Sort of.  The editor keeps the current package the same as that specified in the file.
Had you changed the -*- of the buffer since it had been read in?  If so, you should
do M-X Reparse Mode Line to update the editor's idea of what is there.

Date: 8 February 1982 23:40-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In System 78.57, ZMail 38.5, Local-File 32.14, Experimental DAEDALUS 29.9, microcode 843, on Lisp Machine Two:

Trying to do M-X View Directory on a LM: directory (well, LM2:AGRE; anyway)
gets an error [time Process ZMACS-WINDOWS got an error].  C-X D works, though.

Also, why is it that it is not possible to call, for example, the Reverse
Following List command by doing M-X Reverse Following List?  It says "not
on any key", which seems reasonable enough, but why should there be a command
that you can't call?  (Except by resetting the command table or similar hair,
that is.)  (I can think of one answer, that it makes the command completion
space too dense to be able to call the whole world, but this is really a dumb
answer, and besides, command completion refuses to complete Reverse with 
anything.)

Date: 8 February 1982 03:06-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 78.51, ZMail 38.5, Local-File 32.12, Experimental DAEDALUS 29.5, microcode 843, on Lisp Machine Two:

Doing M-X Fill Long Comment at the "@" in Lisp mode in the following
fills all three comments and not just the one where the cursor is:



(defun fact (n)
  (if ( n 2) 1 (* n (fact (1- n)))))

;;;
;;; Here is a table I don't want all messed up:
;;;   Code      Action
;;;   ----      ------
;;;
;;;   A         Eat
;;;   B         Suck
;;;   C         Bite
;;;

;;; This is just a bunch of random text.  I want @
;;; this stuff to be filled, but not the stuff around it.  Unfortunately,
;;; M-X Fill Long Comment
;;; isn't very smart about this.  It should realize that when you put a blank line between
;;; comments then that means that they are really separate comments.

;;; The format of a baz is (w1 w2 r1 r2) where
;;;       w1 is the first thing to write
;;;       w2        second
;;;       r1 is the first thing to read
;;;       r2        second


(defun traverse (sexp fn)
  (funcall fn sexp)
  (ifnot (atom sexp) (traverse (car sexp) fn) (traverse (cdr sexp) fn)))




This produces the following garbage:





(defun fact (n)
  (if ( n 2) 1 (* n (fact (1- n)))))

;;;
;;; Here is a table I don't want all messed up:    Code Action    ----
;;;------
;;;
;;;   A Eat    B Suck    C Bite
;;;

;;; This is just a bunch of random text.  I want @  this stuff to be
;;;filled, but not the stuff around it.  Unfortunately,  M-X Fill Long
;;;Comment  isn't very smart about this.  It should realize that when
;;;you put a blank line between  comments then that means that they are
;;;really separate comments.

;;; The format of a baz is (w1 w2 r1 r2) where        w1 is the first
;;;thing to write        w2 second        r1 is the first thing to read
;;;r2 second


(defun traverse (sexp fn)
  (funcall fn sexp)
  (ifnot (atom sexp) (traverse (car sexp) fn) (traverse (cdr sexp) fn)))





While I'm at it, it would be good if Fill Long Comment would notice that all my
comments have a space after the ";;;" and enforce this convention in the result.
This, of course, is not as big a point.        - phIl

Date: Sunday, 7 February 1982, 21:16-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In System 78.56, ZMail 38.5, microcode 849, on Lisp Machine Eighteen:

if c-s is Extended String Search, c-s c-s gets ``minibuffer
entered recursively'' which is reasonable except that something
gets deselected or something and anyway the whostate goes to NIL
and you generally lose.

Date: Sunday, 7 February 1982, 16:21-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Trace menu won't
To: ROBERT KERNS <RWK at SCRC-TENEX>
Cc: bug-zwei at SCRC-TENEX
In-reply-to: The message of 6 Feb 82 04:06-EST from ROBERT KERNS <RWK at SCRC-TENEX>

    Date: Saturday, 6 February 1982, 04:06-EST
    From: ROBERT KERNS <RWK at SCRC-TENEX>
    Subject: Trace menu won't
    To: BUG-zwei at SCRC-TENEX

    In zwei in Experimental System 202.12, Experimental ZMail 40.2,
    Experimental Tape 7.0, Experimental LMFS 22.3,
    Experimental Symbolics 9.0, Experimental Canon 10.0, microcode 854, on Retriever:

    Clicking on Print Before in the Trace menu TYI's from somewhere else
    than the Trace menu.
You didn't say that this was only in the m-x Trace command in the editor,
not in the Trace command in the system menu.

Anyway, it's fixed in the source not to assume that the caller has bound standard-input
and standard-output to their normal values.

Date: 6 February 1982 22:40-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In System 78.51, ZMail 38.5, Local-File 32.12, Experimental DAEDALUS 29.5, microcode 843, on Lisp Machine Two:

In these days of hardware flakiness, it would be nice to be able to
automatically keep redundant copies of one's files on two different file
systems, e.g., AI: and LM: or MC: and FS:.  I'm not sure how one would
express this information to zwei; perhaps in the mode line, -*-
Mode:Lisp, Devices:AI,FS -*-.  Saving a file with C-X C-S would save it
on both devices.  Moving to a file with C-X C-F would check all buffers
with that file's name regardless of device to see if that file is on
that device too.  Loading a "AI,FS" file from AI might cause the FS
version to be checked too and a warning given if they are inconsistent,
as determined by version numbers or times of creation.  Some
restrictions in filenames would probably be required; perhaps only
DIR;FNAME FIXNUM with no subdirectories etc. 

     - phiL

Date: Saturday, 6 February 1982, 13:21-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: MMcM at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX, bug-converse at SCRC-TENEX

Sorry, my previous diagnosis of Converse was not quite right.  The
problem has nothing to do with the blip.  The frame exposes itself as
soon as the top level process is started, because it sends an EDIT
message, and (:method editor :edit) does (redisplay-all-windows).  The
only inferior of the frame when it is created is a mode line window,
which is exposed.  I don't know who is creating the actual editor pane;
I don't understand the Zmacs-NWS interaction at all.

I also don't understand what happened to the Converse frame created by
the initialization in the file.  When you get a fresh system 202, there
is no active Converse frame in it.

Date: Saturday, 6 February 1982, 04:06-EST
From: ROBERT KERNS <RWK at SCRC-TENEX>
Subject: Trace menu won't
To: BUG-zwei at SCRC-TENEX

In zwei in Experimental System 202.12, Experimental ZMail 40.2,
Experimental Tape 7.0, Experimental LMFS 22.3,
Experimental Symbolics 9.0, Experimental Canon 10.0, microcode 854, on Retriever:

Clicking on Print Before in the Trace menu TYI's from somewhere else
than the Trace menu.

Date: Saturday, 6 February 1982, 03:25-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: dlw at SCRC-TENEX
Cc: BUG-ZWEI at SCRC-TENEX, bug-converse at SCRC-TENEX

    Date: Saturday, 6 February 1982, 01:52-EST
    From: Daniel L. Weinreb <dlw at SCRC-TENEX>
    OK, it is true that when you do the first QSEND, the Converse frame
    becomes selected.  This is because of the call to redisplay-all-windows
    in (:method editor :edit).  Apparently the blip that QSEND sends to
    the converse process causes editor redisplay to try to redisplay
    the frame and therefore expose the window.  This is really a problem
    of Converse and the editor disagreeing, and I don't know what to do about it.
Is the inferior exposed relative to the frame already?  If not, that may be the
problem.

Date: Friday, 5 February 1982  15:43-EST
From: HIC at SCRC-TENEX
to:   BUG-ZWEI at SCRC-TENEX
cc:   Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: Control-Hyper-D

I second this.  I would like C-H-D to act like C-H-A.

Date: Saturday, 6 February 1982, 01:52-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX, bug-converse at SCRC-TENEX

In ZWEI in Experimental System 202.9, Experimental ZMail 40.2,
Experimental Tape 7.0, Experimental LMFS 22.3,
Experimental Symbolics 9.0, Experimental Canon 10.0, microcode 854, on Beagle:

OK, it is true that when you do the first QSEND, the Converse frame
becomes selected.  This is because of the call to redisplay-all-windows
in (:method editor :edit).  Apparently the blip that QSEND sends to
the converse process causes editor redisplay to try to redisplay
the frame and therefore expose the window.  This is really a problem
of Converse and the editor disagreeing, and I don't know what to do about it.

Date: Friday, 5 February 1982, 16:11-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 202.8, Experimental ZMail 40.2,
Experimental Tape 7.0, Experimental LMFS 22.3,
Experimental Symbolics 9.0, Experimental Canon 10.0, microcode 854, on Beagle:

Describe Flavor should tell me what flavors this flavor "directly or indirectly"
depends on.  That is, it should tell me the expansion of which flavors are combined
in what order to form this flavor.  This is usually what I want to know, and
I have to use DESCRIBE to find out.

ZVONA@MIT-MC 02/06/82 00:47:55
To: (BUG zwei) at MIT-AI
In zwei in System 78.56, ZMail 38.5, Experimental Programmer's Apprentice 21.0, Experimental Dungeon 2.0, microcode 836, Very Experimental PA Band, on Lisp Machine Twenty-two:

The dired @ command undeletes the file.  Is this the
intended functionality?

Date: Friday, 5 February 1982, 10:47-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 202.8, Experimental ZMail 40.2,
Experimental Tape 7.0, Experimental LMFS 22.2,
Experimental Symbolics 9.0, Experimental Canon 10.0, microcode 854, on Beagle:

I would like Control-Hyper-D more if it were analogous to Control-Hyper-A;
that is, I'd like it to assume that the function you are in is the function
you want to know about, instead of prompting you and presenting it
as the default.  It seems clear that they should both work the same way,
and I think the c-h-A way is more useful than the c-h-D way in general.
There should be a long-named form for when you want to really specify the
name, or maybe a numeric argument should make it ask, or something.
In any case, they should be the same.

Date: Thursday, 4 February 1982, 12:44-EST
From: Matson at SCRC-POINTER
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in Experimental System 202.7, Experimental ZMail 40.2,
Experimental Tape 7.0, Experimental LMFS 22.1,
Experimental Symbolics 9.0, Experimental Canon 10.0, microcode 855, on Spaniel:

The following sequence will get you to the error handler in zwei.

Do m-x List Files.  This puts a mouse sensitive list of files on the screen.

Do m-x "anything", but don't type return

With the mini-buffer still selected, click on one of the displayed
file-names, Zwei will do a "find file" on it.  When the file finally
gets loaded, zwei dies trying to "make-buffer-current".  The problem is
that *interval* is not bound to a buffer and "make-buffer-current" dies
trying to store *mode-list* into it.

Date: Tuesday, 2 February 1982, 16:38-EST
From: David A. Moon <Moon at SCRC-TENEX>
To: BUG-zwei at SCRC-TENEX

In Experimental System 202.5, Experimental ZMail 40.1, microcode 854,
No LMFS, on Basset:

m-x Tags Search take-^H*^H^X-trap
(i.e. <some><any>) gives zwei:fsm-true undefined function

Date: Tuesday, 2 February 1982, 15:15-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: RICH at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 1 February 1982 17:13-EST
    From: Charles Rich <RICH at MIT-AI>
    In zwei in System 78.54, ZMail 38.5, Experimental Programmer's Apprentice 21.0, Experimental Dungeon 2.0, microcode 836, Very Experimental PA Band, on Lisp Machine Twenty-two:
    the Center Line command which is listed by "apropos center" cannot
    be called by M-X Center Line.
That's why Apropos didn't tell it could be invoked by M-X Center Line.

Date: Monday, 1 February 1982, 21:59-EST
From: ROBERT KERNS <RWK at SCRC-TENEX>
Subject: POINTER:>RWK>ZOPEN.LISP
To: BUG-ZWEI at SCRC-TENEX
In-reply-to: The message of 1 Feb 82 09:27-EST from Christopher C. Stacy <CStacy at MIT-AI>

    Date: 1 February 1982 09:27-EST
    From: Christopher C. Stacy <CStacy at MIT-AI>

	In POINTER:>RWK>ZOPEN.LISP....

    What software and all do I need to be able to read this file?
I forgot to say that there is a copy of the file in AI:RWK;ZOPEN >
as well for those at MIT.

Date: Monday, 1 February 1982, 21:15-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: Dead Rodents
To: Kent M. Pitman <KMP at MIT-MC>
Cc: HIC at SCRC-TENEX, MMCM at MIT-MC, MOON at MIT-MC, BUG-ZWEI at MIT-MC,
    ZVONA at MIT-AI
In-reply-to: The message of 31 Jan 82 18:43-EST from Kent M. Pitman <KMP at MIT-MC>

I cannot understand why you consider it acceptable to not
have a working mouse.  Certainly our customers expect that of
us.  Unlike the AI lab, we provide maintainance for our
hardware.  Why you as a user don't have the same expectation
of the AI lab, I cannot guess, but you should be directing
your complaints there for the best redress: a working mouse.

It is important enough to have a working mouse to justify
having several per machine if that's what it takes for the AI
lab to provide one working mouse per machine.


Date: Monday, 1 February 1982, 17:20-EST
From: David A. Moon <Moon at SCRC-TENEX>
To: BUG-ZWEI at SCRC-TENEX

In Experimental System 202.5, Experimental ZMail 40.1, microcode 854,
No LMFS, on Basset:

SI:SET-SYSTEM-SOURCE-FILE should add the system to Select System as Tag Table's
completion list.  I assume that the system definition file would then get loaded
transparently when it called SI:SYSTEM-SOURCE-FILES.

Date: 1 February 1982 17:13-EST
From: Charles Rich <RICH at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 78.54, ZMail 38.5, Experimental Programmer's Apprentice 21.0, Experimental Dungeon 2.0, microcode 836, Very Experimental PA Band, on Lisp Machine Twenty-two:

the Center Line command which is listed by "apropos center" cannot
be called by M-X Center Line.

Date: Monday, 1 February 1982, 00:33-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: Completing reader
To: BUG-zwei at SCRC-TENEX

In zwei in Experimental System 202.5, Experimental ZMail 40.1,
microcode 854, No LMFS, on Beagle:

It would be a feature if it treated period the way it treats space when
completing filenames and buffer names.  It would of course be best to
make this pathname-flavor-dependent, but I don't think that is at all
necessary.  Thus if I have FOO.LISP and FOOBAR.LISP and type
FOO <return> I get what I obviously must have meant, rather than a feep.

Date: 31 January 1982 18:43-EST
From: Kent M. Pitman <KMP at MIT-MC>
To: HIC at SCRC-TENEX
cc: MMCM at MIT-MC, MOON at MIT-MC, BUG-ZWEI at MIT-MC, ZVONA at MIT-AI

Mice break more often than keyboards. That's a fact. It is a pain when they
break. That's a fact. You cannot tell current and prospective customers
of your product that their problems are all in their heads. The problem is
real whether you choose to believe it or not. From a customer-relations 
point of view, it seems to me you'd be better off ignoring people's bug reports
than sending them replies like the one you just sent.


Date: Sunday, 31 January 1982  18:03-EST
From: HIC at SCRC-TENEX
To:   Kent M. Pitman <KMP at MIT-MC>
Cc:   BUG-ZWEI at MIT-MC, MMCM at MIT-MC, MOON at MIT-MC, ZVONA at MIT-MC
Subject: Kill or Save Buffers

I'm a little sick and tired of hearing people flame about broken mice.  I
have yet to hear someone say, "all of the useful keyboard functionality
should be on the mouse somewhere, because the keyboard breaks" or "the
hardware should have a mode where it doesn't use control memory, because
it breaks from time to time."  Foo!  The mouse is an integral part of the
user interface of the machine.  If it breaks, it should be fixed.  If they
are marginal, the AI Lab should find a better solution.  I am not willing
to accept alternative solutions that require (or permit) abandonment of 
the mouse.  I suspect there are no other systems that use mice that you 
could do anywhere near as well on without a mouse as you can on the Lispm.
So, other systems don't consider a useless mouse as a design consideration.


Date: Sunday, 31 January 1982, 15:35-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: OPEN-ZMACS-BUFFER
To: BUG-ZWEI at SCRC-TENEX

In POINTER:>RWK>ZOPEN.LISP there is a OPEN-ZMACS-BUFFER function (and a
WITH-OPEN-BUFFER macro), which tries to provide an interface to creating
INTERVAL-STREAMs parallel to the OPEN function.  I don't certify that it
is bug-free, but I solicit comments before installing it in the system.

Date: Sunday, 31 January 1982, 14:34-EST
From: Daniel L. Weinreb <dlw at SCRC-TENEX>
Subject: IF indentation
To: RWK at SCRC-TENEX, RMS at MIT-AI
Cc: BUG-ZWEI at MIT-AI

I don't know what the story is with the new system, but I really dislike
the new form and have a form in my init-file to turn it off.  I like to
use IF to illustrate similar construction in my then-form and else-form;
I cannot stand the style in which more than one else-form exists and
still wish it had never been implemented.  I just wanted to mention that
some of us prefer the old style.

Date: 31 January 1982 11:37-EST
From: Kent M. Pitman <KMP at MIT-MC>
Subject:  Kill or Save Buffers
To: MMCM at MIT-MC, ZVONA at MIT-MC, MOON at MIT-MC
cc: BUG-ZWEI at MIT-MC

    Date: Monday, 25 January 1982, 13:49-EST
    From: Mike McMahon <MMcM at SCRC-TENEX>

    Have you tried Kill or Save Buffers from the editor menu?
   -----
    Date: Monday, 25 January 1982, 09:10-EST
    From: David Chapman <Zvona at MIT-AI>

    you probably want Kill or Save Buffers.
   -----
    Date: Monday, 25 January 1982  03:38-EST
    From: MOON at SCRC-TENEX

    Use Kill or Save Buffers in the editor menu; it's by far the
    most winning way to save a lot of buffers.
   -----
This is useful, yes. It's what I am now using.

However, some things make sense as mouse-only things (eg, move-window)
and some things do not. When mice get flakey -- and they do -- it is hard
to be so happy about all the functionality that is tied up in mouseydom.
For any given good piece of mouse functionality that doesn't require the 
mouse, there should be a function you can call that gets you the equivalent
functionality off of the normal keyboard. In this case, I think that something
which does all the querying first a la Y-OR-N-P and then saves files is still
important and should be added at some point.

-kmp


Date: Sunday, 31 January 1982, 05:40-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: IF indentation
To: Richard M. Stallman <RMS at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 30 Jan 82 23:01-EST from Richard M. Stallman <RMS at MIT-AI>

    Date: 30 January 1982 23:01-EST
    From: Richard M. Stallman <RMS at MIT-AI>
    To: BUG-ZWEI at MIT-AI

    The special indentation for IF's else-clauses (two spaces in from the
    IF) has gone away.  Was this intentional?  I haven't seen any comments
    on this indentation style since it was installed in 78.  After trying it
    in 78, I really like it.
I agree.  Before it was installed I was always typing two rubouts since I
was too lazy to figure how to put it into my init file.

Date: 31 January 1982 03:39-EST
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-ZWEI at MIT-AI, RMS at MIT-AI

In zwei in Experimental System 79.0, Experimental ZMail 40.0,
Experimental LMFILE Remote 3.0, microcode 849, on Lisp Machine Six:

If M-X View Directory gets an error after switching windows,
as can easily happen for a nonexistent directory,
the error message does not display.  Instead it just notifies.
Then, if I type C-Abort, it gets another error.
I typed C-Abort again and got a third error.
Then I got the hint and did Terminal 0 S,
and saw that the error was "no catch for SI:COMMAND-LEVEL".
I was unable to make ZWEI function again.

There are two separate bugs here, one in EH and one in View File.
I'll fix the first one.

Date: Sunday, 31 January 1982, 02:06-EST
From: ROBERT KERNS <RWK at SCRC-SPANIEL>
To: BUG-ZWEI at SCRC-TENEX

In ZWEI in System 78.67, ZMail 38.8, Symbolics 8.15, Tape 6.5, LMFS 21.42, Canon 9.13, microcode 841, on Spaniel:

I got totally disgusted with COM-BUFFER-LIST scribbling all over my
screen with no suggestion of alignment.  Obviously it had been written
with ITS filename syntax in mind.  But when when to fix it I found
somebody else got grossed out first and already fixed it up.  But since
it still assumed buffer names were short, I hacked it to be a little
more clever about where it puts things horizontally.  It now aligns
things according to the longest buffer name, within fixed limits based
on window size.

Date: 30 January 1982 23:01-EST
From: Richard M. Stallman <RMS at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in Experimental System 79.0

The special indentation for IF's else-clauses (two spaces in from the
IF) has gone away.  Was this intentional?  I haven't seen any comments
on this indentation style since it was installed in 78.  After trying it
in 78, I really like it.

Date: 29 January 1982 23:00-EST
From: Carl Richard Feynman <CARLF at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.51, ZMail 38.5, Local-File 32.12, Experimental DAEDALUS 29.5, microcode 843, on Lisp Machine Two:

Attempting to do meta-x view directory on a nonexistent directory gets the 
editor stuck and does not close the stream.
						-- Carl

Date: Friday, 29 January 1982, 13:23-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: CARLF at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 29 January 1982 01:41-EST
    From: Carl Richard Feynman <CARLF at MIT-AI>
    In System 78.51, ZMail 38.5, Local-File 32.12, Experimental DAEDALUS 29.5, microcode 843, on Lisp Machine Two:
    Typing the sequence Help A ctl-H ctl-9 results in a state where typeout does not appear.
    One way to get out is to type System L.
Fixed in the source.

Date: Friday, 29 January 1982, 03:37-EST
From: Robert W. Kerns <RWK at SCRC-TENEX>
Subject: NIL in modeline
To: Carl Richard Feynman <CARLF at MIT-AI>
Cc: BUG-ZWEI at MIT-AI
In-reply-to: The message of 29 Jan 82 01:41-EST from Carl Richard Feynman <CARLF at MIT-AI>

    Date: 29 January 1982 01:41-EST
    From: Carl Richard Feynman <CARLF at MIT-AI>
    To: BUG-ZWEI at MIT-AI

    In System 78.51, ZMail 38.5, Local-File 32.12, Experimental DAEDALUS 29.5, microcode 843, on Lisp Machine Two:

    Typing the sequence Help A ctl-H ctl-9 results in a state where typeout does not appear.
    One way to get out is to type System L.
					    -- Carl
Another way to get out is just to mouse-select the main editor window.
I haven't checked, but I would guess that the APROPOS minibuffer is
selected, but covered by the typeout from the error message.

Date: 29 January 1982 01:41-EST
From: Carl Richard Feynman <CARLF at MIT-AI>
To: BUG-ZWEI at MIT-AI

In System 78.51, ZMail 38.5, Local-File 32.12, Experimental DAEDALUS 29.5, microcode 843, on Lisp Machine Two:

Typing the sequence Help A ctl-H ctl-9 results in a state where typeout does not appear.
One way to get out is to type System L.
					-- Carl

Date: Thursday, 28 January 1982, 16:27-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: MT at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 24 January 1982 14:43-EST
    From: Michael Travers <MT at MIT-AI>
    Clicking L2 on a deselected editor or ZMAIL pane should select it and move the
    cursor to the mouse.  
The variable zwei:*mouse-click-always-selects* controls whether commands select and
then have their normal action, or are ignored until the window is selected.

Date: 27 January 1982 13:01-EST
From: Eugene C. Ciccarelli <ECC at MIT-AI>
Subject: M-X Select All Buffers As Tag Table
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.52, ZMail 38.5, microcode 848, 60.45 Hz, on Lisp Machine Four:

After this command, List Tag Tables just listed that my
All-buffers tag table contains the following spurious buffers:

AI: ECC; * *     AI: ECC; NIL >     AI: ECC; NIL >

The first seems to be from my *Dired-1* buffer, and the others
from *Mail-1* and *Mail-2*.

The documentation for Select All Buffers As Tag Table is not very
precise, and I happily discovered that it was ignoring BUFFER-1
and Compiler Warnings.  Perhaps it should also be defined to
ignore the dired buffer -- maybe any *...* buffer?

Date: 27 January 1982 03:35-EST
From: Kent M. Pitman <kmp at MIT-AI>
Subject: C-M-F in comment fields...
To: BUG-ZWEI at MIT-AI

I find it very disconcerting that if the cursor is at the <> below:

   ;; <> (DEFUN F (X)
   ;;      (+ X 1))

   (DEFUN G (X) (- X 1))

that C-M-F takes me across the G definition. I would rather that you do
something like (ZWEI:BARF "Parens unbalanced on this comment line"), or
if you're really ambitious, look for matching parens in the comment area.
I assume your tokenizing thing makes that hard so I won't ask for that. But
I can say for sure that if I'm in front of a paren in a comment and do C-M-F
there is no time when I have ever meant that to mean get out of the comment 
then do C-M-F. If the cursor were before the ;;'s, going across the (DEFUN G...)
is fine, of course.

Date: Tuesday, 26 January 1982, 23:27-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
Subject: Electric Shift Lock Mode in Lisp Mode
To: dcb at MIT-AI
Cc: BUG-ZWEI at MIT-AI

    Date: 26 January 1982 21:13-EST
    From: Daniel Brotsky <dcb at MIT-AI>
    In ZWEI in System 78.51, ZMail 38.5, microcode 848, 60Hz, on Lisp Machine Four:
    In the editor in Lisp Electric Shift Lock Mode: in the middle of a string which
    extends over several lines (it documents a function), if the current line
    starts with an open paren `(' then Zwei inverts the sense of the shift lock;
    that is, things typed inside the string are capitalized and outside they are
    lower case.  This is "fixed" by moving the open paren off the beginning of the
    line.
If you have a ( in column zero of a string, you must slashify it.  This efficiency
hack in the editor is not likely to ever get fixed.

Date: 26 January 1982 21:13-EST
From: Daniel Brotsky <dcb at MIT-AI>
Subject: Electric Shift Lock Mode in Lisp Mode
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.51, ZMail 38.5, microcode 848, 60Hz, on Lisp Machine Four:
In the editor in Lisp Electric Shift Lock Mode: in the middle of a string which
extends over several lines (it documents a function), if the current line
starts with an open paren `(' then Zwei inverts the sense of the shift lock;
that is, things typed inside the string are capitalized and outside they are
lower case.  This is "fixed" by moving the open paren off the beginning of the
line.

Date: 25 January 1982 22:56-EST
From: Kent M. Pitman <kmp at MIT-AI>
To: ZVONA at MIT-AI
cc: MMCM at MIT-AI, BUG-ZWEI at MIT-AI

    Date: Saturday, 23 January 1982, 12:58-EST
    From: David Chapman <Zvona at MIT-AI>
    
	From: Mike McMahon <MMcM at SCRC-TENEX>

	    kmp@MIT-MC 01/22/82 03:07:20
	    Old *Dired-n* buffers that have been successfully Q'd from should 
            either go away since re-entering them makes little sense in the 
            state they are left in, or better still they might flush all the 
            D'd lines and allow you to reuse them.

	What is needed is a way to find out if a host supports undeletion.
	On hosts that do, the data structure would be correct (i.e. removing D's 
        from lines would offer to undelete the file.)

    The data structure may not be correct if other people are using
    the directory or if you have done other saves inbetween.

Actually, the data structure Dired has may not be correct even on the
first run. The probability of its being wrong goes up with time, but is
not interestingly related to whether you have Q'd out of Dired or not...

I'm not sure whether that makes your point more significant or less 
significant, however. Sigh.

-kmp

Date: Monday, 25 January 1982, 10:41-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 78.50, ZMail 38.5, Experimental Tester 19.4, microcode 836, on Lisp Machine Nineteen:

Macro Expand Sexp dies on (do nil (nil) (print nil)) thinking
that (nil) is a function call.

Date: Monday, 25 January 1982, 09:10-EST
From: David Chapman <Zvona at MIT-AI>
Subject: Buffer listings and Save All Files
To: kmp at MIT-AI, BUG-ZWEI at MIT-AI
In-reply-to: The message of 25 Jan 82 01:46-EST from Kent M. Pitman <kmp at MIT-AI>

you probably want Kill or Save Buffers.

Date: 25 January 1982 07:44-EST
From: Christopher C. Stacy <CStacy at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.44, ZMail 38.5, Local-File 32.7, microcode 843, CStacy special, on Lisp Machine Six:

Is there any sort of AutoSave in ZWEI?


Date: 25 January 1982 01:46-EST
From: Kent M. Pitman <kmp at MIT-AI>
Subject: Buffer listings and Save All Files
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.50, ... on Lisp Machine Twenty-two:

M-X Save All Files should first ask all the questions it's 
going to ask, then save the files, so the user is free to go away
for a while if it's going to take a long time. Either that, or
some other similar command should be supplied (maybe C-U M-X Save All Files)
could do this? 

It is not sufficient to have C-X C-B's mouse frob allow me to do this
because the mouse thing has the following misfeatures making it undesirable:

  * It is inexact. No feedback is given about which thing has been pointed at
    when it prompts for Save/Kill/... etc.

  * It does not confirm that you have moused the correct item of Save/Kill/etc.
    that you want.

  * It does not update the buffer listing to remove the * beside files that
    it has saved.

  * It does not mark buffers you have already submitted requests for, so you
    may end up trying to save a file redundantly, or you may accidentally miss
    marking one you meant to mark.

The menu also has the strange feature that if you mouse right and kill a buffer
and then mouse right to select it, it will get selected in spite of being
supposedly dead. After leaving this dead buffer, C-M-L will still reselect it
even though it is not in the buffer listing. This leads me to believe that dead 
buffers still live somewhere in core ... If this is so and the storage they take
up really is not being recycled, perhaps there should be a list of dead buffers
and an Un-Kill Buffer command for cases where mistakes have been made and buffers
killed by accident.

Date: 24 January 1982 14:43-EST
From: Michael Travers <MT at MIT-AI>
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.42, ZMail 38.5, Local-File 32.5, Experimental DAEDALUS 29.1, microcode 843, on Lisp Machine Two:

Clicking L2 on a deselected editor or ZMAIL pane should select it and move the
cursor to the mouse.  

Date: Friday, 22 January 1982, 02:29-EST
From: David A. Moon <Moon at SCRC-TENEX>
Subject: c-m-E not working when it should
To: BUG-zwei at SCRC-TENEX

In zwei in System 78.58, ZMail 38.5, Symbolics 8.13, Tape 6.5, LMFS
21.39, Canon 9.12, microcode 841, on Terrier:

If the cursor is on the first character of a function definition (i.e.
an open parenthesis in column 1), and the previous function definition
has unbalanced parentheses (typically because it is half-written),
then the c-m-E command does not work (feeps).  This is because c-m-A
would go to the beginning of the previous definition, rather than
leaving the cursor where it is.

Emacs has the same bug, but I don't think that makes it less of a bug.
Probably rather than doing what c-m-A would, c-m-E should only move
backwards over comments and blank lines looking for another line with
a parenthesis in the first column.

Date: Friday, 22 January 1982, 18:15-EST
From: Bernard S Greenberg <BSG at SCRC-TENEX>
To: bug-zwei at SCRC-TENEX

Update Mode Line doesn't seem to respect the comment-end string, in PL1 mode.

Date: 23 January 1982 17:00-EST
From: Robert P. Krajewski <RpK at MIT-AI>
Subject: New Dired Feature Bug
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.48, ZMail 38.5, microcode 836, 60.45Hz, on Lisp Machine Nine:

Typing `E' in front of a directory barfs on a File Not Found Error (for Twenex, anyway).  If
you give *.*.* when it asks you to `use what pathname instead,' the command wins.

Date: Saturday, 23 January 1982, 12:58-EST
From: David Chapman <Zvona at MIT-AI>
To: MMcM at SCRC-TENEX, bug-zwei at SCRC-TENEX
Cc: kmp at MIT-MC
In-reply-to: The message of 22 Jan 82 13:47-EST from Mike McMahon <MMcM at SCRC-TENEX>


    From: Mike McMahon <MMcM at SCRC-TENEX>
	kmp@MIT-MC 01/22/82 03:07:20
	Old *Dired-n* buffers that have been successfully Q'd from should either go away 
	since re-entering them makes little sense in the state they are left in, or better
	still they might flush all the D'd lines and allow you to reuse them.
    What is needed is a way to find out if a host supports undeletion.
    On hosts that do, the data structure would be correct (i.e. removing D's from lines would
    offer to undelete the file.)
The data structure may not be correct if other people are using
the directory or if you have done other saves inbetween.

Date: 22 January 1982 19:17-EST
From: Robert P. Krajewski <RpK at MIT-AI>
Subject: Suggestion
To: BUG-ZWEI at MIT-AI

In Zwei in System 78.34, ZMail 38.5, Experimental Macsyma 22.0, microcode 836, Macsyma, on Lisp Machine Ten:

It would be nice if ZWEI could interact with functions that have been defined only in the
interpreter.  In other words, you should be able to do:

  (defun foo (bar) .... )
  (ed 'foo)

and have ZWEI put you in a buffer (in Lisp mode, of course) called "FOO's definition" or
something like that, with the function definition GRINDEF'ed out.  Of course, it wouldn't
exactly the right thing for DEFMACROs.

bob

Date: 22 January 1982 14:34-EST
From: David L. Andre <DLA at MIT-AI>
Subject: Lisp mode by default.
To: NEVES at MIT-AI
cc: BUG-ZWEI at MIT-AI, BUG-LISPM at MIT-AI, DLA at MIT-AI

    Date: 21 January 1982 15:09-EST
    From: David M. Neves <NEVES at MIT-AI>
    To: BUG-ZWEI at MIT-AI, BUG-LISPM at MIT-AI

    In zwei in System 78.34, ZMail 38.5, microcode 836, " VAX", on Lisp Machine Twenty:

    I was reading in ai:lmdoc;bug lispm into the editor and after
    56% of it was read in I got the following error:

    >> error: The argument function-spec was NIL, while in
    SI:function-spec-get <- Zwei:sectionize-buffer <-
    Zwei:sectionize-buffer

    It happened a couple of times.

I have always been skeptical of the wisdom of having the editor come up
in lisp mode by default in files which don't have either a "LISP" type
or a -*-Mode: Lisp-*-.  These problems will always arise as long as
this is the case.

Date: Friday, 22 January 1982, 13:47-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: bug-zwei at SCRC-TENEX
Cc: kmp at MIT-MC

    kmp@MIT-MC 01/22/82 03:07:20
    Old *Dired-n* buffers that have been successfully Q'd from should either go away 
    since re-entering them makes little sense in the state they are left in, or better
    still they might flush all the D'd lines and allow you to reuse them.
What is needed is a way to find out if a host supports undeletion.
On hosts that do, the data structure would be correct (i.e. removing D's from lines would
offer to undelete the file.)

kmp@MIT-MC 01/22/82 03:07:20
To: (BUG ZWEI) at MIT-MC
Old *Dired-n* buffers that have been successfully Q'd from should either go away 
since re-entering them makes little sense in the state they are left in, or better
still they might flush all the D'd lines and allow you to reuse them.
-kmp


Date: Thursday, 21 January 1982, 18:39-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 78.48, ZMail 38.5, Experimental Tester 18.28, microcode 836, on Lisp Machine Twenty-two:

It confuses me and other people I have watched that when you
abort out of incremental search the ``I-Search:'' prompt does not
go away.  It is a little gross, but I think this should be
special cased to be removed immediately rather than on the next
refresh. 

MOON@MIT-MC 01/21/82 18:13:48 Re:  apropros function only for functions
To: Daniel at MIT-AI
CC: (BUG ZWEI) at MIT-MC
Perhaps you want the m-X Function Apropos editor command?

Date: 21 January 1982 15:09-EST
From: David M. Neves <NEVES at MIT-AI>
To: BUG-ZWEI at MIT-AI, BUG-LISPM at MIT-AI

In zwei in System 78.34, ZMail 38.5, microcode 836, " VAX", on Lisp Machine Twenty:

I was reading in ai:lmdoc;bug lispm into the editor and after
56% of it was read in I got the following error:

>> error: The argument function-spec was NIL, while in
SI:function-spec-get <- Zwei:sectionize-buffer <-
Zwei:sectionize-buffer

It happened a couple of times.


--------------------------------------------------

Just after I typed the above I tried to mail it.  I was logged
into the VAX at the time and it went down.  After hitting END to
mail it I got the following error -  MIT-VAX connection lost (or
something like that)
while in the function
 (Method fs:host-unit validate-control connection) <- (method
fs:file-host-mixin get-host-unit) <- fs:homedir-chaos

Is there a good reason for generating an error in MAIL if the
logged in machine dies?  

Date: 21 January 1982 03:54-EST
From: Howard I. Cannon <HIC at MIT-MC>
To: AGRE at MIT-AI
cc: BUG-ZWEI at MIT-AI

    Can't the mouse be a little, no, a lot smarter about when it flashes?  Yes I know I
    can put the mouse on the bottom of the screen, but that seems like an unnecessary
    inconvenience.    - phIl
You willing to have output take twice as long?


Date: Tuesday, 19 January 1982, 18:35-EST
From:  <Moon at SCRC-POINTER>
To: BUG-zwei at SCRC-TENEX, bug-lmfs at SCRC-POINTER

In zwei in System 78.51, ZMail 38.5, Symbolics 8.13, Tape 6.5, LMFS
21.36, Canon 9.11, microcode 841, on Terrier:

I tried to read in <POINTER:>LMWIN>COLD.LISP, which bombed out for the usual
reason that it does occasionally (namely it has in it "methods" for a "flavor"
whose flavor property is T.)  I decided to call that a bug in the flavor system
and fixed it (again), however when I went to read in the file again it showed
up another bug in someone.  I won't bother making the flavor fix a patch.

The symbol I was meta-.'ing had acquired a ZMACS-BUFFERS property, however the
buffer was not in the known buffers since it had never finished reading in.
DEFINITION-TEXT-LOCATION called FIND-FILE on the BUFFER-NAME (rather than
the BUFFER-PATHNAME).  This works on every file system but the Symbolics one,
which refuses to parse its string-for-editor as a valid pathname, which is
why it wasn't ever noticed before.  I'm not sure whether to call this a bug
in definition-text-location for using the wrong form of the filename, or a bug
in lmfs because there might be reasons that it needed to use that form of
the filename.

Date: Tuesday, 19 January 1982, 19:28-EST
From: Mike McMahon <MMcM at SCRC-TENEX>
To: Moon at SCRC-POINTER
Cc: BUG-zwei at SCRC-TENEX, bug-lmfs at SCRC-TENEX

    Date: Tuesday, 19 January 1982, 18:35-EST
    From:  <Moon at SCRC-POINTER>
    In zwei in System 78.51, ZMail 38.5, Symbolics 8.13, Tape 6.5, LMFS
    21.36, Canon 9.11, microcode 841, on Terrier:
    The symbol I was meta-.'ing had acquired a ZMACS-BUFFERS property, however the
    buffer was not in the known buffers since it had never finished reading in.
    DEFINITION-TEXT-LOCATION called FIND-FILE on the BUFFER-NAME (rather than
    the BUFFER-PATHNAME).  This works on every file system but the Symbolics one,
    which refuses to parse its string-for-editor as a valid pathname, which is
    why it wasn't ever noticed before.  I'm not sure whether to call this a bug
    in definition-text-location for using the wrong form of the filename, or a bug
    in lmfs because there might be reasons that it needed to use that form of
    the filename.
I made it use the BUFFER-PATHNAME when it can.

Date: 19 January 1982 02:39-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 78.42, ZMail 38.5, Local-File 32.5, Experimental DAEDALUS 29.1, microcode 843, on Lisp Machine Eight:

With the cursor after the final ".", M-A moves to just before the first ".":

.sp 1L
.ne 5
3What about the bad apples?*
.sp 1L
     Dependencies really are a gift from heaven.

Date: 18 January 1982 05:14-EST
From: Philip E. Agre <AGRE at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 78.40, ZMail 38.5, Local-File 32.4, Experimental DAEDALUS 29.1, microcode 843, Daed 29.1, on Lisp Machine Two:

Perhaps my peripheral vision is unusually sensitive, but I am driven to distraction
by the mouse flashing away in some far corner of the screen every time I type a
character.  I have been told why this happens, something about avoiding funny overtypings
or having the mouse get in the way of something.  But so far as I can see, there is
no reason why the mouse should flash if it is 10 character-spaces and 10 lines away
from the cursor and all that is happening is the typing of self-entering characters.
Can't the mouse be a little, no, a lot smarter about when it flashes?  Yes I know I
can put the mouse on the bottom of the screen, but that seems like an unnecessary
inconvenience.    - phIl

Date: 18 January 1982 02:04-EST
From: Daniel Weise <Daniel at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 78.40, ZMail 38.5, Local-File 32.4, Experimental DAEDALUS 29.1, microcode 843, Daed 29.1, on Lisp Machine Two:

Can there be created a version of APROPOS, say FAPROPOS, that only prints out atoms
with function definitions?  When one is looking for a function, it is a pain to have
to wade through a thousand local variables that aren't even bound.

Date: 18 January 1982 02:03-EST
From: Daniel Weise <Daniel at MIT-AI>
Subject: Zmacs local modes page?
To: BUG-ZWEI at MIT-AI

In zwei in System 78.40, ZMail 38.5, Local-File 32.4, Experimental DAEDALUS 29.1, microcode 843, Daed 29.1, on Lisp Machine Two:

Can Zmacs be made to read the local modes page at the end of the file that Emacs
knows about?  Perhaps something could be put in the mode line to make it do this.

Date: Sunday, 17 January 1982, 13:24-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 78.44, ZMail 38.5, Experimental Tester 18.15, microcode 836, on Lisp Machine Twenty-two:

The following
(defun find-comment-lines-after-defun (zwei:section)
  (do (zwei:(line (line-next (section-node-defun-line section)) (line-next line))
	    (string ""))
Indents as above, rather than as
(defun find-comment-lines-after-defun (zwei:section)
  (do (zwei:(line (line-next (section-node-defun-line section)) (line-next line))
       (string ""))
Probably this is the same bug as c-m-f not going over package prefixes before opens.

Date: Saturday, 16 January 1982, 10:06-EST
From: Daniel L. Weinreb <DLW at MIT-AI>
To: RICH at MIT-AI, BUG-ZWEI at MIT-AI

    Date: 15 January 1982 12:34-EST
    From: Charles Rich <RICH at MIT-AI>
    Tiny suggestion:  Meta-Point ought to prompt with "Edit Definition"
    instead of "Edit Function".
I agree, especially given the name of the Meta-. command. Furthermore,
the List Functions command should be renamed to List Definitions.

Date: 15 January 1982 12:34-EST
From: Charles Rich <RICH at MIT-AI>
To: BUG-ZWEI at MIT-AI

In zwei in System 78.42, ZMail 38.5, microcode 836, on Lisp Machine Twenty-two:

Tiny suggestion:  Meta-Point ought to prompt with "Edit Definition"
instead of "Edit Function".

Date: Wednesday, 13 January 1982, 18:13-EST
From: Daniel L. Weinreb <DLW at MIT-AI>
Subject: pushing points
To: CARLF at MIT-AI, BUG-ZWEI at MIT-AI

The cryptic "Point Pushed" message is the new version of the non-cryptic
"^@" message.  The message means that Point has been Pushed onto the
point stack.  The new message is intended to be more cryptic and
confusing than the old one.

Date: Tuesday, 12 January 1982, 21:14-EST
From: David Chapman <Zvona at MIT-AI>
To: BUG-zwei at MIT-AI

In zwei in System 78.40, ZMail 38.5, Experimental Programmer's Apprentice (Aux) 11.0, Experimental Programmer's Apprentice 11.0, Experimental Dungeon 1.0, microcode 836, Demo with PLI, on Lisp Machine Twenty-two:

Type break rubout resume.  It echoes a litteral <resume>.  Or is
this some sort of feature?

Date: 12 January 1982 20:03-EST
From: Carl Richard Feynman <CARLF at MIT-AI>
Subject: pushing points
To: BUG-ZWEI at MIT-AI

In ZWEI in System 78.40, ZMail 38.5, microcode 843, CStacy special, on Lisp Machine Six:

What is the meaning of the cryptic "Point Pushed" which has been appearing 
at the bottom of the screen of late?
					-- Carl

